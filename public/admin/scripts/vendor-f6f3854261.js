/**
 * mnoe-frontend-admin - MnoEnterprise Admin Panel
 * @version v2.0.0-dev
 * @git git@github.com:maestrano/mnoe-admin-panel.git
 */
/*!
 * jQuery JavaScript Library v3.1.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2016-09-22T22:30Z
 */
function stripHtmlToText(e){var t=document.createElement("DIV");t.innerHTML=e;var n=t.textContent||t.innerText||"";return n.replace("​",""),n=n.trim()}function getDomFromHtml(e){var t=document.createElement("DIV");return t.innerHTML=e,t}function validElementString(e){try{return 0!==angular.element(e).length}catch(e){return!1}}function registerTextAngularTool(e,t){if(!e||""===e||taTools.hasOwnProperty(e))throw"textAngular Error: A unique name is required for a Tool Definition";if(t.display&&(""===t.display||!validElementString(t.display))||!t.display&&!t.buttontext&&!t.iconclass)throw'textAngular Error: Tool Definition for "'+e+'" does not have a valid display/iconclass/buttontext value';taTools[e]=t}!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t){t=t||te;var n=t.createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function i(e){var t=!!e&&"length"in e&&e.length,n=pe.type(e);return"function"!==n&&!pe.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function r(e,t,n){return pe.isFunction(t)?pe.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?pe.grep(e,function(e){return e===t!==n}):"string"!=typeof t?pe.grep(e,function(e){return oe.call(t,e)>-1!==n}):ke.test(t)?pe.filter(t,e,n):(t=pe.filter(t,e),pe.grep(e,function(e){return oe.call(t,e)>-1!==n&&1===e.nodeType}))}function a(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t={};return pe.each(e.match(Te)||[],function(e,n){t[n]=!0}),t}function s(e){return e}function l(e){throw e}function c(e,t,n){var i;try{e&&pe.isFunction(i=e.promise)?i.call(e).done(t).fail(n):e&&pe.isFunction(i=e.then)?i.call(e,t,n):t.call(void 0,e)}catch(e){n.call(void 0,e)}}function u(){te.removeEventListener("DOMContentLoaded",u),e.removeEventListener("load",u),pe.ready()}function d(){this.expando=pe.expando+d.uid++}function h(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Re.test(e)?JSON.parse(e):e)}function p(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(Ne,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=h(n)}catch(e){}Ie.set(e,t,n)}else n=void 0;return n}function f(e,t,n,i){var r,a=1,o=20,s=i?function(){return i.cur()}:function(){return pe.css(e,t,"")},l=s(),c=n&&n[3]||(pe.cssNumber[t]?"":"px"),u=(pe.cssNumber[t]||"px"!==c&&+l)&&Fe.exec(pe.css(e,t));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do{a=a||".5",u/=a,pe.style(e,t,u+c)}while(a!==(a=s()/l)&&1!==a&&--o)}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}function g(e){var t,n=e.ownerDocument,i=e.nodeName,r=We[i];return r||(t=n.body.appendChild(n.createElement(i)),r=pe.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),We[i]=r,r)}function m(e,t){for(var n,i,r=[],a=0,o=e.length;a<o;a++)i=e[a],i.style&&(n=i.style.display,t?("none"===n&&(r[a]=Pe.get(i,"display")||null,r[a]||(i.style.display="")),""===i.style.display&&je(i)&&(r[a]=g(i))):"none"!==n&&(r[a]="none",Pe.set(i,"display",n)));for(a=0;a<o;a++)null!=r[a]&&(e[a].style.display=r[a]);return e}function v(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&pe.nodeName(e,t)?pe.merge([e],n):n}function b(e,t){for(var n=0,i=e.length;n<i;n++)Pe.set(e[n],"globalEval",!t||Pe.get(t[n],"globalEval"))}function y(e,t,n,i,r){for(var a,o,s,l,c,u,d=t.createDocumentFragment(),h=[],p=0,f=e.length;p<f;p++)if((a=e[p])||0===a)if("object"===pe.type(a))pe.merge(h,a.nodeType?[a]:a);else if(Ye.test(a)){for(o=o||d.appendChild(t.createElement("div")),s=(Ve.exec(a)||["",""])[1].toLowerCase(),l=qe[s]||qe._default,o.innerHTML=l[1]+pe.htmlPrefilter(a)+l[2],u=l[0];u--;)o=o.lastChild;pe.merge(h,o.childNodes),o=d.firstChild,o.textContent=""}else h.push(t.createTextNode(a));for(d.textContent="",p=0;a=h[p++];)if(i&&pe.inArray(a,i)>-1)r&&r.push(a);else if(c=pe.contains(a.ownerDocument,a),o=v(d.appendChild(a),"script"),c&&b(o),n)for(u=0;a=o[u++];)Ue.test(a.type||"")&&n.push(a);return d}function w(){return!0}function x(){return!1}function _(){try{return te.activeElement}catch(e){}}function k(e,t,n,i,r,a){var o,s;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(s in t)k(e,s,n,i,t[s],a);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=x;else if(!r)return e;return 1===a&&(o=r,r=function(e){return pe().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=pe.guid++)),e.each(function(){pe.event.add(this,t,r,i,n)})}function C(e,t){return pe.nodeName(e,"table")&&pe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e:e}function S(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function $(e){var t=tt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function D(e,t){var n,i,r,a,o,s,l,c;if(1===t.nodeType){if(Pe.hasData(e)&&(a=Pe.access(e),o=Pe.set(t,a),c=a.events)){delete o.handle,o.events={};for(r in c)for(n=0,i=c[r].length;n<i;n++)pe.event.add(t,r,c[r][n])}Ie.hasData(e)&&(s=Ie.access(e),l=pe.extend({},s),Ie.set(t,l))}}function T(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Be.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function E(e,t,i,r){t=re.apply([],t);var a,o,s,l,c,u,d=0,h=e.length,p=h-1,f=t[0],g=pe.isFunction(f);if(g||h>1&&"string"==typeof f&&!he.checkClone&&et.test(f))return e.each(function(n){var a=e.eq(n);g&&(t[0]=f.call(this,n,a.html())),E(a,t,i,r)});if(h&&(a=y(t,e[0].ownerDocument,!1,e,r),o=a.firstChild,1===a.childNodes.length&&(a=o),o||r)){for(s=pe.map(v(a,"script"),S),l=s.length;d<h;d++)c=a,d!==p&&(c=pe.clone(c,!0,!0),l&&pe.merge(s,v(c,"script"))),i.call(e[d],c,d);if(l)for(u=s[s.length-1].ownerDocument,pe.map(s,$),d=0;d<l;d++)c=s[d],Ue.test(c.type||"")&&!Pe.access(c,"globalEval")&&pe.contains(u,c)&&(c.src?pe._evalUrl&&pe._evalUrl(c.src):n(c.textContent.replace(nt,""),u))}return e}function M(e,t,n){for(var i,r=t?pe.filter(t,e):e,a=0;null!=(i=r[a]);a++)n||1!==i.nodeType||pe.cleanData(v(i)),i.parentNode&&(n&&pe.contains(i.ownerDocument,i)&&b(v(i,"script")),i.parentNode.removeChild(i));return e}function A(e,t,n){var i,r,a,o,s=e.style;return n=n||at(e),n&&(o=n.getPropertyValue(t)||n[t],""!==o||pe.contains(e.ownerDocument,e)||(o=pe.style(e,t)),!he.pixelMarginRight()&&rt.test(o)&&it.test(t)&&(i=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=r,s.maxWidth=a)),void 0!==o?o+"":o}function O(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function P(e){if(e in ut)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=ct.length;n--;)if((e=ct[n]+t)in ut)return e}function I(e,t,n){var i=Fe.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function R(e,t,n,i,r){var a,o=0;for(a=n===(i?"border":"content")?4:"width"===t?1:0;a<4;a+=2)"margin"===n&&(o+=pe.css(e,n+ze[a],!0,r)),i?("content"===n&&(o-=pe.css(e,"padding"+ze[a],!0,r)),"margin"!==n&&(o-=pe.css(e,"border"+ze[a]+"Width",!0,r))):(o+=pe.css(e,"padding"+ze[a],!0,r),"padding"!==n&&(o+=pe.css(e,"border"+ze[a]+"Width",!0,r)));return o}function N(e,t,n){var i,r=!0,a=at(e),o="border-box"===pe.css(e,"boxSizing",!1,a);if(e.getClientRects().length&&(i=e.getBoundingClientRect()[t]),i<=0||null==i){if(i=A(e,t,a),(i<0||null==i)&&(i=e.style[t]),rt.test(i))return i;r=o&&(he.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+R(e,t,n||(o?"border":"content"),r,a)+"px"}function L(e,t,n,i,r){return new L.prototype.init(e,t,n,i,r)}function F(){ht&&(e.requestAnimationFrame(F),pe.fx.tick())}function z(){return e.setTimeout(function(){dt=void 0}),dt=pe.now()}function j(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)n=ze[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function H(e,t,n){for(var i,r=(V.tweeners[t]||[]).concat(V.tweeners["*"]),a=0,o=r.length;a<o;a++)if(i=r[a].call(n,t,e))return i}function W(e,t,n){var i,r,a,o,s,l,c,u,d="width"in t||"height"in t,h=this,p={},f=e.style,g=e.nodeType&&je(e),v=Pe.get(e,"fxshow");n.queue||(o=pe._queueHooks(e,"fx"),null==o.unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,h.always(function(){h.always(function(){o.unqueued--,pe.queue(e,"fx").length||o.empty.fire()})}));for(i in t)if(r=t[i],pt.test(r)){if(delete t[i],a=a||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;g=!0}p[i]=v&&v[i]||pe.style(e,i)}if((l=!pe.isEmptyObject(t))||!pe.isEmptyObject(p)){d&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],c=v&&v.display,null==c&&(c=Pe.get(e,"display")),u=pe.css(e,"display"),"none"===u&&(c?u=c:(m([e],!0),c=e.style.display||c,u=pe.css(e,"display"),m([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===pe.css(e,"float")&&(l||(h.done(function(){f.display=c}),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1;for(i in p)l||(v?"hidden"in v&&(g=v.hidden):v=Pe.access(e,"fxshow",{display:c}),a&&(v.hidden=!g),g&&m([e],!0),h.done(function(){g||m([e]),Pe.remove(e,"fxshow");for(i in p)pe.style(e,i,p[i])})),l=H(g?v[i]:0,i,h),i in v||(v[i]=l.start,g&&(l.end=l.start,l.start=0))}}function B(e,t){var n,i,r,a,o;for(n in e)if(i=pe.camelCase(n),r=t[i],a=e[n],pe.isArray(a)&&(r=a[1],a=e[n]=a[0]),n!==i&&(e[i]=a,delete e[n]),(o=pe.cssHooks[i])&&"expand"in o){a=o.expand(a),delete e[i];for(n in a)n in e||(e[n]=a[n],t[n]=r)}else t[i]=r}function V(e,t,n){var i,r,a=0,o=V.prefilters.length,s=pe.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=dt||z(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,a=1-i,o=0,l=c.tweens.length;o<l;o++)c.tweens[o].run(a);return s.notifyWith(e,[c,a,n]),a<1&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:pe.extend({},t),opts:pe.extend(!0,{specialEasing:{},easing:pe.easing._default},n),originalProperties:t,originalOptions:n,startTime:dt||z(),duration:n.duration,tweens:[],createTween:function(t,n){var i=pe.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(B(u,c.opts.specialEasing);a<o;a++)if(i=V.prefilters[a].call(c,e,u,c.opts))return pe.isFunction(i.stop)&&(pe._queueHooks(c.elem,c.opts.queue).stop=pe.proxy(i.stop,i)),i;return pe.map(u,H,c),pe.isFunction(c.opts.start)&&c.opts.start.call(e,c),pe.fx.timer(pe.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function U(e){return(e.match(Te)||[]).join(" ")}function q(e){return e.getAttribute&&e.getAttribute("class")||""}function Y(e,t,n,i){var r;if(pe.isArray(t))pe.each(t,function(t,r){n||Ct.test(e)?i(e,r):Y(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==pe.type(t))i(e,t);else for(r in t)Y(e+"["+r+"]",t[r],n,i)}function K(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,a=t.toLowerCase().match(Te)||[];if(pe.isFunction(n))for(;i=a[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function G(e,t,n,i){function r(s){var l;return a[s]=!0,pe.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||o||a[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var a={},o=e===Nt;return r(t.dataTypes[0])||!a["*"]&&r("*")}function X(e,t){var n,i,r=pe.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&pe.extend(!0,e,i),e}function J(e,t,n){for(var i,r,a,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)a=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){a=r;break}o||(o=r)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),n[a]}function Z(e,t,n,i){var r,a,o,s,l,c={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(a=u.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=c[l+" "+a]||c["* "+a]))for(r in c)if(s=r.split(" "),s[1]===a&&(o=c[l+" "+s[0]]||c["* "+s[0]])){!0===o?o=c[r]:!0!==c[r]&&(a=s[0],u.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}function Q(e){return pe.isWindow(e)?e:9===e.nodeType&&e.defaultView}var ee=[],te=e.document,ne=Object.getPrototypeOf,ie=ee.slice,re=ee.concat,ae=ee.push,oe=ee.indexOf,se={},le=se.toString,ce=se.hasOwnProperty,ue=ce.toString,de=ue.call(Object),he={},pe=function(e,t){return new pe.fn.init(e,t)},fe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ge=/^-ms-/,me=/-([a-z])/g,ve=function(e,t){return t.toUpperCase()};pe.fn=pe.prototype={jquery:"3.1.1",constructor:pe,length:0,toArray:function(){return ie.call(this)},get:function(e){return null==e?ie.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=pe.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return pe.each(this,e)},map:function(e){return this.pushStack(pe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ie.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ae,sort:ee.sort,splice:ee.splice},pe.extend=pe.fn.extend=function(){var e,t,n,i,r,a,o=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[s]||{},s++),"object"==typeof o||pe.isFunction(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=o[t],i=e[t],o!==i&&(c&&i&&(pe.isPlainObject(i)||(r=pe.isArray(i)))?(r?(r=!1,a=n&&pe.isArray(n)?n:[]):a=n&&pe.isPlainObject(n)?n:{},o[t]=pe.extend(c,a,i)):void 0!==i&&(o[t]=i));return o},pe.extend({expando:"jQuery"+("3.1.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===pe.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=pe.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==le.call(e))&&(!(t=ne(e))||"function"==typeof(n=ce.call(t,"constructor")&&t.constructor)&&ue.call(n)===de)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?se[le.call(e)]||"object":typeof e},globalEval:function(e){n(e)},camelCase:function(e){return e.replace(ge,"ms-").replace(me,ve)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(i(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(fe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?pe.merge(n,"string"==typeof e?[e]:e):ae.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:oe.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,a=e.length,o=!n;r<a;r++)!t(e[r],r)!==o&&i.push(e[r]);return i},map:function(e,t,n){var r,a,o=0,s=[];if(i(e))for(r=e.length;o<r;o++)null!=(a=t(e[o],o,n))&&s.push(a);else for(o in e)null!=(a=t(e[o],o,n))&&s.push(a);return re.apply([],s)},guid:1,proxy:function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),pe.isFunction(e))return i=ie.call(arguments,2),r=function(){return e.apply(t||this,i.concat(ie.call(arguments)))},r.guid=e.guid=e.guid||pe.guid++,r},now:Date.now,support:he}),"function"==typeof Symbol&&(pe.fn[Symbol.iterator]=ee[Symbol.iterator]),pe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){se["[object "+t+"]"]=t.toLowerCase()});var be=/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(e){function t(e,t,n,i){var r,a,o,s,l,u,h,p=t&&t.ownerDocument,f=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return n;if(!i&&((t?t.ownerDocument||t:z)!==A&&M(t),t=t||A,P)){if(11!==f&&(l=ge.exec(e)))if(r=l[1]){if(9===f){if(!(o=t.getElementById(r)))return n;if(o.id===r)return n.push(o),n}else if(p&&(o=p.getElementById(r))&&L(t,o)&&o.id===r)return n.push(o),n}else{if(l[2])return X.apply(n,t.getElementsByTagName(e)),n;if((r=l[3])&&w.getElementsByClassName&&t.getElementsByClassName)return X.apply(n,t.getElementsByClassName(r)),n}if(w.qsa&&!V[e+" "]&&(!I||!I.test(e))){if(1!==f)p=t,h=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(ye,we):t.setAttribute("id",s=F),u=C(e),a=u.length;a--;)u[a]="#"+s+" "+d(u[a]);h=u.join(","),p=me.test(e)&&c(t.parentNode)||t}if(h)try{return X.apply(n,p.querySelectorAll(h)),n}catch(e){}finally{s===F&&t.removeAttribute("id")}}}return $(e.replace(ae,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[F]=!0,e}function r(e){var t=A.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function a(e,t){for(var n=e.split("|"),i=n.length;i--;)x.attrHandle[n[i]]=t}function o(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&_e(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function l(e){return i(function(t){return t=+t,i(function(n,i){for(var r,a=e([],n.length,t),o=a.length;o--;)n[r=a[o]]&&(n[r]=!(i[r]=n[r]))})})}function c(e){return e&&void 0!==e.getElementsByTagName&&e}function u(){}function d(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function h(e,t,n){var i=t.dir,r=t.next,a=r||i,o=n&&"parentNode"===a,s=H++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||o)return e(t,n,r);return!1}:function(t,n,l){var c,u,d,h=[j,s];if(l){for(;t=t[i];)if((1===t.nodeType||o)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||o)if(d=t[F]||(t[F]={}),u=d[t.uniqueID]||(d[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=u[a])&&c[0]===j&&c[1]===s)return h[2]=c[2];if(u[a]=h,h[2]=e(t,n,l))return!0}return!1}}function p(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function f(e,n,i){for(var r=0,a=n.length;r<a;r++)t(e,n[r],i);return i}function g(e,t,n,i,r){for(var a,o=[],s=0,l=e.length,c=null!=t;s<l;s++)(a=e[s])&&(n&&!n(a,i,r)||(o.push(a),c&&t.push(s)));return o}function m(e,t,n,r,a,o){return r&&!r[F]&&(r=m(r)),a&&!a[F]&&(a=m(a,o)),i(function(i,o,s,l){var c,u,d,h=[],p=[],m=o.length,v=i||f(t||"*",s.nodeType?[s]:s,[]),b=!e||!i&&t?v:g(v,h,e,s,l),y=n?a||(i?e:m||r)?[]:o:b;if(n&&n(b,y,s,l),r)for(c=g(y,p),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(y[p[u]]=!(b[p[u]]=d));if(i){if(a||e){if(a){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(b[u]=d);a(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=a?Z(i,d):h[u])>-1&&(i[c]=!(o[c]=d))}}else y=g(y===o?y.splice(m,y.length):y),a?a(null,o,y,l):X.apply(o,y)})}function v(e){for(var t,n,i,r=e.length,a=x.relative[e[0].type],o=a||x.relative[" "],s=a?1:0,l=h(function(e){return e===t},o,!0),c=h(function(e){return Z(t,e)>-1},o,!0),u=[function(e,n,i){var r=!a&&(i||n!==D)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,r}];s<r;s++)if(n=x.relative[e[s].type])u=[h(p(u),n)];else{if(n=x.filter[e[s].type].apply(null,e[s].matches),n[F]){for(i=++s;i<r&&!x.relative[e[i].type];i++);return m(s>1&&p(u),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ae,"$1"),n,s<i&&v(e.slice(s,i)),i<r&&v(e=e.slice(i)),i<r&&d(e))}u.push(n)}return p(u)}function b(e,n){var r=n.length>0,a=e.length>0,o=function(i,o,s,l,c){var u,d,h,p=0,f="0",m=i&&[],v=[],b=D,y=i||a&&x.find.TAG("*",c),w=j+=null==b?1:Math.random()||.1,_=y.length;for(c&&(D=o===A||o||c);f!==_&&null!=(u=y[f]);f++){if(a&&u){for(d=0,o||u.ownerDocument===A||(M(u),s=!P);h=e[d++];)if(h(u,o||A,s)){l.push(u);break}c&&(j=w)}r&&((u=!h&&u)&&p--,i&&m.push(u))}if(p+=f,r&&f!==p){for(d=0;h=n[d++];)h(m,v,o,s);if(i){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=K.call(l));v=g(v)}X.apply(l,v),c&&!i&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return c&&(j=w,D=b),m};return r?i(o):o}var y,w,x,_,k,C,S,$,D,T,E,M,A,O,P,I,R,N,L,F="sizzle"+1*new Date,z=e.document,j=0,H=0,W=n(),B=n(),V=n(),U=function(e,t){return e===t&&(E=!0),0},q={}.hasOwnProperty,Y=[],K=Y.pop,G=Y.push,X=Y.push,J=Y.slice,Z=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},Q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ee="[\\x20\\t\\r\\n\\f]",te="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ne="\\["+ee+"*("+te+")(?:"+ee+"*([*^$|!~]?=)"+ee+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+te+"))|)"+ee+"*\\]",ie=":("+te+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ne+")*)|.*)\\)|)",re=new RegExp(ee+"+","g"),ae=new RegExp("^"+ee+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ee+"+$","g"),oe=new RegExp("^"+ee+"*,"+ee+"*"),se=new RegExp("^"+ee+"*([>+~]|"+ee+")"+ee+"*"),le=new RegExp("="+ee+"*([^\\]'\"]*?)"+ee+"*\\]","g"),ce=new RegExp(ie),ue=new RegExp("^"+te+"$"),de={ID:new RegExp("^#("+te+")"),CLASS:new RegExp("^\\.("+te+")"),TAG:new RegExp("^("+te+"|[*])"),ATTR:new RegExp("^"+ne),PSEUDO:new RegExp("^"+ie),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ee+"*(even|odd|(([+-]|)(\\d*)n|)"+ee+"*(?:([+-]|)"+ee+"*(\\d+)|))"+ee+"*\\)|)","i"),bool:new RegExp("^(?:"+Q+")$","i"),needsContext:new RegExp("^"+ee+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ee+"*((?:-\\d)?\\d*)"+ee+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,fe=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/[+~]/,ve=new RegExp("\\\\([\\da-f]{1,6}"+ee+"?|("+ee+")|.)","ig"),be=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ye=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,we=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},xe=function(){M()},_e=h(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{X.apply(Y=J.call(z.childNodes),z.childNodes),Y[z.childNodes.length].nodeType}catch(e){X={apply:Y.length?function(e,t){G.apply(e,J.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}w=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},M=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:z;return i!==A&&9===i.nodeType&&i.documentElement?(A=i,O=A.documentElement,P=!k(A),z!==A&&(n=A.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xe,!1):n.attachEvent&&n.attachEvent("onunload",xe)),w.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=r(function(e){return e.appendChild(A.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=fe.test(A.getElementsByClassName),w.getById=r(function(e){return O.appendChild(e).id=F,!A.getElementsByName||!A.getElementsByName(F).length}),w.getById?(x.filter.ID=function(e){var t=e.replace(ve,be);return function(e){return e.getAttribute("id")===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&P){var n=t.getElementById(e);return n?[n]:[]}}):(x.filter.ID=function(e){var t=e.replace(ve,be);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},x.find.ID=function(e,t){if(void 0!==t.getElementById&&P){var n,i,r,a=t.getElementById(e);if(a){if((n=a.getAttributeNode("id"))&&n.value===e)return[a];for(r=t.getElementsByName(e),i=0;a=r[i++];)if((n=a.getAttributeNode("id"))&&n.value===e)return[a]}return[]}}),x.find.TAG=w.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},x.find.CLASS=w.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&P)return t.getElementsByClassName(e)},R=[],I=[],(w.qsa=fe.test(A.querySelectorAll))&&(r(function(e){O.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+ee+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||I.push("\\["+ee+"*(?:value|"+Q+")"),e.querySelectorAll("[id~="+F+"-]").length||I.push("~="),e.querySelectorAll(":checked").length||I.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||I.push(".#.+[+~]")}),r(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=A.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&I.push("name"+ee+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&I.push(":enabled",":disabled"),O.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")})),(w.matchesSelector=fe.test(N=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(e){w.disconnectedMatch=N.call(e,"*"),N.call(e,"[s!='']:x"),R.push("!=",ie)}),I=I.length&&new RegExp(I.join("|")),R=R.length&&new RegExp(R.join("|")),t=fe.test(O.compareDocumentPosition),L=t||fe.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return E=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===A||e.ownerDocument===z&&L(z,e)?-1:t===A||t.ownerDocument===z&&L(z,t)?1:T?Z(T,e)-Z(T,t):0:4&n?-1:1)}:function(e,t){if(e===t)return E=!0,0;var n,i=0,r=e.parentNode,a=t.parentNode,s=[e],l=[t];if(!r||!a)return e===A?-1:t===A?1:r?-1:a?1:T?Z(T,e)-Z(T,t):0;if(r===a)return o(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?o(s[i],l[i]):s[i]===z?-1:l[i]===z?1:0},A):A},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==A&&M(e),n=n.replace(le,"='$1']"),w.matchesSelector&&P&&!V[n+" "]&&(!R||!R.test(n))&&(!I||!I.test(n)))try{var i=N.call(e,n);if(i||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return t(n,A,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==A&&M(e),L(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==A&&M(e);var n=x.attrHandle[t.toLowerCase()],i=n&&q.call(x.attrHandle,t.toLowerCase())?n(e,t,!P):void 0;return void 0!==i?i:w.attributes||!P?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.escape=function(e){return(e+"").replace(ye,we)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(E=!w.detectDuplicates,T=!w.sortStable&&e.slice(0),e.sort(U),E){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return T=null,e},_=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=_(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=_(t);return n},x=t.selectors={cacheLength:50,createPseudo:i,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ve,be),e[3]=(e[3]||e[4]||e[5]||"").replace(ve,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ce.test(n)&&(t=C(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ve,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=new RegExp("(^|"+ee+")"+e+"("+ee+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var a=t.attr(r,e);return null==a?"!="===n:!n||(a+="","="===n?a===i:"!="===n?a!==i:"^="===n?i&&0===a.indexOf(i):"*="===n?i&&a.indexOf(i)>-1:"$="===n?i&&a.slice(-i.length)===i:"~="===n?(" "+a.replace(re," ")+" ").indexOf(i)>-1:"|="===n&&(a===i||a.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,r){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,p,f,g=a!==o?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s,y=!1;if(m){if(a){for(;g;){for(h=t;h=h[g];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?m.firstChild:m.lastChild],o&&b){for(h=m,d=h[F]||(h[F]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),c=u[e]||[],p=c[0]===j&&c[1],y=p&&c[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(y=p=0)||f.pop();)if(1===h.nodeType&&++y&&h===t){u[e]=[j,p,y];break}}else if(b&&(h=t,d=h[F]||(h[F]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),c=u[e]||[],p=c[0]===j&&c[1],y=p),!1===y)for(;(h=++p&&h&&h[g]||(y=p=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++y||(b&&(d=h[F]||(h[F]={}),u=d[h.uniqueID]||(d[h.uniqueID]={}),u[e]=[j,y]),h!==t)););return(y-=r)===i||y%i==0&&y/i>=0}}},PSEUDO:function(e,n){var r,a=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return a[F]?a(n):a.length>1?(r=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=a(e,n),o=r.length;o--;)i=Z(e,r[o]),e[i]=!(t[i]=r[o])}):function(e){return a(e,0,r)}):a}},pseudos:{not:i(function(e){var t=[],n=[],r=S(e.replace(ae,"$1"));return r[F]?i(function(e,t,n,i){for(var a,o=r(e,null,i,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))}):function(e,i,a){return t[0]=e,r(t,null,a,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(ve,be),function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),lang:i(function(e){return ue.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ve,be).toLowerCase(),function(t){var n;do{if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:l(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}},x.pseudos.nth=x.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[y]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(y);for(y in{submit:!0,reset:!0})x.pseudos[y]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(y);return u.prototype=x.filters=x.pseudos,x.setFilters=new u,C=t.tokenize=function(e,n){var i,r,a,o,s,l,c,u=B[e+" "];if(u)return n?0:u.slice(0);for(s=e,l=[],c=x.preFilter;s;){i&&!(r=oe.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(a=[])),i=!1,(r=se.exec(s))&&(i=r.shift(),a.push({value:i,type:r[0].replace(ae," ")}),s=s.slice(i.length));for(o in x.filter)!(r=de[o].exec(s))||c[o]&&!(r=c[o](r))||(i=r.shift(),a.push({value:i,type:o,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):B(e,l).slice(0)},S=t.compile=function(e,t){var n,i=[],r=[],a=V[e+" "];if(!a){for(t||(t=C(e)),n=t.length;n--;)a=v(t[n]),a[F]?i.push(a):r.push(a);a=V(e,b(r,i)),a.selector=e}return a},$=t.select=function(e,t,n,i){var r,a,o,s,l,u="function"==typeof e&&e,h=!i&&C(e=u.selector||e);if(n=n||[],1===h.length){if(a=h[0]=h[0].slice(0),a.length>2&&"ID"===(o=a[0]).type&&9===t.nodeType&&P&&x.relative[a[1].type]){if(!(t=(x.find.ID(o.matches[0].replace(ve,be),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(a.shift().value.length)}for(r=de.needsContext.test(e)?0:a.length;r--&&(o=a[r],!x.relative[s=o.type]);)if((l=x.find[s])&&(i=l(o.matches[0].replace(ve,be),me.test(a[0].type)&&c(t.parentNode)||t))){if(a.splice(r,1),!(e=i.length&&d(a)))return X.apply(n,i),n;break}}return(u||S(e,h))(i,t,!P,n,!t||me.test(e)&&c(t.parentNode)||t),n},w.sortStable=F.split("").sort(U).join("")===F,w.detectDuplicates=!!E,M(),w.sortDetached=r(function(e){return 1&e.compareDocumentPosition(A.createElement("fieldset"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||a("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||a("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||a(Q,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);pe.find=be,pe.expr=be.selectors,pe.expr[":"]=pe.expr.pseudos,pe.uniqueSort=pe.unique=be.uniqueSort,pe.text=be.getText,pe.isXMLDoc=be.isXML,pe.contains=be.contains,pe.escapeSelector=be.escape;var ye=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&pe(e).is(n))break;i.push(e)}return i},we=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},xe=pe.expr.match.needsContext,_e=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,ke=/^.[^:#\[\.,]*$/;pe.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?pe.find.matchesSelector(i,e)?[i]:[]:pe.find.matches(e,pe.grep(t,function(e){return 1===e.nodeType}))},pe.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(pe(e).filter(function(){for(t=0;t<i;t++)if(pe.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)pe.find(e,r[t],n);return i>1?pe.uniqueSort(n):n},filter:function(e){return this.pushStack(r(this,e||[],!1))},not:function(e){return this.pushStack(r(this,e||[],!0))},is:function(e){return!!r(this,"string"==typeof e&&xe.test(e)?pe(e):e||[],!1).length}});var Ce,Se=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(pe.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||Ce,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Se.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof pe?t[0]:t,pe.merge(this,pe.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:te,!0)),_e.test(i[1])&&pe.isPlainObject(t))for(i in t)pe.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return r=te.getElementById(i[2]),r&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):pe.isFunction(e)?void 0!==n.ready?n.ready(e):e(pe):pe.makeArray(e,this)}).prototype=pe.fn,Ce=pe(te);var $e=/^(?:parents|prev(?:Until|All))/,De={children:!0,contents:!0,next:!0,prev:!0};pe.fn.extend({has:function(e){var t=pe(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(pe.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,a=[],o="string"!=typeof e&&pe(e);if(!xe.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&pe.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?pe.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?oe.call(pe(e),this[0]):oe.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(pe.uniqueSort(pe.merge(this.get(),pe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),pe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ye(e,"parentNode")},parentsUntil:function(e,t,n){return ye(e,"parentNode",n)},next:function(e){return a(e,"nextSibling")},prev:function(e){return a(e,"previousSibling")},nextAll:function(e){return ye(e,"nextSibling")},prevAll:function(e){return ye(e,"previousSibling")},nextUntil:function(e,t,n){return ye(e,"nextSibling",n)},prevUntil:function(e,t,n){return ye(e,"previousSibling",n)},siblings:function(e){return we((e.parentNode||{}).firstChild,e)},children:function(e){return we(e.firstChild)},contents:function(e){return e.contentDocument||pe.merge([],e.childNodes)}},function(e,t){pe.fn[e]=function(n,i){var r=pe.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=pe.filter(i,r)),this.length>1&&(De[e]||pe.uniqueSort(r),$e.test(e)&&r.reverse()),this.pushStack(r)}});var Te=/[^\x20\t\r\n\f]+/g;pe.Callbacks=function(e){e="string"==typeof e?o(e):pe.extend({},e);var t,n,i,r,a=[],s=[],l=-1,c=function(){for(r=e.once,i=t=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)!1===a[l].apply(n[0],n[1])&&e.stopOnFalse&&(l=a.length,n=!1);e.memory||(n=!1),t=!1,r&&(a=n?[]:"")},u={add:function(){return a&&(n&&!t&&(l=a.length-1,s.push(n)),function t(n){pe.each(n,function(n,i){pe.isFunction(i)?e.unique&&u.has(i)||a.push(i):i&&i.length&&"string"!==pe.type(i)&&t(i)})}(arguments),n&&!t&&c()),this},remove:function(){return pe.each(arguments,function(e,t){for(var n;(n=pe.inArray(t,a,n))>-1;)a.splice(n,1),n<=l&&l--}),this},has:function(e){return e?pe.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return r=s=[],n||t||(a=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},pe.extend({Deferred:function(t){var n=[["notify","progress",pe.Callbacks("memory"),pe.Callbacks("memory"),2],["resolve","done",pe.Callbacks("once memory"),pe.Callbacks("once memory"),0,"resolved"],["reject","fail",pe.Callbacks("once memory"),pe.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return pe.Deferred(function(t){pe.each(n,function(n,i){var r=pe.isFunction(e[i[4]])&&e[i[4]];a[i[1]](function(){var e=r&&r.apply(this,arguments);e&&pe.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(t,i,r){function a(t,n,i,r){return function(){var c=this,u=arguments,d=function(){var e,d;if(!(t<o)){if((e=i.apply(c,u))===n.promise())throw new TypeError("Thenable self-resolution");d=e&&("object"==typeof e||"function"==typeof e)&&e.then,pe.isFunction(d)?r?d.call(e,a(o,n,s,r),a(o,n,l,r)):(o++,d.call(e,a(o,n,s,r),a(o,n,l,r),a(o,n,s,n.notifyWith))):(i!==s&&(c=void 0,u=[e]),(r||n.resolveWith)(c,u))}},h=r?d:function(){try{d()}catch(e){pe.Deferred.exceptionHook&&pe.Deferred.exceptionHook(e,h.stackTrace),t+1>=o&&(i!==l&&(c=void 0,u=[e]),n.rejectWith(c,u))}};t?h():(pe.Deferred.getStackHook&&(h.stackTrace=pe.Deferred.getStackHook()),e.setTimeout(h))}}var o=0;return pe.Deferred(function(e){n[0][3].add(a(0,e,pe.isFunction(r)?r:s,e.notifyWith)),n[1][3].add(a(0,e,pe.isFunction(t)?t:s)),n[2][3].add(a(0,e,pe.isFunction(i)?i:l))}).promise()},promise:function(e){return null!=e?pe.extend(e,r):r}},a={};return pe.each(n,function(e,t){var o=t[2],s=t[5];r[t[1]]=o.add,s&&o.add(function(){i=s},n[3-e][2].disable,n[0][2].lock),o.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?void 0:this,arguments),this},a[t[0]+"With"]=o.fireWith}),r.promise(a),t&&t.call(a,a),a},when:function(e){var t=arguments.length,n=t,i=Array(n),r=ie.call(arguments),a=pe.Deferred(),o=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?ie.call(arguments):n,--t||a.resolveWith(i,r)}};if(t<=1&&(c(e,a.done(o(n)).resolve,a.reject),"pending"===a.state()||pe.isFunction(r[n]&&r[n].then)))return a.then();for(;n--;)c(r[n],o(n),a.reject);return a.promise()}});var Ee=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;pe.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Ee.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},pe.readyException=function(t){e.setTimeout(function(){throw t})};var Me=pe.Deferred();pe.fn.ready=function(e){return Me.then(e).catch(function(e){pe.readyException(e)}),this},pe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?pe.readyWait++:pe.ready(!0)},ready:function(e){(!0===e?--pe.readyWait:pe.isReady)||(pe.isReady=!0,!0!==e&&--pe.readyWait>0||Me.resolveWith(te,[pe]))}}),pe.ready.then=Me.then,"complete"===te.readyState||"loading"!==te.readyState&&!te.documentElement.doScroll?e.setTimeout(pe.ready):(te.addEventListener("DOMContentLoaded",u),e.addEventListener("load",u));var Ae=function(e,t,n,i,r,a,o){var s=0,l=e.length,c=null==n;if("object"===pe.type(n)){r=!0;for(s in n)Ae(e,t,s,n[s],!0,a,o)}else if(void 0!==i&&(r=!0,pe.isFunction(i)||(o=!0),c&&(o?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(pe(e),n)})),t))for(;s<l;s++)t(e[s],n,o?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):l?t(e[0],n):a},Oe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};d.uid=1,d.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Oe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[pe.camelCase(t)]=n;else for(i in t)r[pe.camelCase(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][pe.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){pe.isArray(t)?t=t.map(pe.camelCase):(t=pe.camelCase(t),t=t in i?[t]:t.match(Te)||[]),n=t.length;for(;n--;)delete i[t[n]]}(void 0===t||pe.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!pe.isEmptyObject(t)}};var Pe=new d,Ie=new d,Re=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ne=/[A-Z]/g;pe.extend({hasData:function(e){return Ie.hasData(e)||Pe.hasData(e)},data:function(e,t,n){return Ie.access(e,t,n)},removeData:function(e,t){Ie.remove(e,t)},_data:function(e,t,n){return Pe.access(e,t,n)},_removeData:function(e,t){Pe.remove(e,t)}}),pe.fn.extend({data:function(e,t){var n,i,r,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(r=Ie.get(a),1===a.nodeType&&!Pe.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&(i=o[n].name,0===i.indexOf("data-")&&(i=pe.camelCase(i.slice(5)),p(a,i,r[i])));Pe.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Ie.set(this,e)}):Ae(this,function(t){var n;if(a&&void 0===t){if(void 0!==(n=Ie.get(a,e)))return n;if(void 0!==(n=p(a,e)))return n}else this.each(function(){Ie.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ie.remove(this,e)})}}),pe.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Pe.get(e,t),n&&(!i||pe.isArray(n)?i=Pe.access(e,t,pe.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=pe.queue(e,t),i=n.length,r=n.shift(),a=pe._queueHooks(e,t),o=function(){pe.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete a.stop,r.call(e,o,a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Pe.get(e,n)||Pe.access(e,n,{empty:pe.Callbacks("once memory").add(function(){Pe.remove(e,[t+"queue",n])})})}}),pe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?pe.queue(this[0],e):void 0===t?this:this.each(function(){var n=pe.queue(this,e,t);pe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&pe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){pe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=pe.Deferred(),a=this,o=this.length,s=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(n=Pe.get(a[o],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var Le=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Fe=new RegExp("^(?:([+-])=|)("+Le+")([a-z%]*)$","i"),ze=["Top","Right","Bottom","Left"],je=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&pe.contains(e.ownerDocument,e)&&"none"===pe.css(e,"display")},He=function(e,t,n,i){var r,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];r=n.apply(e,i||[]);for(a in t)e.style[a]=o[a];return r},We={};pe.fn.extend({show:function(){return m(this,!0)},hide:function(){return m(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){je(this)?pe(this).show():pe(this).hide()})}});var Be=/^(?:checkbox|radio)$/i,Ve=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ue=/^$|\/(?:java|ecma)script/i,qe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};qe.optgroup=qe.option,qe.tbody=qe.tfoot=qe.colgroup=qe.caption=qe.thead,qe.th=qe.td;var Ye=/<|&#?\w+;/;!function(){
var e=te.createDocumentFragment(),t=e.appendChild(te.createElement("div")),n=te.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),he.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",he.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Ke=te.documentElement,Ge=/^key/,Xe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Je=/^([^.]*)(?:\.(.+)|)/;pe.event={global:{},add:function(e,t,n,i,r){var a,o,s,l,c,u,d,h,p,f,g,m=Pe.get(e);if(m)for(n.handler&&(a=n,n=a.handler,r=a.selector),r&&pe.find.matchesSelector(Ke,r),n.guid||(n.guid=pe.guid++),(l=m.events)||(l=m.events={}),(o=m.handle)||(o=m.handle=function(t){return void 0!==pe&&pe.event.triggered!==t.type?pe.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Te)||[""],c=t.length;c--;)s=Je.exec(t[c])||[],p=g=s[1],f=(s[2]||"").split(".").sort(),p&&(d=pe.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=pe.event.special[p]||{},u=pe.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&pe.expr.match.needsContext.test(r),namespace:f.join(".")},a),(h=l[p])||(h=l[p]=[],h.delegateCount=0,d.setup&&!1!==d.setup.call(e,i,f,o)||e.addEventListener&&e.addEventListener(p,o)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),pe.event.global[p]=!0)},remove:function(e,t,n,i,r){var a,o,s,l,c,u,d,h,p,f,g,m=Pe.hasData(e)&&Pe.get(e);if(m&&(l=m.events)){for(t=(t||"").match(Te)||[""],c=t.length;c--;)if(s=Je.exec(t[c])||[],p=g=s[1],f=(s[2]||"").split(".").sort(),p){for(d=pe.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,h=l[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=h.length;a--;)u=h[a],!r&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(a,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));o&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,m.handle)||pe.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)pe.event.remove(e,p+t[c],n,i,!0);pe.isEmptyObject(l)&&Pe.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,a,o,s=pe.event.fix(e),l=new Array(arguments.length),c=(Pe.get(this,"events")||{})[s.type]||[],u=pe.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(o=pe.event.handlers.call(this,s,c),t=0;(r=o[t++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(a.namespace)||(s.handleObj=a,s.data=a.data,void 0!==(i=((pe.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,l))&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,i,r,a,o,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(a=[],o={},n=0;n<l;n++)i=t[n],r=i.selector+" ",void 0===o[r]&&(o[r]=i.needsContext?pe(r,this).index(c)>-1:pe.find(r,this,null,[c]).length),o[r]&&a.push(i);a.length&&s.push({elem:c,handlers:a})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(pe.Event.prototype,e,{enumerable:!0,configurable:!0,get:pe.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[pe.expando]?e:new pe.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==_()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===_()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&pe.nodeName(this,"input"))return this.click(),!1},_default:function(e){return pe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},pe.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},pe.Event=function(e,t){if(!(this instanceof pe.Event))return new pe.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?w:x,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&pe.extend(this,t),this.timeStamp=e&&e.timeStamp||pe.now(),this[pe.expando]=!0},pe.Event.prototype={constructor:pe.Event,isDefaultPrevented:x,isPropagationStopped:x,isImmediatePropagationStopped:x,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=w,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=w,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=w,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},pe.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ge.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Xe.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},pe.event.addProp),pe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){pe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,a=e.handleObj;return r&&(r===i||pe.contains(i,r))||(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),pe.fn.extend({on:function(e,t,n,i){return k(this,e,t,n,i)},one:function(e,t,n,i){return k(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,pe(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=x),this.each(function(){pe.event.remove(this,e,n,t)})}});var Ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Qe=/<script|<style|<link/i,et=/checked\s*(?:[^=]|=\s*.checked.)/i,tt=/^true\/(.*)/,nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;pe.extend({htmlPrefilter:function(e){return e.replace(Ze,"<$1></$2>")},clone:function(e,t,n){var i,r,a,o,s=e.cloneNode(!0),l=pe.contains(e.ownerDocument,e);if(!(he.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||pe.isXMLDoc(e)))for(o=v(s),a=v(e),i=0,r=a.length;i<r;i++)T(a[i],o[i]);if(t)if(n)for(a=a||v(e),o=o||v(s),i=0,r=a.length;i<r;i++)D(a[i],o[i]);else D(e,s);return o=v(s,"script"),o.length>0&&b(o,!l&&v(e,"script")),s},cleanData:function(e){for(var t,n,i,r=pe.event.special,a=0;void 0!==(n=e[a]);a++)if(Oe(n)){if(t=n[Pe.expando]){if(t.events)for(i in t.events)r[i]?pe.event.remove(n,i):pe.removeEvent(n,i,t.handle);n[Pe.expando]=void 0}n[Ie.expando]&&(n[Ie.expando]=void 0)}}}),pe.fn.extend({detach:function(e){return M(this,e,!0)},remove:function(e){return M(this,e)},text:function(e){return Ae(this,function(e){return void 0===e?pe.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return E(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){C(this,e).appendChild(e)}})},prepend:function(){return E(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=C(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return E(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return E(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(pe.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return pe.clone(this,e,t)})},html:function(e){return Ae(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Qe.test(e)&&!qe[(Ve.exec(e)||["",""])[1].toLowerCase()]){e=pe.htmlPrefilter(e);try{for(;n<i;n++)t=this[n]||{},1===t.nodeType&&(pe.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return E(this,arguments,function(t){var n=this.parentNode;pe.inArray(this,e)<0&&(pe.cleanData(v(this)),n&&n.replaceChild(t,this))},e)}}),pe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){pe.fn[e]=function(e){for(var n,i=[],r=pe(e),a=r.length-1,o=0;o<=a;o++)n=o===a?this:this.clone(!0),pe(r[o])[t](n),ae.apply(i,n.get());return this.pushStack(i)}});var it=/^margin/,rt=new RegExp("^("+Le+")(?!px)[a-z%]+$","i"),at=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Ke.appendChild(o);var t=e.getComputedStyle(s);n="1%"!==t.top,a="2px"===t.marginLeft,i="4px"===t.width,s.style.marginRight="50%",r="4px"===t.marginRight,Ke.removeChild(o),s=null}}var n,i,r,a,o=te.createElement("div"),s=te.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",he.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(s),pe.extend(he,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),i},pixelMarginRight:function(){return t(),r},reliableMarginLeft:function(){return t(),a}}))}();var ot=/^(none|table(?!-c[ea]).+)/,st={position:"absolute",visibility:"hidden",display:"block"},lt={letterSpacing:"0",fontWeight:"400"},ct=["Webkit","Moz","ms"],ut=te.createElement("div").style;pe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=A(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,o,s=pe.camelCase(t),l=e.style;if(t=pe.cssProps[s]||(pe.cssProps[s]=P(s)||s),o=pe.cssHooks[t]||pe.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(e,!1,i))?r:l[t];a=typeof n,"string"===a&&(r=Fe.exec(n))&&r[1]&&(n=f(e,t,r),a="number"),null!=n&&n===n&&("number"===a&&(n+=r&&r[3]||(pe.cssNumber[s]?"":"px")),he.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,i))||(l[t]=n))}},css:function(e,t,n,i){var r,a,o,s=pe.camelCase(t);return t=pe.cssProps[s]||(pe.cssProps[s]=P(s)||s),o=pe.cssHooks[t]||pe.cssHooks[s],o&&"get"in o&&(r=o.get(e,!0,n)),void 0===r&&(r=A(e,t,i)),"normal"===r&&t in lt&&(r=lt[t]),""===n||n?(a=parseFloat(r),!0===n||isFinite(a)?a||0:r):r}}),pe.each(["height","width"],function(e,t){pe.cssHooks[t]={get:function(e,n,i){if(n)return!ot.test(pe.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?N(e,t,i):He(e,st,function(){return N(e,t,i)})},set:function(e,n,i){var r,a=i&&at(e),o=i&&R(e,t,i,"border-box"===pe.css(e,"boxSizing",!1,a),a);return o&&(r=Fe.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=pe.css(e,t)),I(e,n,o)}}}),pe.cssHooks.marginLeft=O(he.reliableMarginLeft,function(e,t){if(t)return(parseFloat(A(e,"marginLeft"))||e.getBoundingClientRect().left-He(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),pe.each({margin:"",padding:"",border:"Width"},function(e,t){pe.cssHooks[e+t]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+ze[i]+t]=a[i]||a[i-2]||a[0];return r}},it.test(e)||(pe.cssHooks[e+t].set=I)}),pe.fn.extend({css:function(e,t){return Ae(this,function(e,t,n){var i,r,a={},o=0;if(pe.isArray(t)){for(i=at(e),r=t.length;o<r;o++)a[t[o]]=pe.css(e,t[o],!1,i);return a}return void 0!==n?pe.style(e,t,n):pe.css(e,t)},e,t,arguments.length>1)}}),pe.Tween=L,L.prototype={constructor:L,init:function(e,t,n,i,r,a){this.elem=e,this.prop=n,this.easing=r||pe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(pe.cssNumber[n]?"":"px")},cur:function(){var e=L.propHooks[this.prop];return e&&e.get?e.get(this):L.propHooks._default.get(this)},run:function(e){var t,n=L.propHooks[this.prop];return this.options.duration?this.pos=t=pe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):L.propHooks._default.set(this),this}},L.prototype.init.prototype=L.prototype,L.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=pe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){pe.fx.step[e.prop]?pe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[pe.cssProps[e.prop]]&&!pe.cssHooks[e.prop]?e.elem[e.prop]=e.now:pe.style(e.elem,e.prop,e.now+e.unit)}}},L.propHooks.scrollTop=L.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},pe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},pe.fx=L.prototype.init,pe.fx.step={};var dt,ht,pt=/^(?:toggle|show|hide)$/,ft=/queueHooks$/;pe.Animation=pe.extend(V,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return f(n.elem,e,Fe.exec(t),n),n}]},tweener:function(e,t){pe.isFunction(e)?(t=e,e=["*"]):e=e.match(Te);for(var n,i=0,r=e.length;i<r;i++)n=e[i],V.tweeners[n]=V.tweeners[n]||[],V.tweeners[n].unshift(t)},prefilters:[W],prefilter:function(e,t){t?V.prefilters.unshift(e):V.prefilters.push(e)}}),pe.speed=function(e,t,n){var i=e&&"object"==typeof e?pe.extend({},e):{complete:n||!n&&t||pe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!pe.isFunction(t)&&t};return pe.fx.off||te.hidden?i.duration=0:"number"!=typeof i.duration&&(i.duration in pe.fx.speeds?i.duration=pe.fx.speeds[i.duration]:i.duration=pe.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){pe.isFunction(i.old)&&i.old.call(this),i.queue&&pe.dequeue(this,i.queue)},i},pe.fn.extend({fadeTo:function(e,t,n,i){return this.filter(je).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=pe.isEmptyObject(e),a=pe.speed(t,n,i),o=function(){var t=V(this,pe.extend({},e),a);(r||Pe.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",a=pe.timers,o=Pe.get(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&ft.test(r)&&i(o[r]);for(r=a.length;r--;)a[r].elem!==this||null!=e&&a[r].queue!==e||(a[r].anim.stop(n),t=!1,a.splice(r,1));!t&&n||pe.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Pe.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],a=pe.timers,o=i?i.length:0;for(n.finish=!0,pe.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<o;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),pe.each(["toggle","show","hide"],function(e,t){var n=pe.fn[t];pe.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(j(t,!0),e,i,r)}}),pe.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){pe.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),pe.timers=[],pe.fx.tick=function(){var e,t=0,n=pe.timers;for(dt=pe.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||pe.fx.stop(),dt=void 0},pe.fx.timer=function(e){pe.timers.push(e),e()?pe.fx.start():pe.timers.pop()},pe.fx.interval=13,pe.fx.start=function(){ht||(ht=e.requestAnimationFrame?e.requestAnimationFrame(F):e.setInterval(pe.fx.tick,pe.fx.interval))},pe.fx.stop=function(){e.cancelAnimationFrame?e.cancelAnimationFrame(ht):e.clearInterval(ht),ht=null},pe.fx.speeds={slow:600,fast:200,_default:400},pe.fn.delay=function(t,n){return t=pe.fx?pe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}})},function(){var e=te.createElement("input"),t=te.createElement("select"),n=t.appendChild(te.createElement("option"));e.type="checkbox",he.checkOn=""!==e.value,he.optSelected=n.selected,e=te.createElement("input"),e.value="t",e.type="radio",he.radioValue="t"===e.value}();var gt,mt=pe.expr.attrHandle;pe.fn.extend({attr:function(e,t){return Ae(this,pe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){pe.removeAttr(this,e)})}}),pe.extend({attr:function(e,t,n){var i,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?pe.prop(e,t,n):(1===a&&pe.isXMLDoc(e)||(r=pe.attrHooks[t.toLowerCase()]||(pe.expr.match.bool.test(t)?gt:void 0)),void 0!==n?null===n?void pe.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=pe.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!he.radioValue&&"radio"===t&&pe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(Te);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),gt={set:function(e,t,n){return!1===t?pe.removeAttr(e,n):e.setAttribute(n,n),n}},pe.each(pe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=mt[t]||pe.find.attr;mt[t]=function(e,t,i){var r,a,o=t.toLowerCase();return i||(a=mt[o],mt[o]=r,r=null!=n(e,t,i)?o:null,mt[o]=a),r}});var vt=/^(?:input|select|textarea|button)$/i,bt=/^(?:a|area)$/i;pe.fn.extend({prop:function(e,t){return Ae(this,pe.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[pe.propFix[e]||e]})}}),pe.extend({prop:function(e,t,n){var i,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&pe.isXMLDoc(e)||(t=pe.propFix[t]||t,r=pe.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=pe.find.attr(e,"tabindex");return t?parseInt(t,10):vt.test(e.nodeName)||bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),he.optSelected||(pe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),pe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pe.propFix[this.toLowerCase()]=this}),pe.fn.extend({addClass:function(e){var t,n,i,r,a,o,s,l=0;if(pe.isFunction(e))return this.each(function(t){pe(this).addClass(e.call(this,t,q(this)))});if("string"==typeof e&&e)for(t=e.match(Te)||[];n=this[l++];)if(r=q(n),i=1===n.nodeType&&" "+U(r)+" "){for(o=0;a=t[o++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");s=U(i),r!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,r,a,o,s,l=0;if(pe.isFunction(e))return this.each(function(t){pe(this).removeClass(e.call(this,t,q(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Te)||[];n=this[l++];)if(r=q(n),i=1===n.nodeType&&" "+U(r)+" "){for(o=0;a=t[o++];)for(;i.indexOf(" "+a+" ")>-1;)i=i.replace(" "+a+" "," ");s=U(i),r!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):pe.isFunction(e)?this.each(function(n){pe(this).toggleClass(e.call(this,n,q(this),t),t)}):this.each(function(){var t,i,r,a;if("string"===n)for(i=0,r=pe(this),a=e.match(Te)||[];t=a[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||(t=q(this),t&&Pe.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Pe.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+U(q(n))+" ").indexOf(t)>-1)return!0;return!1}});var yt=/\r/g;pe.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=pe.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,pe(this).val()):e,null==r?r="":"number"==typeof r?r+="":pe.isArray(r)&&(r=pe.map(r,function(e){return null==e?"":e+""})),(t=pe.valHooks[this.type]||pe.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return(t=pe.valHooks[r.type]||pe.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(yt,""):null==n?"":n)}}}),pe.extend({valHooks:{option:{get:function(e){var t=pe.find.attr(e,"value");return null!=t?t:U(pe.text(e))}},select:{get:function(e){var t,n,i,r=e.options,a=e.selectedIndex,o="select-one"===e.type,s=o?null:[],l=o?a+1:r.length;for(i=a<0?l:o?a:0;i<l;i++)if(n=r[i],(n.selected||i===a)&&!n.disabled&&(!n.parentNode.disabled||!pe.nodeName(n.parentNode,"optgroup"))){if(t=pe(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,a=pe.makeArray(t),o=r.length;o--;)i=r[o],(i.selected=pe.inArray(pe.valHooks.option.get(i),a)>-1)&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),pe.each(["radio","checkbox"],function(){pe.valHooks[this]={set:function(e,t){if(pe.isArray(t))return e.checked=pe.inArray(pe(e).val(),t)>-1}},he.checkOn||(pe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt=/^(?:focusinfocus|focusoutblur)$/;pe.extend(pe.event,{trigger:function(t,n,i,r){var a,o,s,l,c,u,d,h=[i||te],p=ce.call(t,"type")?t.type:t,f=ce.call(t,"namespace")?t.namespace.split("."):[];if(o=s=i=i||te,3!==i.nodeType&&8!==i.nodeType&&!wt.test(p+pe.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),c=p.indexOf(":")<0&&"on"+p,t=t[pe.expando]?t:new pe.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:pe.makeArray(n,[t]),d=pe.event.special[p]||{},r||!d.trigger||!1!==d.trigger.apply(i,n))){if(!r&&!d.noBubble&&!pe.isWindow(i)){for(l=d.delegateType||p,wt.test(l+p)||(o=o.parentNode);o;o=o.parentNode)h.push(o),s=o;s===(i.ownerDocument||te)&&h.push(s.defaultView||s.parentWindow||e)}for(a=0;(o=h[a++])&&!t.isPropagationStopped();)t.type=a>1?l:d.bindType||p,u=(Pe.get(o,"events")||{})[t.type]&&Pe.get(o,"handle"),u&&u.apply(o,n),(u=c&&o[c])&&u.apply&&Oe(o)&&(t.result=u.apply(o,n),!1===t.result&&t.preventDefault());return t.type=p,r||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(h.pop(),n)||!Oe(i)||c&&pe.isFunction(i[p])&&!pe.isWindow(i)&&(s=i[c],s&&(i[c]=null),pe.event.triggered=p,i[p](),pe.event.triggered=void 0,s&&(i[c]=s)),t.result}},simulate:function(e,t,n){var i=pe.extend(new pe.Event,n,{type:e,isSimulated:!0});pe.event.trigger(i,null,t)}}),pe.fn.extend({trigger:function(e,t){return this.each(function(){pe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return pe.event.trigger(e,t,n,!0)}}),pe.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){pe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),pe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),he.focusin="onfocusin"in e,he.focusin||pe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){pe.event.simulate(t,e.target,pe.event.fix(e))};pe.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=Pe.access(i,t);r||i.addEventListener(e,n,!0),Pe.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Pe.access(i,t)-1;r?Pe.access(i,t,r):(i.removeEventListener(e,n,!0),Pe.remove(i,t))}}});var xt=e.location,_t=pe.now(),kt=/\?/;pe.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||pe.error("Invalid XML: "+t),n};var Ct=/\[\]$/,St=/\r?\n/g,$t=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;pe.param=function(e,t){var n,i=[],r=function(e,t){var n=pe.isFunction(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(pe.isArray(e)||e.jquery&&!pe.isPlainObject(e))pe.each(e,function(){r(this.name,this.value)});else for(n in e)Y(n,e[n],t,r);return i.join("&")},pe.fn.extend({serialize:function(){return pe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=pe.prop(this,"elements");return e?pe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!pe(this).is(":disabled")&&Dt.test(this.nodeName)&&!$t.test(e)&&(this.checked||!Be.test(e))}).map(function(e,t){var n=pe(this).val();return null==n?null:pe.isArray(n)?pe.map(n,function(e){return{name:t.name,value:e.replace(St,"\r\n")}}):{name:t.name,value:n.replace(St,"\r\n")}}).get()}});var Tt=/%20/g,Et=/#.*$/,Mt=/([?&])_=[^&]*/,At=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pt=/^(?:GET|HEAD)$/,It=/^\/\//,Rt={},Nt={},Lt="*/".concat("*"),Ft=te.createElement("a");Ft.href=xt.href,pe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt.href,type:"GET",isLocal:Ot.test(xt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Lt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":pe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?X(X(e,pe.ajaxSettings),t):X(pe.ajaxSettings,e)},ajaxPrefilter:K(Rt),ajaxTransport:K(Nt),ajax:function(t,n){function i(t,n,i,s){var c,h,p,w,x,_=n;u||(u=!0,l&&e.clearTimeout(l),r=void 0,o=s||"",k.readyState=t>0?4:0,c=t>=200&&t<300||304===t,i&&(w=J(f,k,i)),w=Z(f,w,k,c),c?(f.ifModified&&(x=k.getResponseHeader("Last-Modified"),x&&(pe.lastModified[a]=x),(x=k.getResponseHeader("etag"))&&(pe.etag[a]=x)),204===t||"HEAD"===f.type?_="nocontent":304===t?_="notmodified":(_=w.state,h=w.data,p=w.error,c=!p)):(p=_,!t&&_||(_="error",t<0&&(t=0))),k.status=t,k.statusText=(n||_)+"",c?v.resolveWith(g,[h,_,k]):v.rejectWith(g,[k,_,p]),k.statusCode(y),y=void 0,d&&m.trigger(c?"ajaxSuccess":"ajaxError",[k,f,c?h:p]),b.fireWith(g,[k,_]),d&&(m.trigger("ajaxComplete",[k,f]),--pe.active||pe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,a,o,s,l,c,u,d,h,p,f=pe.ajaxSetup({},n),g=f.context||f,m=f.context&&(g.nodeType||g.jquery)?pe(g):pe.event,v=pe.Deferred(),b=pe.Callbacks("once memory"),y=f.statusCode||{},w={},x={},_="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(u){if(!s)for(s={};t=At.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(e,t){return null==u&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==u&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)k.always(e[k.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||_;return r&&r.abort(t),i(0,t),this}};if(v.promise(k),f.url=((t||f.url||xt.href)+"").replace(It,xt.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(Te)||[""],null==f.crossDomain){c=te.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=Ft.protocol+"//"+Ft.host!=c.protocol+"//"+c.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=pe.param(f.data,f.traditional)),G(Rt,f,n,k),u)return k;d=pe.event&&f.global,d&&0==pe.active++&&pe.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Pt.test(f.type),a=f.url.replace(Et,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Tt,"+")):(p=f.url.slice(a.length),f.data&&(a+=(kt.test(a)?"&":"?")+f.data,delete f.data),!1===f.cache&&(a=a.replace(Mt,"$1"),p=(kt.test(a)?"&":"?")+"_="+_t+++p),f.url=a+p),f.ifModified&&(pe.lastModified[a]&&k.setRequestHeader("If-Modified-Since",pe.lastModified[a]),pe.etag[a]&&k.setRequestHeader("If-None-Match",pe.etag[a])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Lt+"; q=0.01":""):f.accepts["*"]);for(h in f.headers)k.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(g,k,f)||u))return k.abort();if(_="abort",b.add(f.complete),k.done(f.success),k.fail(f.error),r=G(Nt,f,n,k)){if(k.readyState=1,d&&m.trigger("ajaxSend",[k,f]),u)return k;f.async&&f.timeout>0&&(l=e.setTimeout(function(){k.abort("timeout")},f.timeout));try{u=!1,r.send(w,i)}catch(e){if(u)throw e;i(-1,e)}}else i(-1,"No Transport");return k},getJSON:function(e,t,n){return pe.get(e,t,n,"json")},getScript:function(e,t){return pe.get(e,void 0,t,"script")}}),pe.each(["get","post"],function(e,t){pe[t]=function(e,n,i,r){return pe.isFunction(n)&&(r=r||i,i=n,n=void 0),pe.ajax(pe.extend({url:e,type:t,dataType:r,data:n,success:i},pe.isPlainObject(e)&&e))}}),pe._evalUrl=function(e){return pe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},pe.fn.extend({wrapAll:function(e){var t;return this[0]&&(pe.isFunction(e)&&(e=e.call(this[0])),t=pe(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return pe.isFunction(e)?this.each(function(t){pe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=pe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=pe.isFunction(e);return this.each(function(n){pe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){
pe(this).replaceWith(this.childNodes)}),this}}),pe.expr.pseudos.hidden=function(e){return!pe.expr.pseudos.visible(e)},pe.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},pe.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var zt={0:200,1223:204},jt=pe.ajaxSettings.xhr();he.cors=!!jt&&"withCredentials"in jt,he.ajax=jt=!!jt,pe.ajaxTransport(function(t){var n,i;if(he.cors||jt&&!t.crossDomain)return{send:function(r,a){var o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)s.setRequestHeader(o,r[o]);n=function(e){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(zt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&i()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),pe.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),pe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return pe.globalEval(e),e}}}),pe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),pe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=pe("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),te.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Ht=[],Wt=/(=)\?(?=&|$)|\?\?/;pe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ht.pop()||pe.expando+"_"+_t++;return this[e]=!0,e}}),pe.ajaxPrefilter("json jsonp",function(t,n,i){var r,a,o,s=!1!==t.jsonp&&(Wt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Wt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=pe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Wt,"$1"+r):!1!==t.jsonp&&(t.url+=(kt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||pe.error(r+" was not called"),o[0]},t.dataTypes[0]="json",a=e[r],e[r]=function(){o=arguments},i.always(function(){void 0===a?pe(e).removeProp(r):e[r]=a,t[r]&&(t.jsonpCallback=n.jsonpCallback,Ht.push(r)),o&&pe.isFunction(a)&&a(o[0]),o=a=void 0}),"script"}),he.createHTMLDocument=function(){var e=te.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),pe.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,r,a;return t||(he.createHTMLDocument?(t=te.implementation.createHTMLDocument(""),i=t.createElement("base"),i.href=te.location.href,t.head.appendChild(i)):t=te),r=_e.exec(e),a=!n&&[],r?[t.createElement(r[1])]:(r=y([e],t,a),a&&a.length&&pe(a).remove(),pe.merge([],r.childNodes))},pe.fn.load=function(e,t,n){var i,r,a,o=this,s=e.indexOf(" ");return s>-1&&(i=U(e.slice(s)),e=e.slice(0,s)),pe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),o.length>0&&pe.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){a=arguments,o.html(i?pe("<div>").append(pe.parseHTML(e)).find(i):e)}).always(n&&function(e,t){o.each(function(){n.apply(this,a||[e.responseText,t,e])})}),this},pe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){pe.fn[t]=function(e){return this.on(t,e)}}),pe.expr.pseudos.animated=function(e){return pe.grep(pe.timers,function(t){return e===t.elem}).length},pe.offset={setOffset:function(e,t,n){var i,r,a,o,s,l,c,u=pe.css(e,"position"),d=pe(e),h={};"static"===u&&(e.style.position="relative"),s=d.offset(),a=pe.css(e,"top"),l=pe.css(e,"left"),c=("absolute"===u||"fixed"===u)&&(a+l).indexOf("auto")>-1,c?(i=d.position(),o=i.top,r=i.left):(o=parseFloat(a)||0,r=parseFloat(l)||0),pe.isFunction(t)&&(t=t.call(e,n,pe.extend({},s))),null!=t.top&&(h.top=t.top-s.top+o),null!=t.left&&(h.left=t.left-s.left+r),"using"in t?t.using.call(e,h):d.css(h)}},pe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){pe.offset.setOffset(this,e,t)});var t,n,i,r,a=this[0];if(a)return a.getClientRects().length?(i=a.getBoundingClientRect(),i.width||i.height?(r=a.ownerDocument,n=Q(r),t=r.documentElement,{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):{top:0,left:0}},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===pe.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),pe.nodeName(e[0],"html")||(i=e.offset()),i={top:i.top+pe.css(e[0],"borderTopWidth",!0),left:i.left+pe.css(e[0],"borderLeftWidth",!0)}),{top:t.top-i.top-pe.css(n,"marginTop",!0),left:t.left-i.left-pe.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===pe.css(e,"position");)e=e.offsetParent;return e||Ke})}}),pe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;pe.fn[e]=function(i){return Ae(this,function(e,i,r){var a=Q(e);if(void 0===r)return a?a[t]:e[i];a?a.scrollTo(n?a.pageXOffset:r,n?r:a.pageYOffset):e[i]=r},e,i,arguments.length)}}),pe.each(["top","left"],function(e,t){pe.cssHooks[t]=O(he.pixelPosition,function(e,n){if(n)return n=A(e,t),rt.test(n)?pe(e).position()[t]+"px":n})}),pe.each({Height:"height",Width:"width"},function(e,t){pe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){pe.fn[i]=function(r,a){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===a?"margin":"border");return Ae(this,function(t,n,r){var a;return pe.isWindow(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body["scroll"+e],a["scroll"+e],t.body["offset"+e],a["offset"+e],a["client"+e])):void 0===r?pe.css(t,n,s):pe.style(t,n,r,s)},t,o?r:void 0,o)}})}),pe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),pe.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pe});var Bt=e.jQuery,Vt=e.$;return pe.noConflict=function(t){return e.$===pe&&(e.$=Vt),t&&e.jQuery===pe&&(e.jQuery=Bt),pe},t||(e.jQuery=e.$=pe),pe}),/**
 * @license AngularJS v1.6.9
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e){"use strict";function t(e){if(!x(e))return Xi;w(e.objectMaxDepth)&&(Xi.objectMaxDepth=n(e.objectMaxDepth)?e.objectMaxDepth:NaN)}function n(e){return C(e)&&e>0}function i(e,t){return t=t||Error,function(){var n,i,r=arguments[0],a=arguments[1],o="["+(e?e+":":"")+r+"] ",s=Y(arguments,2).map(function(e){return ke(e,Xi.objectMaxDepth)});for(o+=a.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1);return t<s.length?s[t]:e}),o+="\nhttp://errors.angularjs.org/1.6.9/"+(e?e+"/":"")+r,i=0,n="?";i<s.length;i++,n="&")o+=n+"p"+i+"="+encodeURIComponent(s[i]);return new t(o)}}function r(e){if(null==e||E(e))return!1;if(vr(e)||k(e)||ar&&e instanceof ar)return!0;var t="length"in Object(e)&&e.length;return C(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function a(e,t,n){var i,o;if(e)if(D(e))for(i in e)"prototype"!==i&&"length"!==i&&"name"!==i&&e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else if(vr(e)||r(e)){var s="object"!=typeof e;for(i=0,o=e.length;i<o;i++)(s||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==a)e.forEach(t,n,e);else if(_(e))for(i in e)t.call(n,e[i],i,e);else if("function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else for(i in e)Qi.call(e,i)&&t.call(n,e[i],i,e);return e}function o(e,t,n){for(var i=Object.keys(e).sort(),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function s(e){return function(t,n){e(n,t)}}function l(){return++gr}function c(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function u(e,t,n){for(var i=e.$$hashKey,r=0,a=t.length;r<a;++r){var o=t[r];if(x(o)||D(o))for(var s=Object.keys(o),l=0,d=s.length;l<d;l++){var h=s[l],p=o[h];n&&x(p)?S(p)?e[h]=new Date(p.valueOf()):T(p)?e[h]=new RegExp(p):p.nodeName?e[h]=p.cloneNode(!0):F(p)?e[h]=p.clone():(x(e[h])||(e[h]=vr(p)?[]:{}),u(e[h],[p],!0)):e[h]=p}}return c(e,i),e}function d(e){return u(e,lr.call(arguments,1),!1)}function h(e){return u(e,lr.call(arguments,1),!0)}function p(e){return parseInt(e,10)}function f(e,t){return d(Object.create(e),t)}function g(){}function m(e){return e}function v(e){return function(){return e}}function b(e){return D(e.toString)&&e.toString!==dr}function y(e){return void 0===e}function w(e){return void 0!==e}function x(e){return null!==e&&"object"==typeof e}function _(e){return null!==e&&"object"==typeof e&&!hr(e)}function k(e){return"string"==typeof e}function C(e){return"number"==typeof e}function S(e){return"[object Date]"===dr.call(e)}function $(e){switch(dr.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}}function D(e){return"function"==typeof e}function T(e){return"[object RegExp]"===dr.call(e)}function E(e){return e&&e.window===e}function M(e){return e&&e.$evalAsync&&e.$watch}function A(e){return"[object File]"===dr.call(e)}function O(e){return"[object FormData]"===dr.call(e)}function P(e){return"[object Blob]"===dr.call(e)}function I(e){return"boolean"==typeof e}function R(e){return e&&D(e.then)}function N(e){return e&&C(e.length)&&br.test(dr.call(e))}function L(e){return"[object ArrayBuffer]"===dr.call(e)}function F(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function z(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}function j(e){return er(e.nodeName||e[0]&&e[0].nodeName)}function H(e,t){return-1!==Array.prototype.indexOf.call(e,t)}function W(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function B(e,t,i){function r(e,t,n){if(--n<0)return"...";var i,r=t.$$hashKey;if(vr(e))for(var a=0,s=e.length;a<s;a++)t.push(o(e[a],n));else if(_(e))for(i in e)t[i]=o(e[i],n);else if(e&&"function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&(t[i]=o(e[i],n));else for(i in e)Qi.call(e,i)&&(t[i]=o(e[i],n));return c(t,r),t}function o(e,t){if(!x(e))return e;var n=l.indexOf(e);if(-1!==n)return u[n];if(E(e)||M(e))throw pr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var i=!1,a=s(e);return void 0===a&&(a=vr(e)?[]:Object.create(hr(e)),i=!0),l.push(e),u.push(a),i?r(e,a,t):a}function s(e){switch(dr.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(o(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(D(e.cloneNode))return e.cloneNode(!0)}var l=[],u=[];if(i=n(i)?i:NaN,t){if(N(t)||L(t))throw pr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw pr("cpi","Can't copy! Source and destination are identical.");return vr(t)?t.length=0:a(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),l.push(e),u.push(t),r(e,t,i)}return o(e,i)}function V(e,t){return e===t||e!==e&&t!==t}function U(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,i,r,a=typeof e,o=typeof t;if(a===o&&"object"===a){if(!vr(e)){if(S(e))return!!S(t)&&V(e.getTime(),t.getTime());if(T(e))return!!T(t)&&e.toString()===t.toString();if(M(e)||M(t)||E(e)||E(t)||vr(t)||S(t)||T(t))return!1;r=be();for(i in e)if("$"!==i.charAt(0)&&!D(e[i])){if(!U(e[i],t[i]))return!1;r[i]=!0}for(i in t)if(!(i in r)&&"$"!==i.charAt(0)&&w(t[i])&&!D(t[i]))return!1;return!0}if(!vr(t))return!1;if((n=e.length)===t.length){for(i=0;i<n;i++)if(!U(e[i],t[i]))return!1;return!0}}return!1}function q(e,t,n){return e.concat(lr.call(t,n))}function Y(e,t){return lr.call(e,t||0)}function K(e,t){var n=arguments.length>2?Y(arguments,2):[];return!D(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,q(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function G(t,n){var i=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=void 0:E(n)?i="$WINDOW":n&&e.document===n?i="$DOCUMENT":M(n)&&(i="$SCOPE"),i}function X(e,t){if(!y(e))return C(t)||(t=t?2:null),JSON.stringify(e,G,t)}function J(e){return k(e)?JSON.parse(e):e}function Z(e,t){e=e.replace(kr,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return mr(n)?t:n}function Q(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function ee(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset();return Q(e,n*(Z(t,i)-i))}function te(e){e=ar(e).clone().empty();var t=ar("<div>").append(e).html();try{return e[0].nodeType===Er?er(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+er(t)})}catch(e){return er(t)}}function ne(e){try{return decodeURIComponent(e)}catch(e){}}function ie(e){var t={};return a((e||"").split("&"),function(e){var n,i,r;e&&(i=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(i=e.substring(0,n),r=e.substring(n+1)),i=ne(i),w(i)&&(r=!w(r)||ne(r),Qi.call(t,i)?vr(t[i])?t[i].push(r):t[i]=[t[i],r]:t[i]=r))}),t}function re(e){var t=[];return a(e,function(e,n){vr(e)?a(e,function(e){t.push(oe(n,!0)+(!0===e?"":"="+oe(e,!0)))}):t.push(oe(n,!0)+(!0===e?"":"="+oe(e,!0)))}),t.length?t.join("&"):""}function ae(e){return oe(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function oe(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function se(e,t){var n,i,r=Cr.length;for(i=0;i<r;++i)if(n=Cr[i]+t,k(n=e.getAttribute(n)))return n;return null}function le(t,n){var i,r,o={};if(a(Cr,function(e){var n=e+"app";!i&&t.hasAttribute&&t.hasAttribute(n)&&(i=t,r=t.getAttribute(n))}),a(Cr,function(e){var n,a=e+"app";!i&&(n=t.querySelector("["+a.replace(":","\\:")+"]"))&&(i=n,r=n.getAttribute(a))}),i){if(!Sr)return void e.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");o.strictDi=null!==se(i,"strict-di"),n(i,r?[r]:[],o)}}function ce(t,n,i){x(i)||(i={}),i=d({strictDi:!1},i);var r=function(){if(t=ar(t),t.injector()){var r=t[0]===e.document?"document":te(t);throw pr("btstrpd","App already bootstrapped with this element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var a=ct(n,i.strictDi);return a.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),a},o=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;if(e&&o.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(o,"")),e&&!s.test(e.name))return r();e.name=e.name.replace(s,""),fr.resumeBootstrap=function(e){return a(e,function(e){n.push(e)}),r()},D(fr.resumeDeferredBootstrap)&&fr.resumeDeferredBootstrap()}function ue(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function de(e){var t=fr.element(e).injector();if(!t)throw pr("test","no injector found for element argument to getTestability");return t.get("$$testability")}function he(e,t){return t=t||"_",e.replace($r,function(e,n){return(n?t:"")+e.toLowerCase()})}function pe(e,t,n){if(!e)throw pr("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function fe(e,t,n){return n&&vr(e)&&(e=e[e.length-1]),pe(D(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function ge(e,t){if("hasOwnProperty"===e)throw pr("badname","hasOwnProperty is not a valid {0} name",t)}function me(e,t,n){if(!t)return e;for(var i,r=t.split("."),a=e,o=r.length,s=0;s<o;s++)i=r[s],e&&(e=(a=e)[i]);return!n&&D(e)?K(a,e):e}function ve(e){for(var t,n=e[0],i=e[e.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(t||e[r]!==n)&&(t||(t=ar(lr.call(e,0,r))),t.push(n));return t||e}function be(){return Object.create(null)}function ye(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!b(e)||vr(e)||S(e)?X(e):e.toString()}return e}function we(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=i("$injector"),r=i("ng"),a=t(e,"angular",Object);return a.$$minErr=a.$$minErr||i,t(a,"module",function(){var e={};return function(i,a,o){var s={};return function(e,t){if("hasOwnProperty"===e)throw r("badname","hasOwnProperty is not a valid {0} name",t)}(i,"module"),a&&e.hasOwnProperty(i)&&(e[i]=null),t(e,i,function(){function e(e,t,n,i){return i||(i=l),function(){return i[n||"push"]([e,t,arguments]),h}}function t(e,t,n){return n||(n=l),function(r,a){return a&&D(a)&&(a.$$moduleName=i),n.push([e,t,arguments]),h}}if(!a)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",i);var l=[],c=[],u=[],d=e("$injector","invoke","push",c),h={_invokeQueue:l,_configBlocks:c,_runBlocks:u,info:function(e){if(w(e)){if(!x(e))throw r("aobj","Argument '{0}' must be an object","value");return s=e,this}return s},requires:a,name:i,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator",c),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),component:t("$compileProvider","component"),config:d,run:function(e){return u.push(e),this}};return o&&d(o),h})}})}function xe(e,t){if(vr(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if(x(e)){t=t||{};for(var r in e)"$"===r.charAt(0)&&"$"===r.charAt(1)||(t[r]=e[r])}return t||e}function _e(e,t){var i=[];return n(t)&&(e=fr.copy(e,null,t)),JSON.stringify(e,function(e,t){if(t=G(e,t),x(t)){if(i.indexOf(t)>=0)return"...";i.push(t)}return t})}function ke(e,t){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):y(e)?"undefined":"string"!=typeof e?_e(e,t):e}function Ce(){return++Rr}function Se(e){return De(e.replace(Lr,"ms-"))}function $e(e,t){return t.toUpperCase()}function De(e){return e.replace(Nr,$e)}function Te(e){return!Hr.test(e)}function Ee(e){var t=e.nodeType;return t===Tr||!t||t===Ar}function Me(e){for(var t in Ir[e.ng339])return!0;return!1}function Ae(e,t){var n,i,r,o,s=t.createDocumentFragment(),l=[];if(Te(e))l.push(t.createTextNode(e));else{for(n=s.appendChild(t.createElement("div")),i=(Wr.exec(e)||["",""])[1].toLowerCase(),r=Vr[i]||Vr._default,n.innerHTML=r[1]+e.replace(Br,"<$1></$2>")+r[2],o=r[0];o--;)n=n.lastChild;l=q(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",a(l,function(e){s.appendChild(e)}),s}function Oe(t,n){n=n||e.document;var i;return(i=jr.exec(t))?[n.createElement(i[1])]:(i=Ae(t,n))?i.childNodes:[]}function Pe(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function Ie(e){if(e instanceof Ie)return e;var t;if(k(e)&&(e=yr(e),t=!0),!(this instanceof Ie)){if(t&&"<"!==e.charAt(0))throw zr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Ie(e)}t?Ve(this,Oe(e)):D(e)?Xe(e):Ve(this,e)}function Re(e){return e.cloneNode(!0)}function Ne(e,t){!t&&Ee(e)&&ar.cleanData([e]),e.querySelectorAll&&ar.cleanData(e.querySelectorAll("*"))}function Le(e,t,n,i){if(w(i))throw zr("offargs","jqLite#off() does not support the `selector` argument");var r=ze(e),o=r&&r.events,s=r&&r.handle;if(s)if(t){var l=function(t){var i=o[t];w(n)&&W(i||[],n),w(n)&&i&&i.length>0||(e.removeEventListener(t,s),delete o[t])};a(t.split(" "),function(e){l(e),Fr[e]&&l(Fr[e])})}else for(t in o)"$destroy"!==t&&e.removeEventListener(t,s),delete o[t]}function Fe(e,t){var n=e.ng339,i=n&&Ir[n];if(i){if(t)return void delete i.data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Le(e)),delete Ir[n],e.ng339=void 0}}function ze(e,t){var n=e.ng339,i=n&&Ir[n];return t&&!i&&(e.ng339=n=Ce(),i=Ir[n]={events:{},data:{},handle:void 0}),i}function je(e,t,n){if(Ee(e)){var i,r=w(n),a=!r&&t&&!x(t),o=!t,s=ze(e,!a),l=s&&s.data;if(r)l[De(t)]=n;else{if(o)return l;if(a)return l&&l[De(t)];for(i in t)l[De(i)]=t[i]}}}function He(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function We(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),i=n;a(t.split(" "),function(e){e=yr(e),i=i.replace(" "+e+" "," ")}),i!==n&&e.setAttribute("class",yr(i))}}function Be(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),i=n;a(t.split(" "),function(e){e=yr(e),-1===i.indexOf(" "+e+" ")&&(i+=e+" ")}),i!==n&&e.setAttribute("class",yr(i))}}function Ve(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;i<n;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function Ue(e,t){return qe(e,"$"+(t||"ngController")+"Controller")}function qe(e,t,n){e.nodeType===Ar&&(e=e.documentElement);for(var i=vr(t)?t:[t];e;){for(var r=0,a=i.length;r<a;r++)if(w(n=ar.data(e,i[r])))return n;e=e.parentNode||e.nodeType===Or&&e.host}}function Ye(e){for(Ne(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Ke(e,t){t||Ne(e);var n=e.parentNode;n&&n.removeChild(e)}function Ge(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):ar(n).on("load",t)}function Xe(t){function n(){e.document.removeEventListener("DOMContentLoaded",n),e.removeEventListener("load",n),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",n),e.addEventListener("load",n))}function Je(e,t){var n=Yr[t.toLowerCase()];return n&&Kr[j(e)]&&n}function Ze(e){return Gr[e]}function Qe(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[i||n.type],a=r?r.length:0;if(a){if(y(n.immediatePropagationStopped)){var o=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),o&&o.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=r.specialHandlerWrapper||et;a>1&&(r=xe(r));for(var l=0;l<a;l++)n.isImmediatePropagationStopped()||s(e,n,r[l])}};return n.elem=e,n}function et(e,t,n){n.call(e,t)}function tt(e,t,n){var i=t.relatedTarget;i&&(i===e||Ur.call(e,i))||n.call(e,t)}function nt(){this.$get=function(){return d(Ie,{hasClass:function(e,t){return e.attr&&(e=e[0]),He(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Be(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),We(e,t)}})}}function it(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var i=typeof e;return n="function"===i||"object"===i&&null!==e?e.$$hashKey=i+":"+(t||l)():i+":"+e}function rt(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function at(e){return Function.prototype.toString.call(e)}function ot(e){var t=at(e).replace(ia,"");return t.match(Qr)||t.match(ea)}function st(e){var t=ot(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function lt(e,t,n){var i,r,o;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw k(n)&&n||(n=e.name||st(e)),ra("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);r=ot(e),a(r[1].split(ta),function(e){e.replace(na,function(e,t,n){i.push(n)})})}e.$inject=i}}else vr(e)?(o=e.length-1,fe(e[o],"fn"),i=e.slice(0,o)):fe(e,"fn",!0);return i}function ct(e,t){function n(e){return function(t,n){if(!x(t))return e(t,n);a(t,s(e))}}function i(e,t){if(ge(e,"service"),(D(t)||vr(t))&&(t=_.instantiate(t)),!t.$get)throw ra("pget","Provider '{0}' must define $get factory method.",e);return w[e+g]=t}function r(e,t){return function(){var n=$.invoke(t,this);if(y(n))throw ra("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function o(e,t,n){return i(e,{$get:!1!==n?r(e,t):t})}function l(e,t){return o(e,["$injector",function(e){return e.instantiate(t)}])}function c(e,t){return o(e,v(t),!1)}function u(e,t){ge(e,"constant"),w[e]=t,C[e]=t}function d(e,t){var n=_.get(e+g),i=n.$get;n.$get=function(){var e=$.invoke(i,n);return $.invoke(t,null,{$delegate:e})}}function h(e){pe(y(e)||vr(e),"modulesToLoad","not an array");var t,n=[];return a(e,function(e){function i(e){var t,n;for(t=0,n=e.length;t<n;t++){var i=e[t],r=_.get(i[0]);r[i[1]].apply(r,i[2])}}if(!b.get(e)){b.set(e,!0);try{k(e)?(t=sr(e),$.modules[e]=t,n=n.concat(h(t.requires)).concat(t._runBlocks),i(t._invokeQueue),i(t._configBlocks)):D(e)?n.push(_.invoke(e)):vr(e)?n.push(_.invoke(e)):fe(e,"module")}catch(t){throw vr(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1===t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),ra("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}}),n}function p(e,n){function i(t,i){if(e.hasOwnProperty(t)){if(e[t]===f)throw ra("cdep","Circular dependency found: {0}",t+" <- "+m.join(" <- "));return e[t]}try{return m.unshift(t),e[t]=f,e[t]=n(t,i),e[t]}catch(n){throw e[t]===f&&delete e[t],n}finally{m.shift()}}function r(e,n,r){for(var a=[],o=ct.$$annotate(e,t,r),s=0,l=o.length;s<l;s++){var c=o[s];if("string"!=typeof c)throw ra("itkn","Incorrect injection token! Expected service name as string, got {0}",c);a.push(n&&n.hasOwnProperty(c)?n[c]:i(c,r))}return a}function a(e){if(rr||"function"!=typeof e)return!1;var t=e.$$ngIsClass;return I(t)||(t=e.$$ngIsClass=/^(?:class\b|constructor\()/.test(at(e))),t}function o(e,t,n,i){"string"==typeof n&&(i=n,n=null);var o=r(e,n,i);return vr(e)&&(e=e[e.length-1]),a(e)?(o.unshift(null),new(Function.prototype.bind.apply(e,o))):e.apply(t,o)}function s(e,t,n){var i=vr(e)?e[e.length-1]:e,a=r(e,t,n);return a.unshift(null),new(Function.prototype.bind.apply(i,a))}return{invoke:o,instantiate:s,get:i,annotate:ct.$$annotate,has:function(t){return w.hasOwnProperty(t+g)||e.hasOwnProperty(t)}}}t=!0===t;var f={},g="Provider",m=[],b=new Jr,w={$provide:{provider:n(i),factory:n(o),service:n(l),value:n(c),constant:n(u),decorator:d}},_=w.$injector=p(w,function(e,t){throw fr.isString(t)&&m.push(t),ra("unpr","Unknown provider: {0}",m.join(" <- "))}),C={},S=p(C,function(e,t){var n=_.get(e+g,t);return $.invoke(n.$get,n,void 0,e)}),$=S;w["$injector"+g]={$get:v(S)},$.modules=_.modules=be();var T=h(e);return $=S.get("$injector"),$.strictDi=t,a(T,function(e){e&&$.invoke(e)}),$.loadNewModules=function(e){a(h(e),function(e){e&&$.invoke(e)})},$}function ut(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function r(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===j(e))return t=e,!0}),t}function a(){var e=s.yOffset;if(D(e))e=e();else if(F(e)){var n=e[0],i=t.getComputedStyle(n);e="fixed"!==i.position?0:n.getBoundingClientRect().bottom}else C(e)||(e=0);return e}function o(e){if(e){e.scrollIntoView();var n=a();if(n){var i=e.getBoundingClientRect().top;t.scrollBy(0,i-n)}}else t.scrollTo(0,0)}function s(e){e=k(e)?e:C(e)?e.toString():n.hash();var t;e?(t=l.getElementById(e))?o(t):(t=r(l.getElementsByName(e)))?o(t):"top"===e&&o(null):o(null)}var l=t.document;return e&&i.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||Ge(function(){i.$evalAsync(s)})}),s}]}function dt(e,t){return e||t?e?t?(vr(e)&&(e=e.join(" ")),vr(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function ht(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===oa)return n}}function pt(e){k(e)&&(e=e.split(" "));var t=be();return a(e,function(e){e.length&&(t[e]=!0)}),t}function ft(e){return x(e)?e:{}}function gt(e,t,n,i){function r(e){try{e.apply(null,Y(arguments,1))}finally{if(0===--v)for(;b.length;)try{b.pop()()}catch(e){n.error(e)}}}function o(e){var t=e.indexOf("#");return-1===t?"":e.substr(t)}function s(){C=null,c()}function l(){w=S(),w=y(w)?null:w,U(w,T)&&(w=T),T=w,x=w}function c(){var e=x;l(),_===u.url()&&e===w||(_=u.url(),x=w,a($,function(e){e(u.url(),w)}))}var u=this,d=e.location,h=e.history,p=e.setTimeout,f=e.clearTimeout,m={};u.isMock=!1;var v=0,b=[];u.$$completeOutstandingRequest=r,u.$$incOutstandingRequestCount=function(){v++},u.notifyWhenNoOutstandingRequests=function(e){0===v?e():b.push(e)};var w,x,_=d.href,k=t.find("base"),C=null,S=i.history?function(){try{return h.state}catch(e){}}:g;l(),u.url=function(t,n,r){if(y(r)&&(r=null),d!==e.location&&(d=e.location),h!==e.history&&(h=e.history),t){var a=x===r;if(_===t&&(!i.history||a))return u;var s=_&&Jt(_)===Jt(t);return _=t,x=r,!i.history||s&&a?(s||(C=t),n?d.replace(t):s?d.hash=o(t):d.href=t,d.href!==t&&(C=t)):(h[n?"replaceState":"pushState"](r,"",t),l()),C&&(C=t),u}return C||d.href.replace(/%27/g,"'")},u.state=function(){return w};var $=[],D=!1,T=null;u.onUrlChange=function(t){return D||(i.history&&ar(e).on("popstate",s),ar(e).on("hashchange",s),D=!0),$.push(t),t},u.$$applicationDestroyed=function(){ar(e).off("hashchange popstate",s)},u.$$checkUrlChange=c,u.baseHref=function(){var e=k.attr("href");return e?e.replace(/^(https?:)?\/\/[^\/]*/,""):""},u.defer=function(e,t){var n;return v++,n=p(function(){delete m[n],r(e)},t||0),m[n]=!0,n},u.defer.cancel=function(e){return!!m[e]&&(delete m[e],f(e),r(g),!0)}}function mt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new gt(e,i,t,n)}]}function vt(){this.$get=function(){function e(e,n){function r(e){e!==h&&(p?p===e&&(p=e.n):p=e,a(e.n,e.p),a(e,h),h=e,h.n=null)}function a(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw i("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var o=0,s=d({},n,{id:e}),l=be(),c=n&&n.capacity||Number.MAX_VALUE,u=be(),h=null,p=null;return t[e]={put:function(e,t){if(!y(t)){if(c<Number.MAX_VALUE){r(u[e]||(u[e]={key:e}))}return e in l||o++,l[e]=t,o>c&&this.remove(p.key),t}},get:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;r(t)}return l[e]},remove:function(e){if(c<Number.MAX_VALUE){var t=u[e];if(!t)return;t===h&&(h=t.p),t===p&&(p=t.n),a(t.n,t.p),delete u[e]}e in l&&(delete l[e],o--)},removeAll:function(){l=be(),o=0,u=be(),h=p=null},destroy:function(){l=null,s=null,u=null,delete t[e]},info:function(){return d({},s,{size:o})}}}var t={};return e.info=function(){var e={};return a(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function bt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function yt(){}function wt(t,n){function i(e,t,n){var i=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,r=be();return a(e,function(e,a){if(e in T)return void(r[a]=T[e]);var o=e.match(i);if(!o)throw pa("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,a,e,n?"controller bindings definition":"isolate scope definition");r[a]={mode:o[1][0],collection:"*"===o[2],optional:"?"===o[3],attrName:o[4]||a},o[4]&&(T[e]=r[a])}),r}function r(e,t){var n={isolateScope:null,bindToController:null};if(x(e.scope)&&(!0===e.bindToController?(n.bindToController=i(e.scope,t,!0),n.isolateScope={}):n.isolateScope=i(e.scope,t,!1)),x(e.bindToController)&&(n.bindToController=i(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw pa("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}function o(e){var t=e.charAt(0);if(!t||t!==er(t))throw pa("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw pa("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}function l(e){var t=e.require||e.controller&&e.name;return!vr(t)&&x(t)&&a(t,function(e,n){var i=e.match(C);e.substring(i[0].length)||(t[n]=i[0]+n)}),t}function c(e,t){if(e&&(!k(e)||!/[EACM]/.test(e)))throw pa("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}var u={},h="Directive",p=/^\s*directive:\s*([\w-]+)\s+(.*)$/,b=/(([\w-]+)(?::([^;]+))?;?)/,_=z("ngSrc,ngSrcset,src,srcset"),C=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,S=/^(on[a-z]+|formaction)$/,T=be();this.directive=function e(n,i){return pe(n,"name"),ge(n,"directive"),k(n)?(o(n),pe(i,"directiveFactory"),u.hasOwnProperty(n)||(u[n]=[],t.factory(n+h,["$injector","$exceptionHandler",function(e,t){var i=[];return a(u[n],function(r,a){try{var o=e.invoke(r);D(o)?o={compile:v(o)}:!o.compile&&o.link&&(o.compile=v(o.link)),o.priority=o.priority||0,o.index=a,o.name=o.name||n,o.require=l(o),o.restrict=c(o.restrict,n),o.$$moduleName=r.$$moduleName,i.push(o)}catch(e){t(e)}}),i}])),u[n].push(i)):a(n,s(e)),this},this.component=function e(t,n){function i(e){function t(t){return D(t)||vr(t)?function(n,i){return e.invoke(t,this,{$element:n,$attrs:i})}:t}var i=n.template||n.templateUrl?n.template:"",o={controller:r,controllerAs:St(n.controller)||n.controllerAs||"$ctrl",template:t(i),templateUrl:t(n.templateUrl),transclude:n.transclude,scope:{},bindToController:n.bindings||{},restrict:"E",require:n.require};return a(n,function(e,t){"$"===t.charAt(0)&&(o[t]=e)}),o}if(!k(t))return a(t,s(K(this,e))),this;var r=n.controller||function(){};return a(n,function(e,t){"$"===t.charAt(0)&&(i[t]=e,D(r)&&(r[t]=e))}),i.$inject=["$injector"],this.directive(t,i)},this.aHrefSanitizationWhitelist=function(e){return w(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return w(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var E=!0;this.debugInfoEnabled=function(e){return w(e)?(E=e,this):E};var A=!1;this.preAssignBindingsEnabled=function(e){return w(e)?(A=e,this):A};var O=!1;this.strictComponentBindingsEnabled=function(e){return w(e)?(O=e,this):O};var P=10;this.onChangesTtl=function(e){return arguments.length?(P=e,this):P};var R=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(R=e,this):R};var N=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(N=e,this):N},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,i,o,s,l,c,v,T,L){function F(){try{if(!--Pe)throw De=void 0,pa("infchng","{0} $onChanges() iterations reached. Aborting!\n",P);c.$apply(function(){for(var e=[],t=0,n=De.length;t<n;++t)try{De[t]()}catch(t){e.push(t)}if(De=void 0,e.length)throw e})}finally{Pe++}}function z(e,t){if(t){var n,i,r,a=Object.keys(t);for(n=0,i=a.length;n<i;n++)r=a[n],this[r]=t[r]}else this.$attr={};this.$$element=e}function H(e,t,n){Me.innerHTML="<span "+t+">";var i=Me.firstChild.attributes,r=i[0];i.removeNamedItem(r.name),r.value=n,e.attributes.setNamedItem(r)}function B(e,t){try{e.addClass(t)}catch(e){}}function q(e,t,n,i,r){e instanceof ar||(e=ar(e));var a=X(e,t,e,n,i,r);q.$$addScopeClass(e);var o=null;return function(t,n,i){if(!e)throw pa("multilink","This element has already been linked.");pe(t,"scope"),r&&r.needsNewScope&&(t=t.$parent.$new()),i=i||{};var s=i.parentBoundTranscludeFn,l=i.transcludeControllers,c=i.futureParentElement;s&&s.$$boundTransclude&&(s=s.$$boundTransclude),o||(o=G(c));var u;if(u="html"!==o?ar(ye(o,ar("<div>").append(e).html())):n?qr.clone.call(e):e,l)for(var d in l)u.data("$"+d+"Controller",l[d].instance);return q.$$addScopeInfo(u,t),n&&n(u,t),a&&a(t,u,u,s),n||(e=a=null),u}}function G(e){var t=e&&e[0];return t&&"foreignobject"!==j(t)&&dr.call(t).match(/SVG/)?"svg":"html"}function X(e,t,n,i,r,a){function o(e,n,i,r){var a,o,s,l,c,u,d,h,g;if(p){var m=n.length;for(g=new Array(m),c=0;c<f.length;c+=3)d=f[c],g[d]=n[d]}else g=n;for(c=0,u=f.length;c<u;)s=g[f[c++]],a=f[c++],o=f[c++],a?(a.scope?(l=e.$new(),q.$$addScopeInfo(ar(s),l)):l=e,h=a.transcludeOnThisElement?Z(e,a.transclude,r):!a.templateOnThisElement&&r?r:!r&&t?Z(e,t):null,a(o,l,s,i,h)):o&&o(e,s.childNodes,void 0,r)}for(var s,l,c,u,d,h,p,f=[],g=vr(e)||e instanceof ar,m=0;m<e.length;m++)s=new z,11===rr&&J(e,m,g),l=Q(e[m],[],s,0===m?i:void 0,r),c=l.length?ae(l,e[m],s,t,n,null,[],[],a):null,c&&c.scope&&q.$$addScopeClass(s.$$element),d=c&&c.terminal||!(u=e[m].childNodes)||!u.length?null:X(u,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t),(c||d)&&(f.push(m,c,d),h=!0,p=p||c),a=null;return h?o:null}function J(e,t,n){var i,r=e[t],a=r.parentNode;if(r.nodeType===Er)for(;;){if(!(i=a?r.nextSibling:e[t+1])||i.nodeType!==Er)break;r.nodeValue=r.nodeValue+i.nodeValue,i.parentNode&&i.parentNode.removeChild(i),n&&i===e[t+1]&&e.splice(t+1,1)}}function Z(e,t,n){function i(i,r,a,o,s){return i||(i=e.$new(!1,s),i.$$transcluded=!0),t(i,r,{parentBoundTranscludeFn:n,transcludeControllers:a,futureParentElement:o})}var r=i.$$slots=be();for(var a in t.$$slots)t.$$slots[a]?r[a]=Z(e,t.$$slots[a],n):r[a]=null;return i}function Q(e,t,n,i,r){var a,o,s,l=e.nodeType,c=n.$attr;switch(l){case Tr:o=j(e),ce(t,_t(o),"E",i,r);for(var u,d,h,p,f,g,m=e.attributes,v=0,y=m&&m.length;v<y;v++){var w=!1,_=!1;u=m[v],d=u.name,f=u.value,p=_t(d),g=Fe.test(p),g&&(d=d.replace(ga,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var C=p.match(ze);C&&ue(C[1])&&(w=d,_=d.substr(0,d.length-5)+"end",d=d.substr(0,d.length-6)),h=_t(d.toLowerCase()),c[h]=d,!g&&n.hasOwnProperty(h)||(n[h]=f,Je(e,h)&&(n[h]=!0)),xe(e,t,f,h,g),ce(t,h,"A",i,r,w,_)}if("input"===o&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!Oe)break;if(s=e.className,x(s)&&(s=s.animVal),k(s)&&""!==s)for(;a=b.exec(s);)h=_t(a[2]),ce(t,h,"C",i,r)&&(n[h]=yr(a[3])),s=s.substr(a.index+a[0].length);break;case Er:ve(t,e.nodeValue);break;case Mr:if(!Ae)break;ee(e,t,n,i,r)}return t.sort(ge),t}function ee(e,t,n,i,r){try{var a=p.exec(e.nodeValue);if(a){var o=_t(a[1]);ce(t,o,"M",i,r)&&(n[o]=yr(a[2]))}}catch(e){}}function ne(e,t,n){var i=[],r=0
;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw pa("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType===Tr&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(r>0);else i.push(e);return ar(i)}function ie(e,t,n){return function(i,r,a,o,s){return r=ne(r[0],t,n),e(i,r,a,o,s)}}function re(e,t,n,i,r,a){var o;return e?q(t,n,i,r,a):function(){return o||(o=q(t,n,i,r,a),t=n=a=null),o.apply(this,arguments)}}function ae(e,t,n,r,o,s,l,c,u){function h(e,t,n,i){e&&(n&&(e=ie(e,n,i)),e.require=f.require,e.directiveName=g,(C===f||f.$$isolateScope)&&(e=ke(e,{isolateScope:!0})),l.push(e)),t&&(n&&(t=ie(t,n,i)),t.require=f.require,t.directiveName=g,(C===f||f.$$isolateScope)&&(t=ke(t,{isolateScope:!0})),c.push(t))}function p(e,r,o,s,u){function h(e,t,n,i){var r;if(M(e)||(i=n,n=t,t=e,e=void 0),O&&(r=b),n||(n=O?$.parent():$),!i)return u(e,t,r,n,F);var a=u.$$slots[i];if(a)return a(e,t,r,n,F);if(y(a))throw pa("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,te($))}var p,f,g,m,v,b,w,$,T,E;t===o?(T=n,$=n.$$element):($=ar(o),T=new z($,n)),v=r,C?m=r.$new(!0):_&&(v=r.$parent),u&&(w=h,w.$$boundTransclude=u,w.isSlotFilled=function(e){return!!u.$$slots[e]}),k&&(b=se($,T,w,k,m,r,C)),C&&(q.$$addScopeInfo($,m,!0,!(S&&(S===C||S===C.$$originalDirective))),q.$$addScopeClass($,!0),m.$$isolateBindings=C.$$isolateBindings,E=$e(r,T,m,m.$$isolateBindings,C),E.removeWatches&&m.$on("$destroy",E.removeWatches));for(var P in b){var I=k[P],R=b[P],N=I.$$bindings.bindToController;if(A){R.bindingInfo=N?$e(v,T,R.instance,N,I):{};var L=R();L!==R.instance&&(R.instance=L,$.data("$"+I.name+"Controller",L),R.bindingInfo.removeWatches&&R.bindingInfo.removeWatches(),R.bindingInfo=$e(v,T,R.instance,N,I))}else R.instance=R(),$.data("$"+I.name+"Controller",R.instance),R.bindingInfo=$e(v,T,R.instance,N,I)}for(a(k,function(e,t){var n=e.require;e.bindToController&&!vr(n)&&x(n)&&d(b[t].instance,oe(t,n,$,b))}),a(b,function(e){var t=e.instance;if(D(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){i(e)}if(D(t.$onInit))try{t.$onInit()}catch(e){i(e)}D(t.$doCheck)&&(v.$watch(function(){t.$doCheck()}),t.$doCheck()),D(t.$onDestroy)&&v.$on("$destroy",function(){t.$onDestroy()})}),p=0,f=l.length;p<f;p++)g=l[p],Ce(g,g.isolateScope?m:r,$,T,g.require&&oe(g.directiveName,g.require,$,b),w);var F=r;for(C&&(C.template||null===C.templateUrl)&&(F=m),e&&e(F,o.childNodes,void 0,u),p=c.length-1;p>=0;p--)g=c[p],Ce(g,g.isolateScope?m:r,$,T,g.require&&oe(g.directiveName,g.require,$,b),w);a(b,function(e){var t=e.instance;D(t.$postLink)&&t.$postLink()})}u=u||{};for(var f,g,m,v,b,w=-Number.MAX_VALUE,_=u.newScopeDirective,k=u.controllerDirectives,C=u.newIsolateScopeDirective,S=u.templateDirective,$=u.nonTlbTranscludeDirective,T=!1,E=!1,O=u.hasElementTranscludeDirective,P=n.$$element=ar(t),I=s,R=r,N=!1,L=!1,F=0,H=e.length;F<H;F++){f=e[F];var W=f.$$start,B=f.$$end;if(W&&(P=ne(t,W,B)),m=void 0,w>f.priority)break;if(b=f.scope,b&&(f.templateUrl||(x(b)?(me("new/isolated scope",C||_,f,P),C=f):me("new/isolated scope",C,f,P)),_=_||f),g=f.name,!N&&(f.replace&&(f.templateUrl||f.template)||f.transclude&&!f.$$tlb)){for(var V,U=F+1;V=e[U++];)if(V.transclude&&!V.$$tlb||V.replace&&(V.templateUrl||V.template)){L=!0;break}N=!0}if(!f.templateUrl&&f.controller&&(k=k||be(),me("'"+g+"' controller",k[g],f,P),k[g]=f),b=f.transclude)if(T=!0,f.$$tlb||(me("transclusion",$,f,P),$=f),"element"===b)O=!0,w=f.priority,m=P,P=n.$$element=ar(q.$$createComment(g,n[g])),t=P[0],_e(o,Y(m),t),m[0].$$parentNode=m[0].parentNode,R=re(L,m,r,w,I&&I.name,{nonTlbTranscludeDirective:$});else{var G=be();if(x(b)){m=[];var X=be(),J=be();a(b,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,X[e]=t,G[t]=null,J[t]=n}),a(P.contents(),function(e){var t=X[_t(j(e))];t?(J[t]=!0,G[t]=G[t]||[],G[t].push(e)):m.push(e)}),a(J,function(e,t){if(!e)throw pa("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var Z in G)G[Z]&&(G[Z]=re(L,G[Z],r))}else m=ar(Re(t)).contents();P.empty(),R=re(L,m,r,void 0,void 0,{needsNewScope:f.$$isolateScope||f.$$newScope}),R.$$slots=G}if(f.template)if(E=!0,me("template",S,f,P),S=f,b=D(f.template)?f.template(P,n):f.template,b=Le(b),f.replace){if(I=f,m=Te(b)?[]:Ct(ye(f.templateNamespace,yr(b))),t=m[0],1!==m.length||t.nodeType!==Tr)throw pa("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g,"");_e(o,P,t);var ee={$attr:{}},ae=Q(t,[],ee),ce=e.splice(F+1,e.length-(F+1));(C||_)&&le(ae,C,_),e=e.concat(ae).concat(ce),de(n,ee),H=e.length}else P.html(b);if(f.templateUrl)E=!0,me("template",S,f,P),S=f,f.replace&&(I=f),p=fe(e.splice(F,e.length-F),P,n,o,T&&R,l,c,{controllerDirectives:k,newScopeDirective:_!==f&&_,newIsolateScopeDirective:C,templateDirective:S,nonTlbTranscludeDirective:$}),H=e.length;else if(f.compile)try{v=f.compile(P,n,R);var ue=f.$$originalDirective||f;D(v)?h(null,K(ue,v),W,B):v&&h(K(ue,v.pre),K(ue,v.post),W,B)}catch(e){i(e,te(P))}f.terminal&&(p.terminal=!0,w=Math.max(w,f.priority))}return p.scope=_&&!0===_.scope,p.transcludeOnThisElement=T,p.templateOnThisElement=E,p.transclude=R,u.hasElementTranscludeDirective=O,p}function oe(e,t,n,i){var r;if(k(t)){var o=t.match(C),s=t.substring(o[0].length),l=o[1]||o[3],c="?"===o[2];if("^^"===l?n=n.parent():(r=i&&i[s],r=r&&r.instance),!r){var u="$"+s+"Controller";r=l?n.inheritedData(u):n.data(u)}if(!r&&!c)throw pa("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(vr(t)){r=[];for(var d=0,h=t.length;d<h;d++)r[d]=oe(e,t[d],n,i)}else x(t)&&(r={},a(t,function(t,a){r[a]=oe(e,t,n,i)}));return r||null}function se(e,t,n,i,r,a,o){var s=be();for(var c in i){var u=i[c],d={$scope:u===o||u.$$isolateScope?r:a,$element:e,$attrs:t,$transclude:n},h=u.controller;"@"===h&&(h=t[u.name]);var p=l(h,d,!0,u.controllerAs);s[u.name]=p,e.data("$"+u.name+"Controller",p.instance)}return s}function le(e,t,n){for(var i=0,r=e.length;i<r;i++)e[i]=f(e[i],{$$isolateScope:t,$$newScope:n})}function ce(e,n,i,a,o,s,l){if(n===o)return null;var c=null;if(u.hasOwnProperty(n))for(var d,p=t.get(n+h),g=0,m=p.length;g<m;g++)if(d=p[g],(y(a)||a>d.priority)&&-1!==d.restrict.indexOf(i)){if(s&&(d=f(d,{$$start:s,$$end:l})),!d.$$bindings){var v=d.$$bindings=r(d,d.name);x(v.isolateScope)&&(d.$$isolateBindings=v.isolateScope)}e.push(d),c=d}return c}function ue(e){if(u.hasOwnProperty(e))for(var n,i=t.get(e+h),r=0,a=i.length;r<a;r++)if(n=i[r],n.multiElement)return!0;return!1}function de(e,t){var n=t.$attr,i=e.$attr;a(e,function(i,r){"$"!==r.charAt(0)&&(t[r]&&t[r]!==i&&(i.length?i+=("style"===r?";":" ")+t[r]:i=t[r]),e.$set(r,i,!0,n[r]))}),a(t,function(t,r){e.hasOwnProperty(r)||"$"===r.charAt(0)||(e[r]=t,"class"!==r&&"style"!==r&&(i[r]=n[r]))})}function fe(e,t,n,r,s,l,c,u){var d,h,p=[],g=t[0],m=e.shift(),v=f(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),b=D(m.templateUrl)?m.templateUrl(t,n):m.templateUrl,y=m.templateNamespace;return t.empty(),o(b).then(function(i){var o,f,w,_;if(i=Le(i),m.replace){if(w=Te(i)?[]:Ct(ye(y,yr(i))),o=w[0],1!==w.length||o.nodeType!==Tr)throw pa("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,b);f={$attr:{}},_e(r,t,o);var k=Q(o,[],f);x(m.scope)&&le(k,!0),e=k.concat(e),de(n,f)}else o=g,t.html(i);for(e.unshift(v),d=ae(e,o,n,s,t,m,l,c,u),a(r,function(e,n){e===o&&(r[n]=t[0])}),h=X(t[0].childNodes,s);p.length;){var C=p.shift(),S=p.shift(),$=p.shift(),D=p.shift(),T=t[0];if(!C.$$destroyed){if(S!==g){var E=S.className;u.hasElementTranscludeDirective&&m.replace||(T=Re(o)),_e($,ar(S),T),B(ar(T),E)}_=d.transcludeOnThisElement?Z(C,d.transclude,D):D,d(h,C,T,r,_)}}p=null}).catch(function(e){$(e)&&i(e)}),function(e,t,n,i,r){var a=r;t.$$destroyed||(p?p.push(t,n,i,a):(d.transcludeOnThisElement&&(a=Z(t,d.transclude,r)),d(h,t,n,i,a)))}}function ge(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function me(e,t,n,i){function r(e){return e?" (module: "+e+")":""}if(t)throw pa("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,r(t.$$moduleName),n.name,r(n.$$moduleName),e,te(i))}function ve(e,t){var i=n(t,!0);i&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&q.$$addBindingClass(t),function(e,t){var r=t.parent();n||q.$$addBindingClass(r),q.$$addBindingInfo(r,i.expressions),e.$watch(i,function(e){t[0].nodeValue=e})}}})}function ye(t,n){switch(t=er(t||"html")){case"svg":case"math":var i=e.document.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function we(e,t){if("srcdoc"===t)return v.HTML;var n=j(e);if("src"===t||"ngSrc"===t){if(-1===["img","video","audio","source","track"].indexOf(n))return v.RESOURCE_URL}else if("xlinkHref"===t||"form"===n&&"action"===t||"link"===n&&"href"===t)return v.RESOURCE_URL}function xe(e,t,i,r,a){var o=we(e,r),s=!a,l=_[r]||a,c=n(i,s,o,l);if(c){if("multiple"===r&&"select"===j(e))throw pa("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",te(e));if(S.test(r))throw pa("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");t.push({priority:100,compile:function(){return{pre:function(e,t,a){var s=a.$$observers||(a.$$observers=be()),u=a[r];u!==i&&(c=u&&n(u,!0,o,l),i=u),c&&(a[r]=c(e),(s[r]||(s[r]=[])).$$inter=!0,(a.$$observers&&a.$$observers[r].$$scope||e).$watch(c,function(e,t){"class"===r&&e!==t?a.$updateClass(e,t):a.$set(r,e)}))}}}})}}function _e(t,n,i){var r,a,o=n[0],s=n.length,l=o.parentNode;if(t)for(r=0,a=t.length;r<a;r++)if(t[r]===o){t[r++]=i;for(var c=r,u=c+s-1,d=t.length;c<d;c++,u++)u<d?t[c]=t[u]:delete t[c];t.length-=s-1,t.context===o&&(t.context=i);break}l&&l.replaceChild(i,o);var h=e.document.createDocumentFragment();for(r=0;r<s;r++)h.appendChild(n[r]);for(ar.hasData(o)&&(ar.data(i,ar.data(o)),ar(o).off("$destroy")),ar.cleanData(h.querySelectorAll("*")),r=1;r<s;r++)delete n[r];n[0]=i,n.length=1}function ke(e,t){return d(function(){return e.apply(null,arguments)},e,t)}function Ce(e,t,n,r,a,o){try{e(t,n,r,a,o)}catch(e){i(e,te(n))}}function Se(e,t){if(O)throw pa("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",e,t)}function $e(e,t,i,r,o){function l(t,n,r){D(i.$onChanges)&&!V(n,r)&&(De||(e.$$postDigest(F),De=[]),u||(u={},De.push(c)),u[t]&&(r=u[t].previousValue),u[t]=new xt(r,n))}function c(){i.$onChanges(u),u=void 0}var u,d=[],h={};return a(r,function(r,a){var c,u,p,f,m,v=r.attrName,b=r.optional,y=r.mode;switch(y){case"@":b||Qi.call(t,v)||(Se(v,o.name),i[a]=t[v]=void 0),m=t.$observe(v,function(e){if(k(e)||I(e)){var t=i[a];l(a,e,t),i[a]=e}}),t.$$observers[v].$$scope=e,c=t[v],k(c)?i[a]=n(c)(e):I(c)&&(i[a]=c),h[a]=new xt(fa,i[a]),d.push(m);break;case"=":if(!Qi.call(t,v)){if(b)break;Se(v,o.name),t[v]=void 0}if(b&&!t[v])break;u=s(t[v]),f=u.literal?U:V,p=u.assign||function(){throw c=i[a]=u(e),pa("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[v],v,o.name)},c=i[a]=u(e);var w=function(t){return f(t,i[a])||(f(t,c)?p(e,t=i[a]):i[a]=t),c=t};w.$stateful=!0,m=r.collection?e.$watchCollection(t[v],w):e.$watch(s(t[v],w),null,u.literal),d.push(m);break;case"<":if(!Qi.call(t,v)){if(b)break;Se(v,o.name),t[v]=void 0}if(b&&!t[v])break;u=s(t[v]);var x=u.literal,_=i[a]=u(e);h[a]=new xt(fa,i[a]),m=e.$watch(u,function(e,t){if(t===e){if(t===_||x&&U(t,_))return;t=_}l(a,e,t),i[a]=e},x),d.push(m);break;case"&":if(b||Qi.call(t,v)||Se(v,o.name),(u=t.hasOwnProperty(v)?s(t[v]):g)===g&&b)break;i[a]=function(t){return u(e,t)}}}),{initialChanges:h,removeWatches:d.length&&function(){for(var e=0,t=d.length;e<t;++e)d[e]()}}}var De,Ee=/^\w/,Me=e.document.createElement("div"),Ae=R,Oe=N,Pe=P;z.prototype={$normalize:_t,$addClass:function(e){e&&e.length>0&&T.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&T.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=kt(e,t);n&&n.length&&T.addClass(this.$$element,n);var i=kt(t,e);i&&i.length&&T.removeClass(this.$$element,i)},$set:function(e,t,n,r){var o,s=this.$$element[0],l=Je(s,e),c=Ze(e),u=e;if(l?(this.$$element.prop(e,t),r=l):c&&(this[c]=t,u=c),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e])||(this.$attr[e]=r=he(e,"-")),"a"===(o=j(this.$$element))&&("href"===e||"xlinkHref"===e)||"img"===o&&"src"===e)this[e]=t=L(t,"src"===e);else if("img"===o&&"srcset"===e&&w(t)){for(var d="",h=yr(t),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,f=/\s/.test(h)?p:/(,)/,g=h.split(f),m=Math.floor(g.length/2),v=0;v<m;v++){var b=2*v;d+=L(yr(g[b]),!0),d+=" "+yr(g[b+1])}var x=yr(g[2*v]).split(/\s/);d+=L(yr(x[0]),!0),2===x.length&&(d+=" "+yr(x[1])),this[e]=t=d}!1!==n&&(null===t||y(t)?this.$$element.removeAttr(r):Ee.test(r)?this.$$element.attr(r,t):H(this.$$element[0],r,t));var _=this.$$observers;_&&a(_[u],function(e){try{e(t)}catch(e){i(e)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=be()),r=i[e]||(i[e]=[]);return r.push(t),c.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(e)||y(n[e])||t(n[e])}),function(){W(r,t)}}};var Ie=n.startSymbol(),Ne=n.endSymbol(),Le="{{"===Ie&&"}}"===Ne?m:function(e){return e.replace(/\{\{/g,Ie).replace(/}}/g,Ne)},Fe=/^ngAttr[A-Z]/,ze=/^(.+)Start$/;return q.$$addBindingInfo=E?function(e,t){var n=e.data("$binding")||[];vr(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:g,q.$$addBindingClass=E?function(e){B(e,"ng-binding")}:g,q.$$addScopeInfo=E?function(e,t,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(r,t)}:g,q.$$addScopeClass=E?function(e,t){B(e,t?"ng-isolate-scope":"ng-scope")}:g,q.$$createComment=function(t,n){var i="";return E&&(i=" "+(t||"")+": ",n&&(i+=n+" ")),e.document.createComment(i)},q}]}function xt(e,t){this.previousValue=e,this.currentValue=t}function _t(e){return e.replace(ga,"").replace(ma,function(e,t,n){return n?t.toUpperCase():t})}function kt(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/);e:for(var a=0;a<i.length;a++){for(var o=i[a],s=0;s<r.length;s++)if(o===r[s])continue e;n+=(n.length>0?" ":"")+o}return n}function Ct(e){e=ar(e);var t=e.length;if(t<=1)return e;for(;t--;){var n=e[t];(n.nodeType===Mr||n.nodeType===Er&&""===n.nodeValue.trim())&&cr.call(e,t,1)}return e}function St(e,t){if(t&&k(t))return t;if(k(e)){var n=ba.exec(e);if(n)return n[3]}}function $t(){var e={},t=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){ge(t,"controller"),x(t)?d(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(n,r){function a(e,t,n,r){if(!e||!x(e.$scope))throw i("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,t);e.$scope[t]=n}return function(i,o,s,l){var c,u,h,p;if(s=!0===s,l&&k(l)&&(p=l),k(i)){if(!(u=i.match(ba)))throw va("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",i);if(h=u[1],p=p||u[3],!(i=e.hasOwnProperty(h)?e[h]:me(o.$scope,h,!0)||(t?me(r,h,!0):void 0)))throw va("ctrlreg","The controller with the name '{0}' is not registered.",h);fe(i,h,!0)}if(s){var f=(vr(i)?i[i.length-1]:i).prototype;return c=Object.create(f||null),p&&a(o,p,c,h||i.name),d(function(){var e=n.invoke(i,c,o,h);return e!==c&&(x(e)||D(e))&&(c=e,p&&a(o,p,c,h||i.name)),c},{instance:c,identifier:p})}return c=n.instantiate(i,o,h),p&&a(o,p,c,h||i.name),c}}]}function Dt(){this.$get=["$window",function(e){return ar(e.document)}]}function Tt(){this.$get=["$document","$rootScope",function(e,t){function n(){r=i.hidden}var i=e[0],r=i&&i.hidden;return e.on("visibilitychange",n),t.$on("$destroy",function(){e.off("visibilitychange",n)}),function(){return r}}]}function Et(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function Mt(e){return x(e)?S(e)?e.toISOString():X(e):e}function At(){this.$get=function(){return function(e){if(!e)return"";var t=[];return o(e,function(e,n){null===e||y(e)||D(e)||(vr(e)?a(e,function(e){t.push(oe(n)+"="+oe(Mt(e)))}):t.push(oe(n)+"="+oe(Mt(e))))}),t.join("&")}}}function Ot(){this.$get=function(){return function(e){function t(e,i,r){null===e||y(e)||(vr(e)?a(e,function(e,n){t(e,i+"["+(x(e)?n:"")+"]")}):x(e)&&!S(e)?o(e,function(e,n){t(e,i+(r?"":"[")+n+(r?"":"]"))}):n.push(oe(i)+"="+oe(Mt(e))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function Pt(e,t){if(k(e)){var n=e.replace(Ca,"").trim();if(n){var i=t("Content-Type"),r=i&&0===i.indexOf(wa);if(r||It(n))try{e=J(n)}catch(t){if(!r)return e;throw Sa("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',e,t)}}}return e}function It(e){var t=e.match(_a);return t&&ka[t[0]].test(e)}function Rt(e){function t(e,t){e&&(i[e]=i[e]?i[e]+", "+t:t)}var n,i=be();return k(e)?a(e.split("\n"),function(e){n=e.indexOf(":"),t(er(yr(e.substr(0,n))),yr(e.substr(n+1)))}):x(e)&&a(e,function(e,n){t(er(n),yr(e))}),i}function Nt(e){var t;return function(n){if(t||(t=Rt(e)),n){var i=t[er(n)];return void 0===i&&(i=null),i}return t}}function Lt(e,t,n,i){return D(i)?i(e,t,n):(a(i,function(i){e=i(e,t,n)}),e)}function Ft(e){return 200<=e&&e<300}function zt(){var e=this.defaults={transformResponse:[Pt],transformRequest:[function(e){return!x(e)||A(e)||P(e)||O(e)?e:X(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:xe(xa),put:xe(xa),patch:xe(xa)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},t=!1;this.useApplyAsync=function(e){return w(e)?(t=!!e,this):t};var n=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(r,o,s,l,c,u,h,p){function f(t){function n(e,t){for(var n=0,i=t.length;n<i;){var r=t[n++],a=t[n++];e=e.then(r,a)}return t.length=0,e}function o(){r.$$completeOutstandingRequest(g)}function s(e,t){var n,i={};return a(e,function(e,r){D(e)?null!=(n=e(t))&&(i[r]=n):i[r]=e}),i}function l(t){var n=t.headers,i=Lt(t.data,Nt(n),void 0,t.transformRequest);return y(i)&&a(n,function(e,t){"content-type"===er(t)&&delete n[t]}),y(t.withCredentials)&&!y(e.withCredentials)&&(t.withCredentials=e.withCredentials),m(t,i).then(c,c)}function c(e){var t=d({},e);return t.data=Lt(e.data,e.headers,e.status,f.transformResponse),Ft(e.status)?t:u.reject(t)}if(!x(t))throw i("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);if(!k(p.valueOf(t.url)))throw i("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",t.url);var f=d({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},t);f.headers=function(t){var n,i,r,a=e.headers,o=d({},t.headers);a=d({},a.common,a[er(t.method)]);e:for(n in a){i=er(n);for(r in o)if(er(r)===i)continue e;o[n]=a[n]}return s(o,xe(t))}(t),f.method=tr(f.method),f.paramSerializer=k(f.paramSerializer)?h.get(f.paramSerializer):f.paramSerializer,r.$$incOutstandingRequestCount();var v=[],b=[],w=u.resolve(f);return a(C,function(e){(e.request||e.requestError)&&v.unshift(e.request,e.requestError),(e.response||e.responseError)&&b.push(e.response,e.responseError)}),w=n(w,v),w=w.then(l),w=n(w,b),w=w.finally(o)}function m(n,i){function r(e){if(e){var n={};return a(e,function(e,i){n[i]=function(n){function i(){e(n)}t?c.$applyAsync(i):c.$$phase?i():c.$apply(i)}}),n}}function l(e,n,i,r,a){function o(){d(n,e,i,r,a)}m&&(Ft(e)?m.put(E,[e,n,Rt(i),r,a]):m.remove(E)),t?c.$applyAsync(o):(o(),c.$$phase||c.$apply())}function d(e,t,i,r,a){t=t>=-1?t:0,(Ft(t)?S.resolve:S.reject)({data:e,status:t,headers:Nt(i),config:n,statusText:r,xhrStatus:a})}function h(e){d(e.data,e.status,xe(e.headers()),e.statusText,e.xhrStatus)}function g(){var e=f.pendingRequests.indexOf(n);-1!==e&&f.pendingRequests.splice(e,1)}var m,C,S=u.defer(),$=S.promise,D=n.headers,T="jsonp"===er(n.method),E=n.url;if(T?E=p.getTrustedResourceUrl(E):k(E)||(E=p.valueOf(E)),E=v(E,n.paramSerializer(n.params)),T&&(E=b(E,n.jsonpCallbackParam)),f.pendingRequests.push(n),$.then(g,g),!n.cache&&!e.cache||!1===n.cache||"GET"!==n.method&&"JSONP"!==n.method||(m=x(n.cache)?n.cache:x(e.cache)?e.cache:_),m&&(C=m.get(E),w(C)?R(C)?C.then(h,h):vr(C)?d(C[1],C[0],xe(C[2]),C[3],C[4]):d(C,200,{},"OK","complete"):m.put(E,$)),y(C)){var M=Vn(n.url)?s()[n.xsrfCookieName||e.xsrfCookieName]:void 0;M&&(D[n.xsrfHeaderName||e.xsrfHeaderName]=M),o(n.method,E,i,l,D,n.timeout,n.withCredentials,n.responseType,r(n.eventHandlers),r(n.uploadEventHandlers))}return $}function v(e,t){return t.length>0&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}function b(e,t){var n=e.split("?");if(n.length>2)throw Sa("badjsonp",'Illegal use more than one "?", in url, "{1}"',e);return a(ie(n[1]),function(n,i){if("JSON_CALLBACK"===n)throw Sa("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',e);if(i===t)throw Sa("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',t,e)}),e+=(-1===e.indexOf("?")?"?":"&")+t+"=JSON_CALLBACK"}var _=l("$http");e.paramSerializer=k(e.paramSerializer)?h.get(e.paramSerializer):e.paramSerializer;var C=[];return a(n,function(e){C.unshift(k(e)?h.get(e):h.invoke(e))}),f.pendingRequests=[],function(e){a(arguments,function(e){f[e]=function(t,n){return f(d({},n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){a(arguments,function(e){f[e]=function(t,n,i){return f(d({},i||{},{method:e,url:t,data:n}))}})}("post","put","patch"),f.defaults=e,f}]}function jt(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function Ht(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,i){return Wt(e,i,e.defer,t,n[0])}]}function Wt(e,t,n,i,r){function o(e,t,n){e=e.replace("JSON_CALLBACK",t);var a=r.createElement("script"),o=null;return a.type="text/javascript",a.src=e,a.async=!0,o=function(e){a.removeEventListener("load",o),a.removeEventListener("error",o),r.body.removeChild(a),a=null;var s=-1,l="unknown";e&&("load"!==e.type||i.wasCalled(t)||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},a.addEventListener("load",o),a.addEventListener("error",o),r.body.appendChild(a),o}return function(r,s,l,c,u,d,h,p,f,g){function m(){x&&x(),_&&_.abort()}function v(e,t,i,r,a,o){w($)&&n.cancel($),x=_=null,e(t,i,r,a,o)}if(s=s||e.url(),"jsonp"===er(r))var b=i.createCallback(s),x=o(s,b,function(e,t){var n=200===e&&i.getResponse(b);v(c,e,n,"",t,"complete"),i.removeCallback(b)});else{var _=t(r,s);_.open(r,s,!0),a(u,function(e,t){w(e)&&_.setRequestHeader(t,e)}),_.onload=function(){var e=_.statusText||"",t="response"in _?_.response:_.responseText,n=1223===_.status?204:_.status;0===n&&(n=t?200:"file"===Bn(s).protocol?404:0),v(c,n,t,_.getAllResponseHeaders(),e,"complete")};var k=function(){v(c,-1,null,null,"","error")},C=function(){v(c,-1,null,null,"","abort")},S=function(){v(c,-1,null,null,"","timeout")};if(_.onerror=k,_.onabort=C,_.ontimeout=S,a(f,function(e,t){_.addEventListener(t,e)}),a(g,function(e,t){_.upload.addEventListener(t,e)}),h&&(_.withCredentials=!0),p)try{_.responseType=p}catch(e){if("json"!==p)throw e}_.send(y(l)?null:l)}if(d>0)var $=n(m,d);else R(d)&&d.then(m)}}function Bt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function a(e){return"\\\\\\"+e}function o(n){return n.replace(h,e).replace(p,t)}function s(e,t,n,i){var r=e.$watch(function(e){return r(),i(e)},t,n);return r}function l(a,l,h,p){function f(e){try{return e=E(e),p&&!w(e)?e:ye(e)}catch(e){i($a.interr(a,e))}}if(!a.length||-1===a.indexOf(e)){var g;if(!l){g=v(o(a)),g.exp=a,g.expressions=[],g.$$watchDelegate=s}return g}p=!!p;for(var m,b,x,_=0,k=[],C=[],S=a.length,$=[],D=[];_<S;){if(-1===(m=a.indexOf(e,_))||-1===(b=a.indexOf(t,m+c))){_!==S&&$.push(o(a.substring(_)));break}_!==m&&$.push(o(a.substring(_,m))),x=a.substring(m+c,b),k.push(x),C.push(n(x,f)),_=b+u,D.push($.length),$.push("")}if(h&&$.length>1&&$a.throwNoconcat(a),!l||k.length){var T=function(e){for(var t=0,n=k.length;t<n;t++){if(p&&y(e[t]))return;$[D[t]]=e[t]}return $.join("")},E=function(e){return h?r.getTrusted(h,e):r.valueOf(e)};return d(function(e){var t=0,n=k.length,r=new Array(n);try{for(;t<n;t++)r[t]=C[t](e);return T(r)}catch(e){i($a.interr(a,e))}},{exp:a,expressions:k,$$watchDelegate:function(e,t){var n;return e.$watchGroup(C,function(i,r){var a=T(i);t.call(this,a,i!==r?n:a,e),n=a})}})}}var c=e.length,u=t.length,h=new RegExp(e.replace(/./g,a),"g"),p=new RegExp(t.replace(/./g,a),"g");return l.startSymbol=function(){return e},l.endSymbol=function(){return t},l}]}function Vt(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,i,r){function a(a,s,l,c){function u(){d?a.apply(null,h):a(g)}var d=arguments.length>4,h=d?Y(arguments,4):[],p=t.setInterval,f=t.clearInterval,g=0,m=w(c)&&!c,v=(m?i:n).defer(),b=v.promise;return l=w(l)?l:0,b.$$intervalId=p(function(){m?r.defer(u):e.$evalAsync(u),v.notify(g++),l>0&&g>=l&&(v.resolve(g),f(b.$$intervalId),delete o[b.$$intervalId]),m||e.$apply()},s),o[b.$$intervalId]=v,b}var o={};return a.cancel=function(e){return!!(e&&e.$$intervalId in o)&&(Mn(o[e.$$intervalId].promise),o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0)},a}]}function Ut(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=ae(t[n].replace(/%2F/g,"/"));return t.join("/")}function qt(e,t){for(var n=e.split("/"),i=n.length;i--;)n[i]=decodeURIComponent(n[i]),t&&(n[i]=n[i].replace(/\//g,"%2F"));return n.join("/")}function Yt(e,t){var n=Bn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=p(n.port)||Ea[n.protocol]||null}function Kt(e,t,n){if(Aa.test(e))throw Ma("badpath",'Invalid url "{0}".',e);var i="/"!==e.charAt(0);i&&(e="/"+e);var r=Bn(e),a=i&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname;t.$$path=qt(a,n),t.$$search=ie(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Gt(e,t){return e.slice(0,t.length)===t}function Xt(e,t){if(Gt(t,e))return t.substr(e.length)}function Jt(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function Zt(e){return e.replace(/(#.+)|#$/,"$1")}function Qt(e){return e.substr(0,Jt(e).lastIndexOf("/")+1)}function en(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function tn(e,t,n){this.$$html5=!0,n=n||"",Yt(e,this),this.$$parse=function(e){var n=Xt(t,e);if(!k(n))throw Ma("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);Kt(n,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=re(this.$$search),n=this.$$hash?"#"+ae(this.$$hash):"";this.$$url=Ut(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var a,o,s;return w(a=Xt(e,i))?(o=a,s=n&&w(a=Xt(n,a))?t+(Xt("/",a)||a):e+o):w(a=Xt(t,i))?s=t+a:t===i+"/"&&(s=t),s&&this.$$parse(s),!!s}}function nn(e,t,n){Yt(e,this),this.$$parse=function(i){var r,a=Xt(e,i)||Xt(t,i);y(a)||"#"!==a.charAt(0)?this.$$html5?r=a:(r="",y(a)&&(e=i,this.replace())):(r=Xt(n,a),y(r)&&(r=a)),Kt(r,this,!1),this.$$path=function(e,t,n){var i,r=/^\/[A-Z]:(\/.*)/;return Gt(t,n)&&(t=t.replace(n,"")),r.exec(t)?e:(i=r.exec(e),i?i[1]:e)}(this.$$path,r,e),this.$$compose()},this.$$compose=function(){var t=re(this.$$search),i=this.$$hash?"#"+ae(this.$$hash):"";this.$$url=Ut(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+(this.$$url?n+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(t,n){return Jt(e)===Jt(t)&&(this.$$parse(t),!0)}}function rn(e,t,n){this.$$html5=!0,nn.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var a,o;return e===Jt(i)?a=i:(o=Xt(t,i))?a=e+n+o:t===i+"/"&&(a=t),a&&this.$$parse(a),!!a},this.$$compose=function(){var t=re(this.$$search),i=this.$$hash?"#"+ae(this.$$hash):"";this.$$url=Ut(this.$$path)+(t?"?"+t:"")+i,this.$$absUrl=e+n+this.$$url,this.$$urlUpdatedByLocation=!0}}function an(e){return function(){return this[e]}}function on(e,t){return function(n){return y(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function sn(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return w(t)?(e=t,this):e},this.html5Mode=function(e){return I(e)?(t.enabled=e,this):x(e)?(I(e.enabled)&&(t.enabled=e.enabled),I(e.requireBase)&&(t.requireBase=e.requireBase),(I(e.rewriteLinks)||k(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,a,o){function s(e,t,n){var r=c.url(),a=c.$$state;try{i.url(e,t,n),c.$$state=i.state()}catch(e){throw c.url(r),c.$$state=a,e}}function l(e,t){n.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}var c,u,d,h=i.baseHref(),p=i.url();if(t.enabled){if(!h&&t.requireBase)throw Ma("nobase","$location in HTML5 mode requires a <base> tag to be present!");d=en(p)+(h||"/"),u=r.history?tn:rn}else d=Jt(p),u=nn;var f=Qt(d);c=new u(d,f,"#"+e),c.$$parseLinkUrl(p,p),c.$$state=i.state();var g=/^\s*(javascript|mailto):/i;a.on("click",function(e){var r=t.rewriteLinks;if(r&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var s=ar(e.target);"a"!==j(s[0]);)if(s[0]===a[0]||!(s=s.parent())[0])return;if(!k(r)||!y(s.attr(r))){var l=s.prop("href"),u=s.attr("href")||s.attr("xlink:href");x(l)&&"[object SVGAnimatedString]"===l.toString()&&(l=Bn(l.animVal).href),g.test(l)||!l||s.attr("target")||e.isDefaultPrevented()||c.$$parseLinkUrl(l,u)&&(e.preventDefault(),c.absUrl()!==i.url()&&(n.$apply(),o.angular["ff-684208-preventDefault"]=!0))}}}),Zt(c.absUrl())!==Zt(p)&&i.url(c.absUrl(),!0);var m=!0;return i.onUrlChange(function(e,t){if(!Gt(e,f))return void(o.location.href=e);n.$evalAsync(function(){var i,r=c.absUrl(),a=c.$$state;e=Zt(e),c.$$parse(e),c.$$state=t,i=n.$broadcast("$locationChangeStart",e,r,t,a).defaultPrevented,c.absUrl()===e&&(i?(c.$$parse(r),c.$$state=a,s(r,!1,a)):(m=!1,l(r,a)))}),n.$$phase||n.$digest()}),n.$watch(function(){if(m||c.$$urlUpdatedByLocation){c.$$urlUpdatedByLocation=!1;var e=Zt(i.url()),t=Zt(c.absUrl()),a=i.state(),o=c.$$replace,u=e!==t||c.$$html5&&r.history&&a!==c.$$state;(m||u)&&(m=!1,n.$evalAsync(function(){var t=c.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,c.$$state,a).defaultPrevented;c.absUrl()===t&&(i?(c.$$parse(e),c.$$state=a):(u&&s(t,o,a===c.$$state?null:c.$$state),l(e,a)))}))}c.$$replace=!1}),c}]}function ln(){var e=!0,t=this;this.debugEnabled=function(t){return w(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return $(e)&&(e.stack&&o?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function r(e){var t=n.console||{},r=t[e]||t.log||g;return function(){var e=[];return a(arguments,function(t){e.push(i(t))}),Function.prototype.apply.call(r,t,e)}}var o=rr||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function cn(e){return e+""}function un(e,t){return void 0!==e?e:t}function dn(e,t){return void 0===e?t:void 0===t?e:e+t}function hn(e,t){return!e(t).$stateful}function pn(e,t){switch(e.type){case Fa.MemberExpression:if(e.computed)return!1;break;case Fa.UnaryExpression:return za;case Fa.BinaryExpression:return"+"!==e.operator&&za;case Fa.CallExpression:return!1}return void 0===t?ja:t}function fn(e,t,n){var i,r,o,s=e.isPure=pn(e,n);switch(e.type){case Fa.Program:i=!0,a(e.body,function(e){fn(e.expression,t,s),i=i&&e.expression.constant}),e.constant=i;break;case Fa.Literal:e.constant=!0,e.toWatch=[];break;case Fa.UnaryExpression:fn(e.argument,t,s),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break
;case Fa.BinaryExpression:fn(e.left,t,s),fn(e.right,t,s),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Fa.LogicalExpression:fn(e.left,t,s),fn(e.right,t,s),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Fa.ConditionalExpression:fn(e.test,t,s),fn(e.alternate,t,s),fn(e.consequent,t,s),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Fa.Identifier:e.constant=!1,e.toWatch=[e];break;case Fa.MemberExpression:fn(e.object,t,s),e.computed&&fn(e.property,t,s),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;case Fa.CallExpression:o=!!e.filter&&hn(t,e.callee.name),i=o,r=[],a(e.arguments,function(e){fn(e,t,s),i=i&&e.constant,r.push.apply(r,e.toWatch)}),e.constant=i,e.toWatch=o?r:[e];break;case Fa.AssignmentExpression:fn(e.left,t,s),fn(e.right,t,s),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Fa.ArrayExpression:i=!0,r=[],a(e.elements,function(e){fn(e,t,s),i=i&&e.constant,r.push.apply(r,e.toWatch)}),e.constant=i,e.toWatch=r;break;case Fa.ObjectExpression:i=!0,r=[],a(e.properties,function(e){fn(e.value,t,s),i=i&&e.value.constant,r.push.apply(r,e.value.toWatch),e.computed&&(fn(e.key,t,!1),i=i&&e.key.constant,r.push.apply(r,e.key.toWatch))}),e.constant=i,e.toWatch=r;break;case Fa.ThisExpression:case Fa.LocalsExpression:e.constant=!1,e.toWatch=[]}}function gn(e){if(1===e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function mn(e){return e.type===Fa.Identifier||e.type===Fa.MemberExpression}function vn(e){if(1===e.body.length&&mn(e.body[0].expression))return{type:Fa.AssignmentExpression,left:e.body[0].expression,right:{type:Fa.NGValueParameter},operator:"="}}function bn(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===Fa.Literal||e.body[0].expression.type===Fa.ArrayExpression||e.body[0].expression.type===Fa.ObjectExpression)}function yn(e){return e.constant}function wn(e){this.$filter=e}function xn(e){this.$filter=e}function _n(e,t,n){this.ast=new Fa(e,n),this.astCompiler=n.csp?new xn(t):new wn(t)}function kn(e){return D(e.valueOf)?e.valueOf():Ia.call(e)}function Cn(){var e,t,n=be(),i={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){i[e]=t},this.setIdentifierFns=function(n,i){return e=n,t=i,this},this.$get=["$filter",function(r){function o(e,t){var i,a;switch(typeof e){case"string":if(e=e.trim(),a=e,!(i=n[a])){i=new _n(new La(m),r,m).parse(e),i.constant?i.$$watchDelegate=h:i.oneTime?i.$$watchDelegate=i.literal?d:u:i.inputs&&(i.$$watchDelegate=c),n[a]=i}return p(i,t);case"function":return p(e,t);default:return p(g,t)}}function s(e){return new _n(new La(m),r,m).getAst(e).ast}function l(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&"object"==typeof(e=kn(e))&&!n)&&(e===t||e!==e&&t!==t)}function c(e,t,n,i,r){var a,o=i.inputs;if(1===o.length){var s=l;return o=o[0],e.$watch(function(e){var t=o(e);return l(t,s,o.isPure)||(a=i(e,void 0,void 0,[t]),s=t&&kn(t)),a},t,n,r)}for(var c=[],u=[],d=0,h=o.length;d<h;d++)c[d]=l,u[d]=null;return e.$watch(function(e){for(var t=!1,n=0,r=o.length;n<r;n++){var s=o[n](e);(t||(t=!l(s,c[n],o[n].isPure)))&&(u[n]=s,c[n]=s&&kn(s))}return t&&(a=i(e,void 0,void 0,u)),a},t,n,r)}function u(e,t,n,i,r){function a(e){return i(e)}function o(e,n,i){l=e,D(t)&&t(e,n,i),w(e)&&i.$$postDigest(function(){w(l)&&s()})}var s,l;return s=i.inputs?c(e,o,n,i,r):e.$watch(a,o,n)}function d(e,t,n,i){function r(e){var t=!0;return a(e,function(e){w(e)||(t=!1)}),t}var o,s;return o=e.$watch(function(e){return i(e)},function(e,n,i){s=e,D(t)&&t(e,n,i),r(e)&&i.$$postDigest(function(){r(s)&&o()})},n)}function h(e,t,n,i){var r=e.$watch(function(e){return r(),i(e)},t,n);return r}function p(e,t){if(!t)return e;var n=e.$$watchDelegate,i=!1,r=n!==d&&n!==u,a=r?function(n,r,a,o){var s=i&&o?o[0]:e(n,r,a,o);return t(s,n,r)}:function(n,i,r,a){var o=e(n,i,r,a),s=t(o,n,i);return w(o)?s:o};return i=!e.inputs,n&&n!==c?(a.$$watchDelegate=n,a.inputs=e.inputs):t.$stateful||(a.$$watchDelegate=c,a.inputs=e.inputs?e.inputs:[e]),a.inputs&&(a.inputs=a.inputs.map(function(e){return e.isPure===ja?function(t){return e(t)}:e})),a}var f=xr().noUnsafeEval,m={csp:f,literals:B(i),isIdentifierStart:D(e)&&e,isIdentifierContinue:D(t)&&t};return o.$$getAst=s,o}]}function Sn(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,n){return Dn(function(e){t.$evalAsync(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return w(t)?(e=t,this):e}}function $n(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,n){return Dn(function(e){t.defer(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return w(t)?(e=t,this):e}}function Dn(e,t,n){function r(){return new o}function o(){var e=this.promise=new s;this.resolve=function(t){h(e,t)},this.reject=function(t){f(e,t)},this.notify=function(t){m(e,t)}}function s(){this.$$state={status:0}}function l(i){var r,a,o;o=i.pending,i.processScheduled=!1,i.pending=void 0;try{for(var s=0,l=o.length;s<l;++s){En(i),a=o[s][0],r=o[s][i.status];try{D(r)?h(a,r(i.value)):1===i.status?h(a,i.value):f(a,i.value)}catch(e){f(a,e),e&&!0===e.$$passToExceptionHandler&&t(e)}}}finally{--T,n&&0===T&&e(c)}}function c(){for(;!T&&E.length;){var e=E.shift();if(!Tn(e)){En(e);var n="Possibly unhandled rejection: "+ke(e.value);$(e.value)?t(e.value,n):t(n)}}}function u(t){!n||t.pending||2!==t.status||Tn(t)||(0===T&&0===E.length&&e(c),E.push(t)),!t.processScheduled&&t.pending&&(t.processScheduled=!0,++T,e(function(){l(t)}))}function h(e,t){e.$$state.status||(t===e?g(e,S("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):p(e,t))}function p(e,t){function n(t){o||(o=!0,p(e,t))}function i(t){o||(o=!0,g(e,t))}function r(t){m(e,t)}var a,o=!1;try{(x(t)||D(t))&&(a=t.then),D(a)?(e.$$state.status=-1,a.call(t,n,i,r)):(e.$$state.value=t,e.$$state.status=1,u(e.$$state))}catch(e){i(e)}}function f(e,t){e.$$state.status||g(e,t)}function g(e,t){e.$$state.value=t,e.$$state.status=2,u(e.$$state)}function m(n,i){var r=n.$$state.pending;n.$$state.status<=0&&r&&r.length&&e(function(){for(var e,n,a=0,o=r.length;a<o;a++){n=r[a][0],e=r[a][3];try{m(n,D(e)?e(i):i)}catch(e){t(e)}}})}function v(e){var t=new s;return f(t,e),t}function b(e,t,n){var i=null;try{D(n)&&(i=n())}catch(e){return v(e)}return R(i)?i.then(function(){return t(e)},v):t(e)}function w(e,t,n,i){var r=new s;return h(r,e),r.then(t,n,i)}function _(e){var t=new s,n=0,i=vr(e)?[]:{};return a(e,function(e,r){n++,w(e).then(function(e){i[r]=e,--n||h(t,i)},function(e){f(t,e)})}),0===n&&h(t,i),t}function k(e){var t=r();return a(e,function(e){w(e).then(t.resolve,t.reject)}),t.promise}function C(e){function t(e){h(i,e)}function n(e){f(i,e)}if(!D(e))throw S("norslvr","Expected resolverFn, got '{0}'",e);var i=new s;return e(t,n),i}var S=i("$q",TypeError),T=0,E=[];d(s.prototype,{then:function(e,t,n){if(y(e)&&y(t)&&y(n))return this;var i=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),this.$$state.status>0&&u(this.$$state),i},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then(function(t){return b(t,M,e)},function(t){return b(t,v,e)},t)}});var M=w;return C.prototype=s.prototype,C.defer=r,C.reject=v,C.when=w,C.resolve=M,C.all=_,C.race=k,C}function Tn(e){return!!e.pur}function En(e){e.pur=!0}function Mn(e){En(e.$$state)}function An(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,a=r?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return a.supported=r,a}]}function On(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=l(),this.$$ChildScope=null}return t.prototype=e,t}var t=10,n=i("$rootScope"),o=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$exceptionHandler","$parse","$browser",function(i,c,u){function d(e){e.currentScope.$$destroyed=!0}function h(e){9===rr&&(e.$$childHead&&h(e.$$childHead),e.$$nextSibling&&h(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function p(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function f(e){if(C.$$phase)throw n("inprog","{0} already in progress",C.$$phase);C.$$phase=e}function m(){C.$$phase=null}function v(e,t){do{e.$$watchersCount+=t}while(e=e.$parent)}function b(e,t,n){do{e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n]}while(e=e.$parent)}function w(){}function _(){for(;T.length;)try{T.shift()()}catch(e){i(e)}s=null}function k(){null===s&&(s=u.defer(function(){C.$apply(_)}))}p.prototype={constructor:p,$new:function(t,n){var i;return n=n||this,t?(i=new p,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(t||n!==this)&&i.$on("$destroy",d),i},$watch:function(e,t,n,i){var r=c(e),a=D(t)?t:g;if(r.$$watchDelegate)return r.$$watchDelegate(this,a,n,r,e);var s=this,l=s.$$watchers,u={fn:a,last:w,get:r,exp:i||e,eq:!!n};return o=null,l||(l=s.$$watchers=[],l.$$digestWatchIndex=-1),l.unshift(u),l.$$digestWatchIndex++,v(this,1),function(){var e=W(l,u);e>=0&&(v(s,-1),e<l.$$digestWatchIndex&&l.$$digestWatchIndex--),o=null}},$watchGroup:function(e,t){function n(){l=!1,c?(c=!1,t(r,r,s)):t(r,i,s)}var i=new Array(e.length),r=new Array(e.length),o=[],s=this,l=!1,c=!0;if(!e.length){var u=!0;return s.$evalAsync(function(){u&&t(r,r,s)}),function(){u=!1}}return 1===e.length?this.$watch(e[0],function(e,n,a){r[0]=e,i[0]=n,t(r,e===n?r:i,a)}):(a(e,function(e,t){var a=s.$watch(e,function(e,a){r[t]=e,i[t]=a,l||(l=!0,s.$evalAsync(n))});o.push(a)}),function(){for(;o.length;)o.shift()()})},$watchCollection:function(e,t){function n(e){a=e;var t,n,i,s;if(!y(a)){if(x(a))if(r(a)){o!==p&&(o=p,m=o.length=0,d++),t=a.length,m!==t&&(d++,o.length=m=t);for(var l=0;l<t;l++)s=o[l],i=a[l],s!==s&&i!==i||s===i||(d++,o[l]=i)}else{o!==f&&(o=f={},m=0,d++),t=0;for(n in a)Qi.call(a,n)&&(t++,i=a[n],s=o[n],n in o?s!==s&&i!==i||s===i||(d++,o[n]=i):(m++,o[n]=i,d++));if(m>t){d++;for(n in o)Qi.call(a,n)||(m--,delete o[n])}}else o!==a&&(o=a,d++);return d}}function i(){if(g?(g=!1,t(a,a,l)):t(a,s,l),u)if(x(a))if(r(a)){s=new Array(a.length);for(var e=0;e<a.length;e++)s[e]=a[e]}else{s={};for(var n in a)Qi.call(a,n)&&(s[n]=a[n])}else s=a}n.$stateful=!0;var a,o,s,l=this,u=t.length>1,d=0,h=c(e,n),p=[],f={},g=!0,m=0;return this.$watch(h,i)},$digest:function(){var e,r,a,l,c,d,h,p,g,v,b,y=t,x=this,k=[];f("$digest"),u.$$checkUrlChange(),this===C&&null!==s&&(u.defer.cancel(s),_()),o=null;do{h=!1,g=x;for(var T=0;T<S.length;T++){try{b=S[T],l=b.fn,l(b.scope,b.locals)}catch(e){i(e)}o=null}S.length=0;e:do{if(d=g.$$watchers)for(d.$$digestWatchIndex=d.length;d.$$digestWatchIndex--;)try{if(e=d[d.$$digestWatchIndex])if(c=e.get,(r=c(g))===(a=e.last)||(e.eq?U(r,a):mr(r)&&mr(a))){if(e===o){h=!1;break e}}else h=!0,o=e,e.last=e.eq?B(r,null):r,l=e.fn,l(r,a===w?r:a,g),y<5&&(v=4-y,k[v]||(k[v]=[]),k[v].push({msg:D(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:r,oldVal:a}))}catch(e){i(e)}if(!(p=g.$$watchersCount&&g.$$childHead||g!==x&&g.$$nextSibling))for(;g!==x&&!(p=g.$$nextSibling);)g=g.$parent}while(g=p);if((h||S.length)&&!y--)throw m(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",t,k)}while(h||S.length);for(m();E<$.length;)try{$[E++]()}catch(e){i(e)}$.length=E=0,u.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===C&&u.$$applicationDestroyed(),v(this,-this.$$watchersCount);for(var t in this.$$listenerCount)b(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=g,this.$on=this.$watch=this.$watchGroup=function(){return g},this.$$listeners={},this.$$nextSibling=null,h(this)}},$eval:function(e,t){return c(e)(this,t)},$evalAsync:function(e,t){C.$$phase||S.length||u.defer(function(){S.length&&C.$digest()}),S.push({scope:this,fn:c(e),locals:t})},$$postDigest:function(e){$.push(e)},$apply:function(e){try{f("$apply");try{return this.$eval(e)}finally{m()}}catch(e){i(e)}finally{try{C.$digest()}catch(e){throw i(e),e}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&T.push(t),e=c(e),k()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do{i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++}while(i=i.$parent);var r=this;return function(){var i=n.indexOf(t);-1!==i&&(delete n[i],b(r,1,e))}},$emit:function(e,t){var n,r,a,o=[],s=this,l=!1,c={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},u=q([c],arguments,1);do{for(n=s.$$listeners[e]||o,c.currentScope=s,r=0,a=n.length;r<a;r++)if(n[r])try{n[r].apply(null,u)}catch(e){i(e)}else n.splice(r,1),r--,a--;if(l)break;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(e,t){var n=this,r=n,a=n,o={name:e,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return o;for(var s,l,c,u=q([o],arguments,1);r=a;){for(o.currentScope=r,s=r.$$listeners[e]||[],l=0,c=s.length;l<c;l++)if(s[l])try{s[l].apply(null,u)}catch(e){i(e)}else s.splice(l,1),l--,c--;if(!(a=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(a=r.$$nextSibling);)r=r.$parent}return o.currentScope=null,o}};var C=new p,S=C.$$asyncQueue=[],$=C.$$postDigestQueue=[],T=C.$$applyAsyncQueue=[],E=0;return C}]}function Pn(){var e=/^\s*(https?|s?ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return w(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return w(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r,a=i?t:e;return r=Bn(n&&n.trim()).href,""===r||r.match(a)?n:"unsafe:"+r}}}function In(e){return e.replace(Ba,$e)}function Rn(e){if("self"===e)return e;if(k(e)){if(e.indexOf("***")>-1)throw Ha("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=wr(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(T(e))return new RegExp("^"+e.source+"$");throw Ha("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Nn(e){var t=[];return w(e)&&a(e,function(e){t.push(Rn(e))}),t}function Ln(){this.SCE_CONTEXTS=Wa;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=Nn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=Nn(e)),t},this.$get=["$injector",function(n){function i(e,t){return"self"===e?Vn(t):!!e.exec(t.href)}function r(n){var r,a,o=Bn(n.toString()),s=!1;for(r=0,a=e.length;r<a;r++)if(i(e[r],o)){s=!0;break}if(s)for(r=0,a=t.length;r<a;r++)if(i(t[r],o)){s=!1;break}return s}function a(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function o(e,t){var n=d.hasOwnProperty(e)?d[e]:null;if(!n)throw Ha("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||y(t)||""===t)return t;if("string"!=typeof t)throw Ha("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function s(e){return e instanceof u?e.$$unwrapTrustedValue():e}function l(e,t){if(null===t||y(t)||""===t)return t;var n=d.hasOwnProperty(e)?d[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===Wa.RESOURCE_URL){if(r(t))return t;throw Ha("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===Wa.HTML)return c(t);throw Ha("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(e){throw Ha("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(c=n.get("$sanitize"));var u=a(),d={};return d[Wa.HTML]=a(u),d[Wa.CSS]=a(u),d[Wa.URL]=a(u),d[Wa.JS]=a(u),d[Wa.RESOURCE_URL]=a(d[Wa.URL]),{trustAs:o,getTrusted:l,valueOf:s}}]}function Fn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&rr<8)throw Ha("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=xe(Wa);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=m),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return i.getTrusted(e,t)})};var r=i.parseAs,o=i.getTrusted,s=i.trustAs;return a(Wa,function(e,t){var n=er(t);i[In("parse_as_"+n)]=function(t){return r(e,t)},i[In("get_trusted_"+n)]=function(t){return o(e,t)},i[In("trust_as_"+n)]=function(t){return s(e,t)}}),i}]}function zn(){this.$get=["$window","$document",function(e,t){var n={},i=e.nw&&e.nw.process,r=!i&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id),a=!r&&e.history&&e.history.pushState,o=p((/android (\d+)/.exec(er((e.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((e.navigator||{}).userAgent),l=t[0]||{},c=l.body&&l.body.style,u=!1,d=!1;return c&&(u=!!("transition"in c||"webkitTransition"in c),d=!!("animation"in c||"webkitAnimation"in c)),{history:!(!a||o<4||s),hasEvent:function(e){if("input"===e&&rr)return!1;if(y(n[e])){var t=l.createElement("div");n[e]="on"+e in t}return n[e]},csp:xr(),transitions:u,animations:d,android:o}}]}function jn(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,i,r,a){function o(s,l){function c(e){return l||(e=Va("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,e.status,e.statusText),t(e)),r.reject(e)}o.totalPendingRequests++,k(s)&&!y(n.get(s))||(s=a.getTrustedResourceUrl(s));var u=i.defaults&&i.defaults.transformResponse;return vr(u)?u=u.filter(function(e){return e!==Pt}):u===Pt&&(u=null),i.get(s,d({cache:n,transformResponse:u},e)).finally(function(){o.totalPendingRequests--}).then(function(e){return n.put(s,e.data),e.data},c)}return o.totalPendingRequests=0,o}]}function Hn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var i={};return i.findBindings=function(e,t,n){var i=e.getElementsByClassName("ng-binding"),r=[];return a(i,function(e){var i=fr.element(e).data("$binding");i&&a(i,function(i){if(n){new RegExp("(^|\\s)"+wr(t)+"(\\s|\\||$)").test(i)&&r.push(e)}else-1!==i.indexOf(t)&&r.push(e)})}),r},i.findModels=function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var a=n?"=":"*=",o="["+i[r]+"model"+a+'"'+t+'"]',s=e.querySelectorAll(o);if(s.length)return s}},i.getLocation=function(){return n.url()},i.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},i.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},i}]}function Wn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,r){function a(a,s,l){D(a)||(l=s,s=a,a=g);var c,u=Y(arguments,3),d=w(l)&&!l,h=(d?i:n).defer(),p=h.promise;return c=t.defer(function(){try{h.resolve(a.apply(null,u))}catch(e){h.reject(e),r(e)}finally{delete o[p.$$timeoutId]}d||e.$apply()},s),p.$$timeoutId=c,o[c]=h,p}var o={};return a.cancel=function(e){return!!(e&&e.$$timeoutId in o)&&(Mn(o[e.$$timeoutId].promise),o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},a}]}function Bn(e){var t=e;return rr&&(Ua.setAttribute("href",t),t=Ua.href),Ua.setAttribute("href",t),{href:Ua.href,protocol:Ua.protocol?Ua.protocol.replace(/:$/,""):"",host:Ua.host,search:Ua.search?Ua.search.replace(/^\?/,""):"",hash:Ua.hash?Ua.hash.replace(/^#/,""):"",hostname:Ua.hostname,port:Ua.port,pathname:"/"===Ua.pathname.charAt(0)?Ua.pathname:"/"+Ua.pathname}}function Vn(e){var t=k(e)?Bn(e):e;return t.protocol===qa.protocol&&t.host===qa.host}function Un(){this.$get=v(e)}function qn(e){function t(e){try{return e.cookie||""}catch(e){return""}}function n(e){try{return decodeURIComponent(e)}catch(t){return e}}var i=e[0]||{},r={},a="";return function(){var e,o,s,l,c,u=t(i);if(u!==a)for(a=u,e=a.split("; "),r={},s=0;s<e.length;s++)o=e[s],(l=o.indexOf("="))>0&&(c=n(o.substring(0,l)),y(r[c])&&(r[c]=n(o.substring(l+1))));return r}}function Yn(){this.$get=qn}function Kn(e){function t(i,r){if(x(i)){var o={};return a(i,function(e,n){o[n]=t(n,e)}),o}return e.factory(i+n,r)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",Qn),t("date",fi),t("filter",Gn),t("json",gi),t("limitTo",mi),t("lowercase",Qa),t("number",ei),t("orderBy",bi),t("uppercase",eo)}function Gn(){return function(e,t,n,a){if(!r(e)){if(null==e)return e;throw i("filter")("notarray","Expected array but received: {0}",e)}a=a||"$";var o,s,l=Zn(t);switch(l){case"function":o=t;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":o=Xn(t,n,a,s);break;default:return e}return Array.prototype.filter.call(e,o)}}function Xn(e,t,n,i){var r=x(e)&&n in e;return!0===t?t=U:D(t)||(t=function(e,t){return!y(e)&&(null===e||null===t?e===t:!(x(t)||x(e)&&!b(e))&&(e=er(""+e),t=er(""+t),-1!==e.indexOf(t)))}),function(a){return r&&!x(a)?Jn(a,e[n],t,n,!1):Jn(a,e,t,n,i)}}function Jn(e,t,n,i,r,a){var o=Zn(e),s=Zn(t);if("string"===s&&"!"===t.charAt(0))return!Jn(e,t.substring(1),n,i,r);if(vr(e))return e.some(function(e){return Jn(e,t,n,i,r)});switch(o){case"object":var l;if(r){for(l in e)if(l.charAt&&"$"!==l.charAt(0)&&Jn(e[l],t,n,i,!0))return!0;return!a&&Jn(e,t,n,i,!1)}if("object"===s){for(l in t){var c=t[l];if(!D(c)&&!y(c)){var u=l===i;if(!Jn(u?e:e[l],c,n,i,u,u))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function Zn(e){return null===e?"null":typeof e}function Qn(e){var t=e.NUMBER_FORMATS;return function(e,n,i){y(n)&&(n=t.CURRENCY_SYM),y(i)&&(i=t.PATTERNS[1].maxFrac);var r=n?/\u00A4/g:/\s*\u00A4\s*/g;return null==e?e:ii(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(r,n)}}function ei(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:ii(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function ti(e){var t,n,i,r,a,o=0;for((n=e.indexOf(Ka))>-1&&(e=e.replace(Ka,"")),(i=e.search(/e/i))>0?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charAt(i)===Ga;i++);if(i===(a=e.length))t=[0],n=1;else{for(a--;e.charAt(a)===Ga;)a--;for(n-=i,t=[],r=0;i<=a;i++,r++)t[r]=+e.charAt(i)}return n>Ya&&(t=t.splice(0,Ya-1),o=n-1,n=1),{d:t,e:o,i:n}}function ni(e,t,n,i){var r=e.d,a=r.length-e.i;t=y(t)?Math.min(Math.max(n,a),i):+t;var o=t+e.i,s=r[o];if(o>0){r.splice(Math.max(e.i,o));for(var l=o;l<r.length;l++)r[l]=0}else{a=Math.max(0,a),e.i=1,r.length=Math.max(1,o=t+1),r[0]=0;for(var c=1;c<o;c++)r[c]=0}if(s>=5)if(o-1<0){for(var u=0;u>o;u--)r.unshift(0),e.i++;r.unshift(1),e.i++}else r[o-1]++;for(;a<Math.max(0,t);a++)r.push(0);var d=r.reduceRight(function(e,t,n,i){return t+=e,i[n]=t%10,Math.floor(t/10)},0);d&&(r.unshift(d),e.i++)}function ii(e,t,n,i,r){if(!k(e)&&!C(e)||isNaN(e))return"";var a,o=!isFinite(e),s=!1,l=Math.abs(e)+"",c="";if(o)c="∞";else{a=ti(l),ni(a,r,t.minFrac,t.maxFrac);var u=a.d,d=a.i,h=a.e,p=[];for(s=u.reduce(function(e,t){return e&&!t},!0);d<0;)u.unshift(0),d++;d>0?p=u.splice(d,u.length):(p=u,u=[0]);var f=[];for(u.length>=t.lgSize&&f.unshift(u.splice(-t.lgSize,u.length).join(""));u.length>t.gSize;)f.unshift(u.splice(-t.gSize,u.length).join(""));u.length&&f.unshift(u.join("")),c=f.join(n),p.length&&(c+=i+p.join("")),h&&(c+="e+"+h)}return e<0&&!s?t.negPre+c+t.negSuf:t.posPre+c+t.posSuf}function ri(e,t,n,i){var r="";for((e<0||i&&e<=0)&&(i?e=1-e:(e=-e,r="-")),e=""+e;e.length<t;)e=Ga+e;return n&&(e=e.substr(e.length-t)),r+e}function ai(e,t,n,i,r){return n=n||0,function(a){var o=a["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&-12===n&&(o=12),ri(o,t,i,r)}}function oi(e,t,n){return function(i,r){var a=i["get"+e]();return r[tr((n?"STANDALONE":"")+(t?"SHORT":"")+e)][a]}}function si(e,t,n){var i=-1*n,r=i>=0?"+":"";return r+=ri(Math[i>0?"floor":"ceil"](i/60),2)+ri(Math.abs(i%60),2)}function li(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function ci(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function ui(e){return function(t){var n=li(t.getFullYear()),i=ci(t),r=+i-+n;return ri(1+Math.round(r/6048e5),e)}}function di(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function hi(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function pi(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function fi(e){function t(e){var t;if(t=e.match(n)){var i=new Date(0),r=0,a=0,o=t[8]?i.setUTCFullYear:i.setFullYear,s=t[8]?i.setUTCHours:i.setHours;t[9]&&(r=p(t[9]+t[10]),a=p(t[9]+t[11])),o.call(i,p(t[1]),p(t[2])-1,p(t[3]));var l=p(t[4]||0)-r,c=p(t[5]||0)-a,u=p(t[6]||0),d=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(i,l,c,u,d),i}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var o,s,l="",c=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,k(n)&&(n=Za.test(n)?p(n):t(n)),C(n)&&(n=new Date(n)),!S(n)||!isFinite(n.getTime()))return n;for(;i;)s=Ja.exec(i),s?(c=q(c,s,1),i=c.pop()):(c.push(i),i=null);var u=n.getTimezoneOffset();return r&&(u=Z(r,u),n=ee(n,r,!0)),a(c,function(t){o=Xa[t],l+=o?o(n,e.DATETIME_FORMATS,u):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function gi(){return function(e,t){return y(t)&&(t=2),X(e,t)}}function mi(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):p(t),mr(t)?e:(C(e)&&(e=e.toString()),r(e)?(n=!n||isNaN(n)?0:p(n),n=n<0?Math.max(0,e.length+n):n,t>=0?vi(e,n,n+t):0===n?vi(e,t,e.length):vi(e,Math.max(0,n+t),n)):e)}}function vi(e,t,n){return k(e)?e.slice(t,n):lr.call(e,t,n)}function bi(e){function t(t){return t.map(function(t){var n=1,i=m;if(D(t))i=t;else if(k(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t),i.constant))){var r=i();i=function(e){return e[r]}}return{get:i,descending:n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function a(e){return D(e.valueOf)&&(e=e.valueOf(),n(e))?e:(b(e)&&(e=e.toString(),n(e)),e)}function o(e,t){var n=typeof e;return null===e?(n="string",e="null"):"object"===n&&(e=a(e)),{value:e,type:n,index:t}}function s(e,t){var n=0,i=e.type,r=t.type;if(i===r){var a=e.value,o=t.value;"string"===i?(a=a.toLowerCase(),o=o.toLowerCase()):"object"===i&&(x(a)&&(a=e.index),x(o)&&(o=t.index)),a!==o&&(n=a<o?-1:1)}else n=i<r?-1:1;return n}return function(e,n,a,l){function c(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:d.map(function(n){return o(n.get(e),t)})}}function u(e,t){for(var n=0,i=d.length;n<i;n++){var r=p(e.predicateValues[n],t.predicateValues[n]);if(r)return r*d[n].descending*h}return(p(e.tieBreaker,t.tieBreaker)||s(e.tieBreaker,t.tieBreaker))*h}if(null==e)return e;if(!r(e))throw i("orderBy")("notarray","Expected array but received: {0}",e);vr(n)||(n=[n]),0===n.length&&(n=["+"]);var d=t(n),h=a?-1:1,p=D(l)?l:s,f=Array.prototype.map.call(e,c);return f.sort(u),e=f.map(function(e){return e.value})}}function yi(e){return D(e)&&(e={link:e}),e.restrict=e.restrict||"AC",v(e)}function wi(e,t){e.$name=t}function xi(e,t,n,i,r){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=r(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=io,this.$$element=e,this.$$animate=i,_i(this)}function _i(e){e.$$classCache={},e.$$classCache[Ho]=!(e.$$classCache[jo]=e.$$element.hasClass(jo))}function ki(e){function t(e,t,n,i){e[t]||(e[t]={}),o(e[t],n,i)}function n(e,t,n,i){e[t]&&s(e[t],n,i),Ci(e[t])&&(e[t]=void 0)}function i(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function r(e,t,n){t=t?"-"+he(t,"-"):"",i(e,jo+t,!0===n),i(e,Ho+t,!1===n)}var a=e.clazz,o=e.set,s=e.unset;a.prototype.$setValidity=function(e,a,l){y(a)?t(this,"$pending",e,l):n(this,"$pending",e,l),I(a)?a?(s(this.$error,e,l),o(this.$$success,e,l)):(o(this.$error,e,l),s(this.$$success,e,l)):(s(this.$error,e,l),s(this.$$success,e,l)),this.$pending?(i(this,ro,!0),this.$valid=this.$invalid=void 0,r(this,"",null)):(i(this,ro,!1),this.$valid=Ci(this.$error),this.$invalid=!this.$valid,r(this,"",this.$valid));var c;c=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null),r(this,e,c),this.$$parentForm.$setValidity(e,c,this)}}function Ci(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Si(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function $i(e,t,n,i,r,a){Di(e,t,n,i,r,a),Si(i)}function Di(e,t,n,i,r,a){var o=er(t[0].type);if(!r.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionend",function(){s=!1,c()})}var l,c=function(e){if(l&&(a.defer.cancel(l),l=null),!s){var r=t.val(),c=e&&e.type;"password"===o||n.ngTrim&&"false"===n.ngTrim||(r=yr(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,c)}};if(r.hasEvent("input"))t.on("input",c);else{var u=function(e,t,n){l||(l=a.defer(function(){l=null,t&&t.value===n||c(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||u(e,this,this.value)}),r.hasEvent("paste")&&t.on("paste cut drop",u)}t.on("change",c),yo[o]&&i.$$hasNativeValidators&&o===n.type&&t.on(bo,function(e){if(!l){var t=this[Zi],n=t.badInput,i=t.typeMismatch;l=a.defer(function(){l=null,t.badInput===n&&t.typeMismatch===i||c(e)})}}),i.$render=function(){var e=i.$isEmpty(i.$viewValue)?"":i.$viewValue;t.val()!==e&&t.val(e)}}function Ti(e,t){if(S(e))return e;if(k(e)){go.lastIndex=0;var n=go.exec(e);if(n){var i=+n[1],r=+n[2],a=0,o=0,s=0,l=0,c=li(i),u=7*(r-1);return t&&(a=t.getHours(),o=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(i,0,c.getDate()+u,a,o,s,l)}}return NaN}function Ei(e,t){return function(n,i){var r,o;if(S(n))return n;if(k(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),lo.test(n))return new Date(n);if(e.lastIndex=0,r=e.exec(n))return r.shift(),o=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},a(r,function(e,n){n<t.length&&(o[t[n]]=+e)}),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return NaN}}function Mi(e,t,n,i){return function(r,a,o,s,l,c,u){function d(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}
function h(e){return w(e)&&!S(e)?n(e)||void 0:e}Ai(r,a,o,s),Di(r,a,o,s,l,c);var p,f=s&&s.$options.getOption("timezone");if(s.$$parserName=e,s.$parsers.push(function(e){if(s.$isEmpty(e))return null;if(t.test(e)){var i=n(e,p);return f&&(i=ee(i,f)),i}}),s.$formatters.push(function(e){if(e&&!S(e))throw Vo("datefmt","Expected `{0}` to be a date",e);return d(e)?(p=e,p&&f&&(p=ee(p,f,!0)),u("date")(e,i,f)):(p=null,"")}),w(o.min)||o.ngMin){var g;s.$validators.min=function(e){return!d(e)||y(g)||n(e)>=g},o.$observe("min",function(e){g=h(e),s.$validate()})}if(w(o.max)||o.ngMax){var m;s.$validators.max=function(e){return!d(e)||y(m)||n(e)<=m},o.$observe("max",function(e){m=h(e),s.$validate()})}}}function Ai(e,t,n,i){var r=t[0];(i.$$hasNativeValidators=x(r.validity))&&i.$parsers.push(function(e){var n=t.prop(Zi)||{};return n.badInput||n.typeMismatch?void 0:e})}function Oi(e){e.$$parserName="number",e.$parsers.push(function(t){return e.$isEmpty(t)?null:ho.test(t)?parseFloat(t):void 0}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!C(t))throw Vo("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t})}function Pi(e){return w(e)&&!C(e)&&(e=parseFloat(e)),mr(e)?void 0:e}function Ii(e){return(0|e)===e}function Ri(e){var t=e.toString(),n=t.indexOf(".");if(-1===n){if(-1<e&&e<1){var i=/e-(\d+)$/.exec(t);if(i)return Number(i[1])}return 0}return t.length-n-1}function Ni(e,t,n){var i=Number(e),r=!Ii(i),a=!Ii(t),o=!Ii(n);if(r||a||o){var s=r?Ri(i):0,l=a?Ri(t):0,c=o?Ri(n):0,u=Math.max(s,l,c),d=Math.pow(10,u);i*=d,t*=d,n*=d,r&&(i=Math.round(i)),a&&(t=Math.round(t)),o&&(n=Math.round(n))}return(i-t)%n==0}function Li(e,t,n,i,r,a){Ai(e,t,n,i),Oi(i),Di(e,t,n,i,r,a);var o,s;if((w(n.min)||n.ngMin)&&(i.$validators.min=function(e){return i.$isEmpty(e)||y(o)||e>=o},n.$observe("min",function(e){o=Pi(e),i.$validate()})),(w(n.max)||n.ngMax)&&(i.$validators.max=function(e){return i.$isEmpty(e)||y(s)||e<=s},n.$observe("max",function(e){s=Pi(e),i.$validate()})),w(n.step)||n.ngStep){var l;i.$validators.step=function(e,t){return i.$isEmpty(t)||y(l)||Ni(t,o||0,l)},n.$observe("step",function(e){l=Pi(e),i.$validate()})}}function Fi(e,t,n,i,r,a){function o(e,i){t.attr(e,n[e]),n.$observe(e,i)}function s(e){if(d=Pi(e),!mr(i.$modelValue))if(u){var n=t.val();d>n&&(n=d,t.val(n)),i.$setViewValue(n)}else i.$validate()}function l(e){if(h=Pi(e),!mr(i.$modelValue))if(u){var n=t.val();h<n&&(t.val(h),n=h<d?d:h),i.$setViewValue(n)}else i.$validate()}function c(e){p=Pi(e),mr(i.$modelValue)||(u&&i.$viewValue!==t.val()?i.$setViewValue(t.val()):i.$validate())}Ai(e,t,n,i),Oi(i),Di(e,t,n,i,r,a);var u=i.$$hasNativeValidators&&"range"===t[0].type,d=u?0:void 0,h=u?100:void 0,p=u?1:void 0,f=t[0].validity,g=w(n.min),m=w(n.max),v=w(n.step),b=i.$render;i.$render=u&&w(f.rangeUnderflow)&&w(f.rangeOverflow)?function(){b(),i.$setViewValue(t.val())}:b,g&&(i.$validators.min=u?function(){return!0}:function(e,t){return i.$isEmpty(t)||y(d)||t>=d},o("min",s)),m&&(i.$validators.max=u?function(){return!0}:function(e,t){return i.$isEmpty(t)||y(h)||t<=h},o("max",l)),v&&(i.$validators.step=u?function(){return!f.stepMismatch}:function(e,t){return i.$isEmpty(t)||y(p)||Ni(t,d||0,p)},o("step",c))}function zi(e,t,n,i,r,a){Di(e,t,n,i,r,a),Si(i),i.$$parserName="url",i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||co.test(n)}}function ji(e,t,n,i,r,a){Di(e,t,n,i,r,a),Si(i),i.$$parserName="email",i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||uo.test(n)}}function Hi(e,t,n,i){var r=!n.ngTrim||"false"!==yr(n.ngTrim);y(n.name)&&t.attr("name",l());var a=function(e){var a;t[0].checked&&(a=n.value,r&&(a=yr(a)),i.$setViewValue(a,e&&e.type))};t.on("click",a),i.$render=function(){var e=n.value;r&&(e=yr(e)),t[0].checked=e===i.$viewValue},n.$observe("value",i.$render)}function Wi(e,t,n,i,r){var a;if(w(i)){if(a=e(i),!a.constant)throw Vo("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return a(t)}return r}function Bi(e,t,n,i,r,a,o,s){var l=Wi(s,e,"ngTrueValue",n.ngTrueValue,!0),c=Wi(s,e,"ngFalseValue",n.ngFalseValue,!1),u=function(e){i.$setViewValue(t[0].checked,e&&e.type)};t.on("click",u),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return!1===e},i.$formatters.push(function(e){return U(e,l)}),i.$parsers.push(function(e){return e?l:c})}function Vi(e,t){function n(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[];e:for(var i=0;i<e.length;i++){for(var r=e[i],a=0;a<t.length;a++)if(r===t[a])continue e;n.push(r)}return n}function i(e){return e&&e.split(" ")}function r(e){var t=e;return vr(e)?t=e.map(r).join(" "):x(e)&&(t=Object.keys(e).filter(function(t){return e[t]}).join(" ")),t}function o(e){var t=e;if(vr(e))t=e.map(o);else if(x(e)){var n=!1;t=Object.keys(e).filter(function(t){var i=e[t];return!n&&y(i)&&(n=!0),i}),n&&t.push(void 0)}return t}e="ngClass"+e;var s;return["$parse",function(l){return{restrict:"AC",link:function(c,u,d){function h(e){e=g(i(e),1),d.$addClass(e)}function p(e){e=g(i(e),-1),d.$removeClass(e)}function f(e,t){var r=i(e),a=i(t),o=n(r,a),s=n(a,r),l=g(o,-1),c=g(s,1);d.$addClass(c),d.$removeClass(l)}function g(e,t){var n=[];return a(e,function(e){(t>0||S[e])&&(S[e]=(S[e]||0)+t,S[e]===+(t>0)&&n.push(e))}),n.join(" ")}function m(e){e===t?h(y):p(y),$=e}function v(e){var t=r(e);t!==y&&b(t)}function b(e){$===t&&f(y,e),y=e}var y,w=d[e].trim(),x=":"===w.charAt(0)&&":"===w.charAt(1),_=x?o:r,k=l(w,_),C=x?v:b,S=u.data("$classCounts"),$=!0;S||(S=be(),u.data("$classCounts",S)),"ngClass"!==e&&(s||(s=l("$index",function(e){return 1&e})),c.$watch(s,m)),c.$watch(k,C,x)}}}]}function Ui(e,t,n,i,r,a,o,s,l){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=io,this.$options=Uo,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=r(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:e}),this.$$attr=n,this.$$element=i,this.$$animate=a,this.$$timeout=o,this.$$parse=r,this.$$q=s,this.$$exceptionHandler=t,_i(this),qi(this)}function qi(e){e.$$scope.$watch(function(t){var n=e.$$ngModelGet(t);return n===e.$modelValue||e.$modelValue!==e.$modelValue&&n!==n||e.$$setModelValue(n),n})}function Yi(e){this.$$options=e}function Ki(e,t){a(t,function(t,n){w(e[n])||(e[n]=t)})}function Gi(e,t){e.prop("selected",t),e.attr("selected",t)}var Xi={objectMaxDepth:5},Ji=/^\/(.+)\/([a-z]*)$/,Zi="validity",Qi=Object.prototype.hasOwnProperty,er=function(e){return k(e)?e.toLowerCase():e},tr=function(e){return k(e)?e.toUpperCase():e},nr=function(e){return k(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},ir=function(e){return k(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(er=nr,tr=ir);var rr,ar,or,sr,lr=[].slice,cr=[].splice,ur=[].push,dr=Object.prototype.toString,hr=Object.getPrototypeOf,pr=i("ng"),fr=e.angular||(e.angular={}),gr=0;rr=e.document.documentMode;var mr=Number.isNaN||function(e){return e!==e};g.$inject=[],m.$inject=[];var vr=Array.isArray,br=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,yr=function(e){return k(e)?e.trim():e},wr=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},xr=function(){if(!w(xr.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");xr.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else xr.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}}return xr.rules},_r=function(){if(w(_r.name_))return _r.name_;var t,n,i,r,a=Cr.length;for(n=0;n<a;++n)if(i=Cr[n],t=e.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=t.getAttribute(i+"jq");break}return _r.name_=r},kr=/:/g,Cr=["ng-","data-ng-","ng:","x-ng-"],Sr=function(t){var n=t.currentScript;if(!n)return!0;if(!(n instanceof e.HTMLScriptElement||n instanceof e.SVGScriptElement))return!1;var i=n.attributes;return[i.getNamedItem("src"),i.getNamedItem("href"),i.getNamedItem("xlink:href")].every(function(e){if(!e)return!0;if(!e.value)return!1;var n=t.createElement("a");if(n.href=e.value,t.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}(e.document),$r=/[A-Z]/g,Dr=!1,Tr=1,Er=3,Mr=8,Ar=9,Or=11,Pr={full:"1.6.9",major:1,minor:6,dot:9,codeName:"fiery-basilisk"};Ie.expando="ng339";var Ir=Ie.cache={},Rr=1;Ie._data=function(e){return this.cache[e[this.expando]]||{}};var Nr=/-([a-z])/g,Lr=/^-ms-/,Fr={mouseleave:"mouseout",mouseenter:"mouseover"},zr=i("jqLite"),jr=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Hr=/<|&#?\w+;/,Wr=/<([\w:-]+)/,Br=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Vr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Vr.optgroup=Vr.option,Vr.tbody=Vr.tfoot=Vr.colgroup=Vr.caption=Vr.thead,Vr.th=Vr.td;var Ur=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},qr=Ie.prototype={ready:Xe,toString:function(){var e=[];return a(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return ar(e>=0?this[e]:this[this.length+e])},length:0,push:ur,sort:[].sort,splice:[].splice},Yr={};a("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Yr[er(e)]=e});var Kr={};a("input,select,option,textarea,button,form,details".split(","),function(e){Kr[e]=!0});var Gr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};a({data:je,removeData:Fe,hasData:Me,cleanData:function(e){for(var t=0,n=e.length;t<n;t++)Fe(e[t])}},function(e,t){Ie[t]=e}),a({data:je,inheritedData:qe,scope:function(e){return ar.data(e,"$scope")||qe(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return ar.data(e,"$isolateScope")||ar.data(e,"$isolateScopeNoTemplate")},controller:Ue,injector:function(e){return qe(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:He,css:function(e,t,n){if(t=Se(t),!w(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){var i,r=e.nodeType;if(r!==Er&&2!==r&&r!==Mr&&e.getAttribute){var a=er(t),o=Yr[a];if(!w(n))return i=e.getAttribute(t),o&&null!==i&&(i=a),null===i?void 0:i;null===n||!1===n&&o?e.removeAttribute(t):e.setAttribute(t,o?a:n)}},prop:function(e,t,n){if(!w(n))return e[t];e[t]=n},text:function(){function e(e,t){if(y(t)){var n=e.nodeType;return n===Tr||n===Er?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(y(t)){if(e.multiple&&"select"===j(e)){var n=[];return a(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n}return e.value}e.value=t},html:function(e,t){if(y(t))return e.innerHTML;Ne(e,!0),e.innerHTML=t},empty:Ye},function(e,t){Ie.prototype[t]=function(t,n){var i,r,a=this.length;if(e!==Ye&&y(2===e.length&&e!==He&&e!==Ue?t:n)){if(x(t)){for(i=0;i<a;i++)if(e===je)e(this[i],t);else for(r in t)e(this[i],r,t[r]);return this}for(var o=e.$dv,s=y(o)?Math.min(a,1):a,l=0;l<s;l++){var c=e(this[l],t,n);o=o?o+c:c}return o}for(i=0;i<a;i++)e(this[i],t,n);return this}}),a({removeData:Fe,on:function(e,t,n,i){if(w(i))throw zr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Ee(e)){var r=ze(e,!0),a=r.events,o=r.handle;o||(o=r.handle=Qe(e,a));for(var s=t.indexOf(" ")>=0?t.split(" "):[t],l=s.length,c=function(t,i,r){var s=a[t];s||(s=a[t]=[],s.specialHandlerWrapper=i,"$destroy"===t||r||e.addEventListener(t,o)),s.push(n)};l--;)t=s[l],Fr[t]?(c(Fr[t],tt),c(t,void 0,!0)):c(t)}},off:Le,one:function(e,t,n){e=ar(e),e.on(t,function i(){e.off(t,n),e.off(t,i)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;Ne(e),a(new Ie(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return a(e.childNodes,function(e){e.nodeType===Tr&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===Tr||n===Or){t=new Ie(t);for(var i=0,r=t.length;i<r;i++){var a=t[i];e.appendChild(a)}}},prepend:function(e,t){if(e.nodeType===Tr){var n=e.firstChild;a(new Ie(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){Pe(e,ar(t).eq(0).clone()[0])},remove:Ke,detach:function(e){Ke(e,!0)},after:function(e,t){var n=e,i=e.parentNode;if(i){t=new Ie(t);for(var r=0,a=t.length;r<a;r++){var o=t[r];i.insertBefore(o,n.nextSibling),n=o}}},addClass:Be,removeClass:We,toggleClass:function(e,t,n){t&&a(t.split(" "),function(t){var i=n;y(i)&&(i=!He(e,t)),(i?Be:We)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==Or?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:Re,triggerHandler:function(e,t,n){var i,r,o,s=t.type||t,l=ze(e),c=l&&l.events,u=c&&c[s];u&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:g,type:s,target:e},t.type&&(i=d(i,t)),r=xe(u),o=n?[i].concat(n):[i],a(r,function(t){i.isImmediatePropagationStopped()||t.apply(e,o)}))}},function(e,t){Ie.prototype[t]=function(t,n,i){for(var r,a=0,o=this.length;a<o;a++)y(r)?(r=e(this[a],t,n,i),w(r)&&(r=ar(r))):Ve(r,e(this[a],t,n,i));return w(r)?r:this}}),Ie.prototype.bind=Ie.prototype.on,Ie.prototype.unbind=Ie.prototype.off;var Xr=Object.create(null);rt.prototype={_idx:function(e){return e===this._lastKey?this._lastIndex:(this._lastKey=e,this._lastIndex=this._keys.indexOf(e),this._lastIndex)},_transformKey:function(e){return mr(e)?Xr:e},get:function(e){e=this._transformKey(e);var t=this._idx(e);if(-1!==t)return this._values[t]},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},delete:function(e){e=this._transformKey(e);var t=this._idx(e);return-1!==t&&(this._keys.splice(t,1),this._values.splice(t,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Jr=rt,Zr=[function(){this.$get=[function(){return Jr}]}],Qr=/^([^(]+?)=>/,ea=/^[^(]*\(\s*([^)]*)\)/m,ta=/,/,na=/^\s*(_?)(\S+?)\1\s*$/,ia=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ra=i("$injector");ct.$$annotate=lt;var aa=i("$animate"),oa=1,sa=function(){this.$get=g},la=function(){var e=new Jr,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function r(e,t,n){var i=!1;return t&&(t=k(t)?t.split(" "):vr(t)?t:[],a(t,function(t){t&&(i=!0,e[t]=n)})),i}function o(){a(t,function(t){var n=e.get(t);if(n){var i=pt(t.attr("class")),r="",o="";a(n,function(e,t){e!==!!i[t]&&(e?r+=(r.length?" ":"")+t:o+=(o.length?" ":"")+t)}),a(t,function(e){r&&Be(e,r),o&&We(e,o)}),e.delete(t)}}),t.length=0}function s(n,a,s){var l=e.get(n)||{},c=r(l,a,!0),u=r(l,s,!1);(c||u)&&(e.set(n,l),t.push(n),1===t.length&&i.$$postDigest(o))}return{enabled:g,on:g,off:g,pin:g,push:function(e,t,i,r){r&&r(),i=i||{},i.from&&e.css(i.from),i.to&&e.css(i.to),(i.addClass||i.removeClass)&&s(e,i.addClass,i.removeClass);var a=new n;return a.complete(),a}}}]},ca=["$provide",function(e){var t=this,n=null,i=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw aa("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var r=n+"-animation";t.$$registeredAnimations[n.substr(1)]=r,e.factory(r,i)},this.customFilter=function(e){return 1===arguments.length&&(i=D(e)?e:null),i},this.classNameFilter=function(e){if(1===arguments.length&&(n=e instanceof RegExp?e:null)){if(new RegExp("[(\\s|\\/)]ng-animate[(\\s|\\/)]").test(n.toString()))throw n=null,aa("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',"ng-animate")}return n},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var i=ht(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(n,i,r,a){return i=i&&ar(i),r=r&&ar(r),i=i||r.parent(),t(n,i,r),e.push(n,"enter",ft(a))},move:function(n,i,r,a){return i=i&&ar(i),r=r&&ar(r),i=i||r.parent(),t(n,i,r),e.push(n,"move",ft(a))},leave:function(t,n){return e.push(t,"leave",ft(n),function(){t.remove()})},addClass:function(t,n,i){return i=ft(i),i.addClass=dt(i.addclass,n),e.push(t,"addClass",i)},removeClass:function(t,n,i){return i=ft(i),i.removeClass=dt(i.removeClass,n),e.push(t,"removeClass",i)},setClass:function(t,n,i,r){return r=ft(r),r.addClass=dt(r.addClass,n),r.removeClass=dt(r.removeClass,i),e.push(t,"setClass",r)},animate:function(t,n,i,r,a){return a=ft(a),a.from=a.from?d(a.from,n):n,a.to=a.to?d(a.to,i):i,r=r||"ng-inline-animate",a.tempClasses=dt(a.tempClasses,r),e.push(t,"animate",a)}}}]}],ua=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),n.length>1||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},da=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,i,r){function o(e){this.setHost(e);var t=n(),a=function(e){r(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){i()?a(e):t(e)},this._state=0}return o.chain=function(e,t){function n(){if(i===e.length)return void t(!0);e[i](function(e){if(!1===e)return void t(!1);i++,n()})}var i=0;n()},o.all=function(e,t){function n(n){r=r&&n,++i===e.length&&t(r)}var i=0,r=!0;a(e,function(e){e.done(n)})},o.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:g,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(e){2!==this._state&&(a(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},o}]},ha=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,i){function r(){return e(function(){a(),s||l.complete(),s=!0}),l}function a(){o.addClass&&(t.addClass(o.addClass),o.addClass=null),o.removeClass&&(t.removeClass(o.removeClass),o.removeClass=null),o.to&&(t.css(o.to),o.to=null)}var o=i||{};o.$$prepared||(o=B(o)),o.cleanupStyles&&(o.from=o.to=null),o.from&&(t.css(o.from),o.from=null);var s,l=new n;return{start:r,end:r}}}]},pa=i("$compile"),fa=new yt;wt.$inject=["$provide","$$sanitizeUriProvider"],xt.prototype.isFirstChange=function(){return this.previousValue===fa};var ga=/^((?:x|data)[:\-_])/i,ma=/[:\-_]+(.)/g,va=i("$controller"),ba=/^(\S+)(\s+as\s+([\w$]+))?$/,ya=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof ar&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},wa="application/json",xa={"Content-Type":wa+";charset=utf-8"},_a=/^\[|^\{(?!\{)/,ka={"[":/]$/,"{":/}$/},Ca=/^\)]\}',?\n/,Sa=i("$http"),$a=fr.$interpolateMinErr=i("$interpolate");$a.throwNoconcat=function(e){throw $a("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},$a.interr=function(e,t){return $a("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Da=function(){this.$get=function(){function e(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var t=fr.callbacks,n={};return{createCallback:function(i){var r="_"+(t.$$counter++).toString(36),a="angular.callbacks."+r,o=e(r);return n[a]=t[r]=o,a},wasCalled:function(e){return n[e].called},getResponse:function(e){return n[e].data},removeCallback:function(e){var i=n[e];delete t[i.id],delete n[e]}}}},Ta=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Ea={http:80,https:443,ftp:21},Ma=i("$location"),Aa=/^\s*[\\/]{2,}/,Oa={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:an("$$absUrl"),url:function(e){if(y(e))return this.$$url;var t=Ta.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:an("$$protocol"),host:an("$$host"),port:an("$$port"),path:on("$$path",function(e){return e=null!==e?e.toString():"","/"===e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(k(e)||C(e))e=e.toString(),this.$$search=ie(e);else{if(!x(e))throw Ma("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=B(e,{}),a(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:y(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:on("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};a([rn,nn,tn],function(e){e.prototype=Object.create(Oa),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==tn||!this.$$html5)throw Ma("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=y(t)?null:t,this.$$urlUpdatedByLocation=!0,this}});var Pa=i("$parse"),Ia={}.constructor.prototype.valueOf,Ra=be();a("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Ra[e]=!0});var Na={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},La=function(e){this.options=e};La.prototype={constructor:La,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),i=n+this.peek(2),r=Ra[t],a=Ra[n],o=Ra[i];if(r||a||o){var s=o?i:a?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),i=t.charCodeAt(0);return n>=55296&&n<=56319&&i>=56320&&i<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var i=w(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Pa("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,i,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=er(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(i+=a,r){if("u"===a){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))}else{n+=Na[a]||a}r=!1}else if("\\"===a)r=!0;else{if(a===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=a}this.index++}this.throwError("Unterminated quote",t)}};var Fa=function(e,t){this.lexer=e,this.options=t};Fa.Program="Program",Fa.ExpressionStatement="ExpressionStatement",Fa.AssignmentExpression="AssignmentExpression",Fa.ConditionalExpression="ConditionalExpression",Fa.LogicalExpression="LogicalExpression",Fa.BinaryExpression="BinaryExpression",Fa.UnaryExpression="UnaryExpression",Fa.CallExpression="CallExpression",Fa.MemberExpression="MemberExpression",Fa.Identifier="Identifier",Fa.Literal="Literal",Fa.ArrayExpression="ArrayExpression",Fa.Property="Property",Fa.ObjectExpression="ObjectExpression",Fa.ThisExpression="ThisExpression",Fa.LocalsExpression="LocalsExpression",Fa.NGValueParameter="NGValueParameter",Fa.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:Fa.Program,body:e}},expressionStatement:function(){return{type:Fa.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!mn(e))throw Pa("lval","Trying to assign a value to a non l-value");e={type:Fa.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:Fa.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:Fa.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:Fa.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:Fa.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:Fa.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:Fa.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:Fa.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:Fa.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=B(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:Fa.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:Fa.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:Fa.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:Fa.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:Fa.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do{e.push(this.filterChain())}while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:Fa.Identifier,name:e.text}},constant:function(){return{type:Fa.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Fa.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:Fa.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Fa.ObjectExpression,properties:t}},throwError:function(e,t){throw Pa("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Pa("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Pa("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){var a=this.tokens[e],o=a.text
;if(o===t||o===n||o===i||o===r||!t&&!n&&!i&&!r)return a}return!1},expect:function(e,t,n,i){var r=this.peek(e,t,n,i);return!!r&&(this.tokens.shift(),r)},selfReferential:{this:{type:Fa.ThisExpression},$locals:{type:Fa.LocalsExpression}}};var za=1,ja=2;wn.prototype={compile:function(e){var t=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},fn(e,t.$filter);var n,i="";if(this.stage="assign",n=vn(e)){this.state.computing="assign";var r=this.nextId();this.recurse(n,r),this.return_(r),i="fn.assign="+this.generateFunction("assign","s,v,l")}var o=gn(e.body);t.stage="inputs",a(o,function(e,n){var i="fn"+n;t.state[i]={vars:[],body:[],own:{}},t.state.computing=i;var r=t.nextId();t.recurse(e,r),t.return_(r),t.state.inputs.push({name:i,isPure:e.isPure}),e.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(e);var s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+i+this.watchFns()+"return fn;",l=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,cn,un,dn);return this.state=this.stage=void 0,l},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return a(t,function(t){e.push("var "+t.name+"="+n.generateFunction(t.name,"s")),t.isPure&&e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")}),t.length&&e.push("fn.inputs=["+t.map(function(e){return e.name}).join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return a(this.state.filters,function(n,i){e.push(n+"=$filter("+t.escape(i)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,i,r,o){var s,l,c,u,d,h=this;if(i=i||g,!o&&w(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,i,r,!0));switch(e.type){case Fa.Program:a(e.body,function(t,n){h.recurse(t.expression,void 0,void 0,function(e){l=e}),n!==e.body.length-1?h.current().body.push(l,";"):h.return_(l)});break;case Fa.Literal:u=this.escape(e.value),this.assign(t,u),i(t||u);break;case Fa.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){l=e}),u=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,u),i(u);break;case Fa.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){l=e}),u="+"===e.operator?this.plus(s,l):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(l,0):"("+s+")"+e.operator+"("+l+")",this.assign(t,u),i(u);break;case Fa.LogicalExpression:t=t||this.nextId(),h.recurse(e.left,t),h.if_("&&"===e.operator?t:h.not(t),h.lazyRecurse(e.right,t)),i(t);break;case Fa.ConditionalExpression:t=t||this.nextId(),h.recurse(e.test,t),h.if_(t,h.lazyRecurse(e.alternate,t),h.lazyRecurse(e.consequent,t)),i(t);break;case Fa.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",e.name)),function(){h.if_("inputs"===h.stage||"s",function(){r&&1!==r&&h.if_(h.isNull(h.nonComputedMember("s",e.name)),h.lazyAssign(h.nonComputedMember("s",e.name),"{}")),h.assign(t,h.nonComputedMember("s",e.name))})},t&&h.lazyAssign(t,h.nonComputedMember("l",e.name))),i(t);break;case Fa.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),h.recurse(e.object,s,void 0,function(){h.if_(h.notNull(s),function(){e.computed?(l=h.nextId(),h.recurse(e.property,l),h.getStringValue(l),r&&1!==r&&h.if_(h.not(h.computedMember(s,l)),h.lazyAssign(h.computedMember(s,l),"{}")),u=h.computedMember(s,l),h.assign(t,u),n&&(n.computed=!0,n.name=l)):(r&&1!==r&&h.if_(h.isNull(h.nonComputedMember(s,e.property.name)),h.lazyAssign(h.nonComputedMember(s,e.property.name),"{}")),u=h.nonComputedMember(s,e.property.name),h.assign(t,u),n&&(n.computed=!1,n.name=e.property.name))},function(){h.assign(t,"undefined")}),i(t)},!!r);break;case Fa.CallExpression:t=t||this.nextId(),e.filter?(l=h.filter(e.callee.name),c=[],a(e.arguments,function(e){var t=h.nextId();h.recurse(e,t),c.push(t)}),u=l+"("+c.join(",")+")",h.assign(t,u),i(t)):(l=h.nextId(),s={},c=[],h.recurse(e.callee,l,s,function(){h.if_(h.notNull(l),function(){a(e.arguments,function(t){h.recurse(t,e.constant?void 0:h.nextId(),void 0,function(e){c.push(e)})}),u=s.name?h.member(s.context,s.name,s.computed)+"("+c.join(",")+")":l+"("+c.join(",")+")",h.assign(t,u)},function(){h.assign(t,"undefined")}),i(t)}));break;case Fa.AssignmentExpression:l=this.nextId(),s={},this.recurse(e.left,void 0,s,function(){h.if_(h.notNull(s.context),function(){h.recurse(e.right,l),u=h.member(s.context,s.name,s.computed)+e.operator+l,h.assign(t,u),i(t||u)})},1);break;case Fa.ArrayExpression:c=[],a(e.elements,function(t){h.recurse(t,e.constant?void 0:h.nextId(),void 0,function(e){c.push(e)})}),u="["+c.join(",")+"]",this.assign(t,u),i(t||u);break;case Fa.ObjectExpression:c=[],d=!1,a(e.properties,function(e){e.computed&&(d=!0)}),d?(t=t||this.nextId(),this.assign(t,"{}"),a(e.properties,function(e){e.computed?(s=h.nextId(),h.recurse(e.key,s)):s=e.key.type===Fa.Identifier?e.key.name:""+e.key.value,l=h.nextId(),h.recurse(e.value,l),h.assign(h.member(t,s,e.computed),l)})):(a(e.properties,function(t){h.recurse(t.value,e.constant?void 0:h.nextId(),void 0,function(e){c.push(h.escape(t.key.type===Fa.Identifier?t.key.name:""+t.key.value)+":"+e)})}),u="{"+c.join(",")+"}",this.assign(t,u)),i(t||u);break;case Fa.ThisExpression:this.assign(t,"s"),i(t||"s");break;case Fa.LocalsExpression:this.assign(t,"l"),i(t||"l");break;case Fa.NGValueParameter:this.assign(t,"v"),i(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var i=this.current().body;i.push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,i=/[^$_a-zA-Z0-9]/g;return n.test(t)?e+"."+t:e+'["'+t.replace(i,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,i,r,a){var o=this;return function(){o.recurse(e,t,n,i,r,a)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(k(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(C(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw Pa("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},xn.prototype={compile:function(e){var t=this;fn(e,t.$filter);var n,i;(n=vn(e))&&(i=this.recurse(n));var r,o=gn(e.body);o&&(r=[],a(o,function(e,n){var i=t.recurse(e);i.isPure=e.isPure,e.input=i,r.push(i),e.watchId=n}));var s=[];a(e.body,function(e){s.push(t.recurse(e.expression))});var l=0===e.body.length?g:1===e.body.length?s[0]:function(e,t){var n;return a(s,function(i){n=i(e,t)}),n};return i&&(l.assign=function(e,t,n){return i(e,n,t)}),r&&(l.inputs=r),l},recurse:function(e,t,n){var i,r,o,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case Fa.Literal:return this.value(e.value,t);case Fa.UnaryExpression:return r=this.recurse(e.argument),this["unary"+e.operator](r,t);case Fa.BinaryExpression:case Fa.LogicalExpression:return i=this.recurse(e.left),r=this.recurse(e.right),this["binary"+e.operator](i,r,t);case Fa.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case Fa.Identifier:return s.identifier(e.name,t,n);case Fa.MemberExpression:return i=this.recurse(e.object,!1,!!n),e.computed||(r=e.property.name),e.computed&&(r=this.recurse(e.property)),e.computed?this.computedMember(i,r,t,n):this.nonComputedMember(i,r,t,n);case Fa.CallExpression:return o=[],a(e.arguments,function(e){o.push(s.recurse(e))}),e.filter&&(r=this.$filter(e.callee.name)),e.filter||(r=this.recurse(e.callee,!0)),e.filter?function(e,n,i,a){for(var s=[],l=0;l<o.length;++l)s.push(o[l](e,n,i,a));var c=r.apply(void 0,s,a);return t?{context:void 0,name:void 0,value:c}:c}:function(e,n,i,a){var s,l=r(e,n,i,a);if(null!=l.value){for(var c=[],u=0;u<o.length;++u)c.push(o[u](e,n,i,a));s=l.value.apply(l.context,c)}return t?{value:s}:s};case Fa.AssignmentExpression:return i=this.recurse(e.left,!0,1),r=this.recurse(e.right),function(e,n,a,o){var s=i(e,n,a,o),l=r(e,n,a,o);return s.context[s.name]=l,t?{value:l}:l};case Fa.ArrayExpression:return o=[],a(e.elements,function(e){o.push(s.recurse(e))}),function(e,n,i,r){for(var a=[],s=0;s<o.length;++s)a.push(o[s](e,n,i,r));return t?{value:a}:a};case Fa.ObjectExpression:return o=[],a(e.properties,function(e){e.computed?o.push({key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}):o.push({key:e.key.type===Fa.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})}),function(e,n,i,r){for(var a={},s=0;s<o.length;++s)o[s].computed?a[o[s].key(e,n,i,r)]=o[s].value(e,n,i,r):a[o[s].key]=o[s].value(e,n,i,r);return t?{value:a}:a};case Fa.ThisExpression:return function(e){return t?{value:e}:e};case Fa.LocalsExpression:return function(e,n){return t?{value:n}:n};case Fa.NGValueParameter:return function(e,n,i){return t?{value:i}:i}}},"unary+":function(e,t){return function(n,i,r,a){var o=e(n,i,r,a);return o=w(o)?+o:0,t?{value:o}:o}},"unary-":function(e,t){return function(n,i,r,a){var o=e(n,i,r,a);return o=w(o)?-o:-0,t?{value:o}:o}},"unary!":function(e,t){return function(n,i,r,a){var o=!e(n,i,r,a);return t?{value:o}:o}},"binary+":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o),l=t(i,r,a,o),c=dn(s,l);return n?{value:c}:c}},"binary-":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o),l=t(i,r,a,o),c=(w(s)?s:0)-(w(l)?l:0);return n?{value:c}:c}},"binary*":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)*t(i,r,a,o);return n?{value:s}:s}},"binary/":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)/t(i,r,a,o);return n?{value:s}:s}},"binary%":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)%t(i,r,a,o);return n?{value:s}:s}},"binary===":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)===t(i,r,a,o);return n?{value:s}:s}},"binary!==":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)!==t(i,r,a,o);return n?{value:s}:s}},"binary==":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)==t(i,r,a,o);return n?{value:s}:s}},"binary!=":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)!=t(i,r,a,o);return n?{value:s}:s}},"binary<":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)<t(i,r,a,o);return n?{value:s}:s}},"binary>":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)>t(i,r,a,o);return n?{value:s}:s}},"binary<=":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)<=t(i,r,a,o);return n?{value:s}:s}},"binary>=":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)>=t(i,r,a,o);return n?{value:s}:s}},"binary&&":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)&&t(i,r,a,o);return n?{value:s}:s}},"binary||":function(e,t,n){return function(i,r,a,o){var s=e(i,r,a,o)||t(i,r,a,o);return n?{value:s}:s}},"ternary?:":function(e,t,n,i){return function(r,a,o,s){var l=e(r,a,o,s)?t(r,a,o,s):n(r,a,o,s);return i?{value:l}:l}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n){return function(i,r,a,o){var s=r&&e in r?r:i;n&&1!==n&&s&&null==s[e]&&(s[e]={});var l=s?s[e]:void 0;return t?{context:s,name:e,value:l}:l}},computedMember:function(e,t,n,i){return function(r,a,o,s){var l,c,u=e(r,a,o,s);return null!=u&&(l=t(r,a,o,s),l=cn(l),i&&1!==i&&u&&!u[l]&&(u[l]={}),c=u[l]),n?{context:u,name:l,value:c}:c}},nonComputedMember:function(e,t,n,i){return function(r,a,o,s){var l=e(r,a,o,s);i&&1!==i&&l&&null==l[t]&&(l[t]={});var c=null!=l?l[t]:void 0;return n?{context:l,name:t,value:c}:c}},inputs:function(e,t){return function(n,i,r,a){return a?a[t]:e(n,i,r)}}},_n.prototype={constructor:_n,parse:function(e){var t=this.getAst(e),n=this.astCompiler.compile(t.ast);return n.literal=bn(t.ast),n.constant=yn(t.ast),n.oneTime=t.oneTime,n},getAst:function(e){var t=!1;return e=e.trim(),":"===e.charAt(0)&&":"===e.charAt(1)&&(t=!0,e=e.substring(2)),{ast:this.ast.ast(e),oneTime:t}}};var Ha=i("$sce"),Wa={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Ba=/_([a-z])/g,Va=i("$compile"),Ua=e.document.createElement("a"),qa=Bn(e.location.href);qn.$inject=["$document"],Kn.$inject=["$provide"];var Ya=22,Ka=".",Ga="0";Qn.$inject=["$locale"],ei.$inject=["$locale"];var Xa={yyyy:ai("FullYear",4,0,!1,!0),yy:ai("FullYear",2,0,!0,!0),y:ai("FullYear",1,0,!1,!0),MMMM:oi("Month"),MMM:oi("Month",!0),MM:ai("Month",2,1),M:ai("Month",1,1),LLLL:oi("Month",!1,!0),dd:ai("Date",2),d:ai("Date",1),HH:ai("Hours",2),H:ai("Hours",1),hh:ai("Hours",2,-12),h:ai("Hours",1,-12),mm:ai("Minutes",2),m:ai("Minutes",1),ss:ai("Seconds",2),s:ai("Seconds",1),sss:ai("Milliseconds",3),EEEE:oi("Day"),EEE:oi("Day",!0),a:di,Z:si,ww:ui(2),w:ui(1),G:hi,GG:hi,GGG:hi,GGGG:pi},Ja=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Za=/^-?\d+$/;fi.$inject=["$locale"];var Qa=v(er),eo=v(tr);bi.$inject=["$parse"];var to=v({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===dr.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),no={};a(Yr,function(e,t){function n(e,n,r){e.$watch(r[i],function(e){r.$set(t,!!e)})}if("multiple"!==e){var i=_t("ng-"+t),r=n;"checked"===e&&(r=function(e,t,r){r.ngModel!==r[i]&&n(e,t,r)}),no[i]=function(){return{restrict:"A",priority:100,link:r}}}}),a(Gr,function(e,t){no[t]=function(){return{priority:100,link:function(e,n,i){if("ngPattern"===t&&"/"===i.ngPattern.charAt(0)){var r=i.ngPattern.match(Ji);if(r)return void i.$set("ngPattern",new RegExp(r[1],r[2]))}e.$watch(i[t],function(e){i.$set(t,e)})}}}}),a(["src","srcset","href"],function(e){var t=_t("ng-"+e);no[t]=function(){return{priority:99,link:function(n,i,r){var a=e,o=e;"href"===e&&"[object SVGAnimatedString]"===dr.call(i.prop("href"))&&(o="xlinkHref",r.$attr[o]="xlink:href",a=null),r.$observe(t,function(t){if(!t)return void("href"===e&&r.$set(o,null));r.$set(o,t),rr&&a&&i.prop(a,r[o])})}}}});var io={$addControl:g,$$renameControl:wi,$removeControl:g,$setValidity:g,$setDirty:g,$setPristine:g,$setSubmitted:g},ro="ng-pending";xi.$inject=["$element","$attrs","$scope","$animate","$interpolate"],xi.prototype={$rollbackViewValue:function(){a(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){a(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){ge(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],a(this.$pending,function(t,n){this.$setValidity(n,null,e)},this),a(this.$error,function(t,n){this.$setValidity(n,null,e)},this),a(this.$$success,function(t,n){this.$setValidity(n,null,e)},this),W(this.$$controls,e),e.$$parentForm=io},$setDirty:function(){this.$$animate.removeClass(this.$$element,Wo),this.$$animate.addClass(this.$$element,Bo),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Wo,Bo+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,a(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){a(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},ki({clazz:xi,set:function(e,t,n){var i=e[t];if(i){-1===i.indexOf(n)&&i.push(n)}else e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(W(i,n),0===i.length&&delete e[t])}});var ao=function(e){return["$timeout","$parse",function(t,n){function i(e){return""===e?n('this[""]').assign:n(e).assign||g}return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:xi,compile:function(n,r){n.addClass(Wo).addClass(jo);var a=r.name?"name":!(!e||!r.ngForm)&&"ngForm";return{pre:function(e,n,r,o){var s=o[0];if(!("action"in r)){var l=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};n[0].addEventListener("submit",l),n.on("$destroy",function(){t(function(){n[0].removeEventListener("submit",l)},0,!1)})}(o[1]||s.$$parentForm).$addControl(s);var c=a?i(s.$name):g;a&&(c(e,s),r.$observe(a,function(t){s.$name!==t&&(c(e,void 0),s.$$parentForm.$$renameControl(s,t),(c=i(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),c(e,void 0),d(s,io)})}}}}}]},oo=ao(),so=ao(!0),lo=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,co=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,uo=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,ho=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,po=/^(\d{4,})-(\d{2})-(\d{2})$/,fo=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,go=/^(\d{4,})-W(\d\d)$/,mo=/^(\d{4,})-(\d\d)$/,vo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,bo="keydown wheel mousedown",yo=be();a("date,datetime-local,month,time,week".split(","),function(e){yo[e]=!0});var wo={text:$i,date:Mi("date",po,Ei(po,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Mi("datetimelocal",fo,Ei(fo,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Mi("time",vo,Ei(vo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Mi("week",go,Ti,"yyyy-Www"),month:Mi("month",mo,Ei(mo,["yyyy","MM"]),"yyyy-MM"),number:Li,url:zi,email:ji,radio:Hi,range:Fi,checkbox:Bi,hidden:g,button:g,submit:g,reset:g,file:g},xo=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,a,o,s){s[0]&&(wo[er(o.type)]||wo.text)(r,a,o,s[0],t,e,n,i)}}}}],_o=/^(true|false|\d+)$/,ko=function(){function e(e,t,n){var i=w(n)?n:9===rr?"":null;e.prop("value",i),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,n){return _o.test(n.ngValue)?function(t,n,i){e(n,i,t.$eval(i.ngValue))}:function(t,n,i){t.$watch(i.ngValue,function(t){e(n,i,t)})}}}},Co=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,i){e.$$addBindingInfo(n,i.ngBind),n=n[0],t.$watch(i.ngBind,function(e){n.textContent=ye(e)})}}}}],So=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,i,r){var a=e(i.attr(r.$attr.ngBindTemplate));t.$$addBindingInfo(i,a.expressions),i=i[0],r.$observe("ngBindTemplate",function(e){i.textContent=y(e)?"":e})}}}}],$o=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,r){var a=t(r.ngBindHtml),o=t(r.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(i),function(t,i,r){n.$$addBindingInfo(i,r.ngBindHtml),t.$watch(o,function(){var n=a(t);i.html(e.getTrustedHtml(n)||"")})}}}}],Do=v({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),To=Vi("",!0),Eo=Vi("Odd",0),Mo=Vi("Even",1),Ao=yi({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),Oo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Po={},Io={blur:!0,focus:!0};a("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=_t("ng-"+e);Po[t]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,a){var o=n(a[t]);return function(t,n){n.on(e,function(n){var r=function(){o(t,{$event:n})};Io[e]&&i.$$phase?t.$evalAsync(r):t.$apply(r)})}}}}]});var Ro=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,a,o){var s,l,c;n.$watch(r.ngIf,function(n){n?l||o(function(n,a){l=a,n[n.length++]=t.$$createComment("end ngIf",r.ngIf),s={clone:n},e.enter(n,i.parent(),i)}):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=ve(s.clone),e.leave(c).done(function(e){!1!==e&&(c=null)}),s=null))})}}}],No=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:fr.noop,compile:function(i,r){var a=r.ngInclude||r.src,o=r.onload||"",s=r.autoscroll;return function(i,r,l,c,u){var d,h,p,f=0,g=function(){h&&(h.remove(),h=null),d&&(d.$destroy(),d=null),p&&(n.leave(p).done(function(e){!1!==e&&(h=null)}),h=p,p=null)};i.$watch(a,function(a){var l=function(e){!1===e||!w(s)||s&&!i.$eval(s)||t()},h=++f;a?(e(a,!0).then(function(e){if(!i.$$destroyed&&h===f){var t=i.$new();c.template=e;var s=u(t,function(e){g(),n.enter(e,null,r).done(l)});d=t,p=s,d.$emit("$includeContentLoaded",a),i.$eval(o)}},function(){i.$$destroyed||h===f&&(g(),i.$emit("$includeContentError",a))}),i.$emit("$includeContentRequested",a)):(g(),c.template=null)})}}}}],Lo=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,a){if(dr.call(i[0]).match(/SVG/))return i.empty(),void t(Ae(a.template,e.document).childNodes)(n,function(e){i.append(e)},{futureParentElement:i});i.html(a.template),t(i.contents())(n)}}}],Fo=yi({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),zo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,i){var r=n.ngList||", ",o="false"!==n.ngTrim,s=o?yr(r):r,l=function(e){if(!y(e)){var t=[];return e&&a(e.split(s),function(e){e&&t.push(o?yr(e):e)}),t}};i.$parsers.push(l),i.$formatters.push(function(e){if(vr(e))return e.join(r)}),i.$isEmpty=function(e){return!e||!e.length}}}},jo="ng-valid",Ho="ng-invalid",Wo="ng-pristine",Bo="ng-dirty",Vo=i("ngModel");Ui.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],Ui.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var n=this.$$parsedNgModel(t);return D(n)&&(n=e(t)),n},this.$$ngModelSet=function(e,n){D(this.$$parsedNgModel(e))?t(e,{$$$p:n}):this.$$parsedNgModelAssign(e,n)}}else if(!this.$$parsedNgModel.assign)throw Vo("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,te(this.$$element))},$render:g,$isEmpty:function(e){return y(e)||""===e||null===e||e!==e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Bo),this.$$animate.addClass(this.$$element,Wo)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Wo),this.$$animate.addClass(this.$$element,Bo),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!mr(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,i=this.$modelValue,r=this.$options.getOption("allowInvalid"),a=this;this.$$runValidators(t,e,function(e){r||n===e||(a.$modelValue=e?t:void 0,a.$modelValue!==i&&a.$$writeModelToScope())})}},$$runValidators:function(e,t,n){function i(e,t){o===s.$$currentValidationRunId&&s.$setValidity(e,t)}function r(e){o===s.$$currentValidationRunId&&n(e)}this.$$currentValidationRunId++;var o=this.$$currentValidationRunId,s=this;return function(){var e=s.$$parserName||"parse";return y(s.$$parserValid)?(i(e,null),!0):(s.$$parserValid||(a(s.$validators,function(e,t){i(t,null)}),a(s.$asyncValidators,function(e,t){i(t,null)})),i(e,s.$$parserValid),s.$$parserValid)}()&&function(){var n=!0;return a(s.$validators,function(r,a){var o=Boolean(r(e,t));n=n&&o,i(a,o)}),!!n||(a(s.$asyncValidators,function(e,t){i(t,null)}),!1)}()?void function(){var n=[],o=!0;a(s.$asyncValidators,function(r,a){var s=r(e,t);if(!R(s))throw Vo("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);i(a,void 0),n.push(s.then(function(){i(a,!0)},function(){o=!1,i(a,!1)}))}),n.length?s.$$q.all(n).then(function(){r(o)},g):r(!0)}():void r(!1)},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function e(){i.$modelValue!==a&&i.$$writeModelToScope()}var t=this.$$lastCommittedViewValue,n=t,i=this;if(this.$$parserValid=!y(n)||void 0,this.$$parserValid)for(var r=0;r<this.$parsers.length;r++)if(n=this.$parsers[r](n),y(n)){this.$$parserValid=!1;break}mr(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var a=this.$modelValue,o=this.$options.getOption("allowInvalid");this.$$rawModelValue=n,o&&(this.$modelValue=n,e()),this.$$runValidators(n,this.$$lastCommittedViewValue,function(t){o||(i.$modelValue=t?n:void 0,e())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),a(this.$viewChangeListeners,function(e){try{e()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");C(t[e])?t=t[e]:C(t.default)&&(t=t.default),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;t>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e),this.$$setUpdateOnEvents()},$processModelValue:function(){var e=this.$$format();this.$viewValue!==e&&(this.$$updateEmptyClasses(e),this.$viewValue=this.$$lastCommittedViewValue=e,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,g))},$$format:function(){for(var e=this.$formatters,t=e.length,n=this.$modelValue;t--;)n=e[t](n);return n},$$setModelValue:function(e){this.$modelValue=this.$$rawModelValue=e,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),this.$$updateEvents=this.$options.getOption("updateOn"),this.$$updateEvents&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(e){this.$$debounceViewValueCommit(e&&e.type)}},ki({clazz:Ui,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var Uo,qo=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ui,priority:1,compile:function(t){return t.addClass(Wo).addClass("ng-untouched").addClass(jo),{pre:function(e,t,n,i){var r=i[0],a=i[1]||r.$$parentForm,o=i[2];o&&(r.$options=o.$options),r.$$initGetterSetters(),a.$addControl(r),n.$observe("name",function(e){r.$name!==e&&r.$$parentForm.$$renameControl(r,e)}),e.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(t,n,i,r){function a(){o.$setTouched()}var o=r[0];o.$$setUpdateOnEvents(),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(a):t.$apply(a))})}}}}}],Yo=/(\s+|^)default(\s+|$)/;Yi.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return e=d({},e),a(e,function(n,i){"$inherit"===n?"*"===i?t=!0:(e[i]=this.$$options[i],"updateOn"===i&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===i&&(e.updateOnDefault=!1,e[i]=yr(n.replace(Yo,function(){return e.updateOnDefault=!0," "})))},this),t&&(delete e["*"],Ki(e,this.$$options)),Ki(e,Uo.$$options),new Yi(e)}},Uo=new Yi({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Ko=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:Uo,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}},Go=yi({terminal:!0,priority:1e3}),Xo=i("ngOptions"),Jo=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Zo=["$compile","$document","$parse",function(t,n,i){function o(e,t,n){function a(e,t,n,i,r){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=r}function o(e){var t;if(!c&&r(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var s=e.match(Jo);if(!s)throw Xo("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,te(t));var l=s[5]||s[7],c=s[6],u=/ as /.test(s[0])&&s[1],d=s[9],h=i(s[2]?s[1]:l),p=u&&i(u),f=p||h,g=d&&i(d),m=d?function(e,t){return g(n,t)}:function(e){return it(e)},v=function(e,t){return m(e,k(e,t))},b=i(s[2]||s[1]),y=i(s[3]||""),w=i(s[4]||""),x=i(s[8]),_={},k=c?function(e,t){return _[c]=t,_[l]=e,_}:function(e){return _[l]=e,_};return{trackBy:d,getTrackByValue:v,getWatchables:i(x,function(e){var t=[];e=e||[];for(var i=o(e),r=i.length,a=0;a<r;a++){var l=e===i?a:i[a],c=e[l],u=k(c,l),d=m(c,u);if(t.push(d),s[2]||s[1]){var h=b(n,u);t.push(h)}if(s[4]){var p=w(n,u);t.push(p)}}return t}),getOptions:function(){for(var e=[],t={},i=x(n)||[],r=o(i),s=r.length,l=0;l<s;l++){var c=i===r?l:r[l],u=i[c],h=k(u,c),p=f(n,h),g=m(p,h),_=b(n,h),C=y(n,h),S=w(n,h),$=new a(g,p,_,C,S);e.push($),t[g]=$}return{items:e,selectValueMap:t,
getOptionFromViewValue:function(e){return t[v(e)]},getViewValueFromOption:function(e){return d?B(e.viewValue):e.viewValue}}}}}function s(e,i,r,s){function u(e,t){var n=l.cloneNode(!1);t.appendChild(n),h(e,n)}function d(e){var t=_.getOptionFromViewValue(e),n=t&&t.element;return n&&!n.selected&&(n.selected=!0),t}function h(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),t.value=e.selectValue}function p(){var e=_&&f.readValue();if(_)for(var t=_.items.length-1;t>=0;t--){var n=_.items[t];Ke(w(n.group)?n.element.parentNode:n.element)}_=k.getOptions();var r={};if(_.items.forEach(function(e){var t;w(e.group)?(t=r[e.group],t||(t=c.cloneNode(!1),C.appendChild(t),t.label=null===e.group?"null":e.group,r[e.group]=t),u(e,t)):u(e,C)}),i[0].appendChild(C),g.$render(),!g.$isEmpty(e)){var a=f.readValue();(k.trackBy||m?U(e,a):e===a)||(g.$setViewValue(a),g.$render())}}for(var f=s[0],g=s[1],m=r.multiple,v=0,b=i.children(),y=b.length;v<y;v++)if(""===b[v].value){f.hasEmptyOption=!0,f.emptyOption=b.eq(v);break}i.empty();var x=!!f.emptyOption;ar(l.cloneNode(!1)).val("?");var _,k=o(r.ngOptions,i,e),C=n[0].createDocumentFragment();f.generateUnknownOptionValue=function(e){return"?"},m?(f.writeValue=function(e){if(_){var t=e&&e.map(d)||[];_.items.forEach(function(e){e.element.selected&&!H(t,e)&&(e.element.selected=!1)})}},f.readValue=function(){var e=i.val()||[],t=[];return a(e,function(e){var n=_.selectValueMap[e];n&&!n.disabled&&t.push(_.getViewValueFromOption(n))}),t},k.trackBy&&e.$watchCollection(function(){if(vr(g.$viewValue))return g.$viewValue.map(function(e){return k.getTrackByValue(e)})},function(){g.$render()})):(f.writeValue=function(e){if(_){var t=i[0].options[i[0].selectedIndex],n=_.getOptionFromViewValue(e);t&&t.removeAttribute("selected"),n?(i[0].value!==n.selectValue&&(f.removeUnknownOption(),i[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):f.selectUnknownOrEmptyOption(e)}},f.readValue=function(){var e=_.selectValueMap[i.val()];return e&&!e.disabled?(f.unselectEmptyOption(),f.removeUnknownOption(),_.getViewValueFromOption(e)):null},k.trackBy&&e.$watch(function(){return k.getTrackByValue(g.$viewValue)},function(){g.$render()})),x&&(t(f.emptyOption)(e),i.prepend(f.emptyOption),f.emptyOption[0].nodeType===Mr?(f.hasEmptyOption=!1,f.registerOption=function(e,t){""===t.val()&&(f.hasEmptyOption=!0,f.emptyOption=t,f.emptyOption.removeClass("ng-scope"),g.$render(),t.on("$destroy",function(){var e=f.$isEmptyOptionSelected();f.hasEmptyOption=!1,f.emptyOption=void 0,e&&g.$render()}))}):f.emptyOption.removeClass("ng-scope")),e.$watchCollection(k.getWatchables,p)}var l=e.document.createElement("option"),c=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,i){i[0].registerOption=g},post:s}}}],Qo=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(o,s,l){function c(e){s.text(e||"")}var u,d=l.count,h=l.$attr.when&&s.attr(l.$attr.when),p=l.offset||0,f=o.$eval(h)||{},m={},v=t.startSymbol(),b=t.endSymbol(),w=v+d+"-"+p+b,x=fr.noop;a(l,function(e,t){var n=r.exec(t);if(n){var i=(n[1]?"-":"")+er(n[2]);f[i]=s.attr(l.$attr[t])}}),a(f,function(e,n){m[n]=t(e.replace(i,w))}),o.$watch(d,function(t){var i=parseFloat(t),r=mr(i);if(r||i in f||(i=e.pluralCat(i-p)),!(i===u||r&&mr(u))){x();var a=m[i];y(a)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+h),x=g,c()):x=o.$watch(a,c),u=i}})}}}],es=["$parse","$animate","$compile",function(e,t,n){var o=i("ngRepeat"),s=function(e,t,n,i,r,a,o){e[n]=i,r&&(e[r]=a),e.$index=t,e.$first=0===t,e.$last=t===o-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))},l=function(e){return e.clone[0]},c=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,u){var d=u.ngRepeat,h=n.$$createComment("end ngRepeat",d),p=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw o("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",d);var f=p[1],g=p[2],m=p[3],v=p[4];if(!(p=f.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw o("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",f);var b=p[3]||p[1],y=p[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m)))throw o("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",m);var w,x,_,k,C={$id:it};return v?w=e(v):(_=function(e,t){return it(t)},k=function(e){return e}),function(e,n,i,u,p){w&&(x=function(t,n,i){return y&&(C[y]=t),C[b]=n,C.$index=i,w(e,C)});var f=be();e.$watchCollection(g,function(i){var u,g,v,w,C,S,$,D,T,E,M,A,O=n[0],P=be();if(m&&(e[m]=i),r(i))T=i,D=x||_;else{D=x||k,T=[];for(var I in i)Qi.call(i,I)&&"$"!==I.charAt(0)&&T.push(I)}for(w=T.length,M=new Array(w),u=0;u<w;u++)if(C=i===T?u:T[u],S=i[C],$=D(C,S,u),f[$])E=f[$],delete f[$],P[$]=E,M[u]=E;else{if(P[$])throw a(M,function(e){e&&e.scope&&(f[e.id]=e)}),o("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",d,$,S);M[u]={id:$,scope:void 0,clone:void 0},P[$]=!0}for(var R in f){if(E=f[R],A=ve(E.clone),t.leave(A),A[0].parentNode)for(u=0,g=A.length;u<g;u++)A[u].$$NG_REMOVED=!0;E.scope.$destroy()}for(u=0;u<w;u++)if(C=i===T?u:T[u],S=i[C],E=M[u],E.scope){v=O;do{v=v.nextSibling}while(v&&v.$$NG_REMOVED);l(E)!==v&&t.move(ve(E.clone),null,O),O=c(E),s(E.scope,u,b,S,y,C,w)}else p(function(e,n){E.scope=n;var i=h.cloneNode(!1);e[e.length++]=i,t.enter(e,null,O),O=i,E.clone=e,P[E.id]=E,s(E.scope,u,b,S,y,C,w)});f=P})}}}}],ts=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ns=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],is=yi(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&a(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),rs=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,o){var s=r.ngSwitch||r.on,l=[],c=[],u=[],d=[],h=function(e,t){return function(n){!1!==n&&e.splice(t,1)}};n.$watch(s,function(n){for(var i,r;u.length;)e.cancel(u.pop());for(i=0,r=d.length;i<r;++i){var s=ve(c[i].clone);d[i].$destroy();(u[i]=e.leave(s)).done(h(u,i))}c.length=0,d.length=0,(l=o.cases["!"+n]||o.cases["?"])&&a(l,function(n){n.transclude(function(i,r){d.push(r);var a=n.element;i[i.length++]=t.$$createComment("end ngSwitchWhen");var o={clone:i};c.push(o),e.enter(i,a.parent(),a)})})})}}}],as=yi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){a(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e}),function(e){i.cases["!"+e]=i.cases["!"+e]||[],i.cases["!"+e].push({transclude:r,element:t})})}}),os=yi({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),ss=i("ngTransclude"),ls=["$compile",function(e){return{restrict:"EAC",compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,i,r,a){function o(e,n){e.length&&l(e)?t.append(e):(s(),n.$destroy())}function s(){n(e,function(e){t.append(e)})}function l(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];if(i.nodeType!==Er||i.nodeValue.trim())return!0}}if(!a)throw ss("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",te(t));i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude="");var c=i.ngTransclude||i.ngTranscludeSlot;a(o,null,c),c&&!a.isSlotFilled(c)&&s()}}}}],cs=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"===n.type){var i=n.id,r=t[0].text;e.put(i,r)}}}}],us={$setViewValue:g,$render:g},ds=["$element","$scope",function(t,n){function i(){s||(s=!0,n.$$postDigest(function(){s=!1,a.ngModelCtrl.$render()}))}function r(e){l||(l=!0,n.$$postDigest(function(){n.$$destroyed||(l=!1,a.ngModelCtrl.$setViewValue(a.readValue()),e&&a.ngModelCtrl.$render())}))}var a=this,o=new Jr;a.selectValueMap={},a.ngModelCtrl=us,a.multiple=!1,a.unknownOption=ar(e.document.createElement("option")),a.hasEmptyOption=!1,a.emptyOption=void 0,a.renderUnknownOption=function(e){var n=a.generateUnknownOptionValue(e);a.unknownOption.val(n),t.prepend(a.unknownOption),Gi(a.unknownOption,!0),t.val(n)},a.updateUnknownOption=function(e){var n=a.generateUnknownOptionValue(e);a.unknownOption.val(n),Gi(a.unknownOption,!0),t.val(n)},a.generateUnknownOptionValue=function(e){return"? "+it(e)+" ?"},a.removeUnknownOption=function(){a.unknownOption.parent()&&a.unknownOption.remove()},a.selectEmptyOption=function(){a.emptyOption&&(t.val(""),Gi(a.emptyOption,!0))},a.unselectEmptyOption=function(){a.hasEmptyOption&&Gi(a.emptyOption,!1)},n.$on("$destroy",function(){a.renderUnknownOption=g}),a.readValue=function(){var e=t.val(),n=e in a.selectValueMap?a.selectValueMap[e]:e;return a.hasOption(n)?n:null},a.writeValue=function(e){var n=t[0].options[t[0].selectedIndex];if(n&&Gi(ar(n),!1),a.hasOption(e)){a.removeUnknownOption();var i=it(e);t.val(i in a.selectValueMap?i:e);var r=t[0].options[t[0].selectedIndex];Gi(ar(r),!0)}else a.selectUnknownOrEmptyOption(e)},a.addOption=function(e,t){if(t[0].nodeType!==Mr){ge(e,'"option value"'),""===e&&(a.hasEmptyOption=!0,a.emptyOption=t);var n=o.get(e)||0;o.set(e,n+1),i()}},a.removeOption=function(e){var t=o.get(e);t&&(1===t?(o.delete(e),""===e&&(a.hasEmptyOption=!1,a.emptyOption=void 0)):o.set(e,t-1))},a.hasOption=function(e){return!!o.get(e)},a.$hasEmptyOption=function(){return a.hasEmptyOption},a.$isUnknownOptionSelected=function(){return t[0].options[0]===a.unknownOption[0]},a.$isEmptyOptionSelected=function(){return a.hasEmptyOption&&t[0].options[t[0].selectedIndex]===a.emptyOption[0]},a.selectUnknownOrEmptyOption=function(e){null==e&&a.emptyOption?(a.removeUnknownOption(),a.selectEmptyOption()):a.unknownOption.parent().length?a.updateUnknownOption(e):a.renderUnknownOption(e)};var s=!1,l=!1;a.registerOption=function(e,t,n,o,s){if(n.$attr.ngValue){var l,c=NaN;n.$observe("value",function(e){var n,i=t.prop("selected");w(c)&&(a.removeOption(l),delete a.selectValueMap[c],n=!0),c=it(e),l=e,a.selectValueMap[c]=e,a.addOption(e,t),t.attr("value",c),n&&i&&r()})}else o?n.$observe("value",function(e){a.readValue();var n,i=t.prop("selected");w(l)&&(a.removeOption(l),n=!0),l=e,a.addOption(e,t),n&&i&&r()}):s?e.$watch(s,function(e,i){n.$set("value",e);var o=t.prop("selected");i!==e&&a.removeOption(i),a.addOption(e,t),i&&o&&r()}):a.addOption(n.value,t);n.$observe("disabled",function(e){("true"===e||e&&t.prop("selected"))&&(a.multiple?r(!0):(a.ngModelCtrl.$setViewValue(null),a.ngModelCtrl.$render()))}),t.on("$destroy",function(){var e=a.readValue(),t=n.value;a.removeOption(t),i(),(a.multiple&&e&&-1!==e.indexOf(t)||e===t)&&r(!0)})}}],hs=function(){function e(e,t,n,i){var r=i[0],o=i[1];if(!o)return void(r.registerOption=g);if(r.ngModelCtrl=o,t.on("change",function(){r.removeUnknownOption(),e.$apply(function(){o.$setViewValue(r.readValue())})}),n.multiple){r.multiple=!0,r.readValue=function(){var e=[];return a(t.find("option"),function(t){if(t.selected&&!t.disabled){var n=t.value;e.push(n in r.selectValueMap?r.selectValueMap[n]:n)}}),e},r.writeValue=function(e){a(t.find("option"),function(t){var n=!!e&&(H(e,t.value)||H(e,r.selectValueMap[t.value]));n!==t.selected&&Gi(ar(t),n)})};var s,l=NaN;e.$watch(function(){l!==o.$viewValue||U(s,o.$viewValue)||(s=xe(o.$viewValue),o.$render()),l=o.$viewValue}),o.$isEmpty=function(e){return!e||0===e.length}}}function t(e,t,n,i){var r=i[1];if(r){var a=i[0];r.$render=function(){a.writeValue(r.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:ds,priority:1,link:{pre:e,post:t}}},ps=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var i,r;return w(n.ngValue)||(w(n.value)?i=e(n.value,!0):(r=e(t.text(),!0))||n.$set("value",t.text())),function(e,t,n){var a=t.parent(),o=a.data("$selectController")||a.parent().data("$selectController");o&&o.registerOption(e,t,n,i,r)}}}}],fs=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",function(){i.$validate()}))}}},gs=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var a,o=n.ngPattern||n.pattern;n.$observe("pattern",function(e){if(k(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw i("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",o,e,te(t));a=e||void 0,r.$validate()}),r.$validators.pattern=function(e,t){return r.$isEmpty(t)||y(a)||a.test(t)}}}}},ms=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=-1;n.$observe("maxlength",function(e){var t=p(e);r=mr(t)?-1:t,i.$validate()}),i.$validators.maxlength=function(e,t){return r<0||i.$isEmpty(t)||t.length<=r}}}}},vs=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=0;n.$observe("minlength",function(e){r=p(e)||0,i.$validate()}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=r}}}}};if(e.angular.bootstrap)return void(e.console&&console.log("WARNING: Tried to load AngularJS more than once."));!function(){var t;if(!Dr){var n=_r();or=y(n)?e.jQuery:n?e[n]:void 0,or&&or.fn.on?(ar=or,d(or.fn,{scope:qr.scope,isolateScope:qr.isolateScope,controller:qr.controller,injector:qr.injector,inheritedData:qr.inheritedData}),t=or.cleanData,or.cleanData=function(e){for(var n,i,r=0;null!=(i=e[r]);r++)(n=or._data(i,"events"))&&n.$destroy&&or(i).triggerHandler("$destroy");t(e)}):ar=Ie,fr.element=ar,Dr=!0}}(),function(n){d(n,{errorHandlingConfig:t,bootstrap:ce,copy:B,extend:d,merge:h,equals:U,element:ar,forEach:a,injector:ct,noop:g,bind:K,toJson:X,fromJson:J,identity:m,isUndefined:y,isDefined:w,isString:k,isFunction:D,isObject:x,isNumber:C,isElement:F,isArray:vr,version:Pr,isDate:S,lowercase:er,uppercase:tr,callbacks:{$$counter:0},getTestability:de,reloadWithDebugInfo:ue,$$minErr:i,$$csp:xr,$$encodeUriSegment:ae,$$encodeUriQuery:oe,$$stringify:ye}),sr=we(e),sr("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Pn}),e.provider("$compile",wt).directive({a:to,input:xo,textarea:xo,form:oo,script:cs,select:hs,option:ps,ngBind:Co,ngBindHtml:$o,ngBindTemplate:So,ngClass:To,ngClassEven:Mo,ngClassOdd:Eo,ngCloak:Ao,ngController:Oo,ngForm:so,ngHide:ns,ngIf:Ro,ngInclude:No,ngInit:Fo,ngNonBindable:Go,ngPluralize:Qo,ngRepeat:es,ngShow:ts,ngStyle:is,ngSwitch:rs,ngSwitchWhen:as,ngSwitchDefault:os,ngOptions:Zo,ngTransclude:ls,ngModel:qo,ngList:zo,ngChange:Do,pattern:gs,ngPattern:gs,required:fs,ngRequired:fs,minlength:vs,ngMinlength:vs,maxlength:ms,ngMaxlength:ms,ngValue:ko,ngModelOptions:Ko}).directive({ngInclude:Lo}).directive(no).directive(Po),e.provider({$anchorScroll:ut,$animate:ca,$animateCss:ha,$$animateJs:sa,$$animateQueue:la,$$AnimateRunner:da,$$animateAsyncRun:ua,$browser:mt,$cacheFactory:vt,$controller:$t,$document:Dt,$$isDocumentHidden:Tt,$exceptionHandler:Et,$filter:Kn,$$forceReflow:ya,$interpolate:Bt,$interval:Vt,$http:zt,$httpParamSerializer:At,$httpParamSerializerJQLike:Ot,$httpBackend:Ht,$xhrFactory:jt,$jsonpCallbacks:Da,$location:sn,$log:ln,$parse:Cn,$rootScope:On,$q:Sn,$$q:$n,$sce:Fn,$sceDelegate:Ln,$sniffer:zn,$templateCache:bt,$templateRequest:jn,$$testability:Hn,$timeout:Wn,$window:Un,$$rAF:An,$$jqLite:nt,$$Map:Zr,$$cookieReader:Yn})}]).info({angularVersion:"1.6.9"})}(fr),fr.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}function n(e,n){var i=n;void 0===i&&(i=Math.min(t(e),3));var r=Math.pow(10,i);return{v:i,f:(e*r|0)%r}}var i={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var r=0|e,a=n(e,t);return 1==r&&0==a.v?i.ONE:i.OTHER}})}]),ar(function(){le(e.document,ce)})}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),/**
 * @license AngularJS v1.6.9
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";function n(e,t,n){if(!e)throw le("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function i(e,t){return e||t?e?t?(q(e)&&(e=e.join(" ")),q(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function r(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function a(e,t,n){var i="";return e=q(e)?e:e&&J(e)&&e.length?e.split(/\s+/):[],U(e,function(e,r){e&&e.length>0&&(i+=r>0?" ":"",i+=n?t+e:e+t)}),i}function o(e,t){var n=e.indexOf(t);t>=0&&e.splice(n,1)}function s(e){if(e instanceof Q)switch(e.length){case 0:return e;case 1:if(e[0].nodeType===L)return e;break;default:return Q(l(e))}if(e.nodeType===L)return Q(e)}function l(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===L)return n}}function c(e,t,n){U(t,function(t){e.addClass(t,n)})}function u(e,t,n){U(t,function(t){e.removeClass(t,n)})}function d(e){return function(t,n){n.addClass&&(c(e,t,n.addClass),n.addClass=null),n.removeClass&&(u(e,t,n.removeClass),n.removeClass=null)}}function h(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||ee;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=ee},e.$$prepared=!0}return e}function p(e,t){f(e,t),g(e,t)}function f(e,t){t.from&&(e.css(t.from),t.from=null)}function g(e,t){t.to&&(e.css(t.to),t.to=null)}function m(e,t,n){var i=t.options||{},r=n.options||{},a=(i.addClass||"")+" "+(r.addClass||""),o=(i.removeClass||"")+" "+(r.removeClass||""),s=v(e.attr("class"),a,o);r.preparationClasses&&(i.preparationClasses=C(r.preparationClasses,i.preparationClasses),delete r.preparationClasses);var l=i.domOperation!==ee?i.domOperation:null;return V(i,r),l&&(i.domOperation=l),s.addClass?i.addClass=s.addClass:i.addClass=null,s.removeClass?i.removeClass=s.removeClass:i.removeClass=null,t.addClass=i.addClass,t.removeClass=i.removeClass,i}function v(e,t,n){function i(e){J(e)&&(e=e.split(" "));var t={};return U(e,function(e){e.length&&(t[e]=!0)}),t}var r={};e=i(e),t=i(t),U(t,function(e,t){r[t]=1}),n=i(n),U(n,function(e,t){r[t]=1===r[t]?null:-1});var a={addClass:"",removeClass:""};return U(r,function(t,n){var i,r;1===t?(i="addClass",r=!e[n]||e[n+z]):-1===t&&(i="removeClass",r=e[n]||e[n+F]),r&&(a[i].length&&(a[i]+=" "),a[i]+=n)}),a}function b(e){return e instanceof Q?e[0]:e}function y(e,t,n){var i="";t&&(i=a(t,j,!0)),n.addClass&&(i=C(i,a(n.addClass,F))),n.removeClass&&(i=C(i,a(n.removeClass,z))),i.length&&(n.preparationClasses=i,e.addClass(i))}function w(e,t){t.preparationClasses&&(e.removeClass(t.preparationClasses),t.preparationClasses=null),t.activeClasses&&(e.removeClass(t.activeClasses),t.activeClasses=null)}function x(e,t){var n=t?"-"+t+"s":"";return k(e,[oe,n]),[oe,n]}function _(e,t){var n=t?"paused":"",i=R+ie;return k(e,[i,n]),[i,n]}function k(e,t){var n=t[0],i=t[1];e.style[n]=i}function C(e,t){return e?t?e+" "+t:e:t}function S(e){return[ae,e+"s"]}function $(e,t){return[t?re:oe,e+"s"]}function D(e,t,n){var i=Object.create(null),r=e.getComputedStyle(t)||{};return U(n,function(e,t){var n=r[e];if(n){var a=n.charAt(0);("-"===a||"+"===a||a>=0)&&(n=T(n)),0===n&&(n=null),i[t]=n}}),i}function T(e){var t=0,n=e.split(/\s*,\s*/);return U(n,function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function E(e){return 0===e||null!=e}function M(e,t){var n=P,i=e+"s";return t?n+=te:i+=" linear all",[n,i]}function A(){var e=Object.create(null);return{flush:function(){e=Object.create(null)},count:function(t){var n=e[t];return n?n.total:0},get:function(t){var n=e[t];return n&&n.value},put:function(t,n){e[t]?e[t].total++:e[t]={total:1,value:n}}}}function O(e,t,n){U(n,function(n){e[n]=Y(e[n])?e[n]:t.style.getPropertyValue(n)})}var P,I,R,N,L=1,F="-add",z="-remove",j="ng-",H="ng-animate",W="$$ngAnimateChildren";void 0===e.ontransitionend&&void 0!==e.onwebkittransitionend?("-webkit-",P="WebkitTransition",I="webkitTransitionEnd transitionend"):(P="transition",I="transitionend"),void 0===e.onanimationend&&void 0!==e.onwebkitanimationend?("-webkit-",R="WebkitAnimation",N="webkitAnimationEnd animationend"):(R="animation",N="animationend");var B,V,U,q,Y,K,G,X,J,Z,Q,ee,te="Duration",ne="TimingFunction",ie="PlayState",re=R+"Delay",ae=R+te,oe=P+"Delay",se=P+te,le=t.$$minErr("ng"),ce=["$$rAF",function(e){function t(e){i=i.concat(e),n()}function n(){if(i.length){for(var t=i.shift(),a=0;a<t.length;a++)t[a]();r||e(function(){r||n()})}}var i,r;return i=t.queue=[],t.waitUntilQuiet=function(t){r&&r(),r=e(function(){r=null,t(),n()})},t}],ue=["$interpolate",function(e){return{link:function(t,n,i){function r(e){e="on"===e||"true"===e,n.data(W,e)}var a=i.ngAnimateChildren;J(a)&&0===a.length?n.data(W,!0):(r(e(a)(t)),i.$observe("ngAnimateChildren",r))}}}],de="$$animateCss",he=1e3,pe=3,fe=1.5,ge={transitionDuration:se,transitionDelay:oe,transitionProperty:P+"Property",animationDuration:ae,animationDelay:re,animationIterationCount:R+"IterationCount"},me={transitionDuration:se,transitionDelay:oe,animationDuration:ae,animationDelay:re},ve=["$animateProvider",function(e){var t=A(),n=A();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,i,s,l,c,u,m,v){function y(e,t){var n="$$ngAnimateParentKey",i=e.parentNode;return(i[n]||(i[n]=++H))+"-"+e.getAttribute("class")+"-"+t}function w(n,i,r,a){var o=t.get(r);return o||(o=D(e,n,a),"infinite"===o.animationIterationCount&&(o.animationIterationCount=1)),t.put(r,o),o}function C(r,o,s,l){var c;if(t.count(s)>0&&!(c=n.get(s))){var u=a(o,"-stagger");i.addClass(r,u),c=D(e,r,l),c.animationDuration=Math.max(c.animationDuration,0),c.transitionDuration=Math.max(c.transitionDuration,0),i.removeClass(r,u),n.put(s,c)}return c||{}}function T(e){W.push(e),m.waitUntilQuiet(function(){t.flush(),n.flush();for(var e=c(),i=0;i<W.length;i++)W[i](e);W.length=0})}function A(e,t,n){var i=w(e,t,n,ge),r=i.animationDelay,a=i.transitionDelay;return i.maxDelay=r&&a?Math.max(r,a):r||a,i.maxDuration=Math.max(i.animationDuration*i.animationIterationCount,i.transitionDuration),i}var L=d(i),H=0,W=[];return function(e,n){function c(){m()}function d(){m(!0)}function m(t){if(!(G||J&&X)){G=!0,X=!1,V.$$skipPreparationClasses||i.removeClass(e,we),i.removeClass(e,_e),_(K,!1),x(K,!1),U(se,function(e){K.style[e[0]]=""}),L(e,V),p(e,V),Object.keys(Y).length&&U(Y,function(e,t){e?K.style.setProperty(t,e):K.style.removeProperty(t)}),V.onDone&&V.onDone(),ue&&ue.length&&e.off(ue.join(" "),H);var n=e.data(de);n&&(l.cancel(n[0].timer),e.removeData(de)),Z&&Z.complete(!t)}}function w(e){Re.blockTransition&&x(K,e),Re.blockKeyframeAnimation&&_(K,!!e)}function D(){return Z=new s({end:c,cancel:d}),T(ee),m(),{$$willAnimate:!1,start:function(){return Z},end:c}}function H(e){e.stopPropagation();var t=e.originalEvent||e;if(t.target===K){var n=t.$manualTimeStamp||Date.now(),i=parseFloat(t.elapsedTime.toFixed(pe));Math.max(n-oe,0)>=ie&&i>=re&&(J=!0,m())}}function W(){function t(){if(!G){if(w(!1),U(se,function(e){var t=e[0],n=e[1];K.style[t]=n}),L(e,V),i.addClass(e,_e),Re.recalculateTimingStyles){if(xe=K.getAttribute("class")+" "+we,Ce=y(K,xe),Pe=A(K,xe,Ce),Ie=Pe.maxDelay,te=Math.max(Ie,0),0===(re=Pe.maxDuration))return void m();Re.hasTransitions=Pe.transitionDuration>0,Re.hasAnimations=Pe.animationDuration>0}if(Re.applyAnimationDelay&&(Ie="boolean"!=typeof V.delay&&E(V.delay)?parseFloat(V.delay):Ie,te=Math.max(Ie,0),Pe.animationDelay=Ie,Ne=$(Ie,!0),se.push(Ne),K.style[Ne[0]]=Ne[1]),ie=te*he,ae=re*he,V.easing){var t,r=V.easing;Re.hasTransitions&&(t=P+ne,se.push([t,r]),K.style[t]=r),Re.hasAnimations&&(t=R+ne,se.push([t,r]),K.style[t]=r)}Pe.transitionDuration&&ue.push(I),Pe.animationDuration&&ue.push(N),oe=Date.now();var a=ie+fe*ae,o=oe+a,s=e.data(de)||[],c=!0;if(s.length){var u=s[0];c=o>u.expectedEndTime,c?l.cancel(u.timer):s.push(m)}if(c){var d=l(n,a,!1);s[0]={timer:d,expectedEndTime:o},s.push(m),e.data(de,s)}ue.length&&e.on(ue.join(" "),H),V.to&&(V.cleanupStyles&&O(Y,K,Object.keys(V.to)),g(e,V))}}function n(){var t=e.data(de);if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData(de)}}if(!G){if(!K.parentNode)return void m();var r=function(e){if(J)X&&e&&(X=!1,m());else if(X=!e,Pe.animationDuration){var t=_(K,X);X?se.push(t):o(se,t)}},a=Ae>0&&(Pe.transitionDuration&&0===Se.transitionDuration||Pe.animationDuration&&0===Se.animationDuration)&&Math.max(Se.animationDelay,Se.transitionDelay);a?l(t,Math.floor(a*Ae*he),!1):t(),Q.resume=function(){r(!0)},Q.pause=function(){r(!1)}}}var V=n||{};V.$$prepared||(V=h(B(V)));var Y={},K=b(e);if(!K||!K.parentNode||!v.enabled())return D();var G,X,J,Z,Q,te,ie,re,ae,oe,se=[],le=e.attr("class"),ce=r(V),ue=[];if(0===V.duration||!u.animations&&!u.transitions)return D();var ge=V.event&&q(V.event)?V.event.join(" "):V.event,ve=ge&&V.structural,be="",ye="";ve?be=a(ge,j,!0):ge&&(be=ge),V.addClass&&(ye+=a(V.addClass,F)),V.removeClass&&(ye.length&&(ye+=" "),ye+=a(V.removeClass,z)),V.applyClassesEarly&&ye.length&&L(e,V);var we=[be,ye].join(" ").trim(),xe=le+" "+we,_e=a(we,"-active"),ke=ce.to&&Object.keys(ce.to).length>0;if(!((V.keyframeStyle||"").length>0||ke||we))return D();var Ce,Se;if(V.stagger>0){var $e=parseFloat(V.stagger);Se={transitionDelay:$e,animationDelay:$e,transitionDuration:0,animationDuration:0}}else Ce=y(K,xe),Se=C(K,we,Ce,me);V.$$skipPreparationClasses||i.addClass(e,we);var De;if(V.transitionStyle){var Te=[P,V.transitionStyle];k(K,Te),se.push(Te)}if(V.duration>=0){De=K.style[P].length>0;var Ee=M(V.duration,De);k(K,Ee),se.push(Ee)}if(V.keyframeStyle){var Me=[R,V.keyframeStyle];k(K,Me),se.push(Me)}var Ae=Se?V.staggerIndex>=0?V.staggerIndex:t.count(Ce):0,Oe=0===Ae;Oe&&!V.skipBlocking&&x(K,9999);var Pe=A(K,xe,Ce),Ie=Pe.maxDelay;te=Math.max(Ie,0),re=Pe.maxDuration;var Re={};if(Re.hasTransitions=Pe.transitionDuration>0,Re.hasAnimations=Pe.animationDuration>0,Re.hasTransitionAll=Re.hasTransitions&&"all"===Pe.transitionProperty,Re.applyTransitionDuration=ke&&(Re.hasTransitions&&!Re.hasTransitionAll||Re.hasAnimations&&!Re.hasTransitions),Re.applyAnimationDuration=V.duration&&Re.hasAnimations,Re.applyTransitionDelay=E(V.delay)&&(Re.applyTransitionDuration||Re.hasTransitions),Re.applyAnimationDelay=E(V.delay)&&Re.hasAnimations,Re.recalculateTimingStyles=ye.length>0,(Re.applyTransitionDuration||Re.applyAnimationDuration)&&(re=V.duration?parseFloat(V.duration):re,Re.applyTransitionDuration&&(Re.hasTransitions=!0,Pe.transitionDuration=re,De=K.style[P+"Property"].length>0,se.push(M(re,De))),Re.applyAnimationDuration&&(Re.hasAnimations=!0,Pe.animationDuration=re,se.push(S(re)))),0===re&&!Re.recalculateTimingStyles)return D();if(null!=V.delay){var Ne;"boolean"!=typeof V.delay&&(Ne=parseFloat(V.delay),te=Math.max(Ne,0)),Re.applyTransitionDelay&&se.push($(Ne)),Re.applyAnimationDelay&&se.push($(Ne,!0))}return null==V.duration&&Pe.transitionDuration>0&&(Re.recalculateTimingStyles=Re.recalculateTimingStyles||Oe),ie=te*he,ae=re*he,V.skipBlocking||(Re.blockTransition=Pe.transitionDuration>0,Re.blockKeyframeAnimation=Pe.animationDuration>0&&Se.animationDelay>0&&0===Se.animationDuration),V.from&&(V.cleanupStyles&&O(Y,K,Object.keys(V.from)),f(e,V)),Re.blockTransition||Re.blockKeyframeAnimation?w(re):V.skipBlocking||x(K,!1),{$$willAnimate:!0,end:c,start:function(){if(!G)return Q={end:c,cancel:d,resume:null,pause:null},Z=new s(Q),T(W),Z}}}}]}],be=["$$animationProvider",function(e){function t(e){return e.parentNode&&11===e.parentNode.nodeType}e.drivers.push("$$animateCssDriver");var n="ng-animate-shim",i="ng-anchor-out";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,r,a,o,s,l,c){function u(e){return e.replace(/\bng-\S+\b/g,"")}function d(e,t){return J(e)&&(e=e.split(" ")),J(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function h(t,r,o){function s(e){var t={},n=b(e).getBoundingClientRect();return U(["width","height","top","left"],function(e){var i=n[e];switch(e){case"top":i+=g.scrollTop;break;case"left":i+=g.scrollLeft}t[e]=Math.floor(i)+"px"}),t}function l(e){return e.attr("class")||""}function c(){var t=u(l(o)),n=d(t,f),r=d(f,t),a=e(p,{to:s(o),addClass:"ng-anchor-in "+n,removeClass:i+" "+r,delay:!0});return a.$$willAnimate?a:null}function h(){p.remove(),r.removeClass(n),o.removeClass(n)}var p=Q(b(r).cloneNode(!0)),f=u(l(p));r.addClass(n),o.addClass(n),p.addClass("ng-anchor"),v.append(p);var m,y=function(){var t=e(p,{addClass:i,delay:!0,from:s(r)});return t.$$willAnimate?t:null}();if(!y&&!(m=c()))return h();var w=y||m;return{start:function(){function e(){n&&n.end()}var t,n=w.start();return n.done(function(){if(n=null,!m&&(m=c()))return n=m.start(),n.done(function(){n=null,h(),t.complete()}),n;h(),t.complete()}),t=new a({end:e,cancel:e})}}}function p(e,t,n,i){var r=f(e),o=f(t),s=[];if(U(i,function(e){var t=e.out,i=e.in,r=h(n,t,i);r&&s.push(r)}),r||o||0!==s.length)return{start:function(){function e(){U(t,function(e){e.end()})}var t=[];r&&t.push(r.start()),o&&t.push(o.start()),U(s,function(e){t.push(e.start())});var n=new a({end:e,cancel:e});return a.all(t,function(e){n.complete(e)}),n}}}function f(t){var n=t.element,i=t.options||{};t.structural&&(i.event=t.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===t.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=C(i.event,i.preparationClasses));var r=e(n,i);return r.$$willAnimate?r:null}if(!s.animations&&!s.transitions)return ee;var g=c[0].body,m=b(o),v=Q(t(m)||g.contains(m)?m:g);return function(e){return e.from&&e.to?p(e.from,e.to,e.classes,e.anchors):f(e)}}]}],ye=["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,i){function r(n){n=q(n)?n:n.split(" ");for(var i=[],r={},a=0;a<n.length;a++){var o=n[a],s=e.$$registeredAnimations[o];s&&!r[o]&&(i.push(t.get(s)),r[o]=!0)}return i}var a=d(i);return function(e,t,i,o){function s(){o.domOperation(),a(e,o)}function l(){f=!0,s(),p(e,o)}function c(e,t,i,r,a){var o;switch(i){case"animate":o=[t,r.from,r.to,a];break;case"setClass":o=[t,v,b,a];break;case"addClass":o=[t,v,a];break;case"removeClass":o=[t,b,a];break;default:o=[t,a]}o.push(r);var s=e.apply(e,o);if(s)if(G(s.start)&&(s=s.start()),s instanceof n)s.done(a);else if(G(s))return s;return ee}function u(e,t,i,r,a){var o=[];return U(r,function(r){var s=r[a];s&&o.push(function(){var r,a,o=!1,l=function(e){o||(o=!0,(a||ee)(e),r.complete(!e))};return r=new n({end:function(){l()},cancel:function(){l(!0)}}),a=c(s,e,t,i,function(e){l(!1===e)}),r})}),o}function d(e,t,i,r,a){var o=u(e,t,i,r,a);if(0===o.length){var s,l;"beforeSetClass"===a?(s=u(e,"removeClass",i,r,"beforeRemoveClass"),l=u(e,"addClass",i,r,"beforeAddClass")):"setClass"===a&&(s=u(e,"removeClass",i,r,"removeClass"),l=u(e,"addClass",i,r,"addClass")),s&&(o=o.concat(s)),l&&(o=o.concat(l))}if(0!==o.length)return function(e){var t=[];return o.length&&U(o,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){U(t,function(t){e?t.cancel():t.end()})}}}var f=!1;3===arguments.length&&X(i)&&(o=i,i=null),o=h(o),i||(i=e.attr("class")||"",o.addClass&&(i+=" "+o.addClass),o.removeClass&&(i+=" "+o.removeClass));var g,m,v=o.addClass,b=o.removeClass,y=r(i);if(y.length){var w,x;"leave"===t?(x="leave",w="afterLeave"):(x="before"+t.charAt(0).toUpperCase()+t.substr(1),w=t),"enter"!==t&&"move"!==t&&(g=d(e,t,o,y,x)),m=d(e,t,o,y,w)}if(g||m){var _;return{$$willAnimate:!0,end:function(){return _?_.end():(l(),_=new n,_.complete(!0)),_},start:function(){function e(e){l(e),_.complete(e)}function t(t){f||((i||ee)(t),e(t))}if(_)return _;_=new n;var i,r=[];return g&&r.push(function(e){i=g(e)}),r.length?r.push(function(e){s(),e(!0)}):s(),m&&r.push(function(e){i=m(e)}),_.setHost({end:function(){t()},cancel:function(){t(!0)}}),n.chain(r,e),_}}}}}]}],we=["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){var n=t.element,i=t.event,r=t.options,a=t.classes;return e(n,i,a,r)}return function(e){if(e.from&&e.to){var i=n(e.from),r=n(e.to);if(!i&&!r)return;return{start:function(){function e(){return function(){U(a,function(e){e.end()})}}function n(e){o.complete(e)}var a=[];i&&a.push(i.start()),r&&a.push(r.start()),t.all(a,n);var o=new t({end:e(),cancel:e()});return o}}}return n(e)}}]}],xe="data-ng-animate",_e="$ngAnimatePin",ke=["$animateProvider",function(t){function i(e){if(!e)return null;var t=e.split(f),n=Object.create(null);return U(t,function(e){n[e]=!0}),n}function r(e,t){if(e&&t){var n=i(t);return e.split(f).some(function(e){return n[e]})}}function a(e,t,n){return g[e].some(function(e){return e(t,n)})}function o(e,t){var n=(e.addClass||"").length>0,i=(e.removeClass||"").length>0;return t?n&&i:n||i}var c=1,u=2,f=" ",g=this.rules={skip:[],cancel:[],join:[]};g.join.push(function(e,t){return!e.structural&&o(e)}),g.skip.push(function(e,t){return!e.structural&&!o(e)}),g.skip.push(function(e,t){return"leave"===t.event&&e.structural}),g.skip.push(function(e,t){return t.structural&&t.state===u&&!e.structural}),g.cancel.push(function(e,t){return t.structural&&e.structural}),g.cancel.push(function(e,t){return t.state===u&&e.structural}),g.cancel.push(function(e,t){if(t.structural)return!1;var n=e.addClass,i=e.removeClass,a=t.addClass,o=t.removeClass;return!(Z(n)&&Z(i)||Z(a)&&Z(o))&&(r(n,o)||r(i,a))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(i,r,f,g,v,x,_,k,C,S,$){function D(){var e=!1;return function(t){e?t():r.$$postDigest(function(){e=!0,t()})}}function T(e,t){return m(e,t,{})}function E(e,t,n){var i=[],r=G[n];return r&&U(r,function(r){oe.call(r.node,t)?i.push(r.callback):"leave"===n&&oe.call(r.node,e)&&i.push(r.callback)}),i}function M(e,t,n){var i=l(t);return e.filter(function(e){return!(e.node===i&&(!n||e.callback===n))})}function A(e,t){"close"!==e||t.parentNode||se.off(t)}function O(e,t,n){function l(e,t,n,r){S(function(){var e=E(k,v,t);e.length?i(function(){U(e,function(e){e(g,n,r)}),A(n,v)}):A(n,v)}),e.progress(t,n,r)}function d(e){w(g,f),ae(g,f),p(g,f),f.domOperation(),C.complete(!e)}var f=B(n),g=s(e),v=b(g),k=v&&v.parentNode;f=h(f);var C=new _,S=D();if(q(f.addClass)&&(f.addClass=f.addClass.join(" ")),f.addClass&&!J(f.addClass)&&(f.addClass=null),q(f.removeClass)&&(f.removeClass=f.removeClass.join(" ")),f.removeClass&&!J(f.removeClass)&&(f.removeClass=null),f.from&&!X(f.from)&&(f.from=null),f.to&&!X(f.to)&&(f.to=null),!(j&&v&&ie(v,t,n)&&re(v,f)))return d(),C;var M=["enter","move","leave"].indexOf(t)>=0,O=$(),L=O||z.get(v),H=!L&&F.get(v)||{},W=!!H.state;if(L||W&&H.state===c||(L=!R(v,k,t)),L)return O&&l(C,t,"start"),d(),O&&l(C,t,"close"),C;M&&P(v);var V={structural:M,element:g,event:t,addClass:f.addClass,removeClass:f.removeClass,close:d,options:f,runner:C};if(W){if(a("skip",V,H))return H.state===u?(d(),C):(m(g,H,V),H.runner);if(a("cancel",V,H))if(H.state===u)H.runner.end();else{if(!H.structural)return m(g,H,V),H.runner;H.close()}else{if(a("join",V,H)){if(H.state!==u)return y(g,M?t:null,f),t=V.event=H.event,f=m(g,H,V),H.runner;T(g,V)}}}else T(g,V);var Y=V.structural;if(Y||(Y="animate"===V.event&&Object.keys(V.options.to||{}).length>0||o(V)),!Y)return d(),I(v),C;var K=(H.counter||0)+1;return V.counter=K,N(v,c,V),r.$$postDigest(function(){g=s(e);var n=F.get(v),i=!n;n=n||{};var r=g.parent()||[],a=r.length>0&&("animate"===n.event||n.structural||o(n));if(i||n.counter!==K||!a)return i&&(ae(g,f),p(g,f)),(i||M&&n.event!==t)&&(f.domOperation(),C.end()),void(a||I(v));t=!n.structural&&o(n,!0)?"setClass":n.event,N(v,u);var c=x(g,t,n.options);C.setHost(c),l(C,t,"start",{}),c.done(function(e){d(!e);var n=F.get(v);n&&n.counter===K&&I(v),l(C,t,"close",{})})}),C}function P(e){var t=e.querySelectorAll("["+xe+"]");U(t,function(e){var t=parseInt(e.getAttribute(xe),10),n=F.get(e);if(n)switch(t){case u:n.runner.end();case c:F.delete(e)}})}function I(e){e.removeAttribute(xe),F.delete(e)}function R(e,t,n){var i,r=g[0].body,a=b(f),o=e===r||"HTML"===e.nodeName,s=e===a,l=!1,c=z.get(e),u=Q.data(e,_e);for(u&&(t=b(u));t&&(s||(s=t===a),t.nodeType===L);){var d=F.get(t)||{};if(!l){var h=z.get(t);if(!0===h&&!1!==c){c=!0;break}!1===h&&(c=!1),l=d.structural}if(Z(i)||!0===i){var p=Q.data(t,W);Y(p)&&(i=p)}if(l&&!1===i)break;if(o||(o=t===r),o&&s)break;t=s||!(u=Q.data(t,_e))?t.parentNode:b(u)}return(!l||i)&&!0!==c&&s&&o}function N(e,t,n){n=n||{},n.state=t,e.setAttribute(xe,t);var i=F.get(e),r=i?V(i,n):n;F.set(e,r)}var F=new v,z=new v,j=null,H=r.$watch(function(){return 0===k.totalPendingRequests},function(e){e&&(H(),r.$$postDigest(function(){r.$$postDigest(function(){null===j&&(j=!0)})}))}),G=Object.create(null),ee=t.customFilter(),te=t.classNameFilter(),ne=function(){return!0},ie=ee||ne,re=te?function(e,t){var n=[e.getAttribute("class"),t.addClass,t.removeClass].join(" ");return te.test(n)}:ne,ae=d(C),oe=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},se={on:function(e,t,n){var i=l(t);G[e]=G[e]||[],G[e].push({node:i,callback:n}),Q(t).on("$destroy",function(){F.get(i)||se.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||J(arguments[0])){var i=G[e];i&&(G[e]=1===arguments.length?null:M(i,t,n))}else{t=arguments[0];for(var r in G)G[r]=M(G[r],t)}},pin:function(e,t){n(K(e),"element","not an element"),n(K(t),"parentElement","not an element"),e.data(_e,t)},push:function(e,t,n,i){return n=n||{},n.domOperation=i,O(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!j;else{if(K(e)){var i=b(e);1===n?t=!z.get(i):z.set(i,!t)}else t=j=!!e}return t}};return se}]}],Ce=["$animateProvider",function(e){function t(e,t){e.data(s,t)}function n(e){e.removeData(s)}function r(e){return e.data(s)}var a="ng-animate-ref",o=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(e,s,l,c,u,f){function g(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,a=n.parentNode;r.set(n,e);for(var o;a;){if(o=r.get(a)){o.processed||(o=t(o));break}a=a.parentNode}return(o||i).children.push(e),e}var n,i={children:[]},r=new u;for(n=0;n<e.length;n++){var a=e[n];r.set(a.domNode,e[n]={domNode:a.domNode,fn:a.fn,children:[]})}for(n=0;n<e.length;n++)t(e[n]);return function(e){var t,n=[],i=[];for(t=0;t<e.children.length;t++)i.push(e.children[t]);var r=i.length,a=0,o=[];for(t=0;t<i.length;t++){var s=i[t];r<=0&&(r=a,a=0,n.push(o),o=[]),o.push(s.fn),s.children.forEach(function(e){a++,i.push(e)}),r--}return o.length&&n.push(o),n}(i)}var m=[],v=d(e);return function(u,d,y){function w(e){var t="["+a+"]",n=e.hasAttribute(a)?[e]:e.querySelectorAll(t),i=[];return U(n,function(e){var t=e.getAttribute(a);t&&t.length&&i.push(e)}),i}function x(e){var t=[],n={};U(e,function(e,i){var r=e.element,o=b(r),s=e.event,l=["enter","move"].indexOf(s)>=0,c=e.structural?w(o):[];if(c.length){var u=l?"to":"from";U(c,function(e){var t=e.getAttribute(a);n[t]=n[t]||{},n[t][u]={animationID:i,element:Q(e)}})}else t.push(e)});var i={},r={};return U(n,function(n,a){var o=n.from,s=n.to;if(!o||!s){var l=o?o.animationID:s.animationID,c=l.toString();return void(i[c]||(i[c]=!0,t.push(e[l])))}var u=e[o.animationID],d=e[s.animationID],h=o.animationID.toString();if(!r[h]){var p=r[h]={structural:!0,beforeStart:function(){u.beforeStart(),d.beforeStart()},close:function(){u.close(),d.close()},classes:_(u.classes,d.classes),from:u,to:d,anchors:[]};p.classes.length?t.push(p):(t.push(u),t.push(d))}r[h].anchors.push({out:o.element,in:s.element})}),t}function _(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],i=0;i<e.length;i++){var r=e[i];if("ng-"!==r.substring(0,3))for(var a=0;a<t.length;a++)if(r===t[a]){n.push(r);break}}return n.join(" ")}function k(e){for(var t=o.length-1;t>=0;t--){var n=o[t],i=l.get(n),r=i(e);if(r)return r}}function C(){u.addClass(H),A&&e.addClass(u,A),O&&(e.removeClass(u,O),O=null)}function S(e,t){function n(e){var n=r(e);n&&n.setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}function $(){var e=r(u);!e||"leave"===d&&y.$$domOperationFired||e.end()}function D(t){u.off("$destroy",$),n(u),v(u,y),p(u,y),y.domOperation(),A&&e.removeClass(u,A),u.removeClass(H),E.complete(!t)}y=h(y);var T=["enter","move","leave"].indexOf(d)>=0,E=new c({end:function(){D()},cancel:function(){D(!0)}});if(!o.length)return D(),E;t(u,E);var M=i(u.attr("class"),i(y.addClass,y.removeClass)),A=y.tempClasses;A&&(M+=" "+A,y.tempClasses=null);var O;return T&&(O="ng-"+d+"-prepare",e.addClass(u,O)),m.push({element:u,classes:M,event:d,structural:T,options:y,beforeStart:C,close:D}),u.on("$destroy",$),m.length>1?E:(s.$$postDigest(function(){var e=[];U(m,function(t){r(t.element)?e.push(t):t.close()}),m.length=0;var t=x(e),n=[];U(t,function(e){n.push({domNode:b(e.from?e.from.element:e.element),fn:function(){e.beforeStart();var t,n=e.close;if(r(e.anchors?e.from.element||e.to.element:e.element)){var i=k(e);i&&(t=i.start)}if(t){var a=t();a.done(function(e){n(!e)}),S(e,a)}else n()}})}),f(g(n))}),E)}}]}],Se=["$animate","$rootScope",function(e,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(t,n,i,r,a){var o,s;t.$watchCollection(i.ngAnimateSwap||i.for,function(i){o&&e.leave(o),s&&(s.$destroy(),s=null),(i||0===i)&&(s=t.$new(),a(s,function(t){o=t,e.enter(t,null,n)}))})}}}];t.module("ngAnimate",[],function(){ee=t.noop,B=t.copy,V=t.extend,Q=t.element,U=t.forEach,q=t.isArray,J=t.isString,X=t.isObject,Z=t.isUndefined,Y=t.isDefined,G=t.isFunction,K=t.isElement}).info({angularVersion:"1.6.9"}).directive("ngAnimateSwap",Se).directive("ngAnimateChildren",ue).factory("$$rAFScheduler",ce).provider("$$animateQueue",ke).provider("$$animation",Ce).provider("$animateCss",ve).provider("$$animateCssDriver",be).provider("$$animateJs",ye).provider("$$animateJsDriver",we)}(window,window.angular),/**
 * @license AngularJS v1.6.9
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";function n(){function e(e,t,i,r){return function(o,s,l){var c=l.$normalize(t);!n[c]||a(s,i)||l[c]||o.$watch(l[e],function(e){e=r?!e:!!e,s.attr(t,e)})}}var n={ariaHidden:!0,ariaChecked:!0,ariaReadonly:!0,ariaDisabled:!0,ariaRequired:!0,ariaInvalid:!0,ariaValue:!0,tabindex:!0,bindKeydown:!0,bindRoleForClick:!0};this.config=function(e){n=t.extend(n,e)},this.$get=function(){return{config:function(e){return n[e]},$$watchExpr:e}}}var i=t.module("ngAria",["ng"]).info({angularVersion:"1.6.9"}).provider("$aria",n),r=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],a=function(e,t){if(-1!==t.indexOf(e[0].nodeName))return!0};i.directive("ngShow",["$aria",function(e){return e.$$watchExpr("ngShow","aria-hidden",[],!0)}]).directive("ngHide",["$aria",function(e){return e.$$watchExpr("ngHide","aria-hidden",[],!1)}]).directive("ngValue",["$aria",function(e){return e.$$watchExpr("ngValue","aria-checked",r,!1)}]).directive("ngChecked",["$aria",function(e){return e.$$watchExpr("ngChecked","aria-checked",r,!1)}]).directive("ngReadonly",["$aria",function(e){return e.$$watchExpr("ngReadonly","aria-readonly",r,!1)}]).directive("ngRequired",["$aria",function(e){return e.$$watchExpr("ngRequired","aria-required",r,!1)}]).directive("ngModel",["$aria",function(e){function t(t,n,i,o){return e.config(n)&&!i.attr(t)&&(o||!a(i,r))}function n(e,t){return!t.attr("role")&&t.attr("type")===e&&!a(t,r)}function i(e,t){var n=e.type,i=e.role;return"checkbox"===(n||i)||"menuitemcheckbox"===i?"checkbox":"radio"===(n||i)||"menuitemradio"===i?"radio":"range"===n||"progressbar"===i||"slider"===i?"range":""}return{restrict:"A",require:"ngModel",priority:200,compile:function(r,a){var o=i(a,r);return{post:function(i,r,a,s){function l(){return s.$modelValue}function c(e){var t=a.value==s.$viewValue;r.attr("aria-checked",t)}function u(){r.attr("aria-checked",!s.$isEmpty(s.$viewValue))}var d=t("tabindex","tabindex",r,!1);switch(o){case"radio":case"checkbox":n(o,r)&&r.attr("role",o),t("aria-checked","ariaChecked",r,!1)&&i.$watch(l,"radio"===o?c:u),d&&r.attr("tabindex",0);break;case"range":if(n(o,r)&&r.attr("role","slider"),e.config("ariaValue")){var h=!r.attr("aria-valuemin")&&(a.hasOwnProperty("min")||a.hasOwnProperty("ngMin")),p=!r.attr("aria-valuemax")&&(a.hasOwnProperty("max")||a.hasOwnProperty("ngMax")),f=!r.attr("aria-valuenow");h&&a.$observe("min",function(e){r.attr("aria-valuemin",e)}),p&&a.$observe("max",function(e){r.attr("aria-valuemax",e)}),f&&i.$watch(l,function(e){r.attr("aria-valuenow",e)})}d&&r.attr("tabindex",0)}!a.hasOwnProperty("ngRequired")&&s.$validators.required&&t("aria-required","ariaRequired",r,!1)&&a.$observe("required",function(){r.attr("aria-required",!!a.required)}),t("aria-invalid","ariaInvalid",r,!0)&&i.$watch(function(){return s.$invalid},function(e){r.attr("aria-invalid",!!e)})}}}}}]).directive("ngDisabled",["$aria",function(e){return e.$$watchExpr("ngDisabled","aria-disabled",r,!1)}]).directive("ngMessages",function(){return{restrict:"A",require:"?ngMessages",link:function(e,t,n,i){t.attr("aria-live")||t.attr("aria-live","assertive")}}}).directive("ngClick",["$aria","$parse",function(e,t){return{restrict:"A",compile:function(n,i){var o=t(i.ngClick);return function(t,n,i){a(n,r)||(e.config("bindRoleForClick")&&!n.attr("role")&&n.attr("role","button"),e.config("tabindex")&&!n.attr("tabindex")&&n.attr("tabindex",0),!e.config("bindKeydown")||i.ngKeydown||i.ngKeypress||i.ngKeyup||n.on("keydown",function(e){function n(){o(t,{$event:e})}var i=e.which||e.keyCode;32!==i&&13!==i||t.$apply(n)}))}}}}]).directive("ngDblclick",["$aria",function(e){return function(t,n,i){!e.config("tabindex")||n.attr("tabindex")||a(n,r)||n.attr("tabindex",0)}}])}(window,window.angular),/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 2.3.2 - 2016-12-27
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(e,t,n,i){var r=i.has("$animateCss")?i.get("$animateCss"):null;return{link:function(i,a,o){function s(e){return m?{width:e.scrollWidth+"px"}:{height:e.scrollHeight+"px"}}function l(){a.hasClass("collapse")&&a.hasClass("in")||t.resolve(h(i)).then(function(){a.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),r?r(a,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:s(a[0])}).start().finally(c):e.addClass(a,"in",{css:{overflow:"hidden"},to:s(a[0])}).then(c)})}function c(){a.removeClass("collapsing").addClass("collapse").css(v),p(i)}function u(){if(!a.hasClass("collapse")&&!a.hasClass("in"))return d();t.resolve(f(i)).then(function(){a.css(s(a[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),r?r(a,{removeClass:"in",to:b}).start().finally(d):e.removeClass(a,"in",{to:b}).then(d)})}function d(){a.css(b),a.removeClass("collapsing").addClass("collapse"),g(i)}var h=n(o.expanding),p=n(o.expanded),f=n(o.collapsing),g=n(o.collapsed),m=!1,v={},b={};!function(){m=!!("horizontal"in o),m?(v={width:""},b={width:"0"}):(v={height:""},b={height:"0"}),i.$eval(o.uibCollapse)||a.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(v)}(),i.$watch(o.uibCollapse,function(e){e?u():l()})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(e,t,n){n.$observe("disabled",function(e){n.$set("tabindex",e?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){(angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers)&&angular.forEach(this.groups,function(e){e!==i&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,i){t.addClass("panel"),i.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass||"panel-default",e.$watch("isOpen",function(n){t.toggleClass(e.openClass,!!n),n&&i.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var r="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=r+"-tab",e.panelId=r+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,i,r){i.setHeading(r(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(e,t,n,i){e.$watch(function(){return i[n.uibAccordionTransclude]},function(e){if(e){var n=angular.element(t[0].querySelector("uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"));n.html(""),n.append(e)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(e,t,n,i,r){e.closeable=!!n.close,t.addClass("alert"),n.$set("role","alert"),e.closeable&&t.addClass("alert-dismissible");var a=angular.isDefined(n.dismissOnTimeout)?i(n.dismissOnTimeout)(e.$parent):null;a&&r(function(){e.close()},parseInt(a,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(e){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,i,r){var a=r[0],o=r[1],s=e(i.uibUncheckable);n.find("input").css({display:"none"}),o.$render=function(){n.toggleClass(a.activeClass,angular.equals(o.$modelValue,t.$eval(i.uibBtnRadio)))},n.on(a.toggleEvent,function(){if(!i.disabled){var e=n.hasClass(a.activeClass);e&&!angular.isDefined(i.uncheckable)||t.$apply(function(){o.$setViewValue(e?null:t.$eval(i.uibBtnRadio)),o.$render()})}}),i.uibUncheckable&&t.$watch(s,function(e){i.$set("uncheckable",e?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,i){function r(){return o(n.btnCheckboxTrue,!0)}function a(){return o(n.btnCheckboxFalse,!1)}function o(t,n){return angular.isDefined(t)?e.$eval(t):n}var s=i[0],l=i[1];t.find("input").css({display:"none"}),l.$render=function(){t.toggleClass(s.activeClass,angular.equals(l.$modelValue,r()))},t.on(s.toggleEvent,function(){n.disabled||e.$apply(function(){l.$setViewValue(t.hasClass(s.activeClass)?a():r()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(e,t,n,i,r){function a(){for(;y.length;)y.shift()}function o(e){for(var t=0;t<m.length;t++)m[t].slide.active=t===e}function s(n,i,l){if(!w){if(angular.extend(n,{direction:l}),angular.extend(m[b].slide||{},{direction:l}),r.enabled(t)&&!e.$currentTransition&&m[i].element&&g.slides.length>1){m[i].element.data(v,n.direction);var c=g.getCurrentIndex();angular.isNumber(c)&&m[c].element&&m[c].element.data(v,n.direction),e.$currentTransition=!0,r.on("addClass",m[i].element,function(t,n){if("close"===n&&(e.$currentTransition=null,r.off("addClass",t),y.length)){var i=y.pop().slide,o=i.index,l=o>g.getCurrentIndex()?"next":"prev";a(),s(i,o,l)}})}e.active=n.index,b=n.index,o(i),d()}}function l(e){for(var t=0;t<m.length;t++)if(m[t].slide===e)return t}function c(){p&&(n.cancel(p),p=null)}function u(t){t.length||(e.$currentTransition=null,a())}function d(){c();var t=+e.interval;!isNaN(t)&&t>0&&(p=n(h,t))}function h(){var t=+e.interval;f&&!isNaN(t)&&t>0&&m.length?e.next():e.pause()}var p,f,g=this,m=g.slides=e.slides=[],v="uib-slideDirection",b=e.active,y=[],w=!1;t.addClass("carousel"),g.addSlide=function(t,n){m.push({slide:t,element:n}),m.sort(function(e,t){return+e.slide.index-+t.slide.index}),(t.index===e.active||1===m.length&&!angular.isNumber(e.active))&&(e.$currentTransition&&(e.$currentTransition=null),b=t.index,e.active=t.index,o(b),g.select(m[l(t)]),1===m.length&&e.play())},g.getCurrentIndex=function(){for(var e=0;e<m.length;e++)if(m[e].slide.index===b)return e},g.next=e.next=function(){var t=(g.getCurrentIndex()+1)%m.length;return 0===t&&e.noWrap()?void e.pause():g.select(m[t],"next")},g.prev=e.prev=function(){var t=g.getCurrentIndex()-1<0?m.length-1:g.getCurrentIndex()-1;return e.noWrap()&&t===m.length-1?void e.pause():g.select(m[t],"prev")},g.removeSlide=function(t){var n=l(t),i=y.indexOf(m[n]);-1!==i&&y.splice(i,1),m.splice(n,1),m.length>0&&b===n?n>=m.length?(b=m.length-1,e.active=b,o(b),g.select(m[m.length-1])):(b=n,e.active=b,o(b),g.select(m[n])):b>n&&(b--,e.active=b),0===m.length&&(b=null,e.active=null,a())},g.select=e.select=function(t,n){var i=l(t.slide);void 0===n&&(n=i>g.getCurrentIndex()?"next":"prev"),t.slide.index===b||e.$currentTransition?t&&t.slide.index!==b&&e.$currentTransition&&y.push(m[i]):s(t.slide,i,n)},e.indexOfSlide=function(e){return+e.slide.index},e.isActive=function(t){return e.active===t.slide.index},e.isPrevDisabled=function(){return 0===e.active&&e.noWrap()},e.isNextDisabled=function(){return e.active===m.length-1&&e.noWrap()},e.pause=function(){e.noPause||(f=!1,c())},e.play=function(){f||(f=!0,d())},t.on("mouseenter",e.pause),t.on("mouseleave",e.play),e.$on("$destroy",function(){w=!0,c()}),e.$watch("noTransition",function(e){r.enabled(t,!e)}),e.$watch("interval",d),e.$watchCollection("slides",u),e.$watch("active",function(e){if(angular.isNumber(e)&&b!==e){for(var t=0;t<m.length;t++)if(m[t].slide.index===e){e=t;break}m[e]&&(o(e),g.select(m[e]),b=e)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(e){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(t,n,i,r){n.addClass("item"),r.addSlide(t,n),t.$on("$destroy",function(){r.removeSlide(t)}),t.$watch("active",function(t){e[t?"addClass":"removeClass"](n,"active")})}}}]).animation(".item",["$animateCss",function(e){function t(e,t,n){e.removeClass(t),n&&n()}return{beforeAddClass:function(n,i,r){if("active"===i){var a=!1,o=n.data("uib-slideDirection"),s="next"===o?"left":"right",l=t.bind(this,n,s+" "+o,r);return n.addClass(o),e(n,{addClass:s}).start().done(l),function(){a=!0}}r()},beforeRemoveClass:function(n,i,r){if("active"===i){var a=!1,o=n.data("uib-slideDirection"),s="next"===o?"left":"right",l=t.bind(this,n,s,r);return e(n,{addClass:s}).start().done(l),function(){a=!0}}r()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter",function(e,t,n,i){function r(e){var t=[],n=e.split(""),r=e.indexOf("'");if(r>-1){var a=!1;e=e.split("");for(var o=r;o<e.length;o++)a?("'"===e[o]&&(o+1<e.length&&"'"===e[o+1]?(e[o+1]="$",n[o+1]=""):(n[o]="",a=!1)),e[o]="$"):"'"===e[o]&&(e[o]="$",n[o]="",a=!0);e=e.join("")}return angular.forEach(m,function(i){var r=e.indexOf(i.key);if(r>-1){e=e.split(""),n[r]="("+i.regex+")",e[r]="$";for(var a=r+1,o=r+i.key.length;a<o;a++)n[a]="",e[a]="$";e=e.join(""),t.push({index:r,key:i.key,apply:i.apply,matcher:i.regex})}}),{regex:new RegExp("^"+n.join("")+"$"),map:i(t,"index")}}function a(e){for(var t,n,i=[],r=0;r<e.length;)if(angular.isNumber(n)){if("'"===e.charAt(r))(r+1>=e.length||"'"!==e.charAt(r+1))&&(i.push(o(e,n,r)),n=null);else if(r===e.length)for(;n<e.length;)t=s(e,n),i.push(t),n=t.endIdx;r++}else"'"!==e.charAt(r)?(t=s(e,r),i.push(t.parser),r=t.endIdx):(n=r,r++);return i}function o(e,t,n){return function(){return e.substr(t+1,n-t-1)}}function s(e,t){for(var n=e.substr(t),i=0;i<m.length;i++)if(new RegExp("^"+m[i].key).test(n)){var r=m[i];return{endIdx:t+r.key.length,parser:r.formatter}}return{endIdx:t+1,parser:function(){return n.charAt(0)}}}function l(e,t,n){return!(n<1)&&(1===t&&n>28?29===n&&(e%4==0&&e%100!=0||e%400==0):3!==t&&5!==t&&8!==t&&10!==t||n<31)}function c(e){return parseInt(e,10)}function u(e,t){return e&&t?f(e,t):e}function d(e,t){return e&&t?f(e,t,!0):e}function h(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function p(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function f(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset();return p(e,n*(h(t,i)-i))}var g,m,v=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){g=t.id,this.parsers={},this.formatters={},m=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){e=+e,this.year=e<69?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return/^[0-9]$/.test(e.getMonth())?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return/^[1-9]$/.test(e.getDate())?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),n=t[1],i=t[2],r=t[3];this.hours+=c(n+i),this.minutes+=c(n+r)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}],angular.version.major>=1&&angular.version.minor>4&&m.push({key:"LLLL",regex:t.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.STANDALONEMONTH.indexOf(e)},formatter:function(e){return n(e,"LLLL")}})},this.init(),this.filter=function(e,n){return angular.isDate(e)&&!isNaN(e)&&n?(n=t.DATETIME_FORMATS[n]||n,t.id!==g&&this.init(),this.formatters[n]||(this.formatters[n]=a(n)),this.formatters[n].reduce(function(t,n){return t+n(e)},"")):""},this.parse=function(n,i,a){if(!angular.isString(n)||!i)return n;i=t.DATETIME_FORMATS[i]||i,i=i.replace(v,"\\$&"),t.id!==g&&this.init(),this.parsers[i]||(this.parsers[i]=r(i));var o=this.parsers[i],s=o.regex,c=o.map,u=n.match(s),d=!1;if(u&&u.length){var h,p;angular.isDate(a)&&!isNaN(a.getTime())?h={year:a.getFullYear(),month:a.getMonth(),date:a.getDate(),hours:a.getHours(),minutes:a.getMinutes(),seconds:a.getSeconds(),milliseconds:a.getMilliseconds()}:(a&&e.warn("dateparser:","baseDate is not a valid date"),h={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var f=1,m=u.length;f<m;f++){var b=c[f-1];"Z"===b.matcher&&(d=!0),b.apply&&b.apply.call(h,u[f])}var y=d?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,w=d?Date.prototype.setUTCHours:Date.prototype.setHours;return l(h.year,h.month,h.date)&&(!angular.isDate(a)||isNaN(a.getTime())||d?(p=new Date(0),y.call(p,h.year,h.month,h.date),w.call(p,h.hours||0,h.minutes||0,h.seconds||0,h.milliseconds||0)):(p=new Date(a),y.call(p,h.year,h.month,h.date),w.call(p,h.hours,h.minutes,h.seconds,h.milliseconds))),p}},this.toTimezone=u,this.fromTimezone=d,this.timezoneToOffset=h,this.addDateMinutes=p,this.convertTimezoneToLocal=f}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(i,r){function a(e,t,n){l.push(e),c.push({scope:e,element:t}),f.forEach(function(t,n){o(t,e)}),e.$on("$destroy",s)}function o(t,i){var r=t.match(n),a=i.$eval(r[1]),o=r[2],s=u[t];if(!s){var l=function(t){var n=null;c.some(function(e){if(e.scope.$eval(h)===t)return n=e,!0}),s.lastActivated!==n&&(s.lastActivated&&e.removeClass(s.lastActivated.element,a),n&&e.addClass(n.element,a),s.lastActivated=n)};u[t]=s={lastActivated:null,scope:i,watchFn:l,compareWithExp:o,watcher:i.$watch(o,l)}}s.watchFn(i.$eval(o))}function s(e){var t=e.targetScope,n=l.indexOf(t);if(l.splice(n,1),c.splice(n,1),l.length){var i=l[0];angular.forEach(u,function(e){e.scope===t&&(e.watcher=i.$watch(e.compareWithExp,e.watchFn),e.scope=i)})}else u={}}var l=[],c=[],u={},d=r.uibIsClass.match(t),h=d[2],p=d[1],f=p.split(",");return a}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(e,t,n,i,r,a,o,s,l,c,u,d){function h(t){e.datepickerMode=t,e.datepickerOptions.datepickerMode=t}var p=this,f={$setViewValue:angular.noop},g={},m=[];t.addClass("uib-datepicker"),n.$set("role","application"),e.datepickerOptions||(e.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":e[t]=e.datepickerOptions[t]||angular.noop;break;case"datepickerMode":e.datepickerMode=angular.isDefined(e.datepickerOptions.datepickerMode)?e.datepickerOptions.datepickerMode:l.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":p[t]=angular.isDefined(e.datepickerOptions[t])?r(e.datepickerOptions[t])(e.$parent):l[t];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":p[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:l[t];break;case"startingDay":angular.isDefined(e.datepickerOptions.startingDay)?p.startingDay=e.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?p.startingDay=l.startingDay:p.startingDay=(a.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":e.$watch("datepickerOptions."+t,function(e){e?angular.isDate(e)?p[t]=d.fromTimezone(new Date(e),g.timezone):(c&&o.warn("Literal date support has been deprecated, please switch to date object usage"),p[t]=new Date(s(e,"medium"))):p[t]=l[t]?d.fromTimezone(new Date(l[t]),g.timezone):null,p.refreshView()});break;case"maxMode":case"minMode":e.datepickerOptions[t]?e.$watch(function(){return e.datepickerOptions[t]},function(n){p[t]=e[t]=angular.isDefined(n)?n:e.datepickerOptions[t],("minMode"===t&&p.modes.indexOf(e.datepickerOptions.datepickerMode)<p.modes.indexOf(p[t])||"maxMode"===t&&p.modes.indexOf(e.datepickerOptions.datepickerMode)>p.modes.indexOf(p[t]))&&(e.datepickerMode=p[t],e.datepickerOptions.datepickerMode=p[t])}):p[t]=e[t]=l[t]||null}}),e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),e.disabled=angular.isDefined(n.disabled)||!1,angular.isDefined(n.ngDisabled)&&m.push(e.$parent.$watch(n.ngDisabled,function(t){e.disabled=t,p.refreshView()})),e.isActive=function(t){return 0===p.compare(t.date,p.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(t){f=t,g=t.$options||e.datepickerOptions.ngModelOptions||l.ngModelOptions,e.datepickerOptions.initDate?(p.activeDate=d.fromTimezone(e.datepickerOptions.initDate,g.timezone)||new Date,e.$watch("datepickerOptions.initDate",function(e){e&&(f.$isEmpty(f.$modelValue)||f.$invalid)&&(p.activeDate=d.fromTimezone(e,g.timezone),p.refreshView())})):p.activeDate=new Date;var n=f.$modelValue?new Date(f.$modelValue):new Date;this.activeDate=isNaN(n)?d.fromTimezone(new Date,g.timezone):d.fromTimezone(n,g.timezone),f.$render=function(){p.render()}},this.render=function(){if(f.$viewValue){var e=new Date(f.$viewValue);!isNaN(e)?this.activeDate=d.fromTimezone(e,g.timezone):u||o.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=f.$viewValue?new Date(f.$viewValue):null;t=d.fromTimezone(t,g.timezone),f.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,n){var i=f.$viewValue?new Date(f.$viewValue):null;i=d.fromTimezone(i,g.timezone);var r=new Date;r=d.fromTimezone(r,g.timezone);var a=this.compare(t,r),o={date:t,label:d.filter(t,n),selected:i&&0===this.compare(t,i),disabled:this.isDisabled(t),past:a<0,current:0===a,future:a>0,customClass:this.customClass(t)||null};return i&&0===this.compare(t,i)&&(e.selectedDt=o),p.activeDate&&0===this.compare(o.date,p.activeDate)&&(e.activeDt=o),o},this.isDisabled=function(t){return e.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===p.minMode){var n=f.$viewValue?d.fromTimezone(new Date(f.$viewValue),g.timezone):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n=d.toTimezone(n,g.timezone),f.$setViewValue(n),f.$render()}else p.activeDate=t,h(p.modes[p.modes.indexOf(e.datepickerMode)-1]),e.$emit("uib:datepicker.mode");e.$broadcast("uib:datepicker.focus")},e.move=function(e){var t=p.activeDate.getFullYear()+e*(p.step.years||0),n=p.activeDate.getMonth()+e*(p.step.months||0);p.activeDate.setFullYear(t,n,1),p.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===p.maxMode&&1===t||e.datepickerMode===p.minMode&&-1===t||(h(p.modes[p.modes.indexOf(e.datepickerMode)+t]),e.$emit("uib:datepicker.mode"))},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var v=function(){p.element[0].focus()};e.$on("uib:datepicker.focus",v),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),p.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(p.isDisabled(p.activeDate))return;e.select(p.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(p.handleKeyDown(n,t),p.refreshView()):e.toggleMode("up"===n?1:-1)},t.on("keydown",function(t){e.$apply(function(){e.keydown(t)})}),e.$on("$destroy",function(){for(;m.length;)m.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){function i(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?a[t]:29}function r(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var a=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,i=new Array(t),r=new Date(e),a=0;a<t;)n=new Date(r),i[a++]=n,r.setDate(r.getDate()+1);return i},this._refreshView=function(){var t=this.activeDate.getFullYear(),i=this.activeDate.getMonth(),a=new Date(this.activeDate);a.setFullYear(t,i,1);var o=this.startingDay-a.getDay(),s=o>0?7-o:-o,l=new Date(a);s>0&&l.setDate(1-s);for(var c=this.getDates(l,42),u=0;u<42;u++)c[u]=angular.extend(this.createDateObject(c[u],this.formatDay),{secondary:c[u].getMonth()!==i,uid:e.uniqueId+"-"+u});e.labels=new Array(7);for(var d=0;d<7;d++)e.labels[d]={abbr:n(c[d].date,this.formatDayHeader),full:n(c[d].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(c,7),e.showWeeks){e.weekNumbers=[];for(var h=(11-this.startingDay)%7,p=e.rows.length,f=0;f<p;f++)e.weekNumbers.push(r(e.rows[f][h].date))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),n-i},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var r=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(r,1),n=Math.min(i(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=i(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,i=new Array(12),r=this.activeDate.getFullYear(),a=0;a<12;a++)t=new Date(this.activeDate),t.setFullYear(r,a,1),i[a]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+a});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(i,this.monthColumns),e.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),i=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),n-i},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=this.monthColumns;else if("right"===e)n+=1;else if("down"===e)n+=this.monthColumns;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(i)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){function i(e){return parseInt((e-1)/a,10)*a+1}var r,a;this.element=t,this.yearpickerInit=function(){r=this.yearColumns,a=this.yearRows*r,this.step={years:a}},this._refreshView=function(){for(var t,n=new Array(a),o=0,s=i(this.activeDate.getFullYear());o<a;o++)t=new Date(this.activeDate),t.setFullYear(s+o,0,1),n[o]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+o});e.title=[n[0].label,n[a-1].label].join(" - "),e.rows=this.split(n,r),e.columns=r},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=r:"right"===e?n+=1:"down"===e?n+=r:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*a:"home"===e?n=i(this.activeDate.getFullYear()):"end"===e&&(n=i(this.activeDate.getFullYear())+a-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,i){var r=i[0],a=i[1];r.init(a)}}}).directive("uibDaypicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(e,t,n,i){var r=i[0];i[1].init(r)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(e,t,n,i){var r=i[0];i[1].init(r)}}}).directive("uibYearpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(e,t,n,i){var r=i[0];angular.extend(r,i[1]),
r.yearpickerInit(),r.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,i,r={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},a={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},o=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){n=this.getRawNode(n);for(var i=n.offsetParent||e[0].documentElement;i&&i!==e[0].documentElement&&function(e){return"static"===(t.getComputedStyle(e).position||"static")}(i);)i=i.offsetParent;return i||e[0].documentElement},scrollbarWidth:function(r){if(r){if(angular.isUndefined(i)){var a=e.find("body");a.addClass("uib-position-body-scrollbar-measure"),i=t.innerWidth-a[0].clientWidth,i=isFinite(i)?i:0,a.removeClass("uib-position-body-scrollbar-measure")}return i}if(angular.isUndefined(n)){var o=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(o),n=o[0].offsetWidth-o[0].clientWidth,n=isFinite(n)?n:0,o.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),i=this.parseStyle(n.paddingRight),r=this.parseStyle(n.paddingBottom),a=this.scrollParent(e,!1,!0),s=this.scrollbarWidth(o.test(a.tagName));return{scrollbarWidth:s,widthOverflow:a.scrollWidth>a.clientWidth,right:i+s,originalRight:i,heightOverflow:a.scrollHeight>a.clientHeight,bottom:r+s,originalBottom:r}},isScrollable:function(e,n){e=this.getRawNode(e);var i=n?r.hidden:r.normal,a=t.getComputedStyle(e);return i.test(a.overflow+a.overflowY+a.overflowX)},scrollParent:function(n,i,a){n=this.getRawNode(n);var o=i?r.hidden:r.normal,s=e[0].documentElement,l=t.getComputedStyle(n);if(a&&o.test(l.overflow+l.overflowY+l.overflowX))return n;var c="absolute"===l.position,u=n.parentElement||s;if(u===s||"fixed"===l.position)return s;for(;u.parentElement&&u!==s;){var d=t.getComputedStyle(u);if(c&&"static"!==d.position&&(c=!1),!c&&o.test(d.overflow+d.overflowY+d.overflowX))break;u=u.parentElement}return u},position:function(n,i){n=this.getRawNode(n);var r=this.offset(n);if(i){var a=t.getComputedStyle(n);r.top-=this.parseStyle(a.marginTop),r.left-=this.parseStyle(a.marginLeft)}var o=this.offsetParent(n),s={top:0,left:0};return o!==e[0].documentElement&&(s=this.offset(o),s.top+=o.clientTop-o.scrollTop,s.left+=o.clientLeft-o.scrollLeft),{width:Math.round(angular.isNumber(r.width)?r.width:n.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:n.offsetHeight),top:Math.round(r.top-s.top),left:Math.round(r.left-s.left)}},offset:function(n){n=this.getRawNode(n);var i=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(i.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,i,r){n=this.getRawNode(n),r=!1!==r;var a=n.getBoundingClientRect(),o={top:0,left:0,bottom:0,right:0},s=i?e[0].documentElement:this.scrollParent(n),l=s.getBoundingClientRect();if(o.top=l.top+s.clientTop,o.left=l.left+s.clientLeft,s===e[0].documentElement&&(o.top+=t.pageYOffset,o.left+=t.pageXOffset),o.bottom=o.top+s.clientHeight,o.right=o.left+s.clientWidth,r){var c=t.getComputedStyle(s);o.top+=this.parseStyle(c.paddingTop),o.bottom-=this.parseStyle(c.paddingBottom),o.left+=this.parseStyle(c.paddingLeft),o.right-=this.parseStyle(c.paddingRight)}return{top:Math.round(a.top-o.top),bottom:Math.round(o.bottom-a.bottom),left:Math.round(a.left-o.left),right:Math.round(o.right-a.right)}},parsePlacement:function(e){var t=a.auto.test(e);return t&&(e=e.replace(a.auto,"")),e=e.split("-"),e[0]=e[0]||"top",a.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",a.secondary.test(e[1])||(e[1]="center"),e[2]=!!t,e},positionElements:function(e,n,i,r){e=this.getRawNode(e),n=this.getRawNode(n);var o=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),s=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");i=this.parsePlacement(i);var l=r?this.offset(e):this.position(e),c={top:0,left:0,placement:""};if(i[2]){var u=this.viewportOffset(e,r),d=t.getComputedStyle(n),h={width:o+Math.round(Math.abs(this.parseStyle(d.marginLeft)+this.parseStyle(d.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(d.marginTop)+this.parseStyle(d.marginBottom)))};if(i[0]="top"===i[0]&&h.height>u.top&&h.height<=u.bottom?"bottom":"bottom"===i[0]&&h.height>u.bottom&&h.height<=u.top?"top":"left"===i[0]&&h.width>u.left&&h.width<=u.right?"right":"right"===i[0]&&h.width>u.right&&h.width<=u.left?"left":i[0],i[1]="top"===i[1]&&h.height-l.height>u.bottom&&h.height-l.height<=u.top?"bottom":"bottom"===i[1]&&h.height-l.height>u.top&&h.height-l.height<=u.bottom?"top":"left"===i[1]&&h.width-l.width>u.right&&h.width-l.width<=u.left?"right":"right"===i[1]&&h.width-l.width>u.left&&h.width-l.width<=u.right?"left":i[1],"center"===i[1])if(a.vertical.test(i[0])){var p=l.width/2-o/2;u.left+p<0&&h.width-l.width<=u.right?i[1]="left":u.right+p<0&&h.width-l.width<=u.left&&(i[1]="right")}else{var f=l.height/2-h.height/2;u.top+f<0&&h.height-l.height<=u.bottom?i[1]="top":u.bottom+f<0&&h.height-l.height<=u.top&&(i[1]="bottom")}}switch(i[0]){case"top":c.top=l.top-s;break;case"bottom":c.top=l.top+l.height;break;case"left":c.left=l.left-o;break;case"right":c.left=l.left+l.width}switch(i[1]){case"top":c.top=l.top;break;case"bottom":c.top=l.top+l.height-s;break;case"left":c.left=l.left;break;case"right":c.left=l.left+l.width-o;break;case"center":a.vertical.test(i[0])?c.left=l.left+l.width/2-o/2:c.top=l.top+l.height/2-s/2}return c.top=Math.round(c.top),c.left=Math.round(c.left),c.placement="center"===i[1]?i[0]:i[0]+"-"+i[1],c},adjustTop:function(e,t,n,i){if(-1!==e.indexOf("top")&&n!==i)return{top:t.top-i+"px"}},positionArrow:function(e,n){e=this.getRawNode(e);var i=e.querySelector(".tooltip-inner, .popover-inner");if(i){var r=angular.element(i).hasClass("tooltip-inner"),o=r?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(o){var s={top:"",bottom:"",left:"",right:""};if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(o).css(s);var l="border-"+n[0]+"-width",c=t.getComputedStyle(o)[l],u="border-";a.vertical.test(n[0])?u+=n[0]+"-"+n[1]:u+=n[1]+"-"+n[0],u+="-radius";var d=t.getComputedStyle(r?i:e)[u];switch(n[0]){case"top":s.bottom=r?"0":"-"+c;break;case"bottom":s.top=r?"0":"-"+c;break;case"left":s.right=r?"0":"-"+c;break;case"right":s.left=r?"0":"-"+c}s[n[1]]=d,angular.element(o).css(s)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(e,t,n,i,r,a,o,s,l,c,u,d,h,p,f,g){function m(t){var n=d.parse(t,_,e.date);if(isNaN(n))for(var i=0;i<I.length;i++)if(n=d.parse(t,I[i],e.date),!isNaN(n))return n;return n}function v(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=m(e);if(!isNaN(t))return d.toTimezone(t,O.timezone)}return A.$options&&A.$options.allowInvalid?e:void 0}function b(e,t){var i=e||t;return!n.ngRequired&&!i||(angular.isNumber(i)&&(i=new Date(i)),!i||(!(!angular.isDate(i)||isNaN(i))||!!angular.isString(i)&&!isNaN(m(i))))}function y(n){if(e.isOpen||!e.disabled){var i=P[0],r=t[0].contains(n.target),a=void 0!==i.contains&&i.contains(n.target);!e.isOpen||r||a||e.$apply(function(){e.isOpen=!1})}}function w(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}function x(){if(e.isOpen){var i=angular.element(P[0].querySelector(".uib-datepicker-popup")),r=n.popupPlacement?n.popupPlacement:h.placement,a=c.positionElements(t,i,r,C);i.css({top:a.top+"px",left:a.left+"px"}),i.hasClass("uib-position-measure")&&i.removeClass("uib-position-measure")}}var _,k,C,S,$,D,T,E,M,A,O,P,I,R=!1,N=[];this.init=function(r){if(A=r,O=angular.isObject(r.$options)?r.$options:{timezone:null},k=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):h.closeOnDateSelection,C=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):h.appendToBody,S=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):h.onOpenFocus,$=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:h.datepickerPopupTemplateUrl,D=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:h.datepickerTemplateUrl,I=angular.isDefined(n.altInputFormats)?e.$parent.$eval(n.altInputFormats):h.altInputFormats,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):h.showButtonBar,h.html5Types[n.type]?(_=h.html5Types[n.type],R=!0):(_=n.uibDatepickerPopup||h.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){var n=e||h.datepickerPopup;if(n!==_&&(_=n,A.$modelValue=null,!_))throw new Error("uibDatepickerPopup must have a date format specified.")})),!_)throw new Error("uibDatepickerPopup must have a date format specified.");if(R&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");T=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),T.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":$}),E=angular.element(T.children()[0]),E.attr("template-url",D),e.datepickerOptions||(e.datepickerOptions={}),R&&"month"===n.type&&(e.datepickerOptions.datepickerMode="month",e.datepickerOptions.minMode="month"),E.attr("datepicker-options","datepickerOptions"),R?A.$formatters.push(function(t){return e.date=d.fromTimezone(t,O.timezone),t}):(A.$$parserName="date",A.$validators.date=b,A.$parsers.unshift(v),A.$formatters.push(function(t){return A.$isEmpty(t)?(e.date=t,t):(angular.isNumber(t)&&(t=new Date(t)),e.date=d.fromTimezone(t,O.timezone),d.filter(e.date,_))})),A.$viewChangeListeners.push(function(){e.date=m(A.$viewValue)}),t.on("keydown",w),P=i(T)(e),T.remove(),C?s.find("body").append(P):t.after(P),e.$on("$destroy",function(){for(!0===e.isOpen&&(l.$$phase||e.$apply(function(){e.isOpen=!1})),P.remove(),t.off("keydown",w),s.off("click",y),M&&M.off("scroll",x),angular.element(o).off("resize",x);N.length;)N.shift()()})},e.getText=function(t){return e[t+"Text"]||h[t+"Text"]},e.isDisabled=function(t){"today"===t&&(t=d.fromTimezone(new Date,O.timezone));var n={};return angular.forEach(["minDate","maxDate"],function(t){e.datepickerOptions[t]?angular.isDate(e.datepickerOptions[t])?n[t]=new Date(e.datepickerOptions[t]):(g&&r.warn("Literal date support has been deprecated, please switch to date object usage"),n[t]=new Date(u(e.datepickerOptions[t],"medium"))):n[t]=null}),e.datepickerOptions&&n.minDate&&e.compare(t,n.minDate)<0||n.maxDate&&e.compare(t,n.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){e.date=n;var i=e.date?d.filter(e.date,_):null;t.val(i),A.$setViewValue(i),k&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(n.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t,n){if(n.stopPropagation(),"today"===t){var i=new Date;angular.isDate(e.date)?(t=new Date(e.date),t.setFullYear(i.getFullYear(),i.getMonth(),i.getDate())):(t=d.fromTimezone(i,O.timezone),t.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(n){n.stopPropagation(),e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&N.push(e.$parent.$watch(a(n.ngDisabled),function(t){e.disabled=t})),e.$watch("isOpen",function(i){i?e.disabled?e.isOpen=!1:p(function(){x(),S&&e.$broadcast("uib:datepicker.focus"),s.on("click",y);var i=n.popupPlacement?n.popupPlacement:h.placement;C||c.parsePlacement(i)[2]?(M=M||angular.element(c.scrollParent(t)))&&M.on("scroll",x):M=null,angular.element(o).on("resize",x)},0,!1):(s.off("click",y),M&&M.off("scroll",x),angular.element(o).off("resize",x))}),e.$on("uib:datepicker.mode",function(){p(x,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,n,i){var r=i[0];i[1].init(r)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(e){return function(t,n){var i;return function(){var r=this,a=Array.prototype.slice.call(arguments);i&&e.cancel(i),i=e(function(){t.apply(r,a)},n)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var i=e[t];if(i){var r=i.indexOf(n);-1!==r&&i.splice(r,1),i.length||delete e[t]}}}}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(e,t,n){var i=null,r=n.createNew();this.isOnlyOpen=function(e,t){var n=r.get(t);if(n){if(n.reduce(function(t,n){return n.scope===e?n:t},{}))return 1===n.length}return!1},this.open=function(t,n,o){if(i||e.on("click",a),i&&i!==t&&(i.isOpen=!1),i=t,o){var s=r.get(o);if(s){-1===s.map(function(e){return e.scope}).indexOf(t)&&r.put(o,{scope:t})}else r.put(o,{scope:t})}},this.close=function(t,n,o){if(i===t&&(e.off("click",a),e.off("keydown",this.keybindFilter),i=null),o){var s=r.get(o);if(s){var l=s.reduce(function(e,n){return n.scope===t?n:e},{});l&&r.remove(o,l)}}};var a=function(e){if(i&&!(e&&"disabled"===i.getAutoClose()||e&&3===e.which)){var n=i.getToggleElement();if(!(e&&n&&n[0].contains(e.target))){var r=i.getDropdownElement();e&&"outsideClick"===i.getAutoClose()&&r&&r[0].contains(e.target)||(i.focusToggleElement(),i.isOpen=!1,t.$$phase||i.$apply())}}};this.keybindFilter=function(e){if(i){var t=i.getDropdownElement(),n=i.getToggleElement(),r=t&&t[0].contains(e.target),o=n&&n[0].contains(e.target);27===e.which?(e.stopPropagation(),i.focusToggleElement(),a()):i.isKeynavEnabled()&&-1!==[38,40].indexOf(e.which)&&i.isOpen&&(r||o)&&(e.preventDefault(),e.stopPropagation(),i.focusDropdownEntry(e.which))}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,i,r,a,o,s,l,c,u){var d,h,p=this,f=e.$new(),g=r.appendToOpenClass,m=r.openClass,v=angular.noop,b=n.onToggle?i(n.onToggle):angular.noop,y=!1,w=null,x=!1,_=l.find("body");t.addClass("dropdown"),this.init=function(){if(n.isOpen&&(h=i(n.isOpen),v=h.assign,e.$watch(h,function(e){f.isOpen=!!e})),angular.isDefined(n.dropdownAppendTo)){var r=i(n.dropdownAppendTo)(f);r&&(w=angular.element(r))}y=angular.isDefined(n.dropdownAppendToBody),x=angular.isDefined(n.keyboardNav),y&&!w&&(w=_),w&&p.dropdownMenu&&(w.append(p.dropdownMenu),t.on("$destroy",function(){p.dropdownMenu.remove()}))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen,angular.isFunction(v)&&v(f,f.isOpen),f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return p.toggleElement},f.getAutoClose=function(){return n.autoClose||"always"},f.getElement=function(){return t},f.isKeynavEnabled=function(){return x},f.focusDropdownEntry=function(e){var n=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):t.find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(p.selectedOption)?p.selectedOption=p.selectedOption===n.length-1?p.selectedOption:p.selectedOption+1:p.selectedOption=0;break;case 38:angular.isNumber(p.selectedOption)?p.selectedOption=0===p.selectedOption?0:p.selectedOption-1:p.selectedOption=n.length-1}n[p.selectedOption].focus()},f.getDropdownElement=function(){return p.dropdownMenu},f.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},f.$watch("isOpen",function(n,i){if(w&&p.dropdownMenu){var r,h,x,_=s.positionElements(t,p.dropdownMenu,"bottom-left",!0),k=0;if(r={top:_.top+"px",display:n?"block":"none"},h=p.dropdownMenu.hasClass("dropdown-menu-right"),h?(r.left="auto",x=s.scrollbarPadding(w),x.heightOverflow&&x.scrollbarWidth&&(k=x.scrollbarWidth),r.right=window.innerWidth-k-(_.left+t.prop("offsetWidth"))+"px"):(r.left=_.left+"px",r.right="auto"),!y){var C=s.offset(w);r.top=_.top-C.top+"px",h?r.right=window.innerWidth-(_.left-C.left+t.prop("offsetWidth"))+"px":r.left=_.left-C.left+"px"}p.dropdownMenu.css(r)}var S=w||t,$=w?g:m,D=S.hasClass($),T=a.isOnlyOpen(e,w);if(D===!n){var E;E=w?T?"removeClass":"addClass":n?"addClass":"removeClass",o[E](S,$).then(function(){angular.isDefined(n)&&n!==i&&b(e,{open:!!n})})}if(n)p.dropdownMenuTemplateUrl?u(p.dropdownMenuTemplateUrl).then(function(e){d=f.$new(),c(e.trim())(d,function(e){var t=e;p.dropdownMenu.replaceWith(t),p.dropdownMenu=t,l.on("keydown",a.keybindFilter)})}):l.on("keydown",a.keybindFilter),f.focusToggleElement(),a.open(f,t,w);else{if(a.close(f,t,w),p.dropdownMenuTemplateUrl){d&&d.$destroy();var M=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith(M),p.dropdownMenu=M}p.selectedOption=null}angular.isFunction(v)&&v(e,n)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,i){if(i&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var r=n.templateUrl;r&&(i.dropdownMenuTemplateUrl=r),i.dropdownMenu||(i.dropdownMenu=t)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,n,i){if(i){t.addClass("dropdown-toggle"),i.toggleElement=t;var r=function(r){r.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){i.toggle()})};t.on("click",r),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.off("click",r)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t===e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.pop()},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var i=e.resolver?t.get(e.resolver):null;return{resolve:function(e,r,a,o){if(i)return i.resolve(e,r,a,o);var s=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?s.push(n.resolve(t.invoke(e))):angular.isString(e)?s.push(n.resolve(t.get(e))):s.push(n.resolve(e))}),n.all(s).then(function(t){var n={},i=0;return angular.forEach(e,function(e,r){n[r]=t[i++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){function i(t,i,r){r.modalInClass&&(e.addClass(i,r.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(n,a){var o=a();t.modalOptions.animation?e.removeClass(i,r.modalInClass).then(o):o()}))}return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),i}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,n,i){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(r,a,o){a.addClass(o.windowTopClass||""),r.size=o.size,r.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},a.on("click",r.close),r.$isRendered=!0;var s=t.defer();r.$$postDigest(function(){s.resolve()}),s.promise.then(function(){var s=null;o.modalInClass&&(s=n(a,{addClass:o.modalInClass}).start(),r.$on(e.NOW_CLOSING_EVENT,function(e,t){var i=t();n(a,{removeClass:o.modalInClass}).start().then(i)})),t.when(s).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!i[0].activeElement||!a[0].contains(i[0].activeElement)){var n=a[0].querySelector("[autofocus]");n?n.focus():a[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(e){return{link:function(t,n,i,r,a){a(t.$parent,function(t){n.empty(),e.enter(t,n)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,n,i,r,a,o,s,l){function c(e){return e.replace(E,function(e,t){return(t?"-":"")+e.toLowerCase()})}function u(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function d(){for(var e=-1,t=k.keys(),n=0;n<t.length;n++)k.get(t[n]).value.backdrop&&(e=n);return e>-1&&e<$&&(e=$),e}function h(e,t){var n=k.get(e).value,i=n.appendTo;k.remove(e),D=k.top(),D&&($=parseInt(D.value.modalDomEl.attr("index"),10)),g(n.modalDomEl,n.modalScope,function(){var t=n.openedClass||_;C.remove(t,e);var r=C.hasKey(t);i.toggleClass(t,r),!r&&x&&x.heightOverflow&&x.scrollbarWidth&&(x.originalRight?i.css({paddingRight:x.originalRight+"px"}):i.css({paddingRight:""}),x=null),p(!0)},n.closedDeferred),f(),t&&t.focus?t.focus():i.focus&&i.focus()}function p(e){var t;k.length()>0&&(t=k.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function f(){if(y&&-1===d()){var e=w;g(y,w,function(){e=null}),y=void 0,w=void 0}}function g(t,n,i,r){function o(){o.done||(o.done=!0,e.leave(t).then(function(){i&&i(),t.remove(),r&&r.resolve()}),n.$destroy())}var s,l=null,c=function(){return s||(s=a.defer(),l=s.promise),function(){s.resolve()}};return n.$broadcast(S.NOW_CLOSING_EVENT,c),a.when(l).then(o)}function m(e){if(e.isDefaultPrevented())return e;var t=k.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),r.$apply(function(){S.dismiss(t.key,"escape key press")}));break;case 9:var n=S.loadFocusElementList(t),i=!1;e.shiftKey?(S.isFocusInFirstItem(e,n)||S.isModalFocused(e,t))&&(i=S.focusLastFocusableElement(n)):S.isFocusInLastItem(e,n)&&(i=S.focusFirstFocusableElement(n)),i&&(e.preventDefault(),e.stopPropagation())}}function v(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}function b(){Array.prototype.forEach.call(document.querySelectorAll("["+T+"]"),function(e){var t=parseInt(e.getAttribute(T),10),n=t-1;e.setAttribute(T,n),n||(e.removeAttribute(T),e.removeAttribute("aria-hidden"))})}var y,w,x,_="modal-open",k=s.createNew(),C=o.createNew(),S={NOW_CLOSING_EVENT:"modal.stack.now-closing"},$=0,D=null,T="data-bootstrap-modal-aria-hidden-count",E=/[A-Z]/g;return r.$watch(d,function(e){w&&(w.index=e)}),n.on("keydown",m),r.$on("$destroy",function(){n.off("keydown",m)}),S.open=function(t,a){function o(e){if(e&&"BODY"!==e[0].tagName)return function(e){var t=e.parent()?e.parent().children():[];return Array.prototype.filter.call(t,function(t){return t!==e[0]})}(e).forEach(function(e){var t="true"===e.getAttribute("aria-hidden"),n=parseInt(e.getAttribute(T),10);n||(n=t?1:0),e.setAttribute(T,n+1),e.setAttribute("aria-hidden","true")}),o(e.parent())}var s=n[0].activeElement,u=a.openedClass||_;p(!1),D=k.top(),k.add(t,{deferred:a.deferred,renderDeferred:a.renderDeferred,closedDeferred:a.closedDeferred,modalScope:a.scope,backdrop:a.backdrop,keyboard:a.keyboard,openedClass:a.openedClass,windowTopClass:a.windowTopClass,animation:a.animation,appendTo:a.appendTo}),C.put(u,t);var h=a.appendTo,f=d();if(!h.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");f>=0&&!y&&(w=r.$new(!0),w.modalOptions=a,w.index=f,y=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),y.attr({class:"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),a.backdropClass&&y.addClass(a.backdropClass),a.animation&&y.attr("modal-animation","true"),i(y)(w),e.enter(y,h),l.isScrollable(h)&&(x=l.scrollbarPadding(h),x.heightOverflow&&x.scrollbarWidth&&h.css({paddingRight:x.right+"px"})));var g;a.component?(g=document.createElement(c(a.component.name)),g=angular.element(g),g.attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):g=a.content,$=D?parseInt(D.value.modalDomEl.attr("index"),10)+1:0;var m=angular.element('<div uib-modal-window="modal-window"></div>');m.attr({class:"modal","template-url":a.windowTemplateUrl,"window-top-class":a.windowTopClass,role:"dialog","aria-labelledby":a.ariaLabelledBy,"aria-describedby":a.ariaDescribedBy,size:a.size,index:$,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(g),a.windowClass&&m.addClass(a.windowClass),a.animation&&m.attr("modal-animation","true"),h.addClass(u),a.scope&&(a.scope.$$topModalIndex=$),e.enter(i(m)(a.scope),h),k.top().value.modalDomEl=m,k.top().value.modalOpener=s,o(m)},S.close=function(e,t){var n=k.get(e);return b(),n&&v(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),h(e,n.value.modalOpener),!0):!n},S.dismiss=function(e,t){var n=k.get(e);return b(),n&&v(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),h(e,n.value.modalOpener),!0):!n},S.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},S.getTop=function(){return k.top()},S.modalRendered=function(e){var t=k.get(e);t&&t.value.renderDeferred.resolve()},S.focusFirstFocusableElement=function(e){return e.length>0&&(e[0].focus(),!0)},S.focusLastFocusableElement=function(e){return e.length>0&&(e[e.length-1].focus(),!0)},S.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},S.isFocusInFirstItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[0]},S.isFocusInLastItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[t.length-1]},S.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");return n?Array.prototype.filter.call(n,function(e){return u(e)}):n}}},S}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,i,r,a,o,s){function l(e){return e.template?n.when(e.template):r(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}var c={},u=null;return c.getPromiseChain=function(){return u},c.open=function(r){function c(){return m}var d=n.defer(),h=n.defer(),p=n.defer(),f=n.defer(),g={result:d.promise,opened:h.promise,closed:p.promise,rendered:f.promise,close:function(e){return s.close(g,e)},dismiss:function(e){return s.dismiss(g,e)}};if(r=angular.extend({},e.options,r),r.resolve=r.resolve||{},r.appendTo=r.appendTo||i.find("body").eq(0),!r.component&&!r.template&&!r.templateUrl)throw new Error("One of component or template or templateUrl options is required.");var m;m=r.component?n.when(o.resolve(r.resolve,{},null,null)):n.all([l(r),o.resolve(r.resolve,{},null,null)]);var v;return v=u=n.all([u]).then(c,c).then(function(e){function n(t,n,i,r){t.$scope=o,t.$scope.$resolve={},i?t.$scope.$uibModalInstance=g:t.$uibModalInstance=g;var a=n?e[1]:e;angular.forEach(a,function(e,n){r&&(t[n]=e),t.$scope.$resolve[n]=e})}var i=r.scope||t,o=i.$new();o.$close=g.close,o.$dismiss=g.dismiss,o.$on("$destroy",function(){o.$$uibDestructionScheduled||o.$dismiss("$uibUnscheduledDestruction")});var l,c,u={scope:o,deferred:d,renderDeferred:f,closedDeferred:p,animation:r.animation,backdrop:r.backdrop,keyboard:r.keyboard,backdropClass:r.backdropClass,windowTopClass:r.windowTopClass,windowClass:r.windowClass,windowTemplateUrl:r.windowTemplateUrl,ariaLabelledBy:r.ariaLabelledBy,ariaDescribedBy:r.ariaDescribedBy,size:r.size,openedClass:r.openedClass,appendTo:r.appendTo},m={},v={};r.component?(n(m,!1,!0,!1),m.name=r.component,u.component=m):r.controller&&(n(v,!0,!1,!0),c=a(r.controller,v,!0,r.controllerAs),r.controllerAs&&r.bindToController&&(l=c.instance,l.$close=o.$close,l.$dismiss=o.$dismiss,angular.extend(l,{$resolve:v.$scope.$resolve},i)),l=c(),angular.isFunction(l.$onInit)&&l.$onInit()),r.component||(u.content=e[0]),s.open(g,u),h.resolve(!0)},function(e){h.reject(e),d.reject(e)}).finally(function(){u===v&&(u=null)}),g},c}]};return e}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(t,n,i){t.setNumPages=i.numPages?e(i.numPages).assign:angular.noop,t.ngModelCtrl={$setViewValue:angular.noop},t._watchers=[],t.init=function(e,r){t.ngModelCtrl=e,t.config=r,e.$render=function(){t.render()},i.itemsPerPage?t._watchers.push(n.$parent.$watch(i.itemsPerPage,function(e){t.itemsPerPage=parseInt(e,10),n.totalPages=t.calculateTotalPages(),t.updatePage()})):t.itemsPerPage=r.itemsPerPage,n.$watch("totalItems",function(e,i){(angular.isDefined(e)||e!==i)&&(n.totalPages=t.calculateTotalPages(),t.updatePage())})},t.calculateTotalPages=function(){var e=t.itemsPerPage<1?1:Math.ceil(n.totalItems/t.itemsPerPage);return Math.max(e||0,1)},t.render=function(){n.page=parseInt(t.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(e,i){i&&i.preventDefault(),(!n.ngDisabled||!i)&&n.page!==e&&e>0&&e<=n.totalPages&&(i&&i.target&&i.target.blur(),t.ngModelCtrl.$setViewValue(e),t.ngModelCtrl.$render())},n.getText=function(e){return n[e+"Text"]||t.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},t.updatePage=function(){t.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):t.ngModelCtrl.$render()},n.$on("$destroy",function(){for(;t._watchers.length;)t._watchers.shift()()})}}}]),
angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,n,i){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):i.align,n.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},link:function(t,n,i,r){n.addClass("pager");var a=r[0],o=r[1];o&&a.init(o,e)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,t,n,i,r){function a(e,t,n){return{number:e,text:t,active:n}}function o(e,t){var n=[],i=1,r=t,o=angular.isDefined(l)&&l<t;o&&(c?(i=Math.max(e-Math.floor(l/2),1),(r=i+l-1)>t&&(r=t,i=r-l+1)):(i=(Math.ceil(e/l)-1)*l+1,r=Math.min(i+l-1,t)));for(var s=i;s<=r;s++){var p=a(s,h(s),s===e);n.push(p)}if(o&&l>0&&(!c||u||d)){if(i>1){if(!d||i>3){var f=a(i-1,"...",!1);n.unshift(f)}if(d){if(3===i){var g=a(2,"2",!1);n.unshift(g)}var m=a(1,"1",!1);n.unshift(m)}}if(r<t){if(!d||r<t-2){var v=a(r+1,"...",!1);n.push(v)}if(d){if(r===t-2){var b=a(t-1,t-1,!1);n.push(b)}var y=a(t,t,!1);n.push(y)}}}return n}var s=this,l=angular.isDefined(t.maxSize)?e.$parent.$eval(t.maxSize):r.maxSize,c=angular.isDefined(t.rotate)?e.$parent.$eval(t.rotate):r.rotate,u=angular.isDefined(t.forceEllipses)?e.$parent.$eval(t.forceEllipses):r.forceEllipses,d=angular.isDefined(t.boundaryLinkNumbers)?e.$parent.$eval(t.boundaryLinkNumbers):r.boundaryLinkNumbers,h=angular.isDefined(t.pageLabel)?function(n){return e.$parent.$eval(t.pageLabel,{$page:n})}:angular.identity;e.boundaryLinks=angular.isDefined(t.boundaryLinks)?e.$parent.$eval(t.boundaryLinks):r.boundaryLinks,e.directionLinks=angular.isDefined(t.directionLinks)?e.$parent.$eval(t.directionLinks):r.directionLinks,i.create(this,e,t),t.maxSize&&s._watchers.push(e.$parent.$watch(n(t.maxSize),function(e){l=parseInt(e,10),s.render()}));var p=this.render;this.render=function(){p(),e.page>0&&e.page<=e.totalPages&&(e.pages=o(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},link:function(e,n,i,r){n.addClass("pagination");var a=r[0],o=r[1];o&&a.init(o,t)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g;return e.replace(t,function(e,t){return(t?"-":"")+e.toLowerCase()})}var t={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(r,a,o,s,l,c,u,d,h){function p(e){if(27===e.which){var t=f.top();t&&(t.value.close(),t=null)}}var f=h.createNew();return s.on("keyup",p),u.$on("$destroy",function(){s.off("keyup",p)}),function(r,u,h,p){function g(e){var t=(e||p.trigger||h).split(" ");return{show:t,hide:t.map(function(e){return n[e]||e})}}p=angular.extend({},t,i,p);var m=e(r),v=c.startSymbol(),b=c.endSymbol(),y="<div "+m+'-popup uib-title="'+v+"title"+b+'" '+(p.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+b+'" ')+'origin-scope="origScope" class="uib-position-measure '+u+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(e,t){var n=a(y);return function(e,t,i,a){function c(){z.isOpen?m():h()}function h(){F&&!e.$eval(i[u+"Enable"])||(w(),k(),z.popupDelay?A||(A=o(v,z.popupDelay,!1)):v())}function m(){b(),z.popupCloseDelay?O||(O=o(y,z.popupCloseDelay,!1)):y()}function v(){if(b(),w(),!z.content)return angular.noop;x(),z.$evalAsync(function(){z.isOpen=!0,C(!0),V()})}function b(){A&&(o.cancel(A),A=null),P&&(o.cancel(P),P=null)}function y(){z&&z.$evalAsync(function(){z&&(z.isOpen=!1,C(!1),z.animation?M||(M=o(_,150,!1)):_())})}function w(){O&&(o.cancel(O),O=null),M&&(o.cancel(M),M=null)}function x(){T||(E=z.$new(),T=n(E,function(e){N?s.find("body").append(e):t.after(e)}),f.add(z,{close:y}),S())}function _(){b(),w(),$(),T&&(T.remove(),T=null,I&&o.cancel(I)),f.remove(z),E&&(E.$destroy(),E=null)}function k(){z.title=i[u+"Title"],z.content=W?W(e):i[r],z.popupClass=i[u+"Class"],z.placement=angular.isDefined(i[u+"Placement"])?i[u+"Placement"]:p.placement;var t=l.parsePlacement(z.placement);R=t[1]?t[0]+"-"+t[1]:t[0];var n=parseInt(i[u+"PopupDelay"],10),a=parseInt(i[u+"PopupCloseDelay"],10);z.popupDelay=isNaN(n)?p.popupDelay:n,z.popupCloseDelay=isNaN(a)?p.popupCloseDelay:a}function C(t){H&&angular.isFunction(H.assign)&&H.assign(e,t)}function S(){B.length=0,W?(B.push(e.$watch(W,function(e){z.content=e,!e&&z.isOpen&&y()})),B.push(E.$watch(function(){j||(j=!0,E.$$postDigest(function(){j=!1,z&&z.isOpen&&V()}))}))):B.push(i.$observe(r,function(e){z.content=e,!e&&z.isOpen?y():V()})),B.push(i.$observe(u+"Title",function(e){z.title=e,z.isOpen&&V()})),B.push(i.$observe(u+"Placement",function(e){z.placement=e||p.placement,z.isOpen&&V()}))}function $(){B.length&&(angular.forEach(B,function(e){e()}),B.length=0)}function D(e){z&&z.isOpen&&T&&(t[0].contains(e.target)||T[0].contains(e.target)||m())}var T,E,M,A,O,P,I,R,N=!!angular.isDefined(p.appendToBody)&&p.appendToBody,L=g(void 0),F=angular.isDefined(i[u+"Enable"]),z=e.$new(!0),j=!1,H=!!angular.isDefined(i[u+"IsOpen"])&&d(i[u+"IsOpen"]),W=!!p.useContentExp&&d(i[r]),B=[],V=function(){T&&T.html()&&(P||(P=o(function(){var e=l.positionElements(t,T,z.placement,N),n=angular.isDefined(T.offsetHeight)?T.offsetHeight:T.prop("offsetHeight"),i=N?l.offset(t):l.position(t);T.css({top:e.top+"px",left:e.left+"px"});var r=e.placement.split("-");T.hasClass(r[0])||(T.removeClass(R.split("-")[0]),T.addClass(r[0])),T.hasClass(p.placementClassPrefix+e.placement)||(T.removeClass(p.placementClassPrefix+R),T.addClass(p.placementClassPrefix+e.placement)),I=o(function(){var e=angular.isDefined(T.offsetHeight)?T.offsetHeight:T.prop("offsetHeight"),t=l.adjustTop(r,i,n,e);t&&T.css(t),I=null},0,!1),T.hasClass("uib-position-measure")?(l.positionArrow(T,e.placement),T.removeClass("uib-position-measure")):R!==e.placement&&l.positionArrow(T,e.placement),R=e.placement,P=null},0,!1)))};z.origScope=e,z.isOpen=!1,z.contentExp=function(){return z.content},i.$observe("disabled",function(e){e&&b(),e&&z.isOpen&&y()}),H&&e.$watch(H,function(e){z&&!e===z.isOpen&&c()});var U=function(){L.show.forEach(function(e){"outsideClick"===e?t.off("click",c):(t.off(e,h),t.off(e,c))}),L.hide.forEach(function(e){"outsideClick"===e?s.off("click",D):t.off(e,m)})};!function(){var n=[],r=[],a=e.$eval(i[u+"Trigger"]);U(),angular.isObject(a)?(Object.keys(a).forEach(function(e){n.push(e),r.push(a[e])}),L={show:n,hide:r}):L=g(a),"none"!==L.show&&L.show.forEach(function(e,n){"outsideClick"===e?(t.on("click",c),s.on("click",D)):e===L.hide[n]?t.on(e,c):e&&(t.on(e,h),t.on(L.hide[n],m)),t.on("keypress",function(e){27===e.which&&m()})})}();var q=e.$eval(i[u+"Animation"]);z.animation=angular.isDefined(q)?!!q:p.animation;var Y,K=u+"AppendToBody";Y=K in i&&void 0===i[K]||e.$eval(i[K]),N=angular.isDefined(Y)?Y:N,e.$on("$destroy",function(){U(),_(),z=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,i){return{link:function(r,a,o){var s,l,c,u=r.$eval(o.tooltipTemplateTranscludeScope),d=0,h=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),c&&(e.leave(c).then(function(){l=null}),l=c,c=null)};r.$watch(t.parseAsResourceUrl(o.uibTooltipTemplateTransclude),function(t){var o=++d;t?(i(t,!0).then(function(i){if(o===d){var r=u.$new(),l=i,p=n(l)(r,function(t){h(),e.enter(t,a)});s=r,c=p,s.$emit("$includeContentLoaded",t)}},function(){o===d&&(h(),r.$emit("$includeContentError",t))}),r.$emit("$includeContentRequested",t)):h()}),r.$on("$destroy",h)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,n,i){if(t.placement){var r=e.parsePlacement(t.placement);n.addClass(r[0])}t.popupClass&&n.addClass(t.popupClass),t.animation&&n.addClass(i.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){function i(){return angular.isDefined(e.maxParam)?e.maxParam:n.max}var r=this,a=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=i(),this.addBar=function(e,t,n){a||t.css({transition:"none"}),this.bars.push(e),e.max=i(),e.title=n&&angular.isDefined(n.title)?n.title:"progressbar",e.$watch("value",function(t){e.recalculatePercentage()}),e.recalculatePercentage=function(){var t=r.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);t>100&&(e.percent-=t-100)},e.$on("$destroy",function(){t=null,r.removeBar(e)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("maxParam",function(e){r.bars.forEach(function(e){e.max=i(),e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var i={$setViewValue:angular.noop},r=this;this.init=function(r){i=r,i.$render=this.render,i.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff,this.enableReset=angular.isDefined(t.enableReset)?e.$parent.$eval(t.enableReset):n.enableReset;var a=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(a)&&a.length>0?a:n.titles;var o=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){if(!e.readonly&&t>=0&&t<=e.range.length){var n=r.enableReset&&i.$viewValue===t?0:t;i.$setViewValue(n),i.$render()}},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue,e.title=r.getTitle(e.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(e,t,n,i){var r=i[0],a=i[1];r.init(a)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){function t(e){for(var t=0;t<i.tabs.length;t++)if(i.tabs[t].index===e)return t}var n,i=this;i.tabs=[],i.select=function(e,a){if(!r){var o=t(n),s=i.tabs[o];if(s){if(s.tab.onDeselect({$event:a,$selectedIndex:e}),a&&a.isDefaultPrevented())return;s.tab.active=!1}var l=i.tabs[e];l?(l.tab.onSelect({$event:a}),l.tab.active=!0,i.active=l.index,n=l.index):!l&&angular.isDefined(n)&&(i.active=null,n=null)}},i.addTab=function(e){if(i.tabs.push({tab:e,index:e.index}),i.tabs.sort(function(e,t){return e.index>t.index?1:e.index<t.index?-1:0}),e.index===i.active||!angular.isDefined(i.active)&&1===i.tabs.length){var n=t(e.index);i.select(n)}},i.removeTab=function(e){for(var t,n=0;n<i.tabs.length;n++)if(i.tabs[n].tab===e){t=n;break}if(i.tabs[t].index===i.active){var r=t===i.tabs.length-1?t-1:t+1%i.tabs.length;i.select(r)}i.tabs.splice(t,1)},e.$watch("tabset.active",function(e){angular.isDefined(e)&&e!==n&&i.select(t(e))});var r;e.$on("$destroy",function(){r=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(t,n,i,r,a){t.disabled=!1,i.disable&&t.$parent.$watch(e(i.disable),function(e){t.disabled=!!e}),angular.isUndefined(i.index)&&(r.tabs&&r.tabs.length?t.index=Math.max.apply(null,r.tabs.map(function(e){return e.index}))+1:t.index=0),angular.isUndefined(i.classes)&&(t.classes=""),t.select=function(e){if(!t.disabled){for(var n,i=0;i<r.tabs.length;i++)if(r.tabs[i].tab===t){n=i;break}r.select(n,e)}},r.addTab(t),t.$on("$destroy",function(){r.removeTab(t)}),t.$transcludeFn=a}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(t,n,i){var r=t.$eval(i.uibTabContentTransclude).tab;r.$transcludeFn(r.$parent,function(t){angular.forEach(t,function(t){e(t)?r.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,i,r,a,o){function s(){var t=+e.hours;if((e.showMeridian?t>0&&t<13:t>=0&&t<24)&&""!==e.hours)return e.showMeridian&&(12===t&&(t=0),e.meridian===C[1]&&(t+=12)),t}function l(){var t=+e.minutes;if(t>=0&&t<60&&""!==e.minutes)return t}function c(){var t=+e.seconds;return t>=0&&t<60?t:void 0}function u(e,t){return null===e?"":angular.isDefined(e)&&e.toString().length<2&&!t?"0"+e:e.toString()}function d(e){h(),k.$setViewValue(new Date(x)),p(e)}function h(){b&&b.$setValidity("hours",!0),y&&y.$setValidity("minutes",!0),w&&w.$setValidity("seconds",!0),k.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1,e.invalidSeconds=!1}function p(t){if(k.$modelValue){var n=x.getHours(),i=x.getMinutes(),r=x.getSeconds();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:u(n,!S),"m"!==t&&(e.minutes=u(i)),e.meridian=x.getHours()<12?C[0]:C[1],"s"!==t&&(e.seconds=u(r)),e.meridian=x.getHours()<12?C[0]:C[1]}else e.hours=null,e.minutes=null,e.seconds=null,e.meridian=C[0]}function f(e){x=m(x,e),d()}function g(e,t){return m(e,60*t)}function m(e,t){var n=new Date(e.getTime()+1e3*t),i=new Date(e);return i.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),i}function v(){return(null===e.hours||""===e.hours)&&(null===e.minutes||""===e.minutes)&&(!e.showSeconds||e.showSeconds&&(null===e.seconds||""===e.seconds))}var b,y,w,x=new Date,_=[],k={$setViewValue:angular.noop},C=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):o.meridians||a.DATETIME_FORMATS.AMPMS,S=!angular.isDefined(n.padHours)||e.$parent.$eval(n.padHours);e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,i){k=t,k.$render=this.render,k.$formatters.unshift(function(e){return e?new Date(e):null});var r=i.eq(0),a=i.eq(1),s=i.eq(2);b=r.controller("ngModel"),y=a.controller("ngModel"),w=s.controller("ngModel"),(angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):o.mousewheel)&&this.setupMousewheelEvents(r,a,s),(angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):o.arrowkeys)&&this.setupArrowkeyEvents(r,a,s),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):o.readonlyInput,this.setupInputEvents(r,a,s)};var $=o.hourStep;n.hourStep&&_.push(e.$parent.$watch(i(n.hourStep),function(e){$=+e}));var D=o.minuteStep;n.minuteStep&&_.push(e.$parent.$watch(i(n.minuteStep),function(e){D=+e}));var T;_.push(e.$parent.$watch(i(n.min),function(e){var t=new Date(e);T=isNaN(t)?void 0:t}));var E;_.push(e.$parent.$watch(i(n.max),function(e){var t=new Date(e);E=isNaN(t)?void 0:t}));var M=!1;n.ngDisabled&&_.push(e.$parent.$watch(i(n.ngDisabled),function(e){M=e})),e.noIncrementHours=function(){var e=g(x,60*$);return M||e>E||e<x&&e<T},e.noDecrementHours=function(){var e=g(x,60*-$);return M||e<T||e>x&&e>E},e.noIncrementMinutes=function(){var e=g(x,D);return M||e>E||e<x&&e<T},e.noDecrementMinutes=function(){var e=g(x,-D);return M||e<T||e>x&&e>E},e.noIncrementSeconds=function(){var e=m(x,A);return M||e>E||e<x&&e<T},e.noDecrementSeconds=function(){var e=m(x,-A);return M||e<T||e>x&&e>E},e.noToggleMeridian=function(){return x.getHours()<12?M||g(x,720)>E:M||g(x,-720)<T};var A=o.secondStep;n.secondStep&&_.push(e.$parent.$watch(i(n.secondStep),function(e){A=+e})),e.showSeconds=o.showSeconds,n.showSeconds&&_.push(e.$parent.$watch(i(n.showSeconds),function(t){e.showSeconds=!!t})),e.showMeridian=o.showMeridian,n.showMeridian&&_.push(e.$parent.$watch(i(n.showMeridian),function(t){if(e.showMeridian=!!t,k.$error.time){var n=s(),i=l();angular.isDefined(n)&&angular.isDefined(i)&&(x.setHours(n),d())}else p()})),this.setupMousewheelEvents=function(t,n,i){var r=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.on("mousewheel wheel",function(t){M||e.$apply(r(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.on("mousewheel wheel",function(t){M||e.$apply(r(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()}),i.on("mousewheel wheel",function(t){M||e.$apply(r(t)?e.incrementSeconds():e.decrementSeconds()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n,i){t.on("keydown",function(t){M||(38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply()))}),n.on("keydown",function(t){M||(38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply()))}),i.on("keydown",function(t){M||(38===t.which?(t.preventDefault(),e.incrementSeconds(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementSeconds(),e.$apply()))})},this.setupInputEvents=function(t,n,i){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void(e.updateSeconds=angular.noop);var r=function(t,n,i){k.$setViewValue(null),k.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t,b&&b.$setValidity("hours",!1)),angular.isDefined(n)&&(e.invalidMinutes=n,y&&y.$setValidity("minutes",!1)),angular.isDefined(i)&&(e.invalidSeconds=i,w&&w.$setValidity("seconds",!1))};e.updateHours=function(){var e=s(),t=l();k.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(x.setHours(e),x.setMinutes(t),x<T||x>E?r(!0):d("h")):r(!0)},t.on("blur",function(t){k.$setTouched(),v()?h():null===e.hours||""===e.hours?r(!0):!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=u(e.hours,!S)})}),e.updateMinutes=function(){var e=l(),t=s();k.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(x.setHours(t),x.setMinutes(e),x<T||x>E?r(void 0,!0):d("m")):r(void 0,!0)},n.on("blur",function(t){k.$setTouched(),v()?h():null===e.minutes?r(void 0,!0):!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=u(e.minutes)})}),e.updateSeconds=function(){var e=c();k.$setDirty(),angular.isDefined(e)?(x.setSeconds(e),d("s")):r(void 0,void 0,!0)},i.on("blur",function(t){v()?h():!e.invalidSeconds&&e.seconds<10&&e.$apply(function(){e.seconds=u(e.seconds)})})},this.render=function(){var t=k.$viewValue;isNaN(t)?(k.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(x=t),x<T||x>E?(k.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):h(),p())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):o.showSpinners,e.incrementHours=function(){e.noIncrementHours()||f(60*$*60)},e.decrementHours=function(){e.noDecrementHours()||f(60*-$*60)},e.incrementMinutes=function(){e.noIncrementMinutes()||f(60*D)},e.decrementMinutes=function(){e.noDecrementMinutes()||f(60*-D)},e.incrementSeconds=function(){e.noIncrementSeconds()||f(A)},e.decrementSeconds=function(){e.noDecrementSeconds()||f(-A)},e.toggleMeridian=function(){var t=l(),n=s();e.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(n)?f(720*(x.getHours()<12?60:-60)):e.meridian=e.meridian===C[0]?C[1]:C[0])},e.blur=function(){k.$setTouched()},e.$on("$destroy",function(){for(;_.length;)_.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(e){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(t,n){return n.templateUrl||e.templateUrl},link:function(e,t,n,i){var r=i[0],a=i[1];a&&r.init(a,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(t);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(e,t,n,i,r,a,o,s,l,c,u,d,h){function p(){z.moveInProgress||(z.moveInProgress=!0,z.$digest()),X()}function f(){z.position=E?d.offset(t):d.position(t),z.position.top+=t.prop("offsetHeight")}var g,m,v=[9,13,27,38,40],b=e.$eval(n.typeaheadMinLength);b||0===b||(b=1),e.$watch(n.typeaheadMinLength,function(e){b=e||0===e?e:1});var y=e.$eval(n.typeaheadWaitMs)||0,w=!1!==e.$eval(n.typeaheadEditable);e.$watch(n.typeaheadEditable,function(e){w=!1!==e});var x,_,k=r(n.typeaheadLoading).assign||angular.noop,C=n.typeaheadShouldSelect?r(n.typeaheadShouldSelect):function(e,t){var n=t.$event;return 13===n.which||9===n.which},S=r(n.typeaheadOnSelect),$=!!angular.isDefined(n.typeaheadSelectOnBlur)&&e.$eval(n.typeaheadSelectOnBlur),D=r(n.typeaheadNoResults).assign||angular.noop,T=n.typeaheadInputFormatter?r(n.typeaheadInputFormatter):void 0,E=!!n.typeaheadAppendToBody&&e.$eval(n.typeaheadAppendToBody),M=n.typeaheadAppendTo?e.$eval(n.typeaheadAppendTo):null,A=!1!==e.$eval(n.typeaheadFocusFirst),O=!!n.typeaheadSelectOnExact&&e.$eval(n.typeaheadSelectOnExact),P=r(n.typeaheadIsOpen).assign||angular.noop,I=e.$eval(n.typeaheadShowHint)||!1,R=r(n.ngModel),N=r(n.ngModel+"($$$p)"),L=function(t,n){return angular.isFunction(R(e))&&m&&m.$options&&m.$options.getterSetter?N(t,{$$$p:n}):R.assign(t,n)},F=h.parse(n.uibTypeahead),z=e.$new(),j=e.$on("$destroy",function(){z.$destroy()});z.$on("$destroy",j);var H="typeahead-"+z.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":H});var W,B;I&&(W=angular.element("<div></div>"),W.css("position","relative"),t.after(W),B=t.clone(),B.attr("placeholder",""),B.attr("tabindex","-1"),B.val(""),B.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),t.css({position:"relative","vertical-align":"top","background-color":"transparent"}),B.attr("id")&&B.removeAttr("id"),W.append(B),B.after(t));var V=angular.element("<div uib-typeahead-popup></div>");V.attr({id:H,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&V.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&V.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var U=function(){I&&B.val("")},q=function(){z.matches=[],z.activeIdx=-1,t.attr("aria-expanded",!1),U()},Y=function(e){return H+"-option-"+e};z.$watch("activeIdx",function(e){e<0?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",Y(e))});var K=function(e,t){return!!(z.matches.length>t&&e)&&e.toUpperCase()===z.matches[t].label.toUpperCase()},G=function(n,i){var r={$viewValue:n};k(e,!0),D(e,!1),a.when(F.source(e,r)).then(function(a){var o=n===g.$viewValue;if(o&&x)if(a&&a.length>0){z.activeIdx=A?0:-1,D(e,!1),z.matches.length=0;for(var s=0;s<a.length;s++)r[F.itemName]=a[s],z.matches.push({id:Y(s),label:F.viewMapper(z,r),model:a[s]});if(z.query=n,f(),t.attr("aria-expanded",!0),O&&1===z.matches.length&&K(n,0)&&(angular.isNumber(z.debounceUpdate)||angular.isObject(z.debounceUpdate)?u(function(){z.select(0,i)},angular.isNumber(z.debounceUpdate)?z.debounceUpdate:z.debounceUpdate.default):z.select(0,i)),I){var l=z.matches[0].label;angular.isString(n)&&n.length>0&&l.slice(0,n.length).toUpperCase()===n.toUpperCase()?B.val(n+l.slice(n.length)):B.val("")}}else q(),D(e,!0);o&&k(e,!1)},function(){q(),k(e,!1),D(e,!0)})};E&&(angular.element(l).on("resize",p),s.find("body").on("scroll",p));var X=u(function(){z.matches.length&&f(),z.moveInProgress=!1},200);z.moveInProgress=!1,z.query=void 0;var J,Z=function(e){J=o(function(){G(e)},y)},Q=function(){J&&o.cancel(J)};q(),z.assignIsOpen=function(t){P(e,t)},z.select=function(i,r){var a,s,l={};_=!0,l[F.itemName]=s=z.matches[i].model,a=F.modelMapper(e,l),L(e,a),g.$setValidity("editable",!0),g.$setValidity("parse",!0),S(e,{$item:s,$model:a,$label:F.viewMapper(e,l),$event:r}),q(),!1!==z.$eval(n.typeaheadFocusOnSelect)&&o(function(){t[0].focus()},0,!1)},t.on("keydown",function(t){if(0!==z.matches.length&&-1!==v.indexOf(t.which)){var n=C(e,{$event:t});if(-1===z.activeIdx&&n||9===t.which&&t.shiftKey)return q(),void z.$digest();t.preventDefault();var i;switch(t.which){case 27:t.stopPropagation(),q(),e.$digest();break;case 38:z.activeIdx=(z.activeIdx>0?z.activeIdx:z.matches.length)-1,z.$digest(),i=V[0].querySelectorAll(".uib-typeahead-match")[z.activeIdx],i.parentNode.scrollTop=i.offsetTop;break;case 40:z.activeIdx=(z.activeIdx+1)%z.matches.length,z.$digest(),i=V[0].querySelectorAll(".uib-typeahead-match")[z.activeIdx],i.parentNode.scrollTop=i.offsetTop;break;default:n&&z.$apply(function(){angular.isNumber(z.debounceUpdate)||angular.isObject(z.debounceUpdate)?u(function(){z.select(z.activeIdx,t)},angular.isNumber(z.debounceUpdate)?z.debounceUpdate:z.debounceUpdate.default):z.select(z.activeIdx,t)})}}}),t.on("focus",function(e){x=!0,0!==b||g.$viewValue||o(function(){G(g.$viewValue,e)},0)}),t.on("blur",function(e){$&&z.matches.length&&-1!==z.activeIdx&&!_&&(_=!0,z.$apply(function(){angular.isObject(z.debounceUpdate)&&angular.isNumber(z.debounceUpdate.blur)?u(function(){z.select(z.activeIdx,e)},z.debounceUpdate.blur):z.select(z.activeIdx,e)})),!w&&g.$error.editable&&(g.$setViewValue(),z.$apply(function(){g.$setValidity("editable",!0),g.$setValidity("parse",!0)}),t.val("")),x=!1,_=!1});var ee=function(n){t[0]!==n.target&&3!==n.which&&0!==z.matches.length&&(q(),c.$$phase||e.$digest())};s.on("click",ee),e.$on("$destroy",function(){s.off("click",ee),(E||M)&&te.remove(),E&&(angular.element(l).off("resize",p),s.find("body").off("scroll",p)),V.remove(),I&&W.remove()});var te=i(V)(z);E?s.find("body").append(te):M?angular.element(M).eq(0).append(te):t.after(te),
this.init=function(t,n){g=t,m=n,z.debounceUpdate=g.$options&&r(g.$options.debounce)(e),g.$parsers.unshift(function(t){return x=!0,0===b||t&&t.length>=b?y>0?(Q(),Z(t)):G(t):(k(e,!1),Q(),q()),w?t:t?void g.$setValidity("editable",!1):(g.$setValidity("editable",!0),null)}),g.$formatters.push(function(t){var n,i,r={};return w||g.$setValidity("editable",!0),T?(r.$model=t,T(e,r)):(r[F.itemName]=t,n=F.viewMapper(e,r),r[F.itemName]=void 0,i=F.viewMapper(e,r),n!==i?n:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(e,t,n,i){i[2].init(i[0],i[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function(e){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(t,n,i){t.templateUrl=i.templateUrl,t.isOpen=function(){var e=t.matches.length>0;return t.assignIsOpen({isOpen:e}),e},t.isActive=function(e){return t.active===e},t.selectActive=function(e){t.active=e},t.selectMatch=function(n,i){var r=t.debounce();angular.isNumber(r)||angular.isObject(r)?e(function(){t.select({activeIdx:n,evt:i})},angular.isNumber(r)?r:r.default):t.select({activeIdx:n,evt:i})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(i,r,a){var o=n(a.templateUrl)(i.$parent)||"uib/template/typeahead/typeahead-match.html";e(o).then(function(e){var n=angular.element(e.trim());r.replaceWith(n),t(n)(i)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function i(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function r(e){return/<.*>/g.test(e)}var a;return a=t.has("$sanitize"),function(t,o){return!a&&r(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=o?(""+t).replace(new RegExp(i(o),"gi"),"<strong>$&</strong>"):t,a||(t=e.trustAsHtml(t)),t}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(e){e.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("uib/template/pagination/pagination.html",'<li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),/**
 * State-based routing for AngularJS
 * @version v0.4.2
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(e,t,n){"use strict";function i(e,t){return U(new(U(function(){},{prototype:e})),t)}function r(e){return V(arguments,function(t){t!==e&&V(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function a(e,t){var n=[];for(var i in e.path){if(e.path[i]!==t.path[i])break;n.push(e.path[i])}return n}function o(e){if(Object.keys)return Object.keys(e);var t=[];return V(e,function(e,n){t.push(n)}),t}function s(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,i=Number(arguments[2])||0;for(i=i<0?Math.ceil(i):Math.floor(i),i<0&&(i+=n);i<n;i++)if(i in e&&e[i]===t)return i;return-1}function l(e,t,n,i){var r,l=a(n,i),c={},u=[];for(var d in l)if(l[d]&&l[d].params&&(r=o(l[d].params),r.length))for(var h in r)s(u,r[h])>=0||(u.push(r[h]),c[r[h]]=e[r[h]]);return U({},c,t)}function c(e,t,n){if(!n){n=[];for(var i in e)n.push(i)}for(var r=0;r<n.length;r++){var a=n[r];if(e[a]!=t[a])return!1}return!0}function u(e,t){var n={};return V(e,function(e){n[e]=t[e]}),n}function d(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return V(n,function(n){n in e&&(t[n]=e[n])}),t}function h(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var i in e)-1==s(n,i)&&(t[i]=e[i]);return t}function p(e,t){var n=B(e),i=n?[]:{};return V(e,function(e,r){t(e,r)&&(i[n?i.length:r]=e)}),i}function f(e,t){var n=B(e)?[]:{};return V(e,function(e,i){n[i]=t(e,i)}),n}function g(e){return e.then(n,function(){})&&e}function m(e,t){var i=1,a=2,l={},c=[],u=l,d=U(e.when(l),{$$promises:l,$$values:l});this.study=function(l){function p(e,n){if(y[n]!==a){if(b.push(n),y[n]===i)throw b.splice(0,s(b,n)),new Error("Cyclic dependency: "+b.join(" -> "));if(y[n]=i,H(e))v.push(n,[function(){return t.get(e)}],c);else{var r=t.annotate(e);V(r,function(e){e!==n&&l.hasOwnProperty(e)&&p(l[e],e)}),v.push(n,e,r)}b.pop(),y[n]=a}}function f(e){return W(e)&&e.then&&e.$$promises}if(!W(l))throw new Error("'invocables' must be an object");var m=o(l||{}),v=[],b=[],y={};return V(l,p),l=b=y=null,function(i,a,o){function s(){--w||(x||r(y,a.$$values),p.$$values=y,p.$$promises=p.$$promises||!0,delete p.$$inheritedValues,c.resolve(y))}function l(e){p.$$failure=e,c.reject(e)}if(f(i)&&o===n&&(o=a,a=i,i=null),i){if(!W(i))throw new Error("'locals' must be an object")}else i=u;if(a){if(!f(a))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else a=d;var c=e.defer(),p=g(c.promise),b=p.$$promises={},y=U({},i),w=1+v.length/3,x=!1;if(g(p),z(a.$$failure))return l(a.$$failure),p;a.$$inheritedValues&&r(y,h(a.$$inheritedValues,m)),U(b,a.$$promises),a.$$values?(x=r(y,h(a.$$values,m)),p.$$inheritedValues=h(a.$$values,m),s()):(a.$$inheritedValues&&(p.$$inheritedValues=h(a.$$inheritedValues,m)),a.then(s,l));for(var _=0,k=v.length;_<k;_+=3)i.hasOwnProperty(v[_])?s():function(n,r,a){function c(e){d.reject(e),l(e)}function u(){if(!z(p.$$failure))try{d.resolve(t.invoke(r,o,y)),d.promise.then(function(e){y[n]=e,s()},c)}catch(e){c(e)}}var d=e.defer(),h=0;V(a,function(e){b.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(h++,b[e].then(function(t){y[e]=t,--h||u()},c))}),h||u(),b[n]=g(d.promise)}(v[_],v[_+1],v[_+2]);return p}},this.resolve=function(e,t,n,i){return this.study(e)(t,n,i)}}function v(){var e=t.version.minor<3;this.shouldUnsafelyUseHttp=function(t){e=!!t},this.$get=["$http","$templateCache","$injector",function(t,n,i){return new b(t,n,i,e)}]}function b(e,t,n,i){this.fromConfig=function(e,t,n){return z(e.template)?this.fromString(e.template,t):z(e.templateUrl)?this.fromUrl(e.templateUrl,t):z(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return j(e)?e(t):e},this.fromUrl=function(r,a){return j(r)&&(r=r(a)),null==r?null:i?e.get(r,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data}):n.get("$templateRequest")(r)},this.fromProvider=function(e,t,i){return n.invoke(e,null,i||{params:t})}}function y(e,t,r){function a(t,n,i,r){if(m.push(t),f[t])return f[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(g[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return g[t]=new K.Param(t,n,i,r),g[t]}function o(e,t,n,i){var r=["",""],a=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return a;switch(n){case!1:r=["(",")"+(i?"?":"")];break;case!0:a=a.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+n+"|",")?"]}return a+r[0]+t+r[1]}function s(r,a){var o,s,l,c,u;return o=r[2]||r[3],u=t.params[o],l=e.substring(h,r.index),s=a?r[4]:r[4]||("*"==r[1]?".*":null),s&&(c=K.type(s)||i(K.type("string"),{pattern:new RegExp(s,t.caseInsensitive?"i":n)})),{id:o,regexp:s,segment:l,type:c,cfg:u}}t=U({params:{}},W(t)?t:{});var l,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,d="^",h=0,p=this.segments=[],f=r?r.params:{},g=this.params=r?r.params.$$new():new K.ParamSet,m=[];this.source=e;for(var v,b,y;(l=c.exec(e))&&(v=s(l,!1),!(v.segment.indexOf("?")>=0));)b=a(v.id,v.type,v.cfg,"path"),d+=o(v.segment,b.type.pattern.source,b.squash,b.isOptional),p.push(v.segment),h=c.lastIndex;y=e.substring(h);var w=y.indexOf("?");if(w>=0){var x=this.sourceSearch=y.substring(w);if(y=y.substring(0,w),this.sourcePath=e.substring(0,h+w),x.length>0)for(h=0;l=u.exec(x);)v=s(l,!0),b=a(v.id,v.type,v.cfg,"search"),h=c.lastIndex}else this.sourcePath=e,this.sourceSearch="";d+=o(y)+(!1===t.strict?"/?":"")+"$",p.push(y),this.regexp=new RegExp(d,t.caseInsensitive?"i":n),this.prefix=p[0],this.$$paramNames=m}function w(e){U(this,e)}function x(){function e(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e}function r(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e}function a(){return{strict:g,caseInsensitive:h}}function l(e){return j(e)||B(e)&&j(e[e.length-1])}function c(){for(;_.length;){var e=_.shift();if(e.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(v[e.name],d.invoke(e.def))}}function u(e){U(this,e||{})}K=this;var d,h=!1,g=!0,m=!1,v={},b=!0,_=[],k={string:{encode:e,decode:r,is:function(e){return null==e||!z(e)||"string"==typeof e},pattern:/[^\/]*/},int:{encode:e,decode:function(e){return parseInt(e,10)},is:function(e){return e!==n&&null!==e&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return!0===e||!1===e},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};x.$$getDefaultValue=function(e){if(!l(e.value))return e.value;if(!d)throw new Error("Injectable functions cannot be called at configuration time");return d.invoke(e.value)},this.caseInsensitive=function(e){return z(e)&&(h=e),h},this.strictMode=function(e){return z(e)&&(g=e),g},this.defaultSquashPolicy=function(e){if(!z(e))return m;if(!0!==e&&!1!==e&&!H(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return m=e,e},this.compile=function(e,t){return new y(e,U(a(),t))},this.isMatcher=function(e){if(!W(e))return!1;var t=!0;return V(y.prototype,function(n,i){j(n)&&(t=t&&z(e[i])&&j(e[i]))}),t},this.type=function(e,t,n){if(!z(t))return v[e];if(v.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return v[e]=new w(U({name:e},t)),n&&(_.push({name:e,def:n}),b||c()),this},V(k,function(e,t){v[t]=new w(U({name:t},e))}),v=i(v,{}),this.$get=["$injector",function(e){return d=e,b=!1,c(),V(k,function(e,t){v[t]||(v[t]=new w(e))}),this}],this.Param=function(e,i,r,a){function c(){if(!d)throw new Error("Injectable functions cannot be called at configuration time");var e=d.invoke(r.$$fn);if(null!==e&&e!==n&&!g.type.is(e))throw new Error("Default value ("+e+") for parameter '"+g.id+"' is not an instance of Type ("+g.type.name+")");return e}function u(e){function t(e){return function(t){return t.from===e}}return e=function(e){var n=f(p(g.replace,t(e)),function(e){return e.to});return n.length?n[0]:e}(e),z(e)?g.type.$normalize(e):c()}function h(){return"{Param:"+e+" "+i+" squash: '"+x+"' optional: "+y+"}"}var g=this;r=function(e){var t=W(e)?o(e):[];return-1===s(t,"value")&&-1===s(t,"type")&&-1===s(t,"squash")&&-1===s(t,"array")&&(e={value:e}),e.$$fn=l(e.value)?e.value:function(){return e.value},e}(r),i=function(n,i,r){if(n.type&&i)throw new Error("Param '"+e+"' has two type configurations.");return i||(n.type?t.isString(n.type)?v[n.type]:n.type instanceof w?n.type:new w(n.type):"config"===r?v.any:v.string)}(r,i,a);var b=function(){var t={array:"search"===a&&"auto"},n=e.match(/\[\]$/)?{array:!0}:{};return U(t,n,r).array}();i=b?i.$asArray(b,"search"===a):i,"string"!==i.name||b||"path"!==a||r.value!==n||(r.value="");var y=r.value!==n,x=function(e,t){var n=e.squash;if(!t||!1===n)return!1;if(!z(n)||null==n)return m;if(!0===n||H(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}(r,y),_=function(e,t,i,r){var a,o,l=[{from:"",to:i||t?n:""},{from:null,to:i||t?n:""}];return a=B(e.replace)?e.replace:[],H(r)&&a.push({from:r,to:n}),o=f(a,function(e){return e.from}),p(l,function(e){return-1===s(o,e.from)}).concat(a)}(r,b,y,x);U(this,{id:e,type:i,location:a,array:b,squash:x,replace:_,isOptional:y,value:u,dynamic:n,config:r,toString:h})},u.prototype={$$new:function(){return i(this,U(new u,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,i=o(u.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),V(t,function(t){V(o(t),function(t){-1===s(e,t)&&-1===s(i,t)&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return V(n.$$keys(),function(i){t[i]=n[i].value(e&&e[i])}),t},$$equals:function(e,t){var n=!0,i=this;return V(i.$$keys(),function(r){var a=e&&e[r],o=t&&t[r];i[r].type.equals(a,o)||(n=!1)}),n},$$validates:function(e){var i,r,a,o,s,l=this.$$keys();for(i=0;i<l.length&&(r=this[l[i]],(a=e[l[i]])!==n&&null!==a||!r.isOptional);i++){if(o=r.type.$normalize(a),!r.type.is(o))return!1;if(s=r.type.encode(o),t.isString(s)&&!r.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=u}function _(e,i){function r(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function a(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function o(e,t,n){if(!n)return!1;var i=e.invoke(t,t,{$match:n});return!z(i)||i}function s(i,r,a,o,s){function h(e,t,n){return"/"===m?e:t?m.slice(0,-1)+e:n?m.slice(1)+e:e}function p(e){function t(e){var t=e(a,i);return!!t&&(H(t)&&i.replace().url(t),!0)}if(!e||!e.defaultPrevented){g&&i.url();g=n;var r,o=c.length;for(r=0;r<o;r++)if(t(c[r]))return;u&&t(u)}}function f(){return l=l||r.$on("$locationChangeSuccess",p)}var g,m=o.baseHref(),v=i.url();return d||f(),{sync:function(){p()},listen:function(){return f()},update:function(e){if(e)return void(v=i.url());i.url()!==v&&(i.url(v),i.replace())},push:function(e,t,r){var a=e.format(t||{});null!==a&&t&&t["#"]&&(a+="#"+t["#"]),i.url(a),g=r&&r.$$avoidResync?i.url():n,r&&r.replace&&i.replace()},href:function(n,r,a){if(!n.validates(r))return null;var o=e.html5Mode();t.isObject(o)&&(o=o.enabled),o=o&&s.history;var l=n.format(r);if(a=a||{},o||null===l||(l="#"+e.hashPrefix()+l),null!==l&&r&&r["#"]&&(l+="#"+r["#"]),l=h(l,o,a.absolute),!a.absolute||!l)return l;var c=!o&&l?"/":"",u=i.port();return u=80===u||443===u?"":":"+u,[i.protocol(),"://",i.host(),u,c,l].join("")}}}var l,c=[],u=null,d=!1;this.rule=function(e){if(!j(e))throw new Error("'rule' must be a function");return c.push(e),this},this.otherwise=function(e){if(H(e)){var t=e;e=function(){return t}}else if(!j(e))throw new Error("'rule' must be a function");return u=e,this},this.when=function(e,t){var n,s=H(t);if(H(e)&&(e=i.compile(e)),!s&&!j(t)&&!B(t))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,t){return s&&(n=i.compile(t),t=["$match",function(e){return n.format(e)}]),U(function(n,i){return o(n,t,e.exec(i.path(),i.search()))},{prefix:H(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=t,t=["$match",function(e){return a(n,e)}]),U(function(n,i){return o(n,t,e.exec(i.path()))},{prefix:r(e)})}},c={matcher:i.isMatcher(e),regex:e instanceof RegExp};for(var u in c)if(c[u])return this.rule(l[u](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),d=e},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function k(e,r){function a(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function h(e,t){if(!e)return n;var i=H(e),r=i?e:e.name;if(a(r)){if(!t)throw new Error("No reference point given for path '"+r+"'");t=h(t);for(var o=r.split("."),s=0,l=o.length,c=t;s<l;s++)if(""!==o[s]||0!==s){if("^"!==o[s])break;if(!c.parent)throw new Error("Path '"+r+"' not valid for state '"+t.name+"'");c=c.parent}else c=t;o=o.slice(s).join("."),r=c.name+(c.name&&o?".":"")+o}var u=$[r];return!u||!i&&(i||u!==e&&u.self!==e)?n:u}function p(e,t){D[e]||(D[e]=[]),D[e].push(t)}function m(e){for(var t=D[e]||[];t.length;)v(t.shift())}function v(t){t=i(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!H(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if($.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var r=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):H(t.parent)?t.parent:W(t.parent)&&H(t.parent.name)?t.parent.name:"";if(r&&!$[r])return p(r,t.self);for(var a in E)j(E[a])&&(t[a]=E[a](t,E.$delegates[a]));return $[n]=t,!t[T]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){S.$current.navigable==t&&c(e,n)||S.transitionTo(t,e,{inherit:!0,location:!1})}]),m(n),t}function b(e){return e.indexOf("*")>-1}function y(e){for(var t=e.split("."),n=S.$current.name.split("."),i=0,r=t.length;i<r;i++)"*"===t[i]&&(n[i]="*");return"**"===t[0]&&(n=n.slice(s(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(s(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length==n.length&&n.join("")===t.join("")}function w(e,t){return H(e)&&!z(t)?E[e]:j(t)&&H(e)?(E[e]&&!E.$delegates[e]&&(E.$delegates[e]=E[e]),E[e]=t,this):this}function x(e,t){return W(e)?t=e:t.name=e,v(t),this}function _(e,r,a,s,c,d,p,m,v){function w(t,n,i,a){var o=e.$broadcast("$stateNotFound",t,n,i);if(o.defaultPrevented)return p.update(),M;if(!o.retry)return null;if(a.$retry)return p.update(),A;var s=S.transition=r.when(o.retry);return s.then(function(){return s!==S.transition?(e.$broadcast("$stateChangeCancel",t.to,t.toParams,n,i),D):(t.options.$retry=!0,S.transitionTo(t.to,t.toParams,t.options))},function(){return M}),p.update(),s}function x(e,n,i,o,l,d){function h(){var n=[];return V(e.views,function(i,r){var o=i.resolve&&i.resolve!==e.resolve?i.resolve:{};o.$template=[function(){return a.load(r,{view:i,locals:l.globals,params:p,notify:d.notify})||""}],n.push(c.resolve(o,l.globals,l.resolve,e).then(function(n){if(j(i.controllerProvider)||B(i.controllerProvider)){var a=t.extend({},o,l.globals);n.$$controller=s.invoke(i.controllerProvider,null,a)}else n.$$controller=i.controller;n.$$state=e,n.$$controllerAs=i.controllerAs,n.$$resolveAs=i.resolveAs,l[r]=n}))}),r.all(n).then(function(){return l.globals})}var p=i?n:u(e.params.$$keys(),n),f={$stateParams:p};l.resolve=c.resolve(e.resolve,f,l.resolve,e);var g=[l.resolve.then(function(e){l.globals=e})];return o&&g.push(o),r.all(g).then(h).then(function(e){return l})}var _=new Error("transition superseded"),D=g(r.reject(_)),E=g(r.reject(new Error("transition prevented"))),M=g(r.reject(new Error("transition aborted"))),A=g(r.reject(new Error("transition failed")));return C.locals={resolve:null,globals:{$stateParams:{}}},S={params:{},current:C.self,$current:C,transition:null},S.reload=function(e){return S.transitionTo(S.current,d,{reload:e||!0,inherit:!1,notify:!0})},S.go=function(e,t,n){return S.transitionTo(e,t,U({inherit:!0,relative:S.$current},n))},S.transitionTo=function(t,n,a){n=n||{},a=U({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},a||{});var o,c=S.$current,f=S.params,m=c.path,v=h(t,a.relative),b=n["#"];if(!z(v)){var y={to:t,toParams:n,options:a},$=w(y,c.self,f,a);if($)return $;if(t=y.to,n=y.toParams,a=y.options,v=h(t,a.relative),!z(v)){if(!a.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+a.relative+"'")}}if(v[T])throw new Error("Cannot transition to abstract state '"+t+"'");if(a.inherit&&(n=l(d,n||{},S.$current,v)),!v.params.$$validates(n))return A;n=v.params.$$values(n),t=v;var M=t.path,O=0,P=M[O],I=C.locals,R=[];if(a.reload){if(H(a.reload)||W(a.reload)){if(W(a.reload)&&!a.reload.name)throw new Error("Invalid reload state object");var N=!0===a.reload?m[0]:h(a.reload);if(a.reload&&!N)throw new Error("No such reload state '"+(H(a.reload)?a.reload:a.reload.name)+"'");for(;P&&P===m[O]&&P!==N;)I=R[O]=P.locals,O++,P=M[O]}}else for(;P&&P===m[O]&&P.ownParams.$$equals(n,f);)I=R[O]=P.locals,O++,P=M[O];if(k(t,n,c,f,I,a))return b&&(n["#"]=b),S.params=n,q(S.params,d),q(u(t.params.$$keys(),d),t.locals.globals.$stateParams),a.location&&t.navigable&&t.navigable.url&&(p.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===a.location}),p.update(!0)),S.transition=null,r.when(S.current);if(n=u(t.params.$$keys(),n||{}),b&&(n["#"]=b),a.notify&&e.$broadcast("$stateChangeStart",t.self,n,c.self,f,a).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,c.self,f),null==S.transition&&p.update(),E;for(var L=r.when(I),F=O;F<M.length;F++,P=M[F])I=R[F]=i(I),L=x(P,n,P===t,L,I,a);var j=S.transition=L.then(function(){var i,r,o;if(S.transition!==j)return e.$broadcast("$stateChangeCancel",t.self,n,c.self,f),D;for(i=m.length-1;i>=O;i--)o=m[i],o.self.onExit&&s.invoke(o.self.onExit,o.self,o.locals.globals),o.locals=null;for(i=O;i<M.length;i++)r=M[i],r.locals=R[i],r.self.onEnter&&s.invoke(r.self.onEnter,r.self,r.locals.globals);return S.transition!==j?(e.$broadcast("$stateChangeCancel",t.self,n,c.self,f),D):(S.$current=t,S.current=t.self,S.params=n,q(S.params,d),S.transition=null,a.location&&t.navigable&&p.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===a.location}),a.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,c.self,f),p.update(!0),S.current)}).then(null,function(i){return i===_?D:S.transition!==j?(e.$broadcast("$stateChangeCancel",t.self,n,c.self,f),D):(S.transition=null,o=e.$broadcast("$stateChangeError",t.self,n,c.self,f,i),o.defaultPrevented||p.update(),r.reject(i))});return g(j),j},S.is=function(e,t,i){i=U({relative:S.$current},i||{});var r=h(e,i.relative);return z(r)?S.$current===r&&(!t||o(t).reduce(function(e,n){var i=r.params[n];return e&&!i||i.type.equals(d[n],t[n])},!0)):n},S.includes=function(e,t,i){if(i=U({relative:S.$current},i||{}),H(e)&&b(e)){if(!y(e))return!1;e=S.$current.name}var r=h(e,i.relative);if(!z(r))return n;if(!z(S.$current.includes[r.name]))return!1;if(!t)return!0;for(var a=o(t),s=0;s<a.length;s++){var l=a[s],c=r.params[l];if(c&&!c.type.equals(d[l],t[l]))return!1}return o(t).reduce(function(e,n){var i=r.params[n];return e&&!i||i.type.equals(d[n],t[n])},!0)},S.href=function(e,t,i){i=U({lossy:!0,inherit:!0,absolute:!1,relative:S.$current},i||{});var r=h(e,i.relative);if(!z(r))return null;i.inherit&&(t=l(d,t||{},S.$current,r));var a=r&&i.lossy?r.navigable:r;return a&&a.url!==n&&null!==a.url?p.href(a.url,u(r.params.$$keys().concat("#"),t||{}),{absolute:i.absolute}):null},S.get=function(e,t){if(0===arguments.length)return f(o($),function(e){return $[e].self});var n=h(e,t||S.$current);return n&&n.self?n.self:null},S}function k(e,t,n,i,r,a){if(!a.reload&&e===n&&(r===n.locals||!1===e.self.reloadOnSearch&&function(e,t,n){function i(t){return"search"!=e.params[t].location}var r=e.params.$$keys().filter(i),a=d.apply({},[e.params].concat(r));return new K.ParamSet(a).$$equals(t,n)}(n,i,t)))return!0}var C,S,$={},D={},T="abstract",E={parent:function(e){if(z(e.parent)&&e.parent)return h(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?h(t[1]):C},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=i(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(H(t))return"^"==t.charAt(0)?r.compile(t.substring(1),n):(e.parent.navigable||C).url.concat(t,n);if(!t||r.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new K.ParamSet;return V(e.params||{},function(e,n){t[n]||(t[n]=new K.Param(n,null,e,"config"))}),t},params:function(e){var t=d(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?U(e.parent.params.$$new(),t):new K.ParamSet},views:function(e){var t={};return V(z(e.views)?e.views:{"":e},function(n,i){i.indexOf("@")<0&&(i+="@"+e.parent.name),n.resolveAs=n.resolveAs||e.resolveAs||"$resolve",t[i]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?U({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};C=v({name:"",url:"^",views:null,abstract:!0}),C.navigable=null,this.decorator=w,this.state=x,this.$get=_,_.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function C(){function e(e,t){return{load:function(e,n){var i;return n=U({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},n),n.view&&(i=t.fromConfig(n.view,n.params,n.locals)),i}}}this.$get=e,e.$inject=["$rootScope","$templateFactory"]}function S(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function $(e,n,i,r,a){function o(e,n){if(c)return{enter:function(e,n,i){t.version.minor>2?c.enter(e,null,n).then(i):c.enter(e,null,n,i)},leave:function(e,n){t.version.minor>2?c.leave(e).then(n):c.leave(e,n)}};if(l){var i=l&&l(n,e);return{enter:function(e,t,n){i.enter(e,null,t),n()},leave:function(e,t){i.leave(e),t()}}}return function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}}()}var s=function(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(e){return null}}}(),l=s("$animator"),c=s("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,s,l){return function(n,s,c){function u(){if(h&&(h.remove(),h=null),f&&(f.$destroy(),f=null),p){var e=p.data("$uiViewAnim");b.leave(p,function(){e.$$animLeave.resolve(),h=null}),h=p,p=null}}function d(o){var d,h=T(n,c,s,r),y=h&&e.$current&&e.$current.locals[h];if(o||y!==g){d=n.$new(),g=e.$current.locals[h],d.$emit("$viewContentLoading",h);var w=l(d,function(e){var r=a.defer(),o=a.defer(),l={$animEnter:r.promise,$animLeave:o.promise,$$animLeave:o};e.data("$uiViewAnim",l),b.enter(e,s,function(){r.resolve(),f&&f.$emit("$viewContentAnimationEnded"),(t.isDefined(v)&&!v||n.$eval(v))&&i(e)}),u()});p=w,f=d,f.$emit("$viewContentLoaded",h),f.$eval(m)}}var h,p,f,g,m=c.onload||"",v=c.autoscroll,b=o(c,n);s.inheritedData("$uiView");n.$on("$stateChangeSuccess",function(){d(!1)}),d(!0)}}}}function D(e,n,i,r){return{restrict:"ECA",priority:-400,compile:function(a){var o=a.html();return a.empty?a.empty():a[0].innerHTML=null,function(a,s,l){var c=i.$current,u=T(a,l,s,r),d=c&&c.locals[u];if(!d)return s.html(o),void e(s.contents())(a);s.data("$uiView",{name:u,state:d.$$state}),s.html(d.$template?d.$template:o);var h=t.extend({},d);a[d.$$resolveAs]=h;var p=e(s.contents());if(d.$$controller){d.$scope=a,d.$element=s;var f=n(d.$$controller,d);d.$$controllerAs&&(a[d.$$controllerAs]=f,a[d.$$controllerAs][d.$$resolveAs]=h),j(f.$onInit)&&f.$onInit(),s.data("$ngControllerController",f),s.children().data("$ngControllerController",f)}p(a)}}}}function T(e,t,n,i){var r=i(t.uiView||t.name||"")(e),a=n.inheritedData("$uiView");return r.indexOf("@")>=0?r:r+"@"+(a?a.state.name:"")}function E(e,t){var n,i=e.match(/^\s*({[^}]*})\s*$/);if(i&&(e=t+"("+i[1]+")"),!(n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/))||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function M(e){var t=e.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function A(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function O(e,t,n,i,r){return function(a){var o=a.which||a.button,s=r();if(!(o>1||a.ctrlKey||a.metaKey||a.shiftKey||e.attr("target"))){var l=n(function(){t.go(s.state,s.params,s.options)});a.preventDefault();var c=i.isAnchor&&!s.href?1:0;a.preventDefault=function(){c--<=0&&n.cancel(l)}}}}function P(e,t){return{relative:M(e)||t.$current,inherit:!0}}function I(e,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,r,a,o){var s,l=E(a.uiSref,e.current.name),c={state:l.state,href:null,params:null},u=A(r),d=o[1]||o[0],h=null;c.options=U(P(r,e),a.uiSrefOpts?i.$eval(a.uiSrefOpts):{});var p=function(n){n&&(c.params=t.copy(n)),c.href=e.href(l.state,c.params,c.options),h&&h(),d&&(h=d.$$addStateInfo(l.state,c.params)),null!==c.href&&a.$set(u.attr,c.href)};l.paramExpr&&(i.$watch(l.paramExpr,function(e){e!==c.params&&p(e)},!0),c.params=t.copy(i.$eval(l.paramExpr))),p(),u.clickable&&(s=O(r,e,n,u,function(){return c}),r[r.on?"on":"bind"]("click",s),i.$on("$destroy",function(){r[r.off?"off":"unbind"]("click",s)}))}}}function R(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,r,a){function o(t){h.state=t[0],h.params=t[1],h.options=t[2],h.href=e.href(h.state,h.params,h.options),p&&p(),c&&(p=c.$$addStateInfo(h.state,h.params)),h.href&&r.$set(l.attr,h.href)}var s,l=A(i),c=a[1]||a[0],u=[r.uiState,r.uiStateParams||null,r.uiStateOpts||null],d="["+u.map(function(e){return e||"null"}).join(", ")+"]",h={state:null,params:null,options:null,href:null},p=null;n.$watch(d,o,!0),o(n.$eval(d)),l.clickable&&(s=O(i,e,t,l,function(){return h}),i[i.on?"on":"bind"]("click",s),n.$on("$destroy",function(){i[i.off?"off":"unbind"]("click",s)}))}}}function N(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,i,r,a){function o(t,n,r){var a=e.get(t,M(i)),o=s(t,n),l={state:a||{name:t},params:n,hash:o};return g.push(l),m[o]=r,function(){var e=g.indexOf(l);-1!==e&&g.splice(e,1)}}function s(e,n){if(!H(e))throw new Error("state should be a string");return W(n)?e+Y(n):(n=t.$eval(n),W(n)?e+Y(n):e)}function l(){for(var e=0;e<g.length;e++)d(g[e].state,g[e].params)?c(i,m[g[e].hash]):u(i,m[g[e].hash]),h(g[e].state,g[e].params)?c(i,p):u(i,p)}function c(e,t){a(function(){e.addClass(t)})}function u(e,t){e.removeClass(t)}function d(t,n){return e.includes(t.name,n)}function h(t,n){return e.is(t.name,n)}var p,f,g=[],m={};p=n(r.uiSrefActiveEq||"",!1)(t);try{f=t.$eval(r.uiSrefActive)}catch(e){}f=f||n(r.uiSrefActive||"",!1)(t),W(f)&&V(f,function(n,i){if(H(n)){var r=E(n,e.current.name);o(r.state,t.$eval(r.paramExpr),i)}}),this.$$addStateInfo=function(e,t){if(!(W(f)&&g.length>0)){var n=o(e,t,f);return l(),n}},t.$on("$stateChangeSuccess",l),l()}]}}function L(e){var t=function(t,n){return e.is(t,n)};return t.$stateful=!0,t}function F(e){var t=function(t,n,i){return e.includes(t,n,i)};return t.$stateful=!0,t}var z=t.isDefined,j=t.isFunction,H=t.isString,W=t.isObject,B=t.isArray,V=t.forEach,U=t.extend,q=t.copy,Y=t.toJson;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),m.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",m),t.module("ui.router.util").provider("$templateFactory",v);var K;y.prototype.concat=function(e,t){var n={caseInsensitive:K.caseInsensitive(),strict:K.strictMode(),squash:K.defaultSquashPolicy()};return new y(this.sourcePath+e+this.sourceSearch,U(n,t),this)},y.prototype.toString=function(){return this.source},y.prototype.exec=function(e,t){var n=this.regexp.exec(e);if(!n)return null;t=t||{};var i,r,a,o=this.parameters(),s=o.length,l=this.segments.length-1,c={};if(l!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var u,d;for(i=0;i<l;i++){for(a=o[i],u=this.params[a],d=n[i+1],r=0;r<u.replace.length;r++)u.replace[r].from===d&&(d=u.replace[r].to);d&&!0===u.array&&(d=function(e){function t(e){return e.split("").reverse().join("")}function n(e){return e.replace(/\\-/g,"-")}return f(f(t(e).split(/-(?!\\)/),t),n).reverse()}(d)),z(d)&&(d=u.type.decode(d)),c[a]=u.value(d)}for(;i<s;i++){for(a=o[i],c[a]=this.params[a].value(t[a]),u=this.params[a],d=t[a],r=0;r<u.replace.length;r++)u.replace[r].from===d&&(d=u.replace[r].to);z(d)&&(d=u.type.decode(d)),c[a]=u.value(d)}return c},y.prototype.parameters=function(e){return z(e)?this.params[e]||null:this.$$paramNames},y.prototype.validates=function(e){return this.params.$$validates(e)},y.prototype.format=function(e){function t(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var n=this.segments,i=this.parameters(),r=this.params;if(!this.validates(e))return null;var a,o=!1,s=n.length-1,l=i.length,c=n[0];for(a=0;a<l;a++){var u=a<s,d=i[a],h=r[d],p=h.value(e[d]),g=h.isOptional&&h.type.equals(h.value(),p),m=!!g&&h.squash,v=h.type.encode(p);if(u){var b=n[a+1],y=a+1===s;if(!1===m)null!=v&&(B(v)?c+=f(v,t).join("-"):c+=encodeURIComponent(v)),c+=b;else if(!0===m){var w=c.match(/\/$/)?/\/?(.*)/:/(.*)/;c+=b.match(w)[1]}else H(m)&&(c+=m+b);y&&!0===h.squash&&"/"===c.slice(-1)&&(c=c.slice(0,-1))}else{if(null==v||g&&!1!==m)continue;if(B(v)||(v=[v]),0===v.length)continue;v=f(v,encodeURIComponent).join("&"+d+"="),c+=(o?"&":"?")+d+"="+v,o=!0}}return c},w.prototype.is=function(e,t){return!0},w.prototype.encode=function(e,t){return e},w.prototype.decode=function(e,t){return e},w.prototype.equals=function(e,t){return e==t},w.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},w.prototype.pattern=/.*/,w.prototype.toString=function(){return"{Type:"+this.name+"}"},w.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},w.prototype.$asArray=function(e,t){function i(e,t){function i(e,t){return function(){return e[t].apply(e,arguments)}}function r(e){return B(e)?e:z(e)?[e]:[]}function a(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function o(e){return!e}function s(e,t){return function(n){if(B(n)&&0===n.length)return n;n=r(n);var i=f(n,e);return!0===t?0===p(i,o).length:a(i)}}this.encode=s(i(e,"encode")),this.decode=s(i(e,"decode")),this.is=s(i(e,"is"),!0),this.equals=function(e){return function(t,n){
var i=r(t),a=r(n);if(i.length!==a.length)return!1;for(var o=0;o<i.length;o++)if(!e(i[o],a[o]))return!1;return!0}}(i(e,"equals")),this.pattern=e.pattern,this.$normalize=s(i(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new i(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",x),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),_.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",_),k.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",k).run(["$injector",function(e){e.get("$state.runtime").autoinject&&e.get("$state")}]),C.$inject=[],t.module("ui.router.state").provider("$view",C),t.module("ui.router.state").provider("$uiViewScroll",S),$.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],D.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",$),t.module("ui.router.state").directive("uiView",D),I.$inject=["$state","$timeout"],R.$inject=["$state","$timeout"],N.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",I).directive("uiSrefActive",N).directive("uiSrefActiveEq",N).directive("uiState",R),L.$inject=["$state"],F.$inject=["$state"],t.module("ui.router.state").filter("isState",L).filter("includedByState",F)}(window,window.angular),/*! angular-breadcrumb - v0.5.0
* http://ncuillery.github.io/angular-breadcrumb
* Copyright (c) 2016 Nicolas Cuillery; Licensed MIT */
function(e,t,n){"use strict";function i(e,n){return t.equals(e.length,n.length)?e>n:e.length>n.length}function r(e){var t=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!t||4!==t.length)throw new Error("Invalid state ref '"+e+"'");return{state:t[1],paramExpr:t[3]||null}}function a(e,t,i,r){var a=u[e];a!==n&&a(),a=t.$on(i,r),u[e]=a}function o(){var e={prefixStateName:null,template:"bootstrap3",templateUrl:null,templateLast:"default",templateLastUrl:null,includeAbstract:!1};this.setOptions=function(n){t.extend(e,n)},this.$get=["$state","$stateParams","$rootScope",function(t,o,s){var l=s;a("$Breadcrumb.$viewContentLoaded",s,"$viewContentLoaded",function(e){!e.targetScope.ncyBreadcrumbIgnore&&i(e.targetScope.$id,l.$id)&&(l=e.targetScope)});var c=function(e){var t=e.parent||(/^(.+)\.[^.]+$/.exec(e.name)||[])[1];return"object"==typeof t?t.name:t},u=function(n,i){for(var a,s,c=r(i),u=!1,d=!1,h=0,p=n.length;h<p;h+=1)if(n[h].name===c.state)return;a=t.get(c.state),a.ncyBreadcrumb&&(a.ncyBreadcrumb.force&&(u=!0),a.ncyBreadcrumb.skip&&(d=!0)),a.abstract&&!e.includeAbstract&&!u||d||(c.paramExpr&&(s=l.$eval(c.paramExpr)),a.ncyBreadcrumbLink=t.href(c.state,s||o||{}),a.ncyBreadcrumbStateRef=i,n.unshift(a))},d=function(e){var n=r(e),i=t.get(n.state);if(i.ncyBreadcrumb&&i.ncyBreadcrumb.parent){var a="function"==typeof i.ncyBreadcrumb.parent,o=a?i.ncyBreadcrumb.parent(l):i.ncyBreadcrumb.parent;if(o)return o}return c(i)};return{getTemplate:function(t){return e.templateUrl?null:t[e.template]?t[e.template]:e.template},getTemplateUrl:function(){return e.templateUrl},getTemplateLast:function(t){return e.templateLastUrl?null:t[e.templateLast]?t[e.templateLast]:e.templateLast},getTemplateLastUrl:function(){return e.templateLastUrl},getStatesChain:function(n){for(var i=[],r=t.$current.self.name;r;r=d(r))if(u(i,r),n&&i.length)return i;return e.prefixStateName&&u(i,e.prefixStateName),i},getLastStep:function(){var e=this.getStatesChain(!0);return e.length?e[0]:n},$getLastViewScope:function(){return l}}}]}function s(e,n,i){var r={bootstrap2:'<ul class="breadcrumb"><li ng-repeat="step in steps" ng-switch="$last || !!step.abstract" ng-class="{active: $last}"><a ng-switch-when="false" href="{{step.ncyBreadcrumbLink}}">{{step.ncyBreadcrumbLabel}}</a><span ng-switch-when="true">{{step.ncyBreadcrumbLabel}}</span><span class="divider" ng-hide="$last">/</span></li></ul>',bootstrap3:'<ol class="breadcrumb"><li ng-repeat="step in steps" ng-class="{active: $last}" ng-switch="$last || !!step.abstract"><a ng-switch-when="false" href="{{step.ncyBreadcrumbLink}}">{{step.ncyBreadcrumbLabel}}</a><span ng-switch-when="true">{{step.ncyBreadcrumbLabel}}</span></li></ol>'};return{restrict:"AE",replace:!0,scope:{},template:n.getTemplate(r),templateUrl:n.getTemplateUrl(),link:{post:function(r){var o=[],s=function(){p(o),o=[];var i=n.$getLastViewScope();r.steps=n.getStatesChain(),t.forEach(r.steps,function(t){if(t.ncyBreadcrumb&&t.ncyBreadcrumb.label){var n=e(t.ncyBreadcrumb.label);t.ncyBreadcrumbLabel=n(i),h(o,n,i,t)}else t.ncyBreadcrumbLabel=t.name})};a("BreadcrumbDirective.$viewContentLoaded",i,"$viewContentLoaded",function(e){e.targetScope.ncyBreadcrumbIgnore||s()}),s()}}}}function l(e,t,n){var i={default:"{{ncyBreadcrumbLabel}}"};return{restrict:"A",scope:{},template:t.getTemplateLast(i),templateUrl:t.getTemplateLastUrl(),compile:function(i,r){var o=i.attr(r.$attr.ncyBreadcrumbLast);return o&&i.html(o),{post:function(i){var r=[],o=function(){p(r),r=[];var n=t.$getLastViewScope(),a=t.getLastStep();if(a)if(i.ncyBreadcrumbLink=a.ncyBreadcrumbLink,a.ncyBreadcrumb&&a.ncyBreadcrumb.label){var o=e(a.ncyBreadcrumb.label);i.ncyBreadcrumbLabel=o(n),h(r,o,n,i)}else i.ncyBreadcrumbLabel=a.name};a("BreadcrumbLastDirective.$viewContentLoaded",n,"$viewContentLoaded",function(e){e.targetScope.ncyBreadcrumbIgnore||o()}),o()}}}}}function c(e,n,i){return{restrict:"A",scope:{},template:"{{ncyBreadcrumbChain}}",compile:function(r,o){var s=r.attr(o.$attr.ncyBreadcrumbText);s&&r.html(s);var l=r.attr(o.$attr.ncyBreadcrumbTextSeparator)||" / ";return{post:function(r){var o=[],s=function(e,n,i){t.forEach(d(n),function(t){var n=i.$watch(t,function(e,t){e!==t&&c()});e.push(n)})},c=function(){p(o),o=[];var i=n.$getLastViewScope(),a=n.getStatesChain(),c=[];t.forEach(a,function(t){if(t.ncyBreadcrumb&&t.ncyBreadcrumb.label){var n=e(t.ncyBreadcrumb.label);c.push(n(i)),s(o,n,i)}else c.push(t.name)}),r.ncyBreadcrumbChain=c.join(l)};a("BreadcrumbTextDirective.$viewContentLoaded",i,"$viewContentLoaded",function(e){e.targetScope.ncyBreadcrumbIgnore||c()}),c()}}}}}var u={},d=function(e){if(e.expressions)return e.expressions;var n=[];return t.forEach(e.parts,function(e){t.isFunction(e)&&n.push(e.exp)}),n},h=function(e,n,i,r){t.forEach(d(n),function(t){var a=i.$watch(t,function(){r.ncyBreadcrumbLabel=n(i)});e.push(a)})},p=function(e){t.forEach(e,function(e){e()})};s.$inject=["$interpolate","$breadcrumb","$rootScope"],l.$inject=["$interpolate","$breadcrumb","$rootScope"],c.$inject=["$interpolate","$breadcrumb","$rootScope"],t.module("ncy-angular-breadcrumb",["ui.router.state"]).provider("$breadcrumb",o).directive("ncyBreadcrumb",s).directive("ncyBreadcrumbLast",l).directive("ncyBreadcrumbText",c)}(window,window.angular),/**
 * @license AngularJS v1.6.9
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";function n(e,n,i){function r(e,i,r){var o,s;r=r||{},s=r.expires,o=t.isDefined(r.path)?r.path:a,t.isUndefined(i)&&(s="Thu, 01 Jan 1970 00:00:00 GMT",i=""),t.isString(s)&&(s=new Date(s));var l=encodeURIComponent(e)+"="+encodeURIComponent(i);l+=o?";path="+o:"",l+=r.domain?";domain="+r.domain:"",l+=s?";expires="+s.toUTCString():"",l+=r.secure?";secure":"";var c=l.length+1;return c>4096&&n.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+c+" > 4096 bytes)!"),l}var a=i.baseHref(),o=e[0];return function(e,t,n){o.cookie=r(e,t,n)}}t.module("ngCookies",["ng"]).info({angularVersion:"1.6.9"}).provider("$cookies",[function(){function e(e){return e?t.extend({},n,e):n}var n=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(n,i){return{get:function(e){return n()[e]},getObject:function(e){var n=this.get(e);return n?t.fromJson(n):n},getAll:function(){return n()},put:function(t,n,r){i(t,n,e(r))},putObject:function(e,n,i){this.put(e,t.toJson(n),i)},remove:function(t,n){i(t,void 0,e(n))}}}]}]),t.module("ngCookies").factory("$cookieStore",["$cookies",function(e){return{get:function(t){return e.getObject(t)},put:function(t,n){e.putObject(t,n)},remove:function(t){e.remove(t)}}}]),n.$inject=["$document","$log","$browser"],t.module("ngCookies").provider("$$cookieWriter",function(){this.$get=n})}(window,window.angular),function(e,t){"use strict";e.module("platanus.inflector",[]).provider("inflector",[function(){function e(e,t,n){if(-1===n.indexOf(e.toLowerCase()))for(var i,r=0;t.length>r;)if(i=t[r++],e.match(i[0]))return e.replace(i[0],i[1]);return e}var t="en",n={en:{uncountable:["music","art","love","happiness","advice","furniture","luggage","sugar","butter","water","electricity","gas","power","currency","equipment","information","rice","money","species","series","fish","sheep","moose","deer","news"],plural:[[new RegExp("(m)an$","gi"),"$1en"],[new RegExp("(pe)rson$","gi"),"$1ople"],[new RegExp("(child)$","gi"),"$1ren"],[new RegExp("^(ox)$","gi"),"$1en"],[new RegExp("(ax|test)is$","gi"),"$1es"],[new RegExp("(alias|status)$","gi"),"$1es"],[new RegExp("(vir|octop)us$","gi"),"$1uses"],[new RegExp("(bu)s$","gi"),"$1ses"],[new RegExp("(buffal|tomat|potat)o$","gi"),"$1oes"],[new RegExp("([ti])um$","gi"),"$1a"],[new RegExp("sis$","gi"),"ses"],[new RegExp("(?:([^f])fe|([lr])f)$","gi"),"$1$2ves"],[new RegExp("(hive)$","gi"),"$1s"],[new RegExp("([^aeiouy]|qu)y$","gi"),"$1ies"],[new RegExp("(x|ch|ss|sh)$","gi"),"$1es"],[new RegExp("(matr|vert|ind)ix|ex$","gi"),"$1ices"],[new RegExp("([m|l])ouse$","gi"),"$1ice"],[new RegExp("(quiz)$","gi"),"$1zes"],[new RegExp("s$","gi"),"s"],[new RegExp("$","gi"),"s"]],singular:[[new RegExp("(m)en$","gi"),"$1an"],[new RegExp("(pe)ople$","gi"),"$1rson"],[new RegExp("(child)ren$","gi"),"$1"],[new RegExp("([ti])a$","gi"),"$1um"],[new RegExp("((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$","gi"),"$1$2sis"],[new RegExp("(hive)s$","gi"),"$1"],[new RegExp("(tive)s$","gi"),"$1"],[new RegExp("(curve)s$","gi"),"$1"],[new RegExp("([lr])ves$","gi"),"$1f"],[new RegExp("([^fo])ves$","gi"),"$1fe"],[new RegExp("([^aeiouy]|qu)ies$","gi"),"$1y"],[new RegExp("(s)eries$","gi"),"$1eries"],[new RegExp("(m)ovies$","gi"),"$1ovie"],[new RegExp("(x|ch|ss|sh)es$","gi"),"$1"],[new RegExp("([m|l])ice$","gi"),"$1ouse"],[new RegExp("(bus)es$","gi"),"$1"],[new RegExp("(o)es$","gi"),"$1"],[new RegExp("(shoe)s$","gi"),"$1"],[new RegExp("(cris|ax|test)es$","gi"),"$1is"],[new RegExp("(octop|vir)i$","gi"),"$1us"],[new RegExp("(octop)odes$","gi"),"$1us"],[new RegExp("(alias|status|virus|octopus)es$","gi"),"$1"],[new RegExp("^(ox)en","gi"),"$1"],[new RegExp("(vert|ind)ices$","gi"),"$1ex"],[new RegExp("(matr)ices$","gi"),"$1ix"],[new RegExp("(quiz)zes$","gi"),"$1"],[new RegExp("s$","gi"),""]]}};return{registerLocale:function(e,t){n[e]=t},setLocale:function(e){t=e},$get:["$log",function(i){function r(e){e=e||t;var r=n[e];return r||i.warn("Invalid inflector locale "+e),r}return{camelize:function(e,t){return"string"!=typeof e?e:e.replace(/(?:^[-_\s]*|[-_\s]+)([A-Z\d])/gi,function(e,n,i){return t||0!==i?n.toUpperCase():n.toLowerCase()})},parameterize:function(e,t){return"string"!=typeof e?e:e.replace(/(?:[A-Z]+|[0-9]+)/g,function(e,n){return 0===n?e:(t||"-")+e}).toLowerCase()},dasherize:function(e,t){return e.replace(/[-_\s]+/g,t||"-")},singularize:function(t,n){var i=r(n);return i?e(t,i.singular,i.uncountable):t},pluralize:function(t,n){var i=r(n);return i?e(t,i.plural,i.uncountable):t}}}]}}])}(angular),/**
 * @license AngularJS v1.6.9
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";function n(){function e(e,t){if(e)return r(e)?e.indexOf(t)>=0:e.hasOwnProperty(t)}return["$animate",function(t){return{restrict:"AE",transclude:"element",priority:1,terminal:!0,require:"^^ngMessages",link:function(n,i,a,o,s){var l,c=i[0],u=a.ngMessage||a.when,d=a.ngMessageExp||a.whenExp,h=function(e){l=e?r(e)?e:e.split(/[\s,]+/):null,o.reRender()};d?(h(n.$eval(d)),n.$watchCollection(d,h)):h(u);var p,f;o.register(c,f={test:function(t){return e(l,t)},attach:function(){p||s(function(e,n){t.enter(e,null,i),p=e;var r=p.$$attachId=o.getAttachId();p.on("$destroy",function(){p&&p.$$attachId===r&&(o.deregister(c),f.detach()),n.$destroy()})})},detach:function(){if(p){var e=p;p=null,t.leave(e)}}}),n.$on("$destroy",function(){o.deregister(c)})}}}]}var i,r,a,o;t.module("ngMessages",[],function(){i=t.forEach,r=t.isArray,a=t.isString,o=t.element}).info({angularVersion:"1.6.9"}).directive("ngMessages",["$animate",function(e){function t(e,t){return a(t)&&0===t.length||n(e.$eval(t))}function n(e){return a(e)?e.length:!!e}return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(r,a,o){function s(e,t){for(var n=t,i=[];n&&n!==e;){var r=n.$$ngMessageNode;if(r&&r.length)return g[r];n.childNodes.length&&-1===i.indexOf(n)?(i.push(n),n=n.childNodes[n.childNodes.length-1]):n.previousSibling?n=n.previousSibling:(n=n.parentNode,i.push(n))}}function l(e,t,n){var i=g[n];if(u.head){var r=s(e,t);r?(i.next=r.next,r.next=i):(i.next=u.head,u.head=i)}else u.head=i}function c(e,t,n){var i=g[n];if(i){var r=s(e,t);r?r.next=i.next:u.head=i.next}}var u=this,d=0,h=0;this.getAttachId=function(){return h++};var p,f,g=this.messages={};this.render=function(s){s=s||{},p=!1,f=s;for(var l=t(a,o.ngMessagesMultiple)||t(a,o.multiple),c=[],d={},h=u.head,g=!1,m=0;null!=h;){m++;var v=h.message,b=!1;g||i(s,function(e,t){if(!b&&n(e)&&v.test(t)){if(d[t])return;d[t]=!0,b=!0,v.attach()}}),b?g=!l:c.push(v),h=h.next}i(c,function(e){e.detach()}),c.length!==m?e.setClass(r,"ng-active","ng-inactive"):e.setClass(r,"ng-inactive","ng-active")},a.$watchCollection(o.ngMessages||o.for,u.render),this.reRender=function(){p||(p=!0,a.$evalAsync(function(){p&&f&&u.render(f)}))},this.register=function(e,t){var n=d.toString();g[n]={message:t},l(r[0],e,n),e.$$ngMessageNode=n,d++,u.reRender()},this.deregister=function(e){var t=e.$$ngMessageNode;delete e.$$ngMessageNode,c(r[0],e,t),delete g[t],u.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(e,t,n){function i(e,i){var r=n.$$createComment?n.$$createComment("ngMessagesInclude",i):t[0].createComment(" ngMessagesInclude: "+i+" "),a=o(r);e.after(a),e.remove()}return{restrict:"AE",require:"^^ngMessages",link:function(t,r,o){var s=o.ngMessagesInclude||o.src;e(s).then(function(e){t.$$destroyed||(a(e)&&!e.trim()?i(r,s):n(e)(t,function(e){r.after(e),i(r,s)}))})}}}]).directive("ngMessage",n()).directive("ngMessageExp",n())}(window,window.angular),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return $i.apply(null,arguments)}function t(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function r(e){return void 0===e}function a(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function s(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,n,i){return kt(e,t,n,i,!0).utc()}function d(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function h(e){return null==e._pf&&(e._pf=d()),e._pf}function p(e){if(null==e._isValid){var t=h(e),n=Di.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function f(e){var t=u(NaN);return null!=e?c(h(t),e):h(t).userInvalidated=!0,t}function g(e,t){var n,i,a;if(r(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),r(t._i)||(e._i=t._i),r(t._f)||(e._f=t._f),r(t._l)||(e._l=t._l),r(t._strict)||(e._strict=t._strict),r(t._tzm)||(e._tzm=t._tzm),r(t._isUTC)||(e._isUTC=t._isUTC),r(t._offset)||(e._offset=t._offset),r(t._pf)||(e._pf=h(t)),r(t._locale)||(e._locale=t._locale),Ti.length>0)for(n=0;n<Ti.length;n++)i=Ti[n],a=t[i],r(a)||(e[i]=a);return e}function m(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Ei&&(Ei=!0,e.updateOffset(this),Ei=!1)}function v(e){return e instanceof m||null!=e&&null!=e._isAMomentObject}function b(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function y(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=b(t)),n}function w(e,t,n){var i,r=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&y(e[i])!==y(t[i]))&&o++;return o+a}function x(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function _(t,n){var i=!0;return c(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),i){for(var r,a=[],o=0;o<arguments.length;o++){if(r="","object"==typeof arguments[o]){r+="\n["+o+"] ";for(var s in arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[o];a.push(r)}x(t+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function k(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),Mi[t]||(x(n),Mi[t]=!0)}function C(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function S(e){var t,n;for(n in e)t=e[n],C(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function $(e,t){var i,r=c({},e);for(i in t)l(t,i)&&(n(e[i])&&n(t[i])?(r[i]={},c(r[i],e[i]),c(r[i],t[i])):null!=t[i]?r[i]=t[i]:delete r[i]);for(i in e)l(e,i)&&!l(t,i)&&n(e[i])&&(r[i]=c({},r[i]));return r}function D(e){null!=e&&this.set(e)}function T(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return C(i)?i.call(t,n):i}function E(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function M(){return this._invalidDate}function A(e){return this._ordinal.replace("%d",e)}function O(e,t,n,i){var r=this._relativeTime[n];return C(r)?r(e,t,n,i):r.replace(/%d/i,e)}function P(e,t){var n=this._relativeTime[e>0?"future":"past"];return C(n)?n(t):n.replace(/%s/i,t)}function I(e,t){var n=e.toLowerCase();Ni[n]=Ni[n+"s"]=Ni[t]=e}function R(e){return"string"==typeof e?Ni[e]||Ni[e.toLowerCase()]:void 0}function N(e){var t,n,i={};for(n in e)l(e,n)&&(t=R(n))&&(i[t]=e[n]);return i}function L(e,t){Li[e]=t}function F(e){var t=[];for(var n in e)t.push({unit:n,priority:Li[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function z(e,t,n){var i=""+Math.abs(e),r=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function j(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(Hi[e]=r),t&&(Hi[t[0]]=function(){return z(r.apply(this,arguments),t[1],t[2])}),n&&(Hi[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function H(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function W(e){var t,n,i=e.match(Fi);for(t=0,n=i.length;t<n;t++)Hi[i[t]]?i[t]=Hi[i[t]]:i[t]=H(i[t]);return function(t){var r,a="";for(r=0;r<n;r++)a+=C(i[r])?i[r].call(t,e):i[r];return a}}function B(e,t){return e.isValid()?(t=V(t,e.localeData()),ji[t]=ji[t]||W(t),ji[t](e)):e.localeData().invalidDate()}function V(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(zi.lastIndex=0;i>=0&&zi.test(e);)e=e.replace(zi,n),zi.lastIndex=0,i-=1;return e}function U(e,t,n){ar[e]=C(t)?t:function(e,i){return e&&n?n:t}}function q(e,t){return l(ar,e)?ar[e](t._strict,t._locale):new RegExp(Y(e))}function Y(e){return K(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}))}function K(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function G(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),a(t)&&(i=function(e,n){n[t]=y(e)}),n=0;n<e.length;n++)or[e[n]]=i}function X(e,t){G(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function J(e,t,n){null!=t&&l(or,e)&&or[e](t,n._a,n,e)}function Z(e){return Q(e)?366:365}function Q(e){return e%4==0&&e%100!=0||e%400==0}function ee(){return Q(this.year())}function te(t,n){return function(i){return null!=i?(ie(this,t,i),e.updateOffset(this,n),this):ne(this,t)}}function ne(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function ie(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Q(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),se(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function re(e){return e=R(e),C(this[e])?this[e]():this}function ae(e,t){if("object"==typeof e){e=N(e);for(var n=F(e),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit])}else if(e=R(e),C(this[e]))return this[e](t);return this}function oe(e,t){return(e%t+t)%t}function se(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=oe(t,12);return e+=(t-n)/12,1===n?Q(e)?29:28:31-n%7%2}function le(e,n){return e?t(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||br).test(n)?"format":"standalone"][e.month()]:t(this._months)?this._months:this._months.standalone}function ce(e,n){return e?t(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[br.test(n)?"format":"standalone"][e.month()]:t(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ue(e,t,n){var i,r,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)a=u([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?(r=mr.call(this._shortMonthsParse,o),-1!==r?r:null):(r=mr.call(this._longMonthsParse,o),-1!==r?r:null):"MMM"===t?-1!==(r=mr.call(this._shortMonthsParse,o))?r:(r=mr.call(this._longMonthsParse,o),-1!==r?r:null):-1!==(r=mr.call(this._longMonthsParse,o))?r:(r=mr.call(this._shortMonthsParse,o),-1!==r?r:null)}function de(e,t,n){var i,r,a;if(this._monthsParseExact)return ue.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=u([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(a="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function he(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=y(t);else if(t=e.localeData().monthsParse(t),!a(t))return e;return n=Math.min(e.date(),se(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function pe(t){return null!=t?(he(this,t),e.updateOffset(this,!0),this):ne(this,"Month")}function fe(){return se(this.year(),this.month())}function ge(e){return this._monthsParseExact?(l(this,"_monthsRegex")||ve.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=xr),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function me(e){return this._monthsParseExact?(l(this,"_monthsRegex")||ve.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=_r),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ve(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],a=[];for(t=0;t<12;t++)n=u([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),a.sort(e),t=0;t<12;t++)i[t]=K(i[t]),r[t]=K(r[t]);for(t=0;t<24;t++)a[t]=K(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function be(e,t,n,i,r,a,o){var s=new Date(e,t,n,i,r,a,o);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function ye(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function we(e,t,n){var i=7+t-n;return-(7+ye(e,0,i).getUTCDay()-t)%7+i-1}function xe(e,t,n,i,r){var a,o,s=(7+n-i)%7,l=we(e,i,r),c=1+7*(t-1)+s+l;return c<=0?(a=e-1,o=Z(a)+c):c>Z(e)?(a=e+1,o=c-Z(e)):(a=e,o=c),{year:a,dayOfYear:o}}function _e(e,t,n){var i,r,a=we(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?(r=e.year()-1,i=o+ke(r,t,n)):o>ke(e.year(),t,n)?(i=o-ke(e.year(),t,n),r=e.year()+1):(r=e.year(),i=o),{week:i,year:r}}function ke(e,t,n){var i=we(e,t,n),r=we(e+1,t,n);return(Z(e)-i+r)/7}function Ce(e){return _e(e,this._week.dow,this._week.doy).week}function Se(){return this._week.dow}function $e(){return this._week.doy}function De(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Te(e){var t=_e(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ee(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Me(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ae(e,n){return e?t(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(n)?"format":"standalone"][e.day()]:t(this._weekdays)?this._weekdays:this._weekdays.standalone}function Oe(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Pe(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ie(e,t,n){var i,r,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)a=u([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?(r=mr.call(this._weekdaysParse,o),-1!==r?r:null):"ddd"===t?(r=mr.call(this._shortWeekdaysParse,o),-1!==r?r:null):(r=mr.call(this._minWeekdaysParse,o),-1!==r?r:null):"dddd"===t?-1!==(r=mr.call(this._weekdaysParse,o))?r:-1!==(r=mr.call(this._shortWeekdaysParse,o))?r:(r=mr.call(this._minWeekdaysParse,o),-1!==r?r:null):"ddd"===t?-1!==(r=mr.call(this._shortWeekdaysParse,o))?r:-1!==(r=mr.call(this._weekdaysParse,o))?r:(r=mr.call(this._minWeekdaysParse,o),-1!==r?r:null):-1!==(r=mr.call(this._minWeekdaysParse,o))?r:-1!==(r=mr.call(this._weekdaysParse,o))?r:(r=mr.call(this._shortWeekdaysParse,o),-1!==r?r:null)}function Re(e,t,n){var i,r,a;if(this._weekdaysParseExact)return Ie.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=u([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(a="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}}function Ne(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ee(e,this.localeData()),this.add(e-t,"d")):t}function Le(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Fe(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Me(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function ze(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||We.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Dr),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function je(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||We.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Tr),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function He(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||We.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Er),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function We(){function e(e,t){return t.length-e.length}var t,n,i,r,a,o=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=u([2e3,1]).day(t),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),a=this.weekdays(n,""),o.push(i),s.push(r),l.push(a),c.push(i),c.push(r),c.push(a);for(o.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)s[t]=K(s[t]),l[t]=K(l[t]),c[t]=K(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Be(){return this.hours()%12||12}function Ve(){return this.hours()||24}function Ue(e,t){j(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function qe(e,t){return t._meridiemParse}function Ye(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ke(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Ge(e){return e?e.toLowerCase().replace("_","-"):e}function Xe(e){for(var t,n,i,r,a=0;a<e.length;){for(r=Ge(e[a]).split("-"),t=r.length,n=Ge(e[a+1]),n=n?n.split("-"):null;t>0;){if(i=Je(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&w(r,n,!0)>=t-1)break;t--}a++}return Mr}function Je(e){var t=null;if(!Ir[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Mr._abbr;require("./locale/"+e),Ze(t)}catch(e){}return Ir[e]}function Ze(e,t){var n;return e&&(n=r(t)?tt(e):Qe(e,t),n?Mr=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Mr._abbr}function Qe(e,t){if(null!==t){var n,i=Pr;if(t.abbr=e,null!=Ir[e])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Ir[e]._config;else if(null!=t.parentLocale)if(null!=Ir[t.parentLocale])i=Ir[t.parentLocale]._config;else{if(null==(n=Je(t.parentLocale)))return Rr[t.parentLocale]||(Rr[t.parentLocale]=[]),Rr[t.parentLocale].push({name:e,config:t}),null;i=n._config}return Ir[e]=new D($(i,t)),Rr[e]&&Rr[e].forEach(function(e){Qe(e.name,e.config)}),Ze(e),Ir[e]}return delete Ir[e],null}function et(e,t){if(null!=t){var n,i,r=Pr;i=Je(e),null!=i&&(r=i._config),t=$(r,t),n=new D(t),n.parentLocale=Ir[e],Ir[e]=n,Ze(e)}else null!=Ir[e]&&(null!=Ir[e].parentLocale?Ir[e]=Ir[e].parentLocale:null!=Ir[e]&&delete Ir[e]);return Ir[e]}function tt(e){var n;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Mr;if(!t(e)){if(n=Je(e))return n;e=[e]}return Xe(e)}function nt(){return Ai(Ir)}function it(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[lr]<0||n[lr]>11?lr:n[cr]<1||n[cr]>se(n[sr],n[lr])?cr:n[ur]<0||n[ur]>24||24===n[ur]&&(0!==n[dr]||0!==n[hr]||0!==n[pr])?ur:n[dr]<0||n[dr]>59?dr:n[hr]<0||n[hr]>59?hr:n[pr]<0||n[pr]>999?pr:-1,h(e)._overflowDayOfYear&&(t<sr||t>cr)&&(t=cr),h(e)._overflowWeeks&&-1===t&&(t=fr),h(e)._overflowWeekday&&-1===t&&(t=gr),h(e).overflow=t),e}function rt(e,t,n){return null!=e?e:null!=t?t:n}function at(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ot(e){var t,n,i,r,a,o=[];if(!e._d){for(i=at(e),e._w&&null==e._a[cr]&&null==e._a[lr]&&st(e),null!=e._dayOfYear&&(a=rt(e._a[sr],i[sr]),(e._dayOfYear>Z(a)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),n=ye(a,0,e._dayOfYear),e._a[lr]=n.getUTCMonth(),e._a[cr]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ur]&&0===e._a[dr]&&0===e._a[hr]&&0===e._a[pr]&&(e._nextDay=!0,e._a[ur]=0),e._d=(e._useUTC?ye:be).apply(null,o),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ur]=24),e._w&&void 0!==e._w.d&&e._w.d!==r&&(h(e).weekdayMismatch=!0)}}function st(e){var t,n,i,r,a,o,s,l;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)a=1,o=4,n=rt(t.GG,e._a[sr],_e(Ct(),1,4).year),i=rt(t.W,1),((r=rt(t.E,1))<1||r>7)&&(l=!0);else{a=e._locale._week.dow,o=e._locale._week.doy;var c=_e(Ct(),a,o);n=rt(t.gg,e._a[sr],c.year),i=rt(t.w,c.week),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+a,(t.e<0||t.e>6)&&(l=!0)):r=a}i<1||i>ke(n,a,o)?h(e)._overflowWeeks=!0:null!=l?h(e)._overflowWeekday=!0:(s=xe(n,i,r,a,o),e._a[sr]=s.year,e._dayOfYear=s.dayOfYear)}function lt(e){var t,n,i,r,a,o,s=e._i,l=Nr.exec(s)||Lr.exec(s);if(l){for(h(e).iso=!0,t=0,n=zr.length;t<n;t++)if(zr[t][1].exec(l[1])){r=zr[t][0],i=!1!==zr[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=jr.length;t<n;t++)if(jr[t][1].exec(l[3])){a=(l[2]||" ")+jr[t][0];break}if(null==a)return void(e._isValid=!1)}if(!i&&null!=a)return void(e._isValid=!1);if(l[4]){if(!Fr.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=r+(a||"")+(o||""),mt(e)}else e._isValid=!1}function ct(e,t,n,i,r,a){var o=[ut(e),wr.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return a&&o.push(parseInt(a,10)),o}function ut(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function dt(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function ht(e,t,n){if(e){if(Sr.indexOf(e)!==new Date(t[0],t[1],t[2]).getDay())return h(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function pt(e,t,n){if(e)return Br[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}function ft(e){var t=Wr.exec(dt(e._i));if(t){var n=ct(t[4],t[3],t[2],t[5],t[6],t[7]);if(!ht(t[1],n,e))return;e._a=n,e._tzm=pt(t[8],t[9],t[10]),e._d=ye.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function gt(t){var n=Hr.exec(t._i);if(null!==n)return void(t._d=new Date(+n[1]));lt(t),!1===t._isValid&&(delete t._isValid,ft(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))}function mt(t){if(t._f===e.ISO_8601)return void lt(t);if(t._f===e.RFC_2822)return void ft(t);t._a=[],h(t).empty=!0;var n,i,r,a,o,s=""+t._i,l=s.length,c=0;for(r=V(t._f,t._locale).match(Fi)||[],n=0;n<r.length;n++)a=r[n],i=(s.match(q(a,t))||[])[0],i&&(o=s.substr(0,s.indexOf(i)),o.length>0&&h(t).unusedInput.push(o),s=s.slice(s.indexOf(i)+i.length),c+=i.length),Hi[a]?(i?h(t).empty=!1:h(t).unusedTokens.push(a),J(a,i,t)):t._strict&&!i&&h(t).unusedTokens.push(a);h(t).charsLeftOver=l-c,s.length>0&&h(t).unusedInput.push(s),t._a[ur]<=12&&!0===h(t).bigHour&&t._a[ur]>0&&(h(t).bigHour=void 0),h(t).parsedDateParts=t._a.slice(0),h(t).meridiem=t._meridiem,t._a[ur]=vt(t._locale,t._a[ur],t._meridiem),ot(t),it(t)}function vt(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&t<12&&(t+=12),i||12!==t||(t=0),t):t}function bt(e){var t,n,i,r,a;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)a=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],mt(t),p(t)&&(a+=h(t).charsLeftOver,a+=10*h(t).unusedTokens.length,h(t).score=a,(null==i||a<i)&&(i=a,n=t));c(e,n||t)}function yt(e){if(!e._d){var t=N(e._i);e._a=s([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ot(e)}}function wt(e){var t=new m(it(xt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function xt(e){var n=e._i,i=e._f;return e._locale=e._locale||tt(e._l),null===n||void 0===i&&""===n?f({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),v(n)?new m(it(n)):(o(n)?e._d=n:t(i)?bt(e):i?mt(e):_t(e),p(e)||(e._d=null),e))}function _t(i){var l=i._i;r(l)?i._d=new Date(e.now()):o(l)?i._d=new Date(l.valueOf()):"string"==typeof l?gt(i):t(l)?(i._a=s(l.slice(0),function(e){return parseInt(e,10)}),ot(i)):n(l)?yt(i):a(l)?i._d=new Date(l):e.createFromInputFallback(i)}function kt(e,r,a,o,s){var l={};return!0!==a&&!1!==a||(o=a,a=void 0),(n(e)&&i(e)||t(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=a,l._i=e,l._f=r,l._strict=o,wt(l)}function Ct(e,t,n,i){return kt(e,t,n,i,!1)}function St(e,n){var i,r;if(1===n.length&&t(n[0])&&(n=n[0]),!n.length)return Ct();for(i=n[0],r=1;r<n.length;++r)n[r].isValid()&&!n[r][e](i)||(i=n[r]);return i}function $t(){return St("isBefore",[].slice.call(arguments,0))}function Dt(){return St("isAfter",[].slice.call(arguments,0))}function Tt(e){for(var t in e)if(-1===mr.call(Yr,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<Yr.length;++i)if(e[Yr[i]]){if(n)return!1;parseFloat(e[Yr[i]])!==y(e[Yr[i]])&&(n=!0)}return!0}function Et(){return this._isValid}function Mt(){return Gt(NaN)}function At(e){var t=N(e),n=t.year||0,i=t.quarter||0,r=t.month||0,a=t.week||0,o=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=Tt(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+o+7*a,this._months=+r+3*i+12*n,this._data={},this._locale=tt(),this._bubble()}function Ot(e){return e instanceof At}function Pt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function It(e,t){j(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+z(~~(e/60),2)+t+z(~~e%60,2)})}function Rt(e,t){var n=(t||"").match(e);if(null===n)return null;var i=n[n.length-1]||[],r=(i+"").match(Kr)||["-",0,0],a=60*r[1]+y(r[2]);return 0===a?0:"+"===r[0]?a:-a}function Nt(t,n){var i,r;return n._isUTC?(i=n.clone(),r=(v(t)||o(t)?t.valueOf():Ct(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),e.updateOffset(i,!1),i):Ct(t).local()}function Lt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ft(t,n,i){var r,a=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Rt(nr,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&n&&(r=Lt(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),a!==t&&(!n||this._changeInProgress?en(this,Gt(t-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:Lt(this)}function zt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function jt(e){return this.utcOffset(0,e)}function Ht(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Lt(this),"m")),this}function Wt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Rt(tr,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Bt(e){return!!this.isValid()&&(e=e?Ct(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function Vt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ut(){if(!r(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),e=xt(e),e._a){var t=e._isUTC?u(e._a):Ct(e._a);this._isDSTShifted=this.isValid()&&w(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function qt(){return!!this.isValid()&&!this._isUTC}function Yt(){return!!this.isValid()&&this._isUTC}function Kt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Gt(e,t){var n,i,r,o=e,s=null;return Ot(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(o={},t?o[t]=e:o.milliseconds=e):(s=Gr.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:y(s[cr])*n,h:y(s[ur])*n,m:y(s[dr])*n,s:y(s[hr])*n,ms:y(Pt(1e3*s[pr]))*n}):(s=Xr.exec(e))?(n="-"===s[1]?-1:(s[1],1),o={y:Xt(s[2],n),M:Xt(s[3],n),w:Xt(s[4],n),d:Xt(s[5],n),h:Xt(s[6],n),m:Xt(s[7],n),s:Xt(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=Zt(Ct(o.from),Ct(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new At(o),Ot(e)&&l(e,"_locale")&&(i._locale=e._locale),i}function Xt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Jt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Zt(e,t){var n;return e.isValid()&&t.isValid()?(t=Nt(t,e),e.isBefore(t)?n=Jt(e,t):(n=Jt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Qt(e,t){return function(n,i){var r,a;return null===i||isNaN(+i)||(k(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=i,i=a),n="string"==typeof n?+n:n,r=Gt(n,i),en(this,r,e),this}}function en(t,n,i,r){var a=n._milliseconds,o=Pt(n._days),s=Pt(n._months);t.isValid()&&(r=null==r||r,s&&he(t,ne(t,"Month")+s*i),o&&ie(t,"Date",ne(t,"Date")+o*i),a&&t._d.setTime(t._d.valueOf()+a*i),r&&e.updateOffset(t,o||s))}function tn(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function nn(t,n){var i=t||Ct(),r=Nt(i,this).startOf("day"),a=e.calendarFormat(this,r)||"sameElse",o=n&&(C(n[a])?n[a].call(this,i):n[a]);return this.format(o||this.localeData().calendar(a,this,Ct(i)))}function rn(){return new m(this)}function an(e,t){var n=v(e)?e:Ct(e);return!(!this.isValid()||!n.isValid())&&(t=R(r(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function on(e,t){var n=v(e)?e:Ct(e);return!(!this.isValid()||!n.isValid())&&(t=R(r(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function sn(e,t,n,i){
return i=i||"()",("("===i[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))}function ln(e,t){var n,i=v(e)?e:Ct(e);return!(!this.isValid()||!i.isValid())&&(t=R(t||"millisecond"),"millisecond"===t?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function cn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function un(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function dn(e,t,n){var i,r,a;if(!this.isValid())return NaN;if(i=Nt(e,this),!i.isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=R(t)){case"year":a=hn(this,i)/12;break;case"month":a=hn(this,i);break;case"quarter":a=hn(this,i)/3;break;case"second":a=(this-i)/1e3;break;case"minute":a=(this-i)/6e4;break;case"hour":a=(this-i)/36e5;break;case"day":a=(this-i-r)/864e5;break;case"week":a=(this-i-r)/6048e5;break;default:a=this-i}return n?a:b(a)}function hn(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(r,"months");return t-a<0?(n=e.clone().add(r-1,"months"),i=(t-a)/(a-n)):(n=e.clone().add(r+1,"months"),i=(t-a)/(n-a)),-(r+i)||0}function pn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function fn(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?B(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):C(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",B(n,"Z")):B(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function gn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=t+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)}function mn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=B(this,t);return this.localeData().postformat(n)}function vn(e,t){return this.isValid()&&(v(e)&&e.isValid()||Ct(e).isValid())?Gt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function bn(e){return this.from(Ct(),e)}function yn(e,t){return this.isValid()&&(v(e)&&e.isValid()||Ct(e).isValid())?Gt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function wn(e){return this.to(Ct(),e)}function xn(e){var t;return void 0===e?this._locale._abbr:(t=tt(e),null!=t&&(this._locale=t),this)}function _n(){return this._locale}function kn(e){switch(e=R(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function Cn(e){return void 0===(e=R(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function Sn(){return this._d.valueOf()-6e4*(this._offset||0)}function $n(){return Math.floor(this.valueOf()/1e3)}function Dn(){return new Date(this.valueOf())}function Tn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function En(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Mn(){return this.isValid()?this.toISOString():null}function An(){return p(this)}function On(){return c({},h(this))}function Pn(){return h(this).overflow}function In(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Rn(e,t){j(0,[e,e.length],0,t)}function Nn(e){return jn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ln(e){return jn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Fn(){return ke(this.year(),1,4)}function zn(){var e=this.localeData()._week;return ke(this.year(),e.dow,e.doy)}function jn(e,t,n,i,r){var a;return null==e?_e(this,i,r).year:(a=ke(e,i,r),t>a&&(t=a),Hn.call(this,e,t,n,i,r))}function Hn(e,t,n,i,r){var a=xe(e,t,n,i,r),o=ye(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Wn(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Bn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Vn(e,t){t[pr]=y(1e3*("0."+e))}function Un(){return this._isUTC?"UTC":""}function qn(){return this._isUTC?"Coordinated Universal Time":""}function Yn(e){return Ct(1e3*e)}function Kn(){return Ct.apply(null,arguments).parseZone()}function Gn(e){return e}function Xn(e,t,n,i){var r=tt(),a=u().set(i,t);return r[n](a,e)}function Jn(e,t,n){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return Xn(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Xn(e,i,n,"month");return r}function Zn(e,t,n,i){"boolean"==typeof e?(a(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,a(t)&&(n=t,t=void 0),t=t||"");var r=tt(),o=e?r._week.dow:0;if(null!=n)return Xn(t,(n+o)%7,i,"day");var s,l=[];for(s=0;s<7;s++)l[s]=Xn(t,(s+o)%7,i,"day");return l}function Qn(e,t){return Jn(e,t,"months")}function ei(e,t){return Jn(e,t,"monthsShort")}function ti(e,t,n){return Zn(e,t,n,"weekdays")}function ni(e,t,n){return Zn(e,t,n,"weekdaysShort")}function ii(e,t,n){return Zn(e,t,n,"weekdaysMin")}function ri(){var e=this._data;return this._milliseconds=sa(this._milliseconds),this._days=sa(this._days),this._months=sa(this._months),e.milliseconds=sa(e.milliseconds),e.seconds=sa(e.seconds),e.minutes=sa(e.minutes),e.hours=sa(e.hours),e.months=sa(e.months),e.years=sa(e.years),this}function ai(e,t,n,i){var r=Gt(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function oi(e,t){return ai(this,e,t,1)}function si(e,t){return ai(this,e,t,-1)}function li(e){return e<0?Math.floor(e):Math.ceil(e)}function ci(){var e,t,n,i,r,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*li(di(s)+o),o=0,s=0),l.milliseconds=a%1e3,e=b(a/1e3),l.seconds=e%60,t=b(e/60),l.minutes=t%60,n=b(t/60),l.hours=n%24,o+=b(n/24),r=b(ui(o)),s+=r,o-=li(di(r)),i=b(s/12),s%=12,l.days=o,l.months=s,l.years=i,this}function ui(e){return 4800*e/146097}function di(e){return 146097*e/4800}function hi(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=R(e))||"year"===e)return t=this._days+i/864e5,n=this._months+ui(t),"month"===e?n:n/12;switch(t=this._days+Math.round(di(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function pi(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12):NaN}function fi(e){return function(){return this.as(e)}}function gi(){return Gt(this)}function mi(e){return e=R(e),this.isValid()?this[e+"s"]():NaN}function vi(e){return function(){return this.isValid()?this._data[e]:NaN}}function bi(){return b(this.days()/7)}function yi(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function wi(e,t,n){var i=Gt(e).abs(),r=ka(i.as("s")),a=ka(i.as("m")),o=ka(i.as("h")),s=ka(i.as("d")),l=ka(i.as("M")),c=ka(i.as("y")),u=r<=Ca.ss&&["s",r]||r<Ca.s&&["ss",r]||a<=1&&["m"]||a<Ca.m&&["mm",a]||o<=1&&["h"]||o<Ca.h&&["hh",o]||s<=1&&["d"]||s<Ca.d&&["dd",s]||l<=1&&["M"]||l<Ca.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,yi.apply(null,u)}function xi(e){return void 0===e?ka:"function"==typeof e&&(ka=e,!0)}function _i(e,t){return void 0!==Ca[e]&&(void 0===t?Ca[e]:(Ca[e]=t,"s"===e&&(Ca.ss=t-1),!0))}function ki(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=wi(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Ci(e){return(e>0)-(e<0)||+e}function Si(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i=Sa(this._milliseconds)/1e3,r=Sa(this._days),a=Sa(this._months);e=b(i/60),t=b(e/60),i%=60,e%=60,n=b(a/12),a%=12;var o=n,s=a,l=r,c=t,u=e,d=i?i.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var p=h<0?"-":"",f=Ci(this._months)!==Ci(h)?"-":"",g=Ci(this._days)!==Ci(h)?"-":"",m=Ci(this._milliseconds)!==Ci(h)?"-":"";return p+"P"+(o?f+o+"Y":"")+(s?f+s+"M":"")+(l?g+l+"D":"")+(c||u||d?"T":"")+(c?m+c+"H":"")+(u?m+u+"M":"")+(d?m+d+"S":"")}var $i,Di;Di=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var Ti=e.momentProperties=[],Ei=!1,Mi={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Ai;Ai=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var Oi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Pi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ii=/\d{1,2}/,Ri={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ni={},Li={},Fi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,zi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ji={},Hi={},Wi=/\d/,Bi=/\d\d/,Vi=/\d{3}/,Ui=/\d{4}/,qi=/[+-]?\d{6}/,Yi=/\d\d?/,Ki=/\d\d\d\d?/,Gi=/\d\d\d\d\d\d?/,Xi=/\d{1,3}/,Ji=/\d{1,4}/,Zi=/[+-]?\d{1,6}/,Qi=/\d+/,er=/[+-]?\d+/,tr=/Z|[+-]\d\d:?\d\d/gi,nr=/Z|[+-]\d\d(?::?\d\d)?/gi,ir=/[+-]?\d+(\.\d{1,3})?/,rr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ar={},or={},sr=0,lr=1,cr=2,ur=3,dr=4,hr=5,pr=6,fr=7,gr=8;j("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),j(0,["YY",2],0,function(){return this.year()%100}),j(0,["YYYY",4],0,"year"),j(0,["YYYYY",5],0,"year"),j(0,["YYYYYY",6,!0],0,"year"),I("year","y"),L("year",1),U("Y",er),U("YY",Yi,Bi),U("YYYY",Ji,Ui),U("YYYYY",Zi,qi),U("YYYYYY",Zi,qi),G(["YYYYY","YYYYYY"],sr),G("YYYY",function(t,n){n[sr]=2===t.length?e.parseTwoDigitYear(t):y(t)}),G("YY",function(t,n){n[sr]=e.parseTwoDigitYear(t)}),G("Y",function(e,t){t[sr]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return y(e)+(y(e)>68?1900:2e3)};var mr,vr=te("FullYear",!0);mr=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},j("M",["MM",2],"Mo",function(){return this.month()+1}),j("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),j("MMMM",0,0,function(e){return this.localeData().months(this,e)}),I("month","M"),L("month",8),U("M",Yi),U("MM",Yi,Bi),U("MMM",function(e,t){return t.monthsShortRegex(e)}),U("MMMM",function(e,t){return t.monthsRegex(e)}),G(["M","MM"],function(e,t){t[lr]=y(e)-1}),G(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[lr]=r:h(n).invalidMonth=e});var br=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,yr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),wr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),xr=rr,_r=rr;j("w",["ww",2],"wo","week"),j("W",["WW",2],"Wo","isoWeek"),I("week","w"),I("isoWeek","W"),L("week",5),L("isoWeek",5),U("w",Yi),U("ww",Yi,Bi),U("W",Yi),U("WW",Yi,Bi),X(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=y(e)});var kr={dow:0,doy:6};j("d",0,"do","day"),j("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),j("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),j("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),j("e",0,0,"weekday"),j("E",0,0,"isoWeekday"),I("day","d"),I("weekday","e"),I("isoWeekday","E"),L("day",11),L("weekday",11),L("isoWeekday",11),U("d",Yi),U("e",Yi),U("E",Yi),U("dd",function(e,t){return t.weekdaysMinRegex(e)}),U("ddd",function(e,t){return t.weekdaysShortRegex(e)}),U("dddd",function(e,t){return t.weekdaysRegex(e)}),X(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:h(n).invalidWeekday=e}),X(["d","e","E"],function(e,t,n,i){t[i]=y(e)});var Cr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Sr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),$r="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Dr=rr,Tr=rr,Er=rr;j("H",["HH",2],0,"hour"),j("h",["hh",2],0,Be),j("k",["kk",2],0,Ve),j("hmm",0,0,function(){return""+Be.apply(this)+z(this.minutes(),2)}),j("hmmss",0,0,function(){return""+Be.apply(this)+z(this.minutes(),2)+z(this.seconds(),2)}),j("Hmm",0,0,function(){return""+this.hours()+z(this.minutes(),2)}),j("Hmmss",0,0,function(){return""+this.hours()+z(this.minutes(),2)+z(this.seconds(),2)}),Ue("a",!0),Ue("A",!1),I("hour","h"),L("hour",13),U("a",qe),U("A",qe),U("H",Yi),U("h",Yi),U("k",Yi),U("HH",Yi,Bi),U("hh",Yi,Bi),U("kk",Yi,Bi),U("hmm",Ki),U("hmmss",Gi),U("Hmm",Ki),U("Hmmss",Gi),G(["H","HH"],ur),G(["k","kk"],function(e,t,n){var i=y(e);t[ur]=24===i?0:i}),G(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),G(["h","hh"],function(e,t,n){t[ur]=y(e),h(n).bigHour=!0}),G("hmm",function(e,t,n){var i=e.length-2;t[ur]=y(e.substr(0,i)),t[dr]=y(e.substr(i)),h(n).bigHour=!0}),G("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[ur]=y(e.substr(0,i)),t[dr]=y(e.substr(i,2)),t[hr]=y(e.substr(r)),h(n).bigHour=!0}),G("Hmm",function(e,t,n){var i=e.length-2;t[ur]=y(e.substr(0,i)),t[dr]=y(e.substr(i))}),G("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[ur]=y(e.substr(0,i)),t[dr]=y(e.substr(i,2)),t[hr]=y(e.substr(r))});var Mr,Ar=/[ap]\.?m?\.?/i,Or=te("Hours",!0),Pr={calendar:Oi,longDateFormat:Pi,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Ii,relativeTime:Ri,months:yr,monthsShort:wr,week:kr,weekdays:Cr,weekdaysMin:$r,weekdaysShort:Sr,meridiemParse:Ar},Ir={},Rr={},Nr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Lr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Fr=/Z|[+-]\d\d(?::?\d\d)?/,zr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],jr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Hr=/^\/?Date\((\-?\d+)/i,Wr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Br={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=_("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var Vr=_("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ct.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:f()}),Ur=_("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ct.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:f()}),qr=function(){return Date.now?Date.now():+new Date},Yr=["year","quarter","month","week","day","hour","minute","second","millisecond"];It("Z",":"),It("ZZ",""),U("Z",nr),U("ZZ",nr),G(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Rt(nr,e)});var Kr=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Gr=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Xr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Gt.fn=At.prototype,Gt.invalid=Mt;var Jr=Qt(1,"add"),Zr=Qt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Qr=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});j(0,["gg",2],0,function(){return this.weekYear()%100}),j(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Rn("gggg","weekYear"),Rn("ggggg","weekYear"),Rn("GGGG","isoWeekYear"),Rn("GGGGG","isoWeekYear"),I("weekYear","gg"),I("isoWeekYear","GG"),L("weekYear",1),L("isoWeekYear",1),U("G",er),U("g",er),U("GG",Yi,Bi),U("gg",Yi,Bi),U("GGGG",Ji,Ui),U("gggg",Ji,Ui),U("GGGGG",Zi,qi),U("ggggg",Zi,qi),X(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=y(e)}),X(["gg","GG"],function(t,n,i,r){n[r]=e.parseTwoDigitYear(t)}),j("Q",0,"Qo","quarter"),I("quarter","Q"),L("quarter",7),U("Q",Wi),G("Q",function(e,t){t[lr]=3*(y(e)-1)}),j("D",["DD",2],"Do","date"),I("date","D"),L("date",9),U("D",Yi),U("DD",Yi,Bi),U("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),G(["D","DD"],cr),G("Do",function(e,t){t[cr]=y(e.match(Yi)[0])});var ea=te("Date",!0);j("DDD",["DDDD",3],"DDDo","dayOfYear"),I("dayOfYear","DDD"),L("dayOfYear",4),U("DDD",Xi),U("DDDD",Vi),G(["DDD","DDDD"],function(e,t,n){n._dayOfYear=y(e)}),j("m",["mm",2],0,"minute"),I("minute","m"),L("minute",14),U("m",Yi),U("mm",Yi,Bi),G(["m","mm"],dr);var ta=te("Minutes",!1);j("s",["ss",2],0,"second"),I("second","s"),L("second",15),U("s",Yi),U("ss",Yi,Bi),G(["s","ss"],hr);var na=te("Seconds",!1);j("S",0,0,function(){return~~(this.millisecond()/100)}),j(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),j(0,["SSS",3],0,"millisecond"),j(0,["SSSS",4],0,function(){return 10*this.millisecond()}),j(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),j(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),j(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),j(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),j(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),I("millisecond","ms"),L("millisecond",16),U("S",Xi,Wi),U("SS",Xi,Bi),U("SSS",Xi,Vi);var ia;for(ia="SSSS";ia.length<=9;ia+="S")U(ia,Qi);for(ia="S";ia.length<=9;ia+="S")G(ia,Vn);var ra=te("Milliseconds",!1);j("z",0,0,"zoneAbbr"),j("zz",0,0,"zoneName");var aa=m.prototype;aa.add=Jr,aa.calendar=nn,aa.clone=rn,aa.diff=dn,aa.endOf=Cn,aa.format=mn,aa.from=vn,aa.fromNow=bn,aa.to=yn,aa.toNow=wn,aa.get=re,aa.invalidAt=Pn,aa.isAfter=an,aa.isBefore=on,aa.isBetween=sn,aa.isSame=ln,aa.isSameOrAfter=cn,aa.isSameOrBefore=un,aa.isValid=An,aa.lang=Qr,aa.locale=xn,aa.localeData=_n,aa.max=Ur,aa.min=Vr,aa.parsingFlags=On,aa.set=ae,aa.startOf=kn,aa.subtract=Zr,aa.toArray=Tn,aa.toObject=En,aa.toDate=Dn,aa.toISOString=fn,aa.inspect=gn,aa.toJSON=Mn,aa.toString=pn,aa.unix=$n,aa.valueOf=Sn,aa.creationData=In,aa.year=vr,aa.isLeapYear=ee,aa.weekYear=Nn,aa.isoWeekYear=Ln,aa.quarter=aa.quarters=Wn,aa.month=pe,aa.daysInMonth=fe,aa.week=aa.weeks=De,aa.isoWeek=aa.isoWeeks=Te,aa.weeksInYear=zn,aa.isoWeeksInYear=Fn,aa.date=ea,aa.day=aa.days=Ne,aa.weekday=Le,aa.isoWeekday=Fe,aa.dayOfYear=Bn,aa.hour=aa.hours=Or,aa.minute=aa.minutes=ta,aa.second=aa.seconds=na,aa.millisecond=aa.milliseconds=ra,aa.utcOffset=Ft,aa.utc=jt,aa.local=Ht,aa.parseZone=Wt,aa.hasAlignedHourOffset=Bt,aa.isDST=Vt,aa.isLocal=qt,aa.isUtcOffset=Yt,aa.isUtc=Kt,aa.isUTC=Kt,aa.zoneAbbr=Un,aa.zoneName=qn,aa.dates=_("dates accessor is deprecated. Use date instead.",ea),aa.months=_("months accessor is deprecated. Use month instead",pe),aa.years=_("years accessor is deprecated. Use year instead",vr),aa.zone=_("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",zt),aa.isDSTShifted=_("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ut);var oa=D.prototype;oa.calendar=T,oa.longDateFormat=E,oa.invalidDate=M,oa.ordinal=A,oa.preparse=Gn,oa.postformat=Gn,oa.relativeTime=O,oa.pastFuture=P,oa.set=S,oa.months=le,oa.monthsShort=ce,oa.monthsParse=de,oa.monthsRegex=me,oa.monthsShortRegex=ge,oa.week=Ce,oa.firstDayOfYear=$e,oa.firstDayOfWeek=Se,oa.weekdays=Ae,oa.weekdaysMin=Pe,oa.weekdaysShort=Oe,oa.weekdaysParse=Re,oa.weekdaysRegex=ze,oa.weekdaysShortRegex=je,oa.weekdaysMinRegex=He,oa.isPM=Ye,oa.meridiem=Ke,Ze("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===y(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=_("moment.lang is deprecated. Use moment.locale instead.",Ze),e.langData=_("moment.langData is deprecated. Use moment.localeData instead.",tt);var sa=Math.abs,la=fi("ms"),ca=fi("s"),ua=fi("m"),da=fi("h"),ha=fi("d"),pa=fi("w"),fa=fi("M"),ga=fi("y"),ma=vi("milliseconds"),va=vi("seconds"),ba=vi("minutes"),ya=vi("hours"),wa=vi("days"),xa=vi("months"),_a=vi("years"),ka=Math.round,Ca={ss:44,s:45,m:45,h:22,d:26,M:11},Sa=Math.abs,$a=At.prototype;return $a.isValid=Et,$a.abs=ri,$a.add=oi,$a.subtract=si,$a.as=hi,$a.asMilliseconds=la,$a.asSeconds=ca,$a.asMinutes=ua,$a.asHours=da,$a.asDays=ha,$a.asWeeks=pa,$a.asMonths=fa,$a.asYears=ga,$a.valueOf=pi,$a._bubble=ci,$a.clone=gi,$a.get=mi,$a.milliseconds=ma,$a.seconds=va,$a.minutes=ba,$a.hours=ya,$a.days=wa,$a.weeks=bi,$a.months=xa,$a.years=_a,$a.humanize=ki,$a.toISOString=Si,$a.toString=Si,$a.toJSON=Si,$a.locale=xn,$a.localeData=_n,$a.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Si),$a.lang=Qr,j("X",0,0,"unix"),j("x",0,0,"valueOf"),U("x",er),U("X",ir),G("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),G("x",function(e,t,n){n._d=new Date(y(e))}),e.version="2.22.0",function(e){$i=e}(Ct),e.fn=aa,e.min=$t,e.max=Dt,e.now=qr,e.utc=u,e.unix=Yn,e.months=Qn,e.isDate=o,e.locale=Ze,e.invalid=f,e.duration=Gt,e.isMoment=v,e.weekdays=ti,e.parseZone=Kn,e.localeData=tt,e.isDuration=Ot,e.monthsShort=ei,e.weekdaysMin=ii,e.defineLocale=Qe,e.updateLocale=et,e.locales=nt,e.weekdaysShort=ni,e.normalizeUnits=R,e.relativeTimeRounding=xi,e.relativeTimeThreshold=_i,e.calendarFormat=tn,e.prototype=aa,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},e}),function(){"use strict";function e(e){return angular.isUndefined(e)||null===e}function t(){try{return require("moment")}catch(e){throw new Error("Please install moment via npm. Please reference to: https://github.com/urish/angular-moment")}}function n(n,i){if(void 0===i){if("function"!=typeof require)throw new Error("Moment cannot be found by angular-moment! Please reference to: https://github.com/urish/angular-moment");i=t()}return n.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:null,format:null,statefulFilters:!0}).constant("moment",i).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null,fullDateThresholdUnit:"day"}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig",function(t,i,r,a){return function(o,s,l){function c(){var e;if(g)e=g;else if(a.serverTime){var t=(new Date).getTime(),n=t-_+a.serverTime;e=i(n)}else e=i();return e}function u(){m&&(t.clearTimeout(m),m=null)}function d(e){var n=c().diff(e,x),i=y&&n>=y;if(i?s.text(e.format(w)):s.text(e.from(c(),v)),b&&S&&s.attr("title",e.format(b)),!i){var r=Math.abs(c().diff(e,"minute")),a=3600;r<1?a=1:r<60?a=30:r<180&&(a=300),m=t.setTimeout(function(){d(e)},1e3*a)}}function h(e){C&&s.attr("datetime",e)}function p(){if(u(),f){var e=r.preprocessDate(f);d(e),h(e.toISOString())}}var f,g,m=null,v=a.withoutSuffix,b=a.titleFormat,y=a.fullDateThreshold,w=a.fullDateFormat,x=a.fullDateThresholdUnit,_=(new Date).getTime(),k=l.amTimeAgo,C="TIME"===s[0].nodeName.toUpperCase(),S=!s.attr("title");o.$watch(k,function(t){if(e(t)||""===t)return u(),void(f&&(s.text(""),h(""),f=null));f=t,p()}),n.isDefined(l.amFrom)&&o.$watch(l.amFrom,function(t){g=e(t)||""===t?null:i(t),p()}),n.isDefined(l.amWithoutSuffix)&&o.$watch(l.amWithoutSuffix,function(e){"boolean"==typeof e?(v=e,p()):v=a.withoutSuffix}),l.$observe("amFullDateThreshold",function(e){y=e,p()}),l.$observe("amFullDateFormat",function(e){w=e,p()}),l.$observe("amFullDateThresholdUnit",function(e){x=e,p()}),o.$on("$destroy",function(){u()}),o.$on("amMoment:localeChanged",function(){p()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(e,t,i,r){var a=null;this.changeLocale=function(i,r){var a=e.locale(i,r);return n.isDefined(i)&&t.$broadcast("amMoment:localeChanged"),a},this.changeTimezone=function(n){e.tz&&e.tz.setDefault?(e.tz.setDefault(n),t.$broadcast("amMoment:timezoneChanged")):i.warn("angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater."),r.timezone=n,a=n},this.preprocessDate=function(t){return a!==r.timezone&&this.changeTimezone(r.timezone),r.preprocess?r.preprocess(t):e(!isNaN(parseFloat(t))&&isFinite(t)?parseInt(t,10):t)}}]).filter("amParse",["moment",function(e){return function(t,n){return e(t,n)}}]).filter("amFromUnix",["moment",function(e){return function(t){return e.unix(t)}}]).filter("amUtc",["moment",function(e){return function(t){return e.utc(t)}}]).filter("amUtcOffset",["amMoment",function(e){function t(t,n){return e.preprocessDate(t).utcOffset(n)}return t}]).filter("amLocal",["moment",function(e){return function(t){return e.isMoment(t)?t.local():null}}]).filter("amTimezone",["amMoment","angularMomentConfig","$log",function(e,t,n){function i(t,i){var r=e.preprocessDate(t);return i?r.tz?r.tz(i):(n.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?"),r):r}return i}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(t,n,i){function r(t,i,r){if(e(t))return"";var a=n.preprocessDate(t);return a.isValid()?a.calendar(i,r):""}return r.$stateful=i.statefulFilters,r}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(t,n,i){function r(i,r,a,o){if(e(i))return"";var s=n.preprocessDate(i),l=e(r)?t():n.preprocessDate(r);return s.isValid()&&l.isValid()?s.diff(l,a,o):""}return r.$stateful=i.statefulFilters,r}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(t,n,i){function r(t,i){if(e(t))return"";var r=n.preprocessDate(t);return r.isValid()?r.format(i):""}return r.$stateful=i.statefulFilters,r}]).filter("amDurationFormat",["moment","angularMomentConfig",function(t,n){function i(n,i,r){return e(n)?"":t.duration(n,i).humanize(r)}return i.$stateful=n.statefulFilters,i}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(t,n,i){function r(i,r,a){var o,s;return e(i)?"":(i=n.preprocessDate(i),o=t(i),o.isValid()?(s=t(a),!e(a)&&s.isValid()?o.from(s,r):o.fromNow(r)):"")}return r.$stateful=i.statefulFilters,r}]).filter("amSubtract",["moment","angularMomentConfig",function(t,n){function i(n,i,r){return e(n)?"":t(n).subtract(parseInt(i,10),r)}return i.$stateful=n.statefulFilters,i}]).filter("amAdd",["moment","angularMomentConfig",function(t,n){function i(n,i,r){return e(n)?"":t(n).add(parseInt(i,10),r)}return i.$stateful=n.statefulFilters,i}]).filter("amStartOf",["moment","angularMomentConfig",function(t,n){function i(n,i){return e(n)?"":t(n).startOf(i)}return i.$stateful=n.statefulFilters,i}]).filter("amEndOf",["moment","angularMomentConfig",function(t,n){function i(n,i){return e(n)?"":t(n).endOf(i)}return i.$stateful=n.statefulFilters,i}]),"angularMoment"}var i=window&&window.process&&window.process.type;"function"==typeof define&&define.amd?define(["angular","moment"],n):"undefined"!=typeof module&&module&&module.exports&&"function"==typeof require&&!i?module.exports=n(require("angular"),require("moment")):n(angular,("undefined"!=typeof global?global:window).moment)}(),function(){"use strict";function e(e,t,n,i,r,a,o){function s(){return w.length}function l(e){if(1!==arguments.length||e)if(e)p(e.toastId);else for(var t=0;t<w.length;t++)p(w[t].toastId)}function c(e,t,n){return f(g().iconClasses.error,e,t,n)}function u(e,t,n){return f(g().iconClasses.info,e,t,n)}function d(e,t,n){return f(g().iconClasses.success,e,t,n)}function h(e,t,n){return f(g().iconClasses.warning,e,t,n)}function p(t,n){function i(){return!w.length}var r=function(e){for(var t=0;t<w.length;t++)if(w[t].toastId===e)return w[t]}(t);r&&!r.deleting&&(r.deleting=!0,r.isOpened=!1,e.leave(r.el).then(function(){r.scope.options.onHidden&&r.scope.options.onHidden(!!n,r),r.scope.$destroy();var e=w.indexOf(r);delete _[r.scope.message],w.splice(e,1);var t=a.maxOpened;t&&w.length>=t&&w[t-1].open.resolve(),i()&&(b.remove(),b=null,k=o.defer())}))}function f(e,t,n,i){return angular.isObject(n)&&(i=n,n=null),v({iconClass:e,message:t,optionsOverride:i,title:n})}function g(){return angular.extend({},a)}function m(t){if(b)return k.promise;b=angular.element("<div></div>"),b.attr("id",t.containerId),b.addClass(t.positionClass),b.css({"pointer-events":"auto"});var n=angular.element(document.querySelector(t.target));if(!n||!n.length)throw"Target for toasts doesn't exist";return e.enter(b,n).then(function(){k.resolve()}),k.promise}function v(n){function a(e,t,n){function i(t){if(n[t])return function(){n[t](e)}}n.allowHtml?(e.scope.allowHtml=!0,e.scope.title=r.trustAsHtml(t.title),e.scope.message=r.trustAsHtml(t.message)):(e.scope.title=t.title,e.scope.message=t.message),e.scope.toastType=e.iconClass,e.scope.toastId=e.toastId,e.scope.extraData=n.extraData,e.scope.options={extendedTimeOut:n.extendedTimeOut,messageClass:n.messageClass,onHidden:n.onHidden,onShown:i("onShown"),onTap:i("onTap"),progressBar:n.progressBar,tapToDismiss:n.tapToDismiss,timeOut:n.timeOut,titleClass:n.titleClass,toastClass:n.toastClass},n.closeButton&&(e.scope.options.closeHtml=n.closeHtml)}function s(e){var n=angular.element("<div toast></div>");return t.get("$compile")(n)(e)}var l=g();if(!function(){var e=l.preventDuplicates&&n.message===x,t=l.preventOpenDuplicates&&_[n.message];return!(!e&&!t)||(x=n.message,_[n.message]=!0,!1)}()){var c=function(){var e={toastId:y++,isOpened:!1,scope:i.$new(),open:o.defer()};return e.iconClass=n.iconClass,n.optionsOverride&&(angular.extend(l,function(e){for(var t=["containerId","iconClasses","maxOpened","newestOnTop","positionClass","preventDuplicates","preventOpenDuplicates","templates"],n=0,i=t.length;n<i;n++)delete e[t[n]];return e}(n.optionsOverride)),e.iconClass=n.optionsOverride.iconClass||e.iconClass),a(e,n,l),e.el=s(e.scope),e}();if(w.push(c),function(){return l.autoDismiss&&l.maxOpened&&w.length>l.maxOpened
}())for(var u=w.slice(0,w.length-l.maxOpened),d=0,h=u.length;d<h;d++)p(u[d].toastId);return function(){return l.maxOpened&&w.length<=l.maxOpened||!l.maxOpened}()&&c.open.resolve(),c.open.promise.then(function(){m(l).then(function(){if(c.isOpened=!0,l.newestOnTop)e.enter(c.el,b).then(function(){c.scope.init()});else{var t=b[0].lastChild?angular.element(b[0].lastChild):null;e.enter(c.el,b,t).then(function(){c.scope.init()})}})}),c}}var b,y=0,w=[],x="",_={},k=o.defer();return{active:s,clear:l,error:c,info:u,remove:p,success:d,warning:h}}angular.module("toastr",[]).factory("toastr",e),e.$inject=["$animate","$injector","$document","$rootScope","$sce","toastrConfig","$q"]}(),function(){"use strict";angular.module("toastr").constant("toastrConfig",{allowHtml:!1,autoDismiss:!1,closeButton:!1,closeHtml:"<button>&times;</button>",containerId:"toast-container",extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},maxOpened:0,messageClass:"toast-message",newestOnTop:!0,onHidden:null,onShown:null,onTap:null,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,progressBar:!1,tapToDismiss:!0,target:"body",templates:{toast:"directives/toast/toast.html",progressbar:"directives/progressbar/progressbar.html"},timeOut:5e3,titleClass:"toast-title",toastClass:"toast"})}(),function(){"use strict";function e(e){function t(e,t,n,i){function r(){var e=(s-(new Date).getTime())/o*100;t.css("width",e+"%")}var a,o,s;i.progressBar=e,e.start=function(e){a&&clearInterval(a),o=parseFloat(e),s=(new Date).getTime()+o,a=setInterval(r,10)},e.stop=function(){a&&clearInterval(a)},e.$on("$destroy",function(){clearInterval(a)})}return{replace:!0,require:"^toast",templateUrl:function(){return e.templates.progressbar},link:t}}angular.module("toastr").directive("progressBar",e),e.$inject=["toastrConfig"]}(),function(){"use strict";function e(){this.progressBar=null,this.startProgressBar=function(e){this.progressBar&&this.progressBar.start(e)},this.stopProgressBar=function(){this.progressBar&&this.progressBar.stop()}}angular.module("toastr").controller("ToastController",e)}(),function(){"use strict";function e(e,t,n,i){function r(n,r,a,o){function s(e){return o.startProgressBar(e),t(function(){o.stopProgressBar(),i.remove(n.toastId)},e,1)}function l(){n.progressBar=!1,o.stopProgressBar()}var c;if(n.toastClass=n.options.toastClass,n.titleClass=n.options.titleClass,n.messageClass=n.options.messageClass,n.progressBar=n.options.progressBar,function(){return n.options.closeHtml}()){var u=angular.element(n.options.closeHtml),d=e.get("$compile");u.addClass("toast-close-button"),u.attr("ng-click","close(true, $event)"),d(u)(n),r.prepend(u)}n.init=function(){n.options.timeOut&&(c=s(n.options.timeOut)),n.options.onShown&&n.options.onShown()},r.on("mouseenter",function(){l(),c&&t.cancel(c)}),n.tapToast=function(){angular.isFunction(n.options.onTap)&&n.options.onTap(),n.options.tapToDismiss&&n.close(!0)},n.close=function(e,t){t&&angular.isFunction(t.stopPropagation)&&t.stopPropagation(),i.remove(n.toastId,e)},r.on("mouseleave",function(){0===n.options.timeOut&&0===n.options.extendedTimeOut||(n.$apply(function(){n.progressBar=n.options.progressBar}),c=s(n.options.extendedTimeOut))})}return{replace:!0,templateUrl:function(){return n.templates.toast},controller:"ToastController",link:r}}angular.module("toastr").directive("toast",e),e.$inject=["$injector","$interval","toastrConfig","toastr"]}(),angular.module("toastr").run(["$templateCache",function(e){e.put("directives/progressbar/progressbar.html",'<div class="toast-progress"></div>\n'),e.put("directives/toast/toast.html",'<div class="{{toastClass}} {{toastType}}" ng-click="tapToast()">\n  <div ng-switch on="allowHtml">\n    <div ng-switch-default ng-if="title" class="{{titleClass}}" aria-label="{{title}}">{{title}}</div>\n    <div ng-switch-default class="{{messageClass}}" aria-label="{{message}}">{{message}}</div>\n    <div ng-switch-when="true" ng-if="title" class="{{titleClass}}" ng-bind-html="title"></div>\n    <div ng-switch-when="true" class="{{messageClass}}" ng-bind-html="message"></div>\n  </div>\n  <progress-bar ng-if="progressBar"></progress-bar>\n</div>\n')}]),function(){function e(e,t){if(e!==t){var n=null===e,i=e===_,r=e===e,a=null===t,o=t===_,s=t===t;if(e>t&&!a||!r||n&&!o&&s||i&&s)return 1;if(e<t&&!n||!s||a&&!i&&r||o&&r)return-1}return 0}function t(e,t,n){for(var i=e.length,r=n?i:-1;n?r--:++r<i;)if(t(e[r],r,e))return r;return-1}function n(e,t,n){if(t!==t)return p(e,n);for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}function i(e){return"function"==typeof e||!1}function r(e){return null==e?"":e+""}function a(e,t){for(var n=-1,i=e.length;++n<i&&t.indexOf(e.charAt(n))>-1;);return n}function o(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function s(t,n){return e(t.criteria,n.criteria)||t.index-n.index}function l(t,n,i){for(var r=-1,a=t.criteria,o=n.criteria,s=a.length,l=i.length;++r<s;){var c=e(a[r],o[r]);if(c){if(r>=l)return c;var u=i[r];return c*("asc"===u||!0===u?1:-1)}}return t.index-n.index}function c(e){return Fe[e]}function u(e){return ze[e]}function d(e,t,n){return t?e=We[e]:n&&(e=Be[e]),"\\"+e}function h(e){return"\\"+Be[e]}function p(e,t,n){for(var i=e.length,r=t+(n?0:-1);n?r--:++r<i;){var a=e[r];if(a!==a)return r}return-1}function f(e){return!!e&&"object"==typeof e}function g(e){return e<=160&&e>=9&&e<=13||32==e||160==e||5760==e||6158==e||e>=8192&&(e<=8202||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function m(e,t){for(var n=-1,i=e.length,r=-1,a=[];++n<i;)e[n]===t&&(e[n]=H,a[++r]=n);return a}function v(e,t){for(var n,i=-1,r=e.length,a=-1,o=[];++i<r;){var s=e[i],l=t?t(s,i,e):s;i&&n===l||(n=l,o[++a]=s)}return o}function b(e){for(var t=-1,n=e.length;++t<n&&g(e.charCodeAt(t)););return t}function y(e){for(var t=e.length;t--&&g(e.charCodeAt(t)););return t}function w(e){return je[e]}function x(g){function Fe(e){if(f(e)&&!Es(e)&&!(e instanceof He)){if(e instanceof je)return e;if(eo.call(e,"__chain__")&&eo.call(e,"__wrapped__"))return pi(e)}return new je(e)}function ze(){}function je(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function He(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=To,this.__views__=[]}function We(){var e=new He(this.__wrapped__);return e.__actions__=nt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=nt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=nt(this.__views__),e}function Be(){if(this.__filtered__){var e=new He(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Ve(){var e=this.__wrapped__.value(),t=this.__dir__,n=Es(e),i=t<0,r=n?e.length:0,a=qn(0,r,this.__views__),o=a.start,s=a.end,l=s-o,c=i?s:o-1,u=this.__iteratees__,d=u.length,h=0,p=ko(l,this.__takeCount__);if(!n||r<L||r==l&&p==l)return nn(e,this.__actions__);var f=[];e:for(;l--&&h<p;){c+=t;for(var g=-1,m=e[c];++g<d;){var v=u[g],b=v.iteratee,y=v.type,w=b(m);if(y==z)m=w;else if(!w){if(y==F)continue e;break e}}f[h++]=m}return f}function Ue(){this.__data__={}}function qe(e){return this.has(e)&&delete this.__data__[e]}function Ye(e){return"__proto__"==e?_:this.__data__[e]}function Ke(e){return"__proto__"!=e&&eo.call(this.__data__,e)}function Ge(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Ze(e){var t=e?e.length:0;for(this.data={hash:vo(null),set:new uo};t--;)this.push(e[t])}function Qe(e,t){var n=e.data;return("string"==typeof t||Ir(t)?n.set.has(t):n.hash[t])?0:-1}function et(e){var t=this.data;"string"==typeof e||Ir(e)?t.set.add(e):t.hash[e]=!0}function tt(e,t){for(var n=-1,i=e.length,r=-1,a=t.length,o=ja(i+a);++n<i;)o[n]=e[n];for(;++r<a;)o[n++]=t[r];return o}function nt(e,t){var n=-1,i=e.length;for(t||(t=ja(i));++n<i;)t[n]=e[n];return t}function it(e,t){for(var n=-1,i=e.length;++n<i&&!1!==t(e[n],n,e););return e}function rt(e,t){for(var n=e.length;n--&&!1!==t(e[n],n,e););return e}function at(e,t){for(var n=-1,i=e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function ot(e,t,n,i){for(var r=-1,a=e.length,o=i,s=o;++r<a;){var l=e[r],c=+t(l);n(c,o)&&(o=c,s=l)}return s}function st(e,t){for(var n=-1,i=e.length,r=-1,a=[];++n<i;){var o=e[n];t(o,n,e)&&(a[++r]=o)}return a}function lt(e,t){for(var n=-1,i=e.length,r=ja(i);++n<i;)r[n]=t(e[n],n,e);return r}function ct(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function ut(e,t,n,i){var r=-1,a=e.length;for(i&&a&&(n=e[++r]);++r<a;)n=t(n,e[r],r,e);return n}function dt(e,t,n,i){var r=e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function ht(e,t){for(var n=-1,i=e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function pt(e,t){for(var n=e.length,i=0;n--;)i+=+t(e[n])||0;return i}function ft(e,t){return e===_?t:e}function gt(e,t,n,i){return e!==_&&eo.call(i,n)?e:t}function mt(e,t,n){for(var i=-1,r=js(t),a=r.length;++i<a;){var o=r[i],s=e[o],l=n(s,t[o],o,e,t);(l===l?l===s:s!==s)&&(s!==_||o in e)||(e[o]=l)}return e}function vt(e,t){return null==t?e:yt(t,js(t),e)}function bt(e,t){for(var n=-1,i=null==e,r=!i&&Jn(e),a=r?e.length:0,o=t.length,s=ja(o);++n<o;){var l=t[n];s[n]=r?Zn(l,a)?e[l]:_:i?_:e[l]}return s}function yt(e,t,n){n||(n={});for(var i=-1,r=t.length;++i<r;){var a=t[i];n[a]=e[a]}return n}function wt(e,t,n){var i=typeof e;return"function"==i?t===_?e:on(e,t,n):null==e?Da:"object"==i?zt(e):t===_?Pa(e):jt(e,t)}function xt(e,t,n,i,r,a,o){var s;if(n&&(s=r?n(e,i,r):n(e)),s!==_)return s;if(!Ir(e))return e;var l=Es(e);if(l){if(s=Yn(e),!t)return nt(e,s)}else{var c=no.call(e),u=c==Y;if(c!=G&&c!=W&&(!u||r))return Le[c]?Gn(e,c,t):r?e:{};if(s=Kn(u?{}:e),!t)return vt(s,e)}a||(a=[]),o||(o=[]);for(var d=a.length;d--;)if(a[d]==e)return o[d];return a.push(e),o.push(s),(l?it:At)(e,function(i,r){s[r]=xt(i,t,n,r,e,a,o)}),s}function _t(e,t,n){if("function"!=typeof e)throw new Ga(j);return ho(function(){e.apply(_,n)},t)}function kt(e,t){var i=e?e.length:0,r=[];if(!i)return r;var a=-1,o=Bn(),s=o===n,l=s&&t.length>=L?gn(t):null,c=t.length;l&&(o=Qe,s=!1,t=l);e:for(;++a<i;){var u=e[a];if(s&&u===u){for(var d=c;d--;)if(t[d]===u)continue e;r.push(u)}else o(t,u,0)<0&&r.push(u)}return r}function Ct(e,t){var n=!0;return No(e,function(e,i,r){return n=!!t(e,i,r)}),n}function St(e,t,n,i){var r=i,a=r;return No(e,function(e,o,s){var l=+t(e,o,s);(n(l,r)||l===i&&l===a)&&(r=l,a=e)}),a}function $t(e,t,n,i){var r=e.length;for(n=null==n?0:+n||0,n<0&&(n=-n>r?0:r+n),i=i===_||i>r?r:+i||0,i<0&&(i+=r),r=n>i?0:i>>>0,n>>>=0;n<r;)e[n++]=t;return e}function Dt(e,t){var n=[];return No(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}function Tt(e,t,n,i){var r;return n(e,function(e,n,a){if(t(e,n,a))return r=i?n:e,!1}),r}function Et(e,t,n,i){i||(i=[]);for(var r=-1,a=e.length;++r<a;){var o=e[r];f(o)&&Jn(o)&&(n||Es(o)||Sr(o))?t?Et(o,t,n,i):ct(i,o):n||(i[i.length]=o)}return i}function Mt(e,t){return Fo(e,t,ea)}function At(e,t){return Fo(e,t,js)}function Ot(e,t){return zo(e,t,js)}function Pt(e,t){for(var n=-1,i=t.length,r=-1,a=[];++n<i;){var o=t[n];Pr(e[o])&&(a[++r]=o)}return a}function It(e,t,n){if(null!=e){n!==_&&n in di(e)&&(t=[n]);for(var i=0,r=t.length;null!=e&&i<r;)e=e[t[i++]];return i&&i==r?e:_}}function Rt(e,t,n,i,r,a){return e===t||(null==e||null==t||!Ir(e)&&!f(t)?e!==e&&t!==t:Nt(e,t,Rt,n,i,r,a))}function Nt(e,t,n,i,r,a,o){var s=Es(e),l=Es(t),c=B,u=B;s||(c=no.call(e),c==W?c=G:c!=G&&(s=Br(e))),l||(u=no.call(t),u==W?u=G:u!=G&&(l=Br(t)));var d=c==G,h=u==G,p=c==u;if(p&&!s&&!d)return zn(e,t,c);if(!r){var f=d&&eo.call(e,"__wrapped__"),g=h&&eo.call(t,"__wrapped__");if(f||g)return n(f?e.value():e,g?t.value():t,i,r,a,o)}if(!p)return!1;a||(a=[]),o||(o=[]);for(var m=a.length;m--;)if(a[m]==e)return o[m]==t;a.push(e),o.push(t);var v=(s?Fn:jn)(e,t,n,i,r,a,o);return a.pop(),o.pop(),v}function Lt(e,t,n){var i=t.length,r=i,a=!n;if(null==e)return!r;for(e=di(e);i--;){var o=t[i];if(a&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<r;){o=t[i];var s=o[0],l=e[s],c=o[1];if(a&&o[2]){if(l===_&&!(s in e))return!1}else{var u=n?n(l,c,s):_;if(!(u===_?Rt(c,l,n,!0):u))return!1}}return!0}function Ft(e,t){var n=-1,i=Jn(e)?ja(e.length):[];return No(e,function(e,r,a){i[++n]=t(e,r,a)}),i}function zt(e){var t=Vn(e);if(1==t.length&&t[0][2]){var n=t[0][0],i=t[0][1];return function(e){return null!=e&&(e[n]===i&&(i!==_||n in di(e)))}}return function(e){return Lt(e,t)}}function jt(e,t){var n=Es(e),i=ei(e)&&ii(t),r=e+"";return e=hi(e),function(a){if(null==a)return!1;var o=r;if(a=di(a),(n||!i)&&!(o in a)){if(null==(a=1==e.length?a:It(a,Kt(e,0,-1))))return!1;o=$i(e),a=di(a)}return a[o]===t?t!==_||o in a:Rt(t,a[o],_,!0)}}function Ht(e,t,n,i,r){if(!Ir(e))return e;var a=Jn(t)&&(Es(t)||Br(t)),o=a?_:js(t);return it(o||t,function(s,l){if(o&&(l=s,s=t[l]),f(s))i||(i=[]),r||(r=[]),Wt(e,t,l,Ht,n,i,r);else{var c=e[l],u=n?n(c,s,l,e,t):_,d=u===_;d&&(u=s),u===_&&(!a||l in e)||!d&&(u===u?u===c:c!==c)||(e[l]=u)}}),e}function Wt(e,t,n,i,r,a,o){for(var s=a.length,l=t[n];s--;)if(a[s]==l)return void(e[n]=o[s]);var c=e[n],u=r?r(c,l,n,e,t):_,d=u===_;d&&(u=l,Jn(l)&&(Es(l)||Br(l))?u=Es(c)?c:Jn(c)?nt(c):[]:jr(l)||Sr(l)?u=Sr(c)?Kr(c):jr(c)?c:{}:d=!1),a.push(l),o.push(u),d?e[n]=i(u,l,r,a,o):(u===u?u!==c:c===c)&&(e[n]=u)}function Bt(e){return function(t){return null==t?_:t[e]}}function Vt(e){var t=e+"";return e=hi(e),function(n){return It(n,e,t)}}function Ut(e,t){for(var n=e?t.length:0;n--;){var i=t[n];if(i!=r&&Zn(i)){var r=i;po.call(e,i,1)}}return e}function qt(e,t){return e+bo($o()*(t-e+1))}function Yt(e,t,n,i,r){return r(e,function(e,r,a){n=i?(i=!1,e):t(n,e,r,a)}),n}function Kt(e,t,n){var i=-1,r=e.length;t=null==t?0:+t||0,t<0&&(t=-t>r?0:r+t),n=n===_||n>r?r:+n||0,n<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var a=ja(r);++i<r;)a[i]=e[i+t];return a}function Gt(e,t){var n;return No(e,function(e,i,r){return!(n=t(e,i,r))}),!!n}function Xt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Jt(e,t,n){var i=Hn(),r=-1;return t=lt(t,function(e){return i(e)}),Xt(Ft(e,function(e){return{criteria:lt(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return l(e,t,n)})}function Zt(e,t){var n=0;return No(e,function(e,i,r){n+=+t(e,i,r)||0}),n}function Qt(e,t){var i=-1,r=Bn(),a=e.length,o=r===n,s=o&&a>=L,l=s?gn():null,c=[];l?(r=Qe,o=!1):(s=!1,l=t?[]:c);e:for(;++i<a;){var u=e[i],d=t?t(u,i,e):u;if(o&&u===u){for(var h=l.length;h--;)if(l[h]===d)continue e;t&&l.push(d),c.push(u)}else r(l,d,0)<0&&((t||s)&&l.push(d),c.push(u))}return c}function en(e,t){for(var n=-1,i=t.length,r=ja(i);++n<i;)r[n]=e[t[n]];return r}function tn(e,t,n,i){for(var r=e.length,a=i?r:-1;(i?a--:++a<r)&&t(e[a],a,e););return n?Kt(e,i?0:a,i?a+1:r):Kt(e,i?a+1:0,i?r:a)}function nn(e,t){var n=e;n instanceof He&&(n=n.value());for(var i=-1,r=t.length;++i<r;){var a=t[i];n=a.func.apply(a.thisArg,ct([n],a.args))}return n}function rn(e,t,n){var i=0,r=e?e.length:i;if("number"==typeof t&&t===t&&r<=Ao){for(;i<r;){var a=i+r>>>1,o=e[a];(n?o<=t:o<t)&&null!==o?i=a+1:r=a}return r}return an(e,t,Da,n)}function an(e,t,n,i){t=n(t);for(var r=0,a=e?e.length:0,o=t!==t,s=null===t,l=t===_;r<a;){var c=bo((r+a)/2),u=n(e[c]),d=u!==_,h=u===u;if(o)var p=h||i;else p=s?h&&d&&(i||null!=u):l?h&&(i||d):null!=u&&(i?u<=t:u<t);p?r=c+1:a=c}return ko(a,Mo)}function on(e,t,n){if("function"!=typeof e)return Da;if(t===_)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,a){return e.call(t,n,i,r,a)};case 5:return function(n,i,r,a,o){return e.call(t,n,i,r,a,o)}}return function(){return e.apply(t,arguments)}}function sn(e){var t=new ao(e.byteLength);return new fo(t).set(new fo(e)),t}function ln(e,t,n){for(var i=n.length,r=-1,a=_o(e.length-i,0),o=-1,s=t.length,l=ja(s+a);++o<s;)l[o]=t[o];for(;++r<i;)l[n[r]]=e[r];for(;a--;)l[o++]=e[r++];return l}function cn(e,t,n){for(var i=-1,r=n.length,a=-1,o=_o(e.length-r,0),s=-1,l=t.length,c=ja(o+l);++a<o;)c[a]=e[a];for(var u=a;++s<l;)c[u+s]=t[s];for(;++i<r;)c[u+n[i]]=e[a++];return c}function un(e,t){return function(n,i,r){var a=t?t():{};if(i=Hn(i,r,3),Es(n))for(var o=-1,s=n.length;++o<s;){var l=n[o];e(a,l,i(l,o,n),n)}else No(n,function(t,n,r){e(a,t,i(t,n,r),r)});return a}}function dn(e){return vr(function(t,n){var i=-1,r=null==t?0:n.length,a=r>2?n[r-2]:_,o=r>2?n[2]:_,s=r>1?n[r-1]:_;for("function"==typeof a?(a=on(a,s,5),r-=2):(a="function"==typeof s?s:_,r-=a?1:0),o&&Qn(n[0],n[1],o)&&(a=r<3?_:a,r=1);++i<r;){var l=n[i];l&&e(t,l,a)}return t})}function hn(e,t){return function(n,i){var r=n?Wo(n):0;if(!ni(r))return e(n,i);for(var a=t?r:-1,o=di(n);(t?a--:++a<r)&&!1!==i(o[a],a,o););return n}}function pn(e){return function(t,n,i){for(var r=di(t),a=i(t),o=a.length,s=e?o:-1;e?s--:++s<o;){var l=a[s];if(!1===n(r[l],l,r))break}return t}}function fn(e,t){function n(){return(this&&this!==Xe&&this instanceof n?i:e).apply(t,arguments)}var i=vn(e);return n}function gn(e){return vo&&uo?new Ze(e):null}function mn(e){return function(t){for(var n=-1,i=Ca(ua(t)),r=i.length,a="";++n<r;)a=e(a,i[n],n);return a}}function vn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Ro(e.prototype),i=e.apply(n,t);return Ir(i)?i:n}}function bn(e){function t(n,i,r){r&&Qn(n,i,r)&&(i=_);var a=Ln(n,e,_,_,_,_,_,i);return a.placeholder=t.placeholder,a}return t}function yn(e,t){return vr(function(n){var i=n[0];return null==i?i:(n.push(t),e.apply(_,n))})}function wn(e,t){return function(n,i,r){if(r&&Qn(n,i,r)&&(i=_),i=Hn(i,r,3),1==i.length){n=Es(n)?n:ui(n);var a=ot(n,i,e,t);if(!n.length||a!==t)return a}return St(n,i,e,t)}}function xn(e,n){return function(i,r,a){if(r=Hn(r,a,3),Es(i)){var o=t(i,r,n);return o>-1?i[o]:_}return Tt(i,r,e)}}function _n(e){return function(n,i,r){return n&&n.length?(i=Hn(i,r,3),t(n,i,e)):-1}}function kn(e){return function(t,n,i){return n=Hn(n,i,3),Tt(t,n,e,!0)}}function Cn(e){return function(){for(var t,n=arguments.length,i=e?n:-1,r=0,a=ja(n);e?i--:++i<n;){var o=a[r++]=arguments[i];if("function"!=typeof o)throw new Ga(j);!t&&je.prototype.thru&&"wrapper"==Wn(o)&&(t=new je([],!0))}for(i=t?-1:n;++i<n;){o=a[i];var s=Wn(o),l="wrapper"==s?Ho(o):_;t=l&&ti(l[0])&&l[1]==(A|D|E|O)&&!l[4].length&&1==l[9]?t[Wn(l[0])].apply(t,l[3]):1==o.length&&ti(o)?t[s]():t.thru(o)}return function(){var e=arguments,i=e[0];if(t&&1==e.length&&Es(i)&&i.length>=L)return t.plant(i).value();for(var r=0,o=n?a[r].apply(this,e):i;++r<n;)o=a[r].call(this,o);return o}}}function Sn(e,t){return function(n,i,r){return"function"==typeof i&&r===_&&Es(n)?e(n,i):t(n,on(i,r,3))}}function $n(e){return function(t,n,i){return"function"==typeof n&&i===_||(n=on(n,i,3)),e(t,n,ea)}}function Dn(e){return function(t,n,i){return"function"==typeof n&&i===_||(n=on(n,i,3)),e(t,n)}}function Tn(e){return function(t,n,i){var r={};return n=Hn(n,i,3),At(t,function(t,i,a){var o=n(t,i,a);i=e?o:i,t=e?t:o,r[i]=t}),r}}function En(e){return function(t,n,i){return t=r(t),(e?t:"")+Pn(t,n,i)+(e?"":t)}}function Mn(e){var t=vr(function(n,i){var r=m(i,t.placeholder);return Ln(n,e,_,i,r)});return t}function An(e,t){return function(n,i,r,a){var o=arguments.length<3;return"function"==typeof i&&a===_&&Es(n)?e(n,i,r,o):Yt(n,Hn(i,a,4),r,o,t)}}function On(e,t,n,i,r,a,o,s,l,c){function u(){for(var y=arguments.length,w=y,x=ja(y);w--;)x[w]=arguments[w];if(i&&(x=ln(x,i,r)),a&&(x=cn(x,a,o)),f||v){var k=u.placeholder,$=m(x,k);if((y-=$.length)<c){var D=s?nt(s):_,T=_o(c-y,0),A=f?$:_,O=f?_:$,P=f?x:_,I=f?_:x;t|=f?E:M,t&=~(f?M:E),g||(t&=~(C|S));var R=[e,t,n,P,A,I,O,D,l,T],N=On.apply(_,R);return ti(e)&&Bo(N,R),N.placeholder=k,N}}var L=h?n:this,F=p?L[e]:e;return s&&(x=li(x,s)),d&&l<x.length&&(x.length=l),this&&this!==Xe&&this instanceof u&&(F=b||vn(e)),F.apply(L,x)}var d=t&A,h=t&C,p=t&S,f=t&D,g=t&$,v=t&T,b=p?_:vn(e);return u}function Pn(e,t,n){var i=e.length;if(t=+t,i>=t||!wo(t))return"";var r=t-i;return n=null==n?" ":n+"",ma(n,mo(r/n.length)).slice(0,r)}function In(e,t,n,i){function r(){for(var t=-1,s=arguments.length,l=-1,c=i.length,u=ja(c+s);++l<c;)u[l]=i[l];for(;s--;)u[l++]=arguments[++t];return(this&&this!==Xe&&this instanceof r?o:e).apply(a?n:this,u)}var a=t&C,o=vn(e);return r}function Rn(e){var t=Va[e];return function(e,n){return n=n===_?0:+n||0,n?(n=lo(10,n),t(e*n)/n):t(e)}}function Nn(e){return function(t,n,i,r){var a=Hn(i);return null==i&&a===wt?rn(t,n,e):an(t,n,a(i,r,1),e)}}function Ln(e,t,n,i,r,a,o,s){var l=t&S;if(!l&&"function"!=typeof e)throw new Ga(j);var c=i?i.length:0;if(c||(t&=~(E|M),i=r=_),c-=r?r.length:0,t&M){var u=i,d=r;i=r=_}var h=l?_:Ho(e),p=[e,t,n,i,r,u,d,a,o,s];if(h&&(ri(p,h),t=p[1],s=p[9]),p[9]=null==s?l?0:e.length:_o(s-c,0)||0,t==C)var f=fn(p[0],p[2]);else f=t!=E&&t!=(C|E)||p[4].length?On.apply(_,p):In.apply(_,p);return(h?jo:Bo)(f,p)}function Fn(e,t,n,i,r,a,o){var s=-1,l=e.length,c=t.length;if(l!=c&&!(r&&c>l))return!1;for(;++s<l;){var u=e[s],d=t[s],h=i?i(r?d:u,r?u:d,s):_;if(h!==_){if(h)continue;return!1}if(r){if(!ht(t,function(e){return u===e||n(u,e,i,r,a,o)}))return!1}else if(u!==d&&!n(u,d,i,r,a,o))return!1}return!0}function zn(e,t,n){switch(n){case V:case U:return+e==+t;case q:return e.name==t.name&&e.message==t.message;case K:return e!=+e?t!=+t:e==+t;case X:case J:return e==t+""}return!1}function jn(e,t,n,i,r,a,o){var s=js(e),l=s.length;if(l!=js(t).length&&!r)return!1;for(var c=l;c--;){var u=s[c];if(!(r?u in t:eo.call(t,u)))return!1}for(var d=r;++c<l;){u=s[c];var h=e[u],p=t[u],f=i?i(r?p:h,r?h:p,u):_;if(!(f===_?n(h,p,i,r,a,o):f))return!1;d||(d="constructor"==u)}if(!d){var g=e.constructor,m=t.constructor;if(g!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m))return!1}return!0}function Hn(e,t,n){var i=Fe.callback||Sa;return i=i===Sa?wt:i,n?i(e,t,n):i}function Wn(e){for(var t=e.name+"",n=Io[t],i=n?n.length:0;i--;){var r=n[i],a=r.func;if(null==a||a==e)return r.name}return t}function Bn(e,t,i){var r=Fe.indexOf||Ci;return r=r===Ci?n:r,e?r(e,t,i):r}function Vn(e){for(var t=ta(e),n=t.length;n--;)t[n][2]=ii(t[n][1]);return t}function Un(e,t){var n=null==e?_:e[t];return Lr(n)?n:_}function qn(e,t,n){for(var i=-1,r=n.length;++i<r;){var a=n[i],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=ko(t,e+o);break;case"takeRight":e=_o(e,t-o)}}return{start:e,end:t}}function Yn(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&eo.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Kn(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=qa),new t}function Gn(e,t,n){var i=e.constructor;switch(t){case Z:return sn(e);case V:case U:return new i(+e);case Q:case ee:case te:case ne:case ie:case re:case ae:case oe:case se:var r=e.buffer;return new i(n?sn(r):r,e.byteOffset,e.length);case K:case J:return new i(e);case X:var a=new i(e.source,$e.exec(e));a.lastIndex=e.lastIndex}return a}function Xn(e,t,n){null==e||ei(t,e)||(t=hi(t),e=1==t.length?e:It(e,Kt(t,0,-1)),t=$i(t));var i=null==e?e:e[t];return null==i?_:i.apply(e,n)}function Jn(e){return null!=e&&ni(Wo(e))}function Zn(e,t){return e="number"==typeof e||Ee.test(e)?+e:-1,t=null==t?Oo:t,e>-1&&e%1==0&&e<t}function Qn(e,t,n){if(!Ir(n))return!1;var i=typeof t;if("number"==i?Jn(n)&&Zn(t,n.length):"string"==i&&t in n){var r=n[t];return e===e?e===r:r!==r}return!1}function ei(e,t){var n=typeof e;return!!("string"==n&&ye.test(e)||"number"==n)||!Es(e)&&(!be.test(e)||null!=t&&e in di(t))}function ti(e){var t=Wn(e),n=Fe[t];if("function"!=typeof n||!(t in He.prototype))return!1;if(e===n)return!0;var i=Ho(n);return!!i&&e===i[0]}function ni(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Oo}function ii(e){return e===e&&!Ir(e)}function ri(e,t){var n=e[1],i=t[1],r=n|i,a=r<A,o=i==A&&n==D||i==A&&n==O&&e[7].length<=t[8]||i==(A|O)&&n==D;if(!a&&!o)return e;i&C&&(e[2]=t[2],r|=n&C?0:$);var s=t[3];if(s){var l=e[3];e[3]=l?ln(l,s,t[4]):nt(s),e[4]=l?m(e[3],H):nt(t[4])}return s=t[5],s&&(l=e[5],e[5]=l?cn(l,s,t[6]):nt(s),e[6]=l?m(e[5],H):nt(t[6])),s=t[7],s&&(e[7]=nt(s)),i&A&&(e[8]=null==e[8]?t[8]:ko(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r,e}function ai(e,t){return e===_?t:Ms(e,t,ai)}function oi(e,t){e=di(e);for(var n=-1,i=t.length,r={};++n<i;){var a=t[n];a in e&&(r[a]=e[a])}return r}function si(e,t){var n={};return Mt(e,function(e,i,r){t(e,i,r)&&(n[i]=e)}),n}function li(e,t){for(var n=e.length,i=ko(t.length,n),r=nt(e);i--;){var a=t[i];e[i]=Zn(a,n)?r[a]:_}return e}function ci(e){for(var t=ea(e),n=t.length,i=n&&e.length,r=!!i&&ni(i)&&(Es(e)||Sr(e)),a=-1,o=[];++a<n;){var s=t[a];(r&&Zn(s,i)||eo.call(e,s))&&o.push(s)}return o}function ui(e){return null==e?[]:Jn(e)?Ir(e)?e:qa(e):aa(e)}function di(e){return Ir(e)?e:qa(e)}function hi(e){if(Es(e))return e;var t=[];return r(e).replace(we,function(e,n,i,r){t.push(i?r.replace(Ce,"$1"):n||e)}),t}function pi(e){return e instanceof He?e.clone():new je(e.__wrapped__,e.__chain__,nt(e.__actions__))}function fi(e,t,n){t=(n?Qn(e,t,n):null==t)?1:_o(bo(t)||1,1);for(var i=0,r=e?e.length:0,a=-1,o=ja(mo(r/t));i<r;)o[++a]=Kt(e,i,i+=t);return o}function gi(e){for(var t=-1,n=e?e.length:0,i=-1,r=[];++t<n;){var a=e[t];a&&(r[++i]=a)}return r}function mi(e,t,n){return(e?e.length:0)?((n?Qn(e,t,n):null==t)&&(t=1),Kt(e,t<0?0:t)):[]}function vi(e,t,n){var i=e?e.length:0;return i?((n?Qn(e,t,n):null==t)&&(t=1),t=i-(+t||0),Kt(e,0,t<0?0:t)):[]}function bi(e,t,n){return e&&e.length?tn(e,Hn(t,n,3),!0,!0):[]}function yi(e,t,n){return e&&e.length?tn(e,Hn(t,n,3),!0):[]}function wi(e,t,n,i){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Qn(e,t,n)&&(n=0,i=r),$t(e,t,n,i)):[]}function xi(e){return e?e[0]:_}function _i(e,t,n){var i=e?e.length:0;return n&&Qn(e,t,n)&&(t=!1),i?Et(e,t):[]}function ki(e){return(e?e.length:0)?Et(e,!0):[]}function Ci(e,t,i){var r=e?e.length:0;if(!r)return-1;if("number"==typeof i)i=i<0?_o(r+i,0):i;else if(i){var a=rn(e,t);return a<r&&(t===t?t===e[a]:e[a]!==e[a])?a:-1}return n(e,t,i||0)}function Si(e){return vi(e,1)}function $i(e){var t=e?e.length:0;return t?e[t-1]:_}function Di(e,t,n){var i=e?e.length:0;if(!i)return-1;var r=i;if("number"==typeof n)r=(n<0?_o(i+n,0):ko(n||0,i-1))+1;else if(n){r=rn(e,t,!0)-1;var a=e[r];return(t===t?t===a:a!==a)?r:-1}if(t!==t)return p(e,r,!0);for(;r--;)if(e[r]===t)return r;return-1}function Ti(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,i=Bn(),r=e.length;++n<r;)for(var a=0,o=e[n];(a=i(t,o,a))>-1;)po.call(t,a,1);return t}function Ei(e,t,n){var i=[];if(!e||!e.length)return i;var r=-1,a=[],o=e.length;for(t=Hn(t,n,3);++r<o;){var s=e[r];t(s,r,e)&&(i.push(s),a.push(r))}return Ut(e,a),i}function Mi(e){return mi(e,1)}function Ai(e,t,n){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Qn(e,t,n)&&(t=0,n=i),Kt(e,t,n)):[]}function Oi(e,t,n){return(e?e.length:0)?((n?Qn(e,t,n):null==t)&&(t=1),Kt(e,0,t<0?0:t)):[]}function Pi(e,t,n){var i=e?e.length:0;return i?((n?Qn(e,t,n):null==t)&&(t=1),t=i-(+t||0),Kt(e,t<0?0:t)):[]}function Ii(e,t,n){return e&&e.length?tn(e,Hn(t,n,3),!1,!0):[]}function Ri(e,t,n){return e&&e.length?tn(e,Hn(t,n,3)):[]}function Ni(e,t,i,r){if(!(e?e.length:0))return[];null!=t&&"boolean"!=typeof t&&(r=i,i=Qn(e,t,r)?_:t,t=!1);var a=Hn();return null==i&&a===wt||(i=a(i,r,3)),t&&Bn()===n?v(e,i):Qt(e,i)}function Li(e){if(!e||!e.length)return[];var t=-1,n=0;e=st(e,function(e){if(Jn(e))return n=_o(e.length,n),!0});for(var i=ja(n);++t<n;)i[t]=lt(e,Bt(t));return i}function Fi(e,t,n){if(!(e?e.length:0))return[];var i=Li(e);return null==t?i:(t=on(t,n,4),lt(i,function(e){return ut(e,t,_,!0)}))}function zi(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Jn(n))var i=i?ct(kt(i,n),kt(n,i)):n}return i?Qt(i):[]}function ji(e,t){var n=-1,i=e?e.length:0,r={};for(!i||t||Es(e[0])||(t=[]);++n<i;){var a=e[n];t?r[a]=t[n]:a&&(r[a[0]]=a[1])}return r}function Hi(e){var t=Fe(e);return t.__chain__=!0,t}function Wi(e,t,n){return t.call(n,e),e}function Bi(e,t,n){return t.call(n,e)}function Vi(){return Hi(this)}function Ui(){return new je(this.value(),this.__chain__)}function qi(e){for(var t,n=this;n instanceof ze;){var i=pi(n);t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t}function Yi(){var e=this.__wrapped__,t=function(e){return e.reverse()};if(e instanceof He){var n=e;return this.__actions__.length&&(n=new He(this)),n=n.reverse(),n.__actions__.push({func:Bi,args:[t],thisArg:_}),new je(n,this.__chain__)}return this.thru(t)}function Ki(){return this.value()+""}function Gi(){return nn(this.__wrapped__,this.__actions__)}function Xi(e,t,n){var i=Es(e)?at:Ct;return n&&Qn(e,t,n)&&(t=_),"function"==typeof t&&n===_||(t=Hn(t,n,3)),i(e,t)}function Ji(e,t,n){var i=Es(e)?st:Dt;return t=Hn(t,n,3),i(e,t)}function Zi(e,t){return rs(e,zt(t))}function Qi(e,t,n,i){var r=e?Wo(e):0;return ni(r)||(e=aa(e),r=e.length),n="number"!=typeof n||i&&Qn(t,n,i)?0:n<0?_o(r+n,0):n||0,"string"==typeof e||!Es(e)&&Wr(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&Bn(e,t,n)>-1}function er(e,t,n){var i=Es(e)?lt:Ft;return t=Hn(t,n,3),i(e,t)}function tr(e,t){return er(e,Pa(t))}function nr(e,t,n){var i=Es(e)?st:Dt;return t=Hn(t,n,3),i(e,function(e,n,i){return!t(e,n,i)})}function ir(e,t,n){if(n?Qn(e,t,n):null==t){e=ui(e);var i=e.length;return i>0?e[qt(0,i-1)]:_}var r=-1,a=Yr(e),i=a.length,o=i-1;for(t=ko(t<0?0:+t||0,i);++r<t;){var s=qt(r,o),l=a[s];a[s]=a[r],a[r]=l}return a.length=t,a}function rr(e){return ir(e,To)}function ar(e){var t=e?Wo(e):0;return ni(t)?t:js(e).length}function or(e,t,n){var i=Es(e)?ht:Gt;return n&&Qn(e,t,n)&&(t=_),"function"==typeof t&&n===_||(t=Hn(t,n,3)),i(e,t)}function sr(e,t,n){if(null==e)return[];n&&Qn(e,t,n)&&(t=_);var i=-1;return t=Hn(t,n,3),Xt(Ft(e,function(e,n,r){return{criteria:t(e,n,r),index:++i,value:e}}),s)}function lr(e,t,n,i){return null==e?[]:(i&&Qn(t,n,i)&&(n=_),Es(t)||(t=null==t?[]:[t]),Es(n)||(n=null==n?[]:[n]),Jt(e,t,n))}function cr(e,t){return Ji(e,zt(t))}function ur(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Ga(j);var n=e;e=t,t=n}return e=wo(e=+e)?e:0,function(){if(--e<1)return t.apply(this,arguments)}}function dr(e,t,n){return n&&Qn(e,t,n)&&(t=_),t=e&&null==t?e.length:_o(+t||0,0),Ln(e,A,_,_,_,_,t)}function hr(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Ga(j);var i=e;e=t,t=i}return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=_),n}}function pr(e,t,n){function i(){p&&oo(p),c&&oo(c),g=0,c=p=f=_}function r(t,n){n&&oo(n),c=p=f=_,t&&(g=gs(),u=e.apply(h,l),p||c||(l=h=_))}function a(){var e=t-(gs()-d);e<=0||e>t?r(f,c):p=ho(a,e)}function o(){r(v,p)}function s(){if(l=arguments,d=gs(),h=this,f=v&&(p||!b),!1===m)var n=b&&!p;else{c||b||(g=d);var i=m-(d-g),r=i<=0||i>m;r?(c&&(c=oo(c)),g=d,u=e.apply(h,l)):c||(c=ho(o,i))}return r&&p?p=oo(p):p||t===m||(p=ho(a,t)),n&&(r=!0,u=e.apply(h,l)),!r||p||c||(l=h=_),u}var l,c,u,d,h,p,f,g=0,m=!1,v=!0;if("function"!=typeof e)throw new Ga(j);if(t=t<0?0:+t||0,!0===n){var b=!0;v=!1}else Ir(n)&&(b=!!n.leading,m="maxWait"in n&&_o(+n.maxWait||0,t),v="trailing"in n?!!n.trailing:v);return s.cancel=i,s}function fr(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Ga(j);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var o=e.apply(this,i);return n.cache=a.set(r,o),o};return n.cache=new fr.Cache,n}function gr(e){if("function"!=typeof e)throw new Ga(j);return function(){return!e.apply(this,arguments)}}function mr(e){return hr(2,e)}function vr(e,t){if("function"!=typeof e)throw new Ga(j);return t=_o(t===_?e.length-1:+t||0,0),function(){for(var n=arguments,i=-1,r=_o(n.length-t,0),a=ja(r);++i<r;)a[i]=n[t+i];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var o=ja(t+1);for(i=-1;++i<t;)o[i]=n[i];return o[t]=a,e.apply(this,o)}}function br(e){if("function"!=typeof e)throw new Ga(j);return function(t){
return e.apply(this,t)}}function yr(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new Ga(j);return!1===n?i=!1:Ir(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),pr(e,t,{leading:i,maxWait:+t,trailing:r})}function wr(e,t){return t=null==t?Da:t,Ln(t,E,_,[e],[])}function xr(e,t,n,i){return t&&"boolean"!=typeof t&&Qn(e,t,n)?t=!1:"function"==typeof t&&(i=n,n=t,t=!1),"function"==typeof n?xt(e,t,on(n,i,3)):xt(e,t)}function _r(e,t,n){return"function"==typeof t?xt(e,!0,on(t,n,3)):xt(e,!0)}function kr(e,t){return e>t}function Cr(e,t){return e>=t}function Sr(e){return f(e)&&Jn(e)&&eo.call(e,"callee")&&!co.call(e,"callee")}function $r(e){return!0===e||!1===e||f(e)&&no.call(e)==V}function Dr(e){return f(e)&&no.call(e)==U}function Tr(e){return!!e&&1===e.nodeType&&f(e)&&!jr(e)}function Er(e){return null==e||(Jn(e)&&(Es(e)||Wr(e)||Sr(e)||f(e)&&Pr(e.splice))?!e.length:!js(e).length)}function Mr(e,t,n,i){n="function"==typeof n?on(n,i,3):_;var r=n?n(e,t):_;return r===_?Rt(e,t,n):!!r}function Ar(e){return f(e)&&"string"==typeof e.message&&no.call(e)==q}function Or(e){return"number"==typeof e&&wo(e)}function Pr(e){return Ir(e)&&no.call(e)==Y}function Ir(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Rr(e,t,n,i){return n="function"==typeof n?on(n,i,3):_,Lt(e,Vn(t),n)}function Nr(e){return zr(e)&&e!=+e}function Lr(e){return null!=e&&(Pr(e)?ro.test(Qa.call(e)):f(e)&&Te.test(e))}function Fr(e){return null===e}function zr(e){return"number"==typeof e||f(e)&&no.call(e)==K}function jr(e){var t;if(!f(e)||no.call(e)!=G||Sr(e)||!eo.call(e,"constructor")&&"function"==typeof(t=e.constructor)&&!(t instanceof t))return!1;var n;return Mt(e,function(e,t){n=t}),n===_||eo.call(e,n)}function Hr(e){return Ir(e)&&no.call(e)==X}function Wr(e){return"string"==typeof e||f(e)&&no.call(e)==J}function Br(e){return f(e)&&ni(e.length)&&!!Ne[no.call(e)]}function Vr(e){return e===_}function Ur(e,t){return e<t}function qr(e,t){return e<=t}function Yr(e){var t=e?Wo(e):0;return ni(t)?t?nt(e):[]:aa(e)}function Kr(e){return yt(e,ea(e))}function Gr(e,t,n){var i=Ro(e);return n&&Qn(e,t,n)&&(t=_),t?vt(i,t):i}function Xr(e){return Pt(e,ea(e))}function Jr(e,t,n){var i=null==e?_:It(e,hi(t),t+"");return i===_?n:i}function Zr(e,t){if(null==e)return!1;var n=eo.call(e,t);if(!n&&!ei(t)){if(t=hi(t),null==(e=1==t.length?e:It(e,Kt(t,0,-1))))return!1;t=$i(t),n=eo.call(e,t)}return n||ni(e.length)&&Zn(t,e.length)&&(Es(e)||Sr(e))}function Qr(e,t,n){n&&Qn(e,t,n)&&(t=_);for(var i=-1,r=js(e),a=r.length,o={};++i<a;){var s=r[i],l=e[s];t?eo.call(o,l)?o[l].push(s):o[l]=[s]:o[l]=s}return o}function ea(e){if(null==e)return[];Ir(e)||(e=qa(e));var t=e.length;t=t&&ni(t)&&(Es(e)||Sr(e))&&t||0;for(var n=e.constructor,i=-1,r="function"==typeof n&&n.prototype===e,a=ja(t),o=t>0;++i<t;)a[i]=i+"";for(var s in e)o&&Zn(s,t)||"constructor"==s&&(r||!eo.call(e,s))||a.push(s);return a}function ta(e){e=di(e);for(var t=-1,n=js(e),i=n.length,r=ja(i);++t<i;){var a=n[t];r[t]=[a,e[a]]}return r}function na(e,t,n){var i=null==e?_:e[t];return i===_&&(null==e||ei(t,e)||(t=hi(t),e=1==t.length?e:It(e,Kt(t,0,-1)),i=null==e?_:e[$i(t)]),i=i===_?n:i),Pr(i)?i.call(e):i}function ia(e,t,n){if(null==e)return e;var i=t+"";t=null!=e[i]||ei(t,e)?[i]:hi(t);for(var r=-1,a=t.length,o=a-1,s=e;null!=s&&++r<a;){var l=t[r];Ir(s)&&(r==o?s[l]=n:null==s[l]&&(s[l]=Zn(t[r+1])?[]:{})),s=s[l]}return e}function ra(e,t,n,i){var r=Es(e)||Br(e);if(t=Hn(t,i,4),null==n)if(r||Ir(e)){var a=e.constructor;n=r?Es(e)?new a:[]:Ro(Pr(a)?a.prototype:_)}else n={};return(r?it:At)(e,function(e,i,r){return t(n,e,i,r)}),n}function aa(e){return en(e,js(e))}function oa(e){return en(e,ea(e))}function sa(e,t,n){return t=+t||0,n===_?(n=t,t=0):n=+n||0,e>=ko(t,n)&&e<_o(t,n)}function la(e,t,n){n&&Qn(e,t,n)&&(t=n=_);var i=null==e,r=null==t;if(null==n&&(r&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,r=!0)),i&&r&&(t=1,r=!1),e=+e||0,r?(t=e,e=0):t=+t||0,n||e%1||t%1){var a=$o();return ko(e+a*(t-e+so("1e-"+((a+"").length-1))),t)}return qt(e,t)}function ca(e){return(e=r(e))&&e.charAt(0).toUpperCase()+e.slice(1)}function ua(e){return(e=r(e))&&e.replace(Me,c).replace(ke,"")}function da(e,t,n){e=r(e),t+="";var i=e.length;return n=n===_?i:ko(n<0?0:+n||0,i),(n-=t.length)>=0&&e.indexOf(t,n)==n}function ha(e){return e=r(e),e&&fe.test(e)?e.replace(he,u):e}function pa(e){return e=r(e),e&&_e.test(e)?e.replace(xe,d):e||"(?:)"}function fa(e,t,n){e=r(e),t=+t;var i=e.length;if(i>=t||!wo(t))return e;var a=(t-i)/2,o=bo(a);return n=Pn("",mo(a),n),n.slice(0,o)+e+n}function ga(e,t,n){return(n?Qn(e,t,n):null==t)?t=0:t&&(t=+t),e=ya(e),So(e,t||(De.test(e)?16:10))}function ma(e,t){var n="";if(e=r(e),(t=+t)<1||!e||!wo(t))return n;do{t%2&&(n+=e),t=bo(t/2),e+=e}while(t);return n}function va(e,t,n){return e=r(e),n=null==n?0:ko(n<0?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function ba(e,t,n){var i=Fe.templateSettings;n&&Qn(e,t,n)&&(t=n=_),e=r(e),t=mt(vt({},n||t),i,gt);var a,o,s=mt(vt({},t.imports),i.imports,gt),l=js(s),c=en(s,l),u=0,d=t.interpolate||Ae,p="__p += '",f=Ya((t.escape||Ae).source+"|"+d.source+"|"+(d===ve?Se:Ae).source+"|"+(t.evaluate||Ae).source+"|$","g"),g="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Re+"]")+"\n";e.replace(f,function(t,n,i,r,s,l){return i||(i=r),p+=e.slice(u,l).replace(Oe,h),n&&(a=!0,p+="' +\n__e("+n+") +\n'"),s&&(o=!0,p+="';\n"+s+";\n__p += '"),i&&(p+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+t.length,t}),p+="';\n";var m=t.variable;m||(p="with (obj) {\n"+p+"\n}\n"),p=(o?p.replace(le,""):p).replace(ce,"$1").replace(ue,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=Js(function(){return Ba(l,g+"return "+p).apply(_,c)});if(v.source=p,Ar(v))throw v;return v}function ya(e,t,n){var i=e;return(e=r(e))?(n?Qn(i,t,n):null==t)?e.slice(b(e),y(e)+1):(t+="",e.slice(a(e,t),o(e,t)+1)):e}function wa(e,t,n){var i=e;return e=r(e),e?(n?Qn(i,t,n):null==t)?e.slice(b(e)):e.slice(a(e,t+"")):e}function xa(e,t,n){var i=e;return e=r(e),e?(n?Qn(i,t,n):null==t)?e.slice(0,y(e)+1):e.slice(0,o(e,t+"")+1):e}function _a(e,t,n){n&&Qn(e,t,n)&&(t=_);var i=P,a=I;if(null!=t)if(Ir(t)){var o="separator"in t?t.separator:o;i="length"in t?+t.length||0:i,a="omission"in t?r(t.omission):a}else i=+t||0;if(e=r(e),i>=e.length)return e;var s=i-a.length;if(s<1)return a;var l=e.slice(0,s);if(null==o)return l+a;if(Hr(o)){if(e.slice(s).search(o)){var c,u,d=e.slice(0,s);for(o.global||(o=Ya(o.source,($e.exec(o)||"")+"g")),o.lastIndex=0;c=o.exec(d);)u=c.index;l=l.slice(0,null==u?s:u)}}else if(e.indexOf(o,s)!=s){var h=l.lastIndexOf(o);h>-1&&(l=l.slice(0,h))}return l+a}function ka(e){return e=r(e),e&&pe.test(e)?e.replace(de,w):e}function Ca(e,t,n){return n&&Qn(e,t,n)&&(t=_),e=r(e),e.match(t||Pe)||[]}function Sa(e,t,n){return n&&Qn(e,t,n)&&(t=_),f(e)?Ta(e):wt(e,t)}function $a(e){return function(){return e}}function Da(e){return e}function Ta(e){return zt(xt(e,!0))}function Ea(e,t){return jt(e,xt(t,!0))}function Ma(e,t,n){if(null==n){var i=Ir(t),r=i?js(t):_,a=r&&r.length?Pt(t,r):_;(a?a.length:i)||(a=!1,n=t,t=e,e=this)}a||(a=Pt(t,js(t)));var o=!0,s=-1,l=Pr(e),c=a.length;!1===n?o=!1:Ir(n)&&"chain"in n&&(o=n.chain);for(;++s<c;){var u=a[s],d=t[u];e[u]=d,l&&(e.prototype[u]=function(t){return function(){var n=this.__chain__;if(o||n){var i=e(this.__wrapped__);return(i.__actions__=nt(this.__actions__)).push({func:t,args:arguments,thisArg:e}),i.__chain__=n,i}return t.apply(e,ct([this.value()],arguments))}}(d))}return e}function Aa(){return Xe._=io,this}function Oa(){}function Pa(e){return ei(e)?Bt(e):Vt(e)}function Ia(e){return function(t){return It(e,hi(t),t+"")}}function Ra(e,t,n){n&&Qn(e,t,n)&&(t=n=_),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var i=-1,r=_o(mo((t-e)/(n||1)),0),a=ja(r);++i<r;)a[i]=e,e+=n;return a}function Na(e,t,n){if((e=bo(e))<1||!wo(e))return[];var i=-1,r=ja(ko(e,Eo));for(t=on(t,n,1);++i<e;)i<Eo?r[i]=t(i):t(i);return r}function La(e){var t=++to;return r(e)+t}function Fa(e,t){return(+e||0)+(+t||0)}function za(e,t,n){return n&&Qn(e,t,n)&&(t=_),t=Hn(t,n,3),1==t.length?pt(Es(e)?e:ui(e),t):Zt(e,t)}g=g?Je.defaults(Xe.Object(),g,Je.pick(Xe,Ie)):Xe;var ja=g.Array,Ha=g.Date,Wa=g.Error,Ba=g.Function,Va=g.Math,Ua=g.Number,qa=g.Object,Ya=g.RegExp,Ka=g.String,Ga=g.TypeError,Xa=ja.prototype,Ja=qa.prototype,Za=Ka.prototype,Qa=Ba.prototype.toString,eo=Ja.hasOwnProperty,to=0,no=Ja.toString,io=Xe._,ro=Ya("^"+Qa.call(eo).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ao=g.ArrayBuffer,oo=g.clearTimeout,so=g.parseFloat,lo=Va.pow,co=Ja.propertyIsEnumerable,uo=Un(g,"Set"),ho=g.setTimeout,po=Xa.splice,fo=g.Uint8Array,go=Un(g,"WeakMap"),mo=Va.ceil,vo=Un(qa,"create"),bo=Va.floor,yo=Un(ja,"isArray"),wo=g.isFinite,xo=Un(qa,"keys"),_o=Va.max,ko=Va.min,Co=Un(Ha,"now"),So=g.parseInt,$o=Va.random,Do=Ua.NEGATIVE_INFINITY,To=Ua.POSITIVE_INFINITY,Eo=4294967295,Mo=Eo-1,Ao=Eo>>>1,Oo=9007199254740991,Po=go&&new go,Io={};Fe.support={};Fe.templateSettings={escape:ge,evaluate:me,interpolate:ve,variable:"",imports:{_:Fe}};var Ro=function(){function e(){}return function(t){if(Ir(t)){e.prototype=t;var n=new e;e.prototype=_}return n||{}}}(),No=hn(At),Lo=hn(Ot,!0),Fo=pn(),zo=pn(!0),jo=Po?function(e,t){return Po.set(e,t),e}:Da,Ho=Po?function(e){return Po.get(e)}:Oa,Wo=Bt("length"),Bo=function(){var e=0,t=0;return function(n,i){var r=gs(),a=N-(r-t);if(t=r,a>0){if(++e>=R)return n}else e=0;return jo(n,i)}}(),Vo=vr(function(e,t){return f(e)&&Jn(e)?kt(e,Et(t,!1,!0)):[]}),Uo=_n(),qo=_n(!0),Yo=vr(function(e){for(var t=e.length,i=t,r=ja(d),a=Bn(),o=a===n,s=[];i--;){var l=e[i]=Jn(l=e[i])?l:[];r[i]=o&&l.length>=120?gn(i&&l):null}var c=e[0],u=-1,d=c?c.length:0,h=r[0];e:for(;++u<d;)if(l=c[u],(h?Qe(h,l):a(s,l,0))<0){for(var i=t;--i;){var p=r[i];if((p?Qe(p,l):a(e[i],l,0))<0)continue e}h&&h.push(l),s.push(l)}return s}),Ko=vr(function(t,n){n=Et(n);var i=bt(t,n);return Ut(t,n.sort(e)),i}),Go=Nn(),Xo=Nn(!0),Jo=vr(function(e){return Qt(Et(e,!1,!0))}),Zo=vr(function(e,t){return Jn(e)?kt(e,t):[]}),Qo=vr(Li),es=vr(function(e){var t=e.length,n=t>2?e[t-2]:_,i=t>1?e[t-1]:_;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof i?(--t,i):_,i=_),e.length=t,Fi(e,n,i)}),ts=vr(function(e){return e=Et(e),this.thru(function(t){return tt(Es(t)?t:[di(t)],e)})}),ns=vr(function(e,t){return bt(e,Et(t))}),is=un(function(e,t,n){eo.call(e,n)?++e[n]:e[n]=1}),rs=xn(No),as=xn(Lo,!0),os=Sn(it,No),ss=Sn(rt,Lo),ls=un(function(e,t,n){eo.call(e,n)?e[n].push(t):e[n]=[t]}),cs=un(function(e,t,n){e[n]=t}),us=vr(function(e,t,n){var i=-1,r="function"==typeof t,a=ei(t),o=Jn(e)?ja(e.length):[];return No(e,function(e){var s=r?t:a&&null!=e?e[t]:_;o[++i]=s?s.apply(e,n):Xn(e,t,n)}),o}),ds=un(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),hs=An(ut,No),ps=An(dt,Lo),fs=vr(function(e,t){if(null==e)return[];var n=t[2];return n&&Qn(t[0],t[1],n)&&(t.length=1),Jt(e,Et(t),[])}),gs=Co||function(){return(new Ha).getTime()},ms=vr(function(e,t,n){var i=C;if(n.length){var r=m(n,ms.placeholder);i|=E}return Ln(e,i,t,n,r)}),vs=vr(function(e,t){t=t.length?Et(t):Xr(e);for(var n=-1,i=t.length;++n<i;){var r=t[n];e[r]=Ln(e[r],C,e)}return e}),bs=vr(function(e,t,n){var i=C|S;if(n.length){var r=m(n,bs.placeholder);i|=E}return Ln(t,i,e,n,r)}),ys=bn(D),ws=bn(T),xs=vr(function(e,t){return _t(e,1,t)}),_s=vr(function(e,t,n){return _t(e,t,n)}),ks=Cn(),Cs=Cn(!0),Ss=vr(function(e,t){if(t=Et(t),"function"!=typeof e||!at(t,i))throw new Ga(j);var n=t.length;return vr(function(i){for(var r=ko(i.length,n);r--;)i[r]=t[r](i[r]);return e.apply(this,i)})}),$s=Mn(E),Ds=Mn(M),Ts=vr(function(e,t){return Ln(e,O,_,_,_,Et(t))}),Es=yo||function(e){return f(e)&&ni(e.length)&&no.call(e)==B},Ms=dn(Ht),As=dn(function(e,t,n){return n?mt(e,t,n):vt(e,t)}),Os=yn(As,ft),Ps=yn(Ms,ai),Is=kn(At),Rs=kn(Ot),Ns=$n(Fo),Ls=$n(zo),Fs=Dn(At),zs=Dn(Ot),js=xo?function(e){var t=null==e?_:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Jn(e)?ci(e):Ir(e)?xo(e):[]}:ci,Hs=Tn(!0),Ws=Tn(),Bs=vr(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=lt(Et(t),Ka);return oi(e,kt(ea(e),t))}var n=on(t[0],t[1],3);return si(e,function(e,t,i){return!n(e,t,i)})}),Vs=vr(function(e,t){return null==e?{}:"function"==typeof t[0]?si(e,on(t[0],t[1],3)):oi(e,Et(t))}),Us=mn(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),qs=mn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Ys=En(),Ks=En(!0),Gs=mn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Xs=mn(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Js=vr(function(e,t){try{return e.apply(_,t)}catch(e){return Ar(e)?e:new Wa(e)}}),Zs=vr(function(e,t){return function(n){return Xn(n,e,t)}}),Qs=vr(function(e,t){return function(n){return Xn(e,n,t)}}),el=Rn("ceil"),tl=Rn("floor"),nl=wn(kr,Do),il=wn(Ur,To),rl=Rn("round");return Fe.prototype=ze.prototype,je.prototype=Ro(ze.prototype),je.prototype.constructor=je,He.prototype=Ro(ze.prototype),He.prototype.constructor=He,Ue.prototype.delete=qe,Ue.prototype.get=Ye,Ue.prototype.has=Ke,Ue.prototype.set=Ge,Ze.prototype.push=et,fr.Cache=Ue,Fe.after=ur,Fe.ary=dr,Fe.assign=As,Fe.at=ns,Fe.before=hr,Fe.bind=ms,Fe.bindAll=vs,Fe.bindKey=bs,Fe.callback=Sa,Fe.chain=Hi,Fe.chunk=fi,Fe.compact=gi,Fe.constant=$a,Fe.countBy=is,Fe.create=Gr,Fe.curry=ys,Fe.curryRight=ws,Fe.debounce=pr,Fe.defaults=Os,Fe.defaultsDeep=Ps,Fe.defer=xs,Fe.delay=_s,Fe.difference=Vo,Fe.drop=mi,Fe.dropRight=vi,Fe.dropRightWhile=bi,Fe.dropWhile=yi,Fe.fill=wi,Fe.filter=Ji,Fe.flatten=_i,Fe.flattenDeep=ki,Fe.flow=ks,Fe.flowRight=Cs,Fe.forEach=os,Fe.forEachRight=ss,Fe.forIn=Ns,Fe.forInRight=Ls,Fe.forOwn=Fs,Fe.forOwnRight=zs,Fe.functions=Xr,Fe.groupBy=ls,Fe.indexBy=cs,Fe.initial=Si,Fe.intersection=Yo,Fe.invert=Qr,Fe.invoke=us,Fe.keys=js,Fe.keysIn=ea,Fe.map=er,Fe.mapKeys=Hs,Fe.mapValues=Ws,Fe.matches=Ta,Fe.matchesProperty=Ea,Fe.memoize=fr,Fe.merge=Ms,Fe.method=Zs,Fe.methodOf=Qs,Fe.mixin=Ma,Fe.modArgs=Ss,Fe.negate=gr,Fe.omit=Bs,Fe.once=mr,Fe.pairs=ta,Fe.partial=$s,Fe.partialRight=Ds,Fe.partition=ds,Fe.pick=Vs,Fe.pluck=tr,Fe.property=Pa,Fe.propertyOf=Ia,Fe.pull=Ti,Fe.pullAt=Ko,Fe.range=Ra,Fe.rearg=Ts,Fe.reject=nr,Fe.remove=Ei,Fe.rest=Mi,Fe.restParam=vr,Fe.set=ia,Fe.shuffle=rr,Fe.slice=Ai,Fe.sortBy=sr,Fe.sortByAll=fs,Fe.sortByOrder=lr,Fe.spread=br,Fe.take=Oi,Fe.takeRight=Pi,Fe.takeRightWhile=Ii,Fe.takeWhile=Ri,Fe.tap=Wi,Fe.throttle=yr,Fe.thru=Bi,Fe.times=Na,Fe.toArray=Yr,Fe.toPlainObject=Kr,Fe.transform=ra,Fe.union=Jo,Fe.uniq=Ni,Fe.unzip=Li,Fe.unzipWith=Fi,Fe.values=aa,Fe.valuesIn=oa,Fe.where=cr,Fe.without=Zo,Fe.wrap=wr,Fe.xor=zi,Fe.zip=Qo,Fe.zipObject=ji,Fe.zipWith=es,Fe.backflow=Cs,Fe.collect=er,Fe.compose=Cs,Fe.each=os,Fe.eachRight=ss,Fe.extend=As,Fe.iteratee=Sa,Fe.methods=Xr,Fe.object=ji,Fe.select=Ji,Fe.tail=Mi,Fe.unique=Ni,Ma(Fe,Fe),Fe.add=Fa,Fe.attempt=Js,Fe.camelCase=Us,Fe.capitalize=ca,Fe.ceil=el,Fe.clone=xr,Fe.cloneDeep=_r,Fe.deburr=ua,Fe.endsWith=da,Fe.escape=ha,Fe.escapeRegExp=pa,Fe.every=Xi,Fe.find=rs,Fe.findIndex=Uo,Fe.findKey=Is,Fe.findLast=as,Fe.findLastIndex=qo,Fe.findLastKey=Rs,Fe.findWhere=Zi,Fe.first=xi,Fe.floor=tl,Fe.get=Jr,Fe.gt=kr,Fe.gte=Cr,Fe.has=Zr,Fe.identity=Da,Fe.includes=Qi,Fe.indexOf=Ci,Fe.inRange=sa,Fe.isArguments=Sr,Fe.isArray=Es,Fe.isBoolean=$r,Fe.isDate=Dr,Fe.isElement=Tr,Fe.isEmpty=Er,Fe.isEqual=Mr,Fe.isError=Ar,Fe.isFinite=Or,Fe.isFunction=Pr,Fe.isMatch=Rr,Fe.isNaN=Nr,Fe.isNative=Lr,Fe.isNull=Fr,Fe.isNumber=zr,Fe.isObject=Ir,Fe.isPlainObject=jr,Fe.isRegExp=Hr,Fe.isString=Wr,Fe.isTypedArray=Br,Fe.isUndefined=Vr,Fe.kebabCase=qs,Fe.last=$i,Fe.lastIndexOf=Di,Fe.lt=Ur,Fe.lte=qr,Fe.max=nl,Fe.min=il,Fe.noConflict=Aa,Fe.noop=Oa,Fe.now=gs,Fe.pad=fa,Fe.padLeft=Ys,Fe.padRight=Ks,Fe.parseInt=ga,Fe.random=la,Fe.reduce=hs,Fe.reduceRight=ps,Fe.repeat=ma,Fe.result=na,Fe.round=rl,Fe.runInContext=x,Fe.size=ar,Fe.snakeCase=Gs,Fe.some=or,Fe.sortedIndex=Go,Fe.sortedLastIndex=Xo,Fe.startCase=Xs,Fe.startsWith=va,Fe.sum=za,Fe.template=ba,Fe.trim=ya,Fe.trimLeft=wa,Fe.trimRight=xa,Fe.trunc=_a,Fe.unescape=ka,Fe.uniqueId=La,Fe.words=Ca,Fe.all=Xi,Fe.any=or,Fe.contains=Qi,Fe.eq=Mr,Fe.detect=rs,Fe.foldl=hs,Fe.foldr=ps,Fe.head=xi,Fe.include=Qi,Fe.inject=hs,Ma(Fe,function(){var e={};return At(Fe,function(t,n){Fe.prototype[n]||(e[n]=t)}),e}(),!1),Fe.sample=ir,Fe.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return ir(t,e)}):ir(this.value())},Fe.VERSION=k,it(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Fe[e].placeholder=Fe}),it(["drop","take"],function(e,t){He.prototype[e]=function(n){var i=this.__filtered__;if(i&&!t)return new He(this);n=null==n?1:_o(bo(n)||0,0);var r=this.clone();return i?r.__takeCount__=ko(r.__takeCount__,n):r.__views__.push({size:n,type:e+(r.__dir__<0?"Right":"")}),r},He.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),it(["filter","map","takeWhile"],function(e,t){var n=t+1,i=n!=z;He.prototype[e]=function(e,t){var r=this.clone();return r.__iteratees__.push({iteratee:Hn(e,t,1),type:n}),r.__filtered__=r.__filtered__||i,r}}),it(["first","last"],function(e,t){var n="take"+(t?"Right":"");He.prototype[e]=function(){return this[n](1).value()[0]}}),it(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");He.prototype[e]=function(){return this.__filtered__?new He(this):this[n](1)}}),it(["pluck","where"],function(e,t){var n=t?"filter":"map",i=t?zt:Pa;He.prototype[e]=function(e){return this[n](i(e))}}),He.prototype.compact=function(){return this.filter(Da)},He.prototype.reject=function(e,t){return e=Hn(e,t,1),this.filter(function(t){return!e(t)})},He.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||t<0)?new He(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==_&&(t=+t||0,n=t<0?n.dropRight(-t):n.take(t-e)),n)},He.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},He.prototype.toArray=function(){return this.take(To)},At(He.prototype,function(e,t){var n=/^(?:filter|map|reject)|While$/.test(t),i=/^(?:first|last)$/.test(t),r=Fe[i?"take"+("last"==t?"Right":""):t];r&&(Fe.prototype[t]=function(){var t=i?[1]:arguments,a=this.__chain__,o=this.__wrapped__,s=!!this.__actions__.length,l=o instanceof He,c=t[0],u=l||Es(o);u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var d=function(e){return i&&a?r(e,1)[0]:r.apply(_,ct([e],t))},h={func:Bi,args:[d],thisArg:_},p=l&&!s;if(i&&!a)return p?(o=o.clone(),o.__actions__.push(h),e.call(o)):r.call(_,this.value())[0];if(!i&&u){o=p?o:new He(this);var f=e.apply(o,t);return f.__actions__.push(h),new je(f,a)}return this.thru(d)})}),it(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var t=(/^(?:replace|split)$/.test(e)?Za:Xa)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(e);Fe.prototype[e]=function(){var e=arguments;return i&&!this.__chain__?t.apply(this.value(),e):this[n](function(n){return t.apply(n,e)})}}),At(He.prototype,function(e,t){var n=Fe[t];if(n){var i=n.name+"";(Io[i]||(Io[i]=[])).push({name:t,func:n})}}),Io[On(_,S).name]=[{name:"wrapper",func:_}],He.prototype.clone=We,He.prototype.reverse=Be,He.prototype.value=Ve,Fe.prototype.chain=Vi,Fe.prototype.commit=Ui,Fe.prototype.concat=ts,Fe.prototype.plant=qi,Fe.prototype.reverse=Yi,Fe.prototype.toString=Ki,Fe.prototype.run=Fe.prototype.toJSON=Fe.prototype.valueOf=Fe.prototype.value=Gi,Fe.prototype.collect=Fe.prototype.map,Fe.prototype.head=Fe.prototype.first,Fe.prototype.select=Fe.prototype.filter,Fe.prototype.tail=Fe.prototype.rest,Fe}var _,k="3.10.1",C=1,S=2,$=4,D=8,T=16,E=32,M=64,A=128,O=256,P=30,I="...",R=150,N=16,L=200,F=1,z=2,j="Expected a function",H="__lodash_placeholder__",W="[object Arguments]",B="[object Array]",V="[object Boolean]",U="[object Date]",q="[object Error]",Y="[object Function]",K="[object Number]",G="[object Object]",X="[object RegExp]",J="[object String]",Z="[object ArrayBuffer]",Q="[object Float32Array]",ee="[object Float64Array]",te="[object Int8Array]",ne="[object Int16Array]",ie="[object Int32Array]",re="[object Uint8Array]",ae="[object Uint8ClampedArray]",oe="[object Uint16Array]",se="[object Uint32Array]",le=/\b__p \+= '';/g,ce=/\b(__p \+=) '' \+/g,ue=/(__e\(.*?\)|\b__t\)) \+\n'';/g,de=/&(?:amp|lt|gt|quot|#39|#96);/g,he=/[&<>"'`]/g,pe=RegExp(de.source),fe=RegExp(he.source),ge=/<%-([\s\S]+?)%>/g,me=/<%([\s\S]+?)%>/g,ve=/<%=([\s\S]+?)%>/g,be=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,ye=/^\w*$/,we=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,xe=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,_e=RegExp(xe.source),ke=/[\u0300-\u036f\ufe20-\ufe23]/g,Ce=/\\(\\)?/g,Se=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$e=/\w*$/,De=/^0[xX]/,Te=/^\[object .+?Constructor\]$/,Ee=/^\d+$/,Me=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ae=/($^)/,Oe=/['\n\r\u2028\u2029\\]/g,Pe=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),Ie=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Re=-1,Ne={};Ne[Q]=Ne[ee]=Ne[te]=Ne[ne]=Ne[ie]=Ne[re]=Ne[ae]=Ne[oe]=Ne[se]=!0,Ne[W]=Ne[B]=Ne[Z]=Ne[V]=Ne[U]=Ne[q]=Ne[Y]=Ne["[object Map]"]=Ne[K]=Ne[G]=Ne[X]=Ne["[object Set]"]=Ne[J]=Ne["[object WeakMap]"]=!1;var Le={};Le[W]=Le[B]=Le[Z]=Le[V]=Le[U]=Le[Q]=Le[ee]=Le[te]=Le[ne]=Le[ie]=Le[K]=Le[G]=Le[X]=Le[J]=Le[re]=Le[ae]=Le[oe]=Le[se]=!0,Le[q]=Le[Y]=Le["[object Map]"]=Le["[object Set]"]=Le["[object WeakMap]"]=!1;var Fe={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},ze={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},je={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},He={function:!0,object:!0},We={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Be={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ve=He[typeof exports]&&exports&&!exports.nodeType&&exports,Ue=He[typeof module]&&module&&!module.nodeType&&module,qe=Ve&&Ue&&"object"==typeof global&&global&&global.Object&&global,Ye=He[typeof self]&&self&&self.Object&&self,Ke=He[typeof window]&&window&&window.Object&&window,Ge=Ue&&Ue.exports===Ve&&Ve,Xe=qe||Ke!==(this&&this.window)&&Ke||Ye||this,Je=x();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Xe._=Je,define(function(){return Je})):Ve&&Ue?Ge?(Ue.exports=Je)._=Je:Ve._=Je:Xe._=Je}.call(this),/** 
* @version 2.1.8
* @license MIT
*/
function(e,t){"use strict";e.module("smart-table",[]).run(["$templateCache",function(e){e.put("template/smart-table/pagination.html",'<nav ng-if="numPages && pages.length >= 2"><ul class="pagination"><li ng-repeat="page in pages" ng-class="{active: page==currentPage}"><a href="javascript: void(0);" ng-click="selectPage(page)">{{page}}</a></li></ul></nav>')}]),e.module("smart-table").constant("stConfig",{pagination:{template:"template/smart-table/pagination.html",itemsByPage:10,displayedPages:5},search:{delay:400,inputEvent:"input"},select:{mode:"single",selectedClass:"st-selected"},sort:{ascentClass:"st-sort-ascent",descentClass:"st-sort-descent",descendingFirst:!1,skipNatural:!1,delay:300},pipe:{delay:100}}),e.module("smart-table").controller("stTableController",["$scope","$parse","$filter","$attrs",function(t,n,i,r){function a(e){return e?[].concat(e):[]}function o(){m=a(l(t)),!0===b&&y.pipe()}function s(e,t){if(-1!=t.indexOf(".")){var i=t.split("."),r=i.pop(),a=i.join("."),o=n(a)(e);delete o[r],0==Object.keys(o).length&&s(e,a)}else delete e[t]}var l,c,u,d=r.stTable,h=n(d),p=h.assign,f=i("orderBy"),g=i("filter"),m=a(h(t)),v={sort:{},search:{},pagination:{start:0,totalItemCount:0}},b=!0,y=this;r.stSafeSrc&&(l=n(r.stSafeSrc),t.$watch(function(){var e=l(t);/** 
* @version 2.1.8
* @license MIT
*/
return e&&e.length?e[0]:void 0},function(e,t){e!==t&&o()}),t.$watch(function(){var e=l(t);return e?e.length:0},function(e,t){e!==m.length&&o()}),t.$watch(function(){return l(t)},function(e,t){e!==t&&(v.pagination.start=0,o())})),this.sortBy=function(t,n){return v.sort.predicate=t,v.sort.reverse=!0===n,e.isFunction(t)?v.sort.functionName=t.name:delete v.sort.functionName,v.pagination.start=0,this.pipe()},this.search=function(t,i){var r=v.search.predicateObject||{},a=i||"$";return t=e.isString(t)?t.trim():t,n(a).assign(r,t),t||s(r,a),v.search.predicateObject=r,v.pagination.start=0,this.pipe()},this.pipe=function(){var e,n=v.pagination;c=v.search.predicateObject?g(m,v.search.predicateObject):m,v.sort.predicate&&(c=f(c,v.sort.predicate,v.sort.reverse)),n.totalItemCount=c.length,void 0!==n.number&&(n.numberOfPages=c.length>0?Math.ceil(c.length/n.number):1,n.start=n.start>=c.length?(n.numberOfPages-1)*n.number:n.start,e=c.slice(n.start,n.start+parseInt(n.number))),p(t,e||c)},this.select=function(e,n){var i=a(h(t)),r=i.indexOf(e);-1!==r&&("single"===n?(e.isSelected=!0!==e.isSelected,u&&(u.isSelected=!1),u=!0===e.isSelected?e:void 0):i[r].isSelected=!i[r].isSelected)},this.slice=function(e,t){return v.pagination.start=e,v.pagination.number=t,this.pipe()},this.tableState=function(){return v},this.getFilteredCollection=function(){return c||m},this.setFilterFunction=function(e){g=i(e)},this.setSortFunction=function(e){f=i(e)},this.preventPipeOnWatch=function(){b=!1}}]).directive("stTable",function(){return{restrict:"A",controller:"stTableController",link:function(e,t,n,i){n.stSetFilter&&i.setFilterFunction(n.stSetFilter),n.stSetSort&&i.setSortFunction(n.stSetSort)}}}),e.module("smart-table").directive("stSearch",["stConfig","$timeout","$parse",function(e,t,n){return{require:"^stTable",link:function(i,r,a,o){var s=o,l=null,c=a.stDelay||e.search.delay,u=a.stInputEvent||e.search.inputEvent;a.$observe("stSearch",function(e,t){var n=r[0].value;e!==t&&n&&(o.tableState().search={},s.search(n,e))}),i.$watch(function(){return o.tableState().search},function(e,t){var i=a.stSearch||"$";e.predicateObject&&n(i)(e.predicateObject)!==r[0].value&&(r[0].value=n(i)(e.predicateObject)||"")},!0),r.bind(u,function(e){e=e.originalEvent||e,null!==l&&t.cancel(l),l=t(function(){s.search(e.target.value,a.stSearch||""),l=null},c)})}}}]),e.module("smart-table").directive("stSelectRow",["stConfig",function(e){return{restrict:"A",require:"^stTable",scope:{row:"=stSelectRow"},link:function(t,n,i,r){var a=i.stSelectMode||e.select.mode;n.bind("click",function(){t.$apply(function(){r.select(t.row,a)})}),t.$watch("row.isSelected",function(t){!0===t?n.addClass(e.select.selectedClass):n.removeClass(e.select.selectedClass)})}}}]),e.module("smart-table").directive("stSort",["stConfig","$parse","$timeout",function(t,n,i){return{restrict:"A",require:"^stTable",link:function(r,a,o,s){function l(){v?h=0===h?2:h-1:h++;var t;u=e.isFunction(d(r))||e.isArray(d(r))?d(r):o.stSort,h%3==0&&!0!=!!m?(h=0,s.tableState().sort={},s.tableState().pagination.start=0,t=s.pipe.bind(s)):t=s.sortBy.bind(s,u,h%2==0),null!==b&&i.cancel(b),y<0?t():b=i(t,y)}var c,u=o.stSort,d=n(u),h=0,p=o.stClassAscent||t.sort.ascentClass,f=o.stClassDescent||t.sort.descentClass,g=[p,f],m=void 0!==o.stSkipNatural?o.stSkipNatural:t.sort.skipNatural,v=void 0!==o.stDescendingFirst?o.stDescendingFirst:t.sort.descendingFirst,b=null,y=o.stDelay||t.sort.delay;o.stSortDefault&&(c=void 0!==r.$eval(o.stSortDefault)?r.$eval(o.stSortDefault):o.stSortDefault),a.bind("click",function(){u&&r.$apply(l)}),c&&(h="reverse"===c?1:0,l()),r.$watch(function(){return s.tableState().sort},function(e){e.predicate!==u?(h=0,a.removeClass(p).removeClass(f)):(h=!0===e.reverse?2:1,a.removeClass(g[h%2]).addClass(g[h-1]))},!0)}}}]),e.module("smart-table").directive("stPagination",["stConfig",function(e){return{restrict:"EA",require:"^stTable",scope:{stItemsByPage:"=?",stDisplayedPages:"=?",stPageChange:"&"},templateUrl:function(t,n){return n.stTemplate?n.stTemplate:e.pagination.template},link:function(t,n,i,r){function a(){var e,n,i=r.tableState().pagination,a=1,o=t.currentPage;for(t.totalItemCount=i.totalItemCount,t.currentPage=Math.floor(i.start/i.number)+1,a=Math.max(a,t.currentPage-Math.abs(Math.floor(t.stDisplayedPages/2))),e=a+t.stDisplayedPages,e>i.numberOfPages&&(e=i.numberOfPages+1,a=Math.max(1,e-t.stDisplayedPages)),t.pages=[],t.numPages=i.numberOfPages,n=a;n<e;n++)t.pages.push(n);o!==t.currentPage&&t.stPageChange({newPage:t.currentPage})}t.stItemsByPage=t.stItemsByPage?+t.stItemsByPage:e.pagination.itemsByPage,t.stDisplayedPages=t.stDisplayedPages?+t.stDisplayedPages:e.pagination.displayedPages,t.currentPage=1,t.pages=[],t.$watch(function(){return r.tableState().pagination},a,!0),t.$watch("stItemsByPage",function(e,n){e!==n&&t.selectPage(1)}),t.$watch("stDisplayedPages",a),t.selectPage=function(e){e>0&&e<=t.numPages&&r.slice((e-1)*t.stItemsByPage,t.stItemsByPage)},r.tableState().pagination.number||r.slice(0,t.stItemsByPage)}}}]),e.module("smart-table").directive("stPipe",["stConfig","$timeout",function(t,n){return{require:"stTable",scope:{stPipe:"="},link:{pre:function(i,r,a,o){var s=null;e.isFunction(i.stPipe)&&(o.preventPipeOnWatch(),o.pipe=function(){return null!==s&&n.cancel(s),s=n(function(){i.stPipe(o.tableState(),o)},t.pipe.delay)})},post:function(e,t,n,i){i.pipe()}}}}])}(angular),function(){angular.module("mnoUiElements",[])}(),function(){angular.module("mnoUiElements").component("mnoCreateTaskModal",{bindings:{resolve:"<",close:"&",dismiss:"&"},template:'<div class="modal-header"></div><div class="modal-body" id="modal-body"><form name="$ctrl.createTaskForm"><div class="form-group"><label>To</label> <input type="text" class="form-control" name="to" ng-model="$ctrl.selectedRecipient" uib-typeahead="recipient as recipient.name for recipient in $ctrl.recipients | filter:{name:$viewValue}" typeahead-min-length="0" autocomplete="off" typeahead-editable="false" required></div><div class="form-group"><label>Title</label> <input type="text" name="title" class="form-control" ng-model="$ctrl.task.title" required></div><div class="row"><div class="col-xs-12 col-md-12"><label>Due Date (optional)</label><p class="input-group"><input type="text" class="form-control" uib-datepicker-popup="{{$ctrl.datepicker.options.format}}" ng-model="$ctrl.taskDueDate" ng-model-options="{timezone: \'utc\'}" is-open="$ctrl.datepicker.opened" close-text="Close"> <span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="$ctrl.openDatepicker()"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><div class="form-group"><label>Message</label> <textarea class="form-control" name="message" rows="3" ng-model="$ctrl.task.message" required></textarea></div></form></div><div class="modal-footer"><button class="btn btn-default" ng-disabled="$ctrl.loading" type="button" ng-click="$ctrl.cancel()">Discard</button> <button class="btn btn-warning" ng-disabled="$ctrl.isCreateTaskFormDisabled()" type="button" ng-click="$ctrl.ok(\'draft\')">{{$ctrl.isDraft ? \'Update\' : \'Save as\'}} draft</button> <button class="btn btn-success" ng-disabled="$ctrl.isCreateTaskFormDisabled()" type="button" ng-click="$ctrl.ok()">Send</button></div>',controller:["MnoDateHelper",function(e){var t;return t=this,t.loading=!1,t.$onInit=function(){var e,n;if(t.task={},t.isDraft=!_.isEmpty(t.resolve.draftTask),t.datepicker={options:{format:"dd MMMM yyyy"},opened:!1},t.recipients=_.map(t.resolve.recipients,function(e){return{id:e.id,name:t.resolve.recipientFormatter(e)}}),t.isDraft&&(e=t.resolve.draftTask,n=e.task_recipients[0],t.selectedRecipient={id:n.orga_relation_id,name:t.resolve.recipientFormatter(n)},t.task=_.pick(e,["id","title","message"]),null!=e.due_date))return t.taskDueDate=moment.utc(e.due_date).toDate()},t.ok=function(n){var i;return null==n&&(n="sent"),t.loading=!0,angular.merge(t.task,{status:n,orga_relation_id:t.selectedRecipient.id}),_.isDate(t.taskDueDate)&&(t.task.due_date=e.parseAsUTCDate(t.taskDueDate)),i=t.isDraft?t.resolve.updateDraftCb:t.resolve.createTaskCb,i(t.task).then(function(){return t.close()})},t.cancel=function(){return t.dismiss()},t.openDatepicker=function(){return t.datepicker.opened=!0},t.isCreateTaskFormDisabled=function(){var e;return t.loading||!(t.createTaskForm.$valid&&(e=t.selectedRecipient)&&null!=e.id)},t}]})}.call(this),function(){angular.module("mnoUiElements").component("mnoDropdownFilterSelector",{template:'<div class="btn-group" uib-dropdown ng-if="$ctrl.filters.length"><div id="split-button" class="btn btn-primary" ng-bind="$ctrl.selected.name"></div><button type="button" class="btn btn-primary" uib-dropdown-toggle><span class="caret"></span> <span class="sr-only"></span></button><ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="split-button"><li role="menuitem" ng-repeat="filter in $ctrl.filters"><a ng-click="$ctrl.onSelect({$event: {filter: filter}})" ng-bind="filter.name"></a></li></ul></div>',bindings:{filters:"<",selected:"<",onSelect:"&"}})}.call(this),function(){angular.module("mnoUiElements").component("mnoAdmin",{template:'<div id="sidebar-wrapper" ng-class="{\'reduced\': $ctrl.reduced}"><ul class="sidebar"><li class="sidebar-main"><a ng-click="$ctrl.reduceSidebar()"><span ng-if="!$ctrl.logo">{{$ctrl.name}}</span> <img class="sidebar-logo visible-sm visible-xs" src="{{$ctrl.logo}}"> <span class="menu-icon glyphicon glyphicon-transfer hidden-sm hidden-xs"></span></a></li><div ng-transclude="navigation"></div></ul><div class="sidebar-footer"></div></div><div id="content-wrapper" ng-class="{\'open\': $ctrl.toggled, \'reduced\': $ctrl.reduced}"><header class="header"><a class="header-sidebar-toggle visible-sm visible-xs" ng-click="$ctrl.toggleSidebar()"><div id="hamburger-toggle" ng-class="{\'open\': $ctrl.toggled}"><span></span> <span></span> <span></span></div></a><div ng-transclude="header"></div></header><div class="page-content"><div class="container" ng-transclude="content"></div></div><footer ng-if="!$ctrl.hideFooter"><div ng-transclude="footer"></div></footer></div>',transclude:{header:"mnoAdminHeader",navigation:"mnoAdminNav",content:"mnoAdminContent",footer:"?mnoAdminFooter"},bindings:{logo:"@?",name:"@?",hideFooter:"="},controller:["$scope",function(e){var t;t=this,t.$onInit=function(){return t.toggled=!1,t.reduced=!(window.innerWidth>992)},t.reduceSidebar=function(){if(!t.toggled)return t.reduced=!t.reduced},t.toggleSidebar=function(){return t.toggled=!t.toggled,t.reduced=!t.toggled},e.$watch(function(){return window.innerWidth},function(e){if(e)return t.toggled=!1,t.reduced=window.innerWidth<1200}),window.onresize=function(){return e.$apply()}}]})}.call(this),function(){angular.module("mnoUiElements").component("mnoImageSelector",{bindings:{maxSize:"<",defaultPreview:"@",required:"@",isDisabled:"="},require:{form:"^form",ngModel:"ngModel"},template:'<input type="file" ngf-select ng-model="$ctrl.file" ng-change="$ctrl.updateParentModel()" name="logoFile"\n       ngf-pattern="\'image/*,!.svg\'" ngf-accept="\'image/*\'" ngf-max-size="$ctrl.maxSize" ngf-model-invalid="errorFile"\n       ng-disabled="$ctrl.isDisabled">\n\n<div class="top-buffer-1">\n  <img ng-show="$ctrl.file" ngf-thumbnail="$ctrl.file" class="img-thumbnail">\n  <img ng-show="!$ctrl.file && $ctrl.defaultPreview" ng-src="{{$ctrl.defaultPreview}}" class="img-thumbnail">\n</div>\n\n<div class="text-danger" ng-if="$ctrl.form.logoFile.$dirty || $ctrl.form.$submitted" ng-messages="$ctrl.form.logoFile.$error">\n  <p ng-message="maxSize" translate translate-value-size="{{vm.errorFile.size / 1000000|number:1}}MB" translate-value-max="{{$ctrl.maxSize}}">\n    devpl.component.mno_image_selector.file_too_large\n  </p>\n  <p ng-message="pattern" translate>\n    devpl.component.mno_image_selector.authorized_format\n  </p>\n</div>\n\n<div class="progress top-buffer-1" ng-show="$ctrl.file.progress >= 0">\n  <uib-progressbar value="$ctrl.file.progress">\n    <span ng-show="$ctrl.file.result">Upload successful</span>\n    <span ng-show="$ctrl.file.error">An error occurred</span>\n    <span ng-show="!$ctrl.file.result && !$ctrl.file.error">{{$ctrl.file.progress}}%</span>\n  </uib-progressbar>\n</div>',controller:function(){var e;e=this,e.$onInit=function(){return e.ngModel.$render=function(){return e.file=e.ngModel.$viewValue}},e.updateParentModel=function(){return e.ngModel.$setViewValue(e.file)}}})}.call(this),function(){angular.module("mnoUiElements").component("mnoKpi",{template:'<div><div class="visual"><i class="fa" ng-class="vm.icon || \'fa-file-text-o\'"></i></div><div class="details"><div class="loader" ng-show="vm.loading" aria-hidden="true"><i class="fa fa-2x fa-spin fa-refresh"></i></div><div class="body" ng-hide="vm.loading">{{vm.unit}} {{vm.value}}</div><div class="desc">{{vm.description}}</div></div><div ng-if="vm.mnoHref || vm.mnoUiSref || vm.mnoClick" class="more"><a ng-if="vm.mnoHref" ng-href="{{vm.mnoHref}}">{{vm.linkText || "View more"}} <i class="fa fa-arrow-circle-o-right"></i></a> <a ng-if="vm.mnoUiSref" ui-sref="{{vm.mnoUiSref}}">{{vm.linkText || "View more"}} <i class="fa fa-arrow-circle-o-right"></i></a> <a ng-if="vm.mnoClick" ng-click="vm.mnoClick()">{{vm.linkText || "View more"}} <i class="fa fa-arrow-circle-o-right"></i></a></div></div>',transclude:!0,controllerAs:"vm",bindings:{description:"@",loading:"=",value:"@",icon:"@?",unit:"@?",mnoClick:"&?",mnoHref:"@?",mnoUiSref:"@?",linkText:"@?"},controller:function(){}})}.call(this),function(){var e;angular.module("mnoUiElements").controller("MnoRowController",e).component("mnoRow",{bindings:{name:"@",status:"@",mnoRowClick:"&?",mnoRowHref:"@?"},template:'<a ng-if="$ctrl.mnoRowClick" class="row-link" ng-click="ctrl.mnoRowClick()">\n  <span>{{$ctrl.name}}</span>\n  <span>{{$ctrl.status}}</span>\n  </a>\n  <a ng-if="$ctrl.mnoRowHref" class="row-link" ng-href="{{$ctrl.mnoRowHref}}">\n  <span>{{$ctrl.name}}</span>\n    <span>{{$ctrl.status}}</span>\n  </a>'}),e=function(e){var t,n;if(this.mnoRowClick,this.mnoRowHref,this.name,t=null!==this.mnoRowClick,n=null!==this.mnoRowHref,(null!=t?t:{1:0})+(null!=n?n:{1:0})+("undefined"!=typeof hasRowSref&&null!==hasRowSref?hasRowSref:{1:0})>1)throw Error("Must specify exactly one of mno-row-click, mno-row-href, for mno-row directive")}}.call(this),function(){angular.module("mnoUiElements").component("mnoLoadingEllipsis",{template:'<div class="mno-three-bounce">\n  <div class="mno-bounce1"></div>\n  <div class="mno-bounce2"></div>\n  <div class="mno-bounce3"></div>\n</div>'})}.call(this),function(){angular.module("mnoUiElements").component("mnoSection",{bindings:{heading:"@",description:"@",required:"=",large:"<"},transclude:{headerContentSlot:"?headerContent"},template:'<div class="section row">\n  <div class="left-column" ng-class="$ctrl.large ? \'col-xs-12\' : \'col-md-4\'">\n    <div class="heading">{{$ctrl.heading}}<span ng-if="$ctrl.required">&nbsp;*</span></div>\n    <div class="description">{{$ctrl.description}}</div>\n    <span ng-transclude="headerContentSlot"></span>\n  </div>\n  <div class="right-column" ng-class="$ctrl.large ? \'col-xs-12\' : \'col-md-8\'" ng-transclude></div>\n</div>'})}.call(this),function(){angular.module("sectionTitle",[]).component("mnoSectionTitle",{transclude:!0,require:"^mnoSection",template:'<div class="mno-section-title" ng-transclude></div>'})}.call(this),function(){angular.module("mnoUiElements").directive("mnoRenderDynamicAttr",["$compile",function(e){return{restrict:"A",scope:{rowItem:"<",field:"<"},link:function(t,n,i){return t.$watchGroup(["rowItem","field"],function(){var i,r,a,o;if(null!=t.rowItem&&null!=t.field)return t.field.stopPropagation&&n.click(function(e){return e.stopPropagation()}),_.isFunction(t.field.render)?(i=t.field.render(t.rowItem),r=i.template,t=angular.merge(t,i.scope)):(o=_.get(t.rowItem,t.field.attr),a=_.isFunction(t.field.filter)?t.field.filter(o):o,null==a&&(a="-"),r="<span>"+a+"</span>"),n.append(e(r)(t))})}}}])}.call(this),function(){angular.module("mnoUiElements").directive("mnoRenderDynamicHeader",["$compile",function(e){return{restrict:"A",scope:{field:"<"},link:function(t,n,i){return t.$watchGroup(["field"],function(){var i,r;if(null!=t.field)return _.isFunction(t.field.render)?(i=t.field.render(t.field.data),r=i.template,t=angular.merge(t,i.scope)):null==(r=t.field.render)&&(r="<span>-</span>"),n.append(e(r)(t))})}}}])}.call(this),function(){angular.module("mnoUiElements").component("mnoSortableTable",{template:'<table st-table="$ctrl.displayedCollection" st-safe-src="$ctrl.rowCollection" st-pipe="$ctrl.pipeCb" class="table table-responsive" ng-class="{ \'table-hover\': !$ctrl.loading && $ctrl.hasCollectionItems() }"><thead><tr><th ng-repeat="field in $ctrl.fields" st-sort="{{field.doNotSort? undefined : field.attr}}" ng-style="{{field.style}}" st-sort-default="{{field.sort_default}}" st-skip-natural="{{field.skip_natural}}"><span ng-bind="field.header"></span></th></tr><tr><th ng-repeat="field in $ctrl.subHeaders" mno-render-dynamic-header field="field"></th></tr></thead><tbody ng-hide="$ctrl.isLoading || !$ctrl.hasCollectionItems()"><tr ng-repeat="rowItem in $ctrl.displayedCollection" ng-click="$ctrl.rowOnClick({$event: { rowItem: rowItem }})"><td ng-repeat="field in $ctrl.fields" ng-class="field.class" mno-render-dynamic-attr row-item="rowItem" field="field"></td></tr></tbody><tbody ng-show="$ctrl.isLoading"><tr><td colspan="{{$ctrl.fields.length}}" class="text-center"><i class="fa fa-spinner fa-spin" aria-hidden="true"></i></td></tr></tbody><tbody ng-hide="$ctrl.hasCollectionItems() || $ctrl.isLoading"><tr><td colspan="{{$ctrl.fields.length}}" class="text-center"><span>No results</span></td></tr></tbody></table>',bindings:{rowCollection:"<",fields:"<",subHeaders:"<",rowOnClick:"&?",pipe:"&?",isLoading:"<?"},controller:function(){var e;return e=this,e.$onChanges=function(t){var n;if(n=_.get(t,"rowCollection.currentValue"))return e.displayedCollection=angular.copy(n)},e.$onInit=function(){return e.pipeCb=null!=e.pipe?function(t){return e.pipe({tableState:t})}:void 0},e.hasCollectionItems=function(){return!_.isEmpty(e.displayedCollection)},e}})}.call(this),function(){angular.module("mnoUiElements").component("mnoTasksMenu",{template:'<div class="tasks-menu"><button ng-repeat="menu in $ctrl.menus" class="btn btn-default menu-item {{menu.name}}" ng-class="{ \'selected\': menu.selected }" ng-click="$ctrl.menuOnClick(menu)"><span ng-bind="menu.label"></span></button></div>',bindings:{onSelect:"&",menus:"<"},controller:["$element",function(e){var t;return t=this,t.menuOnClick=function(e){return _.each(t.menus,function(e){return e.selected=!1,null}),e.selected=!0,t.onSelect({$event:{menu:e}})},t}]})}.call(this),function(){angular.module("mnoUiElements").component("mnoValidation",{template:"<p ng-class=\"$ctrl.valid ? 'checked' : 'unchecked'\"><i class=\"fa\" ng-class=\"$ctrl.valid ? 'fa-check-circle' : 'fa-times-circle'\"></i> {{$ctrl.message}}</p>",bindings:{valid:"=",message:"@"},controller:function(){}})}.call(this),function(){angular.module("mnoUiElements").component("mnoWidget",{template:'<div class="widget"><div class="header"><div class="row"><div class="col-xs-12"><div class="pull-left"><i class="fa" ng-class="$ctrl.icon"></i> <span class="heading">{{$ctrl.heading}}</span></div><div ng-transclude="header"></div></div></div></div><div class="body"><div class="row"><div class="col-xs-12 loading" ng-show="$ctrl.isLoading"><mno-loading-ellipsis></mno-loading-ellipsis></div><div class="col-xs-12" ng-hide="$ctrl.isLoading"><div ng-transclude="body"></div></div></div></div><div class="footer"><div class="row"><div class="col-xs-12"><div ng-transclude="footer"></div></div></div></div></div>',transclude:{header:"mnoWidgetHeader",body:"mnoWidgetBody",footer:"?mnoWidgetFooter"},bindings:{icon:"@",isLoading:"=",heading:"@?"},controller:function(){}})}.call(this),function(){angular.module("mnoUiElements").service("MnoDateHelper",function(){return this.parseAsUTCDate=function(e){var t;return t=moment(e).format("YYYY-MM-DD"),moment.utc(t).toISOString()},this})}.call(this),function(){angular.module("mnoUiElements").component("mnoMultipleStringField",{bindings:{isDisabled:"=",command:"<?"},require:{form:"^form",ngModel:"ngModel"},template:'<ul class="list-group">\n  \x3c!-- List of elements --\x3e\n  <li class="list-group-item mutiple-string-field" ng-class="{\'disabled\' : $ctrl.isDisabled}" ng-repeat="elem in $ctrl.list track by $index">\n    <pre>{{elem}}</pre>\n    <button class="btn btn-sm btn-default" type="button" ng-click="$ctrl.removeElement($index)" ng-if="!$ctrl.isDisabled">\n      <i class="fa fa-times"></i>\n    </button>\n  </li>\n  \x3c!-- New element form --\x3e\n  <li class="list-group-item mutiple-string-field" ng-if="!$ctrl.isDisabled" ng-hide="$ctrl.list.length >= 5">\n    <input type="text" ng-model="$ctrl.new_element" class="form-control" ng-disabled="$ctrl.isDisabled">\n    <button class="btn btn-sm btn-default" type="button" ng-click="$ctrl.addElement($ctrl.new_element)" ng-disabled="!$ctrl.new_element || $ctrl.isDisabled">\n      <i class="fa fa-plus"></i>\n    </button>\n  </li>\n</ul>',controller:["MnoConfirm",function(e){var t;t=this,t.$onInit=function(){return t.ngModel.$render=function(){var e;return t.ngModel.$viewValue&&(e=JSON.parse(t.ngModel.$viewValue)),t.list=e||[]}},t.$onChanges=function(e){if("submit"===e.command.currentValue)return this.addElement(t.new_element)},t.addElement=function(e){if(!_.isEmpty(e))return t.list.push(e),t.new_element=null,t.ngModel.$setViewValue(t.list)},t.removeElement=function(n){var i;return i={headerText:"Delete entry",bodyText:"Are you sure you want to delete this entry?"},e.showModal(i).then(function(){return t.list.splice(n,1),t.ngModel.$setViewValue(t.list)})}}]})}.call(this),function(){angular.module("mnoUiElements").component("mnoShowTaskModal",{bindings:{resolve:"<",close:"&",dismiss:"&"},template:'<div class="modal-header"><div class="close" ng-click="$ctrl.cancel()"><i class="fa fa-times" aria-hidden="true"></i></div></div><div class="modal-body" id="modal-body"><div><label ng-bind="$ctrl.person.label"></label><p ng-bind="$ctrl.person.value"></p></div><div><label>Title</label><p ng-bind="$ctrl.task.title"></p></div><div ng-if="$ctrl.task.due_date"><div class="due-date"><label>Due date</label><p ng-bind="$ctrl.task.due_date | date : $ctrl.dueDateFormat"></p></div><button class="btn btn-primary" type="button" ng-if="$ctrl.showAddReminderButton()" ng-click="$ctrl.toggleReminderForm(true)">Add reminder</button></div><div><div ng-if="$ctrl.reminderDate()" class="reminder"><label>Reminder</label><p ng-bind="$ctrl.reminderDate() | date: $ctrl.dueDateFormat"></p></div><button class="btn btn-warning" type="button" ng-if="$ctrl.showUpdateReminderButton()" ng-click="$ctrl.toggleReminderForm(true)">Update reminder</button> <button class="btn btn-danger" type="button" ng-if="$ctrl.showUpdateReminderButton()" ng-click="$ctrl.deleteReminderOnClick()">Delete reminder</button><div ng-if="$ctrl.isSettingReminder"><form name="$ctrl.reminderForm"><div class="row"><div class="col-xs-12 col-md-12"><label>Reminder</label><p class="input-group"><input type="text" class="form-control" uib-datepicker-popup="{{$ctrl.datepicker.options.format}}" ng-model="$ctrl.reminder.date" ng-model-options="{timezone: \'utc\'}" is-open="$ctrl.datepicker.opened" close-text="Close" ng-required="true"> <span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="$ctrl.openDatepicker()"><i class="glyphicon glyphicon-calendar"></i></button></span></p></div></div><button class="btn btn-default" ng-click="$ctrl.toggleReminderForm(false)">Cancel</button> <button class="btn btn-success" ng-click="$ctrl.setReminderOnClick()" ng-disabled="$ctrl.reminderForm.$invalid">Set Reminder</button></form></div></div><div><label>Message</label><p ng-bind="$ctrl.task.message"></p></div><form name="$ctrl.taskReplyForm" ng-if="$ctrl.isReplying"><div class="form-group"><label>Reply</label> <textarea class="form-control" name="message" rows="3" ng-model="$ctrl.reply.message" required></textarea></div></form></div><div class="modal-footer"><button class="btn" ng-if="$ctrl.showReplyButton()" ng-class="{ \'btn-default\': $ctrl.isReplying, \'btn-primary\': !$ctrl.isReplying }" type="button" ng-click="$ctrl.toggleReplyForm()" ng-bind="$ctrl.isReplying ? \'Cancel\' : \'Reply\'" ng-disabled="$ctrl.loading"></button> <button class="btn" ng-class="{ \'btn-success\': !$ctrl.task.markedDone, \'btn-warning\': $ctrl.task.markedDone }" type="button" ng-click="$ctrl.done()" ng-if="!$ctrl.isReplying && $ctrl.canMarkAsDone()" ng-disabled="$ctrl.loading">Mark as {{$ctrl.task.markedDone ? \'not done\' : \'done\'}}</button> <button class="btn btn-success" type="button" ng-click="$ctrl.send()" ng-if="$ctrl.isReplying" ng-disabled="$ctrl.isFormDisabled()">Send</button> <button class="btn btn-success" type="button" ng-click="$ctrl.send(true)" ng-if="$ctrl.isReplying && $ctrl.canSendAndMarkAsDone()" ng-disabled="$ctrl.isFormDisabled()">Send & mark as done</button></div>',controller:["MnoDateHelper",function(e){var t,n,i,r;return t=this,t.$onInit=function(){return t.task=t.resolve.task,t.person=t.resolve.isInbox?{label:"From",value:t.resolve.nameFormatter(t.task.owner)}:{label:"To",value:t.resolve.nameFormatter(t.task.task_recipients[0])},t.dueDateFormat=t.resolve.dueDateFormat||"medium",t.isReplying=!1,t.isSettingReminder=!1,t.datepicker={options:{format:"dd MMMM yyyy"},opened:!1},t.reply={message:""},t.reminder={date:null},t.resolve.onReadTaskCb(i())},t.done=function(){return t.resolve.markAsDoneCb(!t.task.markedDone).then(function(){return t.close()})},t.send=function(e){return t.loading=!0,t.resolve.sendReplyCb(t.reply,e).then(function(){return t.close()}).finally(function(){return t.loading=!1})},t.cancel=function(){return t.dismiss()},t.openDatepicker=function(){return t.datepicker.opened=!0},t.reminderDate=function(){var e;return(e=n())&&e.reminder_date},t.setReminderOnClick=function(){var n;if(t.canSetReminder())return n=e.parseAsUTCDate(t.reminder.date),t.resolve.setReminderCb(n).then(function(e){return null!=e&&(t.task=e),t.toggleReminderForm(!1)})},t.deleteReminderOnClick=function(){return t.reminder.date=null,t.setReminderOnClick()},t.showAddReminderButton=function(){return t.canSetReminder()&&!t.isSettingReminder&&!t.reminderDate()},t.showUpdateReminderButton=function(){return t.canSetReminder()&&!t.isSettingReminder&&t.reminderDate()},t.showReplyButton=function(){return!r()},t.toggleReplyForm=function(){if(t.isReplying=!t.isReplying,!t.isReplying)return t.reply.message=""},t.toggleReminderForm=function(e){if(t.isSettingReminder=e,t.isSettingReminder)return t.reminder.date=moment.utc(t.reminderDate()).toDate()},t.canSetReminder=function(){return!r()&&_.isFunction(t.resolve.setReminderCb)&&null!=t.task.due_date},t.canMarkAsDone=function(){return!r()&&null!=t.task.due_date},t.canSendAndMarkAsDone=function(){return t.canMarkAsDone()&&"done"!==t.task.status},t.isFormDisabled=function(){return t.loading||t.taskReplyForm.$invalid},n=function(){return _.find(t.task.task_recipients,function(e){return e.user.id===t.resolve.currentUser.id})},i=function(){var e;return(e=n())&&null!=e.read_at},r=function(){return t.resolve.currentUser.id===_.get(t.task,"owner.user.id")},t}]})}.call(this),function(){angular.module("mnoUiElements").service("Notifications",["$log","toastr",function(e,t){return this.init=function(n,i){return e.debug("Notifications are enabled"),_.each(n,function(e){var n;return n=function(){var t;return t=_.pick(e,["object_id","object_type","notification_type"]),i(t)},t[e.method](e.message,e.title,{closeButton:!0,autoDismiss:!1,tapToDismiss:!0,timeOut:0,extendedTimeOut:0,onHidden:n,allowHtml:!0})})},this}])}.call(this),/**
 * Restful Resources service for AngularJS apps
 * @version v1.6.1 - 2017-01-06 * @link https://github.com/mgonto/restangular
 * @author Martin Gontovnikas <martin@gon.to>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
function(e,t){"function"==typeof define&&define.amd?define(["lodash","angular"],t):"object"==typeof module&&module.exports?module.exports=t(require("lodash"),require("angular")):t(e._,e.angular)}(this,function(e,t){var n=t.module("restangular",[]);return n.provider("Restangular",function(){var n={};n.init=function(n,i){function r(t,n,i,r){var a={};return e.each(e.keys(r),function(o){var s=r[o];s.params=e.extend({},s.params,t.defaultRequestParams[s.method.toLowerCase()]),e.isEmpty(s.params)&&delete s.params,t.isSafe(s.method)?a[o]=function(){return n(e.extend(s,{url:i}))}:a[o]=function(t){return n(e.extend(s,{url:i,data:t}))}}),a}n.configuration=i;var a=["get","head","options","trace","getlist"];i.isSafe=function(t){return e.includes(a,t.toLowerCase())};var o=/^https?:\/\//i;i.isAbsoluteUrl=function(t){return e.isUndefined(i.absoluteUrl)||e.isNull(i.absoluteUrl)?t&&o.test(t):i.absoluteUrl},i.absoluteUrl=!!e.isUndefined(i.absoluteUrl)||i.absoluteUrl,n.setSelfLinkAbsoluteUrl=function(e){i.absoluteUrl=e},i.baseUrl=e.isUndefined(i.baseUrl)?"":i.baseUrl,n.setBaseUrl=function(e){return i.baseUrl=/\/$/.test(e)?e.substring(0,e.length-1):e,this},i.extraFields=i.extraFields||[],n.setExtraFields=function(e){return i.extraFields=e,this},i.defaultHttpFields=i.defaultHttpFields||{},n.setDefaultHttpFields=function(e){return i.defaultHttpFields=e,this},i.plainByDefault=i.plainByDefault||!1,n.setPlainByDefault=function(e){return i.plainByDefault=!0===e,this},i.withHttpValues=function(t,n){return e.defaults(n,t,i.defaultHttpFields)},i.encodeIds=!!e.isUndefined(i.encodeIds)||i.encodeIds,n.setEncodeIds=function(e){i.encodeIds=e},i.defaultRequestParams=i.defaultRequestParams||{get:{},post:{},put:{},remove:{},common:{}},n.setDefaultRequestParams=function(t,n){var r=[],a=n||t;return e.isUndefined(n)?r.push("common"):e.isArray(t)?r=t:r.push(t),e.each(r,function(e){i.defaultRequestParams[e]=a}),this},n.requestParams=i.defaultRequestParams,i.defaultHeaders=i.defaultHeaders||{},n.setDefaultHeaders=function(e){return i.defaultHeaders=e,n.defaultHeaders=i.defaultHeaders,this},n.defaultHeaders=i.defaultHeaders,i.methodOverriders=i.methodOverriders||[],n.setMethodOverriders=function(t){var n=e.extend([],t);return i.isOverridenMethod("delete",n)&&n.push("remove"),i.methodOverriders=n,this},i.jsonp=!e.isUndefined(i.jsonp)&&i.jsonp,n.setJsonp=function(e){i.jsonp=e},i.isOverridenMethod=function(t,n){var r=n||i.methodOverriders;return!e.isUndefined(e.find(r,function(e){return e.toLowerCase()===t.toLowerCase()}))},i.urlCreator=i.urlCreator||"path",n.setUrlCreator=function(t){if(!e.has(i.urlCreatorFactory,t))throw new Error("URL Path selected isn't valid");return i.urlCreator=t,this},i.restangularFields=i.restangularFields||{id:"id",route:"route",parentResource:"parentResource",restangularCollection:"restangularCollection",cannonicalId:"__cannonicalId",etag:"restangularEtag",selfLink:"href",get:"get",getList:"getList",put:"put",post:"post",remove:"remove",head:"head",trace:"trace",options:"options",patch:"patch",getRestangularUrl:"getRestangularUrl",getRequestedUrl:"getRequestedUrl",putElement:"putElement",addRestangularMethod:"addRestangularMethod",getParentList:"getParentList",clone:"clone",ids:"ids",httpConfig:"_$httpConfig",reqParams:"reqParams",one:"one",all:"all",several:"several",oneUrl:"oneUrl",allUrl:"allUrl",customPUT:"customPUT",customPATCH:"customPATCH",customPOST:"customPOST",customDELETE:"customDELETE",customGET:"customGET",customGETLIST:"customGETLIST",customOperation:"customOperation",doPUT:"doPUT",doPATCH:"doPATCH",doPOST:"doPOST",doDELETE:"doDELETE",doGET:"doGET",doGETLIST:"doGETLIST",fromServer:"fromServer",withConfig:"withConfig",withHttpConfig:"withHttpConfig",singleOne:"singleOne",plain:"plain",save:"save",restangularized:"restangularized"},n.setRestangularFields=function(t){return i.restangularFields=e.extend(i.restangularFields,t),this},i.isRestangularized=function(e){return!!e[i.restangularFields.restangularized]},i.setFieldToElem=function(t,n,i){var r=t.split("."),a=n;return e.each(e.initial(r),function(e){a[e]={},a=a[e]}),a[e.last(r)]=i,this},i.getFieldFromElem=function(n,i){var r=n.split("."),a=i;return e.each(r,function(e){a&&(a=a[e])}),t.copy(a)},i.setIdToElem=function(e,t){return i.setFieldToElem(i.restangularFields.id,e,t),this},i.getIdFromElem=function(e){return i.getFieldFromElem(i.restangularFields.id,e)},i.isValidId=function(t){return""!==t&&!e.isUndefined(t)&&!e.isNull(t)},i.setUrlToElem=function(e,t){return i.setFieldToElem(i.restangularFields.selfLink,e,t),this},i.getUrlFromElem=function(e){return i.getFieldFromElem(i.restangularFields.selfLink,e)},i.useCannonicalId=!e.isUndefined(i.useCannonicalId)&&i.useCannonicalId,n.setUseCannonicalId=function(e){return i.useCannonicalId=e,this},i.getCannonicalIdFromElem=function(e){var t=e[i.restangularFields.cannonicalId];return i.isValidId(t)?t:i.getIdFromElem(e)},i.responseInterceptors=i.responseInterceptors||[],i.defaultResponseInterceptor=function(e){return e},i.responseExtractor=function(n,r,a,o,s,l){var c=t.copy(i.responseInterceptors);c.push(i.defaultResponseInterceptor);var u=n;return e.each(c,function(e){u=e(u,r,a,o,s,l)}),u},n.addResponseInterceptor=function(e){return i.responseInterceptors.push(e),this},i.errorInterceptors=i.errorInterceptors||[],n.addErrorInterceptor=function(e){return i.errorInterceptors.push(e),this},n.setResponseInterceptor=n.addResponseInterceptor,n.setResponseExtractor=n.addResponseInterceptor,n.setErrorInterceptor=n.addErrorInterceptor,i.requestInterceptors=i.requestInterceptors||[],i.defaultInterceptor=function(e,t,n,i,r,a,o){return{element:e,headers:r,params:a,httpConfig:o}},i.fullRequestInterceptor=function(n,r,a,o,s,l,c){var u=t.copy(i.requestInterceptors),d=i.defaultInterceptor(n,r,a,o,s,l,c);return e.reduce(u,function(t,n){return e.extend(t,n(t.element,r,a,o,t.headers,t.params,t.httpConfig))},d)},n.addRequestInterceptor=function(e){return i.requestInterceptors.push(function(t,n,i,r,a,o,s){return{headers:a,params:o,element:e(t,n,i,r),httpConfig:s}}),this},n.setRequestInterceptor=n.addRequestInterceptor,n.addFullRequestInterceptor=function(e){return i.requestInterceptors.push(e),this},n.setFullRequestInterceptor=n.addFullRequestInterceptor,i.onBeforeElemRestangularized=i.onBeforeElemRestangularized||function(e){return e},n.setOnBeforeElemRestangularized=function(e){return i.onBeforeElemRestangularized=e,this},n.setRestangularizePromiseInterceptor=function(e){return i.restangularizePromiseInterceptor=e,this},i.onElemRestangularized=i.onElemRestangularized||function(e){return e},n.setOnElemRestangularized=function(e){return i.onElemRestangularized=e,this},i.shouldSaveParent=i.shouldSaveParent||function(){return!0},n.setParentless=function(t){return e.isArray(t)?i.shouldSaveParent=function(n){return!e.includes(t,n)}:e.isBoolean(t)&&(i.shouldSaveParent=function(){return!t}),this},i.suffix=e.isUndefined(i.suffix)?null:i.suffix,n.setRequestSuffix=function(e){return i.suffix=e,this},i.transformers=i.transformers||{},i.matchTransformers=i.matchTransformers||[],n.addElementTransformer=function(t,r,a){var o=null,s=null;2===arguments.length?s=r:(s=a,o=r);var l=function(t,n){return e.isNull(o)||t===o?s(n):n};return e.isRegExp(t)?i.matchTransformers.push({regexp:t,transformer:l}):(i.transformers[t]||(i.transformers[t]=[]),i.transformers[t].push(l)),n},n.extendCollection=function(e,t){return n.addElementTransformer(e,!0,t)},n.extendModel=function(e,t){return n.addElementTransformer(e,!1,t)},i.transformElem=function(t,n,r,a,o){if(!o&&!i.transformLocalElements&&!t[i.restangularFields.fromServer])return t;var s=t,l=i.matchTransformers;l&&e.each(l,function(e){e.regexp.test(r)&&(s=e.transformer(n,s))});var c=i.transformers[r];return c&&e.each(c,function(e){s=e(n,s)}),i.onElemRestangularized(s,n,r,a)},i.transformLocalElements=!e.isUndefined(i.transformLocalElements)&&i.transformLocalElements,n.setTransformOnlyServerElements=function(e){i.transformLocalElements=!e},i.fullResponse=!e.isUndefined(i.fullResponse)&&i.fullResponse,n.setFullResponse=function(e){return i.fullResponse=e,this},i.urlCreatorFactory={};var s=function(){};s.prototype.setConfig=function(e){return this.config=e,this},s.prototype.parentsArray=function(e){for(var t=[];e;)t.push(e),e=e[this.config.restangularFields.parentResource];return t.reverse()},s.prototype.resource=function(t,n,a,o,s,l,c,u){var d=e.defaults(s||{},this.config.defaultRequestParams.common),h=e.defaults(o||{},this.config.defaultHeaders);c&&(i.isSafe(u)?h["If-None-Match"]=c:h["If-Match"]=c);var p=this.base(t);if(l||0===l){var f="";/\/$/.test(p)||(f+="/"),f+=l,p+=f}return this.config.suffix&&-1===p.indexOf(this.config.suffix,p.length-this.config.suffix.length)&&!this.config.getUrlFromElem(t)&&(p+=this.config.suffix),t[this.config.restangularFields.httpConfig]=void 0,r(this.config,n,p,{getList:this.config.withHttpValues(a,{method:"GET",params:d,headers:h}),get:this.config.withHttpValues(a,{method:"GET",params:d,headers:h}),jsonp:this.config.withHttpValues(a,{method:"jsonp",params:d,headers:h}),put:this.config.withHttpValues(a,{method:"PUT",params:d,headers:h}),post:this.config.withHttpValues(a,{method:"POST",params:d,headers:h}),remove:this.config.withHttpValues(a,{method:"DELETE",params:d,headers:h}),head:this.config.withHttpValues(a,{method:"HEAD",params:d,headers:h}),trace:this.config.withHttpValues(a,{method:"TRACE",params:d,headers:h}),options:this.config.withHttpValues(a,{method:"OPTIONS",params:d,headers:h}),patch:this.config.withHttpValues(a,{method:"PATCH",params:d,headers:h})})};var l=function(){};l.prototype=new s,l.prototype.normalizeUrl=function(e){var t=/((?:http[s]?:)?\/\/)?(.*)?/.exec(e);return t[2]=t[2].replace(/[\\\/]+/g,"/"),void 0!==t[1]?t[1]+t[2]:t[2]},l.prototype.base=function(t){var n=this;return e.reduce(this.parentsArray(t),function(e,t){var r,a=n.config.getUrlFromElem(t);if(a){if(n.config.isAbsoluteUrl(a))return a;r=a}else if(r=t[n.config.restangularFields.route],t[n.config.restangularFields.restangularCollection]){var o=t[n.config.restangularFields.ids];o&&(r+="/"+o.join(","))}else{var s;s=n.config.useCannonicalId?n.config.getCannonicalIdFromElem(t):n.config.getIdFromElem(t),i.isValidId(s)&&!t.singleOne&&(r+="/"+(n.config.encodeIds?encodeURIComponent(s):s))}return e=e.replace(/\/$/,"")+"/"+r,n.normalizeUrl(e)},this.config.baseUrl)},l.prototype.fetchUrl=function(e,t){var n=this.base(e);return t&&(n+="/"+t),n},l.prototype.fetchRequestedUrl=function(e,n){function r(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function a(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}var o=this.fetchUrl(e,n),s=e[i.restangularFields.reqParams];if(!s)return o+(this.config.suffix||"");var l=[];return function(e,t,n){for(var i=r(e),a=0;a<i.length;a++)t.call(n,e[i[a]],i[a])}(s,function(e,n){null!==e&&void 0!==e&&(t.isArray(e)||(e=[e]),t.forEach(e,function(e){t.isObject(e)&&(e=t.toJson(e)),l.push(a(n)+"="+a(e))}))}),o+(this.config.suffix||"")+(-1===o.indexOf("?")?"?":"&")+l.join("&")},i.urlCreatorFactory.path=l};var i={};n.init(this,i),this.$get=["$http","$q",function(r,a){function o(i){function s(t,n,r,a,o){if(n[i.restangularFields.route]=r,n[i.restangularFields.getRestangularUrl]=e.bind(B.fetchUrl,B,n),n[i.restangularFields.getRequestedUrl]=e.bind(B.fetchRequestedUrl,B,n),n[i.restangularFields.addRestangularMethod]=e.bind(z,n),n[i.restangularFields.clone]=e.bind(y,n,n),n[i.restangularFields.reqParams]=e.isEmpty(a)?null:a,n[i.restangularFields.withHttpConfig]=e.bind(D,n),n[i.restangularFields.plain]=e.bind(v,n,n),n[i.restangularFields.restangularized]=!0,n[i.restangularFields.one]=e.bind(l,n,n),n[i.restangularFields.all]=e.bind(c,n,n),n[i.restangularFields.several]=e.bind(u,n,n),n[i.restangularFields.oneUrl]=e.bind(d,n,n),n[i.restangularFields.allUrl]=e.bind(h,n,n),n[i.restangularFields.fromServer]=!!o,t&&i.shouldSaveParent(r)){var s=i.getIdFromElem(t),p=i.getUrlFromElem(t),f=e.union(e.values(e.pick(i.restangularFields,["route","singleOne","parentResource"])),i.extraFields),g=e.pick(t,f);i.isValidId(s)&&i.setIdToElem(g,s,r),i.isValidId(p)&&i.setUrlToElem(g,p,r),n[i.restangularFields.parentResource]=g}else n[i.restangularFields.parentResource]=null;return n}function l(t,n,r,a){var o;if(e.isNumber(n)||e.isNumber(t))throw o="You're creating a Restangular entity with the number ",o+="instead of the route or the parent. For example, you can't call .one(12).",new Error(o);if(e.isUndefined(n))throw o="You're creating a Restangular entity either without the path. ",o+="For example you can't call .one(). Please check if your arguments are valid.",new Error(o);var s={};return i.setIdToElem(s,r,n),i.setFieldToElem(i.restangularFields.singleOne,s,a),w(t,s,n,!1)}function c(e,t){return x(e,[],t,!1)}function u(e,t){var n=[];return n[i.restangularFields.ids]=Array.prototype.splice.call(arguments,2),x(e,n,t,!1)}function d(e,t,n){if(!t)throw new Error("Route is mandatory when creating new Restangular objects.");var r={};return i.setUrlToElem(r,n,t),w(e,r,t,!1)}function h(e,t,n){if(!t)throw new Error("Route is mandatory when creating new Restangular objects.");var r={};return i.setUrlToElem(r,n,t),x(e,r,t,!1)}function p(t,n,r){return t.call=e.bind(f,t),t.get=e.bind(g,t),t[i.restangularFields.restangularCollection]=n,n&&(t.push=e.bind(f,t,"push")),t.$object=r,i.restangularizePromiseInterceptor&&i.restangularizePromiseInterceptor(t),t}function f(e){var t=a.defer(),n=arguments,r={};return this.then(function(i){var a=Array.prototype.slice.call(n,1);i[e].apply(i,a),r=i,t.resolve(i)}),p(t.promise,this[i.restangularFields.restangularCollection],r)}function g(e){var t=a.defer(),n={};return this.then(function(i){n=i[e],t.resolve(n)}),p(t.promise,this[i.restangularFields.restangularCollection],n)}function m(t,n,r,a){if(e.extend(a,r),i.fullResponse)return t.resolve(e.extend(n,{data:r}));t.resolve(r)}function v(t){if(e.isArray(t)){var n=[];return e.each(t,function(e){n.push(i.isRestangularized(e)?v(e):e)}),n}return e.omit(t,e.values(e.omit(i.restangularFields,"id")))}function b(t){t[i.restangularFields.customOperation]=e.bind(F,t);var n={get:F,delete:F};e.each(["put","patch","post"],function(t){n[t]=function(t,n,i,r,a){return e.bind(F,this)(t,i,r,a,n)}}),e.each(n,function(n,i){var r="delete"===i?"remove":i;e.each(["do","custom"],function(a){t[a+i.toUpperCase()]=e.bind(n,t,r)})}),t[i.restangularFields.customGETLIST]=e.bind($,t),t[i.restangularFields.doGETLIST]=t[i.restangularFields.customGETLIST]}function y(n){var r=t.copy(n);return e.isArray(n)?x(n[i.restangularFields.parentResource],r,n[i.restangularFields.route],n[i.restangularFields.fromServer],n[i.restangularFields.reqParams]):w(n[i.restangularFields.parentResource],r,n[i.restangularFields.route],n[i.restangularFields.fromServer],n[i.restangularFields.restangularCollection],n[i.restangularFields.reqParams])}function w(t,n,r,a,o,l){var c=i.onBeforeElemRestangularized(n,!1,r),u=s(t,c,r,l,a);return i.useCannonicalId&&(u[i.restangularFields.cannonicalId]=i.getIdFromElem(u)),o&&(u[i.restangularFields.getParentList]=function(){return o}),u[i.restangularFields.restangularCollection]=!1,u[i.restangularFields.get]=e.bind(M,u),u[i.restangularFields.getList]=e.bind($,u),u[i.restangularFields.put]=e.bind(O,u),u[i.restangularFields.post]=e.bind(P,u),u[i.restangularFields.remove]=e.bind(A,u),u[i.restangularFields.head]=e.bind(I,u),u[i.restangularFields.trace]=e.bind(R,u),u[i.restangularFields.options]=e.bind(N,u),u[i.restangularFields.patch]=e.bind(L,u),u[i.restangularFields.save]=e.bind(T,u),b(u),i.transformElem(u,!1,r,W,!0)}function x(t,n,r,a,o){var l=i.onBeforeElemRestangularized(n,!0,r),c=s(t,l,r,o,a);return c[i.restangularFields.restangularCollection]=!0,c[i.restangularFields.post]=e.bind(P,c,null),c[i.restangularFields.remove]=e.bind(A,c),c[i.restangularFields.head]=e.bind(I,c),c[i.restangularFields.trace]=e.bind(R,c),c[i.restangularFields.putElement]=e.bind(C,c),c[i.restangularFields.options]=e.bind(N,c),c[i.restangularFields.patch]=e.bind(L,c),c[i.restangularFields.get]=e.bind(k,c),c[i.restangularFields.getList]=e.bind($,c,null),b(c),i.transformElem(c,!0,r,W,!0)}function _(t,n,i,r){var a=x(t,n,i,r);return e.each(a,function(e){e&&w(t,e,i,r)}),a}function k(e,t,n){return this.customGET(e.toString(),t,n)}function C(e,t,n){var r=this,o=this[e],s=a.defer(),l=[];return l=i.transformElem(l,!0,o[i.restangularFields.route],W),o.put(t,n).then(function(t){var n=y(r);n[e]=t,l=n,s.resolve(n)},function(e){s.reject(e)}),p(s.promise,!0,l)}function S(e,t,n,r,a,o){var s=i.responseExtractor(e,t,n,r,a,o),l=a.headers("ETag");return s&&l&&(s[i.restangularFields.etag]=l),s}function $(t,n,o){var s=this,l=a.defer(),c=B.fetchUrl(this,t),u=t||s[i.restangularFields.route],d=i.fullRequestInterceptor(null,"getList",u,c,o||{},n||{},this[i.restangularFields.httpConfig]||{}),h=[];h=i.transformElem(h,!0,u,W);var f="getList";i.jsonp&&(f="jsonp");var g=function(n){var r=n.data,a=n.config.params,o=S(r,"getList",u,c,n,l);if((e.isUndefined(o)||""===o)&&(o=[]),!e.isArray(o))throw new Error("Response for getList SHOULD be an array and not an object or something else");if(!0===i.plainByDefault)return m(l,n,o,h);var d=e.map(o,function(e){return s[i.restangularFields.restangularCollection]?w(s[i.restangularFields.parentResource],e,s[i.restangularFields.route],!0,o):w(s,e,t,!0,o)});d=e.extend(o,d),s[i.restangularFields.restangularCollection]?m(l,n,x(s[i.restangularFields.parentResource],d,s[i.restangularFields.route],!0,a),h):m(l,n,x(s,d,t,!0,a),h)};return B.resource(this,r,d.httpConfig,d.headers,d.params,t,this[i.restangularFields.etag],"getList")[f]().then(g,function(t){304===t.status&&s[i.restangularFields.restangularCollection]?m(l,t,s,h):e.every(i.errorInterceptors,function(e){return!1!==e(t,l,g)})&&l.reject(t)}),p(l.promise,!0,h)}function D(e){return this[i.restangularFields.httpConfig]=e,this}function T(t,n){return this[i.restangularFields.fromServer]?this[i.restangularFields.put](t,n):e.bind(E,this)("post",void 0,t,void 0,n)}function E(t,n,o,s,l){var c=this,u=a.defer(),d=o||{},h=n||this[i.restangularFields.route],f=B.fetchUrl(this,n),g=s||this,b=g[i.restangularFields.etag]||("post"!==t?this[i.restangularFields.etag]:null);e.isObject(g)&&i.isRestangularized(g)&&(g=v(g));var y=i.fullRequestInterceptor(g,t,h,f,l||{},d||{},this[i.restangularFields.httpConfig]||{}),x={};x=i.transformElem(x,!1,h,W);var _=function(e){var n=e.data,r=e.config.params,a=S(n,t,h,f,e,u);if(null!==a&&void 0!==a&&""!==a){var o;if(!0===i.plainByDefault)return m(u,e,a,x);"post"!==t||c[i.restangularFields.restangularCollection]?(o=w(c[i.restangularFields.parentResource],a,c[i.restangularFields.route],!0,null,r),o[i.restangularFields.singleOne]=c[i.restangularFields.singleOne],m(u,e,o,x)):(o=w(c[i.restangularFields.parentResource],a,h,!0,null,r),m(u,e,o,x))}else m(u,e,void 0,x)},k=function(n){304===n.status&&i.isSafe(t)?m(u,n,c,x):e.every(i.errorInterceptors,function(e){return!1!==e(n,u,_)})&&u.reject(n)},C=t,$=e.extend({},y.headers),D=i.isOverridenMethod(t);return D?(C="post",$=e.extend($,{"X-HTTP-Method-Override":"remove"===t?"DELETE":t.toUpperCase()})):i.jsonp&&"get"===C&&(C="jsonp"),i.isSafe(t)?D?B.resource(this,r,y.httpConfig,$,y.params,n,b,C)[C]({}).then(_,k):B.resource(this,r,y.httpConfig,$,y.params,n,b,C)[C]().then(_,k):B.resource(this,r,y.httpConfig,$,y.params,n,b,C)[C](y.element).then(_,k),p(u.promise,!1,x)}function M(t,n){return e.bind(E,this)("get",void 0,t,void 0,n)}function A(t,n){return e.bind(E,this)("remove",void 0,t,void 0,n)}function O(t,n){return e.bind(E,this)("put",void 0,t,void 0,n)}function P(t,n,i,r){return e.bind(E,this)("post",t,i,n,r)}function I(t,n){return e.bind(E,this)("head",void 0,t,void 0,n)}function R(t,n){return e.bind(E,this)("trace",void 0,t,void 0,n)}function N(t,n){return e.bind(E,this)("options",void 0,t,void 0,n)}function L(t,n,i){return e.bind(E,this)("patch",void 0,n,t,i)}function F(t,n,i,r,a){return e.bind(E,this)(t,n,i,a,r)}function z(t,n,r,a,o,s){var l;l="getList"===n?e.bind($,this,r):e.bind(F,this,n,r);var c=function(t,n,i){var r=e.defaults({params:t,headers:n,elem:i},{params:a,headers:o,elem:s});return l(r.params,r.headers,r.elem)};i.isSafe(n)?this[t]=c:this[t]=function(e,t,n){return c(t,n,e)}}function j(r){var a=t.copy(e.omit(i,"configuration"));return n.init(a,a),r(a),o(a)}function H(t,n){var r=e.values(i.restangularFields),a={},o=(n||W).all(t);a.one=e.bind(l,n||W,n,t),a.post=e.bind(o.post,o),a.getList=e.bind(o.getList,o),a.withHttpConfig=e.bind(o.withHttpConfig,o),a.get=e.bind(o.get,o);for(var s in o)o.hasOwnProperty(s)&&e.isFunction(o[s])&&!e.includes(r,s)&&(a[s]=e.bind(o[s],o));return a}var W={},B=new i.urlCreatorFactory[i.urlCreator];return B.setConfig(i),n.init(W,i),W.copy=e.bind(y,W),W.service=e.bind(H,W),W.withConfig=e.bind(j,W),W.one=e.bind(l,W,null),W.all=e.bind(c,W,null),W.several=e.bind(u,W,null),W.oneUrl=e.bind(d,W,null),W.allUrl=e.bind(h,W,null),W.stripRestangular=e.bind(v,W),W.restangularizeElement=e.bind(w,W),W.restangularizeCollection=e.bind(_,W),W}return o(i)}]}),n.name});var duScrollDefaultEasing=function(e){"use strict";return e<.5?Math.pow(2*e,2)/2:1-Math.pow(2*(1-e),2)/2},duScroll=angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollSpyRefreshInterval",0).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",duScrollDefaultEasing).value("duScrollCancelOnEvents","scroll mousedown mousewheel touchmove keydown").value("duScrollBottomSpy",!1).value("duScrollActiveClass","active");"undefined"!=typeof module&&module&&module.exports&&(module.exports=duScroll),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset","duScrollCancelOnEvents",function(e,t,n,i,r,a,o,s){"use strict";var l={},c=function(e){return"undefined"!=typeof HTMLDocument&&e instanceof HTMLDocument||e.nodeType&&e.nodeType===e.DOCUMENT_NODE},u=function(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement||e.nodeType&&e.nodeType===e.ELEMENT_NODE},d=function(e){return u(e)||c(e)?e:e[0]};l.duScrollTo=function(t,n,i,r){var a;if(angular.isElement(t)?a=this.duScrollToElement:angular.isDefined(i)&&(a=this.duScrollToAnimated),a)return a.apply(this,arguments);var o=d(this);if(c(o))return e.scrollTo(t,n);o.scrollLeft=t,o.scrollTop=n};var h,p;l.duScrollToAnimated=function(e,a,o,l){o&&!l&&(l=r);var c=this.duScrollLeft(),u=this.duScrollTop(),d=Math.round(e-c),f=Math.round(a-u),g=null,m=0,v=this,b=function(e){(!e||m&&e.which>0)&&(s&&v.unbind(s,b),n(h),p.reject(),h=null)};if(h&&b(),p=t.defer(),0===o||!d&&!f)return 0===o&&v.duScrollTo(e,a),p.resolve(),p.promise;var y=function(e){null===g&&(g=e),m=e-g;var t=m>=o?1:l(m/o);v.scrollTo(c+Math.ceil(d*t),u+Math.ceil(f*t)),t<1?h=i(y):(s&&v.unbind(s,b),h=null,p.resolve())};return v.duScrollTo(c,u),s&&v.bind(s,b),h=i(y),p.promise},l.duScrollToElement=function(e,t,n,i){var r=d(this);angular.isNumber(t)&&!isNaN(t)||(t=o);var a=this.duScrollTop()+d(e).getBoundingClientRect().top-t;return u(r)&&(a-=r.getBoundingClientRect().top),this.duScrollTo(0,a,n,i)},l.duScrollLeft=function(t,n,i){if(angular.isNumber(t))return this.duScrollTo(t,this.duScrollTop(),n,i);var r=d(this);return c(r)?e.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:r.scrollLeft},l.duScrollTop=function(t,n,i){if(angular.isNumber(t))return this.duScrollTo(this.duScrollLeft(),t,n,i);var r=d(this);return c(r)?e.scrollY||document.documentElement.scrollTop||document.body.scrollTop:r.scrollTop},l.duScrollToElementAnimated=function(e,t,n,i){return this.duScrollToElement(e,t,n||a,i)},l.duScrollTopAnimated=function(e,t,n){return this.duScrollTop(e,t||a,n)},l.duScrollLeftAnimated=function(e,t,n){return this.duScrollLeft(e,t||a,n)},angular.forEach(l,function(e,t){angular.element.prototype[t]=e;var n=t.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[n])&&(angular.element.prototype[n]=e)})}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function(e){"use strict";var t=["webkit","moz","o","ms"];return function(n,i){if(e[n])return e[n];for(var r,a=n.substr(0,1).toUpperCase()+n.substr(1),o=0;o<t.length;o++)if(r=t[o]+a,e[r])return e[r];return i}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(e,t){"use strict";var n=0;return e("requestAnimationFrame",function(e,i){var r=(new Date).getTime(),a=Math.max(0,16-(r-n)),o=t(function(){e(r+a)},a);return n=r+a,o})}]).factory("cancelAnimation",["polyfill","$timeout",function(e,t){"use strict";return e("cancelAnimationFrame",function(e){t.cancel(e)})}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$interval","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollSpyRefreshInterval","duScrollBottomSpy","duScrollActiveClass",function(e,t,n,i,r,a,o,s,l,c,u){"use strict";var d=function(n){var a=!1,l=!1,d=function(){l=!1;var t,a=n.container,s=a[0],d=0;if("undefined"!=typeof HTMLElement&&s instanceof HTMLElement||s.nodeType&&s.nodeType===s.ELEMENT_NODE)d=s.getBoundingClientRect().top,t=Math.round(s.scrollTop+s.clientHeight)>=s.scrollHeight;else{var h=r[0].body.scrollHeight||r[0].documentElement.scrollHeight;t=Math.round(i.pageYOffset+i.innerHeight)>=h}var p,f,g,m,v,b,y=c&&t?"bottom":"top";for(m=n.spies,f=n.currentlyActive,g=void 0,p=0;p<m.length;p++)v=m[p],(b=v.getTargetPosition())&&v.$element&&(c&&t||b.top+v.offset-d<20&&(o||-1*b.top+d)<b.height)&&(!g||g[y]<b[y])&&(g={spy:v},g[y]=b[y]);g&&(g=g.spy),f===g||o&&!g||(f&&f.$element&&(f.$element.removeClass(u),e.$broadcast("duScrollspy:becameInactive",f.$element,angular.element(f.getTargetElement()))),g&&(g.$element.addClass(u),e.$broadcast("duScrollspy:becameActive",g.$element,angular.element(g.getTargetElement()))),n.currentlyActive=g)};return s?function(){a?l=!0:(d(),a=t(function(){a=!1,l&&d()},s,!1))}:d},h={},p=function(e){var t=e.$id,n={spies:[]};return n.handler=d(n),h[t]=n,e.$on("$destroy",function(){f(e)}),t},f=function(e){var t=e.$id,i=h[t],r=i.container;i.intervalPromise&&n.cancel(i.intervalPromise),r&&r.off("scroll",i.handler),delete h[t]},g=p(e),m=function(e){return h[e.$id]?h[e.$id]:e.$parent?m(e.$parent):h[g]},v=function(e){var t,n,i=e.$scope;if(i)return m(i);for(n in h)if(t=h[n],-1!==t.spies.indexOf(e))return t},b=function(e){for(;e.parentNode;)if((e=e.parentNode)===document)return!0;return!1};return{addSpy:function(e){var t=v(e);t&&(t.spies.push(e),t.container&&b(t.container)||(t.container&&t.container.off("scroll",t.handler),t.container=a.getContainer(e.$scope),l&&!t.intervalPromise&&(t.intervalPromise=n(t.handler,l,0,!1)),t.container.on("scroll",t.handler).triggerHandler("scroll")))},removeSpy:function(t){var n=v(t);t===n.currentlyActive&&(e.$broadcast("duScrollspy:becameInactive",n.currentlyActive.$element),n.currentlyActive=null);var i=n.spies.indexOf(t);-1!==i&&n.spies.splice(i,1),t.$element=null},createContext:p,destroyContext:f,getContextForScope:m}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function(e){"use strict";var t={},n=function(e,n){var i=e.$id;return t[i]=n,i},i=function(e){return t[e.$id]?e.$id:e.$parent?i(e.$parent):void 0};return{getContainerId:i,getContainer:function(n){var r=i(n);return r?t[r]:e},setContainer:n,removeContainer:function(e){var n=i(e);n&&delete t[n]}}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(e,t,n){"use strict";return{link:function(i,r,a){r.on("click",function(r){if(a.href&&-1!==a.href.indexOf("#")||""!==a.duSmoothScroll){var o=a.href?a.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):a.duSmoothScroll,s=document.getElementById(o)||document.getElementsByName(o)[0];if(s&&s.getBoundingClientRect){r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault();var l=a.offset?parseInt(a.offset,10):t,c=a.duration?parseInt(a.duration,10):e;n.getContainer(i).duScrollToElement(angular.element(s),isNaN(l)?0:l,isNaN(c)?0:c)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(t,n,i){return{pre:function(t,n,i,r){e.createContext(t)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(e){"use strict";return{restrict:"A",scope:!0,compile:function(t,n,i){return{pre:function(t,n,i,r){i.$observe("duScrollContainer",function(i){angular.isString(i)&&(i=document.getElementById(i)),i=angular.isElement(i)?angular.element(i):n,e.setContainer(t,i),t.$on("$destroy",function(){e.removeContainer(t)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(e,t,n,i){"use strict";var r=function(e,t,n,i){angular.isElement(e)?this.target=e:angular.isString(e)&&(this.targetId=e),this.$scope=t,this.$element=n,this.offset=i};return r.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)||document.getElementsByName(this.targetId)[0]),this.target},r.prototype.getTargetPosition=function(){var e=this.getTargetElement();if(e)return e.getBoundingClientRect()},r.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function(a,o,s){var l,c=s.ngHref||s.href;if(c&&-1!==c.indexOf("#")?l=c.replace(/.*(?=#[^\s]+$)/,"").substring(1):s.duScrollspy?l=s.duScrollspy:s.duSmoothScroll&&(l=s.duSmoothScroll),l){var u=n(function(){var n=new r(l,a,o,-(s.offset?parseInt(s.offset,10):t));e.addSpy(n),a.$on("$locationChangeSuccess",n.flushTargetCache.bind(n));var c=i.$on("$stateChangeSuccess",n.flushTargetCache.bind(n));a.$on("$destroy",function(){e.removeSpy(n),c()})},0,!1);a.$on("$destroy",function(){n.cancel(u)})}}}}]),/*!
 * angular-translate - v2.14.0 - 2017-02-11
 * 
 * Copyright (c) 2017 The angular-translate team, Pascal Precht; Licensed MIT
 */
function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof exports?module.exports=t():t()}(0,function(){function e(e){"use strict";var t=e.storageKey(),n=e.storage(),i=function(){var i=e.preferredLanguage();angular.isString(i)?e.use(i):n.put(t,e.use())};i.displayName="fallbackFromIncorrectStorageValue",n?n.get(t)?e.use(n.get(t)).catch(i):i():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}function t(){"use strict";var e,t,n,i=null,r=!1,a=!1;n={sanitize:function(e,t){return"text"===t&&(e=s(e)),e},escape:function(e,t){return"text"===t&&(e=o(e)),e},sanitizeParameters:function(e,t){return"params"===t&&(e=c(e,s)),e},escapeParameters:function(e,t){return"params"===t&&(e=c(e,o)),e},sce:function(e,t,n){return"text"===t?e=l(e):"params"===t&&"filter"!==n&&(e=c(e,o)),e},sceParameters:function(e,t){return"params"===t&&(e=c(e,l)),e}},n.escaped=n.escapeParameters,this.addStrategy=function(e,t){return n[e]=t,this},this.removeStrategy=function(e){return delete n[e],this},this.useStrategy=function(e){return r=!0,i=e,this},this.$get=["$injector","$log",function(o,s){var l={},c=function(e,t,i,r){return angular.forEach(r,function(r){if(angular.isFunction(r))e=r(e,t,i);else if(angular.isFunction(n[r]))e=n[r](e,t,i);else{if(!angular.isString(n[r]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'");if(!l[n[r]])try{l[n[r]]=o.get(n[r])}catch(e){throw l[n[r]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'")}e=l[n[r]](e,t,i)}}),e},u=function(){r||a||(s.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),a=!0)};return o.has("$sanitize")&&(e=o.get("$sanitize")),o.has("$sce")&&(t=o.get("$sce")),{useStrategy:function(e){return function(t){e.useStrategy(t)}}(this),sanitize:function(e,t,n,r){if(i||u(),n||null===n||(n=i),!n)return e;r||(r="service");var a=angular.isArray(n)?n:[n];return c(e,t,r,a)}}}];var o=function(e){var t=angular.element("<div></div>");return t.text(e),t.html()},s=function(t){if(!e)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return e(t)},l=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return t.trustAsHtml(e)},c=function(e,t,n){if(angular.isDate(e))return e;if(angular.isObject(e)){var i=angular.isArray(e)?[]:{};if(n){if(n.indexOf(e)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else n=[];return n.push(e),angular.forEach(e,function(e,r){angular.isFunction(e)||(i[r]=c(e,t,n))}),n.splice(-1,1),i}return angular.isNumber(e)?e:angular.isUndefined(e)||null===e?e:t(e)}}function n(e,t,n,i){"use strict";var r,a,o,s,l,c,u,d,h,p,f,g,m,v,b,y,w={},x=[],_=e,k=[],C="translate-cloak",S=!1,$=!1,D=".",T=!1,E=!1,M=0,A=!0,O="default",P={default:function(e){return(e||"").split("-").join("_")},java:function(e){var t=(e||"").split("-").join("_"),n=t.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():t},bcp47:function(e){var t=(e||"").split("_").join("-"),n=t.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():t},"iso639-1":function(e){return(e||"").split("_").join("-").split("-")[0].toLowerCase()}},I=function(){if(angular.isFunction(i.getLocale))return i.getLocale();var e,n,r=t.$get().navigator,a=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(r.languages))for(e=0;e<r.languages.length;e++)if((n=r.languages[e])&&n.length)return n;for(e=0;e<a.length;e++)if((n=r[a[e]])&&n.length)return n;return null};I.displayName="angular-translate/service: getFirstBrowserLanguage";var R=function(){var e=I()||"";return P[O]&&(e=P[O](e)),e};R.displayName="angular-translate/service: getLocale";var N=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},L=function(){return this.toString().replace(/^\s+|\s+$/g,"")},F=function(e){if(e){for(var t=[],n=angular.lowercase(e),i=0,r=x.length;i<r;i++)t.push(angular.lowercase(x[i]));if(N(t,n)>-1)return e;if(a){var o;for(var s in a)if(a.hasOwnProperty(s)){var l=!1,c=Object.prototype.hasOwnProperty.call(a,s)&&angular.lowercase(s)===angular.lowercase(e);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===e.slice(0,s.length-1)),(c||l)&&(o=a[s],N(t,angular.lowercase(o))>-1))return o}}var u=e.split("_");return u.length>1&&N(t,angular.lowercase(u[0]))>-1?u[0]:void 0}},z=function(e,t){if(!e&&!t)return w;if(e&&!t){if(angular.isString(e))return w[e]}else angular.isObject(w[e])||(w[e]={}),angular.extend(w[e],j(t));return this};this.translations=z,this.cloakClassName=function(e){return e?(C=e,this):C},this.nestedObjectDelimeter=function(e){return e?(D=e,this):D};var j=function(e,t,n,i){var r,a,o,s;t||(t=[]),n||(n={});for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s=e[r],angular.isObject(s)?j(s,t.concat(r),n,r):(a=t.length?""+t.join(D)+D+r:r,t.length&&r===i&&(o=""+t.join(D),n[o]="@:"+a),n[a]=s));return n};j.displayName="flatObject",this.addInterpolation=function(e){return k.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return p=e,this},this.useSanitizeValueStrategy=function(e){return n.useStrategy(e),this},this.preferredLanguage=function(e){return e?(H(e),this):r};var H=function(e){return e&&(r=e),r};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(m=e,this):m},this.translationNotFoundIndicatorRight=function(e){return e?(v=e,this):v},this.fallbackLanguage=function(e){return W(e),this};var W=function(e){return e?(angular.isString(e)?(s=!0,o=[e]):angular.isArray(e)&&(s=!1,o=e),angular.isString(r)&&N(o,r)<0&&o.push(r),this):s?o[0]:o};this.use=function(e){if(e){if(!w[e]&&!f)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return l=e,this}return l},this.resolveClientLocale=function(){return R()};var B=function(e){return e?(_=e,this):d?d+_:_};this.storageKey=B,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return f=e,g=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return u=e,this},this.storagePrefix=function(e){return e?(d=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return h=e,this},this.usePostCompiling=function(e){return S=!!e,this},this.forceAsyncReload=function(e){return $=!!e,this},this.uniformLanguageTag=function(e){return e?angular.isString(e)&&(e={standard:e}):e={},O=e.standard,this},this.determinePreferredLanguage=function(e){var t=e&&angular.isFunction(e)?e():R();return r=x.length?F(t)||t:t,this},this.registerAvailableLanguageKeys=function(e,t){return e?(x=e,t&&(a=t),this):x},this.useLoaderCache=function(e){return!1===e?b=void 0:!0===e?b=!0:void 0===e?b="$translationCache":e&&(b=e),this},this.directivePriority=function(e){return void 0===e?M:(M=e,this)},this.statefulFilter=function(e){return void 0===e?A:(A=e,this)},this.postProcess=function(e){return y=e||void 0,this},this.keepContent=function(e){return E=!!e,this},this.$get=["$log","$injector","$rootScope","$q",function(e,t,n,i){var a,d,O,P=t.get(p||"$translateDefaultInterpolation"),I=!1,V={},U={},q=function(e,t,n,s,c){!l&&r&&(l=r);var h=c&&c!==l?F(c)||c:l;if(c&&ce(c),angular.isArray(e)){return function(e){for(var r={},a=[],o=0,l=e.length;o<l;o++)a.push(function(e){var a=i.defer(),o=function(t){r[e]=t,a.resolve([e,t])};return q(e,t,n,s,c).then(o,o),a.promise}(e[o]));return i.all(a).then(function(){return r})}(e)}var p=i.defer();e&&(e=L.apply(e));var f=function(){var e=r?U[r]:U[h];if(d=0,u&&!e){var t=a.get(_);if(e=U[t],o&&o.length){var n=N(o,t);d=0===n?1:0,N(o,r)<0&&o.push(r)}}return e}();if(f){var g=function(){c||(h=l),ae(e,t,n,s,h).then(p.resolve,p.reject)};g.displayName="promiseResolved",f.finally(g).catch(angular.noop)}else ae(e,t,n,s,h).then(p.resolve,p.reject);return p.promise},Y=function(e){return m&&(e=[m,e].join(" ")),v&&(e=[e,v].join(" ")),e},K=function(e){l=e,u&&a.put(q.storageKey(),l),n.$emit("$translateChangeSuccess",{language:e}),P.setLocale(l);var t=function(e,t){V[t].setLocale(l)};t.displayName="eachInterpolatorLocaleSetter",angular.forEach(V,t),n.$emit("$translateChangeEnd",{language:e})},G=function(e){if(!e)throw"No language key specified for loading.";var r=i.defer();n.$emit("$translateLoadingStart",{language:e}),I=!0;var a=b;"string"==typeof a&&(a=t.get(a));var o=angular.extend({},g,{key:e,$http:angular.extend({},{cache:a},g.$http)}),s=function(t){var i={};n.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(t)?angular.forEach(t,function(e){angular.extend(i,j(e))}):angular.extend(i,j(t)),I=!1,r.resolve({key:e,table:i}),n.$emit("$translateLoadingEnd",{language:e})};s.displayName="onLoaderSuccess";var l=function(e){n.$emit("$translateLoadingError",{language:e}),r.reject(e),n.$emit("$translateLoadingEnd",{language:e})};return l.displayName="onLoaderError",t.get(f)(o).then(s,l),r.promise};if(u&&(a=t.get(u),!a.get||!a.put))throw new Error("Couldn't use storage '"+u+"', missing get() or put() method!");if(k.length){var X=function(e){var n=t.get(e);n.setLocale(r||l),V[n.getInterpolationIdentifier()]=n};X.displayName="interpolationFactoryAdder",angular.forEach(k,X)}var J=function(e){var t=i.defer();if(Object.prototype.hasOwnProperty.call(w,e))t.resolve(w[e]);else if(U[e]){var n=function(e){z(e.key,e.table),t.resolve(e.table)};n.displayName="translationTableResolver",U[e].then(n,t.reject)}else t.reject();return t.promise},Z=function(e,t,n,r,a){var o=i.defer(),s=function(i){if(Object.prototype.hasOwnProperty.call(i,t)&&null!==i[t]){r.setLocale(e);var s=i[t];if("@:"===s.substr(0,2))Z(e,s.substr(2),n,r,a).then(o.resolve,o.reject);else{var c=r.interpolate(i[t],n,"service",a,t);c=le(t,i[t],c,n,e),o.resolve(c)}r.setLocale(l)}else o.reject()};return s.displayName="fallbackTranslationResolver",J(e).then(s,o.reject),o.promise},Q=function(e,t,n,i,r){var a,o=w[e];if(o&&Object.prototype.hasOwnProperty.call(o,t)&&null!==o[t]){if(i.setLocale(e),a=i.interpolate(o[t],n,"filter",r,t),a=le(t,o[t],a,n,e,r),!angular.isString(a)&&angular.isFunction(a.$$unwrapTrustedValue)){var s=a.$$unwrapTrustedValue();if("@:"===s.substr(0,2))return Q(e,s.substr(2),n,i,r)}else if("@:"===a.substr(0,2))return Q(e,a.substr(2),n,i,r);i.setLocale(l)}return a},ee=function(e,n,i,r){return h?t.get(h)(e,l,n,i,r):e},te=function(e,t,n,r,a,s){var l=i.defer();if(e<o.length){var c=o[e];Z(c,t,n,r,s).then(function(e){l.resolve(e)},function(){return te(e+1,t,n,r,a,s).then(l.resolve,l.reject)})}else if(a)l.resolve(a);else{var u=ee(t,n,a);h&&u?l.resolve(u):l.reject(Y(t))}return l.promise},ne=function(e,t,n,i,r){var a;if(e<o.length){var s=o[e];a=Q(s,t,n,i,r),a||""===a||(a=ne(e+1,t,n,i))}return a},ie=function(e,t,n,i,r){return te(O>0?O:d,e,t,n,i,r)},re=function(e,t,n,i){return ne(O>0?O:d,e,t,n,i)},ae=function(e,t,n,r,a,s){var l=i.defer(),c=a?w[a]:w,u=n?V[n]:P;if(c&&Object.prototype.hasOwnProperty.call(c,e)&&null!==c[e]){var d=c[e];if("@:"===d.substr(0,2))q(d.substr(2),t,n,r,a).then(l.resolve,l.reject);else{var p=u.interpolate(d,t,"service",s,e);p=le(e,d,p,t,a),l.resolve(p)}}else{var f;h&&!I&&(f=ee(e,t,r)),a&&o&&o.length?ie(e,t,u,r,s).then(function(e){l.resolve(e)},function(e){l.reject(Y(e))}):h&&!I&&f?r?l.resolve(r):l.resolve(f):r?l.resolve(r):l.reject(Y(e))}return l.promise},oe=function(e,t,n,i,r){var a,s=i?w[i]:w,l=P;if(V&&Object.prototype.hasOwnProperty.call(V,n)&&(l=V[n]),s&&Object.prototype.hasOwnProperty.call(s,e)&&null!==s[e]){var c=s[e];"@:"===c.substr(0,2)?a=oe(c.substr(2),t,n,i,r):(a=l.interpolate(c,t,"filter",r,e),a=le(e,c,a,t,i,r))}else{var u;h&&!I&&(u=ee(e,t,r)),i&&o&&o.length?(d=0,a=re(e,t,l,r)):a=h&&!I&&u?u:Y(e)}return a},se=function(e){c===e&&(c=void 0),U[e]=void 0},le=function(e,n,i,r,a,o){var s=y;return s&&("string"==typeof s&&(s=t.get(s)),s)?s(e,n,i,r,a,o):i},ce=function(e){w[e]||!f||U[e]||(U[e]=G(e).then(function(e){return z(e.key,e.table),e}))};q.preferredLanguage=function(e){return e&&H(e),r},q.cloakClassName=function(){return C},q.nestedObjectDelimeter=function(){return D},q.fallbackLanguage=function(e){if(void 0!==e&&null!==e){if(W(e),f&&o&&o.length)for(var t=0,n=o.length;t<n;t++)U[o[t]]||(U[o[t]]=G(o[t]));q.use(q.use())}return s?o[0]:o},q.useFallbackLanguage=function(e){if(void 0!==e&&null!==e)if(e){var t=N(o,e);t>-1&&(O=t)}else O=0},q.proposedLanguage=function(){return c},q.storage=function(){return a},q.negotiateLocale=F,q.use=function(e){if(!e)return l;var t=i.defer();t.promise.then(null,angular.noop),n.$emit("$translateChangeStart",{language:e});var r=F(e);return x.length>0&&!r?i.reject(e):(r&&(e=r),c=e,!$&&w[e]||!f||U[e]?U[e]?U[e].then(function(e){return c===e.key&&K(e.key),t.resolve(e.key),e},function(e){return!l&&o&&o.length>0&&o[0]!==e?q.use(o[0]).then(t.resolve,t.reject):t.reject(e)}):(t.resolve(e),K(e)):(U[e]=G(e).then(function(n){return z(n.key,n.table),t.resolve(n.key),c===e&&K(n.key),n},function(e){return n.$emit("$translateChangeError",{language:e}),t.reject(e),n.$emit("$translateChangeEnd",{language:e}),i.reject(e)}),U[e].finally(function(){se(e)}).catch(angular.noop)),t.promise)},q.resolveClientLocale=function(){return R()},q.storageKey=function(){return B()},q.isPostCompilingEnabled=function(){return S},q.isForceAsyncReloadEnabled=function(){return $},q.isKeepContent=function(){return E},q.refresh=function(e){function t(e){var t=G(e);return U[e]=t,t.then(function(t){w[e]={},z(e,t.table),a[e]=!0},angular.noop),t}if(!f)throw new Error("Couldn't refresh translation table, no loader registered!");n.$emit("$translateRefreshStart",{language:e});var r=i.defer(),a={};if(r.promise.then(function(){for(var e in w)w.hasOwnProperty(e)&&(e in a||delete w[e]);l&&K(l)},angular.noop).finally(function(){n.$emit("$translateRefreshEnd",{language:e})}),e)w[e]?t(e).then(r.resolve,r.reject):r.reject();else{var s=o&&o.slice()||[];l&&-1===s.indexOf(l)&&s.push(l),i.all(s.map(t)).then(r.resolve,r.reject)}return r.promise},q.instant=function(e,t,n,i,a){var s=i&&i!==l?F(i)||i:l;if(null===e||angular.isUndefined(e))return e;if(i&&ce(i),angular.isArray(e)){for(var c={},u=0,d=e.length;u<d;u++)c[e[u]]=q.instant(e[u],t,n,i,a);return c}if(angular.isString(e)&&e.length<1)return e;e&&(e=L.apply(e));var p,f=[];r&&f.push(r),s&&f.push(s),o&&o.length&&(f=f.concat(o));for(var g=0,b=f.length;g<b;g++){var y=f[g];if(w[y]&&void 0!==w[y][e]&&(p=oe(e,t,n,s,a)),void 0!==p)break}if(!p&&""!==p)if(m||v)p=Y(e);else{p=P.interpolate(e,t,"filter",a);var x;h&&!I&&(x=ee(e,t,a)),h&&!I&&x&&(p=x)}return p},q.versionInfo=function(){return"2.14.0"},q.loaderCache=function(){return b},q.directivePriority=function(){return M},q.statefulFilter=function(){return A},q.isReady=function(){return T};var ue=i.defer();ue.promise.then(function(){T=!0}),q.onReady=function(e){var t=i.defer();return angular.isFunction(e)&&t.promise.then(e),T?t.resolve():ue.promise.then(t.resolve),t.promise},q.getAvailableLanguageKeys=function(){return x.length>0?x:null},q.getTranslationTable=function(e){return e=e||q.use(),e&&w[e]?angular.copy(w[e]):null};var de=n.$on("$translateReady",function(){ue.resolve(),de(),de=null}),he=n.$on("$translateChangeEnd",function(){ue.resolve(),he(),he=null});if(f){if(angular.equals(w,{})&&q.use()&&q.use(q.use()),o&&o.length)for(var pe=function(e){return z(e.key,e.table),n.$emit("$translateChangeEnd",{language:e.key}),e},fe=0,ge=o.length;fe<ge;fe++){var me=o[fe];!$&&w[me]||(U[me]=G(me).then(pe))}}else n.$emit("$translateReady",{language:q.use()});return q}]}function i(e,t){"use strict";var n,i={};return i.setLocale=function(e){n=e},i.getInterpolationIdentifier=function(){return"default"},i.useSanitizeValueStrategy=function(e){return t.useStrategy(e),this},i.interpolate=function(n,i,r,a){i=i||{},i=t.sanitize(i,"params",a,r);var o;return angular.isNumber(n)?o=""+n:angular.isString(n)?(o=e(n)(i),o=t.sanitize(o,"text",a,r)):o="",o},i}function r(e,t,n,i,r){"use strict";var o=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:e.directivePriority(),compile:function(s,l){var c=l.translateValues?l.translateValues:void 0,u=l.translateInterpolation?l.translateInterpolation:void 0,d=s[0].outerHTML.match(/translate-value-+/i),h="^(.*)("+t.startSymbol()+".*"+t.endSymbol()+")(.*)",p="^(.*)"+t.startSymbol()+"(.*)"+t.endSymbol()+"(.*)";return function(s,f,g){s.interpolateParams={},s.preText="",s.postText="",s.translateNamespace=a(s);var m={},v=function(e){if(angular.isFunction(v._unwatchOld)&&(v._unwatchOld(),v._unwatchOld=void 0),angular.equals(e,"")||!angular.isDefined(e)){var n=o.apply(f.text()),i=n.match(h);if(angular.isArray(i)){s.preText=i[1],s.postText=i[3],m.translate=t(i[2])(s.$parent);var r=n.match(p);angular.isArray(r)&&r[2]&&r[2].length&&(v._unwatchOld=s.$watch(r[2],function(e){m.translate=e,x()}))}else m.translate=n||void 0}else m.translate=e;x()};!function(e,t,n){if(t.translateValues&&angular.extend(e,i(t.translateValues)(s.$parent)),d)for(var r in n)if(Object.prototype.hasOwnProperty.call(t,r)&&"translateValue"===r.substr(0,14)&&"translateValues"!==r){var a=angular.lowercase(r.substr(14,1))+r.substr(15);e[a]=n[r]}}(s.interpolateParams,g,l);var b=!0;g.$observe("translate",function(e){void 0===e?v(""):""===e&&b||(m.translate=e,x()),b=!1});for(var y in g)g.hasOwnProperty(y)&&"translateAttr"===y.substr(0,13)&&y.length>13&&function(e){g.$observe(e,function(t){m[e]=t,x()})}(y);if(g.$observe("translateDefault",function(e){s.defaultText=e,x()}),c&&g.$observe("translateValues",function(e){e&&s.$parent.$watch(function(){angular.extend(s.interpolateParams,i(e)(s.$parent))})}),d){for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&"translateValue"===w.substr(0,14)&&"translateValues"!==w&&function(e){g.$observe(e,function(t){var n=angular.lowercase(e.substr(14,1))+e.substr(15);s.interpolateParams[n]=t})}(w)}var x=function(){for(var e in m)m.hasOwnProperty(e)&&void 0!==m[e]&&_(e,m[e],s,s.interpolateParams,s.defaultText,s.translateNamespace)},_=function(t,n,i,r,a,o){n?(o&&"."===n.charAt(0)&&(n=o+n),e(n,r,u,a,i.translateLanguage).then(function(e){k(e,i,!0,t)},function(e){k(e,i,!1,t)})):k(n,i,!1,t)},k=function(t,i,r,a){if(r||void 0!==i.defaultText&&(t=i.defaultText),"translate"===a){(r||!r&&!e.isKeepContent()&&void 0===g.translateKeepContent)&&f.empty().append(i.preText+t+i.postText);var o=e.isPostCompilingEnabled(),s=void 0!==l.translateCompile,c=s&&"false"!==l.translateCompile;(o&&!s||c)&&n(f.contents())(i)}else{var u=g.$attr[a];"data-"===u.substr(0,5)&&(u=u.substr(5)),u=u.substr(15),f.attr(u,t)}};(c||d||g.translateDefault)&&s.$watch("interpolateParams",x,!0),s.$on("translateLanguageChanged",x);var C=r.$on("$translateChangeSuccess",x);f.text().length?v(g.translate?g.translate:""):g.translate&&v(g.translate),x(),s.$on("$destroy",C)}}}}function a(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?a(e.$parent):void 0}function o(e,t){"use strict";return{restrict:"A",priority:e.directivePriority(),link:function(n,i,r){var a,o,l={},c=function(){angular.forEach(a,function(t,a){t&&(l[a]=!0,n.translateNamespace&&"."===t.charAt(0)&&(t=n.translateNamespace+t),e(t,o,r.translateInterpolation,void 0,n.translateLanguage).then(function(e){i.attr(a,e)},function(e){i.attr(a,e)}))}),angular.forEach(l,function(e,t){a[t]||(i.removeAttr(t),delete l[t])})};s(n,r.translateAttr,function(e){a=e},c),s(n,r.translateValues,function(e){o=e},c),r.translateValues&&n.$watch(r.translateValues,c,!0),n.$on("translateLanguageChanged",c);var u=t.$on("$translateChangeSuccess",c);c(),n.$on("$destroy",u)}}}function s(e,t,n,i){"use strict";t&&("::"===t.substr(0,2)?t=t.substr(2):e.$watch(t,function(e){n(e),i()},!0),n(e.$eval(t)))}function l(e){"use strict";return{compile:function(t){var n=function(t){t.addClass(e.cloakClassName())},i=function(t){t.removeClass(e.cloakClassName())};return n(t),function(t,r,a){var o=i.bind(this,r),s=n.bind(this,r);a.translateCloak&&a.translateCloak.length?a.$observe("translateCloak",function(t){e(t).then(o,s)}):e.onReady(o)}}}}function c(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(e,t,n){e.translateNamespace=a(e),e.translateNamespace&&"."===n.translateNamespace.charAt(0)?e.translateNamespace+=n.translateNamespace:e.translateNamespace=n.translateNamespace}}}}}function a(e){"use strict";return e.translateNamespace?e.translateNamespace:e.$parent?a(e.$parent):void 0}function u(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(e,t,n){n.$observe("translateLanguage",function(t){e.translateLanguage=t}),e.$watch("translateLanguage",function(){e.$broadcast("translateLanguageChanged")})}}}}function d(e,t){"use strict";var n=function(n,i,r,a){return angular.isObject(i)||(i=e(i)(this)),t.instant(n,i,r,a)};return t.statefulFilter()&&(n.$stateful=!0),n}function h(e){"use strict";return e("translations")}return e.$inject=["$translate"],n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],i.$inject=["$interpolate","$translateSanitization"],r.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],o.$inject=["$translate","$rootScope"],l.$inject=["$translate"],d.$inject=["$parse","$translate"],h.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(e),e.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",t),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",i),i.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",r),r.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",o),o.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",l),l.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",c),c.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",u),u.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",d),d.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",h),h.displayName="$translationCache","pascalprecht.translate"}),/*!
 * angular-translate - v2.17.0 - 2017-12-21
 * 
 * Copyright (c) 2017 The angular-translate team, Pascal Precht; Licensed MIT
 */
function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof module&&module.exports?module.exports=t():t()}(0,function(){function e(e){"use strict";return function(t){e.warn("Translation for "+t+" doesn't exist")}}return e.$inject=["$log"],angular.module("pascalprecht.translate").factory("$translateMissingTranslationHandlerLog",e),e.displayName="$translateMissingTranslationHandlerLog","pascalprecht.translate"}),/*!
 * angular-translate - v2.17.0 - 2017-12-21
 * 
 * Copyright (c) 2017 The angular-translate team, Pascal Precht; Licensed MIT
 */
function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof module&&module.exports?module.exports=t():t()}(0,function(){function e(e,t){"use strict";return function(n){if(!n||!n.url)throw new Error("Couldn't use urlLoader since no url is given!");var i={};return i[n.queryParameter||"lang"]=n.key,t(angular.extend({url:n.url,params:i,method:"GET"},n.$http)).then(function(e){return e.data},function(){return e.reject(n.key)})}}return e.$inject=["$q","$http"],angular.module("pascalprecht.translate").factory("$translateUrlLoader",e),e.displayName="$translateUrlLoader","pascalprecht.translate"}),/*!
 * angular-translate - v2.17.0 - 2017-12-21
 * 
 * Copyright (c) 2017 The angular-translate team, Pascal Precht; Licensed MIT
 */
function(e,t){"function"==typeof define&&define.amd?define([],function(){return t()}):"object"==typeof module&&module.exports?module.exports=t():t()}(0,function(){function e(e,t){"use strict";return function(n){if(!(n&&(angular.isArray(n.files)||angular.isString(n.prefix)&&angular.isString(n.suffix))))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");n.files||(n.files=[{prefix:n.prefix,suffix:n.suffix}]);for(var i=[],r=n.files.length,a=0;a<r;a++)i.push(function(i){if(!i||!angular.isString(i.prefix)||!angular.isString(i.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");var r=[i.prefix,n.key,i.suffix].join("");return angular.isObject(n.fileMap)&&n.fileMap[r]&&(r=n.fileMap[r]),t(angular.extend({url:r,method:"GET"},n.$http)).then(function(e){return e.data},function(){return e.reject(n.key)})}({prefix:n.files[a].prefix,key:n.key,suffix:n.files[a].suffix}));return e.all(i).then(function(e){for(var t=e.length,n={},i=0;i<t;i++)for(var r in e[i])n[r]=e[i][r];return n})}}return e.$inject=["$q","$http"],angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",e),e.displayName="$translateStaticFilesLoader","pascalprecht.translate"}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.MessageFormat=e()}}(function(){var e;return function e(t,n,i){function r(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){var n=t[o][1][e];return r(n||e)},u,u.exports,e,t,n,i)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,n){function i(e){this.mf=e,this.lc=null,this.locales={},this.runtime={},this.formatters={}}var r=e("reserved-words"),a=e("messageformat-parser").parse;t.exports=i,i.propname=function(e,t){if(/^[A-Z_$][0-9A-Z_$]*$/i.test(e)&&["break","continue","delete","else","for","function","if","in","new","return","this","typeof","var","void","while","with","case","catch","default","do","finally","instanceof","switch","throw","try"].indexOf(e)<0)return t?t+"."+e:e;var n=JSON.stringify(e);return t?t+"["+n+"]":n},i.funcname=function(e){var t=e.trim().replace(/\W+/g,"_");return r.check(t,"es2015",!0)||/^\d/.test(t)?"_"+t:t},i.bidiMarkText=function(e,t){var n=JSON.stringify(function(e){var t=["ar","ckb","fa","he","ks($|[^bfh])","lrc","mzn","pa-Arab","ps","ug","ur","uz-Arab","yi"];return new RegExp("^"+t.join("|^")).test(e)}(t)?"‏":"‎");return n+" + "+e+" + "+n},i.prototype.cases=function(e,t){var n=!0,r=e.cases.map(function(e){"other"===e.key&&(n=!1);var r=e.tokens.map(function(e){return this.token(e,t)},this);return i.propname(e.key)+": "+(r.join(" + ")||'""')},this);if(n)throw new Error("No 'other' form found in "+JSON.stringify(e));return"{ "+r.join(", ")+" }"},i.prototype.token=function(e,t){if("string"==typeof e)return JSON.stringify(e);var n,r=[i.propname(e.arg,"d")];switch(e.type){case"argument":return this.mf.bidiSupport?i.bidiMarkText(r[0],this.lc):r[0];case"select":n="select",r.push(this.cases(e,this.mf.strictNumberSign?null:t)),this.runtime.select=!0;break;case"selectordinal":n="plural",r.push(0,i.funcname(this.lc),this.cases(e,e),1),this.locales[this.lc]=!0,this.runtime.plural=!0;break;case"plural":n="plural",r.push(e.offset||0,i.funcname(this.lc),this.cases(e,e)),this.locales[this.lc]=!0,this.runtime.plural=!0;break;case"function":if(this.mf.intlSupport&&!(e.key in this.mf.fmt)&&e.key in this.mf.constructor.formatters){var a=this.mf.constructor.formatters[e.key];this.mf.fmt[e.key]="function"==typeof a(this.mf)?a(this.mf):a}if(!this.mf.fmt[e.key])throw new Error("Formatting function "+JSON.stringify(e.key)+" not found!");if(r.push(JSON.stringify(this.lc)),e.params)switch(e.params.length){case 0:break;case 1:r.push(JSON.stringify(e.params[0]));break;default:r.push(JSON.stringify(e.params))}n=i.propname(e.key,"fmt"),this.formatters[e.key]=!0;break;case"octothorpe":if(!t)return'"#"';n="number",r=[i.propname(t.arg,"d"),JSON.stringify(t.arg)],t.offset&&r.push(t.offset),this.runtime.number=!0}if(!n)throw new Error("Parser error for token "+JSON.stringify(e));return n+"("+r.join(", ")+")"},i.prototype.compile=function(e,t,n){if("object"!=typeof e){this.lc=t;var i=n[t]||{cardinal:[],ordinal:[]};return"function(d) { return "+(a(e,i).map(function(e){return this.token(e)},this).join(" + ")||'""')+"; }"}var r={};for(var o in e){var s=n.hasOwnProperty(o)?o:t;r[o]=this.compile(e[o],s,n)}return r}},{"messageformat-parser":8,"reserved-words":10}],2:[function(e,t,n){function i(t,n){for(var i=e("make-plural/plurals"),r=e("make-plural/pluralCategories"),a=t;a;a=a.replace(/[-_]?[^-_]*$/,"")){var o=i[a];if(o){var s=n?{cardinal:[],ordinal:[]}:r[a]||{},l=function(){return o.apply(this,arguments)};return l.toString=function(){return o.toString()},l.cardinal=s.cardinal,l.ordinal=s.ordinal,l}}throw new Error("Localisation function not found for locale "+JSON.stringify(t))}function r(e){if(this.pluralFuncs={},e)if("string"==typeof e)this.pluralFuncs[e]=i(e);else if(Array.isArray(e))e.forEach(function(e){this.pluralFuncs[e]=i(e)},this);else if("object"==typeof e)for(var t in e)if(e.hasOwnProperty(t)){if("function"!=typeof e[t])throw new Error("Expected function value for locale "+JSON.stringify(t));this.pluralFuncs[t]=e[t]}this.fmt={},this.runtime=new o(this)}/** @file messageformat.js - ICU PluralFormat + SelectFormat for JavaScript
 *
 * @author Alex Sexton - @SlexAxton, Eemeli Aro
 * @version 1.0.2
 * @copyright 2012-2016 Alex Sexton, Eemeli Aro, and Contributors
 * @license To use or fork, MIT. To contribute back, Dojo CLA
 */
var a=e("./compiler"),o=e("./runtime");r.defaultLocale="en",r.escape=function(e){return e.replace(/[#{}\\]/g,"\\$&")},r.formatters={number:function(e){return new Function("v,lc,p","return new Intl.NumberFormat(lc,\n    p=='integer' ? {maximumFractionDigits:0}\n  : p=='percent' ? {style:'percent'}\n  : p=='currency' ? {style:'currency', currency:'"+(e.currency||"USD")+"', minimumFractionDigits:2, maximumFractionDigits:2}\n  : {}).format(v)")},date:function(e,t,n){var i={day:"numeric",month:"short",year:"numeric"};switch(n){case"full":i.weekday="long";case"long":i.month="long";break;case"short":i.month="numeric"}return new Date(e).toLocaleDateString(t,i)},time:function(e,t,n){var i={second:"numeric",minute:"numeric",hour:"numeric"};switch(n){case"full":case"long":i.timeZoneName="short";break;case"short":delete i.second}return new Date(e).toLocaleTimeString(t,i)}},r.prototype.addFormatters=function(e){for(var t in e)e.hasOwnProperty(t)&&(this.fmt[t]=e[t]);return this},r.prototype.disablePluralKeyChecks=function(){this.noPluralKeyChecks=!0;for(var e in this.pluralFuncs)this.pluralFuncs.hasOwnProperty(e)&&(this.pluralFuncs[e].cardinal=[],this.pluralFuncs[e].ordinal=[]);return this},r.prototype.setBiDiSupport=function(e){return this.bidiSupport=!!e||void 0===e,this},r.prototype.setIntlSupport=function(e){return this.intlSupport=!!e||void 0===e,this},r.prototype.setStrictNumberSign=function(e){return this.strictNumberSign=!!e||void 0===e,this.runtime.setStrictNumber(this.strictNumberSign),this},r.prototype.compile=function(e,t){function n(e,t){if(t||(t=0),"object"!=typeof e)return e;for(var i=[],r="",o=0;o<t;++o)r+="  ";for(var s in e)i.push("\n"+r+"  "+a.propname(s)+": "+n(e[s],t+1));return"{"+i.join(",")+"\n"+r+"}"}var o;if(0==Object.keys(this.pluralFuncs).length)t||(t=r.defaultLocale),o={},o[t]=i(t,this.noPluralKeyChecks);else if(t){if(o={},o[t]=this.pluralFuncs[t],!o[t])throw new Error("Locale "+JSON.stringify(t)+"not found in "+JSON.stringify(this.pluralFuncs)+"!")}else o=this.pluralFuncs,t=Object.keys(o)[0];var s=new a(this),l=s.compile(e,t,o);if("object"!=typeof e){var c=new Function("number, plural, select, fmt",a.funcname(t),"return "+l),u=this.runtime;return c(u.number,u.plural,u.select,this.fmt,o[t])}var d=this.runtime.toString(o,s)+"\n",h=n(l),p=new Function(d+"return "+h)();if(p.hasOwnProperty("toString"))throw new Error("The top-level message key `toString` is reserved");return p.toString=function(e){switch(e||""){case"exports":var t=[];for(var i in l)t.push(a.propname(i,"exports")+" = "+n(l[i]));return d+t.join(";\n");case"module.exports":return d+"module.exports = "+h;case"export default":return d+"export default "+h;case"":return d+"return "+h;default:return e.indexOf(".")>-1?d+e+" = "+h:d+["(function (root, G) {",'  if (typeof define === "function" && define.amd) { define(G); }','  else if (typeof exports === "object") { module.exports = G; }',"  else { "+a.propname(e,"root")+" = G; }","})(this, "+h+");"].join("\n")}},p},t.exports=r},{"./compiler":1,"./runtime":3,"make-plural/pluralCategories":6,"make-plural/plurals":7}],3:[function(e,t,n){function i(e){this.mf=e,this.setStrictNumber(e.strictNumberSign)}function r(e,t,n){if(!n)return e;if(isNaN(e))throw new Error("Can't apply offset:"+n+" to argument `"+t+"` with non-numerical value "+JSON.stringify(e)+".");return e-n}function a(e,t,n){if(isNaN(e))throw new Error("Argument `"+t+"` has non-numerical value "+JSON.stringify(e)+".");return e-(n||0)}var o=e("./compiler");t.exports=i,i.prototype.setStrictNumber=function(e){this.number=e?a:r},i.prototype.plural=function(e,t,n,i,r){if({}.hasOwnProperty.call(i,e))return i[e];t&&(e-=t);var a=n(e,r);return a in i?i[a]:i.other},i.prototype.select=function(e,t){return{}.hasOwnProperty.call(t,e)?t[e]:t.other},i.prototype.toString=function(e,t){function n(e,t){if("object"!=typeof e){var i=e.toString().replace(/^(function )\w*/,"$1"),r=/([ \t]*)\S.*$/.exec(i);return r?i.replace(new RegExp("^"+r[1],"mg"),""):i}var a=[];for(var s in e)0==t?a.push("var "+s+" = "+n(e[s],t+1)+";\n"):a.push(o.propname(s)+": "+n(e[s],t+1));if(0==t)return a.join("");if(0==a.length)return"{}";for(var r="  ";--t;)r+="  ";return"{\n"+a.join(",\n").replace(/^/gm,r)+"\n}"}var i={};Object.keys(t.locales).forEach(function(t){i[o.funcname(t)]=e[t]}),Object.keys(t.runtime).forEach(function(e){i[e]=this[e]},this);var r=Object.keys(t.formatters),a=this.mf.fmt;return r.length&&(i.fmt=r.reduce(function(e,t){return e[t]=a[t],e},{})),n(i,0)}},{"./compiler":1}],4:[function(e,t,n){function i(e,t){return p.isUndefined(t)?""+t:p.isNumber(t)&&!isFinite(t)?t.toString():p.isFunction(t)||p.isRegExp(t)?t.toString():t}function r(e,t){return p.isString(e)?e.length<t?e:e.slice(0,t):e}function a(e){return r(JSON.stringify(e.actual,i),128)+" "+e.operator+" "+r(JSON.stringify(e.expected,i),128)}function o(e,t,n,i,r){throw new m.AssertionError({message:n,actual:e,expected:t,operator:i,stackStartFunction:r})}function s(e,t){e||o(e,!0,t,"==",m.ok)}function l(e,t){if(e===t)return!0;if(p.isBuffer(e)&&p.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return p.isDate(e)&&p.isDate(t)?e.getTime()===t.getTime():p.isRegExp(e)&&p.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:p.isObject(e)||p.isObject(t)?u(e,t):e==t}function c(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function u(e,t){if(p.isNullOrUndefined(e)||p.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(p.isPrimitive(e)||p.isPrimitive(t))return e===t;var n=c(e),i=c(t);if(n&&!i||!n&&i)return!1;if(n)return e=f.call(e),t=f.call(t),l(e,t);var r,a,o=v(e),s=v(t);if(o.length!=s.length)return!1;for(o.sort(),s.sort(),a=o.length-1;a>=0;a--)if(o[a]!=s[a])return!1;for(a=o.length-1;a>=0;a--)if(r=o[a],!l(e[r],t[r]))return!1;return!0}function d(e,t){return!(!e||!t)&&("[object RegExp]"==Object.prototype.toString.call(t)?t.test(e):e instanceof t||!0===t.call({},e))}function h(e,t,n,i){var r;p.isString(n)&&(i=n,n=null);try{t()}catch(e){r=e}if(i=(n&&n.name?" ("+n.name+").":".")+(i?" "+i:"."),e&&!r&&o(r,n,"Missing expected exception"+i),!e&&d(r,n)&&o(r,n,"Got unwanted exception"+i),e&&r&&n&&!d(r,n)||!e&&r)throw r}
// Copyright (c) 2009 Thomas Robinson <280north.com>
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the 'Software'), to
// deal in the Software without restriction, including without limitation the
// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
// sell copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN
// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
var p=e("util/"),f=Array.prototype.slice,g=Object.prototype.hasOwnProperty,m=t.exports=s;m.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=a(this),this.generatedMessage=!0);var t=e.stackStartFunction||o;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var i=n.stack,r=t.name,s=i.indexOf("\n"+r);if(s>=0){var l=i.indexOf("\n",s+1);i=i.substring(l+1)}this.stack=i}}},p.inherits(m.AssertionError,Error),m.fail=o,m.ok=s,m.equal=function(e,t,n){e!=t&&o(e,t,n,"==",m.equal)},m.notEqual=function(e,t,n){e==t&&o(e,t,n,"!=",m.notEqual)},m.deepEqual=function(e,t,n){l(e,t)||o(e,t,n,"deepEqual",m.deepEqual)},m.notDeepEqual=function(e,t,n){l(e,t)&&o(e,t,n,"notDeepEqual",m.notDeepEqual)},m.strictEqual=function(e,t,n){e!==t&&o(e,t,n,"===",m.strictEqual)},m.notStrictEqual=function(e,t,n){e===t&&o(e,t,n,"!==",m.notStrictEqual)},m.throws=function(e,t,n){h.apply(this,[!0].concat(f.call(arguments)))},m.doesNotThrow=function(e,t){h.apply(this,[!1].concat(f.call(arguments)))},m.ifError=function(e){if(e)throw e};var v=Object.keys||function(e){var t=[];for(var n in e)g.call(e,n)&&t.push(n);return t}},{"util/":13}],5:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],6:[function(t,n,i){var r=[{cardinal:["other"],ordinal:["other"]},{cardinal:["one","other"],ordinal:["other"]},{cardinal:["one","other"],ordinal:["one","other"]},{cardinal:["one","two","other"],ordinal:["other"]}];!function(t,r){"function"==typeof e&&e.amd?e(r):"object"==typeof i?n.exports=r:t.pluralCategories=r}(this,{af:r[1],ak:r[1],am:r[1],ar:{cardinal:["zero","one","two","few","many","other"],ordinal:["other"]},as:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},asa:r[1],ast:r[1],az:{cardinal:["one","other"],ordinal:["one","few","many","other"]},be:{cardinal:["one","few","many","other"],ordinal:["few","other"]},bem:r[1],bez:r[1],bg:r[1],bh:r[1],bm:r[0],bn:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},bo:r[0],br:{cardinal:["one","two","few","many","other"],ordinal:["other"]},brx:r[1],bs:{cardinal:["one","few","other"],ordinal:["other"]},ca:{cardinal:["one","other"],ordinal:["one","two","few","other"]},ce:r[1],cgg:r[1],chr:r[1],ckb:r[1],cs:{cardinal:["one","few","many","other"],ordinal:["other"]},cy:{cardinal:["zero","one","two","few","many","other"],ordinal:["zero","one","two","few","many","other"]},da:r[1],de:r[1],dsb:{cardinal:["one","two","few","other"],ordinal:["other"]},dv:r[1],dz:r[0],ee:r[1],el:r[1],en:{cardinal:["one","other"],ordinal:["one","two","few","other"]},eo:r[1],es:r[1],et:r[1],eu:r[1],fa:r[1],ff:r[1],fi:r[1],fil:r[2],fo:r[1],fr:r[2],fur:r[1],fy:r[1],ga:{cardinal:["one","two","few","many","other"],ordinal:["one","other"]},gd:{cardinal:["one","two","few","other"],ordinal:["other"]},gl:r[1],gsw:r[1],gu:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},guw:r[1],gv:{cardinal:["one","two","few","many","other"],ordinal:["other"]},ha:r[1],haw:r[1],he:{cardinal:["one","two","many","other"],ordinal:["other"]},hi:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},hr:{cardinal:["one","few","other"],ordinal:["other"]},hsb:{cardinal:["one","two","few","other"],ordinal:["other"]},hu:r[2],hy:r[2],id:r[0],ig:r[0],ii:r[0],in:r[0],is:r[1],it:{cardinal:["one","other"],ordinal:["many","other"]},iu:r[3],iw:{cardinal:["one","two","many","other"],ordinal:["other"]},ja:r[0],jbo:r[0],jgo:r[1],ji:r[1],jmc:r[1],jv:r[0],jw:r[0],ka:{cardinal:["one","other"],ordinal:["one","many","other"]},kab:r[1],kaj:r[1],kcg:r[1],kde:r[0],kea:r[0],kk:{cardinal:["one","other"],ordinal:["many","other"]},kkj:r[1],kl:r[1],km:r[0],kn:r[1],ko:r[0],ks:r[1],ksb:r[1],ksh:{cardinal:["zero","one","other"],ordinal:["other"]},ku:r[1],kw:r[3],ky:r[1],lag:{cardinal:["zero","one","other"],ordinal:["other"]},lb:r[1],lg:r[1],lkt:r[0],ln:r[1],lo:{cardinal:["other"],ordinal:["one","other"]},lt:{cardinal:["one","few","many","other"],ordinal:["other"]},lv:{cardinal:["zero","one","other"],ordinal:["other"]},mas:r[1],mg:r[1],mgo:r[1],mk:{cardinal:["one","other"],ordinal:["one","two","many","other"]},ml:r[1],mn:r[1],mo:{cardinal:["one","few","other"],ordinal:["one","other"]},mr:{cardinal:["one","other"],ordinal:["one","two","few","other"]},ms:{cardinal:["other"],ordinal:["one","other"]},mt:{cardinal:["one","few","many","other"],ordinal:["other"]},my:r[0],nah:r[1],naq:r[3],nb:r[1],nd:r[1],ne:r[2],nl:r[1],nn:r[1],nnh:r[1],no:r[1],nqo:r[0],nr:r[1],nso:r[1],ny:r[1],nyn:r[1],om:r[1],or:r[1],os:r[1],pa:r[1],pap:r[1],pl:{cardinal:["one","few","many","other"],ordinal:["other"]},prg:{cardinal:["zero","one","other"],ordinal:["other"]},ps:r[1],pt:r[1],"pt-PT":r[1],rm:r[1],ro:{cardinal:["one","few","other"],ordinal:["one","other"]},rof:r[1],root:r[0],ru:{cardinal:["one","few","many","other"],ordinal:["other"]},rwk:r[1],sah:r[0],saq:r[1],sdh:r[1],se:r[3],seh:r[1],ses:r[0],sg:r[0],sh:{cardinal:["one","few","other"],ordinal:["other"]},shi:{cardinal:["one","few","other"],ordinal:["other"]},si:r[1],sk:{cardinal:["one","few","many","other"],ordinal:["other"]},sl:{cardinal:["one","two","few","other"],ordinal:["other"]},sma:r[3],smi:r[3],smj:r[3],smn:r[3],sms:r[3],sn:r[1],so:r[1],sq:{cardinal:["one","other"],ordinal:["one","many","other"]},sr:{cardinal:["one","few","other"],ordinal:["other"]},ss:r[1],ssy:r[1],st:r[1],sv:r[2],sw:r[1],syr:r[1],ta:r[1],te:r[1],teo:r[1],th:r[0],ti:r[1],tig:r[1],tk:r[1],tl:r[2],tn:r[1],to:r[0],tr:r[1],ts:r[1],tzm:r[1],ug:r[1],uk:{cardinal:["one","few","many","other"],ordinal:["few","other"]},ur:r[1],uz:r[1],ve:r[1],vi:{cardinal:["other"],ordinal:["one","other"]},vo:r[1],vun:r[1],wa:r[1],wae:r[1],wo:r[0],xh:r[1],xog:r[1],yi:r[1],yo:r[0],zh:r[0],zu:r[1]})},{}],7:[function(t,n,i){var r=[function(e,t){return"other"},function(e,t){return t?"other":1==e?"one":"other"},function(e,t){return t?"other":0==e||1==e?"one":"other"},function(e,t){var n=String(e).split("."),i=!n[1];return t?"other":1==e&&i?"one":"other"}];!function(t,r){"function"==typeof e&&e.amd?e(r):"object"==typeof i?n.exports=r:t.plurals=r}(this,{af:r[1],ak:r[2],am:function(e,t){return t?"other":e>=0&&e<=1?"one":"other"},ar:function(e,t){var n=String(e).split("."),i=Number(n[0])==e,r=i&&n[0].slice(-2);return t?"other":0==e?"zero":1==e?"one":2==e?"two":r>=3&&r<=10?"few":r>=11&&r<=99?"many":"other"},as:function(e,t){return t?1==e||5==e||7==e||8==e||9==e||10==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":e>=0&&e<=1?"one":"other"},asa:r[1],ast:r[3],az:function(e,t){var n=String(e).split("."),i=n[0],r=i.slice(-1),a=i.slice(-2),o=i.slice(-3);return t?1==r||2==r||5==r||7==r||8==r||20==a||50==a||70==a||80==a?"one":3==r||4==r||100==o||200==o||300==o||400==o||500==o||600==o||700==o||800==o||900==o?"few":0==i||6==r||40==a||60==a||90==a?"many":"other":1==e?"one":"other"},be:function(e,t){var n=String(e).split("."),i=Number(n[0])==e,r=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return t?2!=r&&3!=r||12==a||13==a?"other":"few":1==r&&11!=a?"one":r>=2&&r<=4&&(a<12||a>14)?"few":i&&0==r||r>=5&&r<=9||a>=11&&a<=14?"many":"other"},bem:r[1],bez:r[1],bg:r[1],bh:r[2],bm:r[0],bn:function(e,t){return t?1==e||5==e||7==e||8==e||9==e||10==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":e>=0&&e<=1?"one":"other"},bo:r[0],br:function(e,t){var n=String(e).split("."),i=Number(n[0])==e,r=i&&n[0].slice(-1),a=i&&n[0].slice(-2),o=i&&n[0].slice(-6);return t?"other":1==r&&11!=a&&71!=a&&91!=a?"one":2==r&&12!=a&&72!=a&&92!=a?"two":(3==r||4==r||9==r)&&(a<10||a>19)&&(a<70||a>79)&&(a<90||a>99)?"few":0!=e&&i&&0==o?"many":"other"},brx:r[1],bs:function(e,t){var n=String(e).split("."),i=n[0],r=n[1]||"",a=!n[1],o=i.slice(-1),s=i.slice(-2),l=r.slice(-1),c=r.slice(-2);return t?"other":a&&1==o&&11!=s||1==l&&11!=c?"one":a&&o>=2&&o<=4&&(s<12||s>14)||l>=2&&l<=4&&(c<12||c>14)?"few":"other"},ca:function(e,t){var n=String(e).split("."),i=!n[1];return t?1==e||3==e?"one":2==e?"two":4==e?"few":"other":1==e&&i?"one":"other"},ce:r[1],cgg:r[1],chr:r[1],ckb:r[1],cs:function(e,t){var n=String(e).split("."),i=n[0],r=!n[1];return t?"other":1==e&&r?"one":i>=2&&i<=4&&r?"few":r?"other":"many"},cy:function(e,t){return t?0==e||7==e||8==e||9==e?"zero":1==e?"one":2==e?"two":3==e||4==e?"few":5==e||6==e?"many":"other":0==e?"zero":1==e?"one":2==e?"two":3==e?"few":6==e?"many":"other"},da:function(e,t){var n=String(e).split("."),i=n[0],r=Number(n[0])==e;return t?"other":1!=e&&(r||0!=i&&1!=i)?"other":"one"},de:r[3],dsb:function(e,t){var n=String(e).split("."),i=n[0],r=n[1]||"",a=!n[1],o=i.slice(-2),s=r.slice(-2);return t?"other":a&&1==o||1==s?"one":a&&2==o||2==s?"two":a&&(3==o||4==o)||3==s||4==s?"few":"other"},dv:r[1],dz:r[0],ee:r[1],el:r[1],en:function(e,t){var n=String(e).split("."),i=!n[1],r=Number(n[0])==e,a=r&&n[0].slice(-1),o=r&&n[0].slice(-2);return t?1==a&&11!=o?"one":2==a&&12!=o?"two":3==a&&13!=o?"few":"other":1==e&&i?"one":"other"},eo:r[1],es:r[1],et:r[3],eu:r[1],fa:function(e,t){return t?"other":e>=0&&e<=1?"one":"other"},ff:function(e,t){return t?"other":e>=0&&e<2?"one":"other"},fi:r[3],fil:function(e,t){var n=String(e).split("."),i=n[0],r=n[1]||"",a=!n[1],o=i.slice(-1),s=r.slice(-1);return t?1==e?"one":"other":a&&(1==i||2==i||3==i)||a&&4!=o&&6!=o&&9!=o||!a&&4!=s&&6!=s&&9!=s?"one":"other"},fo:r[1],fr:function(e,t){return t?1==e?"one":"other":e>=0&&e<2?"one":"other"},fur:r[1],fy:r[3],ga:function(e,t){var n=String(e).split("."),i=Number(n[0])==e;return t?1==e?"one":"other":1==e?"one":2==e?"two":i&&e>=3&&e<=6?"few":i&&e>=7&&e<=10?"many":"other"},gd:function(e,t){var n=String(e).split("."),i=Number(n[0])==e;return t?"other":1==e||11==e?"one":2==e||12==e?"two":i&&e>=3&&e<=10||i&&e>=13&&e<=19?"few":"other"},gl:r[3],gsw:r[1],gu:function(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":e>=0&&e<=1?"one":"other"},guw:r[2],gv:function(e,t){var n=String(e).split("."),i=n[0],r=!n[1],a=i.slice(-1),o=i.slice(-2);return t?"other":r&&1==a?"one":r&&2==a?"two":!r||0!=o&&20!=o&&40!=o&&60!=o&&80!=o?r?"other":"many":"few"},ha:r[1],haw:r[1],he:function(e,t){var n=String(e).split("."),i=n[0],r=!n[1],a=Number(n[0])==e,o=a&&n[0].slice(-1);return t?"other":1==e&&r?"one":2==i&&r?"two":r&&(e<0||e>10)&&a&&0==o?"many":"other"},hi:function(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":e>=0&&e<=1?"one":"other"},hr:function(e,t){var n=String(e).split("."),i=n[0],r=n[1]||"",a=!n[1],o=i.slice(-1),s=i.slice(-2),l=r.slice(-1),c=r.slice(-2);return t?"other":a&&1==o&&11!=s||1==l&&11!=c?"one":a&&o>=2&&o<=4&&(s<12||s>14)||l>=2&&l<=4&&(c<12||c>14)?"few":"other"},hsb:function(e,t){var n=String(e).split("."),i=n[0],r=n[1]||"",a=!n[1],o=i.slice(-2),s=r.slice(-2);return t?"other":a&&1==o||1==s?"one":a&&2==o||2==s?"two":a&&(3==o||4==o)||3==s||4==s?"few":"other"},hu:function(e,t){return t?1==e||5==e?"one":"other":1==e?"one":"other"},hy:function(e,t){return t?1==e?"one":"other":e>=0&&e<2?"one":"other"},id:r[0],ig:r[0],ii:r[0],in:r[0],is:function(e,t){var n=String(e).split("."),i=n[0],r=Number(n[0])==e,a=i.slice(-1),o=i.slice(-2);return t?"other":r&&1==a&&11!=o||!r?"one":"other"},it:function(e,t){var n=String(e).split("."),i=!n[1];return t?11==e||8==e||80==e||800==e?"many":"other":1==e&&i?"one":"other"},iu:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},iw:function(e,t){var n=String(e).split("."),i=n[0],r=!n[1],a=Number(n[0])==e,o=a&&n[0].slice(-1);return t?"other":1==e&&r?"one":2==i&&r?"two":r&&(e<0||e>10)&&a&&0==o?"many":"other"},ja:r[0],jbo:r[0],jgo:r[1],ji:r[3],jmc:r[1],jv:r[0],jw:r[0],ka:function(e,t){var n=String(e).split("."),i=n[0],r=i.slice(-2);return t?1==i?"one":0==i||r>=2&&r<=20||40==r||60==r||80==r?"many":"other":1==e?"one":"other"},kab:function(e,t){return t?"other":e>=0&&e<2?"one":"other"},kaj:r[1],kcg:r[1],kde:r[0],kea:r[0],kk:function(e,t){var n=String(e).split("."),i=Number(n[0])==e,r=i&&n[0].slice(-1);return t?6==r||9==r||i&&0==r&&0!=e?"many":"other":1==e?"one":"other"},kkj:r[1],kl:r[1],km:r[0],kn:function(e,t){return t?"other":e>=0&&e<=1?"one":"other"},ko:r[0],ks:r[1],ksb:r[1],ksh:function(e,t){return t?"other":0==e?"zero":1==e?"one":"other"},ku:r[1],kw:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},ky:r[1],lag:function(e,t){var n=String(e).split("."),i=n[0];return t?"other":0==e?"zero":0!=i&&1!=i||0==e?"other":"one"},lb:r[1],lg:r[1],lkt:r[0],ln:r[2],lo:function(e,t){return t&&1==e?"one":"other"},lt:function(e,t){var n=String(e).split("."),i=n[1]||"",r=Number(n[0])==e,a=r&&n[0].slice(-1),o=r&&n[0].slice(-2);return t?"other":1==a&&(o<11||o>19)?"one":a>=2&&a<=9&&(o<11||o>19)?"few":0!=i?"many":"other"},lv:function(e,t){var n=String(e).split("."),i=n[1]||"",r=i.length,a=Number(n[0])==e,o=a&&n[0].slice(-1),s=a&&n[0].slice(-2),l=i.slice(-2),c=i.slice(-1);return t?"other":a&&0==o||s>=11&&s<=19||2==r&&l>=11&&l<=19?"zero":1==o&&11!=s||2==r&&1==c&&11!=l||2!=r&&1==c?"one":"other"},mas:r[1],mg:r[2],mgo:r[1],mk:function(e,t){var n=String(e).split("."),i=n[0],r=n[1]||"",a=!n[1],o=i.slice(-1),s=i.slice(-2),l=r.slice(-1);return t?1==o&&11!=s?"one":2==o&&12!=s?"two":7!=o&&8!=o||17==s||18==s?"other":"many":a&&1==o||1==l?"one":"other"},ml:r[1],mn:r[1],mo:function(e,t){var n=String(e).split("."),i=!n[1],r=Number(n[0])==e,a=r&&n[0].slice(-2);return t?1==e?"one":"other":1==e&&i?"one":!i||0==e||1!=e&&a>=1&&a<=19?"few":"other"},mr:function(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":"other":e>=0&&e<=1?"one":"other"},ms:function(e,t){return t&&1==e?"one":"other"},mt:function(e,t){var n=String(e).split("."),i=Number(n[0])==e,r=i&&n[0].slice(-2);return t?"other":1==e?"one":0==e||r>=2&&r<=10?"few":r>=11&&r<=19?"many":"other"},my:r[0],nah:r[1],naq:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},nb:r[1],nd:r[1],ne:function(e,t){var n=String(e).split("."),i=Number(n[0])==e;return t?i&&e>=1&&e<=4?"one":"other":1==e?"one":"other"},nl:r[3],nn:r[1],nnh:r[1],no:r[1],nqo:r[0],nr:r[1],nso:r[2],ny:r[1],nyn:r[1],om:r[1],or:r[1],os:r[1],pa:r[2],pap:r[1],pl:function(e,t){var n=String(e).split("."),i=n[0],r=!n[1],a=i.slice(-1),o=i.slice(-2);return t?"other":1==e&&r?"one":r&&a>=2&&a<=4&&(o<12||o>14)?"few":r&&1!=i&&(0==a||1==a)||r&&a>=5&&a<=9||r&&o>=12&&o<=14?"many":"other"},prg:function(e,t){var n=String(e).split("."),i=n[1]||"",r=i.length,a=Number(n[0])==e,o=a&&n[0].slice(-1),s=a&&n[0].slice(-2),l=i.slice(-2),c=i.slice(-1);return t?"other":a&&0==o||s>=11&&s<=19||2==r&&l>=11&&l<=19?"zero":1==o&&11!=s||2==r&&1==c&&11!=l||2!=r&&1==c?"one":"other"},ps:r[1],pt:function(e,t){var n=String(e).split("."),i=Number(n[0])==e;return t?"other":i&&e>=0&&e<=2&&2!=e?"one":"other"},"pt-PT":r[3],rm:r[1],ro:function(e,t){var n=String(e).split("."),i=!n[1],r=Number(n[0])==e,a=r&&n[0].slice(-2);return t?1==e?"one":"other":1==e&&i?"one":!i||0==e||1!=e&&a>=1&&a<=19?"few":"other"},rof:r[1],root:r[0],ru:function(e,t){var n=String(e).split("."),i=n[0],r=!n[1],a=i.slice(-1),o=i.slice(-2);return t?"other":r&&1==a&&11!=o?"one":r&&a>=2&&a<=4&&(o<12||o>14)?"few":r&&0==a||r&&a>=5&&a<=9||r&&o>=11&&o<=14?"many":"other"},rwk:r[1],sah:r[0],saq:r[1],sdh:r[1],se:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},seh:r[1],ses:r[0],sg:r[0],sh:function(e,t){var n=String(e).split("."),i=n[0],r=n[1]||"",a=!n[1],o=i.slice(-1),s=i.slice(-2),l=r.slice(-1),c=r.slice(-2);return t?"other":a&&1==o&&11!=s||1==l&&11!=c?"one":a&&o>=2&&o<=4&&(s<12||s>14)||l>=2&&l<=4&&(c<12||c>14)?"few":"other"},shi:function(e,t){var n=String(e).split("."),i=Number(n[0])==e;return t?"other":e>=0&&e<=1?"one":i&&e>=2&&e<=10?"few":"other"},si:function(e,t){var n=String(e).split("."),i=n[0],r=n[1]||"";return t?"other":0==e||1==e||0==i&&1==r?"one":"other"},sk:function(e,t){var n=String(e).split("."),i=n[0],r=!n[1];return t?"other":1==e&&r?"one":i>=2&&i<=4&&r?"few":r?"other":"many"},sl:function(e,t){var n=String(e).split("."),i=n[0],r=!n[1],a=i.slice(-2);return t?"other":r&&1==a?"one":r&&2==a?"two":r&&(3==a||4==a)||!r?"few":"other"},sma:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},smi:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},smj:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},smn:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},sms:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},sn:r[1],so:r[1],sq:function(e,t){var n=String(e).split("."),i=Number(n[0])==e,r=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return t?1==e?"one":4==r&&14!=a?"many":"other":1==e?"one":"other"},sr:function(e,t){var n=String(e).split("."),i=n[0],r=n[1]||"",a=!n[1],o=i.slice(-1),s=i.slice(-2),l=r.slice(-1),c=r.slice(-2);return t?"other":a&&1==o&&11!=s||1==l&&11!=c?"one":a&&o>=2&&o<=4&&(s<12||s>14)||l>=2&&l<=4&&(c<12||c>14)?"few":"other"},ss:r[1],ssy:r[1],st:r[1],sv:function(e,t){var n=String(e).split("."),i=!n[1],r=Number(n[0])==e,a=r&&n[0].slice(-1),o=r&&n[0].slice(-2);return t?1!=a&&2!=a||11==o||12==o?"other":"one":1==e&&i?"one":"other"},sw:r[3],syr:r[1],ta:r[1],te:r[1],teo:r[1],th:r[0],ti:r[2],tig:r[1],tk:r[1],tl:function(e,t){var n=String(e).split("."),i=n[0],r=n[1]||"",a=!n[1],o=i.slice(-1),s=r.slice(-1);return t?1==e?"one":"other":a&&(1==i||2==i||3==i)||a&&4!=o&&6!=o&&9!=o||!a&&4!=s&&6!=s&&9!=s?"one":"other"},tn:r[1],to:r[0],tr:r[1],ts:r[1],tzm:function(e,t){var n=String(e).split("."),i=Number(n[0])==e;return t?"other":0==e||1==e||i&&e>=11&&e<=99?"one":"other"},ug:r[1],uk:function(e,t){var n=String(e).split("."),i=n[0],r=!n[1],a=Number(n[0])==e,o=a&&n[0].slice(-1),s=a&&n[0].slice(-2),l=i.slice(-1),c=i.slice(-2);return t?3==o&&13!=s?"few":"other":r&&1==l&&11!=c?"one":r&&l>=2&&l<=4&&(c<12||c>14)?"few":r&&0==l||r&&l>=5&&l<=9||r&&c>=11&&c<=14?"many":"other"},ur:r[3],uz:r[1],ve:r[1],vi:function(e,t){return t&&1==e?"one":"other"},vo:r[1],vun:r[1],wa:r[2],wae:r[1],wo:r[0],xh:r[1],xog:r[1],yi:r[3],yo:r[0],zh:r[0],zu:function(e,t){return t?"other":e>=0&&e<=1?"one":"other"}})},{}],8:[function(e,t,n){"use strict";function i(e,t,n,r){this.message=e,this.expected=t,this.found=n,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,i)}function r(e,t){function n(e,t){return{type:"literal",text:e,ignoreCase:t}}function r(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function a(e){return{type:"other",description:e}}function o(t){var n,i=Ne[t];if(i)return i;for(n=t-1;!Ne[n];)n--;for(i=Ne[n],i={line:i.line,column:i.column};n<t;)10===e.charCodeAt(n)?(i.line++,i.column=1):i.column++,n++;return Ne[t]=i,i}function s(e,t){var n=o(e),i=o(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:i.line,column:i.column}}}function l(e){Ie<Le||(Ie>Le&&(Le=Ie,Fe=[]),Fe.push(e))}function c(e,t,n){return new i(i.buildMessage(e,t),e,t,n)}function u(){var e,t;for(e=[],t=d();t!==T;)e.push(t),t=d();return e}function d(){var t,n,i;if((t=h())===T&&(t=p())===T&&(t=f())===T&&(t=g())===T&&(t=Ie,35===e.charCodeAt(Ie)?(n=A,Ie++):(n=T,0===ze&&l(O)),n!==T&&(Re=t,n=P()),(t=n)===T)){if(t=Ie,n=[],(i=k())!==T)for(;i!==T;)n.push(i),i=k();else n=T;n!==T&&(Re=t,n=I(n)),t=n}return t}function h(){var t,n,i,r,a,o;return t=Ie,123===e.charCodeAt(Ie)?(n=R,Ie++):(n=T,0===ze&&l(N)),n!==T?(i=$(),i!==T?(r=m(),r!==T?(a=$(),a!==T?(125===e.charCodeAt(Ie)?(o=L,Ie++):(o=T,0===ze&&l(F)),o!==T?(Re=t,n=z(r),t=n):(Ie=t,t=T)):(Ie=t,t=T)):(Ie=t,t=T)):(Ie=t,t=T)):(Ie=t,t=T),t}function p(){var t,n,i,r,a,o,s,c,u;if(t=Ie,123===e.charCodeAt(Ie)?(n=R,Ie++):(n=T,0===ze&&l(N)),n!==T)if($()!==T)if((i=m())!==T)if($()!==T)if(44===e.charCodeAt(Ie)?(r=j,Ie++):(r=T,0===ze&&l(H)),r!==T)if($()!==T)if(e.substr(Ie,6)===W?(a=W,Ie+=6):(a=T,0===ze&&l(B)),a!==T)if($()!==T)if(44===e.charCodeAt(Ie)?(o=j,Ie++):(o=T,0===ze&&l(H)),o!==T)if($()!==T){if(s=[],(c=v())!==T)for(;c!==T;)s.push(c),c=v();else s=T;s!==T?(c=$(),c!==T?(125===e.charCodeAt(Ie)?(u=L,Ie++):(u=T,0===ze&&l(F)),u!==T?(Re=t,n=V(i,s),t=n):(Ie=t,t=T)):(Ie=t,t=T)):(Ie=t,t=T)}else Ie=t,t=T;else Ie=t,t=T;else Ie=t,t=T;else Ie=t,t=T;else Ie=t,t=T;else Ie=t,t=T;else Ie=t,t=T;else Ie=t,t=T;else Ie=t,t=T;else Ie=t,t=T;return t}function f(){var t,n,i,r,a,o,s,c,u,d;if(t=Ie,123===e.charCodeAt(Ie)?(n=R,Ie++):(n=T,0===ze&&l(N)),n!==T)if($()!==T)if((i=m())!==T)if($()!==T)if(44===e.charCodeAt(Ie)?(r=j,Ie++):(r=T,0===ze&&l(H)),r!==T)if($()!==T)if(e.substr(Ie,6)===U?(a=U,Ie+=6):(a=T,0===ze&&l(q)),a===T&&(e.substr(Ie,13)===Y?(a=Y,Ie+=13):(a=T,0===ze&&l(K))),a!==T)if($()!==T)if(44===e.charCodeAt(Ie)?(o=j,Ie++):(o=T,0===ze&&l(H)),o!==T)if($()!==T)if(s=w(),s===T&&(s=null),s!==T){if(c=[],(u=b())!==T)for(;u!==T;)c.push(u),u=b();else c=T;c!==T?(u=$(),u!==T?(125===e.charCodeAt(Ie)?(d=L,Ie++):(d=T,0===ze&&l(F)),d!==T?(Re=t,n=G(i,a,s,c),t=n):(Ie=t,t=T)):(Ie=t,t=T)):(Ie=t,t=T)}else Ie=t,t=T;else Ie=t,t=T;else Ie=t,t=T;else Ie=t,t=T;else Ie=t,t=T;else Ie=t,t=T;else Ie=t,t=T;else Ie=t,t=T;else Ie=t,t=T;else Ie=t,t=T;else Ie=t,t=T;return t}function g(){var t,n,i,r,a,o,s;if(t=Ie,123===e.charCodeAt(Ie)?(n=R,Ie++):(n=T,0===ze&&l(N)),n!==T)if($()!==T)if((i=m())!==T)if($()!==T)if(44===e.charCodeAt(Ie)?(r=j,Ie++):(r=T,0===ze&&l(H)),r!==T)if($()!==T)if((a=m())!==T)if($()!==T){for(o=[],s=_();s!==T;)o.push(s),s=_();o!==T?(125===e.charCodeAt(Ie)?(s=L,Ie++):(s=T,0===ze&&l(F)),s!==T?(Re=t,n=X(i,a,o),t=n):(Ie=t,t=T)):(Ie=t,t=T)}else Ie=t,t=T;else Ie=t,t=T;else Ie=t,t=T;else Ie=t,t=T;else Ie=t,t=T;else Ie=t,t=T;else Ie=t,t=T;else Ie=t,t=T;return t}function m(){var t,n,i,r,a;if(t=Ie,n=Ie,J.test(e.charAt(Ie))?(i=e.charAt(Ie),Ie++):(i=T,0===ze&&l(Z)),i!==T){for(r=[],Q.test(e.charAt(Ie))?(a=e.charAt(Ie),Ie++):(a=T,0===ze&&l(ee));a!==T;)r.push(a),Q.test(e.charAt(Ie))?(a=e.charAt(Ie),Ie++):(a=T,0===ze&&l(ee));r!==T?(i=[i,r],n=i):(Ie=n,n=T)}else Ie=n,n=T;return t=n!==T?e.substring(t,Ie):n}function v(){var e,t,n,i,r;return e=Ie,t=$(),t!==T?(n=m(),n!==T?(i=$(),i!==T?(r=y(),r!==T?(Re=e,t=te(n,r),e=t):(Ie=e,e=T)):(Ie=e,e=T)):(Ie=e,e=T)):(Ie=e,e=T),e}function b(){var e,t,n,i,r;return e=Ie,t=$(),t!==T?(n=x(),n!==T?(i=$(),i!==T?(r=y(),r!==T?(Re=e,t=te(n,r),e=t):(Ie=e,e=T)):(Ie=e,e=T)):(Ie=e,e=T)):(Ie=e,e=T),e}function y(){var t,n,i,r,a,o;if(t=Ie,123===e.charCodeAt(Ie)?(n=R,Ie++):(n=T,0===ze&&l(N)),n!==T)if(i=Ie,r=$(),r!==T?(a=Ie,ze++,123===e.charCodeAt(Ie)?(o=R,Ie++):(o=T,0===ze&&l(N)),ze--,o!==T?(Ie=a,a=void 0):a=T,a!==T?(r=[r,a],i=r):(Ie=i,i=T)):(Ie=i,i=T),i===T&&(i=null),i!==T){for(r=[],a=d();a!==T;)r.push(a),a=d();r!==T?(a=$(),a!==T?(125===e.charCodeAt(Ie)?(o=L,Ie++):(o=T,0===ze&&l(F)),o!==T?(Re=t,n=ne(r),t=n):(Ie=t,t=T)):(Ie=t,t=T)):(Ie=t,t=T)}else Ie=t,t=T;else Ie=t,t=T;return t}function w(){var t,n,i,r,a,o,s,c;return t=Ie,n=$(),n!==T?(e.substr(Ie,6)===ie?(i=ie,Ie+=6):(i=T,0===ze&&l(re)),i!==T?(r=$(),r!==T?(58===e.charCodeAt(Ie)?(a=ae,Ie++):(a=T,0===ze&&l(oe)),a!==T?(o=$(),o!==T?(s=C(),s!==T?(c=$(),c!==T?(Re=t,n=se(s),t=n):(Ie=t,t=T)):(Ie=t,t=T)):(Ie=t,t=T)):(Ie=t,t=T)):(Ie=t,t=T)):(Ie=t,t=T)):(Ie=t,t=T),t}function x(){var t,n,i;return t=m(),t===T&&(t=Ie,61===e.charCodeAt(Ie)?(n=le,Ie++):(n=T,0===ze&&l(ce)),n!==T?(i=C(),i!==T?(Re=t,n=se(i),t=n):(Ie=t,t=T)):(Ie=t,t=T)),t}function _(){var t,n,i,r,a,o;return t=Ie,n=$(),n!==T?(44===e.charCodeAt(Ie)?(i=j,Ie++):(i=T,0===ze&&l(H)),i!==T?(r=$(),r!==T?(a=m(),a!==T?(o=$(),o!==T?(Re=t,n=ue(a),t=n):(Ie=t,t=T)):(Ie=t,t=T)):(Ie=t,t=T)):(Ie=t,t=T)):(Ie=t,t=T),t}function k(){var t,n,i,r,a,o;return de.test(e.charAt(Ie))?(t=e.charAt(Ie),Ie++):(t=T,0===ze&&l(he)),t===T&&(t=Ie,e.substr(Ie,2)===pe?(n=pe,Ie+=2):(n=T,0===ze&&l(fe)),n!==T&&(Re=t,n=ge()),(t=n)===T&&(t=Ie,e.substr(Ie,2)===me?(n=me,Ie+=2):(n=T,0===ze&&l(ve)),n!==T&&(Re=t,n=be()),(t=n)===T&&(t=Ie,e.substr(Ie,2)===ye?(n=ye,Ie+=2):(n=T,0===ze&&l(we)),n!==T&&(Re=t,n=xe()),(t=n)===T&&(t=Ie,e.substr(Ie,2)===_e?(n=_e,Ie+=2):(n=T,0===ze&&l(ke)),n!==T&&(Re=t,n=Ce()),(t=n)===T&&(t=Ie,e.substr(Ie,2)===Se?(n=Se,Ie+=2):(n=T,0===ze&&l($e)),n!==T?(i=S(),i!==T?(r=S(),r!==T?(a=S(),a!==T?(o=S(),o!==T?(Re=t,n=De(i,r,a,o),t=n):(Ie=t,t=T)):(Ie=t,t=T)):(Ie=t,t=T)):(Ie=t,t=T)):(Ie=t,t=T)))))),t}function C(){var t,n,i;if(t=Ie,n=[],Te.test(e.charAt(Ie))?(i=e.charAt(Ie),Ie++):(i=T,0===ze&&l(Ee)),i!==T)for(;i!==T;)n.push(i),Te.test(e.charAt(Ie))?(i=e.charAt(Ie),Ie++):(i=T,0===ze&&l(Ee));else n=T;return t=n!==T?e.substring(t,Ie):n}function S(){var t;return Me.test(e.charAt(Ie))?(t=e.charAt(Ie),Ie++):(t=T,0===ze&&l(Ae)),t}function $(){var t,n,i;for(t=Ie,n=[],Oe.test(e.charAt(Ie))?(i=e.charAt(Ie),Ie++):(i=T,0===ze&&l(Pe));i!==T;)n.push(i),Oe.test(e.charAt(Ie))?(i=e.charAt(Ie),Ie++):(i=T,0===ze&&l(Pe));return t=n!==T?e.substring(t,Ie):n}t=void 0!==t?t:{};var D,T={},E={start:u},M=u,A="#",O=n("#",!1),P=function(){return{type:"octothorpe"}},I=function(e){return e.join("")},R="{",N=n("{",!1),L="}",F=n("}",!1),z=function(e){return{type:"argument",arg:e}},j=",",H=n(",",!1),W="select",B=n("select",!1),V=function(e,t){return{type:"select",arg:e,cases:t}},U="plural",q=n("plural",!1),Y="selectordinal",K=n("selectordinal",!1),G=function(e,n,i,r){var a=("selectordinal"===n?t.ordinal:t.cardinal)||["zero","one","two","few","many","other"];return a&&a.length&&r.forEach(function(t){if(isNaN(t.key)&&a.indexOf(t.key)<0)throw new Error("Invalid key `"+t.key+"` for argument `"+e+"`. Valid "+n+" keys for this locale are `"+a.join("`, `")+"`, and explicit keys like `=0`.")}),{type:n,arg:e,offset:i||0,cases:r}},X=function(e,t,n){return{type:"function",arg:e,key:t,params:n}},J=/^[0-9a-zA-Z$_]/,Z=r([["0","9"],["a","z"],["A","Z"],"$","_"],!1,!1),Q=/^[^ \t\n\r,.+={}]/,ee=r([" ","\t","\n","\r",",",".","+","=","{","}"],!0,!1),te=function(e,t){return{key:e,tokens:t}},ne=function(e){return e},ie="offset",re=n("offset",!1),ae=":",oe=n(":",!1),se=function(e){return e},le="=",ce=n("=",!1),ue=function(e){return e},de=/^[^{}#\\\0-\x08\x0E-\x1F\x7F]/,he=r(["{","}","#","\\",["\0","\b"],["",""],""],!0,!1),pe="\\\\",fe=n("\\\\",!1),ge=function(){return"\\"},me="\\#",ve=n("\\#",!1),be=function(){return"#"},ye="\\{",we=n("\\{",!1),xe=function(){return"{"},_e="\\}",ke=n("\\}",!1),Ce=function(){return"}"},Se="\\u",$e=n("\\u",!1),De=function(e,t,n,i){return String.fromCharCode(parseInt("0x"+e+t+n+i))},Te=/^[0-9]/,Ee=r([["0","9"]],!1,!1),Me=/^[0-9a-fA-F]/,Ae=r([["0","9"],["a","f"],["A","F"]],!1,!1),Oe=/^[ \t\n\r]/,Pe=r([" ","\t","\n","\r"],!1,!1),Ie=0,Re=0,Ne=[{line:1,column:1}],Le=0,Fe=[],ze=0;if("startRule"in t){if(!(t.startRule in E))throw new Error("Can't start parsing from rule \""+t.startRule+'".');M=E[t.startRule]}if((D=M())!==T&&Ie===e.length)return D;throw D!==T&&Ie<e.length&&l(function(){return{type:"end"}}()),c(Fe,Le<e.length?e.charAt(Le):null,Le<e.length?s(Le,Le+1):s(Le,Le))}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(i,Error),i.buildMessage=function(e,t){function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function i(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+n(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+n(e)})}function r(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+n(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+n(e)})}function a(e){return o[e.type](e)}var o={literal:function(e){return'"'+i(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?r(e.parts[t][0])+"-"+r(e.parts[t][1]):r(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};return"Expected "+function(e){var t,n,i=new Array(e.length);for(t=0;t<e.length;t++)i[t]=a(e[t]);if(i.sort(),i.length>0){for(t=1,n=1;t<i.length;t++)i[t-1]!==i[t]&&(i[n]=i[t],n++);i.length=n}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(e)+" but "+function(e){return e?'"'+i(e)+'"':"end of input"}(t)+" found."},t.exports={SyntaxError:i,parse:r}},{}],9:[function(e,t,n){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function a(e){if(d===setTimeout)return setTimeout(e,0);if((d===i||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function o(e){if(h===clearTimeout)return clearTimeout(e);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function s(){m&&f&&(m=!1,f.length?g=f.concat(g):v=-1,g.length&&l())}function l(){if(!m){var e=a(s);m=!0;for(var t=g.length;t;){for(f=g,g=[];++v<t;)f&&f[v].run();v=-1,t=g.length}f=null,m=!1,o(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var d,h,p=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:i}catch(e){d=i}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(e){h=r}}();var f,g=[],m=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];g.push(new c(e,t)),1!==g.length||m||a(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],10:[function(e,t,n){t.exports=e("./reserved-words")},{"./reserved-words":11}],11:[function(e,t,n){function i(){return Array.prototype.map.call(arguments,function(e){return"string"==typeof e?e:Object.keys(e).join(" ")}).join(" ").split(/\s+/).reduce(function(e,t){return e[t]=!0,e},{})}var r=e("assert"),a={es3:3,es5:5,es2015:6,es7:7,es6:6,default:5,next:6},o=n.KEYWORDS={};n.check=function(e,t,n){t=t||a.default;var i=a[t]||t;return n&&i>=5&&(i+="-strict"),r(o[i],"Unknown dialect"),o[i][e]},o[3]=i("break    else       new     var","case     finally    return  void","catch    for        switch  while","continue function   this    with","default  if         throw","delete   in         try","do       instanceof typeof","abstract enum       int        short","boolean  export     interface  static","byte     extends    long       super","char     final      native     synchronized","class    float      package    throws","const    goto       private    transient","debugger implements protected  volatile","double   import     public","null true false"),o[5]=i("break    do       instanceof typeof","case     else     new        var","catch    finally  return     void","continue for      switch     while","debugger function this       with","default  if       throw","delete   in       try","class enum extends super","const export import","null true false"),o["5-strict"]=i(o[5],"implements let     private   public yield","interface  package protected static"),o[6]=i("break    do       in         typeof","case     else     instanceof var","catch    export   new        void","class    extends  return     while","const    finally  super      with","continue for      switch     yield","debugger function this","default  if       throw","delete   import   try","enum await","null true false"),o["6-strict"]=i(o[6],"let static","implements package protected","interface private public")},{assert:4}],12:[function(e,t,n){t.exports=function(e){
return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],13:[function(e,t,n){(function(t,i){function r(e,t){var i={seen:[],stylize:o};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),g(t)?i.showHidden=t:t&&n._extend(i,t),x(i.showHidden)&&(i.showHidden=!1),x(i.depth)&&(i.depth=2),x(i.colors)&&(i.colors=!1),x(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=a),l(i,e,i.depth)}function a(e,t){var n=r.styles[t];return n?"["+r.colors[n][0]+"m"+e+"["+r.colors[n][1]+"m":e}function o(e,t){return e}function s(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function l(e,t,i){if(e.customInspect&&t&&$(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var r=t.inspect(i,e);return y(r)||(r=l(e,r,i)),r}var a=c(e,t);if(a)return a;var o=Object.keys(t),g=s(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(t)),S(t)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return u(t);if(0===o.length){if($(t)){var m=t.name?": "+t.name:"";return e.stylize("[Function"+m+"]","special")}if(_(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(C(t))return e.stylize(Date.prototype.toString.call(t),"date");if(S(t))return u(t)}var v="",b=!1,w=["{","}"];if(f(t)&&(b=!0,w=["[","]"]),$(t)){v=" [Function"+(t.name?": "+t.name:"")+"]"}if(_(t)&&(v=" "+RegExp.prototype.toString.call(t)),C(t)&&(v=" "+Date.prototype.toUTCString.call(t)),S(t)&&(v=" "+u(t)),0===o.length&&(!b||0==t.length))return w[0]+v+w[1];if(i<0)return _(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var x;return x=b?d(e,t,i,g,o):o.map(function(n){return h(e,t,i,g,n,b)}),e.seen.pop(),p(x,v,w)}function c(e,t){if(x(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return b(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):m(t)?e.stylize("null","null"):void 0}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,i,r){for(var a=[],o=0,s=t.length;o<s;++o)A(t,String(o))?a.push(h(e,t,n,i,String(o),!0)):a.push("");return r.forEach(function(r){r.match(/^\d+$/)||a.push(h(e,t,n,i,r,!0))}),a}function h(e,t,n,i,r,a){var o,s,c;if(c=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]},c.get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),A(i,r)||(o="["+r+"]"),s||(e.seen.indexOf(c.value)<0?(s=m(n)?l(e,c.value,null):l(e,c.value,n-1),s.indexOf("\n")>-1&&(s=a?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),x(o)){if(a&&r.match(/^\d+$/))return s;o=JSON.stringify(""+r),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+s}function p(e,t,n){var i=0;return e.reduce(function(e,t){return i++,t.indexOf("\n")>=0&&i++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function f(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function m(e){return null===e}function v(e){return null==e}function b(e){return"number"==typeof e}function y(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function x(e){return void 0===e}function _(e){return k(e)&&"[object RegExp]"===T(e)}function k(e){return"object"==typeof e&&null!==e}function C(e){return k(e)&&"[object Date]"===T(e)}function S(e){return k(e)&&("[object Error]"===T(e)||e instanceof Error)}function $(e){return"function"==typeof e}function D(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function T(e){return Object.prototype.toString.call(e)}function E(e){return e<10?"0"+e.toString(10):e.toString(10)}function M(){var e=new Date,t=[E(e.getHours()),E(e.getMinutes()),E(e.getSeconds())].join(":");return[e.getDate(),R[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
var O=/%[sdj%]/g;n.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(r(arguments[n]));return t.join(" ")}for(var n=1,i=arguments,a=i.length,o=String(e).replace(O,function(e){if("%%"===e)return"%";if(n>=a)return e;switch(e){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return e}}),s=i[n];n<a;s=i[++n])m(s)||!k(s)?o+=" "+s:o+=" "+r(s);return o},n.deprecate=function(e,r){function a(){if(!o){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),o=!0}return e.apply(this,arguments)}if(x(i.process))return function(){return n.deprecate(e,r).apply(this,arguments)};if(!0===t.noDeprecation)return e;var o=!1;return a};var P,I={};n.debuglog=function(e){if(x(P)&&(P=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!I[e])if(new RegExp("\\b"+e+"\\b","i").test(P)){var i=t.pid;I[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,i,t)}}else I[e]=function(){};return I[e]},n.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=f,n.isBoolean=g,n.isNull=m,n.isNullOrUndefined=v,n.isNumber=b,n.isString=y,n.isSymbol=w,n.isUndefined=x,n.isRegExp=_,n.isObject=k,n.isDate=C,n.isError=S,n.isFunction=$,n.isPrimitive=D,n.isBuffer=e("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",M(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!k(t))return e;for(var n=Object.keys(t),i=n.length;i--;)e[n[i]]=t[n[i]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":12,_process:9,inherits:5}]},{},[2])(2)}),/*!
 * angular-translate - v2.14.0 - 2017-02-11
 * 
 * Copyright (c) 2017 The angular-translate team, Pascal Precht; Licensed MIT
 */
function(e,t){"function"==typeof define&&define.amd?define(["messageformat"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("messageformat")):t(e.MessageFormat)}(this,function(e){function t(){"use strict";var e;this.messageFormatConfigurer=function(t){e=t},this.$get=["$translateSanitization","$cacheFactory","TRANSLATE_MF_INTERPOLATION_CACHE",function(t,i,r){return n(t,i,r,e)}]}function n(t,n,i,r){"use strict";var a={},o=n.get(i),s=new e("en");return angular.isFunction(r)&&r(s),o||(o=n(i)),o.put("en",s),a.setLocale=function(t){(s=o.get(t))||(s=new e(t),angular.isFunction(r)&&r(s),o.put(t,s))},a.getInterpolationIdentifier=function(){return"messageformat"},a.useSanitizeValueStrategy=function(e){return t.useStrategy(e),this},a.interpolate=function(e,n,i,r){n=n||{},n=t.sanitize(n,"params",r);var a=o.get("mf:"+e);if(!a){for(var l in n)if(n.hasOwnProperty(l)){var c=parseInt(n[l],10);angular.isNumber(c)&&""+c===n[l]&&(n[l]=c)}a=s.compile(e),o.put("mf:"+e,a)}var u=a(n);return t.sanitize(u,"text",r)},a}return angular.module("pascalprecht.translate").constant("TRANSLATE_MF_INTERPOLATION_CACHE","$translateMessageFormatInterpolation").provider("$translateMessageFormatInterpolation",t),n.displayName="$translateMessageFormatInterpolation","pascalprecht.translate"}),/**
 * @license AngularJS v1.6.9
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";function n(){function n(e,t){var n,i={},r=e.split(",");for(n=0;n<r.length;n++)i[t?l(r[n]):r[n]]=!0;return i}function i(e,t){null===e||void 0===e?e="":"string"!=typeof e&&(e=""+e);var n=R(e);if(!n)return"";var i=5;do{if(0===i)throw p("uinput","Failed to sanitize html because the input is unstable");i--,e=n.innerHTML,n=R(e)}while(e!==n.innerHTML);for(var r=n.firstChild;r;){switch(r.nodeType){case 1:t.start(r.nodeName.toLowerCase(),f(r.attributes));break;case 3:t.chars(r.textContent)}var a;if(!((a=r.firstChild)||(1===r.nodeType&&t.end(r.nodeName.toLowerCase()),a=b("nextSibling",r))))for(;null==a&&(r=b("parentNode",r))!==n;)a=b("nextSibling",r),1===r.nodeType&&t.end(r.nodeName.toLowerCase());r=a}for(;r=n.firstChild;)n.removeChild(r)}function f(e){for(var t={},n=0,i=e.length;n<i;n++){var r=e[n];t[r.name]=r.value}return t}function g(e){return e.replace(/&/g,"&amp;").replace(w,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(x,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function m(e,t){var n=!1,i=r(e,e.push);return{start:function(e,r){e=l(e),!n&&E[e]&&(n=e),n||!0!==M[e]||(i("<"),i(e),o(r,function(n,r){var a=l(r),o="img"===e&&"src"===a||"background"===a;!0!==I[a]||!0===A[a]&&!t(n,o)||(i(" "),i(r),i('="'),i(g(n)),i('"'))}),i(">"))},end:function(e){e=l(e),n||!0!==M[e]||!0===_[e]||(i("</"),i(e),i(">")),e==n&&(n=!1)},chars:function(e){n||i(g(e))}}}function v(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,i=0,r=n.length;i<r;i++){var a=n[i],o=a.name.toLowerCase();"xmlns:ns1"!==o&&0!==o.lastIndexOf("ns1:",0)||(t.removeAttributeNode(a),i--,r--)}var s=t.firstChild;s&&v(s),t=b("nextSibling",t)}}function b(e,t){var n=t[e];if(n&&u.call(t,n))throw p("elclob","Failed to sanitize html because the element is clobbered: {0}",t.outerHTML||t.outerText);return n}var y=!1;this.$get=["$$sanitizeUri",function(e){return y&&a(M,T),function(t){var n=[];return d(t,h(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return s(e)?(y=e,this):y},r=t.bind,a=t.extend,o=t.forEach,s=t.isDefined,l=t.lowercase,c=t.noop,d=i,h=m,u=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var w=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,x=/([^#-~ |!])/g,_=n("area,br,col,hr,img,wbr"),k=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),C=n("rp,rt"),S=a({},C,k),$=a({},k,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),D=a({},C,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),T=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),E=n("script,style"),M=a({},_,$,D,S),A=n("background,cite,href,longdesc,src,xlink:href,xml:base"),O=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),P=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),I=a({},A,P,O),R=function(e,t){function n(t){t="<remove></remove>"+t;try{t=encodeURI(t)}catch(e){return}var n=new e.XMLHttpRequest;n.responseType="document",n.open("GET","data:text/html;charset=utf-8,"+t,!1),n.send(null);var i=n.response.body;return i.firstChild.remove(),i}function i(t){t="<remove></remove>"+t;try{var n=(new e.DOMParser).parseFromString(t,"text/html").body;return n.firstChild.remove(),n}catch(e){return}}function r(e){return o.innerHTML=e,t.documentMode&&v(o),o}var a;if(!t||!t.implementation)throw p("noinert","Can't create an inert html document");a=t.implementation.createHTMLDocument("inert");var o=(a.documentElement||a.getDocumentElement()).querySelector("body");return o.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',o.querySelector("svg")?(o.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',o.querySelector("svg img")?i:r):n}(e,e.document)}function i(e){var t=[];return h(t,c).chars(e),t.join("")}var r,a,o,s,l,c,u,d,h,p=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",n).info({angularVersion:"1.6.9"}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,a=t.$$minErr("linky"),o=t.isDefined,s=t.isFunction,l=t.isObject,c=t.isString;return function(t,u,d){function h(e){e&&b.push(i(e))}if(null==t||""===t)return t;if(!c(t))throw a("notstring","Expected string but received: {0}",t);for(var p,f,g,m=s(d)?d:l(d)?function(){return d}:function(){return{}},v=t,b=[];p=v.match(n);)f=p[0],p[2]||p[4]||(f=(p[3]?"http://":"mailto:")+f),g=p.index,h(v.substr(0,g)),function(e,t){var n,i=m(e);b.push("<a ");for(n in i)b.push(n+'="'+i[n]+'" ');!o(u)||"target"in i||b.push('target="',u,'" '),b.push('href="',e.replace(/"/g,"&quot;"),'">'),h(t),b.push("</a>")}(f,p[0].replace(r,"")),v=v.substring(g+p[0].length);return h(v),e(b.join(""))}}])}(window,window.angular),/**
 * @license AngularJS v1.6.9
 * (c) 2010-2018 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t){"use strict";function n(e,t){for(var n=e.split(/\n/g),i=0;i<n.length;i++){var r=n[i];if(!(t>=r.length))return{line:i+1,column:t+1};t-=r.length}}function i(e){function t(t){return e}var n=b[e];return null!=n?n:(t.$$watchDelegate=function(t,n,i){var r=t.$watch(L,function(){n(e,e,t),r()},i);return r},b[e]=t,t.exp=e,t.expressions=[],t)}function r(e,t){function n(e){return null==e?e:e-t}function i(t){return n(e(t))}if(0===t)return e;var r;return i.$$watchDelegate=function(t,i,a){return r=t.$watch(e,function(e,r){i(n(e),n(r),t)},a)},i}function a(e,t){var n=this;if(this.expressionFn=e,this.choices=t,void 0===t.other)throw R("reqother","“other” is a required option.");this.parsedFn=function(e){return n.getResult(e)},this.parsedFn.$$watchDelegate=function(e,t,i){return n.watchDelegate(e,t,i)},this.parsedFn.exp=e.exp,this.parsedFn.expressions=e.expressions}function o(e,t,n,i){var r=this;this.scope=t,this.msgSelector=e,this.listener=n,this.objectEquality=i,this.lastMessage=void 0,this.messageFnWatcher=L;var a=function(e,t){return r.expressionFnListener(e,t)};this.expressionFnWatcher=t.$watch(e.expressionFn,a,i)}function s(e,t){a.call(this,e,t)}function l(){}function c(e,t,n,i){a.call(this,e,t),this.offset=n,this.pluralCat=i}function u(){}function d(e,t){this.trustedContext=e,this.allOrNothing=t,this.textParts=[],this.expressionFns=[],this.expressionIndices=[],this.partialText="",this.concatParts=null}function h(e,t,n,i){this.interpolationParts=e,this.scope=t,this.previousResult=void 0,this.listener=n;var r=this;this.expressionFnsWatcher=t.$watchGroup(e.expressionFns,function(e,t){r.watchListener(e,t)})}function p(e,t){t.expressionFn=e.expressionFn,t.expressionMinusOffsetFn=e.expressionMinusOffsetFn,t.pluralOffset=e.pluralOffset,t.choices=e.choices,t.choiceKey=e.choiceKey,t.interpolationParts=e.interpolationParts,t.ruleChoiceKeyword=e.ruleChoiceKeyword,t.msgStartIndex=e.msgStartIndex,t.expressionStartIndex=e.expressionStartIndex}function f(e){p(e,this)}function g(e,t,n,i,r,a,o,s){this.text=e,this.index=t||0,this.$parse=n,this.pluralCat=i,this.stringifier=r,this.mustHaveExpression=!!a,this.trustedContext=o,this.allOrNothing=!!s,this.expressionFn=null,this.expressionMinusOffsetFn=null,this.pluralOffset=null,this.choices=null,this.choiceKey=null,this.interpolationParts=null,this.msgStartIndex=null,this.nestedStateStack=[],this.parsedFn=null,this.rule=null,this.ruleStack=null,this.ruleChoiceKeyword=null,this.interpNestLevel=null,this.expressionStartIndex=null,this.stringStartIndex=null,this.stringQuote=null,this.stringInterestsRe=null,this.angularOperatorStack=null,this.textPart=null}function m(e){switch(e){case"{":return"}";case"[":return"]";case"(":return")";default:return null}}function v(e){switch(e){case"}":return"{";case"]":return"[";case")":return"(";default:return null}}var b=Object.create(null);a.prototype.getMessageFn=function(e){return this.choices[this.categorizeValue(e)]},a.prototype.getResult=function(e){return this.getMessageFn(this.expressionFn(e))(e)},a.prototype.watchDelegate=function(e,t,n){var i=new o(this,e,t,n);return function(){i.cancelWatch()}},o.prototype.expressionFnListener=function(e,t){var n=this;this.messageFnWatcher();var i=function(e,t){return n.messageFnListener(e,t)},r=this.msgSelector.getMessageFn(e);this.messageFnWatcher=this.scope.$watch(r,i,this.objectEquality)},o.prototype.messageFnListener=function(e,t){this.listener.call(null,e,e===t?e:this.lastMessage,this.scope),this.lastMessage=e},o.prototype.cancelWatch=function(){this.expressionFnWatcher(),this.messageFnWatcher()},l.prototype=a.prototype,s.prototype=new l,s.prototype.categorizeValue=function(e){return void 0!==this.choices[e]?e:"other"},u.prototype=a.prototype,c.prototype=new u,c.prototype.categorizeValue=function(e){if(isNaN(e))return"other";if(void 0!==this.choices[e])return e;var t=this.pluralCat(e-this.offset);return void 0!==this.choices[t]?t:"other"},d.prototype.flushPartialText=function(){this.partialText&&(null==this.concatParts?this.textParts.push(this.partialText):(this.textParts.push(this.concatParts.join("")),this.concatParts=null),this.partialText="")},d.prototype.addText=function(e){e.length&&(this.partialText?this.concatParts?this.concatParts.push(e):this.concatParts=[this.partialText,e]:this.partialText=e)},d.prototype.addExpressionFn=function(e){this.flushPartialText(),this.expressionIndices.push(this.textParts.length),this.expressionFns.push(e),this.textParts.push("")},d.prototype.getExpressionValues=function(e){for(var t=new Array(this.expressionFns.length),n=0;n<this.expressionFns.length;n++)t[n]=this.expressionFns[n](e);return t},d.prototype.getResult=function(e){for(var t=0;t<this.expressionIndices.length;t++){var n=e[t];if(this.allOrNothing&&void 0===n)return;this.textParts[this.expressionIndices[t]]=n}return this.textParts.join("")},d.prototype.toParsedFn=function(e,t){var n=this;if(this.flushPartialText(),!e||0!==this.expressionFns.length){if(0===this.textParts.length)return i("");if(this.trustedContext&&this.textParts.length>1&&R.throwNoconcat(t),0===this.expressionFns.length)return 1!==this.textParts.length&&this.errorInParseLogic(),i(this.textParts[0]);var r=function(e){return n.getResult(n.getExpressionValues(e))};r.$$watchDelegate=function(e,t,i){return n.watchDelegate(e,t,i)},r.exp=t,r.expressions=new Array(this.expressionFns.length);for(var a=0;a<this.expressionFns.length;a++)r.expressions[a]=this.expressionFns[a].exp;return r}},d.prototype.watchDelegate=function(e,t,n){var i=new h(this,e,t,n);return function(){i.cancelWatch()}},h.prototype.watchListener=function(e,t){var n=this.interpolationParts.getResult(e);this.listener.call(null,n,e===t?n:this.previousResult,this.scope),this.previousResult=n},h.prototype.cancelWatch=function(){this.expressionFnsWatcher()};var y=new f(new g("",0,null,null,null,!1,null,!1));g.prototype.pushState=function(){this.nestedStateStack.push(new f(this)),p(y,this)},g.prototype.popState=function(){0===this.nestedStateStack.length&&this.errorInParseLogic(),p(this.nestedStateStack.pop(),this)},g.prototype.matchRe=function(e,t){e.lastIndex=this.index;var n=e.exec(this.text);return null==n||!0!==t&&n.index!==this.index?null:(this.index=e.lastIndex,n)},g.prototype.searchRe=function(e){return this.matchRe(e,!0)},g.prototype.consumeRe=function(e){return!!this.matchRe(e)},g.prototype.run=function(e){this.ruleStack=[e];do{for(this.rule=this.ruleStack.pop();this.rule;)this.rule();this.assertRuleOrNull(this.rule)}while(this.ruleStack.length>0)},g.prototype.errorInParseLogic=function(){throw R("logicbug","The messageformat parser has encountered an internal error.  Please file a github issue against the AngularJS project and provide this message text that triggers the bug.  Text: “{0}”",this.text)},g.prototype.assertRuleOrNull=function(e){void 0===e&&this.errorInParseLogic()};var w=/\s*(\w+)\s*/g;g.prototype.errorExpecting=function(){var e,t=this.matchRe(w);if(null==t)throw e=n(this.text,this.index),R("reqarg","Expected one of “plural” or “select” at line {0}, column {1} of text “{2}”",e.line,e.column,this.text);var i=t[1];throw"select"===i||"plural"===i?(e=n(this.text,this.index),R("reqcomma","Expected a comma after the keyword “{0}” at line {1}, column {2} of text “{3}”",i,e.line,e.column,this.text)):(e=n(this.text,this.index),R("unknarg","Unsupported keyword “{0}” at line {0}, column {1}. Only “plural” and “select” are currently supported.  Text: “{3}”",i,e.line,e.column,this.text))};var x=/['"]/g;g.prototype.ruleString=function(){var e=this.matchRe(x);if(null==e){var t=n(this.text,this.index);throw R("wantstring","Expected the beginning of a string at line {0}, column {1} in text “{2}”",t.line,t.column,this.text)}this.startStringAtMatch(e)},g.prototype.startStringAtMatch=function(e){this.stringStartIndex=e.index,this.stringQuote=e[0],this.stringInterestsRe="'"===this.stringQuote?_:k,this.rule=this.ruleInsideString};var _=/\\(?:\\|'|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{2}|[0-7]{3}|\r\n|\n|[\s\S])|'/g,k=/\\(?:\\|"|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{2}|[0-7]{3}|\r\n|\n|[\s\S])|"/g;g.prototype.ruleInsideString=function(){var e=this.searchRe(this.stringInterestsRe);if(null==e){var t=n(this.text,this.stringStartIndex);throw R("untermstr","The string beginning at line {0}, column {1} is unterminated in text “{2}”",t.line,t.column,this.text)}e[0]===this.stringQuote&&(this.rule=null)};var C=/\s*(plural|select)\s*,\s*/g;g.prototype.rulePluralOrSelect=function(){var e=this.searchRe(C);switch(null==e&&this.errorExpecting(),e[1]){case"plural":this.rule=this.rulePluralStyle;break;case"select":this.rule=this.ruleSelectStyle;break;default:this.errorInParseLogic()}},g.prototype.rulePluralStyle=function(){this.choices=Object.create(null),this.ruleChoiceKeyword=this.rulePluralValueOrKeyword,this.rule=this.rulePluralOffset},g.prototype.ruleSelectStyle=function(){this.choices=Object.create(null),this.ruleChoiceKeyword=this.ruleSelectKeyword,this.rule=this.ruleSelectKeyword};var S=/[0]|(?:[1-9][0-9]*)/g,$=new RegExp("\\s*offset\\s*:\\s*("+S.source+")","g");g.prototype.rulePluralOffset=function(){var e=this.matchRe($);this.pluralOffset=null==e?0:parseInt(e[1],10),this.expressionMinusOffsetFn=r(this.expressionFn,this.pluralOffset),this.rule=this.rulePluralValueOrKeyword},g.prototype.assertChoiceKeyIsNew=function(e,t){if(void 0!==this.choices[e]){var i=n(this.text,t);throw R("dupvalue","The choice “{0}” is specified more than once. Duplicate key is at line {1}, column {2} in text “{3}”",e,i.line,i.column,this.text)}};var D=/\s*(\w+)/g;g.prototype.ruleSelectKeyword=function(){var e=this.matchRe(D);if(null==e)return this.parsedFn=new s(this.expressionFn,this.choices).parsedFn,void(this.rule=null);this.choiceKey=e[1],this.assertChoiceKeyIsNew(this.choiceKey,e.index),this.rule=this.ruleMessageText};var T=new RegExp("\\s*(?:(?:=("+S.source+"))|(\\w+))","g");g.prototype.rulePluralValueOrKeyword=function(){var e=this.matchRe(T);if(null==e)return this.parsedFn=new c(this.expressionFn,this.choices,this.pluralOffset,this.pluralCat).parsedFn,void(this.rule=null);null!=e[1]?this.choiceKey=parseInt(e[1],10):this.choiceKey=e[2],this.assertChoiceKeyIsNew(this.choiceKey,e.index),this.rule=this.ruleMessageText};var E=/\s*\{/g;g.prototype.ruleMessageText=function(){if(!this.consumeRe(E)){var e=n(this.text,this.index);throw R("reqopenbrace","The plural choice “{0}” must be followed by a message in braces at line {1}, column {2} in text “{3}”",this.choiceKey,e.line,e.column,this.text)}this.msgStartIndex=this.index,this.interpolationParts=new d(this.trustedContext,this.allOrNothing),this.rule=this.ruleInInterpolationOrMessageText};var M=/\\.|{{|}/g,A=/\\.|{{|#|}/g,O=/\\.|{{/g;g.prototype.advanceInInterpolationOrMessageText=function(){var e,t=this.index;if(null==this.ruleChoiceKeyword){if(null==(e=this.searchRe(O)))return this.textPart=this.text.substring(t),this.index=this.text.length,null}else if(null==(e=this.searchRe(this.ruleChoiceKeyword===this.rulePluralValueOrKeyword?A:M))){var i=n(this.text,this.msgStartIndex);throw R("reqendbrace","The plural/select choice “{0}” message starting at line {1}, column {2} does not have an ending closing brace. Text “{3}”",this.choiceKey,i.line,i.column,this.text)}var r=e[0];return this.textPart=this.text.substring(t,e.index),r},g.prototype.ruleInInterpolationOrMessageText=function(){var e=this.index,t=this.advanceInInterpolationOrMessageText();return null==t?(this.index=this.text.length,this.interpolationParts.addText(this.text.substring(e)),void(this.rule=null)):"\\"===t[0]?void this.interpolationParts.addText(this.textPart+t[1]):(this.interpolationParts.addText(this.textPart),void("{{"===t?(this.pushState(),this.ruleStack.push(this.ruleEndMustacheInInterpolationOrMessage),this.rule=this.ruleEnteredMustache):"}"===t?(this.choices[this.choiceKey]=this.interpolationParts.toParsedFn(!1,this.text),this.rule=this.ruleChoiceKeyword):"#"===t?this.interpolationParts.addExpressionFn(this.expressionMinusOffsetFn):this.errorInParseLogic()))},g.prototype.ruleInterpolate=function(){this.interpolationParts=new d(this.trustedContext,this.allOrNothing),this.rule=this.ruleInInterpolation},g.prototype.ruleInInterpolation=function(){var e=this.index,t=this.searchRe(O);if(null==t)return this.index=this.text.length,this.interpolationParts.addText(this.text.substring(e)),this.parsedFn=this.interpolationParts.toParsedFn(this.mustHaveExpression,this.text),void(this.rule=null);var n=t[0];if("\\"===n[0])return void this.interpolationParts.addText(this.text.substring(e,t.index)+n[1]);this.interpolationParts.addText(this.text.substring(e,t.index)),this.pushState(),this.ruleStack.push(this.ruleInterpolationEndMustache),this.rule=this.ruleEnteredMustache},g.prototype.ruleInterpolationEndMustache=function(){var e=this.parsedFn;this.popState(),this.interpolationParts.addExpressionFn(e),this.rule=this.ruleInInterpolation},g.prototype.ruleEnteredMustache=function(){this.parsedFn=null,this.ruleStack.push(this.ruleEndMustache),this.rule=this.ruleAngularExpression},g.prototype.ruleEndMustacheInInterpolationOrMessage=function(){var e=this.parsedFn;this.popState(),this.interpolationParts.addExpressionFn(e),this.rule=this.ruleInInterpolationOrMessageText};var P=/\s*}}/g;g.prototype.ruleEndMustache=function(){if(null==this.matchRe(P)){var e=n(this.text,this.index);throw R("reqendinterp","Expecting end of interpolation symbol, “{0}”, at line {1}, column {2} in text “{3}”","}}",e.line,e.column,this.text)}null==this.parsedFn&&(this.parsedFn=this.$parse(this.expressionFn,this.stringifier),this.parsedFn.exp=this.expressionFn.exp,this.parsedFn.expressions=this.expressionFn.expressions),this.rule=null},g.prototype.ruleAngularExpression=function(){this.angularOperatorStack=[],this.expressionStartIndex=this.index,this.rule=this.ruleInAngularExpression};var I=/[[\]{}()'",]/g;g.prototype.ruleInAngularExpression=function(){var e,t=this.searchRe(I);if(null==t){if(0===this.angularOperatorStack.length)return this.index=this.text.length,this.expressionFn=this.$parse(this.text.substring(this.expressionStartIndex,this.index)),this.expressionFn.exp=this.text.substring(this.expressionStartIndex,this.index),this.expressionFn.expressions=this.expressionFn.expressions,void(this.rule=null);var i=this.angularOperatorStack[0];throw R("badexpr","Unexpected end of AngularJS expression.  Expecting operator “{0}” at the end of the text “{1}”",this.getEndOperator(i),this.text)}var r=t[0];if("'"===r||'"'===r)return this.ruleStack.push(this.ruleInAngularExpression),void this.startStringAtMatch(t);if(","===r){if(this.trustedContext)throw e=n(this.text,this.index),R("unsafe","Use of select/plural MessageFormat syntax is currently disallowed in a secure context ({0}).  At line {1}, column {2} of text “{3}”",this.trustedContext,e.line,e.column,this.text);return void(0===this.angularOperatorStack.length&&(this.expressionFn=this.$parse(this.text.substring(this.expressionStartIndex,t.index)),this.expressionFn.exp=this.text.substring(this.expressionStartIndex,t.index),this.expressionFn.expressions=this.expressionFn.expressions,this.rule=null,this.rule=this.rulePluralOrSelect))}if(null!=m(r))return void this.angularOperatorStack.unshift(r);var a=v(r);if(null==a&&this.errorInParseLogic(),this.angularOperatorStack.length>0){if(a===this.angularOperatorStack[0])return void this.angularOperatorStack.shift();throw e=n(this.text,this.index),R("badexpr","Unexpected operator “{0}” at line {1}, column {2} in text. Was expecting “{3}”. Text: “{4}”",r,e.line,e.column,m(this.angularOperatorStack[0]),this.text)}this.index=t.index,this.expressionFn=this.$parse(this.text.substring(this.expressionStartIndex,this.index)),this.expressionFn.exp=this.text.substring(this.expressionStartIndex,this.index),this.expressionFn.expressions=this.expressionFn.expressions,this.rule=null};var R,N,L,F,z,j=["$parse","$locale","$sce","$exceptionHandler",function(e,t,n,i){function r(e,t,r){return function(a){try{return a=e?n.getTrusted(e,a):n.valueOf(a),t&&void 0===a?a:z(a)}catch(e){i(R.interr(r,e))}}}function a(n,i,a,o){var s=r(a,o,n),l=new g(n,0,e,t.pluralCat,s,i,a,o);return l.run(l.ruleInterpolate),l.parsedFn}return{interpolate:a}}],H=["$$messageFormat","$delegate",function(e,t){if("{{"!==t.startSymbol()||"}}"!==t.endSymbol())throw R("nochgmustache","angular-message-format.js currently does not allow you to use custom start and end symbols for interpolation.");var n=e.interpolate;return n.startSymbol=t.startSymbol,n.endSymbol=t.endSymbol,n}],W=e.angular.module("ngMessageFormat",["ng"]);W.info({angularVersion:"1.6.9"}),W.factory("$$messageFormat",j),W.config(["$provide",function(t){R=e.angular.$interpolateMinErr,N=e.angular.isFunction,L=e.angular.noop,F=e.angular.toJson,z=e.angular.$$stringify,t.decorator("$interpolate",H)}])}(window,window.angular),function(e,t){"function"==typeof define&&define.amd?define([],t):"undefined"!=typeof module&&module.exports?module.exports=t():e.tv4=t()}(this,function(){function e(t,n){if(t===n)return!0;if("object"==typeof t&&"object"==typeof n){if(Array.isArray(t)!==Array.isArray(n))return!1;if(Array.isArray(t)){if(t.length!==n.length)return!1;for(var i=0;i<t.length;i++)if(!e(t[i],n[i]))return!1}else{var r;for(r in t)if(void 0===n[r]&&void 0!==t[r])return!1;for(r in n)if(void 0===t[r]&&void 0!==n[r])return!1;for(r in t)if(!e(t[r],n[r]))return!1}return!0}return!1}function t(e){var t=String(e).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return t?{href:t[0]||"",protocol:t[1]||"",authority:t[2]||"",host:t[3]||"",hostname:t[4]||"",port:t[5]||"",pathname:t[6]||"",search:t[7]||"",hash:t[8]||""}:null}function n(e,n){return n=t(n||""),e=t(e||""),n&&e?(n.protocol||e.protocol)+(n.protocol||n.authority?n.authority:e.authority)+function(e){var t=[];return e.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(e){"/.."===e?t.pop():t.push(e)}),t.join("").replace(/^\//,"/"===e.charAt(0)?"/":"")}(n.protocol||n.authority||"/"===n.pathname.charAt(0)?n.pathname:n.pathname?(e.authority&&!e.pathname?"/":"")+e.pathname.slice(0,e.pathname.lastIndexOf("/")+1)+n.pathname:e.pathname)+(n.protocol||n.authority||n.pathname?n.search:n.search||e.search)+n.hash:null}function i(e){return e.split("#")[0]}function r(e,t){if(e&&"object"==typeof e)if(void 0===t?t=e.id:"string"==typeof e.id&&(t=n(t,e.id),e.id=t),Array.isArray(e))for(var i=0;i<e.length;i++)r(e[i],t);else{"string"==typeof e.$ref&&(e.$ref=n(t,e.$ref));for(var a in e)"enum"!==a&&r(e[a],t)}}function a(e,t,n,i,r){if(Error.call(this),void 0===e)throw new Error("No code supplied for error: "+t);this.message=t,this.code=e,this.dataPath=n||"",this.schemaPath=i||"",this.subErrors=r||null;var a=new Error(this.message);if(this.stack=a.stack||a.stacktrace,!this.stack)try{throw a}catch(a){this.stack=a.stack||a.stacktrace}}function o(e,t){if(t.substring(0,e.length)===e){var n=t.substring(e.length);if(t.length>0&&"/"===t.charAt(e.length-1)||"#"===n.charAt(0)||"?"===n.charAt(0))return!0}return!1}function s(e){var t=new l,a=e||"en";return{addFormat:function(){t.addFormat.apply(t,arguments)},language:function(e){return e?(p[e]||(e=e.split("-")[0]),!!p[e]&&(a=e,e)):a},addLanguage:function(e,t){var n;for(n in c)t[n]&&!t[c[n]]&&(t[c[n]]=t[n]);var i=e.split("-")[0];if(p[i]){p[e]=Object.create(p[i]);for(n in t)void 0===p[i][n]&&(p[i][n]=t[n]),p[e][n]=t[n]}else p[e]=t,p[i]=t;return this},freshApi:function(e){var t=s();return e&&t.language(e),t},validate:function(e,n,i,r){var o=new l(t,!1,p[a],i,r);"string"==typeof n&&(n={$ref:n}),o.addSchema("",n);var s=o.validateAll(e,n,null,null,"");return!s&&r&&(s=o.banUnknownProperties()),this.error=s,this.missing=o.missing,this.valid=null===s,this.valid},validateResult:function(){var e={};return this.validate.apply(e,arguments),e},validateMultiple:function(e,n,i,r){var o=new l(t,!0,p[a],i,r);"string"==typeof n&&(n={$ref:n}),o.addSchema("",n),o.validateAll(e,n,null,null,""),r&&o.banUnknownProperties();var s={};return s.errors=o.errors,s.missing=o.missing,s.valid=0===s.errors.length,s},addSchema:function(){return t.addSchema.apply(t,arguments)},getSchema:function(){return t.getSchema.apply(t,arguments)},getSchemaMap:function(){return t.getSchemaMap.apply(t,arguments)},getSchemaUris:function(){return t.getSchemaUris.apply(t,arguments)},getMissingUris:function(){return t.getMissingUris.apply(t,arguments)},dropSchemas:function(){t.dropSchemas.apply(t,arguments)},defineKeyword:function(){t.defineKeyword.apply(t,arguments)},defineError:function(e,t,n){if("string"!=typeof e||!/^[A-Z]+(_[A-Z]+)*$/.test(e))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof t||t%1!=0||t<1e4)throw new Error("Code number must be an integer > 10000");if(void 0!==c[e])throw new Error("Error already defined: "+e+" as "+c[e]);if(void 0!==u[t])throw new Error("Error code already used: "+u[t]+" as "+t);c[e]=t,u[t]=e,h[e]=h[t]=n;for(var i in p){var r=p[i];r[e]&&(r[t]=r[t]||r[e])}},reset:function(){t.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:r,resolveUrl:n,getDocumentUri:i,errorCodes:c}}Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(r){if("object"!=typeof r&&"function"!=typeof r||null===r)throw new TypeError("Object.keys called on non-object");var a=[];for(var o in r)e.call(r,o)&&a.push(o);if(t)for(var s=0;s<i;s++)e.call(r,n[s])&&a.push(n[s]);return a}}()),Object.create||(Object.create=function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}()),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null===this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var i=0;if(arguments.length>1&&(i=Number(arguments[1]),i!==i?i=0:0!==i&&i!==1/0&&i!==-1/0&&(i=(i>0||-1)*Math.floor(Math.abs(i)))),i>=n)return-1;for(var r=i>=0?i:Math.max(n-Math.abs(i),0);r<n;r++)if(r in t&&t[r]===e)return r;return-1}),Object.isFrozen||(Object.isFrozen=function(e){for(var t="tv4_test_frozen_key";e.hasOwnProperty(t);)t+=Math.random();try{return e[t]=!0,delete e[t],!1}catch(e){return!0}});var l=function(e,t,n,i,r){if(this.missing=[],this.missingMap={},this.formatValidators=e?Object.create(e.formatValidators):{},this.schemas=e?Object.create(e.schemas):{},this.collectMultiple=t,this.errors=[],this.handleError=t?this.collectError:this.returnError,i&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),r&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorMessages=n,this.definedKeywords={},e)for(var a in e.definedKeywords)this.definedKeywords[a]=e.definedKeywords[a].slice(0)};l.prototype.defineKeyword=function(e,t){this.definedKeywords[e]=this.definedKeywords[e]||[],this.definedKeywords[e].push(t)},l.prototype.createError=function(e,t,n,i,r){var o=this.errorMessages[e]||h[e];return"string"!=typeof o?new a(e,"Unknown error code "+e+": "+JSON.stringify(t),n,i,r):new a(e,o.replace(/\{([^{}]*)\}/g,function(e,n){var i=t[n];return"string"==typeof i||"number"==typeof i?i:e}),n,i,r)},l.prototype.returnError=function(e){return e},l.prototype.collectError=function(e){return e&&this.errors.push(e),null},l.prototype.prefixErrors=function(e,t,n){for(var i=e;i<this.errors.length;i++)this.errors[i]=this.errors[i].prefixWith(t,n);return this},l.prototype.banUnknownProperties=function(){for(var e in this.unknownPropertyPaths){var t=this.createError(c.UNKNOWN_PROPERTY,{path:e},e,""),n=this.handleError(t);if(n)return n}return null},l.prototype.addFormat=function(e,t){if("object"==typeof e){for(var n in e)this.addFormat(n,e[n]);return this}this.formatValidators[e]=t},l.prototype.resolveRefs=function(e,t){if(void 0!==e.$ref){if(t=t||{},t[e.$ref])return this.createError(c.CIRCULAR_REFERENCE,{urls:Object.keys(t).join(", ")},"","");t[e.$ref]=!0,e=this.getSchema(e.$ref,t)}return e},l.prototype.getSchema=function(e,t){var n;if(void 0!==this.schemas[e])return n=this.schemas[e],this.resolveRefs(n,t);var i=e,r="";if(-1!==e.indexOf("#")&&(r=e.substring(e.indexOf("#")+1),i=e.substring(0,e.indexOf("#"))),"object"==typeof this.schemas[i]){n=this.schemas[i];var a=decodeURIComponent(r);if(""===a)return this.resolveRefs(n,t);if("/"!==a.charAt(0))return;for(var o=a.split("/").slice(1),s=0;s<o.length;s++){var l=o[s].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===n[l]){n=void 0;break}n=n[l]}if(void 0!==n)return this.resolveRefs(n,t)}void 0===this.missing[i]&&(this.missing.push(i),this.missing[i]=i,this.missingMap[i]=i)},l.prototype.searchSchemas=function(e,t){if(e&&"object"==typeof e){"string"==typeof e.id&&o(t,e.id)&&void 0===this.schemas[e.id]&&(this.schemas[e.id]=e);for(var n in e)if("enum"!==n)if("object"==typeof e[n])this.searchSchemas(e[n],t);else if("$ref"===n){var r=i(e[n]);r&&void 0===this.schemas[r]&&void 0===this.missingMap[r]&&(this.missingMap[r]=r)}}},l.prototype.addSchema=function(e,t){if("string"!=typeof e||void 0===t){if("object"!=typeof e||"string"!=typeof e.id)return;t=e,e=t.id}(e=i(e)+"#")&&(e=i(e)),this.schemas[e]=t,delete this.missingMap[e],r(t,e),this.searchSchemas(t,e)},l.prototype.getSchemaMap=function(){var e={};for(var t in this.schemas)e[t]=this.schemas[t];return e},l.prototype.getSchemaUris=function(e){var t=[];for(var n in this.schemas)e&&!e.test(n)||t.push(n);return t},l.prototype.getMissingUris=function(e){var t=[];for(var n in this.missingMap)e&&!e.test(n)||t.push(n);return t},l.prototype.dropSchemas=function(){this.schemas={},this.reset()},l.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},l.prototype.validateAll=function(e,t,n,i,r){var o;if(!(t=this.resolveRefs(t)))return null;if(t instanceof a)return this.errors.push(t),t;var s,l=this.errors.length,c=null,u=null;if(this.checkRecursive&&e&&"object"==typeof e){if(o=!this.scanned.length,e[this.validatedSchemasKey]){var d=e[this.validatedSchemasKey].indexOf(t);if(-1!==d)return this.errors=this.errors.concat(e[this.validationErrorsKey][d]),null}if(Object.isFrozen(e)&&-1!==(s=this.scannedFrozen.indexOf(e))){var h=this.scannedFrozenSchemas[s].indexOf(t);if(-1!==h)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[s][h]),null}if(this.scanned.push(e),Object.isFrozen(e))-1===s&&(s=this.scannedFrozen.length,this.scannedFrozen.push(e),this.scannedFrozenSchemas.push([])),c=this.scannedFrozenSchemas[s].length,this.scannedFrozenSchemas[s][c]=t,this.scannedFrozenValidationErrors[s][c]=[];else{if(!e[this.validatedSchemasKey])try{Object.defineProperty(e,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(e,this.validationErrorsKey,{value:[],configurable:!0})}catch(t){e[this.validatedSchemasKey]=[],e[this.validationErrorsKey]=[]}u=e[this.validatedSchemasKey].length,e[this.validatedSchemasKey][u]=t,e[this.validationErrorsKey][u]=[]}}var p=this.errors.length,f=this.validateBasic(e,t,r)||this.validateNumeric(e,t,r)||this.validateString(e,t,r)||this.validateArray(e,t,r)||this.validateObject(e,t,r)||this.validateCombinations(e,t,r)||this.validateFormat(e,t,r)||this.validateDefinedKeywords(e,t,r)||null;if(o){for(;this.scanned.length;){delete this.scanned.pop()[this.validatedSchemasKey]}this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(f||p!==this.errors.length)for(;n&&n.length||i&&i.length;){var g=n&&n.length?""+n.pop():null,m=i&&i.length?""+i.pop():null;f&&(f=f.prefixWith(g,m)),this.prefixErrors(p,g,m)}return null!==c?this.scannedFrozenValidationErrors[s][c]=this.errors.slice(l):null!==u&&(e[this.validationErrorsKey][u]=this.errors.slice(l)),this.handleError(f)},l.prototype.validateFormat=function(e,t){if("string"!=typeof t.format||!this.formatValidators[t.format])return null;var n=this.formatValidators[t.format].call(null,e,t);return"string"==typeof n||"number"==typeof n?this.createError(c.FORMAT_CUSTOM,{message:n}).prefixWith(null,"format"):n&&"object"==typeof n?this.createError(c.FORMAT_CUSTOM,{message:n.message||"?"},n.dataPath||null,n.schemaPath||"/format"):null},l.prototype.validateDefinedKeywords=function(e,t){for(var n in this.definedKeywords)for(var i=this.definedKeywords[n],r=0;r<i.length;r++){var a=i[r],o=a(e,t[n],t);if("string"==typeof o||"number"==typeof o)return this.createError(c.KEYWORD_CUSTOM,{key:n,message:o}).prefixWith(null,"format");if(o&&"object"==typeof o){var s=o.code||c.KEYWORD_CUSTOM;if("string"==typeof s){if(!c[s])throw new Error("Undefined error code (use defineError): "+s);s=c[s]}var l="object"==typeof o.message?o.message:{key:n,message:o.message||"?"},u=o.schemaPath||"/"+n.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(s,l,o.dataPath||null,u)}}return null},l.prototype.validateBasic=function(e,t,n){var i;return(i=this.validateType(e,t,n))?i.prefixWith(null,"type"):(i=this.validateEnum(e,t,n))?i.prefixWith(null,"type"):null},l.prototype.validateType=function(e,t){if(void 0===t.type)return null;var n=typeof e;null===e?n="null":Array.isArray(e)&&(n="array");var i=t.type;"object"!=typeof i&&(i=[i]);for(var r=0;r<i.length;r++){var a=i[r];if(a===n||"integer"===a&&"number"===n&&e%1==0)return null}return this.createError(c.INVALID_TYPE,{type:n,expected:i.join("/")})},l.prototype.validateEnum=function(t,n){if(void 0===n.enum)return null;for(var i=0;i<n.enum.length;i++){if(e(t,n.enum[i]))return null}return this.createError(c.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(t):t})},l.prototype.validateNumeric=function(e,t,n){return this.validateMultipleOf(e,t,n)||this.validateMinMax(e,t,n)||null},l.prototype.validateMultipleOf=function(e,t){var n=t.multipleOf||t.divisibleBy;return void 0===n?null:"number"==typeof e&&e%n!=0?this.createError(c.NUMBER_MULTIPLE_OF,{value:e,multipleOf:n}):null},l.prototype.validateMinMax=function(e,t){if("number"!=typeof e)return null;if(void 0!==t.minimum){if(e<t.minimum)return this.createError(c.NUMBER_MINIMUM,{value:e,minimum:t.minimum}).prefixWith(null,"minimum");if(t.exclusiveMinimum&&e===t.minimum)return this.createError(c.NUMBER_MINIMUM_EXCLUSIVE,{value:e,minimum:t.minimum}).prefixWith(null,"exclusiveMinimum")}if(void 0!==t.maximum){if(e>t.maximum)return this.createError(c.NUMBER_MAXIMUM,{value:e,maximum:t.maximum}).prefixWith(null,"maximum");if(t.exclusiveMaximum&&e===t.maximum)return this.createError(c.NUMBER_MAXIMUM_EXCLUSIVE,{value:e,maximum:t.maximum}).prefixWith(null,"exclusiveMaximum")}return null},l.prototype.validateString=function(e,t,n){return this.validateStringLength(e,t,n)||this.validateStringPattern(e,t,n)||null},l.prototype.validateStringLength=function(e,t){return"string"!=typeof e?null:void 0!==t.minLength&&e.length<t.minLength?this.createError(c.STRING_LENGTH_SHORT,{length:e.length,minimum:t.minLength}).prefixWith(null,"minLength"):void 0!==t.maxLength&&e.length>t.maxLength?this.createError(c.STRING_LENGTH_LONG,{length:e.length,maximum:t.maxLength}).prefixWith(null,"maxLength"):null},l.prototype.validateStringPattern=function(e,t){return"string"!=typeof e||void 0===t.pattern?null:new RegExp(t.pattern).test(e)?null:this.createError(c.STRING_PATTERN,{pattern:t.pattern}).prefixWith(null,"pattern")},l.prototype.validateArray=function(e,t,n){return Array.isArray(e)?this.validateArrayLength(e,t,n)||this.validateArrayUniqueItems(e,t,n)||this.validateArrayItems(e,t,n)||null:null},l.prototype.validateArrayLength=function(e,t){var n;return void 0!==t.minItems&&e.length<t.minItems&&(n=this.createError(c.ARRAY_LENGTH_SHORT,{length:e.length,
minimum:t.minItems}).prefixWith(null,"minItems"),this.handleError(n))?n:void 0!==t.maxItems&&e.length>t.maxItems&&(n=this.createError(c.ARRAY_LENGTH_LONG,{length:e.length,maximum:t.maxItems}).prefixWith(null,"maxItems"),this.handleError(n))?n:null},l.prototype.validateArrayUniqueItems=function(t,n){if(n.uniqueItems)for(var i=0;i<t.length;i++)for(var r=i+1;r<t.length;r++)if(e(t[i],t[r])){var a=this.createError(c.ARRAY_UNIQUE,{match1:i,match2:r}).prefixWith(null,"uniqueItems");if(this.handleError(a))return a}return null},l.prototype.validateArrayItems=function(e,t,n){if(void 0===t.items)return null;var i,r;if(Array.isArray(t.items)){for(r=0;r<e.length;r++)if(r<t.items.length){if(i=this.validateAll(e[r],t.items[r],[r],["items",r],n+"/"+r))return i}else if(void 0!==t.additionalItems)if("boolean"==typeof t.additionalItems){if(!t.additionalItems&&(i=this.createError(c.ARRAY_ADDITIONAL_ITEMS,{}).prefixWith(""+r,"additionalItems"),this.handleError(i)))return i}else if(i=this.validateAll(e[r],t.additionalItems,[r],["additionalItems"],n+"/"+r))return i}else for(r=0;r<e.length;r++)if(i=this.validateAll(e[r],t.items,[r],["items"],n+"/"+r))return i;return null},l.prototype.validateObject=function(e,t,n){return"object"!=typeof e||null===e||Array.isArray(e)?null:this.validateObjectMinMaxProperties(e,t,n)||this.validateObjectRequiredProperties(e,t,n)||this.validateObjectProperties(e,t,n)||this.validateObjectDependencies(e,t,n)||null},l.prototype.validateObjectMinMaxProperties=function(e,t){var n,i=Object.keys(e);return void 0!==t.minProperties&&i.length<t.minProperties&&(n=this.createError(c.OBJECT_PROPERTIES_MINIMUM,{propertyCount:i.length,minimum:t.minProperties}).prefixWith(null,"minProperties"),this.handleError(n))?n:void 0!==t.maxProperties&&i.length>t.maxProperties&&(n=this.createError(c.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:i.length,maximum:t.maxProperties}).prefixWith(null,"maxProperties"),this.handleError(n))?n:null},l.prototype.validateObjectRequiredProperties=function(e,t){if(void 0!==t.required)for(var n=0;n<t.required.length;n++){var i=t.required[n];if(void 0===e[i]){var r=this.createError(c.OBJECT_REQUIRED,{key:i}).prefixWith(null,""+n).prefixWith(null,"required");if(this.handleError(r))return r}}return null},l.prototype.validateObjectProperties=function(e,t,n){var i;for(var r in e){var a=n+"/"+r.replace(/~/g,"~0").replace(/\//g,"~1"),o=!1;if(void 0!==t.properties&&void 0!==t.properties[r]&&(o=!0,i=this.validateAll(e[r],t.properties[r],[r],["properties",r],a)))return i;if(void 0!==t.patternProperties)for(var s in t.patternProperties){var l=new RegExp(s);if(l.test(r)&&(o=!0,i=this.validateAll(e[r],t.patternProperties[s],[r],["patternProperties",s],a)))return i}if(o)this.trackUnknownProperties&&(this.knownPropertyPaths[a]=!0,delete this.unknownPropertyPaths[a]);else if(void 0!==t.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[a]=!0,delete this.unknownPropertyPaths[a]),"boolean"==typeof t.additionalProperties){if(!t.additionalProperties&&(i=this.createError(c.OBJECT_ADDITIONAL_PROPERTIES,{}).prefixWith(r,"additionalProperties"),this.handleError(i)))return i}else if(i=this.validateAll(e[r],t.additionalProperties,[r],["additionalProperties"],a))return i}else this.trackUnknownProperties&&!this.knownPropertyPaths[a]&&(this.unknownPropertyPaths[a]=!0)}return null},l.prototype.validateObjectDependencies=function(e,t,n){var i;if(void 0!==t.dependencies)for(var r in t.dependencies)if(void 0!==e[r]){var a=t.dependencies[r];if("string"==typeof a){if(void 0===e[a]&&(i=this.createError(c.OBJECT_DEPENDENCY_KEY,{key:r,missing:a}).prefixWith(null,r).prefixWith(null,"dependencies"),this.handleError(i)))return i}else if(Array.isArray(a))for(var o=0;o<a.length;o++){var s=a[o];if(void 0===e[s]&&(i=this.createError(c.OBJECT_DEPENDENCY_KEY,{key:r,missing:s}).prefixWith(null,""+o).prefixWith(null,r).prefixWith(null,"dependencies"),this.handleError(i)))return i}else if(i=this.validateAll(e,a,[],["dependencies",r],n))return i}return null},l.prototype.validateCombinations=function(e,t,n){return this.validateAllOf(e,t,n)||this.validateAnyOf(e,t,n)||this.validateOneOf(e,t,n)||this.validateNot(e,t,n)||null},l.prototype.validateAllOf=function(e,t,n){if(void 0===t.allOf)return null;for(var i,r=0;r<t.allOf.length;r++){var a=t.allOf[r];if(i=this.validateAll(e,a,[],["allOf",r],n))return i}return null},l.prototype.validateAnyOf=function(e,t,n){if(void 0===t.anyOf)return null;var i,r,a=[],o=this.errors.length;this.trackUnknownProperties&&(i=this.unknownPropertyPaths,r=this.knownPropertyPaths);for(var s=!0,l=0;l<t.anyOf.length;l++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var u=t.anyOf[l],d=this.errors.length,h=this.validateAll(e,u,[],["anyOf",l],n);if(null===h&&d===this.errors.length){if(this.errors=this.errors.slice(0,o),this.trackUnknownProperties){for(var p in this.knownPropertyPaths)r[p]=!0,delete i[p];for(var f in this.unknownPropertyPaths)r[f]||(i[f]=!0);s=!1;continue}return null}h&&a.push(h.prefixWith(null,""+l).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=i,this.knownPropertyPaths=r),s?(a=a.concat(this.errors.slice(o)),this.errors=this.errors.slice(0,o),this.createError(c.ANY_OF_MISSING,{},"","/anyOf",a)):void 0},l.prototype.validateOneOf=function(e,t,n){if(void 0===t.oneOf)return null;var i,r,a=null,o=[],s=this.errors.length;this.trackUnknownProperties&&(i=this.unknownPropertyPaths,r=this.knownPropertyPaths);for(var l=0;l<t.oneOf.length;l++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var u=t.oneOf[l],d=this.errors.length,h=this.validateAll(e,u,[],["oneOf",l],n);if(null===h&&d===this.errors.length){if(null!==a)return this.errors=this.errors.slice(0,s),this.createError(c.ONE_OF_MULTIPLE,{index1:a,index2:l},"","/oneOf");if(a=l,this.trackUnknownProperties){for(var p in this.knownPropertyPaths)r[p]=!0,delete i[p];for(var f in this.unknownPropertyPaths)r[f]||(i[f]=!0)}}else h&&o.push(h.prefixWith(null,""+l).prefixWith(null,"oneOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=i,this.knownPropertyPaths=r),null===a?(o=o.concat(this.errors.slice(s)),this.errors=this.errors.slice(0,s),this.createError(c.ONE_OF_MISSING,{},"","/oneOf",o)):(this.errors=this.errors.slice(0,s),null)},l.prototype.validateNot=function(e,t,n){if(void 0===t.not)return null;var i,r,a=this.errors.length;this.trackUnknownProperties&&(i=this.unknownPropertyPaths,r=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var o=this.validateAll(e,t.not,null,null,n),s=this.errors.slice(a);return this.errors=this.errors.slice(0,a),this.trackUnknownProperties&&(this.unknownPropertyPaths=i,this.knownPropertyPaths=r),null===o&&0===s.length?this.createError(c.NOT_PASSED,{},"","/not"):null};var c={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},u={};for(var d in c)u[c[d]]=d;var h={INVALID_TYPE:"invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a.prototype.name="ValidationError",a.prototype.prefixWith=function(e,t){if(null!==e&&(e=e.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+e+this.dataPath),null!==t&&(t=t.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+t+this.schemaPath),null!==this.subErrors)for(var n=0;n<this.subErrors.length;n++)this.subErrors[n].prefixWith(e,t);return this};var p={},f=s();return f.addLanguage("en-gb",h),f.tv4=f,f}),/*!
 * angular-schema-form
 * @version 1.0.0-alpha.4
 * @date Sat, 15 Apr 2017 08:27:27 GMT
 * @link https://github.com/json-schema-form/angular-schema-form
 * @license MIT
 * Copyright (c) 2014-2017 JSON Schema Form
 */
function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=21)}([function(e,t){e.exports=angular},function(e,t,n){(function(t,n){/*!
 * json-schema-form-core
 * @version 1.0.0-alpha.4
 * @date Sat, 15 Apr 2017 08:25:55 GMT
 * @link https://github.com/json-schema-form/json-schema-form-core
 * @license MIT
 * Copyright (c) 2014-2017 JSON Schema Form
 */
e.exports=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(e,t,n){"use strict";function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e){var r=e.slice(),a=t||"-";return i&&(r=r.filter(function(e){return"number"!=typeof e})),(0!==n.length?n+a:"")+r.join(a)}return""}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);n.n(r);n.o(r,"parse")&&n.d(t,"parse",function(){return r.parse}),n.o(r,"stringify")&&n.d(t,"stringify",function(){return r.stringify}),n.o(r,"normalize")&&n.d(t,"normalize",function(){return r.normalize}),t.name=i},function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.a=function(e,t){if(!Array.isArray(e)){var n=function(){var n=[];return t?t.forEach(function(t){n.push({name:e[t],value:t})}):Object.keys(e).forEach(function(t){n.push({name:e[t],value:t})}),{v:n}}();if("object"===(void 0===n?"undefined":i(n)))return n.v}return e}},function(e,t,n){e.exports=n(11).ObjectPath},function(e,t,n){"use strict";function i(e,t,n,r){var a=e[b(n.type)];if(a)for(var o=void 0,s=function(t,n,r){return i(e,t,n,r)},l=0;l<a.length;l++)if(o=a[l](t,n,r,s))return o.schema["x-schema-form"]&&Object.assign(o,o.schema["x-schema-form"]),o}function r(e,t,i){i=i||{};var r=i.global&&i.global.formDefaults?Object.assign({},i.global.formDefaults):{};return i.global&&!0===i.global.supressPropertyTitles?r.title=t.title:r.title=t.title||e,t.description&&(r.description=t.description),!0!==i.required&&!0!==t.required||(r.required=!0),t.maxLength&&(r.maxlength=t.maxLength),t.minLength&&(r.minlength=t.minLength),(t.readOnly||t.readonly)&&(r.readonly=!0),t.minimum&&(r.minimum=t.minimum+(t.exclusiveMinimum?1:0)),t.maximum&&(r.maximum=t.maximum-(t.exclusiveMaximum?1:0)),t.validationMessage&&(r.validationMessage=t.validationMessage),t.enumNames&&(r.titleMap=n.i(m.a)(t.enumNames,t.enum)),r.schema=t,r.ngModelOptions=r.ngModelOptions||{},r}function a(e,t,i){if("string"===b(t.type)&&!t.enum){var a=r(e,t,i);return a.key=i.path,a.type="text",i.lookup[n.i(g.stringify)(i.path)]=a,a}}function o(e,t,i){if("number"===b(t.type)){var a=r(e,t,i);return a.key=i.path,a.type="number",i.lookup[n.i(g.stringify)(i.path)]=a,a}}function s(e,t,i){if("integer"===b(t.type)){var a=r(e,t,i);return a.key=i.path,a.type="number",i.lookup[n.i(g.stringify)(i.path)]=a,a}}function l(e,t,i){if("boolean"===b(t.type)){var a=r(e,t,i);return a.key=i.path,a.type="checkbox",i.lookup[n.i(g.stringify)(i.path)]=a,a}}function c(e,t,i){if("string"===b(t.type)&&t.enum){var a=r(e,t,i);return a.key=i.path,a.type="select",a.titleMap||(a.titleMap=y(t.enum)),i.lookup[n.i(g.stringify)(i.path)]=a,a}}function u(e,t,i){if("array"===b(t.type)&&t.items&&t.items.enum){var a=r(e,t,i);return a.key=i.path,a.type="checkboxes",a.titleMap||(a.titleMap=y(t.items.enum)),i.lookup[n.i(g.stringify)(i.path)]=a,a}}function d(e,t,i,a){if("object"===b(t.type)){var o=function(){var o=r(e,t,i);return o.type="fieldset",o.key=i.path,o.items=[],i.lookup[n.i(g.stringify)(i.path)]=o,t.properties&&Object.keys(t.properties).forEach(function(e){var r=t.properties[e],s=i.path.slice();if(s.push(e),!0!==i.ignore[n.i(g.stringify)(s)]){var l=t.required&&-1!==t.required.indexOf(e),c=a(e,r,{path:s,required:l||!1,lookup:i.lookup,ignore:i.ignore,global:i.global});c&&o.items.push(c)}}),{v:o}}();if("object"===(void 0===o?"undefined":v(o)))return o.v}}function h(e,t,i,a){if("array"===b(t.type)){var o=r(e,t,i);o.type="array",o.key=i.path,i.lookup[n.i(g.stringify)(i.path)]=o;var s=t.required&&-1!==t.required.indexOf(i.path[i.path.length-1]),l=i.path.slice();return l.push(""),o.items=[a(e,t.items,{path:l,required:s||!1,lookup:i.lookup,ignore:i.ignore,global:i.global})],o}}function p(){return{string:[c,a],object:[d],number:[o],integer:[s],boolean:[l],array:[u,h]}}function f(e,t,n,r){var a=[],o={};if(n=n||{},r=r||{},t=t||p(),!e.properties)throw new Error('Not implemented. Only type "object" allowed at root level of schema.');return Object.keys(e.properties).forEach(function(s){if(!0!==n[s]){var l=e.required&&-1!==e.required.indexOf(s),c=i(t,s,e.properties[s],{path:[s],lookup:o,ignore:n,required:l,global:r});c&&a.push(c)}}),{form:a,lookup:o}}Object.defineProperty(t,"__esModule",{value:!0});var g=n(0),m=n(1);t.defaultFormDefinition=i,t.stdFormObj=r,t.text=a,t.number=o,t.integer=s,t.checkbox=l,t.select=c,t.checkboxes=u,t.fieldset=d,t.array=h,t.createDefaults=p,t.defaultForm=f;var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b=function(e){if(Array.isArray(e)&&2===e.length){if("null"===e[0])return e[1];if("null"===e[1])return e[0]}return e},y=function(e){var t=[];return e.forEach(function(e){t.push({name:e,value:e})}),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(0),a=n(1),o=n(6);n.d(t,"merge",function(){return o.a});var s=n(8);n.d(t,"select",function(){return s.a});var l=n(7);n.d(t,"jsonref",function(){return l.a});var c=n(9);n.d(t,"traverseSchema",function(){return c.a}),n.d(t,"traverseForm",function(){return c.b});var u=n(10);n.d(t,"validate",function(){return u.a}),n.d(t,"sfPath",function(){return d}),n.d(t,"schemaDefaults",function(){return h}),n.d(t,"canonicalTitleMap",function(){return p});var d=r,h=i,p=a.a},function(e,i,r){var a,o,s,l,l,c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(t){if("object"===c(i)&&void 0!==e)e.exports=t();else{o=[],a=t,void 0!==(s="function"==typeof a?a.apply(i,o):a)&&(e.exports=s)}}(function(){var e;return function e(t,n,i){function r(o,s){if(!n[o]){if(!t[o]){var c="function"==typeof l&&l;if(!s&&c)return l(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[o]={exports:{}};t[o][0].call(d.exports,function(e){var n=t[o][1][e];return r(n||e)},d,d.exports,e,t,n,i)}return n[o].exports}for(var a="function"==typeof l&&l,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,n){/*
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 Jeremy Whitlock
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
"use strict";function i(e){var t;return f(e,"Array")?(t=[],e.forEach(function(e,n){t[n]=i(e)})):f(e,"Object")?(t={},Object.keys(e).forEach(function(n){t[n]=i(e[n])})):t=e,t}function r(e,t){function n(e){Object.keys(e).forEach(function(t){i[t]=e[t]})}var i={};return n(R.parse(e||"")),n(R.parse(t||"")),0===Object.keys(i).length?void 0:R.stringify(i)}function a(e,t){f(e,"String")&&(e=N(e)),f(t,"String")&&(t=N(t));var n,i,a=v(f(t,"Undefined")?"":t);return H.indexOf(a.reference)>-1?i=a:(n=f(e,"Undefined")?void 0:v(e),f(n,"Undefined")?i=a:(i=n,i.path=N(P.join(n.path,a.path)),i.query=r(n.query,a.query))),i.fragment=void 0,(-1===H.indexOf(i.reference)&&0===i.path.indexOf("../")?"../":"")+L.serialize(i)}function o(e,t){var n,i=[];return t.length>0&&(n=e,t.slice(0,t.length-1).forEach(function(e){e in n&&(n=n[e],i.push(n))})),i}function s(e,t,n,r,a,o,s,u,d){var h,p;if(n.length>0)try{h=c(t,n)}catch(t){"remote"===e&&(r.error=t.message,r.missing=!0)}else h=t;if(f(h,"Undefined")||(r.value=h),f(h,"Array")||f(h,"Object"))return p=i(a),"local"===e?(delete p.subDocPath,t=h):(p.relativeBase=P.dirname(o[o.length-1]),0===n.length?delete p.subDocPath:p.subDocPath=n),l(t,p,o,s,u,d)}function l(e,t,n,i,r,o){var l=Promise.resolve(),c=i.length?E(i[i.length-1]):[],u=C(e,t),d=t.subDocPath||[],p=M(d),g=["#"];return n.forEach(function(e,t){"#"!==e.charAt(0)&&g.push(i[t])}),g.reverse(),"#"!==(n[n.length-1]||"").charAt(0)&&(r.documents[M(c)]=e),Object.keys(u).forEach(function(m){var v,b,y,w,x=u[m];y=0===n.length?c.concat(E(m)):c.concat(E(m).slice(0===n.length?0:d.length)),w=M(y),f(r[w],"Undefined")&&(r.refs[w]=u[m],f(x.error,"Undefined")&&"invalid"!==x.type&&(j.indexOf(x.type)>-1?(v=a(t.relativeBase,x.uri),b=n.indexOf(v)):(v=x.uri,b=i.indexOf(v)),x.ancestorPtrs=g,x.indirect=o,-1===b?j.indexOf(x.type)>-1?l=l.then(function(){return h(v,t).then(function(e){return s("remote",e,f(x.uriDetails.fragment,"Undefined")?[]:E(decodeURI(x.uriDetails.fragment)),x,t,n.concat(v),i.concat(w),r,o)}).catch(function(e){x.error=e.message,x.missing=!0})}):0!==w.indexOf(v+"/")&&w!==v&&0!==p.indexOf(v+"/")&&p!==v?0!==v.indexOf(p+"/")&&(l=l.then(function(){return s("local",e,E(v),x,t,n.concat(v),i.concat(w),r,o||-1===v.indexOf(p+"/")&&v!==p)})):x.circular=!0:(i.slice(b).forEach(function(e){r.refs[e].circular=!0}),x.circular=!0)))}),l=l.then(function(){function e(a,o,s,l){Object.keys(r.refs).forEach(function(c){var u=r.refs[c];-1===i.indexOf(l)&&-1===n.indexOf(s)&&-1===t.indexOf(l)&&c!==s&&0===c.indexOf(l+"/")&&(o.indexOf(l)>-1?o.forEach(function(e){-1===t.indexOf(l)&&t.push(e)}):e(a.concat(s),o.concat(l),c,u.uri),n.push(s),i.push(l))})}var t=[],n=[],i=[];Object.keys(r.refs).forEach(function(n){var i=r.refs[n];"local"!==i.type||i.circular||-1!==t.indexOf(i.uri)||e([],[],n,i.uri)}),Object.keys(r.refs).forEach(function(e){var n=r.refs[e];t.indexOf(n.uri)>-1&&(n.circular=!0)})}).then(function(){return r})}function c(e,t){var n=e;return t.forEach(function(e){if(!((e=decodeURI(e))in n))throw Error("JSON Pointer points to missing location: "+M(t));n=n[e]}),n}function u(e){return Object.keys(e).filter(function(e){return"$ref"!==e})}function d(e){var t;switch(e.uriDetails.reference){case"absolute":case"uri":t="remote";break;case"same-document":t="local";break;default:t=e.uriDetails.reference}return t}function h(e,t){var n=z[e],r=Promise.resolve(),a=i(t.loaderOptions||{});return f(n,"Undefined")?(f(a.processContent,"Undefined")&&(a.processContent=function(e,t){t(void 0,JSON.parse(e.text))}),r=I.load(decodeURI(e),a),r=r.then(function(t){return z[e]={value:t},t}).catch(function(t){throw z[e]={error:t},t})):r=r.then(function(){return n.value}),r=r.then(function(e){return i(e)})}function p(e,t){var n=!0;try{if(!f(e,"Object"))throw new Error("obj is not an Object");if(!f(e.$ref,"String"))throw new Error("obj.$ref is not a String")}catch(e){if(t)throw e;n=!1}return n}function f(e,t){return"Undefined"===t?void 0===e:Object.prototype.toString.call(e)==="[object "+t+"]"}function g(e){var t,n;return f(e.filter,"Array")||f(e.filter,"String")?(n=f(e.filter,"String")?[e.filter]:e.filter,t=function(e){return n.indexOf(e.type)>-1||n.indexOf(d(e))>-1}):f(e.filter,"Function")?t=e.filter:f(e.filter,"Undefined")&&(t=function(){return!0}),function(n,i){return("invalid"!==n.type||!0===e.includeInvalid)&&t(n,i)}}function m(e){var t;return f(e.subDocPath,"Array")?t=e.subDocPath:f(e.subDocPath,"String")?t=E(e.subDocPath):f(e.subDocPath,"Undefined")&&(t=[]),t}function v(e){return L.parse(encodeURI(decodeURI(e)))}function b(e,t,n){c(e,t.slice(0,t.length-1))[decodeURI(t[t.length-1])]=n}function y(e,t,n,i){function r(t,r){n.push(r),y(e,t,n,i),n.pop()}var a=!0;f(i,"Function")&&(a=i(e,t,n)),-1===e.indexOf(t)&&(e.push(t),!1!==a&&(f(t,"Array")?t.forEach(function(e,t){r(e,t.toString())}):f(t,"Object")&&Object.keys(t).forEach(function(e){r(t[e],e)}))),e.pop()}function w(e,t){if(e=f(e,"Undefined")?{}:i(e),!f(e,"Object"))throw new TypeError("options must be an Object");if(!(f(e.filter,"Undefined")||f(e.filter,"Array")||f(e.filter,"Function")||f(e.filter,"String")))throw new TypeError("options.filter must be an Array, a Function of a String");if(!f(e.includeInvalid,"Undefined")&&!f(e.includeInvalid,"Boolean"))throw new TypeError("options.includeInvalid must be a Boolean");if(!f(e.refPreProcessor,"Undefined")&&!f(e.refPreProcessor,"Function"))throw new TypeError("options.refPreProcessor must be a Function");if(!f(e.refPostProcessor,"Undefined")&&!f(e.refPostProcessor,"Function"))throw new TypeError("options.refPostProcessor must be a Function");if(!f(e.subDocPath,"Undefined")&&!f(e.subDocPath,"Array")&&!D(e.subDocPath))throw new TypeError("options.subDocPath must be an Array of path segments or a valid JSON Pointer");if(e.filter=g(e),e.subDocPath=m(e),!f(t,"Undefined"))try{c(t,e.subDocPath)}catch(e){throw e.message=e.message.replace("JSON Pointer","options.subDocPath"),e}return e}function x(){z={}}function _(e){if(!f(e,"Array"))throw new TypeError("path must be an array");return e.map(function(e){return f(e,"String")||(e=JSON.stringify(e)),decodeURI(e.replace(/~1/g,"/").replace(/~0/g,"~"))})}function k(e){if(!f(e,"Array"))throw new TypeError("path must be an array");return e.map(function(e){return f(e,"String")||(e=JSON.stringify(e)),e.replace(/~/g,"~0").replace(/\//g,"~1")})}function C(e,t){var n={};if(!f(e,"Array")&&!f(e,"Object"))throw new TypeError("obj must be an Array or an Object");return t=w(t,e),y(o(e,t.subDocPath),c(e,t.subDocPath),i(t.subDocPath),function(e,r,a){var o,s=!0;return p(r)&&(f(t.refPreProcessor,"Undefined")||(r=t.refPreProcessor(i(r),a)),o=$(r),f(t.refPostProcessor,"Undefined")||(o=t.refPostProcessor(o,a)),t.filter(o,a)&&(n[M(a)]=o),u(r).length>0&&(s=!1)),s}),n}function S(e,t){var n=Promise.resolve();return n=n.then(function(){if(!f(e,"String"))throw new TypeError("location must be a string");return t=w(t),e=a(t.relativeBase,e),h(e,t)}).then(function(n){var r=i(z[e]),a=i(t),o=v(e);return f(r.refs,"Undefined")&&(delete a.filter,delete a.subDocPath,a.includeInvalid=!0,z[e].refs=C(n,a)),f(t.filter,"Undefined")||(a.filter=t.filter),f(o.fragment,"Undefined")?f(o.subDocPath,"Undefined")||(a.subDocPath=t.subDocPath):a.subDocPath=E(decodeURI(o.fragment)),{refs:C(n,a),value:n}})}function $(e){var t,n,i,r={def:e};try{p(e,!0)?(t=e.$ref,i=W[t],f(i,"Undefined")&&(i=W[t]=v(t)),r.uri=t,r.uriDetails=i,f(i.error,"Undefined")?r.type=d(r):(r.error=r.uriDetails.error,r.type="invalid"),n=u(e),n.length>0&&(r.warning="Extra JSON Reference properties will be ignored: "+n.join(", "))):r.type="invalid"}catch(e){r.error=e.message,r.type="invalid"}return r}function D(e,t){var n,i=!0;try{if(!f(e,"String"))throw new Error("ptr is not a String");if(""!==e){if(n=e.charAt(0),-1===["#","/"].indexOf(n))throw new Error("ptr must start with a / or #/");if("#"===n&&"#"!==e&&"/"!==e.charAt(1))throw new Error("ptr must start with a / or #/");if(e.match(F))throw new Error("ptr has invalid token(s)")}}catch(e){if(!0===t)throw e;i=!1}return i}function T(e,t){return p(e,t)&&"invalid"!==$(e,t).type}function E(e){if(!D(e))throw new Error("ptr must be a JSON Pointer");var t=e.split("/");return t.shift(),_(t)}function M(e,t){if(!f(e,"Array"))throw new Error("path must be an Array");return(!1!==t?"#":"")+(e.length>0?"/":"")+k(e).join("/")}function A(e,t){var n=Promise.resolve();return n=n.then(function(){if(!f(e,"Array")&&!f(e,"Object"))throw new TypeError("obj must be an Array or an Object");t=w(t,e),e=i(e)}).then(function(){return l(e,t,[],[],{documents:{},refs:{}})}).then(function(t){function n(e,t){return E(e).length-E(t).length}var i={},r={};return Object.keys(t.refs).sort(n).forEach(function(n){var a=t.refs[n];a.indirect||(r[n]=a),delete a.indirect,f(a.error,"Undefined")&&"invalid"!==a.type?(f(a.value,"Undefined")&&a.circular&&(a.value=a.def),f(a.value,"Undefined")?i[n]=a:("#"===n?e=a.value:b(e,E(n),a.value),delete a.ancestorPtrs)):delete a.ancestorPtrs}),Object.keys(i).forEach(function(n){var r=i[n];r.ancestorPtrs.forEach(function(i,a){if(f(r.value,"Undefined"))try{r.value=c(t.documents[i],E(r.uri)),delete r.ancestorPtrs,b(e,E(n),r.value)}catch(e){a===r.ancestorPtrs.length-1&&(r.error=e.message,r.missing=!0,delete r.ancestorPtrs)}})}),{refs:r,resolved:e}})}function O(e,t){var n=Promise.resolve();return n=n.then(function(){if(!f(e,"String"))throw new TypeError("location must be a string");return t=w(t),e=a(t.relativeBase,e),h(e,t)}).then(function(n){var r=i(t),a=v(e);return f(a.fragment,"Undefined")||(r.subDocPath=E(decodeURI(a.fragment))),r.relativeBase=P.dirname(e),A(n,r).then(function(e){return{refs:e.refs,resolved:e.resolved,value:n}})})}var P=e("path"),I=e("path-loader"),R=e("querystring"),N=e("slash"),L=e("uri-js"),F=/~(?:[^01]|$)/g,z={},j=["relative","remote"],H=["absolute","uri"],W={};"undefined"==typeof Promise&&e("native-promise-only"),t.exports.clearCache=x,t.exports.decodePath=_,t.exports.encodePath=k,t.exports.findRefs=C,t.exports.findRefsAt=S,t.exports.getRefDetails=$,t.exports.isPtr=D,t.exports.isRef=T,t.exports.pathFromPtr=E,t.exports.pathToPtr=M,t.exports.resolveRefs=A,t.exports.resolveRefsAt=O},{"native-promise-only":3,path:4,"path-loader":5,querystring:11,slash:13,"uri-js":23}],2:[function(e,t,n){function i(e){if(e)return r(e)}function r(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}t.exports=i,i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i,r=0;r<n.length;r++)if((i=n[r])===t||i.fn===t){n.splice(r,1);break}return this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var i=0,r=n.length;i<r;++i)n[i].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],3:[function(i,r,a){(function(t){/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/
!function(t,n,i){n[t]=n[t]||i(),void 0!==r&&r.exports?r.exports=n[t]:"function"==typeof e&&e.amd&&e(function(){return n[t]})}("Promise",void 0!==t?t:this,function(){"use strict";function e(e,t){f.add(e,t),p||(p=m(f.drain))}function t(e){var t,n=void 0===e?"undefined":c(e);return null==e||"object"!=n&&"function"!=n||(t=e.then),"function"==typeof t&&t}function i(){for(var e=0;e<this.chain.length;e++)r(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function r(e,n,i){var r,a;try{!1===n?i.reject(e.msg):(r=!0===n?e.msg:n.call(void 0,e.msg),r===i.promise?i.reject(TypeError("Promise-chain cycle")):(a=t(r))?a.call(r,i.resolve,i.reject):i.resolve(r))}catch(e){i.reject(e)}}function a(n){var r,s=this;if(!s.triggered){s.triggered=!0,s.def&&(s=s.def);try{(r=t(n))?e(function(){var e=new l(s);try{r.call(n,function(){a.apply(e,arguments)},function(){o.apply(e,arguments)})}catch(t){o.call(e,t)}}):(s.msg=n,s.state=1,s.chain.length>0&&e(i,s))}catch(e){o.call(new l(s),e)}}}function o(t){var n=this;n.triggered||(n.triggered=!0,n.def&&(n=n.def),n.msg=t,n.state=2,n.chain.length>0&&e(i,n))}function s(e,t,n,i){for(var r=0;r<t.length;r++)!function(r){e.resolve(t[r]).then(function(e){n(r,e)},i)}(r)}function l(e){this.def=e,this.triggered=!1}function u(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function d(t){if("function"!=typeof t)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var n=new u(this);this.then=function(t,r){var a={success:"function"!=typeof t||t,failure:"function"==typeof r&&r};return a.promise=new this.constructor(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");a.resolve=e,a.reject=t}),n.chain.push(a),0!==n.state&&e(i,n),a.promise},this.catch=function(e){return this.then(void 0,e)};try{t.call(void 0,function(e){a.call(n,e)},function(e){o.call(n,e)})}catch(e){o.call(n,e)}}var h,p,f,g=Object.prototype.toString,m=void 0!==n?function(e){return n(e)}:setTimeout;try{Object.defineProperty({},"x",{}),h=function(e,t,n,i){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==i})}}catch(e){h=function(e,t,n){return e[t]=n,e}}f=function(){function e(e,t){this.fn=e,this.self=t,this.next=void 0}var t,n,i;return{add:function(r,a){i=new e(r,a),n?n.next=i:t=i,n=i,i=void 0},drain:function(){var e=t;for(t=n=p=void 0;e;)e.fn.call(e.self),e=e.next}}}();var v=h({},"constructor",d,!1);return d.prototype=v,h(v,"__NPO__",0,!1),h(d,"resolve",function(e){var t=this;return e&&"object"==(void 0===e?"undefined":c(e))&&1===e.__NPO__?e:new t(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");t(e)})}),h(d,"reject",function(e){return new this(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");n(e)})}),h(d,"all",function(e){var t=this;return"[object Array]"!=g.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t(function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");var r=e.length,a=Array(r),o=0;s(t,e,function(e,t){a[e]=t,++o===r&&n(a)},i)})}),h(d,"race",function(e){var t=this;return"[object Array]"!=g.call(e)?t.reject(TypeError("Not an array")):new t(function(n,i){if("function"!=typeof n||"function"!=typeof i)throw TypeError("Not a function");s(t,e,function(e,t){n(t)},i)})}),d})}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,n){(function(e){// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
// resolves . and .. elements in a path array with directory names there
// must be no slashes, empty elements, or device names (c:\) in the array
// (so also no leading and trailing slashes - it does not distinguish
// relative and absolute paths)
function t(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(e){return r.exec(e).slice(1)};n.resolve=function(){for(var n="",r=!1,a=arguments.length-1;a>=-1&&!r;a--){var o=a>=0?arguments[a]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(n=o+"/"+n,r="/"===o.charAt(0))}return n=t(i(n.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+n||"."},n.normalize=function(e){var r=n.isAbsolute(e),a="/"===o(e,-1);return e=t(i(e.split("/"),function(e){return!!e}),!r).join("/"),e||r||(e="."),e&&a&&(e+="/"),(r?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(i(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var r=i(e.split("/")),a=i(t.split("/")),o=Math.min(r.length,a.length),s=o,l=0;l<o;l++)if(r[l]!==a[l]){s=l;break}for(var c=[],l=s;l<r.length;l++)c.push("..");return c=c.concat(a.slice(s)),c.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=a(e),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},n.basename=function(e,t){var n=a(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return a(e)[3]};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:8}],5:[function(e,t,n){/*
 * The MIT License (MIT)
 *
 * Copyright (c) 2015 Jeremy Whitlock
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
"use strict";function i(e){return void 0!==e&&(e=-1===e.indexOf("://")?"":e.split("://")[0]),e}function r(e){var t=i(e),n=a[t];if(void 0===n){if(""!==t)throw new Error("Unsupported scheme: "+t);n=o}return n}var a={file:e("./lib/loaders/file"),http:e("./lib/loaders/http"),https:e("./lib/loaders/http")},o="object"===("undefined"==typeof window?"undefined":c(window))||"function"==typeof importScripts?a.http:a.file;"undefined"==typeof Promise&&e("native-promise-only"),t.exports.load=function(e,t){var n=Promise.resolve();return void 0===t&&(t={}),n=n.then(function(){if(void 0===e)throw new TypeError("location is required");if("string"!=typeof e)throw new TypeError("location must be a string");if(void 0!==t){if("object"!==(void 0===t?"undefined":c(t)))throw new TypeError("options must be an object");if(void 0!==t.processContent&&"function"!=typeof t.processContent)throw new TypeError("options.processContent must be a function")}}),n=n.then(function(){return new Promise(function(n,i){r(e).load(e,t||{},function(e,t){e?i(e):n(t)})})}).then(function(e){return t.processContent?new Promise(function(n,i){t.processContent("object"===(void 0===e?"undefined":c(e))?e:{text:e},function(e,t){e?i(e):n(t)})}):"object"===(void 0===e?"undefined":c(e))?e.text:e})}},{"./lib/loaders/file":6,"./lib/loaders/http":7,"native-promise-only":3}],6:[function(e,t,n){/*
 * The MIT License (MIT)
 *
 * Copyright (c) 2015 Jeremy Whitlock
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
"use strict";var i=new TypeError("The 'file' scheme is not supported in the browser");t.exports.getBase=function(){throw i},t.exports.load=function(){var e=arguments[arguments.length-1];if("function"!=typeof e)throw i;e(i)}},{}],7:[function(e,t,n){/*
 * The MIT License (MIT)
 *
 * Copyright (c) 2015 Jeremy Whitlock
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
"use strict";var i=e("superagent"),r=["delete","get","head","patch","post","put"];t.exports.load=function(e,t,n){function a(e,t){e?n(e):("function"==typeof t.buffer&&t.buffer(!0),t.end(function(e,t){e?n(e):n(void 0,t)}))}var o,s,l=t.method?t.method.toLowerCase():"get";if(void 0!==t.method?"string"!=typeof t.method?o=new TypeError("options.method must be a string"):-1===r.indexOf(t.method)&&(o=new TypeError("options.method must be one of the following: "+r.slice(0,r.length-1).join(", ")+" or "+r[r.length-1])):void 0!==t.prepareRequest&&"function"!=typeof t.prepareRequest&&(o=new TypeError("options.prepareRequest must be a function")),o)n(o);else if(s=i["delete"===l?"del":l](e),t.prepareRequest)try{t.prepareRequest(s,a)}catch(e){n(e)}else a(void 0,s)}},{superagent:14}],8:[function(e,t,n){function i(){u=!1,s.length?c=s.concat(c):d=-1,c.length&&r()}function r(){if(!u){var e=setTimeout(i);u=!0;for(var t=c.length;t;){for(s=c,c=[];++d<t;)s&&s[d].run();d=-1,t=c.length}s=null,u=!1,clearTimeout(e)}}function a(e,t){this.fun=e,this.array=t}function o(){}var s,l=t.exports={},c=[],u=!1,d=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new a(e,t)),1!==c.length||u||setTimeout(r,0)},a.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=o,l.addListener=o,l.once=o,l.off=o,l.removeListener=o,l.removeAllListeners=o,l.emit=o,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],9:[function(e,t,n){// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
"use strict";// If obj.hasOwnProperty has been overridden, then calling
// obj.hasOwnProperty(prop) will break.
// See: https://github.com/joyent/node/issues/1707
function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,a){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(t);var l=1e3;a&&"number"==typeof a.maxKeys&&(l=a.maxKeys);var c=e.length;// maxKeys <= 0 means that we should not limit keys count
l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var d,h,p,f,g=e[u].replace(s,"%20"),m=g.indexOf(n);m>=0?(d=g.substr(0,m),h=g.substr(m+1)):(d=g,h=""),p=decodeURIComponent(d),f=decodeURIComponent(h),i(o,p)?r(o[p])?o[p].push(f):o[p]=[o[p],f]:o[p]=f}return o};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],10:[function(e,t,n){// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.
"use strict";function i(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var r=function(e){switch(void 0===e?"undefined":c(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"===(void 0===e?"undefined":c(e))?i(o(e),function(o){var s=encodeURIComponent(r(o))+n;return a(e[o])?i(e[o],function(e){return s+encodeURIComponent(r(e))}).join(t):s+encodeURIComponent(r(e[o]))}).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],11:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":9,"./encode":10}],12:[function(e,t,n){/**
 * Reduce `arr` with `fn`.
 *
 * @param {Array} arr
 * @param {Function} fn
 * @param {Mixed} initial
 *
 * TODO: combatible error handling?
 */
t.exports=function(e,t,n){for(var i=0,r=e.length,a=3==arguments.length?n:e[i++];i<r;)a=t.call(null,a,e[i],++i,e);return a}},{}],13:[function(e,t,n){"use strict";t.exports=function(e){var t=/^\\\\\?\\/.test(e),n=/[^\x00-\x80]+/.test(e);return t||n?e:e.replace(/\\/g,"/")}},{}],14:[function(e,t,n){function i(){}function r(e){switch({}.toString.call(e)){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function a(e){if(!y(e))return e;var t=[];for(var n in e)null!=e[n]&&o(t,n,e[n]);return t.join("&")}function o(e,t,n){if(Array.isArray(n))return n.forEach(function(n){o(e,t,n)});e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}function s(e){for(var t,n,i={},r=e.split("&"),a=0,o=r.length;a<o;++a)n=r[a],t=n.split("="),i[decodeURIComponent(t[0])]=decodeURIComponent(t[1]);return i}function l(e){var t,n,i,r,a=e.split(/\r?\n/),o={};a.pop();for(var s=0,l=a.length;s<l;++s)n=a[s],t=n.indexOf(":"),i=n.slice(0,t).toLowerCase(),r=x(n.slice(t+1)),o[i]=r;return o}function c(e){return/[\/+]json\b/.test(e)}function u(e){return e.split(/ *; */).shift()}function d(e){return v(e.split(/ *; */),function(e,t){var n=t.split(/ *= */),i=n.shift(),r=n.shift();return i&&r&&(e[i]=r),e},{})}function h(e,t){t=t||{},this.req=e,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||void 0===this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=l(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function p(e,t){var n=this;this._query=this._query||[],this.method=e,this.url=t,this.header={},this._header={},this.on("end",function(){var e=null,t=null;try{t=new h(n)}catch(t){return e=new Error("Parser is unable to parse the response"),e.parse=!0,e.original=t,e.rawResponse=n.xhr&&n.xhr.responseText?n.xhr.responseText:null,e.statusCode=n.xhr&&n.xhr.status?n.xhr.status:null,n.callback(e)}if(n.emit("response",t),e)return n.callback(e,t);if(t.status>=200&&t.status<300)return n.callback(e,t);var i=new Error(t.statusText||"Unsuccessful HTTP response");i.original=e,i.response=t,i.status=t.status,n.callback(i,t)})}function f(e,t){var n=w("DELETE",e);return t&&n.end(t),n}var g,m=e("emitter"),v=e("reduce"),b=e("./request-base"),y=e("./is-object");g="undefined"!=typeof window?window:"undefined"!=typeof self?self:this;var w=t.exports=e("./request").bind(null,p);w.getXHR=function(){if(!(!g.XMLHttpRequest||g.location&&"file:"==g.location.protocol&&g.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}return!1};var x="".trim?function(e){return e.trim()}:function(e){return e.replace(/(^\s*|\s*$)/g,"")};w.serializeObject=a,w.parseString=s,w.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},w.serialize={"application/x-www-form-urlencoded":a,"application/json":JSON.stringify},w.parse={"application/x-www-form-urlencoded":s,"application/json":JSON.parse},h.prototype.get=function(e){return this.header[e.toLowerCase()]},h.prototype.setHeaderProperties=function(e){var t=this.header["content-type"]||"";this.type=u(t);var n=d(t);for(var i in n)this[i]=n[i]},h.prototype.parseBody=function(e){var t=w.parse[this.type];return!t&&c(this.type)&&(t=w.parse["application/json"]),t&&e&&(e.length||e instanceof Object)?t(e):null},h.prototype.setStatusProperties=function(e){1223===e&&(e=204);var t=e/100|0;this.status=this.statusCode=e,this.statusType=t,this.info=1==t,this.ok=2==t,this.clientError=4==t,this.serverError=5==t,this.error=(4==t||5==t)&&this.toError(),this.accepted=202==e,this.noContent=204==e,this.badRequest=400==e,this.unauthorized=401==e,this.notAcceptable=406==e,this.notFound=404==e,this.forbidden=403==e},h.prototype.toError=function(){var e=this.req,t=e.method,n=e.url,i="cannot "+t+" "+n+" ("+this.status+")",r=new Error(i);return r.status=this.status,r.method=t,r.url=n,r},w.Response=h,m(p.prototype);for(var _ in b)p.prototype[_]=b[_];p.prototype.abort=function(){if(!this.aborted)return this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this},p.prototype.type=function(e){return this.set("Content-Type",w.types[e]||e),this},p.prototype.responseType=function(e){return this._responseType=e,this},p.prototype.accept=function(e){return this.set("Accept",w.types[e]||e),this},p.prototype.auth=function(e,t,n){switch(n||(n={type:"basic"}),n.type){case"basic":var i=btoa(e+":"+t);this.set("Authorization","Basic "+i);break;case"auto":this.username=e,this.password=t}return this},p.prototype.query=function(e){return"string"!=typeof e&&(e=a(e)),e&&this._query.push(e),this},p.prototype.attach=function(e,t,n){return this._getFormData().append(e,t,n||t.name),this},p.prototype._getFormData=function(){return this._formData||(this._formData=new g.FormData),this._formData},p.prototype.send=function(e){var t=y(e),n=this._header["content-type"];if(t&&y(this._data))for(var i in e)this._data[i]=e[i];else"string"==typeof e?(n||this.type("form"),n=this._header["content-type"],this._data="application/x-www-form-urlencoded"==n?this._data?this._data+"&"+e:e:(this._data||"")+e):this._data=e;return!t||r(e)?this:(n||this.type("json"),this)},h.prototype.parse=function(e){return g.console&&console.warn("Client-side parse() method has been renamed to serialize(). This method is not compatible with superagent v2.0"),this.serialize(e),this},h.prototype.serialize=function(e){return this._parser=e,this},p.prototype.callback=function(e,t){var n=this._callback;this.clearTimeout(),n(e,t)},p.prototype.crossDomainError=function(){var e=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");e.crossDomain=!0,e.status=this.status,e.method=this.method,e.url=this.url,this.callback(e)},p.prototype.timeoutError=function(){var e=this._timeout,t=new Error("timeout of "+e+"ms exceeded");t.timeout=e,this.callback(t)},p.prototype.withCredentials=function(){return this._withCredentials=!0,this},p.prototype.end=function(e){var t=this,n=this.xhr=w.getXHR(),a=this._query.join("&"),o=this._timeout,s=this._formData||this._data;this._callback=e||i,n.onreadystatechange=function(){if(4==n.readyState){var e;try{e=n.status}catch(t){e=0}if(0==e){if(t.timedout)return t.timeoutError();if(t.aborted)return;return t.crossDomainError()}t.emit("end")}};var l=function(e){e.total>0&&(e.percent=e.loaded/e.total*100),e.direction="download",t.emit("progress",e)};this.hasListeners("progress")&&(n.onprogress=l);try{n.upload&&this.hasListeners("progress")&&(n.upload.onprogress=l)}catch(e){}if(o&&!this._timer&&(this._timer=setTimeout(function(){t.timedout=!0,t.abort()},o)),a&&(a=w.serializeObject(a),this.url+=~this.url.indexOf("?")?"&"+a:"?"+a),this.username&&this.password?n.open(this.method,this.url,!0,this.username,this.password):n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof s&&!r(s)){var u=this._header["content-type"],d=this._parser||w.serialize[u?u.split(";")[0]:""];!d&&c(u)&&(d=w.serialize["application/json"]),d&&(s=d(s))}for(var h in this.header)null!=this.header[h]&&n.setRequestHeader(h,this.header[h]);return this._responseType&&(n.responseType=this._responseType),this.emit("request",this),n.send(void 0!==s?s:null),this},w.Request=p,w.get=function(e,t,n){var i=w("GET",e);return"function"==typeof t&&(n=t,t=null),t&&i.query(t),n&&i.end(n),i},w.head=function(e,t,n){var i=w("HEAD",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},w.del=f,w.delete=f,w.patch=function(e,t,n){var i=w("PATCH",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},w.post=function(e,t,n){var i=w("POST",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i},w.put=function(e,t,n){var i=w("PUT",e);return"function"==typeof t&&(n=t,t=null),t&&i.send(t),n&&i.end(n),i}},{"./is-object":15,"./request":17,"./request-base":16,emitter:2,reduce:12}],15:[function(e,t,n){function i(e){return null!=e&&"object"==(void 0===e?"undefined":c(e))}t.exports=i},{}],16:[function(e,t,n){var i=e("./is-object");n.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},n.parse=function(e){return this._parser=e,this},n.timeout=function(e){return this._timeout=e,this},n.then=function(e,t){return this.end(function(n,i){n?t(n):e(i)})},n.use=function(e){return e(this),this},n.get=function(e){return this._header[e.toLowerCase()]},n.getHeader=n.get,n.set=function(e,t){if(i(e)){for(var n in e)this.set(n,e[n]);return this}return this._header[e.toLowerCase()]=t,this.header[e]=t,this},n.unset=function(e){return delete this._header[e.toLowerCase()],delete this.header[e],this},n.field=function(e,t){return this._getFormData().append(e,t),this}},{"./is-object":15}],17:[function(e,t,n){function i(e,t,n){return"function"==typeof n?new e("GET",t).end(n):2==arguments.length?new e("GET",t):new e(t,n)}t.exports=i},{}],18:[function(e,t,n){/*! https://mths.be/punycode v1.3.2 by @mathias, modified for URI.js */var i=function(){function e(e){throw new RangeError(C[e])}function t(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function n(e,n){var i=e.split("@"),r="";return i.length>1&&(r=i[0]+"@",e=i[1]),e=e.replace(k,"."),r+t(e.split("."),n).join(".")}function i(e){for(var t,n,i=[],r=0,a=e.length;r<a;)t=e.charCodeAt(r++),t>=55296&&t<=56319&&r<a?(n=e.charCodeAt(r++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--)):i.push(t);return i}function r(e){return t(e,function(e){var t="";return e>65535&&(e-=65536,t+=D(e>>>10&1023|55296),e=56320|1023&e),t+=D(e)}).join("")}function a(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:p}function o(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function s(e,t,n){var i=0;for(e=n?$(e/v):e>>1,e+=$(e/t);e>S*g>>1;i+=p)e=$(e/S);return $(i+(S+1)*e/(e+m))}function l(t){var n,i,o,l,c,u,d,m,v,x,_=[],k=t.length,C=0,S=y,D=b;for(i=t.lastIndexOf(w),i<0&&(i=0),o=0;o<i;++o)t.charCodeAt(o)>=128&&e("not-basic"),_.push(t.charCodeAt(o));for(l=i>0?i+1:0;l<k;){for(c=C,u=1,d=p;l>=k&&e("invalid-input"),m=a(t.charCodeAt(l++)),(m>=p||m>$((h-C)/u))&&e("overflow"),C+=m*u,v=d<=D?f:d>=D+g?g:d-D,!(m<v);d+=p)x=p-v,u>$(h/x)&&e("overflow"),u*=x;n=_.length+1,D=s(C-c,n,0==c),$(C/n)>h-S&&e("overflow"),S+=$(C/n),C%=n,_.splice(C++,0,S)}return r(_)}function c(t){var n,r,a,l,c,u,d,m,v,x,_,k,C,S,T,E=[];for(t=i(t),k=t.length,n=y,r=0,c=b,u=0;u<k;++u)(_=t[u])<128&&E.push(D(_));for(a=l=E.length,l&&E.push(w);a<k;){for(d=h,u=0;u<k;++u)(_=t[u])>=n&&_<d&&(d=_);for(C=a+1,d-n>$((h-r)/C)&&e("overflow"),r+=(d-n)*C,n=d,u=0;u<k;++u)if(_=t[u],_<n&&++r>h&&e("overflow"),_==n){for(m=r,v=p;x=v<=c?f:v>=c+g?g:v-c,!(m<x);v+=p)T=m-x,S=p-x,E.push(D(o(x+T%S,0))),m=$(T/S);E.push(D(o(m,0))),c=s(r,C,a==l),r=0,++a}++r,++n}return E.join("")}function u(e){return n(e,function(e){return x.test(e)?l(e.slice(4).toLowerCase()):e})}function d(e){return n(e,function(e){return _.test(e)?"xn--"+c(e):e})}var h=2147483647,p=36,f=1,g=26,m=38,v=700,b=72,y=128,w="-",x=/^xn--/,_=/[^\x20-\x7E]/,k=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=p-f,$=Math.floor,D=String.fromCharCode;return{version:"1.3.2",ucs2:{decode:i,encode:r},decode:l,encode:c,toASCII:d,toUnicode:u}}();"undefined"==typeof COMPILED&&void 0!==t&&(t.exports=i)},{}],19:[function(e,t,n){e("./schemes/http"),e("./schemes/urn"),e("./schemes/mailto")},{"./schemes/http":20,"./schemes/mailto":21,"./schemes/urn":22}],20:[function(e,t,n){if("undefined"==typeof COMPILED&&void 0===i&&"function"==typeof e)var i=e("../uri");i.SCHEMES.http=i.SCHEMES.https={domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}}},{"../uri":23}],21:[function(e,t,n){if("undefined"==typeof COMPILED&&void 0===i&&"function"==typeof e)var i=e("../uri"),r=e("../punycode");!function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(e.length>1){e[0]=e[0].slice(0,-1);for(var n=e.length-1,i=1;i<n;++i)e[i]=e[i].slice(1,-1);return e[n]=e[n].slice(1),e.join("")}return e[0]}function t(e){return"(?:"+e+")"}function n(e){return e.toUpperCase()}function a(e){var t=i.pctDecChars(e);return t.match(E)?t:e}function o(e){return void 0!==e&&null!==e?e instanceof Array&&!e.callee?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}var s={},l=i.IRI_SUPPORT,c="[A-Za-z0-9\\-\\.\\_\\~"+(l?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",u="[0-9A-Fa-f]",d=t(t("%[EFef][0-9A-Fa-f]%"+u+u+"%"+u+u)+"|"+t("%[89A-Fa-f][0-9A-Fa-f]%"+u+u)+"|"+t("%"+u+u)),h="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",p="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",f=e(p,'[\\"\\\\]'),g=t(h+"+"+t("\\."+h+"+")+"*"),m=t("\\\\"+f),v=t(p+"|"+m),b=t('\\"'+v+'*\\"'),y=t(c+"|"+d+"|[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),w=t(g+"|\\[[\\x21-\\x5A\\x5E-\\x7E]*\\]"),x=t(g+"|"+b),_=t(x+"\\@"+w),k=t(_+t("\\,"+_)+"*"),C=t(y+"*"),S=C,$=t(C+"\\="+S),D=t($+t("\\&"+$)+"*"),T=t("\\?"+D),E=(i.VALIDATE_SUPPORT&&new RegExp("^mailto\\:"+k+"?"+T+"?$"),new RegExp(c,"g")),M=new RegExp(d,"g"),A=new RegExp(e("[^]",h,"[\\.]",'[\\"]',f),"g"),O=new RegExp(e("[^]",h,"[\\.]","[\\[]","[\\x21-\\x5A\\x5E-\\x7E]","[\\]]"),"g"),P=new RegExp(e("[^]",c,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),I=P,R=i.VALIDATE_SUPPORT&&new RegExp("^"+k+"$"),N=i.VALIDATE_SUPPORT&&new RegExp("^"+D+"$");i.SCHEMES.mailto={parse:function(e,t){i.VALIDATE_SUPPORT&&!e.error&&(e.path&&!R.test(e.path)?e.error="Email address is not valid":e.query&&!N.test(e.query)&&(e.error="Header fields are invalid"));var n=e.to=e.path?e.path.split(","):[];if(e.path=void 0,e.query){for(var a=!1,o={},s=e.query.split("&"),l=0,c=s.length;l<c;++l){var u=s[l].split("=");switch(u[0]){case"to":for(var d=u[1].split(","),h=0,p=d.length;h<p;++h)n.push(d[h]);break;case"subject":e.subject=i.unescapeComponent(u[1],t);break;case"body":e.body=i.unescapeComponent(u[1],t);break;default:a=!0,o[i.unescapeComponent(u[0],t)]=i.unescapeComponent(u[1],t)}}a&&(e.headers=o)}e.query=void 0;for(var l=0,c=n.length;l<c;++l){var f=n[l].split("@");if(f[0]=i.unescapeComponent(f[0]),void 0===r||t.unicodeSupport)f[1]=i.unescapeComponent(f[1],t).toLowerCase();else try{f[1]=r.toASCII(i.unescapeComponent(f[1],t).toLowerCase())}catch(t){e.error=e.error||"Email address's domain name can not be converted to ASCII via punycode: "+t}n[l]=f.join("@")}return e},serialize:function(e,t){var l=o(e.to);if(l){for(var c=0,u=l.length;c<u;++c){var d=String(l[c]),h=d.lastIndexOf("@"),p=d.slice(0,h),f=d.slice(h+1);if(p=p.replace(M,a).replace(M,n).replace(A,i.pctEncChar),void 0!==r)try{f=t.iri?r.toUnicode(f):r.toASCII(i.unescapeComponent(f,t).toLowerCase())}catch(n){e.error=e.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+n}else f=f.replace(M,a).toLowerCase().replace(M,n).replace(O,i.pctEncChar);l[c]=p+"@"+f}e.path=l.join(",")}var g=e.headers=e.headers||{};e.subject&&(g.subject=e.subject),e.body&&(g.body=e.body);var m=[];for(var v in g)g[v]!==s[v]&&m.push(v.replace(M,a).replace(M,n).replace(P,i.pctEncChar)+"="+g[v].replace(M,a).replace(M,n).replace(I,i.pctEncChar));return m.length&&(e.query=m.join("&")),e}}}()},{"../punycode":18,"../uri":23}],22:[function(e,t,n){if("undefined"==typeof COMPILED&&void 0===i&&"function"==typeof e)var i=e("../uri");!function(){var e=i.pctEncChar,t="(?:[0-9A-Za-z][0-9A-Za-z\\-]{1,31})",n=new RegExp("^urn\\:("+t+")$"),r=new RegExp("^("+t+")\\:((?:(?:(?:\\%[0-9A-Fa-f]{2})|[0-9A-Za-z\\(\\)\\+\\,\\-\\.\\:\\=\\@\\;\\$\\_\\!\\*\\'\\/\\?\\#])+))$"),a=/^([^\:]+)\:(.*)/,o=/[\x00-\x20\\\"\&\<\>\[\]\^\`\{\|\}\~\x7F-\xFF]/g,s=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/;i.SCHEMES.urn={parse:function(e,t){var n,o,s=e.path.match(r);return s||(t.tolerant||(e.error=e.error||"URN is not strictly valid."),s=e.path.match(a)),s?(n="urn:"+s[1].toLowerCase(),o=i.SCHEMES[n],o||(o=i.SCHEMES[n]={parse:function(e,t){return e},serialize:i.SCHEMES.urn.serialize}),e.scheme=n,e.path=s[2],e=o.parse(e,t)):e.error=e.error||"URN can not be parsed.",e},serialize:function(t,i){var r,a=t.scheme||i.scheme;if(a&&"urn"!==a){var r=a.match(n);r||(r=["urn:"+a,a]),t.scheme="urn",t.path=r[1]+":"+(t.path?t.path.replace(o,e):"")}return t}},i.SCHEMES["urn:uuid"]={parse:function(e,t){return t.tolerant||e.path&&e.path.match(s)||(e.error=e.error||"UUID is not valid."),e},serialize:function(e,t){return t.tolerant||e.path&&e.path.match(s)?e.path=(e.path||"").toLowerCase():e.scheme=void 0,i.SCHEMES.urn.serialize(e,t)}}}()},{"../uri":23}],23:[function(e,t,n){/**
 * URI.js
 *
 * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.
 * @author <a href="mailto:gary.court@gmail.com">Gary Court</a>
 * @version 2.0.0
 * @see http://github.com/garycourt/uri-js
 * @license URI.js v2.0.0 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js
 */
/**
 * Copyright 2011 Gary Court. All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without modification, are
 * permitted provided that the following conditions are met:
 *
 *    1. Redistributions of source code must retain the above copyright notice, this list of
 *       conditions and the following disclaimer.
 *
 *    2. Redistributions in binary form must reproduce the above copyright notice, this list
 *       of conditions and the following disclaimer in the documentation and/or other materials
 *       provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED
 * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
 * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON
 * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
 * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * The views and conclusions contained in the software and documentation are those of the
 * authors and should not be interpreted as representing official policies, either expressed
 * or implied, of Gary Court.
 */
var i=!0,r=!0,a=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];if(e.length>1){e[0]=e[0].slice(0,-1);for(var n=e.length-1,i=1;i<n;++i)e[i]=e[i].slice(1,-1);return e[n]=e[n].slice(1),e.join("")}return e[0]}function t(e){return"(?:"+e+")"}function n(n){var i=e("[0-9]","[A-Fa-f]"),a=t(t("%[EFef]"+i+"%"+i+i+"%"+i+i)+"|"+t("%[89A-Fa-f]"+i+"%"+i+i)+"|"+t("%"+i+i)),o="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",s=e("[\\:\\/\\?\\#\\[\\]\\@]",o),l=n?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",c=n?"[\\uE000-\\uF8FF]":"[]",u=e("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",l),d=t("[A-Za-z]"+e("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),h=t(t(a+"|"+e(u,o,"[\\:]"))+"*"),p=t(t("25[0-5]")+"|"+t("2[0-4][0-9]")+"|"+t("1[0-9][0-9]")+"|"+t("[1-9][0-9]")+"|[0-9]"),f=t(p+"\\."+p+"\\."+p+"\\."+p),g=t(i+"{1,4}"),m=(t(t(g+"\\:"+g)+"|"+f),t(e(u,o,"[\\:]")+"+")),v=t("v"+i+"+\\."+e(u,o,"[\\:]")+"+"),b=t("\\["+t(m+"|"+v)+"\\]"),y=t(t(a+"|"+e(u,o))+"*"),w=t(b+"|"+f+"(?!"+y+")|"+y),x=t("[0-9]*"),_=t(t(h+"@")+"?"+w+t("\\:"+x)+"?"),k=t(a+"|"+e(u,o,"[\\:\\@]")),C=t(k+"*"),S=t(k+"+"),$=t(t(a+"|"+e(u,o,"[\\@]"))+"+"),D=t(t("\\/"+C)+"*"),T=t("\\/"+t(S+D)+"?"),E=t($+D),M=t(S+D),A="(?!"+k+")",O=(t(D+"|"+T+"|"+E+"|"+M+"|"+A),t(t(k+"|"+e("[\\/\\?]",c))+"*")),P=t(t(k+"|[\\/\\?]")+"*"),I=t(t("\\/\\/"+_+D)+"|"+T+"|"+M+"|"+A),R=t(d+"\\:"+I+t("\\?"+O)+"?"+t("\\#"+P)+"?"),N=t(t("\\/\\/"+_+D)+"|"+T+"|"+E+"|"+A),L=t(N+t("\\?"+O)+"?"+t("\\#"+P)+"?"),F=(t(R+"|"+L),t(d+"\\:"+I+t("\\?"+O)+"?"),"^("+d+")\\:"+t(t("\\/\\/("+t("("+h+")@")+"?("+w+")"+t("\\:("+x+")")+"?)")+"?("+D+"|"+T+"|"+M+"|"+A+")")+t("\\?("+O+")")+"?"+t("\\#("+P+")")+"?$"),z="^(){0}"+t(t("\\/\\/("+t("("+h+")@")+"?("+w+")"+t("\\:("+x+")")+"?)")+"?("+D+"|"+T+"|"+E+"|"+A+")")+t("\\?("+O+")")+"?"+t("\\#("+P+")")+"?$";t(t("\\/\\/("+t("("+h+")@")+"?("+w+")"+t("\\:("+x+")")+"?)")+"?("+D+"|"+T+"|"+M+"|"+A+")"),t("\\?("+O+")"),t("\\#("+P+")"),t("("+h+")@"),t("\\:("+x+")");return{URI_REF:r&&new RegExp("("+F+")|("+z+")"),NOT_SCHEME:new RegExp(e("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",u,o),"g"),NOT_HOST:new RegExp(e("[^\\%]",u,o),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",u,o),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",u,o),"g"),NOT_QUERY:new RegExp(e("[^\\%]",u,o,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",u,o,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",u,o),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",u,s),"g"),PCT_ENCODED:new RegExp(a,"g")}}function a(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function s(e){for(var t,n,i,r="",a=0,o=e.length;a<o;)t=parseInt(e.substr(a+1,2),16),t<128?(r+=String.fromCharCode(t),a+=3):t>=194&&t<224?(o-a>=6?(n=parseInt(e.substr(a+4,2),16),r+=String.fromCharCode((31&t)<<6|63&n)):r+=e.substr(a,6),a+=6):t>=224?(o-a>=9?(n=parseInt(e.substr(a+4,2),16),i=parseInt(e.substr(a+7,2),16),r+=String.fromCharCode((15&t)<<12|(63&n)<<6|63&i)):r+=e.substr(a,9),a+=9):(r+=e.substr(a,3),a+=3);return r}function l(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function c(e){return e.toUpperCase()}function u(e,t){function n(e){var n=s(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,a).replace(t.PCT_ENCODED,c)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,a).replace(t.PCT_ENCODED,c)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,a).replace(t.PCT_ENCODED,c)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,a).replace(t.PCT_ENCODED,c)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,a).replace(t.PCT_ENCODED,c)),e}function d(e,t){void 0===t&&(t={});var n,a,l=i&&!1!==t.iri?_:x,c={};if("suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e),r?(n=e.match(l.URI_REF),n&&(n=n[1]?n.slice(1,10):n.slice(10,19)),n||(!0,t.tolerant||(c.error=c.error||"URI is not strictly valid."),n=e.match(k))):n=e.match(k),n){if(T?(c.scheme=n[1],c.userinfo=n[3],c.host=n[4],c.port=parseInt(n[5],10),c.path=n[6]||"",c.query=n[7],c.fragment=n[8],isNaN(c.port)&&(c.port=n[5])):(c.scheme=n[1]||void 0,c.userinfo=-1!==e.indexOf("@")?n[3]:void 0,c.host=-1!==e.indexOf("//")?n[4]:void 0,c.port=parseInt(n[5],10),c.path=n[6]||"",c.query=-1!==e.indexOf("?")?n[7]:void 0,c.fragment=-1!==e.indexOf("#")?n[8]:void 0,isNaN(c.port)&&(c.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?n[4]:void 0)),void 0!==c.scheme||void 0!==c.userinfo||void 0!==c.host||void 0!==c.port||c.path||void 0!==c.query?void 0===c.scheme?c.reference="relative":void 0===c.fragment?c.reference="absolute":c.reference="uri":c.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==c.reference&&(c.error=c.error||"URI is not a "+t.reference+" reference."),a=E[(t.scheme||c.scheme||"").toLowerCase()],!i||void 0===o||t.unicodeSupport||a&&a.unicodeSupport)u(c,l);else{if(c.host&&(t.domainHost||a&&a.domainHost))try{c.host=o.toASCII(c.host.replace(l.PCT_ENCODED,s).toLowerCase())}catch(e){c.error=c.error||"Host's domain name can not be converted to ASCII via punycode: "+e}u(c,x)}a&&a.parse&&a.parse(c,t)}else!0,c.error=c.error||"URI can not be parsed.";return c}function h(e,t){var n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(e.host),"number"==typeof e.port&&(n.push(":"),n.push(e.port.toString(10))),n.length?n.join(""):void 0}function p(e){for(var t,n=[];e.length;)e.match(C)?e=e.replace(C,""):e.match(S)?e=e.replace(S,"/"):e.match($)?(e=e.replace($,"/"),n.pop()):"."===e||".."===e?e="":(t=e.match(D)[0],e=e.slice(t.length),n.push(t));return n.join("")}function f(e,t){void 0===t&&(t={});var n,r,a,l=i&&t.iri?_:x,c=[];if(n=E[(t.scheme||e.scheme||"").toLowerCase()],n&&n.serialize&&n.serialize(e,t),i&&void 0!==o&&e.host&&(t.domainHost||n&&n.domainHost))try{e.host=t.iri?o.toUnicode(e.host):o.toASCII(e.host.replace(l.PCT_ENCODED,s).toLowerCase())}catch(n){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+n}return u(e,l),"suffix"!==t.reference&&e.scheme&&(c.push(e.scheme),c.push(":")),r=h(e,t),void 0!==r&&("suffix"!==t.reference&&c.push("//"),c.push(r),e.path&&"/"!==e.path.charAt(0)&&c.push("/")),void 0!==e.path&&(a=e.path,t.absolutePath||n&&n.absolutePath||(a=p(a)),void 0===r&&(a=a.replace(/^\/\//,"/%2F")),c.push(a)),void 0!==e.query&&(c.push("?"),c.push(e.query)),void 0!==e.fragment&&(c.push("#"),c.push(e.fragment)),c.join("")}function g(e,t,n,i){void 0===n&&(n={});var r={};return i||(e=d(f(e,n),n),t=d(f(t,n),n)),n=n||{},!n.tolerant&&t.scheme?(r.scheme=t.scheme,r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=p(t.path),r.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=p(t.path),r.query=t.query):(t.path?("/"===t.path.charAt(0)?r.path=p(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?r.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:r.path=t.path:r.path="/"+t.path,r.path=p(r.path)),r.query=t.query):(r.path=e.path,void 0!==t.query?r.query=t.query:r.query=e.query),r.userinfo=e.userinfo,r.host=e.host,r.port=e.port),r.scheme=e.scheme),r.fragment=t.fragment,r}function m(e,t,n){return f(g(d(e,n),d(t,n),n,!0),n)}function v(e,t){return"string"==typeof e?e=f(d(e,t),t):"object"===l(e)&&(e=d(f(e,t),t)),e}function b(e,t,n){return"string"==typeof e?e=f(d(e,n),n):"object"===l(e)&&(e=f(e,n)),"string"==typeof t?t=f(d(t,n),n):"object"===l(t)&&(t=f(t,n)),e===t}function y(e,t){return e&&e.toString().replace(i&&t&&t.iri?_.ESCAPE:x.ESCAPE,a)}function w(e,t){return e&&e.toString().replace(i&&t&&t.iri?_.PCT_ENCODED:x.PCT_ENCODED,s)}var x=n(!1),_=i?n(!0):void 0,k=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?([^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n)*))?/i,C=/^\.\.?\//,S=/^\/\.(\/|$)/,$=/^\/\.\.(\/|$)/,D=/^\/?(?:.|\n)*?(?=\/|$)/,T=void 0==="".match(/(){0}/)[1],E={};return{IRI_SUPPORT:i,VALIDATE_SUPPORT:r,pctEncChar:a,pctDecChars:s,SCHEMES:E,parse:d,_recomposeAuthority:h,removeDotSegments:p,serialize:f,resolveComponents:g,resolve:m,normalize:v,equal:b,escapeComponent:y,unescapeComponent:w}}();if(void 0!==t&&"function"==typeof e){var o=e("./punycode");t.exports=a,e("./schemes")}},{"./punycode":18,"./schemes":19}]},{},[1])(1)})},function(e,t,n){"use strict";function i(e,t){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.i(a.createDefaults)(),c=arguments[3],u=arguments[4],d=arguments[5],h=arguments[6],p=[],f=[];t=t||[];var g=t.indexOf("*");u=u||{};var m={},v=t.indexOf("...");if("object"===(void 0===e?"undefined":s(e))&&e.hasOwnProperty("properties")){d=d||e.readonly||e.readOnly,m=n.i(a.defaultForm)(e,l,c,u);var b=m.lookup;e=b||e,p=p.concat(m.form)}return-1!==g&&(t=t.slice(0,g).concat(p).concat(t.slice(g+1))),m.form&&-1!==v&&function(){var e=t.map(function(e){return"string"==typeof e?e:e.key?e.key:void 0}).filter(function(e){return void 0!==e});f=f.concat(m.form.map(function(t){if(-1===e.indexOf(t.key[0]))return t}).filter(function(e){return void 0!==e}))}(),-1!==v&&(t=t.slice(0,v).concat(f).concat(t.slice(v+1))),t.map(function(t){if("string"==typeof t&&(t={key:t}),t.key&&"string"==typeof t.key&&(t.key=n.i(r.parse)(t.key)),t.titleMap&&(t.titleMap=n.i(o.a)(t.titleMap)),t.key){var a=n.i(r.stringify)(t.key);e[a]&&function(){var n=e[a];n&&Object.keys(n).forEach(function(e){void 0===t[e]&&(t[e]=n[e])})}()}return!0===d&&(t.readonly=!0),t.items&&(t.items=i(e,t.items,l,c,u,t.readonly,h)),t.tabs&&t.tabs.forEach(function(n){n.items&&(n.items=i(e,n.items,l,c,u,t.readonly,h))}),"checkbox"===t.type&&(void 0===t.schema?t.schema={default:!1}:void 0===t.schema.default&&(t.schema.default=!1)),h&&"template"===t.type&&!t.template&&t.templateUrl&&h.push(t),t})}var r=n(0),a=n(3),o=n(1);t.a=i;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}},function(e,t,n){"use strict";function i(e,t){var n=new Promise(function(t,n){r.resolveRefs(e,{filter:["relative","local","remote"]}).then(function(e){t(e.resolved)}).catch(function(e){n(new Error(e))})});if("function"!=typeof t)return n;n.then(function(e){t(null,e)}).catch(function(e){t(e)})}var r=n(5);n.n(r);t.a=i},function(e,t,n){"use strict";function i(e,t,n){t||(t=this);var i="string"==typeof e?r.parse(e):e;if(void 0!==n&&1===i.length)return t[i[0]]=n,t;void 0!==n&&void 0===t[i[0]]&&(t[i[0]]=i.length>2&&a.test(i[1])?[]:{});for(var o=t[i[0]],s=1;s<i.length;s++){if(""===i[s])return;if(void 0!==n){if(s===i.length-1)return o[i[s]]=n,n;var l=o[i[s]];void 0!==l&&null!==l||(l=a.test(i[s+1])?[]:{},o[i[s]]=l),o=l}else o&&(o=o[i[s]])}return o}var r=n(0);t.a=i;var a=/^\d+$/},function(e,t,n){"use strict";function i(e,t,n,i){i=void 0===i||i,n=n||[];!function e(t,n,r){if(n(t,r),t.properties&&Object.keys(t.properties).forEach(function(i){var a=r.slice();a.push(i),e(t.properties[i],n,a)}),!i&&t.items){var a=r.slice();a.push(""),e(t.items,n,a)}}(e,t,n||[])}function r(e,t){t(e),e.items&&e.items.forEach(function(e){r(e,t)}),e.tabs&&e.tabs.forEach(function(e){e.items&&e.items.forEach(function(e){r(e,t)})})}t.a=i,t.b=r},function(e,t,n){"use strict";function i(e,t){if(!e)return{valid:!0};var n=e.schema;if(!n)return{valid:!0};""===t&&(t=void 0),"number"===e.type&&null===t&&(t=void 0);var i={type:"object",properties:{},required:void 0},r=e.key[e.key.length-1];i.properties[r]=n,e.required&&(i.required=[r]);var o={};return void 0!==t&&(o[r]=t),a.a.validateResult(o,i)}var r=n(12),a=n.n(r);t.a=i},function(e,t,n){"use strict";var i;!function(r){var a={parse:function(e){if("string"!=typeof e)throw new TypeError("ObjectPath.parse must be passed a string");for(var t,n,i,r,a=0,o=[];a<e.length;)if(t=e.indexOf(".",a),n=e.indexOf("[",a),-1===t&&-1===n)o.push(e.slice(a,e.length)),a=e.length;else if(-1===n||-1!==t&&t<n)o.push(e.slice(a,t)),a=t+1;else if(n>a&&(o.push(e.slice(a,n)),a=n),'"'!==(i=e.slice(n+1,n+2))&&"'"!==i)r=e.indexOf("]",n),-1===r&&(r=e.length),o.push(e.slice(a+1,r)),a="."===e.slice(r+1,r+2)?r+2:r+1;else{for(r=e.indexOf(i+"]",n),-1===r&&(r=e.length);"\\"===e.slice(r-1,r)&&n<e.length;)n++,r=e.indexOf(i+"]",n);o.push(e.slice(a+2,r).replace(new RegExp("\\"+i,"g"),i)),a="."===e.slice(r+2,r+3)?r+3:r+2}return o},stringify:function(e,t){return Array.isArray(e)||(e=[e.toString()]),t='"'===t?'"':"'",e.map(function(e){return"["+t+e.toString().replace(new RegExp(t,"g"),"\\"+t)+t+"]"}).join("")},normalize:function(e,t){return a.stringify(Array.isArray(e)?e:a.parse(e),t)},registerModule:function(e){e.module("ObjectPath",[]).provider("ObjectPath",function(){this.parse=a.parse,this.stringify=a.stringify,this.normalize=a.normalize,this.$get=function(){return a}})}};void 0!==(i=function(){return{ObjectPath:a}}.call(t,n,t,e))&&(e.exports=i)}()},function(e,t){e.exports=tv4},function(e,t,n){e.exports=n(4)}])}).call(t,n(2),n(19).setImmediate)},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=(n.n(i),n(0)),a=n.n(r),o=n(14),s=n(12),l=n(13),c=n(15),u=n(16),d=n(7),h=n(8),p=n(10),f=n(6),g=n(9),m=n(11),v=n(5),b=[];try{a.a.module("ngSanitize"),b.push("ngSanitize")}catch(e){}try{a.a.module("ui.sortable"),b.push("ui.sortable")}catch(e){}try{a.a.module("angularSpectrumColorpicker"),b.push("angularSpectrumColorpicker")}catch(e){}a.a.module("schemaForm",b).provider("sfPath",u.a).provider("sfBuilder",["sfPathProvider",o.a]).provider("schemaFormDecorators",["$compileProvider","sfPathProvider",s.a]).provider("sfErrorMessage",c.a).provider("schemaForm",["sfPathProvider",l.a]).factory("sfSelect",function(){return i.select}).factory("sfValidator",function(){return i.validate}).directive("sfChanged",d.a).directive("sfField",["$parse","$compile","$http","$templateCache","$interpolate","$q","sfErrorMessage","sfPath","sfSelect",h.a]).directive("sfMessage",["$injector","sfErrorMessage",p.a]).directive("sfNewArray",["sfSelect","sfPath","schemaForm",f.a]).directive("sfSchema",["$compile","$http","$templateCache","$q","schemaForm","schemaFormDecorators","sfSelect","sfPath","sfBuilder",m.a]).directive("schemaValidate",["sfValidator","$parse","sfSelect",v.a]).directive("sfKeyController",["schemaForm","sfPath",g.a])},function(e,t,n){"use strict";var i=n(0),r=n.n(i);t.a=function(e,t,n){return{restrict:"A",scope:!1,priority:500,require:"ngModel",link:function(t,i,a,o){t.$emit("schemaFormPropagateNgModelController",o);var s=null,l=t.$eval(a.schemaValidate);l.copyValueTo&&o.$viewChangeListeners.push(function(){var e=l.copyValueTo;r.a.forEach(e,function(e){n(e,t.model,o.$modelValue)})});var c=function(n,i){if(!l)return n;if(t.options&&!1===t.options.tv4Validation)return n;var r=e(l,n);Object.keys(o.$error).filter(function(e){return 0===e.indexOf("tv4-")}).forEach(function(e){o.$setValidity(e,!0)});{if(r.valid||o.$pristine&&!i)return n;if(o.$setValidity("tv4-"+r.error.code,!1),s=r.error,o.$validators)return n}};"function"==typeof l.ngModel&&l.ngModel(o),["$parsers","$viewChangeListeners","$formatters"].forEach(function(e){l[e]&&o[e]&&l[e].forEach(function(t){o[e].push(t)})}),["$validators","$asyncValidators"].forEach(function(e){l[e]&&o[e]&&r.a.forEach(l[e],function(n,i){o[e][i]=function(e,i){return n(e,i,t.model,l)}})}),o.$parsers.push(c),o.$validators&&(o.$validators.schemaForm=function(){return!Object.keys(o.$error).some(function(e){return"schemaForm"!==e})});var u=l.schema;t.validateField=function(e,t){var n=void 0===e;(n||o.$$parentForm.$name===e)&&((n||u&&-1!==u.type.indexOf("array"))&&c(o.$modelValue,t),o.$setDirty?(o.$setDirty(),o.$setViewValue(o.$viewValue),o.$commitViewValue(),"checkbox"===l.type?l.required&&void 0===o.$modelValue&&o.$setValidity("tv4-302",!1):l.required&&o.$isEmpty(o.$modelValue)&&o.$setValidity("tv4-302",!1)):o.$setViewValue(o.$viewValue))};var d=!0;o.$formatters.push(function(e){return!o.$pristine||!d||t.options&&!0===t.options.validateOnRender?(c(o.$modelValue),e):(d=!1,e)}),t.$on("schemaFormValidate",function(e,n){t.validateField(n,!0)}),t.schemaError=function(){return s}}}}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.a=function(e,t,n){return{scope:!0,controller:["$scope",function(e){this.key=e.form&&e.form.key?e.form.key.splice(0,-2):[]}],link:function(i,o,s){i.min=0,i.trackBy=function(e,t){return e&&"object"===(void 0===e?"undefined":a(e))?e:t},i.modelArray=i.$eval(s.sfNewArray);var l=function(){i.modelArray=i.$eval(s.sfNewArray),i.ngModel&&i.ngModel.$pristine&&i.firstDigest&&(!i.options||!0!==i.options.validateOnRender)||i.validateField&&i.validateField()},c=function(){i.form&&i.form.onChange&&(r.a.isFunction(i.form.onChange)?i.form.onChange(i.modelArray,i.form):i.evalExpr(i.form.onChange,{modelValue:i.modelArray,form:i.form}))},u=function(){var n=i.modelArray;if(!n){var r=t.parse(s.sfNewArray);n=[],e(r,i,n),i.modelArray=n}return n},d=i.$watch("form",function(e){if(e){if(e.titleMap||!0===e.startEmpty||i.modelArray&&0!==i.modelArray.length||i.appendToArray(),i.$watch(function(e){return JSON.stringify(e.modelArray)},function(){l(),c()}),e.titleMap&&e.titleMap.length>0){i.titleMapValues=[];var t=function(t){i.titleMapValues=[],t=t||[],e.titleMap.forEach(function(e){i.titleMapValues.push(-1!==t.indexOf(e.value))})};t(i.modelArray),i.$watchCollection("modelArray",t),i.$watchCollection("titleMapValues",function(t,n){if(t&&t!==n){var r=u();e.titleMap.forEach(function(e,n){var i=r.indexOf(e.value);-1===i&&t[n]&&r.push(e.value),-1===i||t[n]||r.splice(i,1)}),i.validateField&&i.validateField()}})}d()}});i.appendToArray=function(){var t,a=u();if(i.form&&i.form.schema&&i.form.schema.items){var o=i.form.schema.items;o.type&&-1!==o.type.indexOf("object")?(t={},i.options&&!1===i.options.setSchemaDefaults||(t=r.a.isDefined(o.default)?o.default:t)&&n.traverseSchema(o,function(n,i){r.a.isDefined(n.default)&&e(i,t,n.default)})):(o.type&&(-1!==o.type.indexOf("array")?t=[]:-1===o.type.indexOf("string")&&-1===o.type.indexOf("number")||(t="")),i.options&&!1===i.options.setSchemaDefaults||(t=o.default||t))}return a.push(t),a},i.deleteFromArray=function(e){var t=i.modelArray.indexOf(e),n=i.modelArray;return n&&n.splice(t,1),e.$$hashKey&&(i.destroyed=e.$$hashKey),n};var h=function(e){return function(t){t.key&&(t.key[t.key.indexOf("")]=e)}},p={};i.copyWithIndex=function(e){var t=i.form;if(!p[e]){var a=t.items[0];if(t.items.length>1&&(a={type:"section",items:t.items.map(function(e){return e.ngModelOptions=t.ngModelOptions,r.a.isUndefined(e.readonly)&&(e.readonly=t.readonly),e})}),a){var o=r.a.copy(a);o.arrayIndex=e,n.traverseForm(o,h(e)),p[e]=o}}return p[e]}}}}},function(e,t,n){"use strict";var i=n(0),r=n.n(i);t.a=function(){return{require:"ngModel",restrict:"AC",scope:!1,link:function(e,t,n,i){var a=e.$eval(n.sfChanged);a&&a.onChange&&i.$viewChangeListeners.push(function(){r.a.isFunction(a.onChange)?a.onChange(i.$modelValue,a):e.evalExpr(a.onChange,{modelValue:i.$modelValue,form:a,arrayIndex:e.$index,arrayIndices:e.arrayIndices,path:e.path,$i:e.$i,$index:e.$index})})}}}},function(e,t,n){"use strict";var i=n(0),r=n.n(i),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.a=function(e,t,n,i,o,s,l,c,u){var d={COMPLETE:"*",PATH:"string",INDICES:"number"};return{restrict:"AE",replace:!1,transclude:!1,scope:!0,require:["^sfSchema","?^form","?^^sfKeyController"],link:{pre:function(e,t,n,i){var r=i[0];i[1],i[2];e.$on("schemaFormPropagateNgModelController",function(t,n){t.stopPropagation(),t.preventDefault(),e.ngModel=n}),e.initialForm=Object.assign({},r.lookup["f"+n.sfField]),e.form=r.lookup["f"+n.sfField]},post:function(e,t,n,i){var s=i[0],h=i[1];i[2];e.getKey=function(t){var n=t||d.COMPLETE,i=e.parentKey?e.parentKey.slice(0,e.parentKey.length-1):[];if(e.completeKey!==e.form.key&&("number"==typeof e.$index&&(i=i.concat(e.$index)),e.form.key&&e.form.key.length))if("number"==typeof i[i.length-1]&&e.form.key.length>=1){var r=e.form.key.length-i.length;e.completeKey=i.concat(e.form.key.slice(-r))}else e.completeKey=e.form.key.slice();if(Array.isArray(e.completeKey))return n===d.COMPLETE?e.completeKey:e.completeKey.reduce(function(e,t,i){return-1!==[n].indexOf(void 0===t?"undefined":a(t))?e.concat(t):e},[])},e.form.key&&(e.form.key=e.completeKey=e.getKey()),e.showTitle=function(){return e.form&&!0!==e.form.notitle&&e.form.title},e.fieldId=function(t,n){var i=n||!1,r=t&&h&&h.$name?h.$name:void 0,a=e.completeKey;return Array.isArray(a)?c.name(a,"-",r,i):""},e.listToCheckboxValues=function(e){var t={};return r.a.forEach(e,function(e){t[e]=!0}),t},e.checkboxValuesToList=function(e){var t=[];return r.a.forEach(e,function(e,n){e&&t.push(n)}),t},e.buttonClick=function(t,n){r.a.isFunction(n.onClick)?n.onClick(t,n):r.a.isString(n.onClick)&&(s?s.evalInParentScope(n.onClick,{$event:t,form:n}):e.$eval(n.onClick,{$event:t,form:n}))},e.evalExpr=function(t,n){return s?s.evalInParentScope(t,n):e.$eval(t,n)},e.evalInScope=function(t,n){if(t)return e.$eval(t,n)},e.interp=function(e,t){return e&&o(e)(t)},e.hasSuccess=function(){return!!e.ngModel&&(e.options&&e.options.pristine&&!1===e.options.pristine.success?e.ngModel.$valid&&!e.ngModel.$pristine&&!e.ngModel.$isEmpty(e.ngModel.$modelValue):e.ngModel.$valid&&(!e.ngModel.$pristine||!e.ngModel.$isEmpty(e.ngModel.$modelValue)))},e.hasError=function(){return!!e.ngModel&&(e.options&&e.options.pristine&&!1===e.options.pristine.errors?e.ngModel.$invalid&&!e.ngModel.$pristine:e.ngModel.$invalid)},e.errorMessage=function(t){return l.interpolate(t&&t.code+""||"default",e.ngModel&&e.ngModel.$modelValue||"",e.ngModel&&e.ngModel.$viewValue||"",e.form,e.options&&e.options.validationMessage)},e.form.htmlClass=e.form.htmlClass||"",e.idClass=e.fieldId(!1)+" "+e.fieldId(!1,!0);var p=e.form;p.key&&(e.$on("schemaForm.error."+p.key.join("."),function(t,n,i,r,a){a=r,!0!==i&&!1!==i||(r=i,i=void 0),void 0!=a&&e.ngModel.$$parentForm.$name!==a||e.ngModel&&n&&(e.ngModel.$setDirty?e.ngModel.$setDirty():(e.ngModel.$dirty=!0,e.ngModel.$pristine=!1),i&&(p.validationMessage||(p.validationMessage={}),p.validationMessage[n]=i),e.ngModel.$setValidity(n,!0===r),!0===r&&(e.ngModel.$validate(),e.$broadcast("schemaFormValidate")))}),e.$on("$destroy",function(){var t=e.getKey();"number"==typeof e.arrayIndex&&e.arrayIndex;if(!e.externalDestructionInProgress){var n=p.destroyStrategy||e.options&&e.options.destroyStrategy||"remove";if(t&&"retain"!==n){var i=e.model;if(t.length>1&&(i=u(t.slice(0,t.length-1),i)),i&&e.destroyed&&i.$$hashKey&&i.$$hashKey!==e.destroyed)return;if(void 0===i)return;var r=p.schema&&p.schema.type||"";"empty"===n&&-1!==r.indexOf("string")?i[t.slice(-1)]="":"empty"===n&&-1!==r.indexOf("object")?i[t.slice(-1)]={}:"empty"===n&&-1!==r.indexOf("array")?i[t.slice(-1)]=[]:"null"===n?i[t.slice(-1)]=null:delete i[t.slice(-1)]}}}))}}}}},function(e,t,n){"use strict";t.a=function(e,t){return{scope:!0,require:["?^^sfNewArray"],link:{pre:function(e,n,i,r){e.parentKey=e.parentKey||[];var a=t.parse(i.sfParentKey),o=a.length-e.parentKey.length;a.length>1&&(a=a.splice(-o)),e.parentKey=e.parentKey.concat(a,Number(i.sfIndex)),e.arrayIndex=Number(i.sfIndex),e.arrayIndices=e.arrayIndices||[],e.arrayIndices=e.arrayIndices.concat(e.arrayIndex),e.$i=e.arrayIndices,e.path=function(t){var n=-1;return t=t.replace(/\[\]/gi,function(t){return n++,"["+e.$i[n]+"]"}),e.evalExpr(t,e)}}}}}},function(e,t,n){"use strict";var i=n(0),r=n.n(i);t.a=function(e,t){var n=e.has("$sanitize")?e.get("$sanitize"):function(e){return e};return{scope:!1,restrict:"EA",link:function(e,i,a){var o="";a.sfMessage&&e.$watch(a.sfMessage,function(t){t&&(o=n(t),c(!!e.ngModel))});var s,l=function(e){e!==s&&(i.html(e),s=e)},c=function(n){if(n)if(e.hasError()){var i=[];r.a.forEach(e.ngModel&&e.ngModel.$error,function(e,t){e&&i.push(t)}),i=i.filter(function(e){return"schemaForm"!==e});var a=i[0];l(a?t.interpolate(a,e.ngModel.$modelValue,e.ngModel.$viewValue,e.form,e.options&&e.options.validationMessage):o)}else l(o);else l(o)};c();var u=e.$watch("ngModel",function(e){e&&(e.$parsers.push(function(e){return c(!0),e}),e.$formatters.push(function(e){return c(!0),e}),u())});e.$watchCollection("ngModel.$error",function(){c(!!e.ngModel)})}}}},function(e,t,n){"use strict";var i=n(0),r=n.n(i);t.a=function(e,t,n,i,a,o,s,l,c){return{scope:{schema:"=sfSchema",initialForm:"=sfForm",model:"=sfModel",options:"=sfOptions"},controller:["$scope",function(e){this.$onInit=function(){this.evalInParentScope=function(t,n){return e.$parent.$eval(t,n)};var t=this;e.lookup=function(e){return e&&(t.lookup=e),t.lookup}},1===r.a.version.major&&r.a.version.minor<5&&this.$onInit()}],replace:!1,restrict:"A",transclude:!0,require:"?form",link:function(l,u,d,h,p){l.formCtrl=h;var f={};p(l,function(e){if(e.addClass("schema-form-ignore"),u.prepend(e),u[0].querySelectorAll){var t=u[0].querySelectorAll("[ng-model]");if(t)for(var n=0;n<t.length;n++){var i=t[n].getAttribute("ng-model");f[i.substring(i.indexOf(".")+1)]=!0}}});var g,m={};l.resolveReferences=function(e,t){a.jsonref(e).then(function(e){l.render(e,t)}).catch(function(e){new Error(e)})},l.render=function(e,r){var o=[],s=a.merge(e,r,void 0,f,l.options,void 0,o);o.length>0?i.all(o.map(function(e){return t.get(e.templateUrl,{cache:n}).then(function(t){e.template=t.data})})).then(function(){l.internalRender(e,r,s)}):l.internalRender(e,r,s)},l.internalRender=function(t,n,i){g&&(l.externalDestructionInProgress=!0,g.$destroy(),l.externalDestructionInProgress=!1),g=l.$new(),g.schemaForm={form:i,schema:t},Array.prototype.forEach.call(u.children(),function(e){var t=r.a.element(e);!1===t.hasClass("schema-form-ignore")&&t.remove()});for(var h={},p=u[0].querySelectorAll("*[sf-insert-field]"),f=0;f<p.length;f++)h[p[f].getAttribute("sf-insert-field")]=p[f];var m=o.decorator(d.sfUseDecorator),v=Object.create(null);l.lookup(v),u[0].appendChild(c.build(i,m,h,v)),g.firstDigest=!0,setTimeout(function(){g.firstDigest=!1,l.$apply()},0),e(u.children())(g),l.options&&!1===l.options.setSchemaDefaults||a.traverseSchema(t,function(e,t){if(r.a.isDefined(e.default)){var n=s(t,l.model);r.a.isUndefined(n)&&s(t,l.model,e.default)}}),l.$emit("sf-render-finished",u)};var v=["*"];l.$watch(function(){var e=l.schema,t=l.initialForm||v;t&&e&&e.type&&(m.form!==t||m.schema!==e)&&((!e.properties||0===Object.keys(e.properties).length)&&(t.indexOf("*")||t.indexOf("...")),m.schema=e,m.form=t,l.resolveReferences(e,t))}),l.$on("schemaFormRedraw",function(){var e=l.schema,t=l.initialForm?r.a.copy(l.initialForm):["*"];e&&l.resolveReferences(e,t)}),l.$on("$destroy",function(){l.externalDestructionInProgress=!0}),l.evalExpr=function(e,t){return l.$parent.$eval(e,t)}}}}},function(e,t,n){"use strict";var i=n(0),r=n.n(i);t.a=function(e,t){var n="",i={},a=function(e,t){"sfDecorator"===e&&(e=n);var r=i[e];return r[t.type]?r[t.type].template:r.default.template},o=function(n){e.directive(n,["$parse","$compile","$http","$templateCache","$interpolate","$q","sfErrorMessage","sfPath","sfSelect",function(e,i,o,s,l,c,u,d,h){return{restrict:"AE",replace:!1,transclude:!1,scope:!0,require:["?^sfSchema","?^form"],link:function(e,p,f,g){var m=g[0],v=g[1];e.$on("schemaFormPropagateNgModelController",function(t,n){t.stopPropagation(),t.preventDefault(),e.ngModel=n}),e.showTitle=function(){return e.form&&!0!==e.form.notitle&&e.form.title},e.fieldId=function(t,n){var i=e.parentKey||[];if(e.form.key){if("number"==typeof i[i.length-1]){var r=i.concat(e.form.key.slice(-1)),a=t&&v&&v.$name?v.$name:void 0;return d.name(r,"-",a,n)}var a=t&&v&&v.$name?v.$name:void 0;return d.name(e.form.key,"-",a,n)}return""},e.listToCheckboxValues=function(e){var t={};return r.a.forEach(e,function(e){t[e]=!0}),t},e.checkboxValuesToList=function(e){var t=[];return r.a.forEach(e,function(e,n){e&&t.push(n)}),t},e.buttonClick=function(t,n){r.a.isFunction(n.onClick)?n.onClick(t,n):r.a.isString(n.onClick)&&(m?m.evalInParentScope(n.onClick,{$event:t,form:n}):e.$eval(n.onClick,{$event:t,form:n}))},e.evalExpr=function(t,n){return m?m.evalInParentScope(t,n):e.$eval(t,n)},e.evalInScope=function(t,n){if(t)return e.$eval(t,n)},e.interp=function(e,t){return e&&l(e)(t)},e.hasSuccess=function(){return!!e.ngModel&&(e.options&&e.options.pristine&&!1===e.options.pristine.success?e.ngModel.$valid&&!e.ngModel.$pristine&&!e.ngModel.$isEmpty(e.ngModel.$modelValue):e.ngModel.$valid&&(!e.ngModel.$pristine||!e.ngModel.$isEmpty(e.ngModel.$modelValue)))},e.hasError=function(){return!!e.ngModel&&(e.ngModel.$invalid&&!e.ngModel.$pristine)},e.errorMessage=function(t){return u.interpolate(t&&t.code+""||"default",e.ngModel&&e.ngModel.$modelValue||"",e.ngModel&&e.ngModel.$viewValue||"",e.form,e.options&&e.options.validationMessage)};var b=e.$watch(f.form,function(l){if(l){l.ngModelOptions=l.ngModelOptions||{},e.form=l;var u;if("template"===l.type&&l.template)u=c.when(l.template);else{var f="template"===l.type?l.templateUrl:a(n,l);u=o.get(f,{cache:s}).then(function(e){return e.data})}u.then(function(n){if(l.key){var a=l.key?t.stringify(l.key).replace(/"/g,"&quot;"):"";n=n.replace(/\$\$value\$\$/g,"model"+("["!==a[0]?".":"")+a)}if(p.html(n),l.condition){var o='evalExpr(form.condition,{ model: model, "arrayIndex": arrayIndex})';l.key&&(o='evalExpr(form.condition, {model: model, "arrayIndex": arrayIndex, "modelValue": model'+d.stringify(l.key)+"})"),r.a.forEach(p.children(),function(e){var t=e.getAttribute("ng-if");e.setAttribute("ng-if",t?"("+t+") || ("+o+")":o)})}i(p.contents())(e)}),l.key&&(e.$on("schemaForm.error."+l.key.join("."),function(t,n,i,r,a){a=r,!0!==i&&!1!==i||(r=i,i=void 0),void 0!=a&&e.ngModel.$$parentForm.$name!==a||void 0!=a&&e.ngModel.$$parentForm.$name!==a||e.ngModel&&n&&(e.ngModel.$setDirty?e.ngModel.$setDirty():(e.ngModel.$dirty=!0,e.ngModel.$pristine=!1),i&&(l.validationMessage||(l.validationMessage={}),l.validationMessage[n]=i),e.ngModel.$setValidity(n,!0===r),!0===r&&(e.ngModel.$validate(),e.$broadcast("schemaFormValidate")))}),e.$on("$destroy",function(){if(!e.externalDestructionInProgress){var t=l.destroyStrategy||e.options&&e.options.destroyStrategy||"remove";if(l.key&&"retain"!==t){var n=e.model;if(l.key.length>1&&(n=h(l.key.slice(0,l.key.length-1),n)),void 0===n)return;var i=l.schema&&l.schema.type||"";"empty"===t&&-1!==i.indexOf("string")?n[l.key.slice(-1)]="":"empty"===t&&-1!==i.indexOf("object")?n[l.key.slice(-1)]={}:"empty"===t&&-1!==i.indexOf("array")?n[l.key.slice(-1)]=[]:"null"===t?n[l.key.slice(-1)]=null:delete n[l.key.slice(-1)]}}})),b()}})}}}])},s=function(t,n,i){i=!!r.a.isDefined(i)&&i,e.directive("sf"+r.a.uppercase(t[0])+t.substr(1),function(){return{restrict:"EAC",scope:!0,replace:!0,transclude:i,template:'<sf-decorator form="form"></sf-decorator>',link:function(e,n,i){var a={items:"c",titleMap:"c",schema:"c"},o={type:t},s=!0;r.a.forEach(i,function(t,n){if("$"!==n[0]&&0!==n.indexOf("ng")&&"sfField"!==n){var l=function(t){r.a.isDefined(t)&&t!==o[n]&&(o[n]=t,
s&&o.type&&(o.key||r.a.isUndefined(i.key))&&(e.form=o,s=!1))};"model"===n?e.$watch(t,function(t){t&&e.model!==t&&(e.model=t)}):"c"===a[n]?e.$watchCollection(t,l):i.$observe(n,l)}})}}})};this.createDecorator=function(e,t){i[e]={__name:e},r.a.forEach(t,function(t,n){i[e][n]={template:t,replace:!1,builder:[]}}),i[n]||(n=e),o(e)},this.defineDecorator=function(e,t){i[e]={__name:e},r.a.forEach(t,function(t,n){t.builder=t.builder||[],t.replace=!r.a.isDefined(t.replace)||t.replace,i[e][n]=t}),i[n]||(n=e),o(e)},this.createDirective=s,this.createDirectives=function(e){r.a.forEach(e,function(e,t){s(t)})},this.decorator=function(e){return e=e||n,i[e]},this.addMapping=function(e,t,n,r,a){i[e]&&(i[e][t]={template:n,builder:r,replace:!!a})},this.defineAddOn=function(e,t,n,r){i[e]&&(i[e][t]={template:n,builder:r,replace:!0})},this.$get=function(){return{decorator:function(e){return i[e]||i[n]},defaultDecorator:n}},o("sfDecorator")}},function(e,t,n){"use strict";var i=n(0),r=(n.n(i),n(1));n.n(r);t.a=function(){var e=function(e){return e},t=r.schemaDefaults.createDefaults();this.defaults=t,this.stdFormObj=r.schemaDefaults.stdFormObj,this.defaultFormDefinition=r.schemaDefaults.defaultFormDefinition,this.postProcess=function(t){e=t},this.appendRule=function(e,t){this.defaults[e]||(this.defaults[e]=[]),this.defaults[e].push(t)},this.prependRule=function(e,t){this.defaults[e]||(this.defaults[e]=[]),this.defaults[e].unshift(t)},this.createStandardForm=r.schemaDefaults.stdFormObj,this.$get=function(){var t={},i=this.defaults;return t.jsonref=r.jsonref,t.defaults=function(e,t,n,a){var o=t||i;return r.schemaDefaults.defaultForm(e,o,n,a)},t.merge=function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["*"],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.typeDefault,s=arguments[3],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments[6],d=n.i(r.merge)(i,a,o,s,l,c,u);return e(d)},t.typeDefault=i,t.traverseSchema=r.traverseSchema,t.traverseForm=r.traverseForm,t}}},function(e,t,n){"use strict";t.a=function(e){var t=/[A-Z]/g,n=function(e,n){return n=n||"_",e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})},i=0;"firstElementChild"in document.createDocumentFragment()||Object.defineProperty(DocumentFragment.prototype,"firstElementChild",{get:function(){for(var e,t=this.childNodes,n=0,i=t.length;n<i;++n)if(e=t[n],1===e.nodeType)return e;return null}});var r={sfField:function(e){e.fieldFrag.firstElementChild.setAttribute("sf-field",i),e.lookup["f"+i]=e.form,i++},ngModel:function(t){if(t.form.key){var n=t.form.key;t.state.keyRedaction&&(n=n.slice(t.state.keyRedaction));var i;if(t.state.modelValue)i=t.state.modelValue;else{var r=e.stringify(n).replace(/"/g,"&quot;");i=t.state.modelName||"model",r&&(i+=("["!==r[0]?".":"")+r)}for(var a=t.fieldFrag.querySelectorAll("[sf-field-model]"),o=0;o<a.length;o++){var s=a[o],l=s.getAttribute("sf-field-model");if(l&&""!==l)if("replaceAll"===l)for(var c=s.attributes,u=0;u<c.length;u++)c[u].value&&-1!==c[u].value.indexOf("$$value")&&(c[u].value=c[u].value.replace(/\$\$value\$\$/g,i));else{var d=s.getAttribute(l);d&&d.indexOf("$$value$$")?s.setAttribute(l,d.replace(/\$\$value\$\$/g,i)):s.setAttribute(l,i)}else s.setAttribute("ng-model",i)}}},simpleTransclusion:function(e){var t=e.build(e.form.items,e.path+".items",e.state);e.fieldFrag.firstChild.appendChild(t)},ngModelOptions:function(e){e.form.ngModelOptions&&Object.keys(e.form.ngModelOptions).length>0&&e.fieldFrag.firstChild.setAttribute("ng-model-options",JSON.stringify(e.form.ngModelOptions))},transclusion:function(e){var t=e.fieldFrag.querySelectorAll("[sf-field-transclude]");if(t.length)for(var n=0;n<t.length;n++){var i=t[n],r=i.getAttribute("sf-field-transclude")||"items",a=e.form[r];if(a){var o=e.build(a,e.path+"."+r,e.state);i.appendChild(o)}}},condition:function(t){var n="",i="undefined",r="";if(t.form.condition){t.form.key&&(n=e.stringify(t.form.key),i="model"+("["===n[0]?"":".")+n);for(var a="evalExpr("+t.path+'.condition, { model: model, "arrayIndex": $index, "arrayIndices": arrayIndices, "path": path, "$i": $i, "$index": $index, "modelValue": '+i+"})",o=t.fieldFrag.children||t.fieldFrag.childNodes,s=0;s<o.length;s++){var l=o[s];l.hasAttribute&&l.hasAttribute("ng-if")&&(r=l.getAttribute("ng-if")),l.setAttribute&&l.setAttribute("ng-if",r?"("+r+") || ("+a+")":a)}}},array:function(t){var n=t.fieldFrag.querySelector("[schema-form-array-items]");if(t.form.key){t.form.key.filter(function(e){return""===e}).length}if(n){var i=angular.copy(t.state);if(i.keyRedaction=0,i.keyRedaction+=t.form.key.length+1,t.form.schema&&t.form.schema.items&&t.form.schema.items.type&&-1===t.form.schema.items.type.indexOf("object")&&-1===t.form.schema.items.type.indexOf("array")){e.stringify(t.form.key).replace(/"/g,"&quot;");i.modelValue="modelArray[$index]"}else i.modelName="item";i.arrayCompatFlag=!0;var r=t.build(t.form.items,t.path+".items",i);n.appendChild(r)}},numeric:function(e){var t=e.fieldFrag.querySelector("input"),n=e.form.maximum||!1,i=e.form.exclusiveMaximum||!1,r=e.form.minimum||!1,a=e.form.exclusiveMinimum||!1,o=e.form.multipleOf||!1;t&&(!1!==o&&t.setAttribute("step",o),!1!==n&&(!1!==i&&!1!==o&&(n-=o),t.setAttribute("max",n)),!1!==r&&(!1!==a&&!1!==o&&(r+=o),t.setAttribute("min",r)))}};this.builders=r;var a=[r.sfField,r.ngModel,r.ngModelOptions,r.condition];this.stdBuilders=a,this.$get=["$templateCache","schemaFormDecorators","sfPath",function(e,t,i){var o=function(e,t){if(e.key){var n=t[i.stringify(e.key)];if(n){for(;n.firstChild;)n.removeChild(n.firstChild);return n}}},s=function e(t,i,r,a,s,l,c){l=l||{},l=l||{},c=c||Object.create(null),s=s||"schemaForm.form";var u=document.createDocumentFragment();return t.reduce(function(t,u,d){if(!u.type)return t;var h=i[u.type]||i.default;if(h.replace){var p;l.arrayCompatFlag=!1;var f=document.createElement("div"),g=r(u,h)||r(u,i.default);for(f.innerHTML=g,p=document.createDocumentFragment();f.childNodes.length>0;)p.appendChild(f.childNodes[0]);var m={fieldFrag:p,form:u,lookup:c,state:l,path:s+"["+d+"]",build:function(t,n,o){return e(t,i,r,a,n,o,c)}},v=u.builder||h.builder;"function"==typeof v?v(m):v.forEach(function(e){e(m)}),(o(u,a)||t).appendChild(p)}else{var b=document.createElement(n(i.__name,"-"));l.arrayCompatFlag?b.setAttribute("form","copyWithIndex($index)"):b.setAttribute("form",s+"["+d+"]"),(o(u,a)||t).appendChild(b)}return t},u),u};return{build:function(t,n,i,r){return s(t,n,function(t,n){return"template"===t.type?t.template:e.get(n.template)},i,void 0,void 0,r)},builder:r,stdBuilders:a,internalBuild:s}}]}},function(e,t,n){"use strict";var i=n(0),r=n.n(i);t.a=function(){var e={default:"Field does not validate",0:"Invalid type, expected {{schema.type}}",1:"No enum match for: {{viewValue}}",10:'Data does not match any schemas from "anyOf"',11:'Data does not match any schemas from "oneOf"',12:'Data is valid against more than one schema from "oneOf"',13:'Data matches schema from "not"',100:"Value is not a multiple of {{schema.multipleOf}}",101:"{{viewValue}} is less than the allowed minimum of {{schema.minimum}}",102:"{{viewValue}} is equal to the exclusive minimum {{schema.minimum}}",103:"{{viewValue}} is greater than the allowed maximum of {{schema.maximum}}",104:"{{viewValue}} is equal to the exclusive maximum {{schema.maximum}}",105:"Value is not a valid number",200:"String is too short ({{viewValue.length}} chars), minimum {{schema.minLength}}",201:"String is too long ({{viewValue.length}} chars), maximum {{schema.maxLength}}",202:"String does not match pattern: {{schema.pattern}}",300:"Too few properties defined, minimum {{schema.minProperties}}",301:"Too many properties defined, maximum {{schema.maxProperties}}",302:"Required",303:"Additional properties not allowed",304:"Dependency failed - key must exist",400:"Array is too short ({{value.length}}), minimum {{schema.minItems}}",401:"Array is too long ({{value.length}}), maximum {{schema.maxItems}}",402:"Array items are not unique",403:"Additional items not allowed",500:"Format validation failed",501:'Keyword failed: "{{title}}"',600:"Circular $refs",1e3:"Unknown property (not in schema)"};e.number=e[105],e.required=e[302],e.min=e[101],e.max=e[103],e.maxlength=e[201],e.minlength=e[200],e.pattern=e[202],this.setDefaultMessages=function(t){e=t},this.getDefaultMessages=function(){return e},this.setDefaultMessage=function(t,n){e[t]=n},this.$get=["$interpolate",function(t){var n={};return n.defaultMessages=e,n.interpolate=function(n,i,a,o,s){s=s||{};var l=o.validationMessage||{};0===n.indexOf("tv4-")&&(n=n.substring(4));var c=l.default||s.default||"";[l,s,e].some(function(e){return r.a.isString(e)||r.a.isFunction(e)?(c=e,!0):e&&e[n]?(c=e[n],!0):void 0});var u={error:n,value:i,viewValue:a,form:o,schema:o.schema,title:o.title||o.schema&&o.schema.title};return r.a.isFunction(c)?c(u):t(c)(u)},n}]}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(1),a=(n.n(r),n(0)),o=(n.n(a),function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}()),s=function(){function e(){i(this,e),this.name=r.sfPath.name,this.parse=r.sfPath.parse,this.stringify=r.sfPath.stringify,this.normalize=r.sfPath.normalize}return o(e,[{key:"$get",value:function(){return r.sfPath}}]),e}();t.a=s},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function o(){g&&p&&(g=!1,p.length?f=p.concat(f):m=-1,f.length&&s())}function s(){if(!g){var e=r(o);g=!0;for(var t=f.length;t;){for(p=f,f=[];++m<t;)p&&p[m].run();m=-1,t=f.length}p=null,g=!1,a(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,d,h=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}}();var p,f=[],g=!1,m=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new l(e,t)),1!==f.length||g||r(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,n){(function(e,t){!function(e,n){"use strict";function i(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[l]=i,s(l),l++}function r(e){delete c[e]}function a(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}function o(e){if(u)setTimeout(o,0,e);else{var t=c[e];if(t){u=!0;try{a(t)}finally{r(e),u=!1}}}}if(!e.setImmediate){var s,l=1,c={},u=!1,d=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){o(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&o(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){o(e.data)},s=function(t){e.port2.postMessage(t)}}():d&&"onreadystatechange"in d.createElement("script")?function(){var e=d.documentElement;s=function(t){var n=d.createElement("script");n.onreadystatechange=function(){o(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(o,0,e)}}(),h.setImmediate=i,h.clearImmediate=r}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(2),n(17))},function(e,t,n){function i(e,t){this._id=e,this._clearFn=t}var r=Function.prototype.apply;t.setTimeout=function(){return new i(r.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(r.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(18),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},,function(e,t,n){n(1),e.exports=n(4)}]),angular.module("schemaForm").run(["$templateCache",function(e){e.put("decorators/bootstrap/actions-trcl.html",'<div class="btn-group schema-form-actions {{form.htmlClass}}" ng-transclude=""></div>'),e.put("decorators/bootstrap/actions.html",'<div class="btn-group schema-form-actions {{form.htmlClass}}"><input ng-repeat-start="item in form.items" type="submit" class="btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}" value="{{item.title}}" ng-if="item.type === \'submit\'"> <button ng-repeat-end="" class="btn {{ item.style || \'btn-default\' }} {{form.fieldHtmlClass}}" type="button" ng-disabled="form.readonly" ng-if="item.type !== \'submit\'" ng-click="buttonClick($event,item)"><span ng-if="item.icon" class="{{item.icon}}"></span>{{item.title}}</button></div>'),e.put("decorators/bootstrap/array.html",'<div class="schema-form-array {{form.htmlClass}}" sf-field-model="sf-new-array" sf-new-array=""><label class="control-label" ng-show="showTitle()">{{ form.title }}</label><ol class="list-group" sf-field-model="" ui-sortable="form.sortOptions"><li class="list-group-item {{form.fieldHtmlClass}}" schema-form-array-items="" sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index"><button ng-hide="form.readonly || form.remove === null" ng-click="deleteFromArray($index)" ng-disabled="form.schema.minItems >= modelArray.length" style="position: relative; z-index: 20;" type="button" class="close pull-right"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button></li></ol><div class="clearfix" style="padding: 15px;" ng-model="modelArray" schema-validate="form"><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div><button ng-hide="form.readonly || form.add === null" ng-click="appendToArray()" ng-disabled="form.schema.maxItems <= modelArray.length" type="button" class="btn {{ form.style.add || \'btn-default\' }} pull-right"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</button></div></div>'),e.put("decorators/bootstrap/checkbox.html",'<div class="checkbox schema-form-checkbox {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="{{form.labelHtmlClass}}"><input type="checkbox" sf-changed="form" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" class="{{form.fieldHtmlClass}}" name="{{form.key.slice(-1)[0]}}"> <span ng-bind-html="form.title"></span></label><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/checkboxes.html",'<div sf-field-model="sf-new-array" sf-new-array="" class="form-group schema-form-checkboxes {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" sf-field-model="" schema-validate="form" ng-show="showTitle()">{{form.title}}</label><div class="checkbox" ng-repeat="val in titleMapValues track by $index"><label><input type="checkbox" ng-disabled="form.readonly" sf-changed="form" class="{{form.fieldHtmlClass}}" ng-model="titleMapValues[$index]" name="{{form.key.slice(-1)[0]}}"> <span ng-bind-html="form.titleMap[$index].name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/default.html",'<div class="form-group schema-form-{{form.type}} {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false }"><label class="control-label {{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <input ng-if="!form.fieldAddonLeft && !form.fieldAddonRight" ng-show="form.key" type="{{form.type}}" step="any" sf-changed="form" placeholder="{{form.placeholder}}" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-field-model="" ng-disabled="form.readonly" schema-validate="form" name="{{form.key.slice(-1)[0]}}" aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"><div ng-if="form.fieldAddonLeft || form.fieldAddonRight" ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <input ng-show="form.key" type="{{form.type}}" step="any" sf-changed="form" placeholder="{{form.placeholder}}" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-field-model="" ng-disabled="form.readonly" schema-validate="form" name="{{form.key.slice(-1)[0]}}" aria-describedby="{{form.key.slice(-1)[0] + \'Status\'}}"> <span ng-if="form.fieldAddonRight" class="input-group-addon" ng-bind-html="form.fieldAddonRight"></span></div><span ng-if="form.feedback !== false" class="form-control-feedback" ng-class="evalInScope(form.feedback) || {\'glyphicon\': true, \'glyphicon-ok\': hasSuccess(), \'glyphicon-remove\': hasError() }" aria-hidden="true"></span> <span ng-if="hasError() || hasSuccess()" id="{{form.key.slice(-1)[0] + \'Status\'}}" class="sr-only">{{ hasSuccess() ? \'(success)\' : \'(error)\' }}</span><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/fieldset.html",'<fieldset ng-disabled="form.readonly" class="schema-form-fieldset {{form.htmlClass}}"><legend ng-class="{\'sr-only\': !showTitle() }">{{ form.title }}</legend><div class="help-block" ng-show="form.description" ng-bind-html="form.description"></div></fieldset>'),e.put("decorators/bootstrap/help.html",'<div class="helpvalue schema-form-helpvalue {{form.htmlClass}}" ng-bind-html="form.helpvalue"></div>'),e.put("decorators/bootstrap/radio-buttons.html",'<div class="form-group schema-form-radiobuttons {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><div><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label></div><div class="btn-group"><label sf-field-model="replaceAll" class="btn {{ (item.value === $$value$$) ? form.style.selected || \'btn-default\' : form.style.unselected || \'btn-default\'; }}" ng-class="{ active: item.value === $$value$$ }" ng-repeat="item in form.titleMap"><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" style="display: none;" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/radios-inline.html",'<div class="form-group schema-form-radios-inline {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()" sf-field-model="" schema-validate="form">{{form.title}}</label><div><label class="radio-inline" ng-repeat="item in form.titleMap"><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" ng-disabled="form.readonly" sf-field-model="" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/radios.html",'<div class="form-group schema-form-radios {{form.htmlClass}}" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" sf-field-model="" schema-validate="form" ng-show="showTitle()">{{form.title}}</label><div class="radio" ng-repeat="item in form.titleMap"><label><input type="radio" class="{{form.fieldHtmlClass}}" sf-changed="form" ng-disabled="form.readonly" sf-field-model="" ng-value="item.value" name="{{form.key.join(\'.\')}}"> <span ng-bind-html="item.name"></span></label></div><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/section.html",'<div class="schema-form-section {{form.htmlClass}}"></div>'),e.put("decorators/bootstrap/select.html",'<div class="form-group {{form.htmlClass}} schema-form-select" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess(), \'has-feedback\': form.feedback !== false}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><select sf-field-model="" ng-disabled="form.readonly" sf-changed="form" class="form-control {{form.fieldHtmlClass}}" schema-validate="form" ng-options="item.value as item.name group by item.group for item in form.titleMap" name="{{form.key.slice(-1)[0]}}"></select><div class="help-block" sf-message="form.description"></div></div>'),e.put("decorators/bootstrap/submit.html",'<div class="form-group schema-form-submit {{form.htmlClass}}"><input type="submit" class="btn {{ form.style || \'btn-primary\' }} {{form.fieldHtmlClass}}" value="{{form.title}}" ng-disabled="form.readonly" ng-if="form.type === \'submit\'"> <button class="btn {{ form.style || \'btn-default\' }}" type="button" ng-click="buttonClick($event,form)" ng-disabled="form.readonly" ng-if="form.type !== \'submit\'"><span ng-if="form.icon" class="{{form.icon}}"></span> {{form.title}}</button></div>'),e.put("decorators/bootstrap/tabarray.html",'<div ng-init="selected = { tab: 0 }" ng-model="modelArray" schema-validate="form" sf-field-model="sf-new-array" sf-new-array="" class="clearfix schema-form-tabarray schema-form-tabarray-{{form.tabType || \'left\'}} {{form.htmlClass}}"><div ng-if="!form.tabType || form.tabType !== \'right\'" ng-class="{\'col-xs-3\': !form.tabType || form.tabType === \'left\'}"><ul class="nav nav-tabs" ng-class="{ \'tabs-left\': !form.tabType || form.tabType === \'left\'}"><li sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide="form.readonly" ng-disabled="form.schema.maxItems <= modelArray.length" ng-click="$event.preventDefault() || (selected.tab = appendToArray().length - 1)"><a href="#"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</a></li></ul></div><div ng-class="{\'col-xs-9\': !form.tabType || form.tabType === \'left\' || form.tabType === \'right\'}"><div class="tab-content {{form.fieldHtmlClass}}"><div class="tab-pane clearfix tab{{selected.tab}} index{{$index}}" sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index" ng-show="selected.tab === $index" ng-class="{active: selected.tab === $index}"><div schema-form-array-items=""></div><button ng-hide="form.readonly" ng-click="selected.tab = deleteFromArray($index).length - 1" ng-disabled="form.schema.minItems >= modelArray.length" type="button" class="btn {{ form.style.remove || \'btn-default\' }} pull-right"><i class="glyphicon glyphicon-trash"></i> {{ form.remove || \'Remove\'}}</button></div><div class="help-block" ng-show="(hasError() && errorMessage(schemaError())) || form.description" ng-bind-html="(hasError() && errorMessage(schemaError())) || form.description"></div></div></div></div><div ng-if="form.tabType === \'right\'" class="col-xs-3"><ul class="nav nav-tabs tabs-right"><li sf-field-model="ng-repeat" ng-repeat="item in $$value$$ track by $index" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{interp(form.title,{\'$index\':$index, value: item}) || $index}}</a></li><li ng-hide="form.readonly" ng-disabled="form.schema.maxItems <= modelArray.length" ng-click="$event.preventDefault() || (selected.tab = appendToArray().length - 1)"><a href="#"><i class="glyphicon glyphicon-plus"></i> {{ form.add || \'Add\'}}</a></li></ul></div>'),e.put("decorators/bootstrap/tabs.html",'<div ng-init="selected = { tab: 0 }" class="schema-form-tabs {{form.htmlClass}}"><ul class="nav nav-tabs"><li ng-repeat="tab in form.tabs" ng-disabled="form.readonly" ng-click="$event.preventDefault() || (selected.tab = $index)" ng-class="{active: selected.tab === $index}"><a href="#">{{ tab.title }}</a></li></ul><div class="tab-content {{form.fieldHtmlClass}}"></div></div>'),e.put("decorators/bootstrap/textarea.html",'<div class="form-group has-feedback {{form.htmlClass}} schema-form-textarea" ng-class="{\'has-error\': form.disableErrorState !== true && hasError(), \'has-success\': form.disableSuccessState !== true && hasSuccess()}"><label class="control-label {{form.labelHtmlClass}}" ng-class="{\'sr-only\': !showTitle()}" for="{{form.key.slice(-1)[0]}}">{{form.title}}</label> <textarea ng-if="!form.fieldAddonLeft && !form.fieldAddonRight" class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-changed="form" placeholder="{{form.placeholder}}" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" name="{{form.key.slice(-1)[0]}}"></textarea><div ng-if="form.fieldAddonLeft || form.fieldAddonRight" ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <textarea class="form-control {{form.fieldHtmlClass}}" id="{{form.key.slice(-1)[0]}}" sf-changed="form" placeholder="{{form.placeholder}}" ng-disabled="form.readonly" sf-field-model="" schema-validate="form" name="{{form.key.slice(-1)[0]}}"></textarea> <span ng-if="form.fieldAddonRight" class="input-group-addon" ng-bind-html="form.fieldAddonRight"></span></div><span class="help-block" sf-message="form.description"></span></div>')}]),angular.module("schemaForm").config(["schemaFormDecoratorsProvider","sfBuilderProvider","sfPathProvider",function(e,t,n){var i="decorators/bootstrap/",r=t.builders.simpleTransclusion,a=t.builders.ngModelOptions,o=t.builders.ngModel,s=t.builders.sfField,l=t.builders.condition,c=t.builders.array,u=function(e){if(e.form.tabs&&e.form.tabs.length>0){var t=e.fieldFrag.querySelector(".tab-content");e.form.tabs.forEach(function(n,i){var r=document.createElement("div");r.className="tab-pane",r.setAttribute("ng-disabled","form.readonly"),r.setAttribute("ng-show","selected.tab === "+i),r.setAttribute("ng-class","{active: selected.tab === "+i+"}");var a=e.build(n.items,e.path+".tabs["+i+"].items",e.state);r.appendChild(a),t.appendChild(r)})}},d=[s,o,a,l];e.defineDecorator("bootstrapDecorator",{textarea:{template:i+"textarea.html",builder:d},fieldset:{template:i+"fieldset.html",builder:[s,r,l]},array:{template:i+"array.html",builder:[s,a,o,c,l]},tabarray:{template:i+"tabarray.html",builder:[s,a,o,c,l]},tabs:{template:i+"tabs.html",builder:[s,a,u,l]},section:{template:i+"section.html",builder:[s,r,l]},conditional:{template:i+"section.html",builder:[s,r,l]},actions:{template:i+"actions.html",builder:d},select:{template:i+"select.html",builder:d},checkbox:{template:i+"checkbox.html",builder:d},checkboxes:{template:i+"checkboxes.html",builder:[s,a,o,c,l]},number:{template:i+"default.html",builder:d},password:{template:i+"default.html",builder:d},submit:{template:i+"submit.html",builder:d},button:{template:i+"submit.html",builder:d},radios:{template:i+"radios.html",builder:d},"radios-inline":{template:i+"radios-inline.html",builder:d},radiobuttons:{template:i+"radio-buttons.html",builder:d},help:{template:i+"help.html",builder:d},default:{template:i+"default.html",builder:d}},[])}]),/*!
 * pickadate.js v3.5.6, 2015/04/20
 * By Amsul, http://amsul.ca
 * Hosted on http://amsul.github.io/pickadate.js
 * Licensed under MIT
 */
function(e){"function"==typeof define&&define.amd?define("picker",["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):this.Picker=e(jQuery)}(function(e){function t(a,o,l,h){function p(){return t._.node("div",t._.node("div",t._.node("div",t._.node("div",D.component.nodes(_.open),C.box),C.wrap),C.frame),C.holder,'tabindex="-1"')}function f(){S.data(o,D).addClass(C.input).val(S.data("value")?D.get("select",k.format):a.value),k.editable||S.on("focus."+_.id+" click."+_.id,function(e){e.preventDefault(),D.open()}).on("keydown."+_.id,w),r(a,{haspopup:!0,expanded:!1,readonly:!1,owns:a.id+"_root"})}function g(){r(D.$root[0],"hidden",!0)}function m(){D.$holder.on({keydown:w,"focus.toOpen":y,blur:function(){S.removeClass(C.target)},focusin:function(e){D.$root.removeClass(C.focused),e.stopPropagation()},"mousedown click":function(t){var n=t.target;n!=D.$holder[0]&&(t.stopPropagation(),"mousedown"!=t.type||e(n).is("input, select, textarea, button, option")||(t.preventDefault(),D.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var t=e(this),n=t.data(),i=t.hasClass(C.navDisabled)||t.hasClass(C.disabled),r=s();r=r&&(r.type||r.href),(i||r&&!e.contains(D.$root[0],r))&&D.$holder[0].focus(),!i&&n.nav?D.set("highlight",D.component.item.highlight,{nav:n.nav}):!i&&"pick"in n?(D.set("select",n.pick),k.closeOnSelect&&D.close(!0)):n.clear?(D.clear(),k.closeOnClear&&D.close(!0)):n.close&&D.close(!0)})}function v(){var t;!0===k.hiddenName?(t=a.name,a.name=""):(t=["string"==typeof k.hiddenPrefix?k.hiddenPrefix:"","string"==typeof k.hiddenSuffix?k.hiddenSuffix:"_submit"],t=t[0]+a.name+t[1]),D._hidden=e('<input type=hidden name="'+t+'"'+(S.data("value")||a.value?' value="'+D.get("select",k.formatSubmit)+'"':"")+">")[0],S.on("change."+_.id,function(){D._hidden.value=a.value?D.get("select",k.formatSubmit):""})}function b(){x&&d?D.$holder.find("."+C.frame).one("transitionend",function(){D.$holder[0].focus()}):D.$holder[0].focus()}function y(e){e.stopPropagation(),S.addClass(C.target),D.$root.addClass(C.focused),D.open()}function w(e){var t=e.keyCode,n=/^(8|46)$/.test(t);if(27==t)return D.close(!0),!1;(32==t||n||!_.open&&D.component.key[t])&&(e.preventDefault(),e.stopPropagation(),n?D.clear().close():D.open())}if(!a)return t;var x=!1,_={id:a.id||"P"+Math.abs(~~(Math.random()*new Date))},k=l?e.extend(!0,{},l.defaults,h):h||{},C=e.extend({},t.klasses(),k.klass),S=e(a),$=function(){return this.start()},D=$.prototype={constructor:$,$node:S,start:function(){return _&&_.start?D:(_.methods={},_.start=!0,_.open=!1,_.type=a.type,a.autofocus=a==s(),a.readOnly=!k.editable,a.id=a.id||_.id,"text"!=a.type&&(a.type="text"),D.component=new l(D,k),D.$root=e('<div class="'+C.picker+'" id="'+a.id+'_root" />'),g(),D.$holder=e(p()).appendTo(D.$root),m(),k.formatSubmit&&v(),f(),k.containerHidden?e(k.containerHidden).append(D._hidden):S.after(D._hidden),k.container?e(k.container).append(D.$root):S.after(D.$root),D.on({start:D.component.onStart,render:D.component.onRender,stop:D.component.onStop,open:D.component.onOpen,close:D.component.onClose,set:D.component.onSet}).on({start:k.onStart,render:k.onRender,stop:k.onStop,open:k.onOpen,close:k.onClose,set:k.onSet}),x=n(D.$holder[0]),a.autofocus&&D.open(),D.trigger("start").trigger("render"))},render:function(t){return t?(D.$holder=e(p()),m(),D.$root.html(D.$holder)):D.$root.find("."+C.box).html(D.component.nodes(_.open)),D.trigger("render")},stop:function(){return _.start?(D.close(),D._hidden&&D._hidden.parentNode.removeChild(D._hidden),D.$root.remove(),S.removeClass(C.input).removeData(o),setTimeout(function(){S.off("."+_.id)},0),a.type=_.type,a.readOnly=!1,D.trigger("stop"),_.methods={},_.start=!1,D):D},open:function(n){return _.open?D:(S.addClass(C.active),r(a,"expanded",!0),setTimeout(function(){D.$root.addClass(C.opened),r(D.$root[0],"hidden",!1)},0),!1!==n&&(_.open=!0,x&&u.css("overflow","hidden").css("padding-right","+="+i()),b(),c.on("click."+_.id+" focusin."+_.id,function(e){var t=e.target;t!=a&&t!=document&&3!=e.which&&D.close(t===D.$holder[0])}).on("keydown."+_.id,function(n){var i=n.keyCode,r=D.component.key[i],a=n.target;27==i?D.close(!0):a!=D.$holder[0]||!r&&13!=i?e.contains(D.$root[0],a)&&13==i&&(n.preventDefault(),a.click()):(n.preventDefault(),r?t._.trigger(D.component.key.go,D,[t._.trigger(r)]):D.$root.find("."+C.highlighted).hasClass(C.disabled)||(D.set("select",D.component.item.highlight),k.closeOnSelect&&D.close(!0)))})),D.trigger("open"))},close:function(e){return e&&(k.editable?a.focus():(D.$holder.off("focus.toOpen").focus(),setTimeout(function(){D.$holder.on("focus.toOpen",y)},0))),S.removeClass(C.active),r(a,"expanded",!1),setTimeout(function(){D.$root.removeClass(C.opened+" "+C.focused),r(D.$root[0],"hidden",!0)},0),_.open?(_.open=!1,x&&u.css("overflow","").css("padding-right","-="+i()),c.off("."+_.id),D.trigger("close")):D},clear:function(e){return D.set("clear",null,e)},set:function(t,n,i){var r,a,o=e.isPlainObject(t),s=o?t:{};if(i=o&&e.isPlainObject(n)?n:i||{},t){o||(s[t]=n);for(r in s)a=s[r],r in D.component.item&&(void 0===a&&(a=null),D.component.set(r,a,i)),"select"!=r&&"clear"!=r||S.val("clear"==r?"":D.get(r,k.format)).trigger("change");D.render()}return i.muted?D:D.trigger("set",s)},get:function(e,n){if(e=e||"value",null!=_[e])return _[e];if("valueSubmit"==e){if(D._hidden)return D._hidden.value;e="value"}if("value"==e)return a.value;if(e in D.component.item){if("string"==typeof n){var i=D.component.get(e);return i?t._.trigger(D.component.formats.toString,D.component,[n,i]):""}return D.component.get(e)}},on:function(t,n,i){var r,a,o=e.isPlainObject(t),s=o?t:{};if(t){o||(s[t]=n);for(r in s)a=s[r],i&&(r="_"+r),_.methods[r]=_.methods[r]||[],_.methods[r].push(a)}return D},off:function(){var e,t,n=arguments;for(e=0,namesCount=n.length;e<namesCount;e+=1)(t=n[e])in _.methods&&delete _.methods[t];return D},trigger:function(e,n){var i=function(e){var i=_.methods[e];i&&i.map(function(e){t._.trigger(e,D,[n])})};return i("_"+e),i(e),D}};return new $}function n(e){var t;return e.currentStyle?t=e.currentStyle.position:window.getComputedStyle&&(t=getComputedStyle(e).position),"fixed"==t}function i(){if(u.height()<=l.height())return 0;var t=e('<div style="visibility:hidden;width:100px" />').appendTo("body"),n=t[0].offsetWidth;t.css("overflow","scroll");var i=e('<div style="width:100%" />').appendTo(t),r=i[0].offsetWidth;return t.remove(),n-r}function r(t,n,i){if(e.isPlainObject(n))for(var r in n)a(t,r,n[r]);else a(t,n,i)}function a(e,t,n){e.setAttribute(("role"==t?"":"aria-")+t,n)}function o(t,n){e.isPlainObject(t)||(t={attribute:n}),n="";for(var i in t){var r=("role"==i?"":"aria-")+i;n+=null==t[i]?"":r+'="'+t[i]+'"'}return n}function s(){try{return document.activeElement}catch(e){}}var l=e(window),c=e(document),u=e(document.documentElement),d=null!=document.documentElement.style.transition;return t.klasses=function(e){return e=e||"picker",{picker:e,opened:e+"--opened",focused:e+"--focused",input:e+"__input",active:e+"__input--active",target:e+"__input--target",holder:e+"__holder",frame:e+"__frame",wrap:e+"__wrap",box:e+"__box"}},t._={group:function(e){for(var n,i="",r=t._.trigger(e.min,e);r<=t._.trigger(e.max,e,[r]);r+=e.i)n=t._.trigger(e.item,e,[r]),i+=t._.node(e.node,n[0],n[1],n[2]);return i},node:function(t,n,i,r){return n?(n=e.isArray(n)?n.join(""):n,i=i?' class="'+i+'"':"",r=r?" "+r:"","<"+t+i+r+">"+n+"</"+t+">"):""},lead:function(e){return(e<10?"0":"")+e},trigger:function(e,t,n){return"function"==typeof e?e.apply(t,n||[]):e},digits:function(e){return/\d/.test(e[1])?2:1},isDate:function(e){return{}.toString.call(e).indexOf("Date")>-1&&this.isInteger(e.getDate())},isInteger:function(e){return{}.toString.call(e).indexOf("Number")>-1&&e%1==0},ariaAttr:o},t.extend=function(n,i){e.fn[n]=function(r,a){var o=this.data(n);return"picker"==r?o:o&&"string"==typeof r?t._.trigger(o[r],o,[a]):this.each(function(){e(this).data(n)||new t(this,n,i,r)})},e.fn[n].defaults=i.defaults},t}),/*!
 * Date picker for pickadate.js v3.5.6
 * http://amsul.github.io/pickadate.js/date.htm
 */
function(e){"function"==typeof define&&define.amd?define(["picker","jquery"],e):"object"==typeof exports?module.exports=e(require("./picker.js"),require("jquery")):e(Picker,jQuery)}(function(e,t){function n(e,t){var n=this,i=e.$node[0],r=i.value,a=e.$node.data("value"),o=a||r,s=a?t.formatSubmit:t.format,l=function(){return i.currentStyle?"rtl"==i.currentStyle.direction:"rtl"==getComputedStyle(e.$root[0]).direction};n.settings=t,n.$node=e.$node,n.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},n.item={},n.item.clear=null,n.item.disable=(t.disable||[]).slice(0),n.item.enable=-function(e){return!0===e[0]?e.shift():-1}(n.item.disable),n.set("min",t.min).set("max",t.max).set("now"),o?n.set("select",o,{format:s,defaultValue:!0}):n.set("select",null).set("highlight",n.item.now),n.key={40:7,38:-7,39:function(){return l()?-1:1},37:function(){return l()?1:-1},go:function(e){var t=n.item.highlight,i=new Date(t.year,t.month,t.date+e);n.set("highlight",i,{interval:e}),this.render()}},e.on("render",function(){e.$root.find("."+t.klass.selectMonth).on("change",function(){var n=this.value;n&&(e.set("highlight",[e.get("view").year,n,e.get("highlight").date]),e.$root.find("."+t.klass.selectMonth).trigger("focus"))}),e.$root.find("."+t.klass.selectYear).on("change",function(){var n=this.value;n&&(e.set("highlight",[n,e.get("view").month,e.get("highlight").date]),e.$root.find("."+t.klass.selectYear).trigger("focus"))})},1).on("open",function(){var i="";n.disabled(n.get("now"))&&(i=":not(."+t.klass.buttonToday+")"),e.$root.find("button"+i+", select").attr("disabled",!1)},1).on("close",function(){e.$root.find("button, select").attr("disabled",!0)},1)}var i=e._;n.prototype.set=function(e,t,n){var i=this,r=i.item;return null===t?("clear"==e&&(e="select"),r[e]=t,i):(r["enable"==e?"disable":"flip"==e?"enable":e]=i.queue[e].split(" ").map(function(r){return t=i[r](e,t,n)}).pop(),"select"==e?i.set("highlight",r.select,n):"highlight"==e?i.set("view",r.highlight,n):e.match(/^(flip|min|max|disable|enable)$/)&&(r.select&&i.disabled(r.select)&&i.set("select",r.select,n),r.highlight&&i.disabled(r.highlight)&&i.set("highlight",r.highlight,n)),i)},n.prototype.get=function(e){return this.item[e]},n.prototype.create=function(e,n,r){var a,o=this;return n=void 0===n?e:n,n==-1/0||n==1/0?a=n:t.isPlainObject(n)&&i.isInteger(n.pick)?n=n.obj:t.isArray(n)?(n=new Date(n[0],n[1],n[2]),n=i.isDate(n)?n:o.create().obj):n=i.isInteger(n)||i.isDate(n)?o.normalize(new Date(n),r):o.now(e,n,r),{year:a||n.getFullYear(),month:a||n.getMonth(),date:a||n.getDate(),day:a||n.getDay(),obj:a||n,pick:a||n.getTime()}},n.prototype.createRange=function(e,n){var r=this,a=function(e){return!0===e||t.isArray(e)||i.isDate(e)?r.create(e):e};return i.isInteger(e)||(e=a(e)),i.isInteger(n)||(n=a(n)),i.isInteger(e)&&t.isPlainObject(n)?e=[n.year,n.month,n.date+e]:i.isInteger(n)&&t.isPlainObject(e)&&(n=[e.year,e.month,e.date+n]),{from:a(e),to:a(n)}},n.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},n.prototype.overlapRanges=function(e,t){var n=this;return e=n.createRange(e.from,e.to),t=n.createRange(t.from,t.to),n.withinRange(e,t.from)||n.withinRange(e,t.to)||n.withinRange(t,e.from)||n.withinRange(t,e.to)},n.prototype.now=function(e,t,n){return t=new Date,n&&n.rel&&t.setDate(t.getDate()+n.rel),this.normalize(t,n)},n.prototype.navigate=function(e,n,i){var r,a,o,s,l=t.isArray(n),c=t.isPlainObject(n),u=this.item.view;if(l||c){for(c?(a=n.year,o=n.month,s=n.date):(a=+n[0],o=+n[1],s=+n[2]),i&&i.nav&&u&&u.month!==o&&(a=u.year,o=u.month),r=new Date(a,o+(i&&i.nav?i.nav:0),1),a=r.getFullYear(),o=r.getMonth();new Date(a,o,s).getMonth()!==o;)s-=1;n=[a,o,s]}return n},n.prototype.normalize=function(e){return e.setHours(0,0,0,0),e},n.prototype.measure=function(e,t){var n=this;return t?"string"==typeof t?t=n.parse(e,t):i.isInteger(t)&&(t=n.now(e,t,{rel:t})):t="min"==e?-1/0:1/0,t},n.prototype.viewset=function(e,t){return this.create([t.year,t.month,1])},n.prototype.validate=function(e,n,r){var a,o,s,l,c=this,u=n,d=r&&r.interval?r.interval:1,h=-1===c.item.enable,p=c.item.min,f=c.item.max,g=h&&c.item.disable.filter(function(e){if(t.isArray(e)){var r=c.create(e).pick;r<n.pick?a=!0:r>n.pick&&(o=!0)}return i.isInteger(e)}).length;if((!r||!r.nav&&!r.defaultValue)&&(!h&&c.disabled(n)||h&&c.disabled(n)&&(g||a||o)||!h&&(n.pick<=p.pick||n.pick>=f.pick)))for(h&&!g&&(!o&&d>0||!a&&d<0)&&(d*=-1);c.disabled(n)&&(Math.abs(d)>1&&(n.month<u.month||n.month>u.month)&&(n=u,d=d>0?1:-1),n.pick<=p.pick?(s=!0,d=1,n=c.create([p.year,p.month,p.date+(n.pick===p.pick?0:-1)])):n.pick>=f.pick&&(l=!0,d=-1,n=c.create([f.year,f.month,f.date+(n.pick===f.pick?0:1)])),!s||!l);)n=c.create([n.year,n.month,n.date+d]);return n},n.prototype.disabled=function(e){var n=this,r=n.item.disable.filter(function(r){return i.isInteger(r)?e.day===(n.settings.firstDay?r:r-1)%7:t.isArray(r)||i.isDate(r)?e.pick===n.create(r).pick:t.isPlainObject(r)?n.withinRange(r,e):void 0});return r=r.length&&!r.filter(function(e){return t.isArray(e)&&"inverted"==e[3]||t.isPlainObject(e)&&e.inverted}).length,-1===n.item.enable?!r:r||e.pick<n.item.min.pick||e.pick>n.item.max.pick},n.prototype.parse=function(e,t,n){var r=this,a={};return t&&"string"==typeof t?(n&&n.format||(n=n||{},n.format=r.settings.format),r.formats.toArray(n.format).map(function(e){var n=r.formats[e],o=n?i.trigger(n,r,[t,a]):e.replace(/^!/,"").length;n&&(a[e]=t.substr(0,o)),t=t.substr(o)}),[a.yyyy||a.yy,+(a.mm||a.m)-1,a.dd||a.d]):t},n.prototype.formats=function(){function e(e,t,n){var i=e.match(/[^\x00-\x7F]+|\w+/)[0];return n.mm||n.m||(n.m=t.indexOf(i)+1),i.length}function t(e){return e.match(/\w+/)[0].length}return{d:function(e,t){return e?i.digits(e):t.date},dd:function(e,t){return e?2:i.lead(t.date)},ddd:function(e,n){return e?t(e):this.settings.weekdaysShort[n.day]},dddd:function(e,n){return e?t(e):this.settings.weekdaysFull[n.day]},m:function(e,t){return e?i.digits(e):t.month+1},mm:function(e,t){return e?2:i.lead(t.month+1)},mmm:function(t,n){var i=this.settings.monthsShort;return t?e(t,i,n):i[n.month]},mmmm:function(t,n){var i=this.settings.monthsFull;return t?e(t,i,n):i[n.month]},yy:function(e,t){return e?2:(""+t.year).slice(2)},yyyy:function(e,t){return e?4:t.year},toArray:function(e){return e.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(e,t){var n=this;return n.formats.toArray(e).map(function(e){return i.trigger(n.formats[e],n,[0,t])||e.replace(/^!/,"")}).join("")}}}(),n.prototype.isDateExact=function(e,n){var r=this;return i.isInteger(e)&&i.isInteger(n)||"boolean"==typeof e&&"boolean"==typeof n?e===n:(i.isDate(e)||t.isArray(e))&&(i.isDate(n)||t.isArray(n))?r.create(e).pick===r.create(n).pick:!(!t.isPlainObject(e)||!t.isPlainObject(n))&&(r.isDateExact(e.from,n.from)&&r.isDateExact(e.to,n.to))},n.prototype.isDateOverlap=function(e,n){var r=this,a=r.settings.firstDay?1:0;return i.isInteger(e)&&(i.isDate(n)||t.isArray(n))?(e=e%7+a)===r.create(n).day+1:i.isInteger(n)&&(i.isDate(e)||t.isArray(e))?(n=n%7+a)===r.create(e).day+1:!(!t.isPlainObject(e)||!t.isPlainObject(n))&&r.overlapRanges(e,n)},n.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(-1==t.enable?1:-1)},n.prototype.deactivate=function(e,n){var r=this,a=r.item.disable.slice(0);return"flip"==n?r.flipEnable():!1===n?(r.flipEnable(1),a=[]):!0===n?(r.flipEnable(-1),a=[]):n.map(function(e){for(var n,o=0;o<a.length;o+=1)if(r.isDateExact(e,a[o])){n=!0;break}n||(i.isInteger(e)||i.isDate(e)||t.isArray(e)||t.isPlainObject(e)&&e.from&&e.to)&&a.push(e)}),a},n.prototype.activate=function(e,n){var r=this,a=r.item.disable,o=a.length;return"flip"==n?r.flipEnable():!0===n?(r.flipEnable(1),a=[]):!1===n?(r.flipEnable(-1),a=[]):n.map(function(e){var n,s,l,c;for(l=0;l<o;l+=1){if(s=a[l],r.isDateExact(s,e)){n=a[l]=null,c=!0;break}if(r.isDateOverlap(s,e)){t.isPlainObject(e)?(e.inverted=!0,n=e):t.isArray(e)?(n=e,n[3]||n.push("inverted")):i.isDate(e)&&(n=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}}if(n)for(l=0;l<o;l+=1)if(r.isDateExact(a[l],e)){a[l]=null;break}if(c)for(l=0;l<o;l+=1)if(r.isDateOverlap(a[l],e)){a[l]=null;break}n&&a.push(n)}),a.filter(function(e){return null!=e})},n.prototype.nodes=function(e){var t=this,n=t.settings,r=t.item,a=r.now,o=r.select,s=r.highlight,l=r.view,c=r.disable,u=r.min,d=r.max,h=function(e,t){return n.firstDay&&(e.push(e.shift()),t.push(t.shift())),i.node("thead",i.node("tr",i.group({min:0,max:6,i:1,node:"th",item:function(i){return[e[i],n.klass.weekdays,'scope=col title="'+t[i]+'"']}})))}((n.showWeekdaysFull?n.weekdaysFull:n.weekdaysShort).slice(0),n.weekdaysFull.slice(0)),p=function(e){return i.node("div"," ",n.klass["nav"+(e?"Next":"Prev")]+(e&&l.year>=d.year&&l.month>=d.month||!e&&l.year<=u.year&&l.month<=u.month?" "+n.klass.navDisabled:""),"data-nav="+(e||-1)+" "+i.ariaAttr({role:"button",controls:t.$node[0].id+"_table"})+' title="'+(e?n.labelMonthNext:n.labelMonthPrev)+'"')},f=function(){var r=n.showMonthsShort?n.monthsShort:n.monthsFull;return n.selectMonths?i.node("select",i.group({min:0,max:11,i:1,node:"option",item:function(e){return[r[e],0,"value="+e+(l.month==e?" selected":"")+(l.year==u.year&&e<u.month||l.year==d.year&&e>d.month?" disabled":"")]}}),n.klass.selectMonth,(e?"":"disabled")+" "+i.ariaAttr({controls:t.$node[0].id+"_table"})+' title="'+n.labelMonthSelect+'"'):i.node("div",r[l.month],n.klass.month)},g=function(){var r=l.year,a=!0===n.selectYears?5:~~(n.selectYears/2);if(a){var o=u.year,s=d.year,c=r-a,h=r+a;if(o>c&&(h+=o-c,c=o),s<h){var p=c-o,f=h-s;c-=p>f?f:p,h=s}return i.node("select",i.group({min:c,max:h,i:1,node:"option",item:function(e){return[e,0,"value="+e+(r==e?" selected":"")]}}),n.klass.selectYear,(e?"":"disabled")+" "+i.ariaAttr({controls:t.$node[0].id+"_table"})+' title="'+n.labelYearSelect+'"')}return i.node("div",r,n.klass.year)};return i.node("div",(n.selectYears?g()+f():f()+g())+p()+p(1),n.klass.header)+i.node("table",h+i.node("tbody",i.group({min:0,max:5,i:1,node:"tr",item:function(e){var r=n.firstDay&&0===t.create([l.year,l.month,1]).day?-7:0;return[i.group({min:7*e-l.day+r+1,max:function(){return this.min+7-1},i:1,node:"td",item:function(e){e=t.create([l.year,l.month,e+(n.firstDay?1:0)]);var r=o&&o.pick==e.pick,h=s&&s.pick==e.pick,p=c&&t.disabled(e)||e.pick<u.pick||e.pick>d.pick,f=i.trigger(t.formats.toString,t,[n.format,e]);return[i.node("div",e.date,function(t){return t.push(l.month==e.month?n.klass.infocus:n.klass.outfocus),a.pick==e.pick&&t.push(n.klass.now),r&&t.push(n.klass.selected),h&&t.push(n.klass.highlighted),p&&t.push(n.klass.disabled),t.join(" ")}([n.klass.day]),"data-pick="+e.pick+" "+i.ariaAttr({role:"gridcell",label:f,selected:!(!r||t.$node.val()!==f)||null,activedescendant:!!h||null,disabled:!!p||null})),"",i.ariaAttr({role:"presentation"})]}})]}})),n.klass.table,'id="'+t.$node[0].id+'_table" '+i.ariaAttr({role:"grid",controls:t.$node[0].id,readonly:!0}))+i.node("div",i.node("button",n.today,n.klass.buttonToday,"type=button data-pick="+a.pick+(e&&!t.disabled(a)?"":" disabled")+" "+i.ariaAttr({controls:t.$node[0].id}))+i.node("button",n.clear,n.klass.buttonClear,"type=button data-clear=1"+(e?"":" disabled")+" "+i.ariaAttr({controls:t.$node[0].id}))+i.node("button",n.close,n.klass.buttonClose,"type=button data-close=true "+(e?"":" disabled")+" "+i.ariaAttr({controls:t.$node[0].id})),n.klass.footer)},n.defaults=function(e){return{labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",close:"Close",closeOnSelect:!0,closeOnClear:!0,format:"d mmmm, yyyy",klass:{table:e+"table",header:e+"header",navPrev:e+"nav--prev",navNext:e+"nav--next",navDisabled:e+"nav--disabled",month:e+"month",year:e+"year",selectMonth:e+"select--month",selectYear:e+"select--year",weekdays:e+"weekday",day:e+"day",disabled:e+"day--disabled",selected:e+"day--selected",highlighted:e+"day--highlighted",now:e+"day--today",infocus:e+"day--infocus",outfocus:e+"day--outfocus",footer:e+"footer",buttonClear:e+"button--clear",buttonToday:e+"button--today",buttonClose:e+"button--close"}}}(e.klasses().picker+"__"),e.extend("pickadate",n)}),/*!
 * Time picker for pickadate.js v3.5.6
 * http://amsul.github.io/pickadate.js/time.htm
 */
function(e){"function"==typeof define&&define.amd?define(["picker","jquery"],e):"object"==typeof exports?module.exports=e(require("./picker.js"),require("jquery")):e(Picker,jQuery)}(function(e,t){function n(e,t){var n=this,i=e.$node[0].value,r=e.$node.data("value"),a=r||i,o=r?t.formatSubmit:t.format;n.settings=t,n.$node=e.$node,n.queue={interval:"i",min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse create validate",view:"parse create validate",disable:"deactivate",enable:"activate"},n.item={},n.item.clear=null,n.item.interval=t.interval||30,n.item.disable=(t.disable||[]).slice(0),n.item.enable=-function(e){return!0===e[0]?e.shift():-1}(n.item.disable),n.set("min",t.min).set("max",t.max).set("now"),a?n.set("select",a,{format:o}):n.set("select",null).set("highlight",n.item.now),n.key={40:1,38:-1,39:1,37:-1,go:function(e){n.set("highlight",n.item.highlight.pick+e*n.item.interval,{interval:e*n.item.interval}),this.render()}},e.on("render",function(){var n=e.$root.children(),i=n.find("."+t.klass.viewset),r=function(e){return["webkit","moz","ms","o",""].map(function(t){return(t?"-"+t+"-":"")+e})},a=function(e,t){r("transform").map(function(n){e.css(n,t)}),r("transition").map(function(n){e.css(n,t)})};i.length&&(a(n,"none"),n[0].scrollTop=~~i.position().top-2*i[0].clientHeight,a(n,""))},1).on("open",function(){e.$root.find("button").attr("disabled",!1)},1).on("close",function(){e.$root.find("button").attr("disabled",!0)},1)}var i=e._;n.prototype.set=function(e,t,n){var i=this,r=i.item;return null===t?("clear"==e&&(e="select"),r[e]=t,i):(r["enable"==e?"disable":"flip"==e?"enable":e]=i.queue[e].split(" ").map(function(r){return t=i[r](e,t,n)}).pop(),"select"==e?i.set("highlight",r.select,n):"highlight"==e?i.set("view",r.highlight,n):"interval"==e?i.set("min",r.min,n).set("max",r.max,n):e.match(/^(flip|min|max|disable|enable)$/)&&(r.select&&i.disabled(r.select)&&i.set("select",t,n),r.highlight&&i.disabled(r.highlight)&&i.set("highlight",t,n),"min"==e&&i.set("max",r.max,n)),i)},n.prototype.get=function(e){return this.item[e]},n.prototype.create=function(e,n,r){var a=this;return n=void 0===n?e:n,i.isDate(n)&&(n=[n.getHours(),n.getMinutes()]),t.isPlainObject(n)&&i.isInteger(n.pick)?n=n.pick:t.isArray(n)?n=60*+n[0]+ +n[1]:i.isInteger(n)||(n=a.now(e,n,r)),"max"==e&&n<a.item.min.pick&&(n+=1440),"min"!=e&&"max"!=e&&(n-a.item.min.pick)%a.item.interval!=0&&(n+=a.item.interval),n=a.normalize(e,n,r),{hour:~~(24+n/60)%24,mins:(60+n%60)%60,time:(1440+n)%1440,pick:n%1440}},n.prototype.createRange=function(e,n){var r=this,a=function(e){return!0===e||t.isArray(e)||i.isDate(e)?r.create(e):e};return i.isInteger(e)||(e=a(e)),i.isInteger(n)||(n=a(n)),i.isInteger(e)&&t.isPlainObject(n)?e=[n.hour,n.mins+e*r.settings.interval]:i.isInteger(n)&&t.isPlainObject(e)&&(n=[e.hour,e.mins+n*r.settings.interval]),{from:a(e),to:a(n)}},n.prototype.withinRange=function(e,t){return e=this.createRange(e.from,e.to),t.pick>=e.from.pick&&t.pick<=e.to.pick},n.prototype.overlapRanges=function(e,t){var n=this;return e=n.createRange(e.from,e.to),t=n.createRange(t.from,t.to),n.withinRange(e,t.from)||n.withinRange(e,t.to)||n.withinRange(t,e.from)||n.withinRange(t,e.to)},n.prototype.now=function(e,t){var n,r=this.item.interval,a=new Date,o=60*a.getHours()+a.getMinutes(),s=i.isInteger(t);return o-=o%r,n=t<0&&r*t+o<=-r,o+="min"==e&&n?0:r,s&&(o+=r*(n&&"max"!=e?t+1:t)),o},n.prototype.normalize=function(e,t){var n=this.item.interval,i=this.item.min&&this.item.min.pick||0;return t-="min"==e?0:(t-i)%n},n.prototype.measure=function(e,n,r){var a=this;return n||(n="min"==e?[0,0]:[23,59]),"string"==typeof n?n=a.parse(e,n):!0===n||i.isInteger(n)?n=a.now(e,n,r):t.isPlainObject(n)&&i.isInteger(n.pick)&&(n=a.normalize(e,n.pick,r)),n},n.prototype.validate=function(e,t,n){var i=this,r=n&&n.interval?n.interval:i.item.interval;return i.disabled(t)&&(t=i.shift(t,r)),t=i.scope(t),i.disabled(t)&&(t=i.shift(t,-1*r)),t},n.prototype.disabled=function(e){var n=this,r=n.item.disable.filter(function(r){return i.isInteger(r)?e.hour==r:t.isArray(r)||i.isDate(r)?e.pick==n.create(r).pick:t.isPlainObject(r)?n.withinRange(r,e):void 0});return r=r.length&&!r.filter(function(e){return t.isArray(e)&&"inverted"==e[2]||t.isPlainObject(e)&&e.inverted}).length,-1===n.item.enable?!r:r||e.pick<n.item.min.pick||e.pick>n.item.max.pick},n.prototype.shift=function(e,t){var n=this,i=n.item.min.pick,r=n.item.max.pick;for(t=t||n.item.interval;n.disabled(e)&&(e=n.create(e.pick+=t),!(e.pick<=i||e.pick>=r)););return e},n.prototype.scope=function(e){var t=this.item.min.pick,n=this.item.max.pick;return this.create(e.pick>n?n:e.pick<t?t:e)},n.prototype.parse=function(e,t,n){var r,a,o,s,l,c=this,u={};if(!t||"string"!=typeof t)return t;n&&n.format||(n=n||{},n.format=c.settings.format),c.formats.toArray(n.format).map(function(e){var n,r=c.formats[e],a=r?i.trigger(r,c,[t,u]):e.replace(/^!/,"").length;r&&(n=t.substr(0,a),u[e]=n.match(/^\d+$/)?+n:n),t=t.substr(a)});for(s in u)l=u[s],i.isInteger(l)?s.match(/^(h|hh)$/i)?(r=l,"h"!=s&&"hh"!=s||(r%=12)):"i"==s&&(a=l):s.match(/^a$/i)&&l.match(/^p/i)&&("h"in u||"hh"in u)&&(o=!0);return 60*(o?r+12:r)+a},n.prototype.formats={h:function(e,t){return e?i.digits(e):t.hour%12||12},hh:function(e,t){return e?2:i.lead(t.hour%12||12)},H:function(e,t){return e?i.digits(e):""+t.hour%24},HH:function(e,t){return e?i.digits(e):i.lead(t.hour%24)},i:function(e,t){return e?2:i.lead(t.mins)},a:function(e,t){return e?4:720>t.time%1440?"a.m.":"p.m."},A:function(e,t){return e?2:720>t.time%1440?"AM":"PM"},toArray:function(e){return e.split(/(h{1,2}|H{1,2}|i|a|A|!.)/g)},toString:function(e,t){var n=this;return n.formats.toArray(e).map(function(e){return i.trigger(n.formats[e],n,[0,t])||e.replace(/^!/,"")}).join("")}},n.prototype.isTimeExact=function(e,n){var r=this;return i.isInteger(e)&&i.isInteger(n)||"boolean"==typeof e&&"boolean"==typeof n?e===n:(i.isDate(e)||t.isArray(e))&&(i.isDate(n)||t.isArray(n))?r.create(e).pick===r.create(n).pick:!(!t.isPlainObject(e)||!t.isPlainObject(n))&&(r.isTimeExact(e.from,n.from)&&r.isTimeExact(e.to,n.to))},n.prototype.isTimeOverlap=function(e,n){var r=this;return i.isInteger(e)&&(i.isDate(n)||t.isArray(n))?e===r.create(n).hour:i.isInteger(n)&&(i.isDate(e)||t.isArray(e))?n===r.create(e).hour:!(!t.isPlainObject(e)||!t.isPlainObject(n))&&r.overlapRanges(e,n)},n.prototype.flipEnable=function(e){var t=this.item;t.enable=e||(-1==t.enable?1:-1)},n.prototype.deactivate=function(e,n){var r=this,a=r.item.disable.slice(0);return"flip"==n?r.flipEnable():!1===n?(r.flipEnable(1),a=[]):!0===n?(r.flipEnable(-1),a=[]):n.map(function(e){for(var n,o=0;o<a.length;o+=1)if(r.isTimeExact(e,a[o])){n=!0;break}n||(i.isInteger(e)||i.isDate(e)||t.isArray(e)||t.isPlainObject(e)&&e.from&&e.to)&&a.push(e)}),a},n.prototype.activate=function(e,n){var r=this,a=r.item.disable,o=a.length;return"flip"==n?r.flipEnable():!0===n?(r.flipEnable(1),a=[]):!1===n?(r.flipEnable(-1),a=[]):n.map(function(e){var n,s,l,c;for(l=0;l<o;l+=1){if(s=a[l],r.isTimeExact(s,e)){n=a[l]=null,c=!0;break}if(r.isTimeOverlap(s,e)){t.isPlainObject(e)?(e.inverted=!0,n=e):t.isArray(e)?(n=e,n[2]||n.push("inverted")):i.isDate(e)&&(n=[e.getFullYear(),e.getMonth(),e.getDate(),"inverted"]);break}}if(n)for(l=0;l<o;l+=1)if(r.isTimeExact(a[l],e)){a[l]=null;break}if(c)for(l=0;l<o;l+=1)if(r.isTimeOverlap(a[l],e)){a[l]=null;break}n&&a.push(n)}),a.filter(function(e){return null!=e})},n.prototype.i=function(e,t){return i.isInteger(t)&&t>0?t:this.item.interval},n.prototype.nodes=function(e){var t=this,n=t.settings,r=t.item.select,a=t.item.highlight,o=t.item.view,s=t.item.disable;return i.node("ul",i.group({min:t.item.min.pick,max:t.item.max.pick,i:t.item.interval,node:"li",item:function(e){e=t.create(e);var l=e.pick,c=r&&r.pick==l,u=a&&a.pick==l,d=s&&t.disabled(e),h=i.trigger(t.formats.toString,t,[n.format,e]);return[i.trigger(t.formats.toString,t,[i.trigger(n.formatLabel,t,[e])||n.format,e]),function(e){return c&&e.push(n.klass.selected),u&&e.push(n.klass.highlighted),o&&o.pick==l&&e.push(n.klass.viewset),d&&e.push(n.klass.disabled),e.join(" ")}([n.klass.listItem]),"data-pick="+e.pick+" "+i.ariaAttr({role:"option",label:h,selected:!(!c||t.$node.val()!==h)||null,activedescendant:!!u||null,disabled:!!d||null})]}})+i.node("li",i.node("button",n.clear,n.klass.buttonClear,"type=button data-clear=1"+(e?"":" disabled")+" "+i.ariaAttr({controls:t.$node[0].id})),"",i.ariaAttr({role:"presentation"})),n.klass.list,i.ariaAttr({role:"listbox",controls:t.$node[0].id}))},n.defaults=function(e){return{clear:"Clear",format:"h:i A",interval:30,closeOnSelect:!0,closeOnClear:!0,klass:{picker:e+" "+e+"--time",holder:e+"__holder",list:e+"__list",listItem:e+"__list-item",disabled:e+"__list-item--disabled",selected:e+"__list-item--selected",highlighted:e+"__list-item--highlighted",viewset:e+"__list-item--viewset",now:e+"__list-item--now",buttonClear:e+"__button--clear"}}}(e.klasses().picker),e.extend("pickatime",n)}),angular.module("schemaForm").run(["$templateCache",function(e){e.put("directives/decorators/bootstrap/datepicker/datepicker.html",'<div class="form-group {{form.htmlClass}}" ng-class="{\'has-error\': hasError()}"><label class="control-label {{form.labelHtmlClass}}" ng-show="showTitle()">{{form.title}}</label><div ng-class="{\'input-group\': (form.fieldAddonLeft || form.fieldAddonRight)}"><span ng-if="form.fieldAddonLeft" class="input-group-addon" ng-bind-html="form.fieldAddonLeft"></span> <input ng-show="form.key" type="text" class="form-control {{form.fieldHtmlClass}}" schema-validate="form" ng-model="$$value$$" ng-disabled="form.readonly" pick-a-date="form.pickadate" min-date="form.minDate" max-date="form.maxDate" select-years="form.selectYears" select-months="form.selectMonths" name="{{form.key.slice(-1)[0]}}" format="form.format"> <span ng-if="form.fieldAddonRight" class="input-group-addon" ng-bind-html="form.fieldAddonRight"></span></div><span class="help-block">{{ (hasError() && errorMessage(schemaError())) || form.description}}</span></div>')}]),angular.module("schemaForm").directive("pickADate",function(){var e=function(e){return angular.isString(e)||angular.isNumber(e)?new Date(e):e};return{restrict:"A",require:"ngModel",scope:{ngModel:"=",pickADate:"=",minDate:"=",maxDate:"=",format:"=",selectYears:"=?",selectMonths:"=?"},link:function(t,n,i,r){if(n.pickadate){var a={onClose:function(){n.blur()},formatSubmit:null,selectYears:t.selectYears||!1,selectMonths:t.selectMonths||!1};t.pickADate&&angular.extend(a,t.pickADate),n.pickadate(a);var o="yyyy-mm-dd",s=$.fn.pickadate.defaults.format,l=n.pickadate("picker");if(r.$formatters.push(function(e){return angular.isUndefined(e)||null===e?e:(l.set("view",e,{format:t.format||o}),l.set("highlight",e,{format:t.format||o}),l.get("highlight",s))}),r.$parsers.push(function(){return l.get("select",t.format||o)}),angular.isDefined(i.minDate))var c=t.$watch("minDate",function(t){t&&(l.set("min",e(t)),c())},!0);if(angular.isDefined(i.maxDate))var u=t.$watch("maxDate",function(t){t&&(l.set("max",e(t)),u())},!0)}}}}),angular.module("schemaForm").config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider",function(e,t,n){var i=function(t,i,r){if("string"===i.type&&("date"===i.format||"date-time"===i.format)){var a=e.stdFormObj(t,i,r);return a.key=r.path,a.type="datepicker",r.lookup[n.stringify(r.path)]=a,a}};e.defaults.string.unshift(i),t.addMapping("bootstrapDecorator","datepicker","directives/decorators/bootstrap/datepicker/datepicker.html"),t.createDirective("datepicker","directives/decorators/bootstrap/datepicker/datepicker.html")}]),/**
 * Bunch of useful filters for angularJS(with no external dependencies!)
 * @version v0.5.17 - 2017-09-22 * @link https://github.com/a8m/angular-filter
 * @author Ariel Mashraki <ariel@mashraki.co.il>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
function(e,t,n){"use strict";function i(e){return M(e)?e:Object.keys(e).map(function(t){return e[t]})}function r(e){return null===e}function a(e,t){return-1==Object.keys(e).map(function(i){return t[i]!==n&&t[i]==e[i]}).indexOf(!1)}function o(e,t){for(var n=0,i=0;i<=t.length;i++){var r=function(e,t,n){for(var i=0;t+i<=e.length;){if(e.charAt(t+i)==n)return i;i++}return-1}(e,n,t.charAt(i));if(-1==r)return!1;n+=r+1}return!0}function s(e,t,n){var i=0;return e.filter(function(e){var r=C(n)?i<t&&n(e):i<t;return i=r?i+1:i,r})}function l(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function c(e,t,n){return t=t||[],Object.keys(e).forEach(function(i){if(E(e[i])&&!M(e[i])){var r=n?n+"."+i:n;c(e[i],t,r||i)}else{var a=n?n+"."+i:i;t.push(a)}}),t}function u(e){return e&&e.$evalAsync&&e.$watch}function d(){return function(e,t){return e>t}}function h(){return function(e,t){return e>=t}}function p(){return function(e,t){return e<t}}function f(){return function(e,t){return e<=t}}function g(){return function(e,t){return e==t}}function m(){return function(e,t){return e!=t}}function v(){return function(e,t){return e===t}}function b(){return function(e,t){return e!==t}}function y(e){return function(t,n){return t=E(t)?i(t):t,!(!M(t)||S(n))&&t.some(function(t){return D(n)&&E(t)||$(n)?e(n)(t):t===n})}}function w(e,t){return t=t||0,t>=e.length?e:M(e[t])?w(e.slice(0,t).concat(e[t],e.slice(t+1)),t):w(e,t+1)}function x(e){return function(t,n){function r(e,t){return!S(t)&&e.some(function(e){return I(e,t)})}if(t=E(t)?i(t):t,!M(t))return t;var a=[],o=e(n);return S(n)?t.filter(function(e,t,n){return n.indexOf(e)===t}):t.filter(function(e){var t=o(e);return!r(a,t)&&(a.push(t),!0)})}}function _(e,t,n){return t?e+n+_(e,--t,n):e}function k(){return function(e){return D(e)?e.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.substring(1)}).join(" "):e}}var C=t.isDefined,S=t.isUndefined,$=t.isFunction,D=t.isString,T=t.isNumber,E=t.isObject,M=t.isArray,A=t.forEach,O=t.extend,P=t.copy,I=t.equals;String.prototype.contains||(String.prototype.contains=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),t.module("a8m.angular",[]).filter("isUndefined",function(){return function(e){return t.isUndefined(e)}}).filter("isDefined",function(){return function(e){return t.isDefined(e)}}).filter("isFunction",function(){return function(e){return t.isFunction(e)}}).filter("isString",function(){return function(e){return t.isString(e)}}).filter("isNumber",function(){return function(e){return t.isNumber(e)}}).filter("isArray",function(){return function(e){return t.isArray(e)}}).filter("isObject",function(){return function(e){return t.isObject(e)}}).filter("isEqual",function(){return function(e,n){return t.equals(e,n)}}),t.module("a8m.conditions",[]).filter({isGreaterThan:d,">":d,isGreaterThanOrEqualTo:h,">=":h,isLessThan:p,"<":p,isLessThanOrEqualTo:f,"<=":f,isEqualTo:g,"==":g,isNotEqualTo:m,"!=":m,isIdenticalTo:v,"===":v,isNotIdenticalTo:b,"!==":b}),t.module("a8m.is-null",[]).filter("isNull",function(){return function(e){return r(e)}}),t.module("a8m.after-where",[]).filter("afterWhere",function(){return function(e,t){if(e=E(e)?i(e):e,!M(e)||S(t))return e;var n=e.map(function(e){return a(t,e)}).indexOf(!0);return e.slice(-1===n?0:n)}}),t.module("a8m.after",[]).filter("after",function(){return function(e,t){return e=E(e)?i(e):e,M(e)?e.slice(t):e}}),t.module("a8m.before-where",[]).filter("beforeWhere",function(){return function(e,t){if(e=E(e)?i(e):e,!M(e)||S(t))return e;var n=e.map(function(e){return a(t,e)}).indexOf(!0);return e.slice(0,-1===n?e.length:++n)}}),t.module("a8m.before",[]).filter("before",function(){return function(e,t){return e=E(e)?i(e):e,M(e)?e.slice(0,t?--t:t):e}}),t.module("a8m.chunk-by",["a8m.filter-watcher"]).filter("chunkBy",["filterWatcher",function(e){return function(t,n,i){function r(e,t){for(var n=[];e--;)n[e]=t;return n}return e.isMemoized("chunkBy",arguments)||e.memoize("chunkBy",arguments,this,function(e,t,n){return M(e)?e.map(function(e,i,a){return i*=t,e=a.slice(i,i+t),!S(n)&&e.length<t?e.concat(r(t-e.length,n)):e}).slice(0,Math.ceil(e.length/t)):e}(t,n,i))}}]),t.module("a8m.concat",[]).filter("concat",[function(){return function(e,t){if(S(t))return e;if(M(e))return E(t)?e.concat(i(t)):e.concat(t);if(E(e)){var n=i(e);return E(t)?n.concat(i(t)):n.concat(t)}return e}}]),t.module("a8m.contains",[]).filter({contains:["$parse",y],some:["$parse",y]}),t.module("a8m.count-by",[]).filter("countBy",["$parse",function(e){return function(t,n){var r,a={},o=e(n);return t=E(t)?i(t):t,!M(t)||S(n)?t:(t.forEach(function(e){r=o(e),a[r]||(a[r]=0),a[r]++}),a)}}]),t.module("a8m.defaults",[]).filter("defaults",["$parse",function(e){return function(t,n){if(t=E(t)?i(t):t,!M(t)||!E(n))return t;var r=c(n);return t.forEach(function(t){r.forEach(function(i){var r=e(i),a=r.assign;S(r(t))&&a(t,r(n))})}),t}}]),t.module("a8m.every",[]).filter("every",["$parse",function(e){return function(t,n){return t=E(t)?i(t):t,!(M(t)&&!S(n))||t.every(function(t){return E(t)||$(n)?e(n)(t):t===n})}}]),t.module("a8m.filter-by",[]).filter("filterBy",["$parse",function(e){return function(t,r,a,o){var s;return a=D(a)||T(a)?String(a).toLowerCase():n,t=E(t)?i(t):t,!M(t)||S(a)?t:t.filter(function(t){return r.some(function(n){if(~n.indexOf("+")){var i=n.replace(/\s+/g,"").split("+");s=i.map(function(n){return e(n)(t)}).join(" ")}else s=e(n)(t);return!(!D(s)&&!T(s))&&(s=String(s).toLowerCase(),o?s===a:s.contains(a))})})}}]),t.module("a8m.first",[]).filter("first",["$parse",function(e){return function(t){var r,a,o;return t=E(t)?i(t):t,M(t)?(o=Array.prototype.slice.call(arguments,1),r=T(o[0])?o[0]:1,a=T(o[0])?T(o[1])?n:o[1]:o[0],o.length?s(t,r,a?e(a):a):t[0]):t}}]),t.module("a8m.flatten",[]).filter("flatten",function(){return function(e,t){return t=t||!1,e=E(e)?i(e):e,M(e)?t?[].concat.apply([],e):w(e,0):e}}),t.module("a8m.fuzzy-by",[]).filter("fuzzyBy",["$parse",function(e){return function(t,n,r,a){var s,l,c=a||!1;return t=E(t)?i(t):t,!M(t)||S(n)||S(r)?t:(l=e(n),t.filter(function(e){return s=l(e),!!D(s)&&(s=c?s:s.toLowerCase(),r=c?r:r.toLowerCase(),!1!==o(s,r))}))}}]),t.module("a8m.fuzzy",[]).filter("fuzzy",function(){return function(e,t,n){function r(e,t){var n,i,r=Object.keys(e);return 0<r.filter(function(r){return n=e[r],!!i||!!D(n)&&(n=a?n:n.toLowerCase(),i=!1!==o(n,t))}).length}var a=n||!1;return e=E(e)?i(e):e,!M(e)||S(t)?e:(t=a?t:t.toLowerCase(),e.filter(function(e){return D(e)?(e=a?e:e.toLowerCase(),!1!==o(e,t)):!!E(e)&&r(e,t)}))}}),t.module("a8m.group-by",["a8m.filter-watcher"]).filter("groupBy",["$parse","filterWatcher",function(e,t){return function(n,i){return!E(n)||S(i)?n:t.isMemoized("groupBy",arguments)||t.memoize("groupBy",arguments,this,function(e,t){var n,i={};return A(e,function(e){n=t(e),i[n]||(i[n]=[]),i[n].push(e)}),i}(n,e(i)))}}]),t.module("a8m.is-empty",[]).filter("isEmpty",function(){return function(e){return E(e)?!i(e).length:!e.length}}),t.module("a8m.join",[]).filter("join",function(){return function(e,t){return S(e)||!M(e)?e:(S(t)&&(t=" "),e.join(t))}}),t.module("a8m.last",[]).filter("last",["$parse",function(e){return function(t){var r,a,o,l=P(t);return l=E(l)?i(l):l,M(l)?(o=Array.prototype.slice.call(arguments,1),r=T(o[0])?o[0]:1,a=T(o[0])?T(o[1])?n:o[1]:o[0],o.length?s(l.reverse(),r,a?e(a):a).reverse():l[l.length-1]):l}}]),t.module("a8m.map",[]).filter("map",["$parse",function(e){return function(t,n){return t=E(t)?i(t):t,!M(t)||S(n)?t:t.map(function(t){return e(n)(t)})}}]),t.module("a8m.omit",[]).filter("omit",["$parse",function(e){return function(t,n){return t=E(t)?i(t):t,!M(t)||S(n)?t:t.filter(function(t){return!e(n)(t)})}}]),t.module("a8m.pick",[]).filter("pick",["$parse",function(e){return function(t,n){return t=E(t)?i(t):t,!M(t)||S(n)?t:t.filter(function(t){return e(n)(t)})}}]),t.module("a8m.range",[]).filter("range",function(){return function(e,t,n,i,r){n=n||0,i=i||1;for(var a=0;a<parseInt(t);a++){var o=n+a*i;e.push($(r)?r(o):o)}return e}}),t.module("a8m.remove-with",[]).filter("removeWith",function(){return function(e,t){return S(t)?e:(e=E(e)?i(e):e,e.filter(function(e){return!a(t,e)}))}}),t.module("a8m.remove",[]).filter("remove",function(){return function(e){e=E(e)?i(e):e;var t=Array.prototype.slice.call(arguments,1);return M(e)?e.filter(function(e){return!t.some(function(t){return I(t,e)})}):e}}),t.module("a8m.reverse",[]).filter("reverse",[function(){return function(e){return e=E(e)?i(e):e,D(e)?e.split("").reverse().join(""):M(e)?e.slice().reverse():e}}]),t.module("a8m.search-field",[]).filter("searchField",["$parse",function(e){return function(t){var n,r;t=E(t)?i(t):t;var a=Array.prototype.slice.call(arguments,1);return M(t)&&a.length?t.map(function(t){return r=a.map(function(i){return(n=e(i))(t)}).join(" "),O(t,{searchField:r})}):t}}]),t.module("a8m.to-array",[]).filter("toArray",function(){return function(e,t){return E(e)?t?Object.keys(e).map(function(t){return O(e[t],{$key:t})}):i(e):e}}),t.module("a8m.unique",[]).filter({unique:["$parse",x],uniq:["$parse",x]}),t.module("a8m.where",[]).filter("where",function(){return function(e,t){return S(t)?e:(e=E(e)?i(e):e,e.filter(function(e){return a(t,e)}))}}),t.module("a8m.xor",[]).filter("xor",["$parse",function(e){return function(t,n,r){function a(t,n){var i=e(r);return n.some(function(e){return r?I(i(e),i(t)):I(e,t)})}return r=r||!1,t=E(t)?i(t):t,n=E(n)?i(n):n,M(t)&&M(n)?t.concat(n).filter(function(e){return!(a(e,t)&&a(e,n))}):t}}]),t.module("a8m.math.abs",[]).filter("abs",function(){return function(e){return Math.abs(e)}}),t.module("a8m.math.byteFmt",[]).filter("byteFmt",function(){var e=[{str:"B",val:1024}];return["KB","MB","GB","TB","PB","EB","ZB","YB"].forEach(function(t,n){e.push({str:t,val:1024*e[n].val})}),function(t,n){if(T(n)&&isFinite(n)&&n%1==0&&n>=0&&T(t)&&isFinite(t)){for(var i=0;i<e.length-1&&t>=e[i].val;)i++;return t/=i>0?e[i-1].val:1,l(t,n)+" "+e[i].str}return"NaN"}}),t.module("a8m.math.degrees",[]).filter("degrees",function(){return function(e,t){if(T(t)&&isFinite(t)&&t%1==0&&t>=0&&T(e)&&isFinite(e)){var n=180*e/Math.PI;return Math.round(n*Math.pow(10,t))/Math.pow(10,t)}return"NaN"}}),t.module("a8m.math.kbFmt",[]).filter("kbFmt",function(){var e=[{str:"KB",val:1024}];return["MB","GB","TB","PB","EB","ZB","YB"].forEach(function(t,n){e.push({str:t,val:1024*e[n].val})}),function(t,n){if(T(n)&&isFinite(n)&&n%1==0&&n>=0&&T(t)&&isFinite(t)){for(var i=0;i<e.length-1&&t>=e[i].val;)i++;return t/=i>0?e[i-1].val:1,l(t,n)+" "+e[i].str}return"NaN"}}),t.module("a8m.math.max",[]).filter("max",["$parse",function(e){function t(t,n){var i=t.map(function(t){return e(n)(t)});return i.indexOf(Math.max.apply(Math,i))}return function(e,n){return M(e)?S(n)?Math.max.apply(Math,e):e[t(e,n)]:e}}]),t.module("a8m.math.min",[]).filter("min",["$parse",function(e){function t(t,n){var i=t.map(function(t){return e(n)(t)});return i.indexOf(Math.min.apply(Math,i))}return function(e,n){return M(e)?S(n)?Math.min.apply(Math,e):e[t(e,n)]:e}}]),t.module("a8m.math.percent",[]).filter("percent",function(){return function(e,t,n){var i=D(e)?Number(e):e;return t=t||100,n=n||!1,!T(i)||isNaN(i)?e:n?Math.round(i/t*100):i/t*100}}),t.module("a8m.math.radians",[]).filter("radians",function(){return function(e,t){if(T(t)&&isFinite(t)&&t%1==0&&t>=0&&T(e)&&isFinite(e)){var n=3.14159265359*e/180;return Math.round(n*Math.pow(10,t))/Math.pow(10,t)}return"NaN"}}),t.module("a8m.math.radix",[]).filter("radix",function(){return function(e,t){var n=/^[2-9]$|^[1-2]\d$|^3[0-6]$/;return T(e)&&n.test(t)?e.toString(t).toUpperCase():e}}),t.module("a8m.math.shortFmt",[]).filter("shortFmt",function(){return function(e,t){return T(t)&&isFinite(t)&&t%1==0&&t>=0&&T(e)&&isFinite(e)?e<1e3?""+e:e<1e6?l(e/1e3,t)+" K":e<1e9?l(e/1e6,t)+" M":l(e/1e9,t)+" B":"NaN"}}),t.module("a8m.math.sum",[]).filter("sum",function(){return function(e,t){return M(e)?e.reduce(function(e,t){return e+t},t||0):e}}),t.module("a8m.ends-with",[]).filter("endsWith",function(){return function(e,t,n){var i,r=n||!1;return!D(e)||S(t)?e:(e=r?e:e.toLowerCase(),i=e.length-t.length,-1!==e.indexOf(r?t:t.toLowerCase(),i))}}),t.module("a8m.latinize",[]).filter("latinize",[function(){function e(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return n[e]||e})}for(var t=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"OE",letters:"Œ"},{base:"oe",letters:"œ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],n={},i=0;i<t.length;i++)for(var r=t[i].letters.split(""),a=0;a<r.length;a++)n[r[a]]=t[i].base;return function(t){return D(t)?e(t):t}}]),t.module("a8m.ltrim",[]).filter("ltrim",function(){return function(e,t){var n=t||"\\s";return D(e)?e.replace(new RegExp("^"+n+"+"),""):e}}),t.module("a8m.match",[]).filter("match",function(){return function(e,t,n){var i=new RegExp(t,n);return D(e)?e.match(i):null}}),t.module("a8m.phoneUS",[]).filter("phoneUS",function(){return function(e){return e+="","("+e.slice(0,3)+") "+e.slice(3,6)+"-"+e.slice(6)}}),t.module("a8m.repeat",[]).filter("repeat",[function(){return function(e,t,n){var i=~~t;return D(e)&&i?_(e,--t,n||""):e}}]),t.module("a8m.rtrim",[]).filter("rtrim",function(){return function(e,t){var n=t||"\\s";return D(e)?e.replace(new RegExp(n+"+$"),""):e}}),t.module("a8m.slugify",[]).filter("slugify",[function(){return function(e,t){var n=S(t)?"-":t;return D(e)?e.toLowerCase().replace(/\s+/g,n):e}}]),t.module("a8m.split",[]).filter("split",function(){function e(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}return function(t,n,i){var a,o,s,l;return S(t)||!D(t)?null:(S(n)&&(n=""),isNaN(i)&&(i=0),a=new RegExp(e(n),"g"),o=t.match(a),r(o)||i>=o.length?[t]:0===i?t.split(n):(s=t.split(n),l=s.splice(0,i+1),s.unshift(l.join(n)),s))}}),t.module("a8m.starts-with",[]).filter("startsWith",function(){return function(e,t,n){var i=n||!1;return!D(e)||S(t)?e:(e=i?e:e.toLowerCase(),!e.indexOf(i?t:t.toLowerCase()))}}),t.module("a8m.stringular",[]).filter("stringular",function(){return function(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,n){return S(t[n])?e:t[n]})}}),t.module("a8m.strip-tags",[]).filter("stripTags",function(){return function(e){return D(e)?e.replace(/<\S[^><]*>/g,""):e}}),t.module("a8m.test",[]).filter("test",function(){return function(e,t,n){var i=new RegExp(t,n);return D(e)?i.test(e):e}}),t.module("a8m.trim",[]).filter("trim",function(){return function(e,t){var n=t||"\\s";return D(e)?e.replace(new RegExp("^"+n+"+|"+n+"+$","g"),""):e}}),t.module("a8m.truncate",[]).filter("truncate",function(){return function(e,t,n,i){return t=S(t)?e.length:t,i=i||!1,n=n||"",!D(e)||e.length<=t?e:e.substring(0,i?-1===e.indexOf(" ",t)?e.length:e.indexOf(" ",t):t)+n}}),t.module("a8m.ucfirst",[]).filter({ucfirst:k,titleize:k}),t.module("a8m.uri-component-encode",[]).filter("uriComponentEncode",["$window",function(e){return function(t){return D(t)?e.encodeURIComponent(t):t}}]),t.module("a8m.uri-encode",[]).filter("uriEncode",["$window",function(e){return function(t){return D(t)?e.encodeURI(t):t}}]),t.module("a8m.wrap",[]).filter("wrap",function(){return function(e,t,n){return D(e)&&C(t)?[t,e,n||t].join(""):e}}),t.module("a8m.filter-watcher",[]).provider("filterWatcher",function(){this.$get=["$window","$rootScope",function(e,t){function n(t,n){return[t,JSON.stringify(n,function(){var t=[];return function(n,i){if(E(i)&&!r(i)){if(~t.indexOf(i))return"[Circular]";t.push(i)}return e==i?"$WINDOW":e.document==i?"$DOCUMENT":u(i)?"$SCOPE":i}}())].join("#").replace(/"/g,"")}function i(e){var t=e.targetScope.$id;A(d[t],function(e){delete c[e]}),delete d[t]}function a(){h(function(){t.$$phase||(c={})},2e3)}function o(e,t){var n=e.$id;return S(d[n])&&(e.$on("$destroy",i),d[n]=[]),d[n].push(t)}function s(e,t){var i=n(e,t);return c[i]}function l(e,t,i,r){var s=n(e,t);return c[s]=r,u(i)?o(i,s):a(),r}var c={},d={},h=e.setTimeout;return{isMemoized:s,memoize:l}}]}),t.module("angular.filter",["a8m.ucfirst","a8m.uri-encode","a8m.uri-component-encode","a8m.slugify","a8m.latinize","a8m.strip-tags","a8m.stringular","a8m.truncate","a8m.starts-with","a8m.ends-with","a8m.wrap","a8m.trim","a8m.ltrim","a8m.rtrim","a8m.repeat","a8m.test","a8m.match","a8m.split","a8m.phoneUS","a8m.to-array","a8m.concat","a8m.contains","a8m.unique","a8m.is-empty","a8m.after","a8m.after-where","a8m.before","a8m.before-where","a8m.defaults","a8m.where","a8m.reverse","a8m.remove","a8m.remove-with","a8m.group-by","a8m.count-by","a8m.chunk-by","a8m.search-field","a8m.fuzzy-by","a8m.fuzzy","a8m.omit","a8m.pick","a8m.every","a8m.filter-by","a8m.xor","a8m.map","a8m.first","a8m.last","a8m.flatten","a8m.join","a8m.range","a8m.math.max","a8m.math.min","a8m.math.abs","a8m.math.percent","a8m.math.radix","a8m.math.sum","a8m.math.degrees","a8m.math.radians","a8m.math.byteFmt","a8m.math.kbFmt","a8m.math.shortFmt","a8m.angular","a8m.conditions","a8m.is-null","a8m.filter-watcher"])}(window,window.angular),!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(e){return function(t,n){if("__setXHR_"===t){var i=n(this);i instanceof Function&&i(this)}else e.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var ngFileUpload=angular.module("ngFileUpload",[]);ngFileUpload.version="12.2.13",ngFileUpload.service("UploadBase",["$http","$q","$timeout",function(e,t,n){function i(i){function r(e){c.notify&&c.notify(e),u.progressFunc&&n(function(){u.progressFunc(e)})}function s(e){return null!=i._start&&o?{loaded:e.loaded+i._start,total:i._file&&i._file.size||e.total,type:e.type,config:i,lengthComputable:!0,target:e.target}:e}function l(){e(i).then(function(e){if(o&&i._chunkSize&&!i._finished&&i._file){var t=i._file&&i._file.size||0;r({loaded:Math.min(i._end,t),total:t,config:i,type:"progress"}),a.upload(i,!0)}else i._finished&&delete i._finished,c.resolve(e)},function(e){c.reject(e)},function(e){c.notify(e)})}i.method=i.method||"POST",i.headers=i.headers||{};var c=i._deferred=i._deferred||t.defer(),u=c.promise;return i.disableProgress||(i.headers.__setXHR_=function(){return function(e){e&&e.upload&&e.upload.addEventListener&&(i.__XHR=e,i.xhrFn&&i.xhrFn(e),e.upload.addEventListener("progress",function(e){e.config=i,r(s(e))},!1),e.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=i,r(s(e)))},!1))}}),o?i._chunkSize&&i._end&&!i._finished?(i._start=i._end,i._end+=i._chunkSize,l()):i.resumeSizeUrl?e.get(i.resumeSizeUrl).then(function(e){i.resumeSizeResponseReader?i._start=i.resumeSizeResponseReader(e.data):i._start=parseInt((null==e.data.size?e.data:e.data.size).toString()),i._chunkSize&&(i._end=i._start+i._chunkSize),l()},function(e){throw e}):i.resumeSize?i.resumeSize().then(function(e){i._start=e,i._chunkSize&&(i._end=i._start+i._chunkSize),l()},function(e){throw e}):(i._chunkSize&&(i._start=0,i._end=i._start+i._chunkSize),l()):l(),u.success=function(e){return u.then(function(t){e(t.data,t.status,t.headers,i)}),u},u.error=function(e){return u.then(null,function(t){e(t.data,t.status,t.headers,i)}),u},u.progress=function(e){return u.progressFunc=e,u.then(null,null,function(t){e(t)}),u},u.abort=u.pause=function(){return i.__XHR&&n(function(){i.__XHR.abort()}),u},u.xhr=function(e){return i.xhrFn=function(t){return function(){t&&t.apply(u,arguments),e.apply(u,arguments)}}(i.xhrFn),u},a.promisesCount++,u.finally&&u.finally instanceof Function&&u.finally(function(){a.promisesCount--}),u}function r(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var a=this;a.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var o=this.isResumeSupported();this.isUploadInProgress=function(){return a.promisesCount>0},this.rename=function(e,t){return e.ngfName=t,e},this.jsonBlob=function(e){null==e||angular.isString(e)||(e=JSON.stringify(e));var t=new window.Blob([e],{type:"application/json"});return t._ngfBlob=!0,t},this.json=function(e){return angular.toJson(e)},this.isFile=function(e){return null!=e&&(e instanceof window.Blob||e.flashId&&e.name&&e.size)},this.upload=function(e,t){function n(t,n){if(t._ngfBlob)return t;if(e._file=e._file||t,null!=e._start&&o){e._end&&e._end>=t.size&&(e._finished=!0,e._end=t.size);var i=t.slice(e._start,e._end||t.size);return i.name=t.name,i.ngfName=t.ngfName,e._chunkSize&&(n.append("_chunkSize",e._chunkSize),n.append("_currentChunkSize",e._end-e._start),n.append("_chunkNumber",Math.floor(e._start/e._chunkSize)),n.append("_totalSize",e._file.size)),i}return t}function s(t,i,r){if(void 0!==i)if(angular.isDate(i)&&(i=i.toISOString()),angular.isString(i))t.append(r,i);else if(a.isFile(i)){var o=n(i,t),l=r.split(",");l[1]&&(o.ngfName=l[1].replace(/^\s+|\s+$/g,""),r=l[0]),e._fileKey=e._fileKey||r,t.append(r,o,o.ngfName||o.name)}else if(angular.isObject(i)){if(i.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+r;i.$$ngfCircularDetection=!0;try{for(var c in i)if(i.hasOwnProperty(c)&&"$$ngfCircularDetection"!==c){var u=null==e.objectKey?"[i]":e.objectKey;i.length&&parseInt(c)>-1&&(u=null==e.arrayKey?u:e.arrayKey),s(t,i[c],r+u.replace(/[ik]/g,c))}}finally{delete i.$$ngfCircularDetection}}else t.append(r,i)}return t||(e=r(e)),e._isDigested||(e._isDigested=!0,function(){e._chunkSize=a.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null,e.headers=e.headers||{},e.headers["Content-Type"]=void 0,e.transformRequest=e.transformRequest?angular.isArray(e.transformRequest)?e.transformRequest:[e.transformRequest]:[],e.transformRequest.push(function(t){var n,i=new window.FormData;t=t||e.fields||{},e.file&&(t.file=e.file);for(n in t)if(t.hasOwnProperty(n)){var r=t[n];e.formDataAppender?e.formDataAppender(i,n,r):s(i,r,n)}return i})}()),i(e)},this.http=function(t){return t=r(t),t.transformRequest=t.transformRequest||function(t){return window.ArrayBuffer&&t instanceof window.ArrayBuffer||t instanceof window.Blob?t:e.defaults.transformRequest[0].apply(this,arguments)},t._chunkSize=a.translateScalars(t.resumeChunkSize),t._chunkSize=t._chunkSize?parseInt(t._chunkSize.toString()):null,i(t)},this.translateScalars=function(e){if(angular.isString(e)){if(e.search(/kb/i)===e.length-2)return parseFloat(1024*e.substring(0,e.length-2));if(e.search(/mb/i)===e.length-2)return parseFloat(1048576*e.substring(0,e.length-2));if(e.search(/gb/i)===e.length-2)return parseFloat(1073741824*e.substring(0,e.length-2));if(e.search(/b/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/s/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/m/i)===e.length-1)return parseFloat(60*e.substring(0,e.length-1));if(e.search(/h/i)===e.length-1)return parseFloat(3600*e.substring(0,e.length-1))}return e},this.urlToBlob=function(n){var i=t.defer();return e({url:n,method:"get",responseType:"arraybuffer"}).then(function(e){var t=new Uint8Array(e.data),r=e.headers("content-type")||"image/WebP",a=new window.Blob([t],{type:r}),o=n.match(/.*\/(.+?)(\?.*)?$/);o.length>1&&(a.name=o[1]),i.resolve(a)},function(e){i.reject(e)}),i.promise},this.setDefaults=function(e){this.defaults=e||{}},this.defaults={},this.version=ngFileUpload.version}]),ngFileUpload.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(e,t,n,i,r){function a(e,t,n){var r=[l.emptyPromise()];return angular.forEach(e,function(i,a){0===i.type.indexOf("image/jpeg")&&l.attrGetter("ngfFixOrientation",t,n,{$file:i})&&r.push(l.happyPromise(l.applyExifRotation(i),i).then(function(t){e.splice(a,1,t)}))}),i.all(r)}function o(e,t,n,r){var a=l.attrGetter("ngfResize",t,n);if(!a||!l.isResizeSupported()||!e.length)return l.emptyPromise();if(a instanceof Function){var o=i.defer();return a(e).then(function(i){s(i,e,t,n,r).then(function(e){o.resolve(e)},function(e){o.reject(e)})},function(e){o.reject(e)})}return s(a,e,t,n,r)}function s(e,t,n,r,a){for(var o=[l.emptyPromise()],s=0;s<t.length;s++)!function(i,s){if(0===i.type.indexOf("image")){if(e.pattern&&!l.validatePattern(i,e.pattern))return;e.resizeIf=function(e,t){return l.attrGetter("ngfResizeIf",n,r,{$width:e,$height:t,$file:i})};var c=l.resize(i,e);o.push(c),c.then(function(e){t.splice(s,1,e)},function(e){i.$error="resize",(i.$errorMessages=i.$errorMessages||{}).resize=!0,i.$errorParam=(e?(e.message?e.message:e)+": ":"")+(i&&i.name),a.$ngfValidations.push({name:"resize",valid:!1}),l.applyModelValidation(a,t)})}}(t[s],s);return i.all(o)}var l=r;return l.getAttrWithDefaults=function(e,t){if(null!=e[t])return e[t];var n=l.defaults[t];return null==n?n:angular.isString(n)?n:JSON.stringify(n)},l.attrGetter=function(t,n,i,r){var a=this.getAttrWithDefaults(n,t);if(!i)return a;try{return r?e(a)(i,r):e(a)(i)}catch(e){if(t.search(/min|max|pattern/i))return a;throw e}},l.shouldUpdateOn=function(e,t,n){var i=l.attrGetter("ngfModelOptions",t,n);return!i||!i.updateOn||i.updateOn.split(" ").indexOf(e)>-1},l.emptyPromise=function(){var e=i.defer(),n=arguments;return t(function(){e.resolve.apply(e,n)}),e.promise},l.rejectPromise=function(){var e=i.defer(),n=arguments;return t(function(){e.reject.apply(e,n)}),e.promise},l.happyPromise=function(e,n){var r=i.defer();return e.then(function(e){r.resolve(e)},function(e){t(function(){throw e}),r.resolve(n)}),r.promise},l.updateModel=function(n,i,r,s,c,u,d){function h(a,o,c,d,h){i.$$ngfPrevValidFiles=a,i.$$ngfPrevInvalidFiles=o;var p=a&&a.length?a[0]:null,f=o&&o.length?o[0]:null;n&&(l.applyModelValidation(n,a),n.$setViewValue(h?p:a)),s&&e(s)(r,{$files:a,$file:p,$newFiles:c,$duplicateFiles:d,$invalidFiles:o,$invalidFile:f,$event:u});var g=l.attrGetter("ngfModelInvalid",i);g&&t(function(){e(g).assign(r,h?f:o)}),t(function(){})}function p(){function e(){t(function(){h(w?g.concat(y):y,w?m.concat(b):b,c,v,x)},k&&k.debounce?k.debounce.change||k.debounce:0)}var a=_?f:y;o(a,i,r,n).then(function(){_?l.validate(f,w?g.length:0,n,i,r).then(function(t){y=t.validsFiles,b=t.invalidsFiles,e()}):e()},function(){for(var t=0;t<a.length;t++){var n=a[t];if("resize"===n.$error){var i=y.indexOf(n);i>-1&&(y.splice(i,1),b.push(n)),e()}}})}var f,g,m,v=[],b=[],y=[];g=i.$$ngfPrevValidFiles||[],m=i.$$ngfPrevInvalidFiles||[],n&&n.$modelValue&&(g=function(e){return angular.isArray(e)?e:[e]}(n.$modelValue));var w=l.attrGetter("ngfKeep",i,r);f=(c||[]).slice(0),"distinct"!==w&&!0!==l.attrGetter("ngfKeepDistinct",i,r)||function(){function e(e,t){return e.name===t.name&&(e.$ngfOrigSize||e.size)===(t.$ngfOrigSize||t.size)&&e.type===t.type}if(c){f=[],v=[];for(var t=0;t<c.length;t++)!function(t){var n;for(n=0;n<g.length;n++)if(e(t,g[n]))return!0;for(n=0;n<m.length;n++)if(e(t,m[n]))return!0;return!1}(c[t])?f.push(c[t]):v.push(c[t])}}();var x=!w&&!l.attrGetter("ngfMultiple",i,r)&&!l.attrGetter("multiple",i);if(!w||f.length){l.attrGetter("ngfBeforeModelChange",i,r,{$files:c,$file:c&&c.length?c[0]:null,$newFiles:f,$duplicateFiles:v,$event:u});var _=l.attrGetter("ngfValidateAfterResize",i,r),k=l.attrGetter("ngfModelOptions",i,r);l.validate(f,w?g.length:0,n,i,r).then(function(e){d?h(f,[],c,v,x):(k&&k.allowInvalid||_?y=f:(y=e.validFiles,b=e.invalidFiles),l.attrGetter("ngfFixOrientation",i,r)&&l.isExifSupported()?a(y,i,r).then(function(){p()}):p())})}},l}]),ngFileUpload.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(e,t,n,i){function r(e){var t=e.match(/Android[^\d]*(\d+)\.(\d+)/);if(t&&t.length>2){var n=i.defaults.androidFixMinorVersion||4;return parseInt(t[1])<4||parseInt(t[1])===n&&parseInt(t[2])<n}return-1===e.indexOf("Chrome")&&/.*Windows.*Safari.*/.test(e)}function a(e,t,n,i,a,s,l,c){function u(){return"input"===t[0].tagName.toLowerCase()&&n.type&&"file"===n.type.toLowerCase()}function d(){return b("ngfChange")||b("ngfSelect")}function h(t){if(c.shouldUpdateOn("change",n,e)){var r=t.__files_||t.target&&t.target.files,a=[];if(!r)return;for(var o=0;o<r.length;o++)a.push(r[o]);c.updateModel(i,n,e,d(),a.length?a:null,t)}}function p(e,i){function r(t){e.attr("id","ngf-"+t),i.attr("id","ngf-label-"+t)}for(var a=0;a<t[0].attributes.length;a++){var o=t[0].attributes[a];"type"!==o.name&&"class"!==o.name&&"style"!==o.name&&("id"===o.name?(r(o.value),y.push(n.$observe("id",r))):e.attr(o.name,o.value||"required"!==o.name&&"multiple"!==o.name?o.value:o.name))}}function f(n){if(t.attr("disabled"))return!1;if(!b("ngfSelectDisabled",e)){var i=g(n);if(null!=i)return i;m(n);try{u()||document.body.contains(_[0])||(o.push({el:t,ref:_.parent()}),document.body.appendChild(_.parent()[0]),_.bind("change",h))}catch(e){}return r(navigator.userAgent)?setTimeout(function(){_[0].click()},0):_[0].click(),!1}}function g(e){var t=e.changedTouches||e.originalEvent&&e.originalEvent.changedTouches;if(t){if("touchstart"===e.type)return x=t[0].clientX,w=t[0].clientY,!0;if("touchend"===e.type){var n=t[0].clientX,i=t[0].clientY;if(Math.abs(n-x)>20||Math.abs(i-w)>20)return e.stopPropagation(),e.preventDefault(),!1}return!0}}function m(t){c.shouldUpdateOn("click",n,e)&&_.val()&&(_.val(null),c.updateModel(i,n,e,d(),null,t,!0))}function v(e){if(_&&!_.attr("__ngf_ie10_Fix_")){if(!_[0].parentNode)return void(_=null);e.preventDefault(),e.stopPropagation(),_.unbind("click");var t=_.clone();return _.replaceWith(t),_=t,_.attr("__ngf_ie10_Fix_","true"),_.bind("change",h),_.bind("click",v),_[0].click(),!1}_.removeAttr("__ngf_ie10_Fix_")}
var b=function(e,t){return c.attrGetter(e,n,t)};c.registerModelChangeValidator(i,n,e);var y=[];b("ngfMultiple")&&y.push(e.$watch(b("ngfMultiple"),function(){_.attr("multiple",b("ngfMultiple",e))})),b("ngfCapture")&&y.push(e.$watch(b("ngfCapture"),function(){_.attr("capture",b("ngfCapture",e))})),b("ngfAccept")&&y.push(e.$watch(b("ngfAccept"),function(){_.attr("accept",b("ngfAccept",e))})),y.push(n.$observe("accept",function(){_.attr("accept",b("accept"))}));var w=0,x=0,_=t;u()||(_=function(){if(u())return t;var e=angular.element('<input type="file">'),n=angular.element("<label>upload</label>");return n.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),p(e,n),o.push({el:t,ref:n}),document.body.appendChild(n.append(e)[0]),e}()),_.bind("change",h),u()?t.bind("click",m):t.bind("click touchstart touchend",f),-1!==navigator.appVersion.indexOf("MSIE 10")&&_.bind("click",v),i&&i.$formatters.push(function(e){return null!=e&&0!==e.length||_.val()&&_.val(null),e}),e.$on("$destroy",function(){u()||_.parent().remove(),angular.forEach(y,function(e){e()})}),s(function(){for(var e=0;e<o.length;e++){var t=o[e];document.body.contains(t.el[0])||(o.splice(e,1),t.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(t,_,h)}var o=[];return{restrict:"AEC",require:"?ngModel",link:function(r,o,s,l){a(r,o,s,l,e,t,n,i)}}}]),function(){function e(e){return"img"===e.tagName.toLowerCase()?"image":"audio"===e.tagName.toLowerCase()?"audio":"video"===e.tagName.toLowerCase()?"video":/./}function t(t,n,i,r,a,o,s,l){function c(e){var o=t.attrGetter("ngfNoObjectUrl",a,i);t.dataUrl(e,o).finally(function(){n(function(){var t=(o?e.$ngfDataUrl:e.$ngfBlobUrl)||e.$ngfDataUrl;l?r.css("background-image","url('"+(t||"")+"')"):r.attr("src",t),t?r.removeClass("ng-hide"):r.addClass("ng-hide")})})}n(function(){var n=i.$watch(a[o],function(n){var u=s;if("ngfThumbnail"===o&&(u||(u={width:r[0].naturalWidth||r[0].clientWidth,height:r[0].naturalHeight||r[0].clientHeight}),0===u.width&&window.getComputedStyle)){var d=getComputedStyle(r[0]);d.width&&d.width.indexOf("px")>-1&&d.height&&d.height.indexOf("px")>-1&&(u={width:parseInt(d.width.slice(0,-2)),height:parseInt(d.height.slice(0,-2))})}if(angular.isString(n))return r.removeClass("ng-hide"),l?r.css("background-image","url('"+n+"')"):r.attr("src",n);!n||!n.type||0!==n.type.search(e(r[0]))||l&&0!==n.type.indexOf("image")?r.addClass("ng-hide"):u&&t.isResizeSupported()?(u.resizeIf=function(e,r){return t.attrGetter("ngfResizeIf",a,i,{$width:e,$height:r,$file:n})},t.resize(n,u).then(function(e){c(e)},function(e){throw e})):c(n)});i.$on("$destroy",function(){n()})})}ngFileUpload.service("UploadDataUrl",["UploadBase","$timeout","$q",function(e,t,n){var i=e;return i.base64DataUrl=function(e){if(angular.isArray(e)){var t=n.defer(),r=0;return angular.forEach(e,function(n){i.dataUrl(n,!0).finally(function(){if(++r===e.length){var n=[];angular.forEach(e,function(e){n.push(e.$ngfDataUrl)}),t.resolve(n,e)}})}),t.promise}return i.dataUrl(e,!0)},i.dataUrl=function(e,r){if(!e)return i.emptyPromise(e,e);if(r&&null!=e.$ngfDataUrl||!r&&null!=e.$ngfBlobUrl)return i.emptyPromise(r?e.$ngfDataUrl:e.$ngfBlobUrl,e);var a=r?e.$$ngfDataUrlPromise:e.$$ngfBlobUrlPromise;if(a)return a;var o=n.defer();return t(function(){if(window.FileReader&&e&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 8")||e.size<2e4)&&(!window.FileAPI||-1===navigator.userAgent.indexOf("MSIE 9")||e.size<4e6)){var n=window.URL||window.webkitURL;if(n&&n.createObjectURL&&!r){var a;try{a=n.createObjectURL(e)}catch(n){return void t(function(){e.$ngfBlobUrl="",o.reject()})}t(function(){if(e.$ngfBlobUrl=a,a){o.resolve(a,e),i.blobUrls=i.blobUrls||[],i.blobUrlsTotalSize=i.blobUrlsTotalSize||0,i.blobUrls.push({url:a,size:e.size}),i.blobUrlsTotalSize+=e.size||0;for(var t=i.defaults.blobUrlsMaxMemory||268435456,r=i.defaults.blobUrlsMaxQueueSize||200;(i.blobUrlsTotalSize>t||i.blobUrls.length>r)&&i.blobUrls.length>1;){var s=i.blobUrls.splice(0,1)[0];n.revokeObjectURL(s.url),i.blobUrlsTotalSize-=s.size}}})}else{var s=new FileReader;s.onload=function(n){t(function(){e.$ngfDataUrl=n.target.result,o.resolve(n.target.result,e),t(function(){delete e.$ngfDataUrl},1e3)})},s.onerror=function(){t(function(){e.$ngfDataUrl="",o.reject()})},s.readAsDataURL(e)}}else t(function(){e[r?"$ngfDataUrl":"$ngfBlobUrl"]="",o.reject()})}),a=r?e.$$ngfDataUrlPromise=o.promise:e.$$ngfBlobUrlPromise=o.promise,a.finally(function(){delete e[r?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),a},i}]),ngFileUpload.directive("ngfSrc",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(i,r,a){t(e,n,i,r,a,"ngfSrc",e.attrGetter("ngfResize",a,i),!1)}}}]),ngFileUpload.directive("ngfBackground",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(i,r,a){t(e,n,i,r,a,"ngfBackground",e.attrGetter("ngfResize",a,i),!0)}}}]),ngFileUpload.directive("ngfThumbnail",["Upload","$timeout",function(e,n){return{restrict:"AE",link:function(i,r,a){var o=e.attrGetter("ngfSize",a,i);t(e,n,i,r,a,"ngfThumbnail",o,e.attrGetter("ngfAsBackground",a,i))}}}]),ngFileUpload.config(["$compileProvider",function(e){e.imgSrcSanitizationWhitelist&&e.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),e.aHrefSanitizationWhitelist&&e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),ngFileUpload.filter("ngfDataUrl",["UploadDataUrl","$sce",function(e,t){return function(n,i,r){if(angular.isString(n))return t.trustAsResourceUrl(n);var a=n&&((i?n.$ngfDataUrl:n.$ngfBlobUrl)||n.$ngfDataUrl);return n&&!a?(!n.$ngfDataUrlFilterInProgress&&angular.isObject(n)&&(n.$ngfDataUrlFilterInProgress=!0,e.dataUrl(n,i)),""):(n&&delete n.$ngfDataUrlFilterInProgress,(n&&a?r?t.trustAsResourceUrl(a):a:n)||"")}}])}(),ngFileUpload.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(e,t,n){function i(e){var t="",n=[];if(e.length>2&&"/"===e[0]&&"/"===e[e.length-1])t=e.substring(1,e.length-1);else{var r=e.split(",");if(r.length>1)for(var a=0;a<r.length;a++){var o=i(r[a]);o.regexp?(t+="("+o.regexp+")",a<r.length-1&&(t+="|")):n=n.concat(o.excludes)}else 0===e.indexOf("!")?n.push("^((?!"+i(e.substring(1)).regexp+").)*$"):(0===e.indexOf(".")&&(e="*"+e),t="^"+e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",t=t.replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:t,excludes:n}}function r(e,t){null==t||e.$dirty||(e.$setDirty?e.$setDirty():e.$dirty=!0)}var a=e;return a.validatePattern=function(e,t){if(!t)return!0;var n=i(t),r=!0;if(n.regexp&&n.regexp.length){var a=new RegExp(n.regexp,"i");r=null!=e.type&&a.test(e.type)||null!=e.name&&a.test(e.name)}for(var o=n.excludes.length;o--;){var s=new RegExp(n.excludes[o],"i");r=r&&(null==e.type||s.test(e.type))&&(null==e.name||s.test(e.name))}return r},a.ratioToFloat=function(e){var t=e.toString(),n=t.search(/[x:]/i);return t=n>-1?parseFloat(t.substring(0,n))/parseFloat(t.substring(n+1)):parseFloat(t)},a.registerModelChangeValidator=function(e,t,n){e&&e.$formatters.push(function(i){if(e.$dirty){var r=i;i&&!angular.isArray(i)&&(r=[i]),a.validate(r,0,e,t,n).then(function(){a.applyModelValidation(e,r)})}return i})},a.applyModelValidation=function(e,t){r(e,t),angular.forEach(e.$ngfValidations,function(t){e.$setValidity(t.name,t.valid)})},a.getValidationAttr=function(e,t,n,i,r){var o="ngf"+n[0].toUpperCase()+n.substr(1),s=a.attrGetter(o,e,t,{$file:r});if(null==s&&(s=a.attrGetter("ngfValidate",e,t,{$file:r}))){var l=(i||n).split(".");s=s[l[0]],l.length>1&&(s=s&&s[l[1]])}return s},a.validate=function(e,n,i,r,o){function s(t,n,s){if(e){for(var l=e.length,c=null;l--;){var p=e[l];if(p){var f=a.getValidationAttr(r,o,t,n,p);null!=f&&(s(p,f,l)||(-1===u.indexOf(t)?(p.$error=t,(p.$errorMessages=p.$errorMessages||{})[t]=!0,p.$errorParam=f,-1===h.indexOf(p)&&h.push(p),d||e.splice(l,1),c=!1):e.splice(l,1)))}}null!==c&&i.$ngfValidations.push({name:t,valid:c})}}function l(n,s,l,p,f){function g(t,i,r){function a(a){if(a())if(-1===u.indexOf(n)){if(i.$error=n,(i.$errorMessages=i.$errorMessages||{})[n]=!0,i.$errorParam=r,-1===h.indexOf(i)&&h.push(i),!d){var o=e.indexOf(i);o>-1&&e.splice(o,1)}t.resolve(!1)}else{var s=e.indexOf(i);s>-1&&e.splice(s,1),t.resolve(!0)}else t.resolve(!0)}null!=r?p(i,r).then(function(e){a(function(){return!f(e,r)})},function(){a(function(){return c("ngfValidateForce",{$file:i})})}):t.resolve(!0)}var m=[a.emptyPromise(!0)];e&&(e=void 0===e.length?[e]:e,angular.forEach(e,function(e){var i=t.defer();if(m.push(i.promise),l&&(null==e.type||0!==e.type.search(l)))return void i.resolve(!0);"dimensions"===n&&null!=a.attrGetter("ngfDimensions",r)?a.imageDimensions(e).then(function(t){g(i,e,c("ngfDimensions",{$file:e,$width:t.width,$height:t.height}))},function(){i.resolve(!1)}):"duration"===n&&null!=a.attrGetter("ngfDuration",r)?a.mediaDuration(e).then(function(t){g(i,e,c("ngfDuration",{$file:e,$duration:t}))},function(){i.resolve(!1)}):g(i,e,a.getValidationAttr(r,o,n,s,e))}));var v=t.defer();return t.all(m).then(function(e){for(var t=!0,r=0;r<e.length;r++)if(!e[r]){t=!1;break}i.$ngfValidations.push({name:n,valid:t}),v.resolve(t)}),v.promise}i=i||{},i.$ngfValidations=i.$ngfValidations||[],angular.forEach(i.$ngfValidations,function(e){e.valid=!0});var c=function(e,t){return a.attrGetter(e,r,o,t)},u=(a.attrGetter("ngfIgnoreInvalid",r,o)||"").split(" "),d=a.attrGetter("ngfRunAllValidations",r,o);if(null==e||0===e.length)return a.emptyPromise({validFiles:e,invalidFiles:[]});e=void 0===e.length?[e]:e.slice(0);var h=[];s("pattern",null,a.validatePattern),s("minSize","size.min",function(e,t){return e.size+.1>=a.translateScalars(t)}),s("maxSize","size.max",function(e,t){return e.size-.1<=a.translateScalars(t)});var p=0;if(s("maxTotalSize",null,function(t,n){return!((p+=t.size)>a.translateScalars(n))||(e.splice(0,e.length),!1)}),s("validateFn",null,function(e,t){return!0===t||null===t||""===t}),!e.length)return a.emptyPromise({validFiles:[],invalidFiles:h});var f=t.defer(),g=[];return g.push(l("maxHeight","height.max",/image/,this.imageDimensions,function(e,t){return e.height<=t})),g.push(l("minHeight","height.min",/image/,this.imageDimensions,function(e,t){return e.height>=t})),g.push(l("maxWidth","width.max",/image/,this.imageDimensions,function(e,t){return e.width<=t})),g.push(l("minWidth","width.min",/image/,this.imageDimensions,function(e,t){return e.width>=t})),g.push(l("dimensions",null,/image/,function(e,t){return a.emptyPromise(t)},function(e){return e})),g.push(l("ratio",null,/image/,this.imageDimensions,function(e,t){for(var n=t.toString().split(","),i=!1,r=0;r<n.length;r++)Math.abs(e.width/e.height-a.ratioToFloat(n[r]))<.01&&(i=!0);return i})),g.push(l("maxRatio","ratio.max",/image/,this.imageDimensions,function(e,t){return e.width/e.height-a.ratioToFloat(t)<1e-4})),g.push(l("minRatio","ratio.min",/image/,this.imageDimensions,function(e,t){return e.width/e.height-a.ratioToFloat(t)>-1e-4})),g.push(l("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(e,t){return e<=a.translateScalars(t)})),g.push(l("minDuration","duration.min",/audio|video/,this.mediaDuration,function(e,t){return e>=a.translateScalars(t)})),g.push(l("duration",null,/audio|video/,function(e,t){return a.emptyPromise(t)},function(e){return e})),g.push(l("validateAsyncFn",null,null,function(e,t){return t},function(e){return!0===e||null===e||""===e})),t.all(g).then(function(){if(d)for(var t=0;t<e.length;t++){var i=e[t];i.$error&&e.splice(t--,1)}d=!1,s("maxFiles",null,function(e,t,i){return n+i<t}),f.resolve({validFiles:e,invalidFiles:h})}),f.promise},a.imageDimensions=function(e){if(e.$ngfWidth&&e.$ngfHeight){var i=t.defer();return n(function(){i.resolve({width:e.$ngfWidth,height:e.$ngfHeight})}),i.promise}if(e.$ngfDimensionPromise)return e.$ngfDimensionPromise;var r=t.defer();return n(function(){if(0!==e.type.indexOf("image"))return void r.reject("not image");a.dataUrl(e).then(function(t){function i(){var t=s[0].naturalWidth||s[0].clientWidth,n=s[0].naturalHeight||s[0].clientHeight;s.remove(),e.$ngfWidth=t,e.$ngfHeight=n,r.resolve({width:t,height:n})}function a(){s.remove(),r.reject("load error")}function o(){n(function(){s[0].parentNode&&(s[0].clientWidth?i():l++>10?a():o())},1e3)}var s=angular.element("<img>").attr("src",t).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");s.on("load",i),s.on("error",a);var l=0;o(),angular.element(document.getElementsByTagName("body")[0]).append(s)},function(){r.reject("load error")})}),e.$ngfDimensionPromise=r.promise,e.$ngfDimensionPromise.finally(function(){delete e.$ngfDimensionPromise}),e.$ngfDimensionPromise},a.mediaDuration=function(e){if(e.$ngfDuration){var i=t.defer();return n(function(){i.resolve(e.$ngfDuration)}),i.promise}if(e.$ngfDurationPromise)return e.$ngfDurationPromise;var r=t.defer();return n(function(){if(0!==e.type.indexOf("audio")&&0!==e.type.indexOf("video"))return void r.reject("not media");a.dataUrl(e).then(function(t){function i(){var t=s[0].duration;e.$ngfDuration=t,s.remove(),r.resolve(t)}function a(){s.remove(),r.reject("load error")}function o(){n(function(){s[0].parentNode&&(s[0].duration?i():l>10?a():o())},1e3)}var s=angular.element(0===e.type.indexOf("audio")?"<audio>":"<video>").attr("src",t).css("visibility","none").css("position","fixed");s.on("loadedmetadata",i),s.on("error",a);var l=0;o(),angular.element(document.body).append(s)},function(){r.reject("load error")})}),e.$ngfDurationPromise=r.promise,e.$ngfDurationPromise.finally(function(){delete e.$ngfDurationPromise}),e.$ngfDurationPromise},a}]),ngFileUpload.service("UploadResize",["UploadValidate","$q",function(e,t){var n=e,i=function(e,t,n,i,r){var a=r?Math.max(n/e,i/t):Math.min(n/e,i/t);return{width:e*a,height:t*a,marginX:e*a-n,marginY:t*a-i}},r=function(e,r,a,o,s,l,c,u){var d=t.defer(),h=document.createElement("canvas"),p=document.createElement("img");return p.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(p),p.onload=function(){var e=p.width,t=p.height;if(p.parentNode.removeChild(p),null!=u&&!1===u(e,t))return void d.reject("resizeIf");try{if(l){var f=n.ratioToFloat(l);e/t<f?(r=e,a=r/f):(a=t,r=a*f)}r||(r=e),a||(a=t);var g=i(e,t,r,a,c);h.width=Math.min(g.width,r),h.height=Math.min(g.height,a);h.getContext("2d").drawImage(p,Math.min(0,-g.marginX/2),Math.min(0,-g.marginY/2),g.width,g.height),d.resolve(h.toDataURL(s||"image/WebP",o||.934))}catch(e){d.reject(e)}},p.onerror=function(){p.parentNode.removeChild(p),d.reject()},p.src=e,d.promise};return n.dataUrltoBlob=function(e,t,n){for(var i=e.split(","),r=i[0].match(/:(.*?);/)[1],a=atob(i[1]),o=a.length,s=new Uint8Array(o);o--;)s[o]=a.charCodeAt(o);var l=new window.Blob([s],{type:r});return l.name=t,l.$ngfOrigSize=n,l},n.isResizeSupported=function(){var e=document.createElement("canvas");return window.atob&&e.getContext&&e.getContext("2d")&&window.Blob},n.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(e){this.$ngfName=e},configurable:!0}),n.resize=function(e,i){if(0!==e.type.indexOf("image"))return n.emptyPromise(e);var a=t.defer();return n.dataUrl(e,!0).then(function(t){r(t,i.width,i.height,i.quality,i.type||e.type,i.ratio,i.centerCrop,i.resizeIf).then(function(r){if("image/jpeg"===e.type&&!1!==i.restoreExif)try{r=n.restoreExif(t,r)}catch(e){setTimeout(function(){throw e},1)}try{var o=n.dataUrltoBlob(r,e.name,e.size);a.resolve(o)}catch(e){a.reject(e)}},function(t){"resizeIf"===t&&a.resolve(e),a.reject(t)})},function(e){a.reject(e)}),a.promise},n}]),function(){function e(e,n,i,r,a,o,s,l,c,u){function d(){return n.attr("disabled")||b("ngfDropDisabled",e)}function h(t,n,i){if(t){var r;try{r=t&&t.getData&&t.getData("text/html")}catch(e){}m(t.items,t.files,!1!==b("ngfAllowDir",e),b("multiple")||b("ngfMultiple",e)).then(function(e){e.length?p(e,n):f(i,r).then(function(e){p(e,n)})})}}function p(t,n){l.updateModel(r,i,e,b("ngfChange")||b("ngfDrop"),t,n)}function f(t,n){if(!l.shouldUpdateOn(t,i,e)||"string"!=typeof n)return l.rejectPromise([]);var r=[];n.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(e,t,n){r.push(n)});var a=[],o=[];if(r.length){angular.forEach(r,function(e){a.push(l.urlToBlob(e).then(function(e){o.push(e)}))});var s=u.defer();return u.all(a).then(function(){s.resolve(o)},function(e){s.reject(e)}),s.promise}return l.emptyPromise()}function g(e,t,n,i){var r=b("ngfDragOverClass",e,{$event:n}),a="dragover";if(angular.isString(r))a=r;else if(r&&(r.delay&&(_=r.delay),r.accept||r.reject)){var o=n.dataTransfer.items;if(null!=o&&o.length)for(var s=r.pattern||b("ngfPattern",e,{$event:n}),c=o.length;c--;){if(!l.validatePattern(o[c],s)){a=r.reject;break}a=r.accept}else a=r.accept}i(a)}function m(t,n,r,a){function o(e,t){var n=u.defer();if(null!=e)if(e.isDirectory){var i=[l.emptyPromise()];if(h){var r={type:"directory"};r.name=r.path=(t||"")+e.name,p.push(r)}var a=e.createReader(),s=[],g=function(){a.readEntries(function(r){try{r.length?(s=s.concat(Array.prototype.slice.call(r||[],0)),g()):(angular.forEach(s.slice(0),function(n){p.length<=c&&f<=d&&i.push(o(n,(t||"")+e.name+"/"))}),u.all(i).then(function(){n.resolve()},function(e){n.reject(e)}))}catch(e){n.reject(e)}},function(e){n.reject(e)})};g()}else e.file(function(e){try{e.path=(t||"")+e.name,h&&(e=l.rename(e,e.path)),p.push(e),f+=e.size,n.resolve()}catch(e){n.reject(e)}},function(e){n.reject(e)});return n.promise}var c=l.getValidationAttr(i,e,"maxFiles");null==c&&(c=Number.MAX_VALUE);var d=l.getValidationAttr(i,e,"maxTotalSize");null==d&&(d=Number.MAX_VALUE);var h=b("ngfIncludeDir",e),p=[],f=0,g=[l.emptyPromise()];if(t&&t.length>0&&"file:"!==s.location.protocol)for(var m=0;m<t.length;m++){if(t[m].webkitGetAsEntry&&t[m].webkitGetAsEntry()&&t[m].webkitGetAsEntry().isDirectory){var v=t[m].webkitGetAsEntry();if(v.isDirectory&&!r)continue;null!=v&&g.push(o(v))}else{var y=t[m].getAsFile();null!=y&&(p.push(y),f+=y.size)}if(p.length>c||f>d||!a&&p.length>0)break}else if(null!=n)for(var w=0;w<n.length;w++){var x=n.item(w);if((x.type||x.size>0)&&(p.push(x),f+=x.size),p.length>c||f>d||!a&&p.length>0)break}var _=u.defer();return u.all(g).then(function(){if(a||h||!p.length)_.resolve(p);else{for(var e=0;p[e]&&"directory"===p[e].type;)e++;_.resolve([p[e]])}},function(e){_.reject(e)}),_.promise}var v=t(),b=function(e,t,n){return l.attrGetter(e,i,t,n)};if(b("dropAvailable")&&o(function(){e[b("dropAvailable")]?e[b("dropAvailable")].value=v:e[b("dropAvailable")]=v}),!v)return void(!0===b("ngfHideOnDropNotAvailable",e)&&n.css("display","none"));null==b("ngfSelect")&&l.registerModelChangeValidator(r,i,e);var y,w=null,x=a(b("ngfStopPropagation")),_=1;n[0].addEventListener("dragover",function(t){if(!d()&&l.shouldUpdateOn("drop",i,e)){if(t.preventDefault(),x(e)&&t.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var r=t.dataTransfer.effectAllowed;t.dataTransfer.dropEffect="move"===r||"linkMove"===r?"move":"copy"}o.cancel(w),y||(y="C",g(e,i,t,function(i){y=i,n.addClass(y),b("ngfDrag",e,{$isDragging:!0,$class:y,$event:t})}))}},!1),n[0].addEventListener("dragenter",function(t){!d()&&l.shouldUpdateOn("drop",i,e)&&(t.preventDefault(),x(e)&&t.stopPropagation())},!1),n[0].addEventListener("dragleave",function(t){!d()&&l.shouldUpdateOn("drop",i,e)&&(t.preventDefault(),x(e)&&t.stopPropagation(),w=o(function(){y&&n.removeClass(y),y=null,b("ngfDrag",e,{$isDragging:!1,$event:t})},_||100))},!1),n[0].addEventListener("drop",function(t){!d()&&l.shouldUpdateOn("drop",i,e)&&(t.preventDefault(),x(e)&&t.stopPropagation(),y&&n.removeClass(y),y=null,h(t.dataTransfer,t,"dropUrl"))},!1),n[0].addEventListener("paste",function(t){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&b("ngfEnableFirefoxPaste",e)&&t.preventDefault(),!d()&&l.shouldUpdateOn("paste",i,e)&&h(t.clipboardData||t.originalEvent.clipboardData,t,"pasteUrl")},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&b("ngfEnableFirefoxPaste",e)&&(n.attr("contenteditable",!0),n.on("keypress",function(e){e.metaKey||e.ctrlKey||e.preventDefault()}))}function t(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e&&!/Edge\/12./i.test(navigator.userAgent)}ngFileUpload.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(t,n,i,r,a,o){return{restrict:"AEC",require:"?ngModel",link:function(s,l,c,u){e(s,l,c,u,t,n,i,r,a,o)}}}]),ngFileUpload.directive("ngfNoFileDrop",function(){return function(e,n){t()&&n.css("display","none")}}),ngFileUpload.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(e,n,i){return function(r,a,o){if(t()){var s=e(i.attrGetter("ngfDropAvailable",o));n(function(){s(r),s.assign&&s.assign(r,!0)})}}}])}(),ngFileUpload.service("UploadExif",["UploadResize","$q",function(e,t){function n(e,t,n,i){switch(t){case 2:return e.transform(-1,0,0,1,n,0);case 3:return e.transform(-1,0,0,-1,n,i);case 4:return e.transform(1,0,0,-1,0,i);case 5:return e.transform(0,1,1,0,0,0);case 6:return e.transform(0,1,-1,0,i,0);case 7:return e.transform(0,-1,-1,0,i,n);case 8:return e.transform(0,-1,1,0,0,n)}}function i(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return window.btoa(t)}var r=e;return r.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&r.isResizeSupported()},r.readOrientation=function(e){var n=t.defer(),i=new FileReader,r=e.slice?e.slice(0,65536):e;return i.readAsArrayBuffer(r),i.onerror=function(e){return n.reject(e)},i.onload=function(e){var t={orientation:1},i=new DataView(this.result);if(65496!==i.getUint16(0,!1))return n.resolve(t);for(var r=i.byteLength,a=2;a<r;){var o=i.getUint16(a,!1);if(a+=2,65505===o){if(1165519206!==i.getUint32(a+=2,!1))return n.resolve(t);var s=18761===i.getUint16(a+=6,!1);a+=i.getUint32(a+4,s);var l=i.getUint16(a,s);a+=2;for(var c=0;c<l;c++)if(274===i.getUint16(a+12*c,s)){var u=i.getUint16(a+12*c+8,s);return u>=2&&u<=8&&(i.setUint16(a+12*c+8,1,s),t.fixedArrayBuffer=e.target.result),t.orientation=u,n.resolve(t)}}else{if(65280!=(65280&o))break;a+=i.getUint16(a,!1)}}return n.resolve(t)},n.promise},r.applyExifRotation=function(e){if(0!==e.type.indexOf("image/jpeg"))return r.emptyPromise(e);var a=t.defer();return r.readOrientation(e).then(function(t){if(t.orientation<2||t.orientation>8)return a.resolve(e);r.dataUrl(e,!0).then(function(o){var s=document.createElement("canvas"),l=document.createElement("img");l.onload=function(){try{s.width=t.orientation>4?l.height:l.width,s.height=t.orientation>4?l.width:l.height;var o=s.getContext("2d");n(o,t.orientation,l.width,l.height),o.drawImage(l,0,0);var c=s.toDataURL(e.type||"image/WebP",.934);c=r.restoreExif(i(t.fixedArrayBuffer),c);var u=r.dataUrltoBlob(c,e.name);a.resolve(u)}catch(e){return a.reject(e)}},l.onerror=function(){a.reject()},l.src=o},function(e){a.reject(e)})},function(e){a.reject(e)}),a.promise},r.restoreExif=function(e,t){var n={};return n.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n.encode64=function(e){var t,n,i,r,a,o="",s="",l="",c=0;do{t=e[c++],n=e[c++],s=e[c++],i=t>>2,r=(3&t)<<4|n>>4,a=(15&n)<<2|s>>6,l=63&s,isNaN(n)?a=l=64:isNaN(s)&&(l=64),o=o+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(l),t=n=s="",i=r=a=l=""}while(c<e.length);return o},n.restore=function(e,t){e.match("data:image/jpeg;base64,")&&(e=e.replace("data:image/jpeg;base64,",""));var n=this.decode64(e),i=this.slice2Segments(n),r=this.exifManipulation(t,i);return"data:image/jpeg;base64,"+this.encode64(r)},n.exifManipulation=function(e,t){var n=this.getExifArray(t),i=this.insertExif(e,n);return new Uint8Array(i)},n.getExifArray=function(e){for(var t,n=0;n<e.length;n++)if(t=e[n],255===t[0]&225===t[1])return t;return[]},n.insertExif=function(e,t){var n=e.replace("data:image/jpeg;base64,",""),i=this.decode64(n),r=i.indexOf(255,3),a=i.slice(0,r),o=i.slice(r),s=a;return s=s.concat(t),s=s.concat(o)},n.slice2Segments=function(e){for(var t=0,n=[];;){if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1])t+=2;else{var i=256*e[t+2]+e[t+3],r=t+i+2,a=e.slice(t,r);n.push(a),t=r}if(t>e.length)break}return n},n.decode64=function(e){var t,n,i,r,a,o="",s="",l=0,c=[];/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{i=this.KEY_STR.indexOf(e.charAt(l++)),r=this.KEY_STR.indexOf(e.charAt(l++)),a=this.KEY_STR.indexOf(e.charAt(l++)),s=this.KEY_STR.indexOf(e.charAt(l++)),t=i<<2|r>>4,n=(15&r)<<4|a>>2,o=(3&a)<<6|s,c.push(t),64!==a&&c.push(n),64!==s&&c.push(o),t=n=o="",i=r=a=s=""}while(l<e.length);return c},n.restore(e,t)},r}]),function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("angular")):"function"==typeof define&&define.amd?define(["angular"],t):t(e.angular)}(window,function(e){e.module("angucomplete-alt",[]).directive("angucompleteAlt",["$q","$parse","$http","$sce","$timeout","$templateCache","$interpolate",function(e,t,n,i,r,a,o){function s(t,a,o,s){function _(e,n){e&&("object"==typeof e?(t.searchStr=D(e),S({originalObject:e})):"string"==typeof e&&e.length>0?t.searchStr=e:console&&console.error&&console.error("Tried to set "+(n?"initial":"")+" value of angucomplete to",e,"which is an invalid value"),M(!0))}function k(e){de=null,t.hideResults(e),document.body.removeEventListener("click",k)}function C(e){return e.which?e.which:e.keyCode}function S(e){"function"==typeof t.selectedObject?t.selectedObject(e):t.selectedObject=e,M(e?!0:!1)}function $(e){S({originalObject:e}),t.clearSelected&&(t.searchStr=null),U()}function D(e){return t.titleField.split(",").map(function(t){return T(e,t)}).join(" ")}function T(e,t){var n,i;if(t){n=t.split("."),i=e;for(var r=0;r<n.length;r++)i=i[n[r]]}else i=e;return i}function E(e,n){var r,a,o;if(o=new RegExp(n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"i"),e)return e.match&&e.replace||(e=e.toString()),a=e.match(o),r=a?e.replace(o,'<span class="'+t.matchClass+'">'+a[0]+"</span>"):e,i.trustAsHtml(r)}function M(e){t.notEmpty=e,se=t.searchStr,t.fieldRequired&&s&&s.$setValidity(oe,e)}function A(e){var n=C(e);if(n!==d&&n!==c)if(n===u||n===p)e.preventDefault();else if(n===l)e.preventDefault(),!t.showDropdown&&t.searchStr&&t.searchStr.length>=re&&(q(),t.searching=!0,G(t.searchStr));else if(n===h)U(),t.$apply(function(){ie.val(t.searchStr)});else{if(0===re&&!t.searchStr)return;t.searchStr&&""!==t.searchStr?t.searchStr.length>=re&&(q(),ae&&r.cancel(ae),t.searching=!0,ae=r(function(){G(t.searchStr)},t.pause)):t.showDropdown=!1,se&&se!==t.searchStr&&!t.clearSelected&&t.$apply(function(){S()})}}function O(e){!t.overrideSuggestions||t.selectedObject&&t.selectedObject.originalObject===t.searchStr||(e&&e.preventDefault(),r.cancel(ae),W(),$(t.searchStr))}function P(e){var t=getComputedStyle(e);return e.offsetHeight+parseInt(t.marginTop,10)+parseInt(t.marginBottom,10)}function I(){return ce.getBoundingClientRect().top+parseInt(getComputedStyle(ce).maxHeight,10)}function R(){return a[0].querySelectorAll(".angucomplete-row")[t.currentIndex]}function N(){return R().getBoundingClientRect().top-(ce.getBoundingClientRect().top+parseInt(getComputedStyle(ce).paddingTop,10))}function L(e){ce.scrollTop=ce.scrollTop+e}function F(){var e=t.results[t.currentIndex];t.matchClass?ie.val(D(e.originalObject)):ie.val(e.title)}function z(e){var n=C(e),i=null,r=null;n===p&&t.results?(t.currentIndex>=0&&t.currentIndex<t.results.length?(e.preventDefault(),t.selectResult(t.results[t.currentIndex])):(O(e),U()),t.$apply()):n===l&&t.results?(e.preventDefault(),t.currentIndex+1<t.results.length&&t.showDropdown&&(t.$apply(function(){t.currentIndex++,F()}),ue&&(i=R(),I()<i.getBoundingClientRect().bottom&&L(P(i))))):n===u&&t.results?(e.preventDefault(),t.currentIndex>=1?(t.$apply(function(){t.currentIndex--,F()}),ue&&(r=N())<0&&L(r-1)):0===t.currentIndex&&t.$apply(function(){t.currentIndex=-1,ie.val(t.searchStr)})):n===f&&(t.results&&t.results.length>0&&t.showDropdown?-1===t.currentIndex&&t.overrideSuggestions?O():(-1===t.currentIndex&&(t.currentIndex=0),t.selectResult(t.results[t.currentIndex]),t.$digest()):t.searchStr&&t.searchStr.length>0&&O())}function j(e){return function(n,i,r,a){i||r||a||(n=n.data),t.searching=!1,X(T(Q(n),t.remoteUrlDataField),e)}}function H(e,n,i,r){0!==n&&-1!==n&&(n||i||r||(n=e.status),t.remoteUrlErrorCallback?t.remoteUrlErrorCallback(e,n,i,r):console&&console.error&&console.error("http error"))}function W(){le&&le.resolve()}function B(i){var r={},a=t.remoteUrl+encodeURIComponent(i);t.remoteUrlRequestFormatter&&(r={params:t.remoteUrlRequestFormatter(i)},a=t.remoteUrl),t.remoteUrlRequestWithCredentials&&(r.withCredentials=!0),W(),le=e.defer(),r.timeout=le.promise,n.get(a,r).success(j(i)).error(H)}function V(n){W(),le=e.defer(),t.remoteApiHandler(n,le.promise).then(j(n)).catch(H)}function U(){t.showDropdown=!1,t.results=[],ce&&(ce.scrollTop=0)}function q(){t.showDropdown=te,t.currentIndex=t.focusFirst?0:-1,t.results=[]}function Y(e){var n,i,r,a,o=t.searchFields.split(","),s=[];for(n=0;n<t.localData.length;n++){for(i=!1,r=0;r<o.length;r++)a=T(t.localData[n],o[r])||"",i=i||a.toString().toLowerCase().indexOf(e.toString().toLowerCase())>=0;i&&(s[s.length]=t.localData[n])}t.searching=!1,X(s,e)}function K(e,n,i){if(!i)return!1;for(var r in n)if(n[r].toLowerCase()===i.toLowerCase())return t.selectResult(e),!0;return!1}function G(e){!e||e.length<re||(t.localData?t.$apply(function(){Y(e)}):t.remoteApiHandler?V(e):B(e))}function X(e,n){var i,r,a,o,s,l;if(e&&e.length>0)for(t.results=[],i=0;i<e.length;i++)t.titleField&&""!==t.titleField&&(o=s=D(e[i])),r="",t.descriptionField&&(r=l=T(e[i],t.descriptionField)),a="",t.imageField&&(a=T(e[i],t.imageField)),t.matchClass&&(s=E(o,n),l=E(r,n)),t.results[t.results.length]={title:s,description:l,image:a,originalObject:e[i]};else t.results=[];t.autoMatch&&1===t.results.length&&K(t.results[0],{title:o,desc:r||""},t.searchStr)?t.showDropdown=!1:0!==t.results.length||ne?t.showDropdown=!0:t.showDropdown=!1}function J(){t.localData?(t.searching=!1,X(t.localData,"")):t.remoteApiHandler?(t.searching=!0,V("")):(t.searching=!0,B(""))}var Z,Q,ee,te,ne,ie=a.find("input"),re=g,ae=null,oe=y,se=null,le=null,ce=a[0].querySelector(".angucomplete-dropdown"),ue=!1,de=null;a.on("mousedown",function(e){e.target.id?(de=e.target.id)===t.id+"_dropdown"&&document.body.addEventListener("click",k):de=e.target.className}),t.currentIndex=t.focusFirst?0:null,t.searching=!1,ee=t.$watch("initialValue",function(e,t){e&&(ee(),_(e,!0))}),t.$on("angucomplete-alt:clearInput",function(e,n){n&&n!==t.id||(t.searchStr=null,S(),M(!1),U())}),t.$on("angucomplete-alt:changeInput",function(e,n,i){n&&n===t.id&&_(i)}),t.onFocusHandler=function(){t.focusIn&&t.focusIn(),0!==re||t.searchStr&&0!==t.searchStr.length||(t.currentIndex=t.focusFirst?0:t.currentIndex,t.showDropdown=!0,J())},t.hideResults=function(e){de&&(de===t.id+"_dropdown"||de.indexOf("angucomplete")>=0)?de=null:(Z=r(function(){U(),t.$apply(function(){t.searchStr&&t.searchStr.length>0&&ie.val(t.searchStr)})},b),W(),t.focusOut&&t.focusOut(),t.overrideSuggestions&&t.searchStr&&t.searchStr.length>0&&-1===t.currentIndex&&O())},t.resetHideResults=function(){Z&&r.cancel(Z)},t.hoverRow=function(e){t.currentIndex=e},t.selectResult=function(e){t.matchClass&&(e.title=D(e.originalObject),e.description=T(e.originalObject,t.descriptionField)),t.clearSelected?t.searchStr=null:t.searchStr=e.title,S(e),U()},t.inputChangeHandler=function(e){return e.length<re?(W(),U()):0===e.length&&0===re&&(t.searching=!1,J()),t.inputChanged&&(e=t.inputChanged(e)),e},t.fieldRequiredClass&&""!==t.fieldRequiredClass&&(oe=t.fieldRequiredClass),
t.minlength&&""!==t.minlength&&(re=parseInt(t.minlength,10)),t.pause||(t.pause=v),t.clearSelected||(t.clearSelected=!1),t.overrideSuggestions||(t.overrideSuggestions=!1),t.fieldRequired&&s&&M(t.initialValue?!0:!1),t.inputType=o.type?o.type:"text",t.textSearching=o.textSearching?o.textSearching:w,t.textNoResults=o.textNoResults?o.textNoResults:x,te="false"!==t.textSearching,ne="false"!==t.textNoResults,t.maxlength=o.maxlength?o.maxlength:m,ie.on("keydown",z),ie.on("keyup input",A),Q=function(e){return function(n){return t[e]?t[e](n):n}}("remoteUrlResponseFormatter"),t.$on("$destroy",function(){M(!0)}),r(function(){var e=getComputedStyle(ce);ue=e.maxHeight&&"auto"===e.overflowY})}var l=40,c=39,u=38,d=37,h=27,p=13,f=9,g=3,m=524288,v=500,b=200,y="autocomplete-required",w="Searching...",x="No results found";return a.put("/angucomplete-alt/index.html",'<div class="angucomplete-holder" ng-class="{\'angucomplete-dropdown-visible\': showDropdown}">  <input id="{{id}}_value" name="{{inputName}}" ng-class="{\'angucomplete-input-not-empty\': notEmpty}" ng-model="searchStr" ng-disabled="disableInput" type="{{inputType}}" placeholder="{{placeholder}}" maxlength="{{maxlength}}" ng-focus="onFocusHandler()" class="{{inputClass}}" ng-focus="resetHideResults()" ng-blur="hideResults($event)" autocapitalize="off" autocorrect="off" autocomplete="off" ng-change="inputChangeHandler(searchStr)"/>  <div id="{{id}}_dropdown" class="angucomplete-dropdown" ng-show="showDropdown">    <div class="angucomplete-searching" ng-show="searching" ng-bind="textSearching"></div>    <div class="angucomplete-searching" ng-show="!searching && (!results || results.length == 0)" ng-bind="textNoResults"></div>    <div class="angucomplete-row" ng-repeat="result in results" ng-click="selectResult(result)" ng-mouseenter="hoverRow($index)" ng-class="{\'angucomplete-selected-row\': $index == currentIndex}">      <div ng-if="imageField" class="angucomplete-image-holder">        <img ng-if="result.image && result.image != \'\'" ng-src="{{result.image}}" class="angucomplete-image"/>        <div ng-if="!result.image && result.image != \'\'" class="angucomplete-image-default"></div>      </div>      <div class="angucomplete-title" ng-if="matchClass" ng-bind-html="result.title"></div>      <div class="angucomplete-title" ng-if="!matchClass">{{ result.title }}</div>      <div ng-if="matchClass && result.description && result.description != \'\'" class="angucomplete-description" ng-bind-html="result.description"></div>      <div ng-if="!matchClass && result.description && result.description != \'\'" class="angucomplete-description">{{result.description}}</div>    </div>  </div></div>'),{restrict:"EA",require:"^?form",scope:{selectedObject:"=",disableInput:"=",initialValue:"=",localData:"=",remoteUrlRequestFormatter:"=",remoteUrlRequestWithCredentials:"@",remoteUrlResponseFormatter:"=",remoteUrlErrorCallback:"=",remoteApiHandler:"=",id:"@",type:"@",placeholder:"@",remoteUrl:"@",remoteUrlDataField:"@",titleField:"@",descriptionField:"@",imageField:"@",inputClass:"@",pause:"@",searchFields:"@",minlength:"@",matchClass:"@",clearSelected:"@",overrideSuggestions:"@",fieldRequired:"@",fieldRequiredClass:"@",inputChanged:"=",autoMatch:"@",focusOut:"&",focusIn:"&",inputName:"@",focusFirst:"@"},templateUrl:function(e,t){return t.templateUrl||"/angucomplete-alt/index.html"},compile:function(e,t){var n=o.startSymbol(),i=o.endSymbol();if("{{"!==n||"}}"!==i){var r=e.html().replace(/\{\{/g,n).replace(/\}\}/g,i);e.html(r)}return s}}}])}),function(){"use strict";angular.module("ui.toggle",[]).value("$toggleSuppressError",!1).constant("toggleConfig",{btnCheckboxFalse:!1,btnCheckboxTrue:!0,on:"On",off:"Off",size:"",onstyle:"btn-primary",offstyle:"btn-default",toggleStyle:"",width:"",height:"",disabled:!1}).controller("ToggleController",["$scope","$attrs","$interpolate","$log","toggleConfig","$toggleSuppressError",function(e,t,n,i,r,a){var o,s,l,c=this,u={$setViewValue:angular.noop},d=Object.keys(r);angular.forEach(d,function(i,a){if(angular.isDefined(t[i]))switch(typeof r[i]){case"string":c[i]=n(t[i])(e.$parent);break;case"function":break;default:c[i]=e.$parent.$eval(t[i])}else c[i]=r[i]}),this.init=function(n){u=n,o=c.element.find("label"),s=c.element.find("span"),l=c.element.find("div"),angular.element(o[0]).html(c.on),angular.element(o[1]).html(c.off),c.computeStyle(),u.$render=function(){c.toggle()},angular.isDefined(t.ngChange)&&u.$viewChangeListeners.push(function(){e.$eval(t.ngChange)})},this.computeStyle=function(){if(angular.element(o[0]).attr("disabled",c.disabled),angular.element(o[1]).attr("disabled",c.disabled),angular.element(s[0]).attr("disabled",c.disabled),e.wrapperStyle=c.toggleStyle?e.$parent.$eval(c.toggleStyle):{},c.width)e.wrapperStyle.width=c.width;else{var t=Math.max(o[0].offsetWidth,o[1].offsetWidth),n=l[0].offsetWidth;e.wrapperStyle.width=n<t?t+"px":n+"px"}if(c.height)e.wrapperStyle.height=c.height;else{var i=Math.max(o[0].offsetHeight,o[1].offsetHeight),r=l[1].offsetHeight;r<i&&"btn-xs"!==c.size&&"btn-sm"!==c.size?e.wrapperStyle.height=i+"px":e.wrapperStyle.height=r+"px"}e.onClass=[c.onstyle,c.size,"toggle-on"],e.offClass=[c.offstyle,c.size,"toggle-off"],e.handleClass=[c.size,"toggle-handle"]},this.toggle=function(){angular.isDefined(u.$viewValue)&&u.$viewValue?e.wrapperClass=[c.onstyle,c.size,c.style]:e.wrapperClass=[c.offstyle,"off ",c.size,c.style]},e.onSwitch=function(e){return!c.disabled&&(u.$setViewValue(!u.$viewValue),u.$render(),!0)},angular.forEach(["ngModel"],function(n){var i=e.$parent.$watch(t[n],function(e){u.$render()});e.$parent.$on("$destroy",function(){i()})}),angular.forEach(d,function(e,n){t.$observe(e,function(t){c[e]!==t&&(c[e]=t,c.computeStyle())})})}]).directive("toggle",function(){return{restrict:"E",transclude:!0,template:'<div class="toggle btn" ng-class="wrapperClass" ng-style="wrapperStyle" ng-click="onSwitch($event)"><div class="toggle-group"><label class="btn" ng-class="onClass"></label><label class="btn active" ng-class="offClass"></label><span class="btn btn-default" ng-class="handleClass"></span></div></div>',scope:{ngModel:"="},require:["toggle","ngModel"],controller:"ToggleController",controllerAs:"toggle",compile:function(e,t,n){return{pre:function(e,t,n,i){var r=i[0],a=i[1];r.element=t,r.init(a)},post:function(){}}}}})}(),/**
 * Rangy, a cross-browser JavaScript range and selection library
 * https://github.com/timdown/rangy
 *
 * Copyright 2015, Tim Down
 * Licensed under the MIT license.
 * Version: 1.3.0
 * Build date: 10 May 2015
 */
function(e,t){"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e():t.rangy=e()}(function(){function e(e,t){var n=typeof e[t];return n==w||!(n!=y||!e[t])||"unknown"==n}function t(e,t){return!(typeof e[t]!=y||!e[t])}function n(e,t){return typeof e[t]!=x}function i(e){return function(t,n){for(var i=n.length;i--;)if(!e(t,n[i]))return!1;return!0}}function r(e){return e&&$(e,S)&&T(e,C)}function a(e){return t(e,"body")?e.body:e.getElementsByTagName("body")[0]}function o(t){typeof console!=x&&e(console,"log")&&console.log(t)}function s(e,t){A&&t?alert(e):o(e)}function l(e){P.initialized=!0,P.supported=!1,s("Rangy is not supported in this environment. Reason: "+e,P.config.alertOnFail)}function c(e){s("Rangy warning: "+e,P.config.alertOnWarn)}function u(e){return e.message||e.description||String(e)}function d(){if(A&&!P.initialized){var t,n=!1,i=!1;e(document,"createRange")&&(t=document.createRange(),$(t,k)&&T(t,_)&&(n=!0));var s=a(document);if(!s||"body"!=s.nodeName.toLowerCase())return void l("No body element found");if(s&&e(s,"createTextRange")&&(t=s.createTextRange(),r(t)&&(i=!0)),!n&&!i)return void l("Neither Range nor TextRange are available");P.initialized=!0,P.features={implementsDomRange:n,implementsTextRange:i};var c,d;for(var h in M)(c=M[h])instanceof g&&c.init(c,P);for(var p=0,f=N.length;p<f;++p)try{N[p](P)}catch(e){d="Rangy init listener threw an exception. Continuing. Detail: "+u(e),o(d)}}}function h(e,t,n){n&&(e+=" in module "+n.name),P.warn("DEPRECATED: "+e+" is deprecated. Please use "+t+" instead.")}function p(e,t,n,i){e[t]=function(){return h(t,n,i),e[n].apply(e,O.toArray(arguments))}}function f(e){e=e||window,d();for(var t=0,n=L.length;t<n;++t)L[t](e)}function g(e,t,n){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=n}function m(e,t,n){var i=new g(e,t,function(t){if(!t.initialized){t.initialized=!0;try{n(P,t),t.supported=!0}catch(t){var i="Module '"+e+"' failed to load: "+u(t);o(i),t.stack&&o(t.stack)}}});return M[e]=i,i}function v(){}function b(){}var y="object",w="function",x="undefined",_=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],k=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],C=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],S=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],$=i(e),D=i(t),T=i(n),E=[].forEach?function(e,t){e.forEach(t)}:function(e,t){for(var n=0,i=e.length;n<i;++n)t(e[n],n)},M={},A=typeof window!=x&&typeof document!=x,O={isHostMethod:e,isHostObject:t,isHostProperty:n,areHostMethods:$,areHostObjects:D,areHostProperties:T,isTextRange:r,getBody:a,forEach:E},P={version:"1.3.0",initialized:!1,isBrowser:A,supported:!0,util:O,features:{},modules:M,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==x||rangyAutoInitialize}};P.fail=l,P.warn=c;var I;!{}.hasOwnProperty?l("hasOwnProperty not supported"):(O.extend=I=function(e,t,n){var i,r;for(var a in t)t.hasOwnProperty(a)&&(i=e[a],r=t[a],n&&null!==i&&"object"==typeof i&&null!==r&&"object"==typeof r&&I(i,r,!0),e[a]=r);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e},O.createOptions=function(e,t){var n={};return I(n,t),e&&I(n,e),n}),A||l("Rangy can only run in a browser"),function(){var e;if(A){var t=document.createElement("div");t.appendChild(document.createElement("span"));var n=[].slice;try{1==n.call(t.childNodes,0)[0].nodeType&&(e=function(e){return n.call(e,0)})}catch(e){}}e||(e=function(e){for(var t=[],n=0,i=e.length;n<i;++n)t[n]=e[n];return t}),O.toArray=e}();var R;A&&(e(document,"addEventListener")?R=function(e,t,n){e.addEventListener(t,n,!1)}:e(document,"attachEvent")?R=function(e,t,n){e.attachEvent("on"+t,n)}:l("Document does not have required addEventListener or attachEvent method"),O.addListener=R);var N=[];O.deprecationNotice=h,O.createAliasForDeprecatedMethod=p,P.init=d,P.addInitListener=function(e){P.initialized?e(P):N.push(e)};var L=[];P.addShimListener=function(e){L.push(e)},A&&(P.shim=P.createMissingNativeApi=f,p(P,"createMissingNativeApi","shim")),g.prototype={init:function(){for(var e,t,n=this.dependencies||[],i=0,r=n.length;i<r;++i){if(t=n[i],!((e=M[t])&&e instanceof g))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error(e)},warn:function(e){P.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){P.warn("DEPRECATED: "+e+" in module "+this.name+" is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},P.createModule=function(e){var t,n;2==arguments.length?(t=arguments[1],n=[]):(t=arguments[2],n=arguments[1]);var i=m(e,n,t);P.initialized&&P.supported&&i.init()},P.createCoreModule=function(e,t,n){m(e,t,n)},P.RangePrototype=v,P.rangePrototype=new v,P.selectionPrototype=new b,P.createCoreModule("DomUtil",[],function(e,t){function n(e){var t;return typeof e.namespaceURI==A||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function i(e){var t=e.parentNode;return 1==t.nodeType?t:null}function r(e){for(var t=0;e=e.previousSibling;)++t;return t}function a(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}}function o(e,t){var n,i=[];for(n=e;n;n=n.parentNode)i.push(n);for(n=t;n;n=n.parentNode)if(N(i,n))return n;return null}function s(e,t,n){for(var i=n?t:t.parentNode;i;){if(i===e)return!0;i=i.parentNode}return!1}function l(e,t){return s(e,t,!0)}function c(e,t,n){for(var i,r=n?e:e.parentNode;r;){if((i=r.parentNode)===t)return r;r=i}return null}function u(e){var t=e.nodeType;return 3==t||4==t||8==t}function d(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t}function h(e,t){var n=t.nextSibling,i=t.parentNode;return n?i.insertBefore(e,n):i.appendChild(e),e}function p(e,t,n){var i=e.cloneNode(!1);if(i.deleteData(0,t),e.deleteData(t,e.length-t),h(i,e),n)for(var a,o=0;a=n[o++];)a.node==e&&a.offset>t?(a.node=i,a.offset-=t):a.node==e.parentNode&&a.offset>r(e)&&++a.offset;return i}function f(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=A)return e.ownerDocument;if(typeof e.document!=A)return e.document;if(e.parentNode)return f(e.parentNode);throw t.createError("getDocument: no document found for node")}function g(e){var n=f(e);if(typeof n.defaultView!=A)return n.defaultView;if(typeof n.parentWindow!=A)return n.parentWindow;throw t.createError("Cannot get a window object for node")}function m(e){if(typeof e.contentDocument!=A)return e.contentDocument;if(typeof e.contentWindow!=A)return e.contentWindow.document;throw t.createError("getIframeDocument: No Document object found for iframe element")}function v(e){if(typeof e.contentWindow!=A)return e.contentWindow;if(typeof e.contentDocument!=A)return e.contentDocument.defaultView;throw t.createError("getIframeWindow: No Window object found for iframe element")}function b(e){return e&&O.isHostMethod(e,"setTimeout")&&O.isHostObject(e,"document")}function y(e,t,n){var i;if(e?O.isHostProperty(e,"nodeType")?i=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?m(e):f(e):b(e)&&(i=e.document):i=document,!i)throw t.createError(n+"(): Parameter must be a Window object or DOM node");return i}function w(e){for(var t;t=e.parentNode;)e=t;return e}function x(e,n,i,a){var s,l,u,d,h;if(e==i)return n===a?0:n<a?-1:1;if(s=c(i,e,!0))return n<=r(s)?-1:1;if(s=c(e,i,!0))return r(s)<a?-1:1;if(!(l=o(e,i)))throw new Error("comparePoints error: nodes have no common ancestor");if(u=e===l?l:c(e,l,!0),d=i===l?l:c(i,l,!0),u===d)throw t.createError("comparePoints got to case 4 and childA and childB are the same!");for(h=l.firstChild;h;){if(h===u)return-1;if(h===d)return 1;h=h.nextSibling}}function _(e){try{return e.parentNode,!1}catch(e){return!0}}function k(e){if(!e)return"[No node]";if(L&&_(e))return"[Broken node]";if(u(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+r(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return e.nodeName}function C(e){for(var t,n=f(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n}function S(e,t,n){var i=P(e),r=e.createElement("div");r.contentEditable=""+!!n,t&&(r.innerHTML=t);var a=i.firstChild;return a?i.insertBefore(r,a):i.appendChild(r),r}function $(e){return e.parentNode.removeChild(e)}function D(e){this.root=e,this._next=e}function T(e){return new D(e)}function E(e,t){this.node=e,this.offset=t}function M(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var A="undefined",O=e.util,P=O.getBody;O.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),O.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var I=document.createElement("div");O.areHostMethods(I,["insertBefore","appendChild","cloneNode"]||!O.areHostObjects(I,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),O.isHostProperty(I,"innerHTML")||t.fail("Element is missing innerHTML property");var R=document.createTextNode("test");O.areHostMethods(R,["splitText","deleteData","insertData","appendData","cloneNode"]||!O.areHostObjects(I,["previousSibling","nextSibling","childNodes","parentNode"])||!O.areHostProperties(R,["data"]))||t.fail("Incomplete Text Node implementation");var N=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},L=!1;!function(){var t=document.createElement("b");t.innerHTML="1";var n=t.firstChild;t.innerHTML="<br />",L=_(n),e.features.crashyTextNodes=L}();var F;typeof window.getComputedStyle!=A?F=function(e,t){return g(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=A?F=function(e,t){return e.currentStyle?e.currentStyle[t]:""}:t.fail("No means of obtaining computed style properties found"),D.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},E.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+k(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},M.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},M.prototype.toString=function(){return this.message},e.dom={arrayContains:N,isHtmlNamespace:n,parentElement:i,getNodeIndex:r,getNodeLength:a,getCommonAncestor:o,isAncestorOf:s,isOrIsAncestorOf:l,getClosestAncestorIn:c,isCharacterDataNode:u,isTextOrCommentNode:d,insertAfter:h,splitDataNode:p,getDocument:f,getWindow:g,getIframeWindow:v,getIframeDocument:m,getBody:P,isWindow:b,getContentDocument:y,getRootContainer:w,comparePoints:x,isBrokenNode:_,inspectNode:k,getComputedStyleProperty:F,createTestElement:S,removeNode:$,fragmentFromNodeChildren:C,createIterator:T,DomPosition:E},e.DOMException=M}),P.createCoreModule("DomRange",["DomUtil"],function(e,t){function n(e,t){return 3!=e.nodeType&&(H(e,t.startContainer)||H(e,t.endContainer))}function i(e){return e.document||W(e.startContainer)}function r(e){return K(e.startContainer)}function a(e){return new L(e.parentNode,j(e))}function o(e){return new L(e.parentNode,j(e)+1)}function s(e,t,n){var i=11==e.nodeType?e.firstChild:e;return z(t)?n==t.length?R.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:V(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),i}function l(e,t,n){if(S(e),S(t),i(t)!=i(e))throw new F("WRONG_DOCUMENT_ERR");var r=B(e.startContainer,e.startOffset,t.endContainer,t.endOffset),a=B(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return n?r<=0&&a>=0:r<0&&a>0}function c(e){for(var t,n,r,a=i(e.range).createDocumentFragment();n=e.next();){if(t=e.isPartiallySelectedSubtree(),n=n.cloneNode(!t),t&&(r=e.getSubtreeIterator(),n.appendChild(c(r)),r.detach()),10==n.nodeType)throw new F("HIERARCHY_REQUEST_ERR");a.appendChild(n)}return a}function u(e,t,n){var i,r;n=n||{stop:!1};for(var a,o;a=e.next();)if(e.isPartiallySelectedSubtree()){if(!1===t(a))return void(n.stop=!0);if(o=e.getSubtreeIterator(),u(o,t,n),o.detach(),n.stop)return}else for(i=R.createIterator(a);r=i.next();)if(!1===t(r))return void(n.stop=!0)}function d(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(t=e.getSubtreeIterator(),d(t),t.detach()):e.remove()}function h(e){for(var t,n,r=i(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),n=e.getSubtreeIterator(),t.appendChild(h(n)),n.detach()):e.remove(),10==t.nodeType)throw new F("HIERARCHY_REQUEST_ERR");r.appendChild(t)}return r}function p(e,t,n){var i,r=!(!t||!t.length),a=!!n;r&&(i=new RegExp("^("+t.join("|")+")$"));var o=[];return u(new g(e,!1),function(t){if((!r||i.test(t.nodeType))&&(!a||n(t))){var s=e.startContainer;if(t!=s||!z(s)||e.startOffset!=s.length){var l=e.endContainer;t==l&&z(l)&&0==e.endOffset||o.push(t)}}}),o}function f(e){return"["+(void 0===e.getName?"Range":e.getName())+"("+R.inspectNode(e.startContainer)+":"+e.startOffset+", "+R.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function g(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&z(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||z(this.sc)?U(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||z(this.ec)?U(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function m(e){return function(t,n){for(var i,r=n?t:t.parentNode;r;){if(i=r.nodeType,Y(e,i))return r;r=r.parentNode}return null}}function v(e,t){if(re(e,t))throw new F("INVALID_NODE_TYPE_ERR")}function b(e,t){if(!Y(t,e.nodeType))throw new F("INVALID_NODE_TYPE_ERR")}function y(e,t){if(t<0||t>(z(e)?e.length:e.childNodes.length))throw new F("INDEX_SIZE_ERR")}function w(e,t){if(ne(e,!0)!==ne(t,!0))throw new F("WRONG_DOCUMENT_ERR")}function x(e){if(ie(e,!0))throw new F("NO_MODIFICATION_ALLOWED_ERR")}function _(e,t){if(!e)throw new F(t)}function k(e,t){return t<=(z(e)?e.length:e.childNodes.length)}function C(e){return!!e.startContainer&&!!e.endContainer&&!(G&&(R.isBrokenNode(e.startContainer)||R.isBrokenNode(e.endContainer)))&&K(e.startContainer)==K(e.endContainer)&&k(e.startContainer,e.startOffset)&&k(e.endContainer,e.endOffset)}function S(e){if(!C(e))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+e.inspect()+")")}function $(e,t){S(e);var n=e.startContainer,i=e.startOffset,r=e.endContainer,a=e.endOffset,o=n===r;z(r)&&a>0&&a<r.length&&V(r,a,t),z(n)&&i>0&&i<n.length&&(n=V(n,i,t),o?(a-=i,r=n):r==n.parentNode&&a>=j(n)&&a++,i=0),e.setStartAndEnd(n,i,r,a)}function D(e){S(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}function T(e){e.START_TO_START=ce,e.START_TO_END=ue,e.END_TO_END=de,e.END_TO_START=he,e.NODE_BEFORE=pe,e.NODE_AFTER=fe,e.NODE_BEFORE_AND_AFTER=ge,e.NODE_INSIDE=me}function E(e){T(e),T(e.prototype)}function M(e,t){return function(){S(this);var n,i,r=this.startContainer,a=this.startOffset,s=this.commonAncestorContainer,l=new g(this,!0);r!==s&&(n=U(r,s,!0),i=o(n),r=i.node,a=i.offset),u(l,x),l.reset();var c=e(l);return l.detach(),t(this,r,a,r,a),c}}function A(t,i){function r(e,t){return function(n){b(n,J),b(K(n),Z);var i=(e?a:o)(n);(t?s:l)(this,i.node,i.offset)}}function s(e,t,n){var r=e.endContainer,a=e.endOffset;t===e.startContainer&&n===e.startOffset||(K(t)==K(r)&&1!=B(t,n,r,a)||(r=t,a=n),i(e,t,n,r,a))}function l(e,t,n){var r=e.startContainer,a=e.startOffset;t===e.endContainer&&n===e.endOffset||(K(t)==K(r)&&-1!=B(t,n,r,a)||(r=t,a=n),i(e,r,a,t,n))}var c=function(){};c.prototype=e.rangePrototype,t.prototype=new c,N.extend(t.prototype,{setStart:function(e,t){v(e,!0),y(e,t),s(this,e,t)},setEnd:function(e,t){v(e,!0),y(e,t),l(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],n=e[1],r=t,a=n;switch(e.length){case 3:a=e[2];break;case 4:r=e[2],a=e[3]}i(this,t,n,r,a)},setBoundary:function(e,t,n){this["set"+(n?"Start":"End")](e,t)},setStartBefore:r(!0,!0),setStartAfter:r(!1,!0),setEndBefore:r(!0,!1),setEndAfter:r(!1,!1),collapse:function(e){S(this),e?i(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):i(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){v(e,!0),i(this,e,0,e,q(e))},selectNode:function(e){v(e,!1),b(e,J);var t=a(e),n=o(e);i(this,t.node,t.offset,n.node,n.offset)},extractContents:M(h,i),deleteContents:M(d,i),canSurroundContents:function(){S(this),x(this.startContainer),x(this.endContainer);var e=new g(this,!0),t=e._first&&n(e._first,this)||e._last&&n(e._last,this);return e.detach(),!t},splitBoundaries:function(){$(this)},splitBoundariesPreservingPositions:function(e){$(this,e)},normalizeBoundaries:function(){S(this);var e,t=this.startContainer,n=this.startOffset,r=this.endContainer,a=this.endOffset,o=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(r=e,a=e.length,e.appendData(t.data),X(t))},s=function(e){var i=e.previousSibling;if(i&&i.nodeType==e.nodeType){t=e;var o=e.length;if(n=i.length,e.insertData(0,i.data),X(i),t==r)a+=n,r=t;else if(r==e.parentNode){var s=j(e);a==s?(r=e,a=o):a>s&&a--}}},l=!0;if(z(r))a==r.length?o(r):0==a&&(e=r.previousSibling)&&e.nodeType==r.nodeType&&(a=e.length,t==r&&(l=!1),e.appendData(r.data),X(r),r=e);else{if(a>0){var c=r.childNodes[a-1];c&&z(c)&&o(c)}l=!this.collapsed}if(l){if(z(t))0==n?s(t):n==t.length&&(e=t.nextSibling)&&e.nodeType==t.nodeType&&(r==e&&(r=t,a+=t.length),t.appendData(e.data),X(e));else if(n<t.childNodes.length){var u=t.childNodes[n];u&&z(u)&&s(u)}}else t=r,n=a;i(this,t,n,r,a)},collapseToPoint:function(e,t){v(e,!0),y(e,t),this.setStartAndEnd(e,t)}}),E(t)}function O(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:R.getCommonAncestor(e.startContainer,e.endContainer)}function P(e,t,n,i,r){e.startContainer=t,e.startOffset=n,e.endContainer=i,e.endOffset=r,e.document=R.getDocument(t),O(e)}function I(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,O(this)}var R=e.dom,N=e.util,L=R.DomPosition,F=e.DOMException,z=R.isCharacterDataNode,j=R.getNodeIndex,H=R.isOrIsAncestorOf,W=R.getDocument,B=R.comparePoints,V=R.splitDataNode,U=R.getClosestAncestorIn,q=R.getNodeLength,Y=R.arrayContains,K=R.getRootContainer,G=e.features.crashyTextNodes,X=R.removeNode;g.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,z(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!z(n)||n!==this.sc&&n!==this.ec?n.parentNode&&X(n):(e=n===this.sc?this.so:0,t=n===this.ec?this.eo:n.length,e!=t&&n.deleteData(e,t-e))},isPartiallySelectedSubtree:function(){return n(this._current,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)e=this.range.cloneRange(),e.collapse(!1);else{e=new I(i(this.range));var t=this._current,n=t,r=0,a=t,o=q(t);H(t,this.sc)&&(n=this.sc,r=this.so),H(t,this.ec)&&(a=this.ec,o=this.eo),P(e,n,r,a,o)}return new g(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var J=[1,3,4,5,7,8,10],Z=[2,9,11],Q=[5,6,10,12],ee=[1,3,4,5,7,8,10,11],te=[1,3,4,5,7,8],ne=m([9,11]),ie=m(Q),re=m([6,10,12]),ae=document.createElement("style"),oe=!1;try{ae.innerHTML="<b>x</b>",oe=3==ae.firstChild.nodeType}catch(e){}e.features.htmlParsingConforms=oe;var se=oe?function(e){var t=this.startContainer,n=W(t);if(!t)throw new F("INVALID_STATE_ERR");var i=null;return 1==t.nodeType?i=t:z(t)&&(i=R.parentElement(t)),i=null===i||"HTML"==i.nodeName&&R.isHtmlNamespace(W(i).documentElement)&&R.isHtmlNamespace(i)?n.createElement("body"):i.cloneNode(!1),i.innerHTML=e,R.fragmentFromNodeChildren(i)}:function(e){var t=i(this),n=t.createElement("body");return n.innerHTML=e,R.fragmentFromNodeChildren(n)},le=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],ce=0,ue=1,de=2,he=3,pe=0,fe=1,ge=2,me=3;N.extend(e.rangePrototype,{compareBoundaryPoints:function(e,t){S(this),w(this.startContainer,t.startContainer);var n,i,r,a,o=e==he||e==ce?"start":"end",s=e==ue||e==ce?"start":"end";return n=this[o+"Container"],i=this[o+"Offset"],r=t[s+"Container"],a=t[s+"Offset"],B(n,i,r,a)},insertNode:function(e){if(S(this),b(e,ee),x(this.startContainer),H(e,this.startContainer))throw new F("HIERARCHY_REQUEST_ERR");var t=s(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){S(this);var e,t;if(this.collapsed)return i(this).createDocumentFragment();if(this.startContainer===this.endContainer&&z(this.startContainer))return e=this.startContainer.cloneNode(!0),e.data=e.data.slice(this.startOffset,this.endOffset),t=i(this).createDocumentFragment(),t.appendChild(e),t;var n=new g(this,!0);return e=c(n),n.detach(),e},canSurroundContents:function(){S(this),x(this.startContainer),x(this.endContainer);var e=new g(this,!0),t=e._first&&n(e._first,this)||e._last&&n(e._last,this);return e.detach(),!t},surroundContents:function(e){if(b(e,te),!this.canSurroundContents())throw new F("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);s(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){S(this);for(var e,t=new I(i(this)),n=le.length;n--;)e=le[n],t[e]=this[e];return t},toString:function(){S(this);var e=this.startContainer;if(e===this.endContainer&&z(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new g(this,!0);return u(n,function(e){3!=e.nodeType&&4!=e.nodeType||t.push(e.data)}),n.detach(),t.join("")},compareNode:function(e){S(this);var t=e.parentNode,n=j(e);if(!t)throw new F("NOT_FOUND_ERR");var i=this.comparePoint(t,n),r=this.comparePoint(t,n+1);return i<0?r>0?ge:pe:r>0?fe:me},comparePoint:function(e,t){return S(this),_(e,"HIERARCHY_REQUEST_ERR"),w(e,this.startContainer),B(e,t,this.startContainer,this.startOffset)<0?-1:B(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:se,toHtml:function(){return D(this)},intersectsNode:function(e,t){if(S(this),K(e)!=r(this))return!1;var n=e.parentNode,i=j(e);if(!n)return!0;var a=B(n,i,this.endContainer,this.endOffset),o=B(n,i+1,this.startContainer,this.startOffset);return t?a<=0&&o>=0:a<0&&o>0},isPointInRange:function(e,t){return S(this),_(e,"HIERARCHY_REQUEST_ERR"),w(e,this.startContainer),B(e,t,this.startContainer,this.startOffset)>=0&&B(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return l(this,e,!1)},intersectsOrTouchesRange:function(e){return l(this,e,!0)},intersection:function(e){if(this.intersectsRange(e)){var t=B(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=B(this.endContainer,this.endOffset,e.endContainer,e.endOffset),i=this.cloneRange();return-1==t&&i.setStart(e.startContainer,e.startOffset),1==n&&i.setEnd(e.endContainer,e.endOffset),i}return null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return-1==B(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==B(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new F("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==me},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,q(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(n.length>0){t.setStart(n[0],0);var i=n.pop();return t.setEnd(i,i.length),this.containsRange(t)}return this.containsNodeContents(e)},getNodes:function(e,t){return S(this),p(this,e,t)},getDocument:function(){return i(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(t){var n=i(this),r=e.createRange(n);t=t||R.getBody(n),r.selectNodeContents(t);var a=this.intersection(r),o=0,s=0;return a&&(r.setEnd(a.startContainer,a.startOffset),o=r.toString().length,s=o+a.toString().length),{start:o,end:s,containerNode:t}},moveToBookmark:function(e){var t=e.containerNode,n=0;this.setStart(t,0),this.collapse(!0);for(var i,r,a,o,s=[t],l=!1,c=!1;!c&&(i=s.pop());)if(3==i.nodeType)r=n+i.length,!l&&e.start>=n&&e.start<=r&&(this.setStart(i,e.start-n),l=!0),l&&e.end>=n&&e.end<=r&&(this.setEnd(i,e.end-n),c=!0),n=r;else for(o=i.childNodes,a=o.length;a--;)s.push(o[a])},getName:function(){return"DomRange"},equals:function(e){return I.rangesEqual(this,e)},isValid:function(){return C(this)},inspect:function(){return f(this)},detach:function(){}}),A(I,P),N.extend(I,{rangeProperties:le,RangeIterator:g,copyComparisonConstants:E,createPrototypeRange:A,inspect:f,toHtml:D,getRangeDocument:i,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),e.DomRange=I}),P.createCoreModule("WrappedRange",["DomRange"],function(e,t){var n,i,r=e.dom,a=e.util,o=r.DomPosition,s=e.DomRange,l=r.getBody,c=r.getContentDocument,u=r.isCharacterDataNode;if(e.features.implementsDomRange&&function(){function i(e){for(var t,n=h.length;n--;)t=h[n],e[t]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}function o(e,t,n,i,r){var a=e.startContainer!==t||e.startOffset!=n,o=e.endContainer!==i||e.endOffset!=r,s=!e.equals(e.nativeRange);(a||o||s)&&(e.setEnd(i,r),e.setStart(t,n))}var u,d,h=s.rangeProperties;n=function(e){if(!e)throw t.createError("WrappedRange: Range must be specified");this.nativeRange=e,i(this)},s.createPrototypeRange(n,o),u=n.prototype,u.selectNode=function(e){this.nativeRange.selectNode(e),i(this)},u.cloneContents=function(){return this.nativeRange.cloneContents()},u.surroundContents=function(e){this.nativeRange.surroundContents(e),i(this)},u.collapse=function(e){this.nativeRange.collapse(e),i(this)},u.cloneRange=function(){return new n(this.nativeRange.cloneRange())},u.refresh=function(){i(this)},u.toString=function(){return this.nativeRange.toString()};var p=document.createTextNode("test");l(document).appendChild(p);var f=document.createRange();f.setStart(p,0),f.setEnd(p,0);try{f.setStart(p,1),u.setStart=function(e,t){this.nativeRange.setStart(e,t),i(this)},u.setEnd=function(e,t){this.nativeRange.setEnd(e,t),i(this)},d=function(e){return function(t){this.nativeRange[e](t),i(this)}}}catch(e){u.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(n){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}i(this)},u.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(n){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}i(this)},d=function(e,t){return function(n){try{this.nativeRange[e](n)}catch(i){this.nativeRange[t](n),this.nativeRange[e](n)}i(this)}}}u.setStartBefore=d("setStartBefore","setEndBefore"),u.setStartAfter=d("setStartAfter","setEndAfter"),u.setEndBefore=d("setEndBefore","setStartBefore"),u.setEndAfter=d("setEndAfter","setStartAfter"),u.selectNodeContents=function(e){this.setStartAndEnd(e,0,r.getNodeLength(e))},f.selectNodeContents(p),f.setEnd(p,3);var g=document.createRange();g.selectNodeContents(p),g.setEnd(p,4),g.setStart(p,2),-1==f.compareBoundaryPoints(f.START_TO_END,g)&&1==f.compareBoundaryPoints(f.END_TO_START,g)?u.compareBoundaryPoints=function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:u.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};var m=document.createElement("div");m.innerHTML="123";var v=m.firstChild,b=l(document);b.appendChild(m),f.setStart(v,1),f.setEnd(v,2),f.deleteContents(),"13"==v.data&&(u.deleteContents=function(){this.nativeRange.deleteContents(),i(this)},u.extractContents=function(){var e=this.nativeRange.extractContents();return i(this),e}),b.removeChild(m),b=null,a.isHostMethod(f,"createContextualFragment")&&(u.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),l(document).removeChild(p),u.getName=function(){return"WrappedRange"},e.WrappedRange=n,e.createNativeRange=function(e){return e=c(e,t,"createNativeRange"),e.createRange()}}(),e.features.implementsTextRange){var d=function(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var i=n.parentElement();n=e.duplicate(),n.collapse(!1);var a=n.parentElement(),o=i==a?i:r.getCommonAncestor(i,a);return o==t?o:r.getCommonAncestor(t,o)},h=function(e){return 0==e.compareEndPoints("StartToEnd",e)},p=function(e,t,n,i,a){var s=e.duplicate();s.collapse(n);var l=s.parentElement();if(r.isOrIsAncestorOf(t,l)||(l=t),!l.canHaveHTML){var c=new o(l.parentNode,r.getNodeIndex(l));return{boundaryPosition:c,nodeInfo:{nodeIndex:c.offset,containerElement:c.node}}}var d=r.getDocument(l).createElement("span");d.parentNode&&r.removeNode(d);for(var h,p,f,g,m,v=n?"StartToStart":"StartToEnd",b=a&&a.containerElement==l?a.nodeIndex:0,y=l.childNodes.length,w=y,x=w;;){if(x==y?l.appendChild(d):l.insertBefore(d,l.childNodes[x]),s.moveToElementText(d),0==(h=s.compareEndPoints(v,e))||b==w)break;if(-1==h){if(w==b+1)break;b=x}else w=w==b+1?b:x;x=Math.floor((b+w)/2),l.removeChild(d)}if(m=d.nextSibling,-1==h&&m&&u(m)){s.setEndPoint(n?"EndToStart":"EndToEnd",e);var _;if(/[\r\n]/.test(m.data)){var k=s.duplicate(),C=k.text.replace(/\r\n/g,"\r").length;for(_=k.moveStart("character",C);-1==(h=k.compareEndPoints("StartToEnd",k));)_++,k.moveStart("character",1)}else _=s.text.length;g=new o(m,_)}else p=(i||!n)&&d.previousSibling,f=(i||n)&&d.nextSibling,g=f&&u(f)?new o(f,0):p&&u(p)?new o(p,p.data.length):new o(l,r.getNodeIndex(d));return r.removeNode(d),{boundaryPosition:g,nodeInfo:{nodeIndex:x,containerElement:l}}},f=function(e,t){var n,i,a,o,s=e.offset,c=r.getDocument(e.node),d=l(c).createTextRange(),h=u(e.node);return h?(n=e.node,i=n.parentNode):(o=e.node.childNodes,n=s<o.length?o[s]:null,i=e.node),a=c.createElement("span"),a.innerHTML="&#feff;",n?i.insertBefore(a,n):i.appendChild(a),d.moveToElementText(a),d.collapse(!t),i.removeChild(a),h&&d[t?"moveStart":"moveEnd"]("character",s),d};i=function(e){this.textRange=e,this.refresh()},i.prototype=new s(document),i.prototype.refresh=function(){
var e,t,n,i=d(this.textRange);h(this.textRange)?t=e=p(this.textRange,i,!0,!0).boundaryPosition:(n=p(this.textRange,i,!0,!1),e=n.boundaryPosition,t=p(this.textRange,i,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},i.prototype.getName=function(){return"WrappedTextRange"},s.copyComparisonConstants(i);var g=function(e){if(e.collapsed)return f(new o(e.startContainer,e.startOffset),!0);var t=f(new o(e.startContainer,e.startOffset),!0),n=f(new o(e.endContainer,e.endOffset),!1),i=l(s.getRangeDocument(e)).createTextRange();return i.setEndPoint("StartToStart",t),i.setEndPoint("EndToEnd",n),i};if(i.rangeToTextRange=g,i.prototype.toTextRange=function(){return g(this)},e.WrappedTextRange=i,!e.features.implementsDomRange||e.config.preferTextRange){var m=function(e){return e("return this;")()}(Function);void 0===m.Range&&(m.Range=i),e.createNativeRange=function(e){return e=c(e,t,"createNativeRange"),l(e).createTextRange()},e.WrappedRange=i}}e.createRange=function(n){return n=c(n,t,"createRange"),new e.WrappedRange(e.createNativeRange(n))},e.createRangyRange=function(e){return e=c(e,t,"createRangyRange"),new s(e)},a.createAliasForDeprecatedMethod(e,"createIframeRange","createRange"),a.createAliasForDeprecatedMethod(e,"createIframeRangyRange","createRangyRange"),e.addShimListener(function(t){var n=t.document;void 0===n.createRange&&(n.createRange=function(){return e.createRange(n)}),n=t=null})}),P.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(e,t){function n(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function i(e,n){if(e){if($.isWindow(e))return e;if(e instanceof v)return e.win;var i=$.getContentDocument(e,t,n);return $.getWindow(i)}return window}function r(e){return i(e,"getWinSelection").getSelection()}function a(e){return i(e,"getDocSelection").document.selection}function o(e){var t=!1;return e.anchorNode&&(t=1==$.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}function s(e,t,n){var i=n?"end":"start",r=n?"start":"end";e.anchorNode=t[i+"Container"],e.anchorOffset=t[i+"Offset"],e.focusNode=t[r+"Container"],e.focusOffset=t[r+"Offset"]}function l(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function c(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function u(t){var n;return t instanceof E?(n=e.createNativeRange(t.getDocument()),n.setEnd(t.endContainer,t.endOffset),n.setStart(t.startContainer,t.startOffset)):t instanceof M?n=t.nativeRange:P.implementsDomRange&&t instanceof $.getWindow(t.startContainer).Range&&(n=t),n}function d(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;t<n;++t)if(!$.isAncestorOf(e[0],e[t]))return!1;return!0}function h(e){var n=e.getNodes();if(!d(n))throw t.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return n[0]}function p(e){return!!e&&void 0!==e.text}function f(e,t){var n=new M(t);e._ranges=[n],s(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function g(t){if(t._ranges.length=0,"None"==t.docSelection.type)c(t);else{var n=t.docSelection.createRange();if(p(n))f(t,n);else{t.rangeCount=n.length;for(var i,r=I(n.item(0)),a=0;a<t.rangeCount;++a)i=e.createRange(r),i.selectNode(n.item(a)),t._ranges.push(i);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,s(t,t._ranges[t.rangeCount-1],!1)}}}function m(e,n){for(var i=e.docSelection.createRange(),r=h(n),a=I(i.item(0)),o=R(a).createControlRange(),s=0,l=i.length;s<l;++s)o.add(i.item(s));try{o.add(r)}catch(e){throw t.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}o.select(),g(e)}function v(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function b(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}function y(e,t){for(var n,i,r=Z.length;r--;)if(n=Z[r],i=n.selection,"deleteAll"==t)b(i);else if(n.win==e)return"delete"==t?(Z.splice(r,1),!0):i;return"deleteAll"==t&&(Z.length=0),null}function w(e,n){for(var i,r=I(n[0].startContainer),a=R(r).createControlRange(),o=0,s=n.length;o<s;++o){i=h(n[o]);try{a.add(i)}catch(e){throw t.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}a.select(),g(e)}function x(e,t){if(e.win.document!=I(t))throw new A("WRONG_DOCUMENT_ERR")}function _(t){return function(n,i){var r;this.rangeCount?(r=this.getRangeAt(0),r["set"+(t?"Start":"End")](n,i)):(r=e.createRange(this.win.document),r.setStartAndEnd(n,i)),this.setSingleRange(r,this.isBackward())}}function k(e){var t=[],n=new O(e.anchorNode,e.anchorOffset),i=new O(e.focusNode,e.focusOffset),r="function"==typeof e.getName?e.getName():"Selection";if(void 0!==e.rangeCount)for(var a=0,o=e.rangeCount;a<o;++a)t[a]=E.inspect(e.getRangeAt(a));return"["+r+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+i.inspect()+"]"}e.config.checkSelectionRanges=!0;var C,S,$=e.dom,D=e.util,T=D.isHostMethod,E=e.DomRange,M=e.WrappedRange,A=e.DOMException,O=$.DomPosition,P=e.features,I=$.getDocument,R=$.getBody,N=E.rangesEqual,L=T(window,"getSelection"),F=D.isHostObject(document,"selection");P.implementsWinGetSelection=L,P.implementsDocSelection=F;var z=F&&(!L||e.config.preferTextRange);if(z)C=a,e.isSelectionValid=function(e){var t=i(e,"isSelectionValid").document,n=t.selection;return"None"!=n.type||I(n.createRange().parentElement())==t};else{if(!L)return t.fail("Neither document.selection or window.getSelection() detected."),!1;C=r,e.isSelectionValid=function(){return!0}}e.getNativeSelection=C;var j=C();if(!j)return t.fail("Native selection was null (possibly issue 138?)"),!1;var H=e.createNativeRange(document),W=R(document),B=D.areHostProperties(j,["anchorNode","focusNode","anchorOffset","focusOffset"]);P.selectionHasAnchorAndFocus=B;var V=T(j,"extend");P.selectionHasExtend=V;var U="number"==typeof j.rangeCount;P.selectionHasRangeCount=U;var q=!1,Y=!0,K=V?function(t,n){var i=E.getRangeDocument(n),r=e.createRange(i);r.collapseToPoint(n.endContainer,n.endOffset),t.addRange(u(r)),t.extend(n.startContainer,n.startOffset)}:null;D.areHostMethods(j,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof j.rangeCount&&P.implementsDomRange&&function(){var t=window.getSelection();if(t){for(var n=t.rangeCount,i=n>1,r=[],a=o(t),s=0;s<n;++s)r[s]=t.getRangeAt(s);var l=$.createTestElement(document,"",!1),c=l.appendChild(document.createTextNode("   ")),u=document.createRange();if(u.setStart(c,1),u.collapse(!0),t.removeAllRanges(),t.addRange(u),Y=1==t.rangeCount,t.removeAllRanges(),!i){var d=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(d&&parseInt(d[1])>=36)q=!1;else{var h=u.cloneRange();u.setStart(c,0),h.setEnd(c,3),h.setStart(c,2),t.addRange(u),t.addRange(h),q=2==t.rangeCount}}for($.removeNode(l),t.removeAllRanges(),s=0;s<n;++s)0==s&&a?K?K(t,r[s]):(e.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),t.addRange(r[s])):t.addRange(r[s])}}(),P.selectionSupportsMultipleRanges=q,P.collapsedNonEditableSelectionsSupported=Y;var G,X=!1;W&&T(W,"createControlRange")&&(G=W.createControlRange(),D.areHostProperties(G,["item","add"])&&(X=!0)),P.implementsControlRange=X,S=B?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed};var J;T(j,"getRangeAt")?J=function(e,t){try{return e.getRangeAt(t)}catch(e){return null}}:B&&(J=function(t){var n=I(t.anchorNode),i=e.createRange(n);return i.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),i.collapsed!==this.isCollapsed&&i.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),i}),v.prototype=e.selectionPrototype;var Z=[],Q=function(e){if(e&&e instanceof v)return e.refresh(),e;e=i(e,"getNativeSelection");var t=y(e),n=C(e),r=F?a(e):null;return t?(t.nativeSelection=n,t.docSelection=r,t.refresh()):(t=new v(n,r,e),Z.push({win:e,selection:t})),t};e.getSelection=Q,D.createAliasForDeprecatedMethod(e,"getIframeSelection","getSelection");var ee=v.prototype;if(!z&&B&&D.areHostMethods(j,["removeAllRanges","addRange"])){ee.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),c(this)};var te=function(e,t){K(e.nativeSelection,t),e.refresh()};ee.addRange=U?function(t,i){if(X&&F&&"Control"==this.docSelection.type)m(this,t);else if(n(i)&&V)te(this,t);else{var r;q?r=this.rangeCount:(this.removeAllRanges(),r=0);var a=u(t).cloneRange();try{this.nativeSelection.addRange(a)}catch(e){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==r+1){if(e.config.checkSelectionRanges){var o=J(this.nativeSelection,this.rangeCount-1);o&&!N(o,t)&&(t=new M(o))}this._ranges[this.rangeCount-1]=t,s(this,t,re(this.nativeSelection)),this.isCollapsed=S(this)}else this.refresh()}}:function(e,t){n(t)&&V?te(this,e):(this.nativeSelection.addRange(u(e)),this.refresh())},ee.setRanges=function(e){if(X&&F&&e.length>1)w(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;t<n;++t)this.addRange(e[t])}}}else{if(!(T(j,"empty")&&T(H,"select")&&X&&z))return t.fail("No means of selecting a Range or TextRange was found"),!1;ee.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=I(this.anchorNode);else if("Control"==this.docSelection.type){var t=this.docSelection.createRange();t.length&&(e=I(t.item(0)))}if(e){R(e).createTextRange().select(),this.docSelection.empty()}}}catch(e){}c(this)},ee.addRange=function(t){"Control"==this.docSelection.type?m(this,t):(e.WrappedTextRange.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,s(this,t,!1))},ee.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?w(this,e):t&&this.addRange(e[0])}}ee.getRangeAt=function(e){if(e<0||e>=this.rangeCount)throw new A("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()};var ne;if(z)ne=function(t){var n;e.isSelectionValid(t.win)?n=t.docSelection.createRange():(n=R(t.win.document).createTextRange(),n.collapse(!0)),"Control"==t.docSelection.type?g(t):p(n)?f(t,n):c(t)};else if(T(j,"getRangeAt")&&"number"==typeof j.rangeCount)ne=function(t){if(X&&F&&"Control"==t.docSelection.type)g(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var n=0,i=t.rangeCount;n<i;++n)t._ranges[n]=new e.WrappedRange(t.nativeSelection.getRangeAt(n));s(t,t._ranges[t.rangeCount-1],re(t.nativeSelection)),t.isCollapsed=S(t)}else c(t)};else{if(!B||"boolean"!=typeof j.isCollapsed||"boolean"!=typeof H.collapsed||!P.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;ne=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=J(n,0),e._ranges=[t],e.rangeCount=1,l(e),e.isCollapsed=S(e)):c(e)}}ee.refresh=function(e){var t=e?this._ranges.slice(0):null,n=this.anchorNode,i=this.anchorOffset;if(ne(this),e){var r=t.length;if(r!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=i)return!0;for(;r--;)if(!N(t[r],this._ranges[r]))return!0;return!1}};var ie=function(e,t){var n=e.getAllRanges();e.removeAllRanges();for(var i=0,r=n.length;i<r;++i)N(t,n[i])||e.addRange(n[i]);e.rangeCount||c(e)};ee.removeRange=X&&F?function(e){if("Control"==this.docSelection.type){for(var t,n=this.docSelection.createRange(),i=h(e),r=I(n.item(0)),a=R(r).createControlRange(),o=!1,s=0,l=n.length;s<l;++s)t=n.item(s),t!==i||o?a.add(n.item(s)):o=!0;a.select(),g(this)}else ie(this,e)}:function(e){ie(this,e)};var re;!z&&B&&P.implementsDomRange?(re=o,ee.isBackward=function(){return re(this)}):re=ee.isBackward=function(){return!1},ee.isBackwards=ee.isBackward,ee.toString=function(){for(var e=[],t=0,n=this.rangeCount;t<n;++t)e[t]=""+this._ranges[t];return e.join("")},ee.collapse=function(t,n){x(this,t);var i=e.createRange(t);i.collapseToPoint(t,n),this.setSingleRange(i),this.isCollapsed=!0},ee.collapseToStart=function(){if(!this.rangeCount)throw new A("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},ee.collapseToEnd=function(){if(!this.rangeCount)throw new A("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},ee.selectAllChildren=function(t){x(this,t);var n=e.createRange(t);n.selectNodeContents(t),this.setSingleRange(n)},ee.deleteFromDocument=function(){if(X&&F&&"Control"==this.docSelection.type){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),$.removeNode(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var i=0,r=n.length;i<r;++i)n[i].deleteContents();this.addRange(n[r-1])}}},ee.eachRange=function(e,t){for(var n=0,i=this._ranges.length;n<i;++n)if(e(this.getRangeAt(n)))return t},ee.getAllRanges=function(){var e=[];return this.eachRange(function(t){e.push(t)}),e},ee.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},ee.callMethodOnEachRange=function(e,t){var n=[];return this.eachRange(function(i){n.push(i[e].apply(i,t||[]))}),n},ee.setStart=_(!0),ee.setEnd=_(!1),e.rangePrototype.select=function(e){Q(this.getDocument()).setSingleRange(this,e)},ee.changeEachRange=function(e){var t=[],n=this.isBackward();this.eachRange(function(n){e(n),t.push(n)}),this.removeAllRanges(),n&&1==t.length?this.addRange(t[0],"backward"):this.setRanges(t)},ee.containsNode=function(e,t){return this.eachRange(function(n){return n.containsNode(e,t)},!0)||!1},ee.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},ee.moveToBookmark=function(t){for(var n,i,r=[],a=0;n=t.rangeBookmarks[a++];)i=e.createRange(this.win),i.moveToBookmark(n),r.push(i);t.backward?this.setSingleRange(r[0],"backward"):this.setRanges(r)},ee.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},ee.restoreRanges=function(e){this.removeAllRanges();for(var t,n=0;t=e.ranges[n];++n)this.addRange(t,e.backward&&0==n)},ee.toHtml=function(){var e=[];return this.eachRange(function(t){e.push(E.toHtml(t))}),e.join("")},P.implementsTextRange&&(ee.getNativeTextRange=function(){var n;if(n=this.docSelection){var i=n.createRange();if(p(i))return i;throw t.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return e.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw t.createError("getNativeTextRange: selection contains no range")}),ee.getName=function(){return"WrappedSelection"},ee.inspect=function(){return k(this)},ee.detach=function(){y(this.win,"delete"),b(this)},v.detachAll=function(){y(null,"deleteAll")},v.inspect=k,v.isDirectionBackward=n,e.Selection=v,e.selectionPrototype=ee,e.addShimListener(function(e){void 0===e.getSelection&&(e.getSelection=function(){return Q(e)}),e=null})});var F=!1,z=function(e){F||(F=!0,!P.initialized&&P.config.autoInitialize&&d())};return A&&("complete"==document.readyState?z():(e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",z,!1),R(window,"load",z))),P},this),/**
 * Class Applier module for Rangy.
 * Adds, removes and toggles classes on Ranges and Selections
 *
 * Part of Rangy, a cross-browser JavaScript range and selection library
 * https://github.com/timdown/rangy
 *
 * Depends on Rangy core.
 *
 * Copyright 2015, Tim Down
 * Licensed under the MIT license.
 * Version: 1.3.0
 * Build date: 10 May 2015
 */
function(e,t){"function"==typeof define&&define.amd?define(["./rangy-core"],e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e(require("rangy")):e(t.rangy)}(function(e){return e.createModule("ClassApplier",["WrappedSelection"],function(e,t){function n(e,t){for(var n in e)if(e.hasOwnProperty(n)&&!1===t(n,e[n]))return!1;return!0}function r(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function a(e,t){return!!e&&new RegExp("(?:^|\\s)"+t+"(?:\\s|$)").test(e)}function o(e,t){return"object"==typeof e.classList?e.classList.contains(t):a("string"==typeof e.className?e.className:e.getAttribute("class"),t)}function s(e,t){if("object"==typeof e.classList)e.classList.add(t);else{var n="string"==typeof e.className,i=n?e.className:e.getAttribute("class");i?a(i,t)||(i+=" "+t):i=t,n?e.className=i:e.setAttribute("class",i)}}function l(e){return"string"==typeof e.className?e.className:e.getAttribute("class")}function c(e){return e&&e.split(/\s+/).sort().join(" ")}function u(e){return c(l(e))}function d(e,t){return u(e)==u(t)}function h(e,t){for(var n=t.split(/\s+/),i=0,a=n.length;i<a;++i)if(!o(e,r(n[i])))return!1;return!0}function p(e){var t=e.parentNode;return t&&1==t.nodeType&&!/^(textarea|style|script|select|iframe)$/i.test(t.nodeName)}function f(e,t,n,i,r){var a=e.node,o=e.offset,s=a,l=o;a==i&&o>r&&++l,a!=t||o!=n&&o!=n+1||(s=i,l+=r-n),a==t&&o>n+1&&--l,e.node=s,e.offset=l}function g(e,t,n){e.node==t&&e.offset>n&&--e.offset}function m(e,t,n,i){-1==n&&(n=t.childNodes.length);var r=e.parentNode,a=L.getNodeIndex(e);H(i,function(e){f(e,r,a,t,n)}),t.childNodes.length==n?t.appendChild(e):t.insertBefore(e,t.childNodes[n])}function v(e,t){var n=e.parentNode,i=L.getNodeIndex(e);H(t,function(e){g(e,n,i)}),L.removeNode(e)}function b(e,t,n,i,r){for(var a,o=[];a=e.firstChild;)m(a,t,n++,r),o.push(a);return i&&v(e,r),o}function y(e,t){return b(e,e.parentNode,L.getNodeIndex(e),!0,t)}function w(e,t){var n=e.cloneRange();n.selectNodeContents(t);var i=n.intersection(e);return""!=(i?i.toString():"")}function x(e){for(var t,n=e.getNodes([3]),i=0;(t=n[i])&&!w(e,t);)++i;for(var r=n.length-1;(t=n[r])&&!w(e,t);)--r;return n.slice(i,r+1)}function _(e,t){if(e.attributes.length!=t.attributes.length)return!1;for(var n,i,r,a=0,o=e.attributes.length;a<o;++a)if(n=e.attributes[a],"class"!=(r=n.name)){if(i=t.attributes.getNamedItem(r),null===n!=(null===i))return!1;if(n.specified!=i.specified)return!1;if(n.specified&&n.nodeValue!==i.nodeValue)return!1}return!0}function k(e,t){for(var n,i=0,r=e.attributes.length;i<r;++i)if(n=e.attributes[i].name,(!t||!z(t,n))&&e.attributes[i].specified&&"class"!=n)return!0;return!1}function C(e){var t;return e&&1==e.nodeType&&((t=e.parentNode)&&9==t.nodeType&&"on"==t.designMode||U(e)&&!U(e.parentNode))}function S(e){return(U(e)||1!=e.nodeType&&U(e.parentNode))&&!C(e)}function $(e){return e&&1==e.nodeType&&!q.test(V(e,"display"))}function D(e){if(0==e.data.length)return!0;if(Y.test(e.data))return!1;switch(V(e.parentNode,"whiteSpace")){case"pre":case"pre-wrap":case"-moz-pre-wrap":return!1;case"pre-line":if(/[\r\n]/.test(e.data))return!1}return $(e.previousSibling)||$(e.nextSibling)}function T(e){var t,n,i=[];for(t=0;n=e[t++];)i.push(new F(n.startContainer,n.startOffset),new F(n.endContainer,n.endOffset));return i}function E(e,t){for(var n,i,r,a=0,o=e.length;a<o;++a)n=e[a],i=t[2*a],r=t[2*a+1],n.setStartAndEnd(i.node,i.offset,r.node,r.offset)}function M(e,t){return L.isCharacterDataNode(e)?0==t?!!e.previousSibling:t!=e.length||!!e.nextSibling:t>0&&t<e.childNodes.length}function A(e,n,i,r){var a,o,s=0==i;if(L.isAncestorOf(n,e))return e;if(L.isCharacterDataNode(n)){var l=L.getNodeIndex(n);if(0==i)i=l;else{if(i!=n.length)throw t.createError("splitNodeAt() should not be called with offset in the middle of a data node ("+i+" in "+n.data);i=l+1}n=n.parentNode}if(M(n,i)){a=n.cloneNode(!1),o=n.parentNode,a.id&&a.removeAttribute("id");for(var c,u=0;c=n.childNodes[i];)m(c,a,u++,r);return m(a,o,L.getNodeIndex(n)+1,r),n==e?a:A(e,o,L.getNodeIndex(a),r)}if(e!=n){a=n.parentNode;var d=L.getNodeIndex(n);return s||d++,A(e,a,d,r)}return e}function O(e,t){return e.namespaceURI==t.namespaceURI&&e.tagName.toLowerCase()==t.tagName.toLowerCase()&&d(e,t)&&_(e,t)&&"inline"==V(e,"display")&&"inline"==V(t,"display")}function P(e){var t=e?"nextSibling":"previousSibling";return function(n,i){var r=n.parentNode,a=n[t];if(a){if(a&&3==a.nodeType)return a}else if(i&&(a=r[t])&&1==a.nodeType&&O(r,a)){var o=a[e?"firstChild":"lastChild"];if(o&&3==o.nodeType)return o}return null}}function I(e){this.isElementMerge=1==e.nodeType,this.textNodes=[];var t=this.isElementMerge?e.lastChild:e;t&&(this.textNodes[0]=t)}function R(e,t,i){var a,o,s,l,u=this;u.cssClass=u.className=e;var d=null,h={};if("object"==typeof t&&null!==t){for(void 0!==t.elementTagName&&(t.elementTagName=t.elementTagName.toLowerCase()),i=t.tagNames,d=t.elementProperties,h=t.elementAttributes,o=0;l=X[o++];)t.hasOwnProperty(l)&&(u[l]=t[l]);a=t.normalize}else a=t;u.normalize=void 0===a||a,u.attrExceptions=[];var p=document.createElement(u.elementTagName);u.elementProperties=u.copyPropertiesToElement(d,p,!0),n(h,function(e,t){u.attrExceptions.push(e),h[e]=""+t}),u.elementAttributes=h,u.elementSortedClassName=u.elementProperties.hasOwnProperty("className")?c(u.elementProperties.className+" "+e):e,u.applyToAnyTagName=!1;var f=typeof i;if("string"==f)"*"==i?u.applyToAnyTagName=!0:u.tagNames=r(i.toLowerCase()).split(/\s*,\s*/);else if("object"==f&&"number"==typeof i.length)for(u.tagNames=[],o=0,s=i.length;o<s;++o)"*"==i[o]?u.applyToAnyTagName=!0:u.tagNames.push(i[o].toLowerCase());else u.tagNames=[u.elementTagName]}function N(e,t,n){return new R(e,t,n)}var L=e.dom,F=L.DomPosition,z=L.arrayContains,j=e.util,H=j.forEach,W=j.isHostMethod(document,"createElementNS"),B=function(){function e(e,t,n){return t&&n?" ":""}return function(t,n){if("object"==typeof t.classList)t.classList.remove(n);else{var i="string"==typeof t.className,r=i?t.className:t.getAttribute("class");r=r.replace(new RegExp("(^|\\s)"+n+"(\\s|$)"),e),i?t.className=r:t.setAttribute("class",r)}}}(),V=L.getComputedStyleProperty,U=function(){return"boolean"==typeof document.createElement("div").isContentEditable?function(e){return e&&1==e.nodeType&&e.isContentEditable}:function(e){return!(!e||1!=e.nodeType||"false"==e.contentEditable)&&("true"==e.contentEditable||U(e.parentNode))}}(),q=/^inline(-block|-table)?$/i,Y=/[^\r\n\t\f \u200B]/,K=P(!1),G=P(!0);I.prototype={doMerge:function(e){var t=this.textNodes,n=t[0];if(t.length>1){var i,r=L.getNodeIndex(n),a=[],o=0;H(t,function(t,s){i=t.parentNode,s>0&&(i.removeChild(t),i.hasChildNodes()||L.removeNode(i),e&&H(e,function(e){e.node==t&&(e.node=n,e.offset+=o),e.node==i&&e.offset>r&&--e.offset==r+1&&s<len-1&&(e.node=n,e.offset=o)})),a[s]=t.data,o+=t.data.length}),n.data=a.join("")}return n.data},getLength:function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function(){var e=[];return H(this.textNodes,function(t,n){e[n]="'"+t.data+"'"}),"[Merge("+e.join(",")+")]"}};var X=["elementTagName","ignoreWhiteSpace","applyToEditableOnly","useExistingElements","removeEmptyElements","onElementCreate"],J={};R.prototype={elementTagName:"span",elementProperties:{},elementAttributes:{},ignoreWhiteSpace:!0,applyToEditableOnly:!1,useExistingElements:!0,removeEmptyElements:!0,onElementCreate:null,copyPropertiesToElement:function(e,t,n){var i,r,a,o,l,u,d={};for(var h in e)if(e.hasOwnProperty(h))if(o=e[h],l=t[h],"className"==h)s(t,o),s(t,this.className),t[h]=c(t[h]),n&&(d[h]=o);else if("style"==h){r=l,n&&(d[h]=a={});for(i in e[h])e[h].hasOwnProperty(i)&&(r[i]=o[i],n&&(a[i]=r[i]));this.attrExceptions.push(h)}else t[h]=o,n&&(d[h]=t[h],u=J.hasOwnProperty(h)?J[h]:h,this.attrExceptions.push(u));return n?d:""},copyAttributesToElement:function(e,t){for(var n in e)e.hasOwnProperty(n)&&!/^class(?:Name)?$/i.test(n)&&t.setAttribute(n,e[n])},appliesToElement:function(e){return z(this.tagNames,e.tagName.toLowerCase())},getEmptyElements:function(e){var t=this;return e.getNodes([1],function(e){return t.appliesToElement(e)&&!e.hasChildNodes()})},hasClass:function(e){return 1==e.nodeType&&(this.applyToAnyTagName||this.appliesToElement(e))&&o(e,this.className)},getSelfOrAncestorWithClass:function(e){for(;e;){if(this.hasClass(e))return e;e=e.parentNode}return null},isModifiable:function(e){return!this.applyToEditableOnly||S(e)},isIgnorableWhiteSpaceNode:function(e){return this.ignoreWhiteSpace&&e&&3==e.nodeType&&D(e)},postApply:function(e,t,n,r){var a,o,s=e[0],l=e[e.length-1],c=[],u=s,d=l,h=0,p=l.length;H(e,function(e){o=K(e,!r),o?(a||(a=new I(o),c.push(a)),a.textNodes.push(e),e===s&&(u=a.textNodes[0],h=u.length),e===l&&(d=a.textNodes[0],p=a.getLength())):a=null});var f=G(l,!r);if(f&&(a||(a=new I(l),c.push(a)),a.textNodes.push(f)),c.length){for(i=0,len=c.length;i<len;++i)c[i].doMerge(n);t.setStartAndEnd(u,h,d,p)}},createContainer:function(e){var t,n=L.getDocument(e),i=W&&!L.isHtmlNamespace(e)&&(t=e.namespaceURI)?n.createElementNS(e.namespaceURI,this.elementTagName):n.createElement(this.elementTagName);return this.copyPropertiesToElement(this.elementProperties,i,!1),this.copyAttributesToElement(this.elementAttributes,i),s(i,this.className),this.onElementCreate&&this.onElementCreate(i,this),i},elementHasProperties:function(e,t){var i=this;return n(t,function(t,n){if("className"==t)return h(e,n);if("object"==typeof n){if(!i.elementHasProperties(e[t],n))return!1}else if(e[t]!==n)return!1})},elementHasAttributes:function(e,t){return n(t,function(t,n){if(e.getAttribute(t)!==n)return!1})},applyToTextNode:function(e,t){if(p(e)){var n=e.parentNode;if(1==n.childNodes.length&&this.useExistingElements&&this.appliesToElement(n)&&this.elementHasProperties(n,this.elementProperties)&&this.elementHasAttributes(n,this.elementAttributes))s(n,this.className);else{var i=e.parentNode,r=this.createContainer(i);i.insertBefore(r,e),r.appendChild(e)}}},isRemovable:function(e){return e.tagName.toLowerCase()==this.elementTagName&&u(e)==this.elementSortedClassName&&this.elementHasProperties(e,this.elementProperties)&&!k(e,this.attrExceptions)&&this.elementHasAttributes(e,this.elementAttributes)&&this.isModifiable(e)},isEmptyContainer:function(e){var t=e.childNodes.length;return 1==e.nodeType&&this.isRemovable(e)&&(0==t||1==t&&this.isEmptyContainer(e.firstChild))},removeEmptyContainers:function(e){var t=this,n=e.getNodes([1],function(e){return t.isEmptyContainer(e)}),i=[e],r=T(i);H(n,function(e){v(e,r)}),E(i,r)},undoToTextNode:function(e,t,n,i){if(!t.containsNode(n)){var r=t.cloneRange();r.selectNode(n),r.isPointInRange(t.endContainer,t.endOffset)&&(A(n,t.endContainer,t.endOffset,i),t.setEndAfter(n)),r.isPointInRange(t.startContainer,t.startOffset)&&(n=A(n,t.startContainer,t.startOffset,i))}this.isRemovable(n)?y(n,i):B(n,this.className)},splitAncestorWithClass:function(e,t,n){var i=this.getSelfOrAncestorWithClass(e);i&&A(i,e,t,n)},undoToAncestor:function(e,t){this.isRemovable(e)?y(e,t):B(e,this.className)},applyToRange:function(e,t){var n=this;t=t||[];var i=T(t||[]);e.splitBoundariesPreservingPositions(i),n.removeEmptyElements&&n.removeEmptyContainers(e);var r=x(e);if(r.length){H(r,function(e){n.isIgnorableWhiteSpaceNode(e)||n.getSelfOrAncestorWithClass(e)||!n.isModifiable(e)||n.applyToTextNode(e,i)});var a=r[r.length-1];e.setStartAndEnd(r[0],0,a,a.length),n.normalize&&n.postApply(r,e,i,!1),E(t,i)}var o=n.getEmptyElements(e);H(o,function(e){s(e,n.className)})},applyToRanges:function(e){for(var t=e.length;t--;)this.applyToRange(e[t],e);return e},applyToSelection:function(t){var n=e.getSelection(t);n.setRanges(this.applyToRanges(n.getAllRanges()))},undoToRange:function(e,t){var n=this;t=t||[];var i=T(t);e.splitBoundariesPreservingPositions(i),n.removeEmptyElements&&n.removeEmptyContainers(e,i);var r,a,o=x(e),s=o[o.length-1];if(o.length){n.splitAncestorWithClass(e.endContainer,e.endOffset,i),n.splitAncestorWithClass(e.startContainer,e.startOffset,i);for(var l=0,c=o.length;l<c;++l)r=o[l],(a=n.getSelfOrAncestorWithClass(r))&&n.isModifiable(r)&&n.undoToAncestor(a,i);e.setStartAndEnd(o[0],0,s,s.length),n.normalize&&n.postApply(o,e,i,!0),E(t,i)}var u=n.getEmptyElements(e);H(u,function(e){B(e,n.className)})},undoToRanges:function(e){for(var t=e.length;t--;)this.undoToRange(e[t],e);return e},undoToSelection:function(t){var n=e.getSelection(t),i=e.getSelection(t).getAllRanges();this.undoToRanges(i),n.setRanges(i)},isAppliedToRange:function(e){if(e.collapsed||""==e.toString())return!!this.getSelfOrAncestorWithClass(e.commonAncestorContainer);var t=e.getNodes([3]);if(t.length)for(var n,i=0;n=t[i++];)if(!this.isIgnorableWhiteSpaceNode(n)&&w(e,n)&&this.isModifiable(n)&&!this.getSelfOrAncestorWithClass(n))return!1;return!0},isAppliedToRanges:function(e){var t=e.length;if(0==t)return!1;for(;t--;)if(!this.isAppliedToRange(e[t]))return!1;return!0},isAppliedToSelection:function(t){var n=e.getSelection(t);return this.isAppliedToRanges(n.getAllRanges())},toggleRange:function(e){this.isAppliedToRange(e)?this.undoToRange(e):this.applyToRange(e)},toggleSelection:function(e){this.isAppliedToSelection(e)?this.undoToSelection(e):this.applyToSelection(e)},getElementsWithClassIntersectingRange:function(e){var t=[],n=this;return e.getNodes([3],function(e){var i=n.getSelfOrAncestorWithClass(e);i&&!z(t,i)&&t.push(i)}),t},detach:function(){}},R.util={hasClass:o,addClass:s,removeClass:B,getClass:l,hasSameClasses:d,hasAllClasses:h,replaceWithOwnChildren:y,elementsHaveSameNonClassAttributes:_,elementHasNonClassAttributes:k,splitNodeAt:A,isEditableElement:U,isEditingHost:C,isEditable:S},e.CssClassApplier=e.ClassApplier=R,e.createClassApplier=N,j.createAliasForDeprecatedMethod(e,"createCssClassApplier","createClassApplier",t)}),e},this),/**
 * Highlighter module for Rangy, a cross-browser JavaScript range and selection library
 * https://github.com/timdown/rangy
 *
 * Depends on Rangy core, ClassApplier and optionally TextRange modules.
 *
 * Copyright 2015, Tim Down
 * Licensed under the MIT license.
 * Version: 1.3.0
 * Build date: 10 May 2015
 */
function(e,t){"function"==typeof define&&define.amd?define(["./rangy-core"],e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e(require("rangy")):e(t.rangy)}(function(e){return e.createModule("Highlighter",["ClassApplier"],function(e,t){function n(e,t){return e.characterRange.start-t.characterRange.start}function i(e,t){return t?e.getElementById(t):h(e)}function r(e,t){this.type=e,this.converterCreator=t}function a(e,t){m[e]=new r(e,t)}function o(e){var t=m[e];if(t instanceof r)return t.create();throw new Error("Highlighter type '"+e+"' is not valid")}function s(e,t){this.start=e,this.end=t}function l(e,t,n,i,r,a){r?(this.id=r,g=Math.max(g,r+1)):this.id=g++,this.characterRange=t,this.doc=e,this.classApplier=n,this.converter=i,this.containerElementId=a||null,this.applied=!1}function c(e,t){t=t||"textContent",this.doc=e||document,this.classAppliers={},this.highlights=[],this.converter=o(t)}var u=e.dom,d=u.arrayContains,h=u.getBody,p=e.util.createOptions,f=e.util.forEach,g=1,m={};r.prototype.create=function(){var e=this.converterCreator();return e.type=this.type,e},e.registerHighlighterType=a,s.prototype={intersects:function(e){return this.start<e.end&&this.end>e.start},isContiguousWith:function(e){return this.start==e.end||this.end==e.start},union:function(e){return new s(Math.min(this.start,e.start),Math.max(this.end,e.end))},intersection:function(e){return new s(Math.max(this.start,e.start),Math.min(this.end,e.end))},getComplements:function(e){var t=[];if(this.start>=e.start){if(this.end<=e.end)return[];t.push(new s(e.end,this.end))}else t.push(new s(this.start,Math.min(this.end,e.start))),this.end>e.end&&t.push(new s(e.end,this.end));return t},toString:function(){return"[CharacterRange("+this.start+", "+this.end+")]"}},s.fromCharacterRange=function(e){return new s(e.start,e.end)};var v={rangeToCharacterRange:function(e,t){var n=e.getBookmark(t);return new s(n.start,n.end)},characterRangeToRange:function(t,n,i){var r=e.createRange(t);return r.moveToBookmark({start:n.start,end:n.end,containerNode:i}),r},serializeSelection:function(e,t){for(var n=e.getAllRanges(),i=n.length,r=[],a=1==i&&e.isBackward(),o=0,s=n.length;o<s;++o)r[o]={characterRange:this.rangeToCharacterRange(n[o],t),backward:a};return r},restoreSelection:function(e,t,n){e.removeAllRanges();for(var i,r,a=e.win.document,o=0,s=t.length;o<s;++o)r=t[o],r.characterRange,i=this.characterRangeToRange(a,r.characterRange,n),e.addRange(i,r.backward)}};a("textContent",function(){return v}),a("TextRange",function(){var t;return function(){if(!t){var n=e.modules.TextRange;if(!n)throw new Error("TextRange module is missing.");if(!n.supported)throw new Error("TextRange module is present but not supported.");t={rangeToCharacterRange:function(e,t){return s.fromCharacterRange(e.toCharacterRange(t))},characterRangeToRange:function(t,n,i){var r=e.createRange(t);return r.selectCharacters(i,n.start,n.end),r},serializeSelection:function(e,t){return e.saveCharacterRanges(t)},restoreSelection:function(e,t,n){e.restoreCharacterRanges(n,t)}}}return t}}()),l.prototype={getContainerElement:function(){return i(this.doc,this.containerElementId)},getRange:function(){return this.converter.characterRangeToRange(this.doc,this.characterRange,this.getContainerElement())},fromRange:function(e){this.characterRange=this.converter.rangeToCharacterRange(e,this.getContainerElement())},getText:function(){return this.getRange().toString()},containsElement:function(e){return this.getRange().containsNodeContents(e.firstChild)},unapply:function(){this.classApplier.undoToRange(this.getRange()),this.applied=!1},apply:function(){this.classApplier.applyToRange(this.getRange()),this.applied=!0},getHighlightElements:function(){return this.classApplier.getElementsWithClassIntersectingRange(this.getRange())},toString:function(){return"[Highlight(ID: "+this.id+", class: "+this.classApplier.className+", character range: "+this.characterRange.start+" - "+this.characterRange.end+")]"}},c.prototype={addClassApplier:function(e){this.classAppliers[e.className]=e},getHighlightForElement:function(e){for(var t=this.highlights,n=0,i=t.length;n<i;++n)if(t[n].containsElement(e))return t[n];return null},removeHighlights:function(e){for(var t,n=0,i=this.highlights.length;n<i;++n)t=this.highlights[n],d(e,t)&&(t.unapply(),this.highlights.splice(n--,1))},removeAllHighlights:function(){this.removeHighlights(this.highlights)},getIntersectingHighlights:function(e){var t=[],n=this.highlights;return f(e,function(e){f(n,function(n){e.intersectsRange(n.getRange())&&!d(t,n)&&t.push(n)})}),t},highlightCharacterRanges:function(t,n,i){var r,a,o,c=this.highlights,u=this.converter,d=this.doc,h=[],g=t?this.classAppliers[t]:null;i=p(i,{containerElementId:null,exclusive:!0});var m,v,b,y=i.containerElementId,w=i.exclusive;y&&(m=this.doc.getElementById(y))&&(v=e.createRange(this.doc),v.selectNodeContents(m),b=new s(0,v.toString().length));var x,_,k,C,S,$;for(r=0,a=n.length;r<a;++r)if(x=n[r],S=[],b&&(x=x.intersection(b)),x.start!=x.end){for(o=0;o<c.length;++o)k=!1,y==c[o].containerElementId&&(_=c[o].characterRange,C=g==c[o].classApplier,$=!C&&w,(_.intersects(x)||_.isContiguousWith(x))&&(C||$)&&($&&f(_.getComplements(x),function(e){S.push(new l(d,e,c[o].classApplier,u,null,y))}),k=!0,C&&(x=_.union(x)))),k?(h.push(c[o]),c[o]=new l(d,_.union(x),g,u,null,y)):S.push(c[o]);g&&S.push(new l(d,x,g,u,null,y)),this.highlights=c=S}f(h,function(e){e.unapply()});var D=[];return f(c,function(e){e.applied||(e.apply(),D.push(e))}),D},highlightRanges:function(t,n,i){var r=[],a=this.converter;i=p(i,{containerElement:null,exclusive:!0});var o,s=i.containerElement,l=s?s.id:null;return s&&(o=e.createRange(s),o.selectNodeContents(s)),f(n,function(e){var t=s?o.intersection(e):e;r.push(a.rangeToCharacterRange(t,s||h(e.getDocument())))}),this.highlightCharacterRanges(t,r,{containerElementId:l,exclusive:i.exclusive})},highlightSelection:function(t,n){var r=this.converter,a=!!t&&this.classAppliers[t];n=p(n,{containerElementId:null,selection:e.getSelection(this.doc),exclusive:!0});var o=n.containerElementId,l=n.exclusive,c=n.selection,u=c.win.document,d=i(u,o);if(!a&&!1!==t)throw new Error("No class applier found for class '"+t+"'");var h=r.serializeSelection(c,d),g=[];f(h,function(e){g.push(s.fromCharacterRange(e.characterRange))});var m=this.highlightCharacterRanges(t,g,{containerElementId:o,exclusive:l});return r.restoreSelection(c,h,d),m},unhighlightSelection:function(t){t=t||e.getSelection(this.doc);var n=this.getIntersectingHighlights(t.getAllRanges());return this.removeHighlights(n),t.removeAllRanges(),n},getHighlightsInSelection:function(t){return t=t||e.getSelection(this.doc),this.getIntersectingHighlights(t.getAllRanges())},selectionOverlapsHighlight:function(e){return this.getHighlightsInSelection(e).length>0},serialize:function(e){var t,i,r,a,s=this,l=s.highlights;return l.sort(n),e=p(e,{serializeHighlightText:!1,type:s.converter.type}),t=e.type,r=t!=s.converter.type,r&&(a=o(t)),i=["type:"+t],f(l,function(t){var n,o=t.characterRange;r&&(n=t.getContainerElement(),o=a.rangeToCharacterRange(s.converter.characterRangeToRange(s.doc,o,n),n));var l=[o.start,o.end,t.id,t.classApplier.className,t.containerElementId];e.serializeHighlightText&&l.push(t.getText()),i.push(l.join("$"))}),i.join("|")},deserialize:function(e){var t,n,r,a=e.split("|"),c=[],u=a[0],d=!1;if(!u||!(t=/^type:(\w+)$/.exec(u)))throw new Error("Serialized highlights are invalid.");n=t[1],n!=this.converter.type&&(r=o(n),d=!0),a.shift();for(var h,p,f,g,m,v,b=a.length;b-- >0;){if(v=a[b].split("$"),f=new s(+v[0],+v[1]),g=v[4]||null,d&&(m=i(this.doc,g),f=this.converter.rangeToCharacterRange(r.characterRangeToRange(this.doc,f,m),m)),!(h=this.classAppliers[v[3]]))throw new Error("No class applier found for class '"+v[3]+"'");p=new l(this.doc,f,h,this.converter,parseInt(v[2]),g),p.apply(),c.push(p)}this.highlights=c}},e.Highlighter=c,e.createHighlighter=function(e,t){return new c(e,t)}}),e},this),/**
 * Selection save and restore module for Rangy.
 * Saves and restores user selections using marker invisible elements in the DOM.
 *
 * Part of Rangy, a cross-browser JavaScript range and selection library
 * https://github.com/timdown/rangy
 *
 * Depends on Rangy core.
 *
 * Copyright 2015, Tim Down
 * Licensed under the MIT license.
 * Version: 1.3.0
 * Build date: 10 May 2015
 */
function(e,t){"function"==typeof define&&define.amd?define(["./rangy-core"],e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e(require("rangy")):e(t.rangy)}(function(e){return e.createModule("SaveRestore",["WrappedRange"],function(e,t){function n(e,t){return(t||document).getElementById(e)}function i(e,t){var n,i="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),r=f.getDocument(e.startContainer),a=e.cloneRange();return a.collapse(t),n=r.createElement("span"),n.id=i,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(r.createTextNode(v)),a.insertNode(n),n}function r(e,i,r,a){var o=n(r,e);o?(i[a?"setStartBefore":"setEndBefore"](o),g(o)):t.warn("Marker element has been removed. Cannot restore selection.")}function a(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function o(t,n){var r,a,o=e.DomRange.getRangeDocument(t),s=t.toString(),l=m(n);return t.collapsed?(a=i(t,!1),{document:o,markerId:a.id,collapsed:!0}):(a=i(t,!1),r=i(t,!0),{document:o,startMarkerId:r.id,endMarkerId:a.id,collapsed:!1,backward:l,toString:function(){return"original text: '"+s+"', new text: '"+t.toString()+"'"}})}function s(i,a){var o=i.document;void 0===a&&(a=!0);var s=e.createRange(o);if(i.collapsed){var l=n(i.markerId,o);if(l){l.style.display="inline";var c=l.previousSibling;c&&3==c.nodeType?(g(l),s.collapseToPoint(c,c.length)):(s.collapseBefore(l),g(l))}else t.warn("Marker element has been removed. Cannot restore selection.")}else r(o,s,i.startMarkerId,!0),r(o,s,i.endMarkerId,!1);return a&&s.normalizeBoundaries(),s}function l(t,i){var r,s,l=[],c=m(i);t=t.slice(0),t.sort(a);for(var u=0,d=t.length;u<d;++u)l[u]=o(t[u],c);for(u=d-1;u>=0;--u)r=t[u],s=e.DomRange.getRangeDocument(r),r.collapsed?r.collapseAfter(n(l[u].markerId,s)):(r.setEndBefore(n(l[u].endMarkerId,s)),r.setStartAfter(n(l[u].startMarkerId,s)));return l}function c(n){if(!e.isSelectionValid(n))return t.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var i=e.getSelection(n),r=i.getAllRanges(),a=1==r.length&&i.isBackward(),o=l(r,a);return a?i.setSingleRange(r[0],a):i.setRanges(r),{win:n,rangeInfos:o,restored:!1}}function u(e){for(var t=[],n=e.length,i=n-1;i>=0;i--)t[i]=s(e[i],!0);return t}function d(t,n){if(!t.restored){var i=t.rangeInfos,r=e.getSelection(t.win),a=u(i);1==i.length&&n&&e.features.selectionHasExtend&&i[0].backward?(r.removeAllRanges(),r.addRange(a[0],!0)):r.setRanges(a),t.restored=!0}}function h(e,t){var i=n(t,e);i&&g(i)}function p(e){for(var t,n=e.rangeInfos,i=0,r=n.length;i<r;++i)t=n[i],t.collapsed?h(e.doc,t.markerId):(h(e.doc,t.startMarkerId),h(e.doc,t.endMarkerId))}var f=e.dom,g=f.removeNode,m=e.Selection.isDirectionBackward,v="\ufeff";e.util.extend(e,{saveRange:o,restoreRange:s,saveRanges:l,restoreRanges:u,saveSelection:c,restoreSelection:d,removeMarkerElement:h,removeMarkers:p})}),e},this),/**
 * Serializer module for Rangy.
 * Serializes Ranges and Selections. An example use would be to store a user's selection on a particular page in a
 * cookie or local storage and restore it on the user's next visit to the same page.
 *
 * Part of Rangy, a cross-browser JavaScript range and selection library
 * https://github.com/timdown/rangy
 *
 * Depends on Rangy core.
 *
 * Copyright 2015, Tim Down
 * Licensed under the MIT license.
 * Version: 1.3.0
 * Build date: 10 May 2015
 */
function(e,t){"function"==typeof define&&define.amd?define(["./rangy-core"],e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e(require("rangy")):e(t.rangy)}(function(e){return e.createModule("Serializer",["WrappedSelection"],function(e,t){function n(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function i(e,t){t=t||[];var r=e.nodeType,a=e.childNodes,o=a.length,s=[r,e.nodeName,o].join(":"),l="",c="";switch(r){case 3:l=n(e.nodeValue);break;case 8:l="\x3c!--"+n(e.nodeValue)+"--\x3e";break;default:l="<"+s+">",c="</>"}l&&t.push(l);for(var u=0;u<o;++u)i(a[u],t);return c&&t.push(c),t}function r(e){var t=i(e).join("");return v(t).toString(16)}function a(e,t,n){var i=[],r=e;for(n=n||b.getDocument(e).documentElement;r&&r!=n;)i.push(b.getNodeIndex(r,!0)),r=r.parentNode;return i.join("/")+":"+t}function o(e,n,i){n||(n=(i||document).documentElement);for(var r,a=e.split(":"),o=n,s=a[0]?a[0].split("/"):[],l=s.length;l--;){if(!((r=parseInt(s[l],10))<o.childNodes.length))throw t.createError("deserializePosition() failed: node "+b.inspectNode(o)+" has no child with index "+r+", "+l);o=o.childNodes[r]}return new b.DomPosition(o,parseInt(a[1],10))}function s(n,i,o){if(o=o||e.DomRange.getRangeDocument(n).documentElement,!b.isOrIsAncestorOf(o,n.commonAncestorContainer))throw t.createError("serializeRange(): range "+n.inspect()+" is not wholly contained within specified root node "+b.inspectNode(o));var s=a(n.startContainer,n.startOffset,o)+","+a(n.endContainer,n.endOffset,o);return i||(s+="{"+r(o)+"}"),s}function l(n,i,a){i?a=a||b.getDocument(i):(a=a||document,i=a.documentElement);var s=y.exec(n),l=s[4];if(l){var c=r(i);if(l!==c)throw t.createError("deserializeRange(): checksums of serialized range root node ("+l+") and target root node ("+c+") do not match")}var u=o(s[1],i,a),d=o(s[2],i,a),h=e.createRange(a);return h.setStartAndEnd(u.node,u.offset,d.node,d.offset),h}function c(e,t,n){t||(t=(n||document).documentElement);var i=y.exec(e),a=i[3];return!a||a===r(t)}function u(t,n,i){t=e.getSelection(t);for(var r=t.getAllRanges(),a=[],o=0,l=r.length;o<l;++o)a[o]=s(r[o],n,i);return a.join("|")}function d(t,n,i){n?i=i||b.getWindow(n):(i=i||window,n=i.document.documentElement);for(var r=t.split("|"),a=e.getSelection(i),o=[],s=0,c=r.length;s<c;++s)o[s]=l(r[s],n,i.document);return a.setRanges(o),a}function h(e,t,n){var i;t?i=n?n.document:b.getDocument(t):(n=n||window,t=n.document.documentElement);for(var r=e.split("|"),a=0,o=r.length;a<o;++a)if(!c(r[a],t,i))return!1;return!0}function p(e){for(var t,n,i=e.split(/[;,]/),r=0,a=i.length;r<a;++r)if(t=i[r].split("="),t[0].replace(/^\s+/,"")==w&&(n=t[1]))return decodeURIComponent(n.replace(/\s+$/,""));return null}function f(e){e=e||window;var t=p(e.document.cookie);t&&d(t,e.doc)}function g(t,n){t=t||window,n="object"==typeof n?n:{};var i=n.expires?";expires="+n.expires.toUTCString():"",r=n.path?";path="+n.path:"",a=n.domain?";domain="+n.domain:"",o=n.secure?";secure":"",s=u(e.getSelection(t));t.document.cookie=encodeURIComponent(w)+"="+encodeURIComponent(s)+i+r+a+o}var m=e.util;"undefined"!=typeof encodeURIComponent&&"undefined"!=typeof decodeURIComponent||t.fail("encodeURIComponent and/or decodeURIComponent method is missing");var v=function(){function e(e){for(var t,n=[],i=0,r=e.length;i<r;++i)t=e.charCodeAt(i),t<128?n.push(t):t<2048?n.push(t>>6|192,63&t|128):n.push(t>>12|224,t>>6&63|128,63&t|128);return n}function t(){for(var e,t,n=[],i=0;i<256;++i){for(t=i,e=8;e--;)1==(1&t)?t=t>>>1^3988292384:t>>>=1;n[i]=t>>>0}return n}function n(){return i||(i=t()),i}var i=null;return function(t){for(var i,r=e(t),a=-1,o=n(),s=0,l=r.length;s<l;++s)i=255&(a^r[s]),a=a>>>8^o[i];return(-1^a)>>>0}}(),b=e.dom,y=/^([^,]+),([^,\{]+)(\{([^}]+)\})?$/,w="rangySerializedSelection";m.extend(e,{serializePosition:a,deserializePosition:o,serializeRange:s,deserializeRange:l,canDeserializeRange:c,serializeSelection:u,deserializeSelection:d,canDeserializeSelection:h,restoreSelectionFromCookie:f,saveSelectionCookie:g,getElementChecksum:r,nodeToInfoString:i}),m.crc32=v}),e},this),/**
 * Text range module for Rangy.
 * Text-based manipulation and searching of ranges and selections.
 *
 * Features
 *
 * - Ability to move range boundaries by character or word offsets
 * - Customizable word tokenizer
 * - Ignores text nodes inside <script> or <style> elements or those hidden by CSS display and visibility properties
 * - Range findText method to search for text or regex within the page or within a range. Flags for whole words and case
 *   sensitivity
 * - Selection and range save/restore as text offsets within a node
 * - Methods to return visible text within a range or selection
 * - innerText method for elements
 *
 * References
 *
 * https://www.w3.org/Bugs/Public/show_bug.cgi?id=13145
 * http://aryeh.name/spec/innertext/innertext.html
 * http://dvcs.w3.org/hg/editing/raw-file/tip/editing.html
 *
 * Part of Rangy, a cross-browser JavaScript range and selection library
 * https://github.com/timdown/rangy
 *
 * Depends on Rangy core.
 *
 * Copyright 2015, Tim Down
 * Licensed under the MIT license.
 * Version: 1.3.0
 * Build date: 10 May 2015
 */
function(e,t){"function"==typeof define&&define.amd?define(["./rangy-core"],e):"undefined"!=typeof module&&"object"==typeof exports?module.exports=e(require("rangy")):e(t.rangy)}(function(e){return e.createModule("TextRange",["WrappedSelection"],function(e,t){function n(e,t){function n(e,t,n){s.push({start:e,end:t,isWord:n})}for(var i,r,a,o=e.join(""),s=[],l=0;i=t.wordRegex.exec(o);){if(r=i.index,a=r+i[0].length,r>l&&n(l,r,!1),t.includeTrailingSpace)for(;Z.test(e[a]);)++a;n(r,a,!0),l=a}return l<e.length&&n(l,e.length,!1),s}function i(e,t){for(var n=e.slice(t.start,t.end),i={isWord:t.isWord,chars:n,toString:function(){return n.join("")}},r=0,a=n.length;r<a;++r)n[r].token=i;return i}function r(e,t,n){for(var r,a=n(e,t),o=[],s=0;r=a[s++];)o.push(i(e,r));return o}function a(e){var t=e||"",n="string"==typeof t?t.split(""):t;return n.sort(function(e,t){return e.charCodeAt(0)-t.charCodeAt(0)}),n.join("").replace(/(.)\1+/g,"$1")}function o(e){var t,n;return e?(t=e.language||Q,n={},q(n,se[t]||se[Q]),q(n,e),n):se[Q]}function s(e,t){var n=Y(e,t);return t.hasOwnProperty("wordOptions")&&(n.wordOptions=o(n.wordOptions)),t.hasOwnProperty("characterOptions")&&(n.characterOptions=Y(n.characterOptions,ae)),n}function l(e,t){var n=he(e,"display",t),i=e.tagName.toLowerCase();return"block"==n&&re&&pe.hasOwnProperty(i)?pe[i]:n}function c(e){for(var t=f(e),n=0,i=t.length;n<i;++n)if(1==t[n].nodeType&&"none"==l(t[n]))return!0;return!1}function u(e){var t;return 3==e.nodeType&&(t=e.parentNode)&&"hidden"==he(t,"visibility")}function d(e){return e&&(1==e.nodeType&&!/^(inline(-block|-table)?|none)$/.test(l(e))||9==e.nodeType||11==e.nodeType)}function h(e){return V.isCharacterDataNode(e)||!/^(area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param)$/i.test(e.nodeName)}function p(e){for(var t=[];e.parentNode;)t.unshift(e.parentNode),e=e.parentNode;return t}function f(e){return p(e).concat([e])}function g(e){for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null}function m(e,t){return!t&&e.hasChildNodes()?e.firstChild:g(e)}function v(e){var t=e.previousSibling;if(t){for(e=t;e.hasChildNodes();)e=e.lastChild;return e}var n=e.parentNode;return n&&1==n.nodeType?n:null}function b(e){if(!e||3!=e.nodeType)return!1;var t=e.data;if(""===t)return!0;var n=e.parentNode;if(!n||1!=n.nodeType)return!1;var i=he(e.parentNode,"whiteSpace");return/^[\t\n\r ]+$/.test(t)&&/^(normal|nowrap)$/.test(i)||/^[\t\r ]+$/.test(t)&&"pre-line"==i}function y(e){return""===e.data||!!b(e)&&(!e.parentNode||!!c(e))}function w(e){var t=e.nodeType;return 7==t||8==t||c(e)||/^(script|style)$/i.test(e.nodeName)||u(e)||y(e)}function x(e,t){var n=e.nodeType;return 7==n||8==n||1==n&&"none"==l(e,t)}function _(){this.store={}}function k(e,t,n){return function(i){var r=this.cache;if(r.hasOwnProperty(e))return fe++,r[e];ge++;var a=t.call(this,n?this[n]:this,i);return r[e]=a,a}}function C(e,t){this.node=e,this.session=t,this.cache=new _,this.positions=new _}function S(e,t){this.offset=t,this.nodeWrapper=e,this.node=e.node,this.session=e.session,this.cache=new _}function $(){return"[Position("+V.inspectNode(this.node)+":"+this.offset+")]"}function D(){return E(),be=new ye}function T(){return be||D()}function E(){be&&be.detach(),be=null}function M(e,n,i,r){function a(){var e=null;return n?(e=s,l||(s=s.previousVisible(),l=!s||i&&s.equals(i))):l||(e=s=s.nextVisible(),l=!s||i&&s.equals(i)),l&&(s=null),e}i&&(n?w(i.node)&&(i=e.previousVisible()):w(i.node)&&(i=i.nextVisible()));var o,s=e,l=!1,c=!1;return{next:function(){if(c)return c=!1,o;for(var e;e=a();)if(e.getCharacter(r))return o=e,e;return null},rewind:function(){if(!o)throw t.createError("createCharacterIterator: cannot rewind. Only one position can be rewound.");c=!0},dispose:function(){e=i=null}}}function A(e,t,n){function i(e){for(var t,n,i=[],r=e?a:o,s=!1,l=!1;t=r.next();){if(n=t.character,J.test(n))l&&(l=!1,s=!0);else{if(s){r.rewind();break}l=!0}i.push(t)}return i}var a=M(e,!1,null,t),o=M(e,!0,null,t),s=n.tokenizer,l=i(!0),c=i(!1).reverse(),u=r(c.concat(l),n,s),d=l.length?u.slice(we(u,l[0].token)):[],h=c.length?u.slice(0,we(u,c.pop().token)+1):[];return{nextEndToken:function(){for(var e,t;1==d.length&&!(e=d[0]).isWord&&(t=i(!0)).length>0;)d=r(e.chars.concat(t),n,s);return d.shift()},previousStartToken:function(){for(var e,t;1==h.length&&!(e=h[0]).isWord&&(t=i(!1)).length>0;)h=r(t.reverse().concat(e.chars),n,s);return h.pop()},dispose:function(){a.dispose(),o.dispose(),d=h=null}}}function O(e,t,n,i,r){var a,o,s,l,c=0,u=e,d=Math.abs(n);if(0!==n){var h=n<0;switch(t){case W:for(o=M(e,h,null,i);(a=o.next())&&c<d;)++c,u=a;s=a,o.dispose();break;case B:for(var p=A(e,i,r),f=h?p.previousStartToken:p.nextEndToken;(l=f())&&c<d;)l.isWord&&(++c,u=h?l.chars[0]:l.chars[l.chars.length-1]);break;default:throw new Error("movePositionBy: unit '"+t+"' not implemented")}h?(u=u.previousVisible(),c=-c):u&&u.isLeadingSpace&&!u.isTrailingSpace&&(t==B&&(o=M(e,!1,null,i),s=o.next(),o.dispose()),s&&(u=s.previousVisible()))}return{position:u,unitsMoved:c}}function P(e,t,n,i){var r=e.getRangeBoundaryPosition(t,!0),a=e.getRangeBoundaryPosition(t,!1);return M(i?a:r,!!i,i?r:a,n)}function I(e,t,n){for(var i,r=[],a=P(e,t,n);i=a.next();)r.push(i);return a.dispose(),r}function R(t,n,i){var r=e.createRange(t.node);return r.setStartAndEnd(t.node,t.offset,n.node,n.offset),!r.expand("word",{wordOptions:i})}function N(e,t,n,i,r){function a(e,t){var n=g[e].previousVisible(),i=g[t-1];return{startPos:n,endPos:i,valid:!r.wholeWordsOnly||R(n,i,r.wordOptions)}}for(var o,s,l,c,u,d,h=ee(r.direction),p=M(e,h,e.session.getRangeBoundaryPosition(i,h),r.characterOptions),f="",g=[],m=null;o=p.next();)if(s=o.character,n||r.caseSensitive||(s=s.toLowerCase()),h?(g.unshift(o),f=s+f):(g.push(o),f+=s),n){if(u=t.exec(f))if(l=u.index,c=l+u[0].length,d){if(!h&&c<f.length||h&&l>0){m=a(l,c);break}}else d=!0}else if(-1!=(l=f.indexOf(t))){m=a(l,l+t.length);break}return d&&(m=a(l,c)),p.dispose(),m}function L(e){return function(){var t=!!be,n=T(),i=[n].concat(U.toArray(arguments)),r=e.apply(this,i);return t||E(),r}}function F(e,t){return L(function(n,i,r,a){typeof r==H&&(r=i,i=W),a=s(a,ce);var o=e;t&&(o=r>=0,this.collapse(!o));var l=O(n.getRangeBoundaryPosition(this,o),i,r,a.characterOptions,a.wordOptions),c=l.position;return this[o?"setStart":"setEnd"](c.node,c.offset),l.unitsMoved})}function z(e){return L(function(t,n){n=Y(n,ae);for(var i,r=P(t,this,n,!e),a=0;(i=r.next())&&J.test(i.character);)++a;r.dispose();var o=a>0;return o&&this[e?"moveStart":"moveEnd"]("character",e?a:-a,{characterOptions:n}),o})}function j(e){return L(function(t,n){var i=!1;return this.changeEachRange(function(t){i=t[e](n)||i}),i})}var H="undefined",W="character",B="word",V=e.dom,U=e.util,q=U.extend,Y=U.createOptions,K=V.getBody,G=/^[ \t\f\r\n]+$/,X=/^[ \t\f\r]+$/,J=/^[\t-\r \u0085\u00A0\u1680\u180E\u2000-\u200B\u2028\u2029\u202F\u205F\u3000]+$/,Z=/^[\t \u00A0\u1680\u180E\u2000-\u200B\u202F\u205F\u3000]+$/,Q="en",ee=e.Selection.isDirectionBackward,te=!1,ne=!1,ie=!1;!function(){var t=V.createTestElement(document,"<p>1 </p><p></p>",!0),n=t.firstChild,i=e.getSelection();i.collapse(n.lastChild,2),i.setStart(n.firstChild,0),te=1==(""+i).length,t.innerHTML="1 <br />",i.collapse(t,2),i.setStart(t.firstChild,0),ne=1==(""+i).length,t.innerHTML="1 <p>1</p>",i.collapse(t,2),i.setStart(t.firstChild,0),ie=1==(""+i).length,V.removeNode(t),i.removeAllRanges()}();var re,ae={includeBlockContentTrailingSpace:!0,includeSpaceBeforeBr:!0,includeSpaceBeforeBlock:!0,includePreLineTrailingSpace:!0,ignoreCharacters:""},oe={includeBlockContentTrailingSpace:!1,includeSpaceBeforeBr:!ne,includeSpaceBeforeBlock:!ie,includePreLineTrailingSpace:!0},se={en:{wordRegex:/[a-z0-9]+('[a-z0-9]+)*/gi,includeTrailingSpace:!1,tokenizer:n}},le={caseSensitive:!1,withinRange:null,wholeWordsOnly:!1,wrap:!1,direction:"forward",wordOptions:null,characterOptions:null},ce={wordOptions:null,characterOptions:null},ue={wordOptions:null,characterOptions:null,trim:!1,trimStart:!0,trimEnd:!0},de={wordOptions:null,characterOptions:null,direction:"forward"},he=V.getComputedStyleProperty;!function(){var e=document.createElement("table"),t=K(document);t.appendChild(e),re="block"==he(e,"display"),t.removeChild(e)}();var pe={table:"table",caption:"table-caption",colgroup:"table-column-group",col:"table-column",thead:"table-header-group",tbody:"table-row-group",tfoot:"table-footer-group",tr:"table-row",td:"table-cell",th:"table-cell"};_.prototype={get:function(e){return this.store.hasOwnProperty(e)?this.store[e]:null},set:function(e,t){return this.store[e]=t}};var fe=0,ge=0,me={getPosition:function(e){var t=this.positions;return t.get(e)||t.set(e,new S(this,e))},toString:function(){return"[NodeWrapper("+V.inspectNode(this.node)+")]"}};C.prototype=me;q(me,{isCharacterDataNode:k("isCharacterDataNode",V.isCharacterDataNode,"node"),getNodeIndex:k("nodeIndex",V.getNodeIndex,"node"),getLength:k("nodeLength",V.getNodeLength,"node"),containsPositions:k("containsPositions",h,"node"),isWhitespace:k("isWhitespace",b,"node"),isCollapsedWhitespace:k("isCollapsedWhitespace",y,"node"),getComputedDisplay:k("computedDisplay",l,"node"),isCollapsed:k("collapsed",w,"node"),isIgnored:k("ignored",x,"node"),next:k("nextPos",m,"node"),previous:k("previous",v,"node"),getTextNodeInfo:k("textNodeInfo",function(e){var t=null,n=!1,i=he(e.parentNode,"whiteSpace"),r="pre-line"==i;return r?(t=X,n=!0):"normal"!=i&&"nowrap"!=i||(t=G,n=!0),{node:e,text:e.data,spaceRegex:t,collapseSpaces:n,preLine:r}},"node"),hasInnerText:k("hasInnerText",function(e,t){for(var n=this.session,i=n.getPosition(e.parentNode,this.getNodeIndex()+1),r=n.getPosition(e,0),a=t?i:r,o=t?r:i;a!==o;){if(a.prepopulateChar(),a.isDefinitelyNonEmpty())return!0;a=t?a.previousVisible():a.nextVisible()}return!1},"node"),isRenderedBlock:k("isRenderedBlock",function(e){for(var t=e.getElementsByTagName("br"),n=0,i=t.length;n<i;++n)if(!w(t[n]))return!0;return this.hasInnerText()},"node"),getTrailingSpace:k("trailingSpace",function(e){if("br"==e.tagName.toLowerCase())return"";switch(this.getComputedDisplay()){case"inline":for(var t=e.lastChild;t;){if(!x(t))return 1==t.nodeType?this.session.getNodeWrapper(t).getTrailingSpace():"";t=t.previousSibling}break;case"inline-block":case"inline-table":case"none":case"table-column":case"table-column-group":break;case"table-cell":return"\t";default:return this.isRenderedBlock(!0)?"\n":""}return""},"node"),getLeadingSpace:k("leadingSpace",function(e){switch(this.getComputedDisplay()){case"inline":case"inline-block":case"inline-table":case"none":case"table-column":case"table-column-group":case"table-cell":break;default:return this.isRenderedBlock(!1)?"\n":""}return""},"node")});var ve={character:"",characterType:"EMPTY",isBr:!1,prepopulateChar:function(){var e=this;if(!e.prepopulatedChar){var t=e.node,n=e.offset,i="",r="EMPTY",a=!1;if(n>0)if(3==t.nodeType){var o=t.data,s=o.charAt(n-1),l=e.nodeWrapper.getTextNodeInfo(),c=l.spaceRegex;l.collapseSpaces?c.test(s)?n>1&&c.test(o.charAt(n-2))||(l.preLine&&"\n"===o.charAt(n)?(i=" ",r="PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK"):(i=" ",r="COLLAPSIBLE_SPACE")):(i=s,r="NON_SPACE",a=!0):(i=s,r="UNCOLLAPSIBLE_SPACE",a=!0)}else{var u=t.childNodes[n-1];if(u&&1==u.nodeType&&!w(u)&&("br"==u.tagName.toLowerCase()?(i="\n",e.isBr=!0,r="COLLAPSIBLE_SPACE",a=!1):e.checkForTrailingSpace=!0),!i){var d=t.childNodes[n];d&&1==d.nodeType&&!w(d)&&(e.checkForLeadingSpace=!0)}}e.prepopulatedChar=!0,e.character=i,e.characterType=r,e.isCharInvariant=a}},isDefinitelyNonEmpty:function(){var e=this.characterType;return"NON_SPACE"==e||"UNCOLLAPSIBLE_SPACE"==e},resolveLeadingAndTrailingSpaces:function(){if(this.prepopulatedChar||this.prepopulateChar(),this.checkForTrailingSpace){var e=this.session.getNodeWrapper(this.node.childNodes[this.offset-1]).getTrailingSpace();e&&(this.isTrailingSpace=!0,this.character=e,this.characterType="COLLAPSIBLE_SPACE"),this.checkForTrailingSpace=!1}if(this.checkForLeadingSpace){var t=this.session.getNodeWrapper(this.node.childNodes[this.offset]).getLeadingSpace();t&&(this.isLeadingSpace=!0,this.character=t,this.characterType="COLLAPSIBLE_SPACE"),this.checkForLeadingSpace=!1}},getPrecedingUncollapsedPosition:function(e){for(var t=this;t=t.previousVisible();)if(""!==t.getCharacter(e))return t;return null},getCharacter:function(e){function t(){return h||(c=p.getPrecedingUncollapsedPosition(e),h=!0),c}this.resolveLeadingAndTrailingSpaces();var n=this.character,i=a(e.ignoreCharacters),r=""!==n&&i.indexOf(n)>-1;if(this.isCharInvariant)return r?"":n;var o=["character",e.includeSpaceBeforeBr,e.includeBlockContentTrailingSpace,e.includePreLineTrailingSpace,i].join("_"),s=this.cache.get(o);if(null!==s)return s;var l,c,u="",d="COLLAPSIBLE_SPACE"==this.characterType,h=!1,p=this;return d&&("INCLUDED_TRAILING_LINE_BREAK_AFTER_BR"==this.type?u="\n":" "==n&&(!t()||c.isTrailingSpace||"\n"==c.character||" "==c.character&&"COLLAPSIBLE_SPACE"==c.characterType)||("\n"==n&&this.isLeadingSpace?t()&&"\n"!=c.character&&(u="\n"):(l=this.nextUncollapsed())&&(l.isBr?this.type="TRAILING_SPACE_BEFORE_BR":l.isTrailingSpace&&"\n"==l.character?this.type="TRAILING_SPACE_IN_BLOCK":l.isLeadingSpace&&"\n"==l.character&&(this.type="TRAILING_SPACE_BEFORE_BLOCK"),"\n"==l.character?("TRAILING_SPACE_BEFORE_BR"!=this.type||e.includeSpaceBeforeBr)&&("TRAILING_SPACE_BEFORE_BLOCK"!=this.type||e.includeSpaceBeforeBlock)&&("TRAILING_SPACE_IN_BLOCK"==this.type&&l.isTrailingSpace&&!e.includeBlockContentTrailingSpace||("PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK"!=this.type||"NON_SPACE"!=l.type||e.includePreLineTrailingSpace)&&("\n"==n?l.isTrailingSpace?this.isTrailingSpace||this.isBr&&(l.type="TRAILING_LINE_BREAK_AFTER_BR",t()&&c.isLeadingSpace&&!c.isTrailingSpace&&"\n"==c.character?l.character="":l.type="INCLUDED_TRAILING_LINE_BREAK_AFTER_BR"):u="\n":" "==n&&(u=" "))):u=n))),i.indexOf(u)>-1&&(u=""),this.cache.set(o,u),u},equals:function(e){return!!e&&this.node===e.node&&this.offset===e.offset},inspect:$,toString:function(){return this.character}};S.prototype=ve,q(ve,{next:k("nextPos",function(e){var t=e.nodeWrapper,n=e.node,i=e.offset,r=t.session;if(!n)return null;var a,o,s;return i==t.getLength()?(a=n.parentNode,o=a?t.getNodeIndex()+1:0):t.isCharacterDataNode()?(a=n,o=i+1):(s=n.childNodes[i],r.getNodeWrapper(s).containsPositions()?(a=s,o=0):(a=n,o=i+1)),a?r.getPosition(a,o):null}),previous:k("previous",function(e){var t,n,i,r=e.nodeWrapper,a=e.node,o=e.offset,s=r.session;return 0==o?(t=a.parentNode,n=t?r.getNodeIndex():0):r.isCharacterDataNode()?(t=a,n=o-1):(i=a.childNodes[o-1],s.getNodeWrapper(i).containsPositions()?(t=i,n=V.getNodeLength(i)):(t=a,n=o-1)),t?s.getPosition(t,n):null}),nextVisible:k("nextVisible",function(e){var t=e.next();if(!t)return null;var n=t.nodeWrapper,i=t.node,r=t;return n.isCollapsed()&&(r=n.session.getPosition(i.parentNode,n.getNodeIndex()+1)),r}),nextUncollapsed:k("nextUncollapsed",function(e){for(var t=e;t=t.nextVisible();)if(t.resolveLeadingAndTrailingSpaces(),""!==t.character)return t;return null}),previousVisible:k("previousVisible",function(e){var t=e.previous();if(!t)return null;var n=t.nodeWrapper,i=t.node,r=t;return n.isCollapsed()&&(r=n.session.getPosition(i.parentNode,n.getNodeIndex())),r})});var be=null,ye=function(){function e(e){var t=new _;return{get:function(n){var i=t.get(n[e]);if(i)for(var r,a=0;r=i[a++];)if(r.node===n)return r;return null},set:function(n){var i=n.node[e];(t.get(i)||t.set(i,[])).push(n)}}}function t(){this.initCaches()}var n=U.isHostProperty(document.documentElement,"uniqueID");return t.prototype={initCaches:function(){this.elementCache=n?function(){var e=new _;return{get:function(t){return e.get(t.uniqueID)},set:function(t){e.set(t.node.uniqueID,t)}}}():e("tagName"),this.textNodeCache=e("data"),this.otherNodeCache=e("nodeName")},getNodeWrapper:function(e){var t;switch(e.nodeType){case 1:t=this.elementCache;break;case 3:t=this.textNodeCache;break;default:t=this.otherNodeCache}var n=t.get(e);return n||(n=new C(e,this),t.set(n)),n},getPosition:function(e,t){return this.getNodeWrapper(e).getPosition(t)},getRangeBoundaryPosition:function(e,t){var n=t?"start":"end";return this.getPosition(e[n+"Container"],e[n+"Offset"])},detach:function(){this.elementCache=this.textNodeCache=this.otherNodeCache=null}},t}();q(V,{nextNode:m,previousNode:v});var we=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,i=e.length;n<i;++n)if(e[n]===t)return n;return-1};q(e.rangePrototype,{moveStart:F(!0,!1),moveEnd:F(!1,!1),move:F(!0,!0),trimStart:z(!0),trimEnd:z(!1),trim:L(function(e,t){var n=this.trimStart(t),i=this.trimEnd(t);return n||i}),expand:L(function(e,t,n){var i=!1;n=s(n,ue);var r=n.characterOptions;if(t||(t=W),t==B){var a,o,l=n.wordOptions,c=e.getRangeBoundaryPosition(this,!0),u=e.getRangeBoundaryPosition(this,!1),d=A(c,r,l),h=d.nextEndToken(),p=h.chars[0].previousVisible();if(this.collapsed)a=h;else{a=A(u,r,l).previousStartToken()}return o=a.chars[a.chars.length-1],p.equals(c)||(this.setStart(p.node,p.offset),i=!0),o&&!o.equals(u)&&(this.setEnd(o.node,o.offset),i=!0),n.trim&&(n.trimStart&&(i=this.trimStart(r)||i),n.trimEnd&&(i=this.trimEnd(r)||i)),i}return this.moveEnd(W,1,n)}),text:L(function(e,t){return this.collapsed?"":I(e,this,Y(t,ae)).join("")}),selectCharacters:L(function(e,t,n,i,r){var a={characterOptions:r};t||(t=K(this.getDocument())),this.selectNodeContents(t),this.collapse(!0),this.moveStart("character",n,a),this.collapse(!0),this.moveEnd("character",i-n,a)}),toCharacterRange:L(function(e,t,n){t||(t=K(this.getDocument()));var i,r,a=t.parentNode,o=V.getNodeIndex(t),s=-1==V.comparePoints(this.startContainer,this.endContainer,a,o),l=this.cloneRange();return s?(l.setStartAndEnd(this.startContainer,this.startOffset,a,o),i=-l.text(n).length):(l.setStartAndEnd(a,o,this.startContainer,this.startOffset),i=l.text(n).length),r=i+this.text(n).length,{start:i,end:r}}),findText:L(function(t,n,i){i=s(i,le),i.wholeWordsOnly&&(i.wordOptions.includeTrailingSpace=!1);var r=ee(i.direction),a=i.withinRange;a||(a=e.createRange(),a.selectNodeContents(this.getDocument()));var o=n,l=!1;"string"==typeof o?i.caseSensitive||(o=o.toLowerCase()):l=!0;var c=t.getRangeBoundaryPosition(this,!r),u=a.comparePoint(c.node,c.offset);-1===u?c=t.getRangeBoundaryPosition(a,!0):1===u&&(c=t.getRangeBoundaryPosition(a,!1));for(var d,h=c,p=!1;;)if(d=N(h,o,l,a,i)){if(d.valid)return this.setStartAndEnd(d.startPos.node,d.startPos.offset,d.endPos.node,d.endPos.offset),!0;h=r?d.startPos:d.endPos}else{if(!i.wrap||p)return!1;a=a.cloneRange(),h=t.getRangeBoundaryPosition(a,!r),a.setBoundary(c.node,c.offset,r),p=!0}}),pasteHtml:function(e){if(this.deleteContents(),e){var t=this.createContextualFragment(e),n=t.lastChild;this.insertNode(t),this.collapseAfter(n)}}}),q(e.selectionPrototype,{expand:L(function(e,t,n){this.changeEachRange(function(e){e.expand(t,n)})}),move:L(function(e,t,n,i){var r=0;if(this.focusNode){this.collapse(this.focusNode,this.focusOffset);var a=this.getRangeAt(0);i||(i={}),i.characterOptions=Y(i.characterOptions,oe),r=a.move(t,n,i),this.setSingleRange(a)}return r}),trimStart:j("trimStart"),trimEnd:j("trimEnd"),trim:j("trim"),selectCharacters:L(function(t,n,i,r,a,o){var s=e.createRange(n);s.selectCharacters(n,i,r,o),this.setSingleRange(s,a)}),saveCharacterRanges:L(function(e,t,n){for(var i=this.getAllRanges(),r=i.length,a=[],o=1==r&&this.isBackward(),s=0,l=i.length;s<l;++s)a[s]={characterRange:i[s].toCharacterRange(t,n),backward:o,characterOptions:n};return a}),restoreCharacterRanges:L(function(t,n,i){this.removeAllRanges();for(var r,a,o,s=0,l=i.length;s<l;++s)a=i[s],o=a.characterRange,r=e.createRange(n),r.selectCharacters(n,o.start,o.end,a.characterOptions),this.addRange(r,a.backward)}),text:L(function(e,t){for(var n=[],i=0,r=this.rangeCount;i<r;++i)n[i]=this.getRangeAt(i).text(t);return n.join("")})}),e.innerText=function(t,n){var i=e.createRange(t);return i.selectNodeContents(t),i.text(n)},e.createWordIterator=function(e,t,n){var i=T();n=s(n,de);var r=i.getPosition(e,t),a=A(r,n.characterOptions,n.wordOptions),o=ee(n.direction);return{next:function(){return o?a.previousStartToken():a.nextEndToken()},dispose:function(){a.dispose(),this.next=function(){}}}},e.noMutation=function(e){e(T()),E()},e.noMutation.createEntryPointFunction=L,e.textRange={isBlockNode:d,isCollapsedWhitespaceNode:y,createPosition:L(function(e,t,n){return e.getPosition(t,n)})}}),e},this);var textAngularVersion="v1.5.16",_browserDetect={ie:function(){for(var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e",n[0];);return e>4?e:void 0}(),webkit:/AppleWebKit\/([\d.]+)/i.test(navigator.userAgent),isFirefox:navigator.userAgent.toLowerCase().indexOf("firefox")>-1},performance=performance||{};performance.now=function(){return performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()}}();var BLOCKELEMENTS=/^(address|article|aside|audio|blockquote|canvas|center|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video)$/i,LISTELEMENTS=/^(ul|li|ol)$/i,VALIDELEMENTS=/^(#text|span|address|article|aside|audio|blockquote|canvas|center|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video|li)$/i;String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var sheet,addCSSRule,removeCSSRule,_addCSSRule,_removeCSSRule,_getRuleIndex;if(_browserDetect.ie>8||void 0===_browserDetect.ie){for(var _sheets=document.styleSheets,i=0;i<_sheets.length;i++)if((0===_sheets[i].media.length||_sheets[i].media.mediaText.match(/(all|screen)/gi))&&_sheets[i].href&&_sheets[i].href.match(/textangular\.(min\.|)css/gi)){sheet=_sheets[i];break}sheet||(sheet=function(){var e=document.createElement("style");return _browserDetect.webkit&&e.appendChild(document.createTextNode("")),document.getElementsByTagName("head")[0].appendChild(e),e.sheet}()),addCSSRule=function(e,t){return _addCSSRule(sheet,e,t)},_addCSSRule=function(e,t,n){var i,r;return e.cssRules?i=Math.max(e.cssRules.length-1,0):e.rules&&(i=Math.max(e.rules.length-1,0)),e.insertRule?e.insertRule(t+"{"+n+"}",i):e.addRule(t,n,i),sheet.rules?r=sheet.rules[i]:sheet.cssRules&&(r=sheet.cssRules[i]),r},_getRuleIndex=function(e,t){var n,i;for(n=0;n<t.length;n++)if(t[n].cssText===e.cssText){i=n;break}return i},removeCSSRule=function(e){_removeCSSRule(sheet,e)},_removeCSSRule=function(e,t){var n=e.cssRules||e.rules;if(n&&0!==n.length){var i=_getRuleIndex(t,n);e.removeRule?e.removeRule(i):e.deleteRule(i)}}}angular.module("textAngular.factories",[]).factory("taBrowserTag",[function(){return function(e){return e?""===e?void 0===_browserDetect.ie?"div":_browserDetect.ie<=8?"P":"p":_browserDetect.ie<=8?e.toUpperCase():e:_browserDetect.ie<=8?"P":"p"}}]).factory("taApplyCustomRenderers",["taCustomRenderers","taDOM",function(e,t){return function(n){var i=angular.element("<div></div>");return i[0].innerHTML=n,angular.forEach(e,function(e){var n=[];e.selector&&""!==e.selector?n=i.find(e.selector):e.customAttribute&&""!==e.customAttribute&&(n=t.getByAttribute(i,e.customAttribute)),angular.forEach(n,function(t){t=angular.element(t),e.selector&&""!==e.selector&&e.customAttribute&&""!==e.customAttribute?void 0!==t.attr(e.customAttribute)&&e.renderLogic(t):e.renderLogic(t)})}),i[0].innerHTML}}]).factory("taFixChrome",function(){return function(e,t){if(!e||!angular.isString(e)||e.length<=0)return e;for(var n,i,r,a=/style\s?=\s?(["'])(?:(?=(\\?))\2.)*?\1/gi,o=/<span class="Apple-converted-space">([^<]+)<\/span>/gi,s="",l=0;n=o.exec(e);)r=n[1],r=r.replace(/&nbsp;/gi," "),s+=e.substring(l,n.index)+r,l=n.index+n[0].length;if(l&&(s+=e.substring(l),e=s,s="",l=0),!t){for(;n=a.exec(e);)s+=e.substring(l,n.index-1),i=n[0],n=/font-family: inherit;|line-height: 1.[0-9]{3,12};|color: inherit; line-height: 1.1;|color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);|background-color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);/gi.exec(i),n?(i=i.replace(/( |)font-family: inherit;|( |)line-height: 1.[0-9]{3,12};|( |)color: inherit;|( |)color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);|( |)background-color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);/gi,""),i.length>8&&(s+=" "+i)):s+=" "+i,l=a.lastIndex;s+=e.substring(l)}if(l>0){return s.replace(/<span\s?>(.*?)<\/span>(<br(\/|)>|)/gi,"$1")}return e}}).factory("taSanitize",["$sanitize",function(e){function t(e,t){for(var n,i=0,r=0,a=/<[^>]*>/gi;n=a.exec(e);)if(r=n.index,"/"===n[0].substr(1,1)){if(0===i)break;i--}else i++;return t+e.substring(0,r)+angular.element(t)[0].outerHTML.substring(t.length)+e.substring(r)}function n(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var i,a,o,s,l,u,d=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,h="",p="",f=0;a=d.exec(e);){s=a[3]||a[4];var g=new RegExp(c,"i");if(angular.isString(s)&&g.test(s)){l="";for(var m=new RegExp(c,"ig");o=m.exec(s);)for(i=0;i<r.length;i++)o[2*i+2]&&(l+="<"+r[i].tag+">");u=n(e.substring(f,a.index)),h.length>0?p+=t(u,h):p+=u,s=s.replace(new RegExp(c,"ig"),""),p+="<"+a[1].trim(),s.length>0&&(p+=' style="'+s+'"'),p+=a[5]+">",f=a.index+a[0].length,h=l}}return h.length>0?p+=t(e.substring(f),h):p+=e.substring(f),p}function i(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var t,n=/<([^>\/]+?)align=("([^"]+)"|'([^']+)')([^>]*)>/gi,i="",r=0;t=n.exec(e);){i+=e.substring(r,t.index),r=t.index+t[0].length;var a="<"+t[1]+t[5];/style=("([^"]+)"|'([^']+)')/gi.test(a)?a=a.replace(/style=("([^"]+)"|'([^']+)')/i,'style="$2$3 text-align:'+(t[3]||t[4])+';"'):a+=' style="text-align:'+(t[3]||t[4])+';"',a+=">",i+=a}return i+e.substring(r)}for(var r=[{property:"font-weight",values:["bold"],tag:"b"},{property:"font-style",values:["italic"],tag:"i"}],a=[],o=0;o<r.length;o++){for(var s="("+r[o].property+":\\s*(",l=0;l<r[o].values.length;l++)l>0&&(s+="|"),s+=r[o].values[l];s+=");)",a.push(s)}var c="("+a.join("|")+")",u=new RegExp(/<span id="selectionBoundary_\d+_\d+" class="rangySelectionBoundary">[^<>]+?<\/span>/gi),d=new RegExp(/<span class="rangySelectionBoundary" id="selectionBoundary_\d+_\d+">[^<>]+?<\/span>/gi),h=new RegExp(/<span id="selectionBoundary_\d+_\d+" class="rangySelectionBoundary">[^<>]+?<\/span>/gi);return function(t,r,a){if(!a)try{t=n(t)}catch(e){}if(t=i(t))try{t=t.replace(u,""),t=t.replace(d,""),t=t.replace(u,""),t=t.replace(h,"")}catch(e){}var o;try{o=e(t),a&&(o=t)}catch(e){o=r||""}var s,l=o.match(/(<pre[^>]*>.*?<\/pre[^>]*>)/gi),c=o.replace(/(&#(9|10);)*/gi,""),p=/<pre[^>]*>.*?<\/pre[^>]*>/gi,f=0,g=0;for(o="";null!==(s=p.exec(c))&&f<l.length;)o+=c.substring(g,s.index)+l[f],g=s.index+s[0].length,f++;return o+c.substring(g)}}]).factory("taToolExecuteAction",["$q","$log",function(e,t){return function(n){void 0!==n&&(this.$editor=function(){return n});var i,r=e.defer(),a=r.promise,o=this.$editor();try{i=this.action(r,o.startAction()),a.finally(function(){o.endAction.call(o)})}catch(e){t.error(e)}(i||void 0===i)&&r.resolve()}}]),angular.module("textAngular.DOM",["textAngular.factories"]).factory("taExecCommand",["taSelection","taBrowserTag","$document",function(e,t,n){var i=function(t,n){var i,r,a=t.find("li");for(r=a.length-1;r>=0;r--)i=angular.element("<"+n+">"+a[r].innerHTML+"</"+n+">"),t.after(i);t.remove(),e.setSelectionToElementEnd(i[0])},r=function(n,i,r,a,o){var s,l,c,u,d,h=n.find("li");for(l=0;l<h.length;l++)if(h[l].outerHTML===i[0].outerHTML){d=l,l>0&&(c=h[l-1]),l+1<h.length&&(u=h[l+1]);break}var p="";if(a?p+="<"+o+">"+i[0].innerHTML+"</"+o+">":(p+="<"+t(r)+">",p+="<li>"+i[0].innerHTML+"</li>",p+="</"+t(r)+">"),s=angular.element(p),!c)return i.remove(),n.after(angular.element(n[0].outerHTML)),n.after(s),n.remove(),void e.setSelectionToElementEnd(s[0]);if(u){var f=(n.parent(),""),g=n[0].nodeName.toLowerCase();for(f+="<"+g+">",l=0;l<d;l++)f+="<li>"+h[l].innerHTML+"</li>";f+="</"+g+">";var m="";for(m+="<"+g+">",l=d+1;l<h.length;l++)m+="<li>"+h[l].innerHTML+"</li>";m+="</"+g+">",n.after(angular.element(m)),n.after(s),n.after(angular.element(f)),n.remove(),e.setSelectionToElementEnd(s[0])}else i.remove(),n.after(s),e.setSelectionToElementEnd(s[0])},a=function(n,i,r,a,o){var s,l,c,u,d,h=n.find("li"),p=[];for(l=0;l<h.length;l++)for(c=0;c<i.length;c++)h[l].isEqualNode(i[c])&&(p[c]=l);p[0]>0&&(u=h[p[0]-1]),p[i.length-1]+1<h.length&&(d=h[p[i.length-1]+1]);var f="";if(a)for(c=0;c<i.length;c++)f+="<"+o+">"+i[c].innerHTML+"</"+o+">",i[c].remove();else{for(f+="<"+t(r)+">",c=0;c<i.length;c++)f+=i[c].outerHTML,i[c].remove();f+="</"+t(r)+">"}if(s=angular.element(f),!u)return n.after(angular.element(n[0].outerHTML)),n.after(s),n.remove(),void e.setSelectionToElementEnd(s[0]);if(!d)return n.after(s),void e.setSelectionToElementEnd(s[0]);var g="",m=n[0].nodeName.toLowerCase();for(g+="<"+m+">",l=0;l<p[0];l++)g+="<li>"+h[l].innerHTML+"</li>";g+="</"+m+">";var v="";for(v+="<"+m+">",l=p[i.length-1]+1;l<h.length;l++)v+="<li>"+h[l].innerHTML+"</li>";v+="</"+m+">",n.after(angular.element(v)),n.after(s),n.after(angular.element(g)),n.remove(),e.setSelectionToElementEnd(s[0])},o=function(t){/(<br(|\/)>)$/i.test(t.innerHTML.trim())?e.setSelectionBeforeElement(angular.element(t).find("br")[0]):e.setSelectionToElementEnd(t)},s=function(e,t){var n=angular.element("<"+t+">"+e[0].innerHTML+"</"+t+">");e.after(n),e.remove(),o(n.find("li")[0])},l=function(e,n,i){for(var r="",a=0;a<e.length;a++)r+="<"+t("li")+">"+e[a].innerHTML+"</"+t("li")+">";var s=angular.element("<"+i+">"+r+"</"+i+">");n.after(s),n.remove(),o(s.find("li")[0])},c=function(e,t){for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];i.tagName&&i.tagName.match(BLOCKELEMENTS)&&c(i,t)}if(null===e.parentNode)return e;if("<br>"===t)return e;var r=angular.element(t);return r[0].innerHTML=e.innerHTML,e.parentNode.insertBefore(r[0],e),e.parentNode.removeChild(e),r};return function(o,u){return o=t(o),function(d,h,p,f){var g,m,v,b,y,w,x,_,k=angular.element("<"+o+">");try{e.getSelection&&(_=e.getSelection()),x=e.getSelectionElement();var C,S;void 0!==x.tagName&&("div"===x.tagName.toLowerCase()&&/taTextElement.+/.test(x.id)&&_&&_.start&&1===_.start.offset&&1===_.end.offset?(C=x.innerHTML,/<br>/i.test(C)&&(C=C.replace(/<br>/i,"&#8203;")),/<br\/>/i.test(C)&&(C=C.replace(/<br\/>/i,"&#8203;")),/<span>(<span>)+/i.test(C)&&(C=__.replace(/<span>(<span>)+/i,"<span>")),/<\/span>(<\/span>)+/i.test(C)&&(C=__.replace(/<\/span>(<\/span>)+/i,"</span>")),/<span><\/span>/i.test(C)&&(C=C.replace(/<span><\/span>/i,"")),S="<div>"+C+"</div>",x.innerHTML=S,e.setSelectionToElementEnd(x.childNodes[0]),x=e.getSelectionElement()):"span"===x.tagName.toLowerCase()&&_&&_.start&&1===_.start.offset&&1===_.end.offset?(C=x.innerHTML,/<br>/i.test(C)&&(C=C.replace(/<br>/i,"&#8203;")),/<br\/>/i.test(C)&&(C=C.replace(/<br\/>/i,"&#8203;")),/<span>(<span>)+/i.test(C)&&(C=__.replace(/<span>(<span>)+/i,"<span>")),/<\/span>(<\/span>)+/i.test(C)&&(C=__.replace(/<\/span>(<\/span>)+/i,"</span>")),/<span><\/span>/i.test(C)&&(C=C.replace(/<span><\/span>/i,"")),S="<div>"+C+"</div>",x.innerHTML=S,e.setSelectionToElementEnd(x.childNodes[0]),x=e.getSelectionElement()):"p"===x.tagName.toLowerCase()&&_&&_.start&&1===_.start.offset&&1===_.end.offset?(C=x.innerHTML,/<br>/i.test(C)&&(C=C.replace(/<br>/i,"&#8203;"),x.innerHTML=C)):"li"===x.tagName.toLowerCase()&&_&&_.start&&_.start.offset===_.end.offset&&(C=x.innerHTML,/<br>/i.test(C)&&(C=C.replace(/<br>/i,""),x.innerHTML=C)))}catch(e){}if(x){var $=angular.element(x),D=x&&x.tagName&&x.tagName.toLowerCase()||"";if("insertorderedlist"===d.toLowerCase()||"insertunorderedlist"===d.toLowerCase()){var T=t("insertorderedlist"===d.toLowerCase()?"ol":"ul"),E=e.getOnlySelectedElements();if(E.length>1&&("ol"===D||"ul"===D))return a($,E,T,T===D,o);if(D===T)return $[0].childNodes.length!==E.length&&1===E.length?($=angular.element(E[0]),r($.parent(),$,T,!0,o)):i($,o)
;if("li"===D&&$.parent()[0].tagName.toLowerCase()===T&&1===$.parent().children().length)return i($.parent(),o);if("li"===D&&$.parent()[0].tagName.toLowerCase()!==T&&1===$.parent().children().length)return s($.parent(),T);if(D.match(BLOCKELEMENTS)&&!$.hasClass("ta-bind")){if(E.length&&$[0].childNodes.length!==E.length&&1===E.length)return $=angular.element(E[0]),r($.parent(),$,T,T===D,o);if("ol"===D||"ul"===D)return s($,T);var M=!1;return angular.forEach($.children(),function(e){e.tagName.match(BLOCKELEMENTS)&&(M=!0)}),M?l($.children(),$,T):l([angular.element("<div>"+x.innerHTML+"</div>")[0]],$,T)}if(D.match(BLOCKELEMENTS)){if(b=e.getOnlySelectedElements(),0===b.length)m=angular.element("<"+T+"><li>"+x.innerHTML+"</li></"+T+">"),$.html(""),$.append(m);else{if(1===b.length&&("ol"===b[0].tagName.toLowerCase()||"ul"===b[0].tagName.toLowerCase()))return b[0].tagName.toLowerCase()===T?i(angular.element(b[0]),o):s(angular.element(b[0]),T);v="";var A=[];for(g=0;g<b.length;g++)if(3!==b[g].nodeType){var O=angular.element(b[g]);if("li"===b[g].tagName.toLowerCase())continue;"ol"===b[g].tagName.toLowerCase()||"ul"===b[g].tagName.toLowerCase()?v+=O[0].innerHTML:"span"!==b[g].tagName.toLowerCase()||"ol"!==b[g].childNodes[0].tagName.toLowerCase()&&"ul"!==b[g].childNodes[0].tagName.toLowerCase()?v+="<"+t("li")+">"+O[0].innerHTML+"</"+t("li")+">":v+=O[0].childNodes[0].innerHTML,A.unshift(O)}m=angular.element("<"+T+">"+v+"</"+T+">"),A.pop().replaceWith(m),angular.forEach(A,function(e){e.remove()})}return void e.setSelectionToElementEnd(m[0])}}else{if("formatblock"===d.toLowerCase()){for(w=p.toLowerCase().replace(/[<>]/gi,""),"default"===w.trim()&&(w=o,p="<"+o+">"),m="li"===D?$.parent():$;!m[0].tagName||!m[0].tagName.match(BLOCKELEMENTS)&&!m.parent().attr("contenteditable");)m=m.parent(),D=(m[0].tagName||"").toLowerCase();if(D===w){b=m.children();var P=!1;for(g=0;g<b.length;g++)P=P||b[g].tagName.match(BLOCKELEMENTS);P?(m.after(b),y=m.next(),m.remove(),m=y):(k.append(m[0].childNodes),m.after(k),m.remove(),m=k)}else if(m.parent()[0].tagName.toLowerCase()!==w||m.parent().hasClass("ta-bind"))if(D.match(LISTELEMENTS))m.wrap(p);else{for(b=e.getOnlySelectedElements(),0===b.length&&(b=[m[0]]),g=0;g<b.length;g++)if(3===b[g].nodeType||!b[g].tagName.match(BLOCKELEMENTS))for(;3===b[g].nodeType||!b[g].tagName||!b[g].tagName.match(BLOCKELEMENTS);)b[g]=b[g].parentNode;if(b=b.filter(function(e,t,n){return n.indexOf(e)===t}),b.length>1&&(b=b.filter(function(e,t,n){return!("div"===e.nodeName.toLowerCase()&&/^taTextElement/.test(e.id))})),angular.element(b[0]).hasClass("ta-bind"))m=angular.element(p),m[0].innerHTML=b[0].innerHTML,b[0].innerHTML=m[0].outerHTML;else if("blockquote"===w){for(v="",g=0;g<b.length;g++)v+=b[g].outerHTML;for(m=angular.element(p),m[0].innerHTML=v,b[0].parentNode.insertBefore(m[0],b[0]),g=b.length-1;g>=0;g--)b[g].parentNode&&b[g].parentNode.removeChild(b[g])}else if("pre"===w&&e.getStateShiftKey()){for(v="",g=0;g<b.length;g++)v+=b[g].outerHTML;for(m=angular.element(p),m[0].innerHTML=v,b[0].parentNode.insertBefore(m[0],b[0]),g=b.length-1;g>=0;g--)b[g].parentNode&&b[g].parentNode.removeChild(b[g])}else for(g=0;g<b.length;g++){var I=c(b[g],p);b[g]===m[0]&&(m=angular.element(I))}}else{var R=m.parent(),N=R.contents();for(g=0;g<N.length;g++)R.parent().hasClass("ta-bind")&&3===N[g].nodeType&&(k=angular.element("<"+o+">"),k[0].innerHTML=N[g].outerHTML,N[g]=k[0]),R.parent()[0].insertBefore(N[g],R[0]);R.remove()}return e.setSelectionToElementEnd(m[0]),void m[0].focus()}if("createlink"===d.toLowerCase()){if("a"===D)return void(e.getSelectionElement().href=p);var L='<a href="'+p+'" target="'+(f.a.target?f.a.target:"")+'">';if(e.getSelection().collapsed)e.insertHtml(L+p+"</a>",u);else if(rangy.getSelection().getRangeAt(0).canSurroundContents()){var F=angular.element(L+"</a>")[0];rangy.getSelection().getRangeAt(0).surroundContents(F)}return}if("inserthtml"===d.toLowerCase())return void e.insertHtml(p,u)}try{n[0].execCommand(d,h,p)}catch(e){}}}}}]).service("taSelection",["$document","taDOM","$log",function(e,t,n){var i,r=e[0],a=function(e,t){return e.tagName&&e.tagName.match(/^br$/i)&&0===t&&!e.previousSibling?{element:e.parentNode,offset:0}:{element:e,offset:t}},o={getSelection:function(){var e;try{e=rangy.getSelection().getRangeAt(0)}catch(e){return}var t=e.commonAncestorContainer,n={start:a(e.startContainer,e.startOffset),end:a(e.endContainer,e.endOffset),collapsed:e.collapsed};return 3===t.nodeType&&("div"===t.parentNode.nodeName.toLowerCase()&&/^taTextElement/.test(t.parentNode.id)||(t=t.parentNode)),"div"===t.nodeName.toLowerCase()&&/^taTextElement/.test(t.id)?(n.start.element=t.childNodes[n.start.offset],n.end.element=t.childNodes[n.end.offset],n.container=t):t.parentNode===n.start.element||t.parentNode===n.end.element?n.container=t.parentNode:n.container=t,n},updateLeftArrowKey:function(e){var t=rangy.getSelection().getRangeAt(0);if(t&&t.collapsed){var n=o.getFlattenedDom(t);if(!n.findIndex)return;var i,r=t.startContainer,a=n.findIndex(function(e,t){return e.node===r||-1!==e.parents.indexOf(r)});if(n.forEach(function(e,t){e.parents.forEach(function(e,t){})}),a+1<n.length&&(i=n[a+1].node),i&&i.textContent&&/^\ufeff([^\ufeff]*)$/.exec(i.textContent))return;var s;if(a>0&&(s=n[a-1].node),0===t.startOffset&&s&&/^\ufeff([^\ufeff]*)$/.exec(s.textContent))return void o.setSelectionToElementEnd(s)}},updateRightArrowKey:function(e){},getFlattenedDom:function(e){function t(e){if(e.node.childNodes.length){Array.prototype.slice.call(e.node.childNodes).forEach(function(n){var i=e.parents.slice();i.slice(-1)[0]!==e.node&&i.push(e.node),t({parents:i,node:n})})}else i.push({parents:e.parents,node:e.node})}var n=e.commonAncestorContainer.parentNode;if(!n)return e.commonAncestorContainer.childNodes;var i=Array.prototype.slice.call(n.childNodes),r=i.indexOf(e.startContainer);return r+1<i.length&&r>0||n.parentNode&&(n=n.parentNode),i=[],t({parents:[n],node:n}),i},getOnlySelectedElements:function(){var e=rangy.getSelection().getRangeAt(0),t=e.commonAncestorContainer;return t=3===t.nodeType?t.parentNode:t,e.getNodes([1],function(e){return e.parentNode===t})},getAllSelectedElements:function(){var e=rangy.getSelection().getRangeAt(0),t=e.commonAncestorContainer;t=3===t.nodeType?t.parentNode:t;var n=e.getNodes([1],function(e){return e.parentNode===t}),i=t.innerHTML;if((i=i.replace(/<span id=.selectionBoundary[^>]+>\ufeff?<\/span>/gi,""))===e.toHtml()&&("div"!==t.nodeName.toLowerCase()||!/^taTextElement/.test(t.id))){for(var r=[],a=n.length;a--;r.unshift(n[a]));n=r,n.push(t)}return n},getSelectionElement:function(){return o.getSelection()?o.getSelection().container:void 0},setSelection:function(e,t,n,i){var r=rangy.createRange();r.setStart(e,n),r.setEnd(t,i),rangy.getSelection().setSingleRange(r)},setSelectionBeforeElement:function(e){var t=rangy.createRange();t.selectNode(e),t.collapse(!0),rangy.getSelection().setSingleRange(t)},setSelectionAfterElement:function(e){var t=rangy.createRange();t.selectNode(e),t.collapse(!1),rangy.getSelection().setSingleRange(t)},setSelectionToElementStart:function(e){var t=rangy.createRange();t.selectNodeContents(e),t.collapse(!0),rangy.getSelection().setSingleRange(t)},setSelectionToElementEnd:function(e){var t=rangy.createRange();t.selectNodeContents(e),t.collapse(!1),e.childNodes&&e.childNodes[e.childNodes.length-1]&&"br"===e.childNodes[e.childNodes.length-1].nodeName&&(t.startOffset=t.endOffset=t.startOffset-1),rangy.getSelection().setSingleRange(t)},setStateShiftKey:function(e){i=e},getStateShiftKey:function(){return i},insertHtml:function(e,n){var i,a,s,l,c,u,d,h=angular.element("<div>"+e+"</div>"),p=rangy.getSelection().getRangeAt(0),f=r.createDocumentFragment(),g=h[0].childNodes,m=!0;if(g.length>0){for(l=[],s=0;s<g.length;s++){var v=g[s];"p"===v.nodeName.toLowerCase()&&""===v.innerHTML.trim()||(m=m&&!BLOCKELEMENTS.test(v.nodeName),l.push(v))}for(var b=0;b<l.length;b++)u=f.appendChild(l[b]);!m&&p.collapsed&&/^(|<br(|\/)>)$/i.test(p.startContainer.innerHTML)&&p.selectNode(p.startContainer)}else m=!0,u=f=r.createTextNode(e);if(m)p.deleteContents();else if(p.collapsed&&p.startContainer!==n)if(p.startContainer.innerHTML&&p.startContainer.innerHTML.match(/^<[^>]*>$/i))i=p.startContainer,1===p.startOffset?(p.setStartAfter(i),p.setEndAfter(i)):(p.setStartBefore(i),p.setEndBefore(i));else{if(3===p.startContainer.nodeType&&p.startContainer.parentNode!==n)for(i=p.startContainer.parentNode,a=i.cloneNode(),t.splitNodes(i.childNodes,i,a,p.startContainer,p.startOffset);!VALIDELEMENTS.test(i.nodeName);){angular.element(i).after(a),i=i.parentNode;var y=a;a=i.cloneNode(),t.splitNodes(i.childNodes,i,a,y)}else i=p.startContainer,a=i.cloneNode(),t.splitNodes(i.childNodes,i,a,void 0,void 0,p.startOffset);if(angular.element(i).after(a),p.setStartAfter(i),p.setEndAfter(i),/^(|<br(|\/)>)$/i.test(i.innerHTML.trim())&&(p.setStartBefore(i),p.setEndBefore(i),angular.element(i).remove()),/^(|<br(|\/)>)$/i.test(a.innerHTML.trim())&&angular.element(a).remove(),"li"===i.nodeName.toLowerCase()){for(d=r.createDocumentFragment(),c=0;c<f.childNodes.length;c++)h=angular.element("<li>"),t.transferChildNodes(f.childNodes[c],h[0]),t.transferNodeAttributes(f.childNodes[c],h[0]),d.appendChild(h[0]);f=d,u&&(u=f.childNodes[f.childNodes.length-1],u=u.childNodes[u.childNodes.length-1])}}else p.deleteContents();p.insertNode(f),u&&o.setSelectionToElementEnd(u)}};return o}]).service("taDOM",function(){var e={getByAttribute:function(t,n){var i=[],r=t.children();return r.length&&angular.forEach(r,function(t){i=i.concat(e.getByAttribute(angular.element(t),n))}),void 0!==t.attr(n)&&i.push(t),i},transferChildNodes:function(e,t){for(t.innerHTML="";e.childNodes.length>0;)t.appendChild(e.childNodes[0]);return t},splitNodes:function(t,n,i,r,a,o){if(!r&&isNaN(o))throw new Error("taDOM.splitNodes requires a splitNode or splitIndex");for(var s=document.createDocumentFragment(),l=document.createDocumentFragment(),c=0;t.length>0&&(isNaN(o)||o!==c)&&t[0]!==r;)s.appendChild(t[0]),c++;for(!isNaN(a)&&a>=0&&t[0]&&(s.appendChild(document.createTextNode(t[0].nodeValue.substring(0,a))),t[0].nodeValue=t[0].nodeValue.substring(a));t.length>0;)l.appendChild(t[0]);e.transferChildNodes(s,n),e.transferChildNodes(l,i)},transferNodeAttributes:function(e,t){for(var n=0;n<e.attributes.length;n++)t.setAttribute(e.attributes[n].name,e.attributes[n].value);return t}};return e}),angular.module("textAngular.validators",[]).directive("taMaxText",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var r=parseInt(e.$eval(n.taMaxText));if(isNaN(r))throw"Max text must be an integer";n.$observe("taMaxText",function(e){if(r=parseInt(e),isNaN(r))throw"Max text must be an integer";i.$dirty&&i.$validate()}),i.$validators.taMaxText=function(e){var t=angular.element("<div/>");return t.html(e),t.text().length<=r}}}}).directive("taMinText",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var r=parseInt(e.$eval(n.taMinText));if(isNaN(r))throw"Min text must be an integer";n.$observe("taMinText",function(e){if(r=parseInt(e),isNaN(r))throw"Min text must be an integer";i.$dirty&&i.$validate()}),i.$validators.taMinText=function(e){var t=angular.element("<div/>");return t.html(e),!t.text().length||t.text().length>=r}}}}),angular.module("textAngular.taBind",["textAngular.factories","textAngular.DOM"]).service("_taBlankTest",[function(){return function(e){return!e||""===stripHtmlToText(e)&&!/<img[^>]+>/.test(e)}}]).directive("taButton",[function(){return{link:function(e,t,n){t.attr("unselectable","on"),t.on("mousedown",function(e,t){return t&&angular.extend(e,t),e.preventDefault(),!1})}}}]).directive("taBind",["taSanitize","$timeout","$document","taFixChrome","taBrowserTag","taSelection","taSelectableElements","taApplyCustomRenderers","taOptions","_taBlankTest","$parse","taDOM","textAngularManager",function(e,t,n,i,r,a,o,s,l,c,u,d,h){return{priority:2,require:["ngModel","?ngModelOptions"],link:function(r,d,p,f){function g(e){var t;return I.forEach(function(n){if(n.keyCode===e.keyCode){var i=(e.metaKey?A:0)+(e.ctrlKey?M:0)+(e.shiftKey?P:0)+(e.altKey?O:0);if(n.forbiddenModifiers&i)return;n.mustHaveModifiers.every(function(e){return i&e})&&(t=n.specialKey)}}),t}var m,v,b,y=f[0],w=f[1]||{},x=void 0!==d.attr("contenteditable")&&d.attr("contenteditable"),_=x||"textarea"===d[0].tagName.toLowerCase()||"input"===d[0].tagName.toLowerCase(),k=!1,C=!1,S=!1,$=p.taUnsafeSanitizer||l.disableSanitizer,D=p.taKeepStyles||l.keepStyles,T=/^(9|19|20|27|33|34|35|36|37|38|39|40|45|112|113|114|115|116|117|118|119|120|121|122|123|144|145)$/i,E=/^(8|13|32|46|59|61|107|109|173|186|187|188|189|190|191|192|219|220|221|222)$/i,M=1,A=2,O=4,P=8,I=[{specialKey:"UndoKey",forbiddenModifiers:O+P,mustHaveModifiers:[A+M],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:O,mustHaveModifiers:[A+M,P],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:O+P,mustHaveModifiers:[A+M],keyCode:89},{specialKey:"TabKey",forbiddenModifiers:A+P+O+M,mustHaveModifiers:[],keyCode:9},{specialKey:"ShiftTabKey",forbiddenModifiers:A+O+M,mustHaveModifiers:[P],keyCode:9}];void 0===p.taDefaultWrap&&(p.taDefaultWrap="p"),""===p.taDefaultWrap?(b="",void 0===_browserDetect.ie||(_browserDetect.ie>=11||_browserDetect.ie)):(b=void 0===_browserDetect.ie||_browserDetect.ie>=11?"br"===p.taDefaultWrap.toLowerCase()?"<BR><BR>":"<"+p.taDefaultWrap+"><br></"+p.taDefaultWrap+">":_browserDetect.ie<=8?"<"+p.taDefaultWrap.toUpperCase()+"></"+p.taDefaultWrap.toUpperCase()+">":"<"+p.taDefaultWrap+"></"+p.taDefaultWrap+">",void 0===_browserDetect.ie||_browserDetect.ie>=11?"br"===p.taDefaultWrap.toLowerCase()||(p.taDefaultWrap,p.taDefaultWrap):_browserDetect.ie<=8?(p.taDefaultWrap.toUpperCase(),p.taDefaultWrap.toUpperCase()):(p.taDefaultWrap,p.taDefaultWrap)),w.$options||(w.$options={});var R=function(e){if(c(e))return e;var t=angular.element("<div>"+e+"</div>");if(0===t.children().length)e="<"+p.taDefaultWrap+">"+e+"</"+p.taDefaultWrap+">";else{var n,i=t[0].childNodes,r=!1;for(n=0;n<i.length&&!(r=i[n].nodeName.toLowerCase().match(BLOCKELEMENTS));n++);if(r)for(e="",n=0;n<i.length;n++){var a=i[n],o=a.nodeName.toLowerCase();if("#comment"===o)e+="\x3c!--"+a.nodeValue+"--\x3e";else if("#text"===o){var s=a.textContent;s.trim()?e+="<"+p.taDefaultWrap+">"+s+"</"+p.taDefaultWrap+">":e+=s}else if(o.match(BLOCKELEMENTS))e+=a.outerHTML;else{var l=a.outerHTML||a.nodeValue;""!==l.trim()?e+="<"+p.taDefaultWrap+">"+l+"</"+p.taDefaultWrap+">":e+=l}}else e="<"+p.taDefaultWrap+">"+e+"</"+p.taDefaultWrap+">"}return e};p.taPaste&&(v=u(p.taPaste)),d.addClass("ta-bind");var N;r["$undoManager"+(p.id||"")]=y.$undoManager={_stack:[],_index:0,_max:1e3,push:function(e){return void 0===e||null===e||void 0!==this.current()&&null!==this.current()&&e===this.current()?e:(this._index<this._stack.length-1&&(this._stack=this._stack.slice(0,this._index+1)),this._stack.push(e),N&&t.cancel(N),this._stack.length>this._max&&this._stack.shift(),this._index=this._stack.length-1,e)},undo:function(){return this.setToIndex(this._index-1)},redo:function(){return this.setToIndex(this._index+1)},setToIndex:function(e){if(!(e<0||e>this._stack.length-1))return this._index=e,this.current()},current:function(){return this._stack[this._index]}};var L,F=function(){if(x)return d[0].innerHTML;if(_)return d.val();throw"textAngular Error: attempting to update non-editable taBind"},z=function(e){return r.$emit("ta-element-select",this),e.preventDefault(),!1},j=r["reApplyOnSelectorHandlers"+(p.id||"")]=function(){k||angular.forEach(o,function(e){d.find(e).off("click",z).on("click",z)})},H=function(e,t,n){S=n||!1,void 0!==t&&null!==t||(t=x),void 0!==e&&null!==e||(e=F()),c(e)?(""!==y.$viewValue&&y.$setViewValue(""),t&&""!==y.$undoManager.current()&&y.$undoManager.push("")):(j(),y.$viewValue!==e&&(y.$setViewValue(e),t&&y.$undoManager.push(e))),y.$render()},W=function(e){d[0].innerHTML=e},B=r["$undoTaBind"+(p.id||"")]=function(){if(!k&&x){var e=y.$undoManager.undo();void 0!==e&&null!==e&&(W(e),H(e,!1),L&&t.cancel(L),L=t(function(){d[0].focus(),a.setSelectionToElementEnd(d[0])},1))}},V=r["$redoTaBind"+(p.id||"")]=function(){if(!k&&x){var e=y.$undoManager.redo();void 0!==e&&null!==e&&(W(e),H(e,!1),L&&t.cancel(L),L=t(function(){d[0].focus(),a.setSelectionToElementEnd(d[0])},1))}};r["updateTaBind"+(p.id||"")]=function(){k||H(void 0,void 0,!0)};var U=function(t){return y.$oldViewValue=e(i(t,D),y.$oldViewValue,$)};if(d.attr("required")&&(y.$validators.required=function(e,t){return!c(e||t)}),y.$parsers.push(U),y.$parsers.unshift(R),y.$formatters.push(U),y.$formatters.unshift(R),y.$formatters.unshift(function(e){return y.$undoManager.push(e||"")}),_)if(r.events={},x){var q=!1,Y=function(n){var i=void 0!==n&&n.match(/content=["']*OneNote.File/i);if(n&&n.trim().length){if(n.match(/class=["']*Mso(Normal|List)/i)||n.match(/content=["']*Word.Document/i)||n.match(/content=["']*OneNote.File/i)){var o=n.match(/<!--StartFragment-->([\s\S]*?)<!--EndFragment-->/i);o=o?o[1]:n,o=o.replace(/<o:p>[\s\S]*?<\/o:p>/gi,"").replace(/class=(["']|)MsoNormal(["']|)/gi,"");var s=angular.element("<div>"+o+"</div>"),l=angular.element("<div></div>"),c={element:null,lastIndent:[],lastLi:null,isUl:!1};c.lastIndent.peek=function(){var e=this.length;if(e>0)return this[e-1]};for(var u=function(e){c.isUl=e,c.element=angular.element(e?"<ul>":"<ol>"),c.lastIndent=[],c.lastIndent.peek=function(){var e=this.length;if(e>0)return this[e-1]},c.lastLevelMatch=null},h=0;h<=s[0].childNodes.length;h++)if(s[0].childNodes[h]&&"#text"!==s[0].childNodes[h].nodeName){var p=s[0].childNodes[h].tagName.toLowerCase();if("p"===p||"ul"===p||"h1"===p||"h2"===p||"h3"===p||"h4"===p||"h5"===p||"h6"===p||"table"===p){var f=angular.element(s[0].childNodes[h]),g=(f.attr("class")||"").match(/MsoList(Bullet|Number|Paragraph)(CxSp(First|Middle|Last)|)/i);if(g){if(f[0].childNodes.length<2||f[0].childNodes[1].childNodes.length<1)continue;var m="bullet"===g[1].toLowerCase()||"number"!==g[1].toLowerCase()&&!(/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(f[0].childNodes[1].innerHTML)||/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(f[0].childNodes[1].childNodes[0].innerHTML)),b=(f.attr("style")||"").match(/margin-left:([\-\.0-9]*)/i),w=parseFloat(b?b[1]:0),x=(f.attr("style")||"").match(/mso-list:l([0-9]+) level([0-9]+) lfo[0-9+]($|;)/i);if(x&&x[2]&&(w=parseInt(x[2])),x&&(!c.lastLevelMatch||x[1]!==c.lastLevelMatch[1])||!g[3]||"first"===g[3].toLowerCase()||null===c.lastIndent.peek()||c.isUl!==m&&c.lastIndent.peek()===w)u(m),l.append(c.element);else if(null!=c.lastIndent.peek()&&c.lastIndent.peek()<w)c.element=angular.element(m?"<ul>":"<ol>"),c.lastLi.append(c.element);else if(null!=c.lastIndent.peek()&&c.lastIndent.peek()>w){for(;null!=c.lastIndent.peek()&&c.lastIndent.peek()>w;)if("li"!==c.element.parent()[0].tagName.toLowerCase()){if(!/[uo]l/i.test(c.element.parent()[0].tagName.toLowerCase()))break;c.element=c.element.parent(),c.lastIndent.pop()}else c.element=c.element.parent();c.isUl="ul"===c.element[0].tagName.toLowerCase(),m!==c.isUl&&(u(m),l.append(c.element))}c.lastLevelMatch=x,w!==c.lastIndent.peek()&&c.lastIndent.push(w),c.lastLi=angular.element("<li>"),c.element.append(c.lastLi),c.lastLi.html(f.html().replace(/<!(--|)\[if !supportLists\](--|)>[\s\S]*?<!(--|)\[endif\](--|)>/gi,"")),f.remove()}else u(!1),l.append(f)}}var _=function(e){e=angular.element(e);for(var t=e[0].childNodes.length-1;t>=0;t--)e.after(e[0].childNodes[t]);e.remove()};angular.forEach(l.find("span"),function(e){e.removeAttribute("lang"),e.attributes.length<=0&&_(e)}),angular.forEach(l.find("font"),_),n=l.html(),i&&(n=l.html()||s.html()),n=n.replace(/\n/g," ")}else{if(n=n.replace(/<(|\/)meta[^>]*?>/gi,""),n.match(/<[^>]*?(ta-bind)[^>]*?>/)){if(n.match(/<[^>]*?(text-angular)[^>]*?>/)){var k=angular.element("<div>"+n+"</div>");k.find("textarea").remove();for(var C=0;C<binds.length;C++){for(var S=binds[C][0].parentNode.parentNode,D=0;D<binds[C][0].childNodes.length;D++)S.parentNode.insertBefore(binds[C][0].childNodes[D],S);S.parentNode.removeChild(S)}n=k.html().replace('<br class="Apple-interchange-newline">',"")}}else n.match(/^<span/)&&(n.match(/<span class=(\"Apple-converted-space\"|\'Apple-converted-space\')>.<\/span>/gi)||(n=n.replace(/<(|\/)span[^>]*?>/gi,"")));n=n.replace(/<br class="Apple-interchange-newline"[^>]*?>/gi,"").replace(/<span class="Apple-converted-space">( |&nbsp;)<\/span>/gi,"&nbsp;")}/<li(\s.*)?>/i.test(n)&&!1===/(<ul(\s.*)?>|<ol(\s.*)?>).*<li(\s.*)?>/i.test(n)&&(n=n.replace(/<li(\s.*)?>.*<\/li(\s.*)?>/i,"<ul>$&</ul>")),n=n.replace(/^[ |\u00A0]+/gm,function(e){for(var t="",n=0;n<e.length;n++)t+="&nbsp;";return t}).replace(/\n|\r\n|\r/g,"<br />").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;"),v&&(n=v(r,{$html:n})||n),n=n.replace(/<span style=("|')([^<]*?)vertical-align\s*:\s*super;?([^>]*?)("|')>([^<]+?)<\/span>/g,"<sup style='$2$3'>$5</sup>"),n=e(n,"",$),a.insertHtml(n,d[0]),t(function(){y.$setViewValue(F()),q=!1,d.removeClass("processing-paste")},0)}else q=!1,d.removeClass("processing-paste")};d.on("paste",r.events.paste=function(e,i){if(i&&angular.extend(e,i),k||q)return e.stopPropagation(),e.preventDefault(),!1;q=!0,d.addClass("processing-paste");var r,a=(e.originalEvent||e).clipboardData;if(!a&&window.clipboardData&&window.clipboardData.getData)return r=window.clipboardData.getData("Text"),Y(r),e.stopPropagation(),e.preventDefault(),!1;if(a&&a.getData&&a.types.length>0){for(var o="",s=0;s<a.types.length;s++)o+=" "+a.types[s];return/text\/html/i.test(o)?r=a.getData("text/html"):/text\/plain/i.test(o)&&(r=a.getData("text/plain")),Y(r),e.stopPropagation(),e.preventDefault(),!1}var l=rangy.saveSelection(),c=angular.element('<div class="ta-hidden-input" contenteditable="true"></div>');n.find("body").append(c),c[0].focus(),t(function(){rangy.restoreSelection(l),Y(c[0].innerHTML),d[0].focus(),c.remove()},0)}),d.on("cut",r.events.cut=function(e){k?e.preventDefault():t(function(){y.$setViewValue(F())},0)}),d.on("keydown",r.events.keydown=function(e,t){t&&angular.extend(e,t),16===e.keyCode?a.setStateShiftKey(!0):a.setStateShiftKey(!1),e.specialKey=g(e);var n;if(l.keyMappings.forEach(function(t){e.specialKey===t.commandKeyCode&&(e.specialKey=void 0),t.testForKey(e)&&(n=t.commandKeyCode),"UndoKey"!==t.commandKeyCode&&"RedoKey"!==t.commandKeyCode||t.enablePropagation||e.preventDefault()}),void 0!==n&&(e.specialKey=n),void 0===e.specialKey||"UndoKey"===e.specialKey&&"RedoKey"===e.specialKey||(e.preventDefault(),h.sendKeyCommand(r,e)),!(k||("UndoKey"===e.specialKey&&(B(),e.preventDefault()),"RedoKey"===e.specialKey&&(V(),e.preventDefault()),13!==e.keyCode||e.shiftKey||e.ctrlKey||e.metaKey||e.altKey))){var i,o=a.getSelectionElement();if(!o.nodeName.match(VALIDELEMENTS))return;var s=angular.element(b),c=["blockquote","ul","ol"];if(function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}(c,o.parentNode.tagName.toLowerCase())){if(/^<br(|\/)>$/i.test(o.innerHTML.trim())&&!o.nextSibling){i=angular.element(o);var u=i.parent();u.after(s),i.remove(),0===u.children().length&&u.remove(),a.setSelectionToElementStart(s[0]),e.preventDefault()}/^<[^>]+><br(|\/)><\/[^>]+>$/i.test(o.innerHTML.trim())&&(i=angular.element(o),i.after(s),i.remove(),a.setSelectionToElementStart(s[0]),e.preventDefault())}}});var K;d.on("keyup",r.events.keyup=function(e,n){if(n&&angular.extend(e,n),a.setStateShiftKey(!1),9===e.keyCode){return void(a.getSelection().start.element===d[0]&&d.children().length&&a.setSelectionToElementStart(d.children()[0]))}if(37!==e.keyCode||e.shiftKey||a.updateLeftArrowKey(d),39!==e.keyCode||e.shiftKey||a.updateRightArrowKey(d),N&&t.cancel(N),!k&&!T.test(e.keyCode))if(13===e.keyCode&&(e.ctrlKey||e.metaKey||e.altKey));else{if(""!==b&&"<BR><BR>"!==b&&13===e.keyCode&&!e.ctrlKey&&!e.metaKey&&!e.altKey){for(var i=a.getSelectionElement();!i.nodeName.match(VALIDELEMENTS)&&i!==d[0];)i=i.parentNode;if(e.shiftKey){var r=i.tagName.toLowerCase();if((r===p.taDefaultWrap||"li"===r||"pre"===r||"div"===r)&&!/.+<br><br>/.test(i.innerHTML.trim())){var o=i.previousSibling;o&&(o.innerHTML=o.innerHTML+"<br><br>",angular.element(i).remove(),a.setSelectionToElementEnd(o))}}else if(i.tagName.toLowerCase()!==p.taDefaultWrap&&"li"!==i.nodeName.toLowerCase()&&(""===i.innerHTML.trim()||"<br>"===i.innerHTML.trim())){var s=angular.element(b);angular.element(i).replaceWith(s),a.setSelectionToElementStart(s[0])}}var l=F();""===b||""!==l.trim()&&"<br>"!==l.trim()?"<"!==l.substring(0,1)&&p.taDefaultWrap:(W(b),a.setSelectionToElementStart(d.children()[0]));var c=m!==e.keyCode&&E.test(e.keyCode);K&&t.cancel(K),K=t(function(){H(l,c,!0)},w.$options.debounce||400),c||(N=t(function(){y.$undoManager.push(l)},250)),m=e.keyCode}});var G;if(d.on("input",function(){F()!==y.$viewValue&&(G&&t.cancel(G),G=t(function(){var e=rangy.saveSelection(),t=F();t!==y.$viewValue&&H(t,!0),0!==y.$viewValue.length&&rangy.restoreSelection(e)},1e3))}),d.on("blur",r.events.blur=function(){C=!1,k?(S=!0,y.$render()):H(void 0,void 0,!0)}),p.placeholder&&(_browserDetect.ie>8||void 0===_browserDetect.ie)){var X;if(!p.id)throw"textAngular Error: An unique ID is required for placeholders to work";X=addCSSRule("#"+p.id+".placeholder-text:before",'content: "'+p.placeholder+'"'),r.$on("$destroy",function(){removeCSSRule(X)})}d.on("focus",r.events.focus=function(){C=!0,d.removeClass("placeholder-text"),j()}),d.on("mouseup",r.events.mouseup=function(){var e=a.getSelection();e&&e.start.element===d[0]&&d.children().length&&a.setSelectionToElementStart(d.children()[0])}),d.on("mousedown",r.events.mousedown=function(e,t){t&&angular.extend(e,t),e.stopPropagation()})}else{d.on("change blur",r.events.change=r.events.blur=function(){k||y.$setViewValue(F())}),d.on("keydown",r.events.keydown=function(e,t){if(t&&angular.extend(e,t),9===e.keyCode){var n=this.selectionStart,i=this.selectionEnd,r=d.val();if(e.shiftKey){var a=r.lastIndexOf("\n",n),o=r.lastIndexOf("\t",n);-1!==o&&o>=a&&(d.val(r.substring(0,o)+r.substring(o+1)),this.selectionStart=this.selectionEnd=n-1)}else d.val(r.substring(0,n)+"\t"+r.substring(i)),this.selectionStart=this.selectionEnd=n+1;e.preventDefault()}});var J=function(e,t){for(var n="",i=0;i<t;i++)n+=e;return n},Z=function(e,t,n){for(var i=0;i<e.length;i++)t.call(n,i,e[i])},Q=function(e,t){var n="",i=e.childNodes;return t++,n+=J("\t",t-1)+e.outerHTML.substring(0,4),Z(i,function(e,i){var r=i.nodeName.toLowerCase();return"#comment"===r?void(n+="\x3c!--"+i.nodeValue+"--\x3e"):"#text"===r?void(n+=i.textContent):void(i.outerHTML&&(n+="ul"===r||"ol"===r?"\n"+Q(i,t):"\n"+J("\t",t)+i.outerHTML))}),n+="\n"+J("\t",t-1)+e.outerHTML.substring(e.outerHTML.lastIndexOf("<"))};y.$formatters.unshift(function(e){var t=angular.element("<div>"+e+"</div>")[0].childNodes;return t.length>0&&(e="",Z(t,function(t,n){var i=n.nodeName.toLowerCase();return"#comment"===i?void(e+="\x3c!--"+n.nodeValue+"--\x3e"):"#text"===i?void(e+=n.textContent):void(n.outerHTML&&(e.length>0&&(e+="\n"),e+="ul"===i||"ol"===i?""+Q(n,0):""+n.outerHTML))})),e})}var ee,te=function(e,n){if(n&&angular.extend(e,n),!dropFired&&!k){dropFired=!0;var i;i=e.originalEvent?e.originalEvent.dataTransfer:e.dataTransfer,r.$emit("ta-drop-event",this,e,i),t(function(){dropFired=!1,H(void 0,void 0,!0)},100)}},ne=!1;y.$render=function(){if(!ne){ne=!0;var e=y.$viewValue||"";S||(x&&C&&(d.removeClass("placeholder-text"),ee&&t.cancel(ee),ee=t(function(){C||(d[0].focus(),a.setSelectionToElementEnd(d.children()[d.children().length-1])),ee=void 0},1)),x?(W(p.placeholder?""===e?b:e:""===e?b:e),k?d.off("drop",te):(j(),d.on("drop",te))):"textarea"!==d[0].tagName.toLowerCase()&&"input"!==d[0].tagName.toLowerCase()?W(s(e)):d.val(e)),x&&p.placeholder&&(""===e?C?d.removeClass("placeholder-text"):d.addClass("placeholder-text"):d.removeClass("placeholder-text")),ne=S=!1}},p.taReadonly&&(k=r.$eval(p.taReadonly),k?(d.addClass("ta-readonly"),"textarea"!==d[0].tagName.toLowerCase()&&"input"!==d[0].tagName.toLowerCase()||d.attr("disabled","disabled"),void 0!==d.attr("contenteditable")&&d.attr("contenteditable")&&d.removeAttr("contenteditable")):(d.removeClass("ta-readonly"),"textarea"===d[0].tagName.toLowerCase()||"input"===d[0].tagName.toLowerCase()?d.removeAttr("disabled"):x&&d.attr("contenteditable","true")),r.$watch(p.taReadonly,function(e,t){t!==e&&(e?(d.addClass("ta-readonly"),"textarea"!==d[0].tagName.toLowerCase()&&"input"!==d[0].tagName.toLowerCase()||d.attr("disabled","disabled"),void 0!==d.attr("contenteditable")&&d.attr("contenteditable")&&d.removeAttr("contenteditable"),angular.forEach(o,function(e){d.find(e).on("click",z)}),d.off("drop",te)):(d.removeClass("ta-readonly"),"textarea"===d[0].tagName.toLowerCase()||"input"===d[0].tagName.toLowerCase()?d.removeAttr("disabled"):x&&d.attr("contenteditable","true"),angular.forEach(o,function(e){d.find(e).off("click",z)}),d.on("drop",te)),k=e)})),x&&!k&&(angular.forEach(o,function(e){d.find(e).on("click",z)}),d.on("drop",te))}}}]);var dropFired=!1,textAngular=angular.module("textAngular",["ngSanitize","textAngularSetup","textAngular.factories","textAngular.DOM","textAngular.validators","textAngular.taBind"]);textAngular.config([function(){angular.forEach(taTools,function(e,t){delete taTools[t]})}]),textAngular.directive("textAngular",["$compile","$timeout","taOptions","taSelection","taExecCommand","textAngularManager","$document","$animate","$log","$q","$parse",function(e,t,n,i,r,a,o,s,l,c,u){return{require:"?ngModel",scope:{},restrict:"EA",priority:2,link:function(d,h,p,f){var g,m,v,b,y,w,x,_,k,C,S,$,D=p.serial?p.serial:Math.floor(1e16*Math.random());d._name=p.name?p.name:"textAngularEditor"+D;var T=function(e,n,i){t(function(){e.one(n,i)},100)};if(k=r(p.taDefaultWrap),angular.extend(d,angular.copy(n),{wrapSelection:function(e,t,n){"undo"===e.toLowerCase()?d["$undoTaBindtaTextElement"+D]():"redo"===e.toLowerCase()?d["$redoTaBindtaTextElement"+D]():(k(e,!1,t,d.defaultTagAttributes),n&&d["reApplyOnSelectorHandlerstaTextElement"+D](),d.displayElements.text[0].focus())},showHtml:d.$eval(p.taShowHtml)||!1}),p.taFocussedClass&&(d.classes.focussed=p.taFocussedClass),p.taTextEditorClass&&(d.classes.textEditor=p.taTextEditorClass),p.taHtmlEditorClass&&(d.classes.htmlEditor=p.taHtmlEditorClass),p.taDefaultTagAttributes)try{angular.extend(d.defaultTagAttributes,angular.fromJson(p.taDefaultTagAttributes))}catch(e){l.error(e)}p.taTextEditorSetup&&(d.setup.textEditorSetup=d.$parent.$eval(p.taTextEditorSetup)),p.taHtmlEditorSetup&&(d.setup.htmlEditorSetup=d.$parent.$eval(p.taHtmlEditorSetup)),p.taFileDrop?d.fileDropHandler=d.$parent.$eval(p.taFileDrop):d.fileDropHandler=d.defaultFileDropHandler,x=h[0].innerHTML,h[0].innerHTML="",d.displayElements={forminput:angular.element("<input type='hidden' tabindex='-1' style='display: none;'>"),html:angular.element("<textarea></textarea>"),text:angular.element("<div></div>"),scrollWindow:angular.element("<div class='ta-scroll-window'></div>"),popover:angular.element('<div class="popover fade bottom" style="max-width: none; width: 305px;"></div>'),popoverArrow:angular.element('<div class="arrow"></div>'),popoverContainer:angular.element('<div class="popover-content"></div>'),resize:{overlay:angular.element('<div class="ta-resizer-handle-overlay"></div>'),background:angular.element('<div class="ta-resizer-handle-background"></div>'),anchors:[angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tr"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-bl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-br"></div>')],info:angular.element('<div class="ta-resizer-handle-info"></div>')}},d.displayElements.popover.append(d.displayElements.popoverArrow),d.displayElements.popover.append(d.displayElements.popoverContainer),d.displayElements.scrollWindow.append(d.displayElements.popover),d.displayElements.popover.on("mousedown",function(e,t){return t&&angular.extend(e,t),e.preventDefault(),
!1}),d.handlePopoverEvents=function(){"block"===d.displayElements.popover.css("display")&&($&&t.cancel($),$=t(function(){d.reflowPopover(d.resizeElement),d.reflowResizeOverlay(d.resizeElement)},100))},angular.element(window).on("resize",d.handlePopoverEvents),angular.element(window).on("scroll",d.handlePopoverEvents);var E=function(e){var t,n={vertical:!1,horizontal:!1};try{if(null===(t=window.getComputedStyle(e)))return n}catch(e){return n}var i=t["overflow-y"],r=t["overflow-x"];return{vertical:("scroll"===i||"auto"===i)&&e.scrollHeight>e.clientHeight,horizontal:("scroll"===r||"auto"===r)&&e.scrollWidth>e.clientWidth}};d.getScrollTop=function(e,t){var n=e.scrollTop;return void 0===n&&(n=0),t&&E(e).vertical&&(e.removeEventListener("scroll",d._scrollListener,!1),e.addEventListener("scroll",d._scrollListener,!1)),0!==n?{node:e.nodeName,top:n}:e.parentNode?d.getScrollTop(e.parentNode,t):{node:"<none>",top:0}},d.showPopover=function(e){d.getScrollTop(d.displayElements.scrollWindow[0],!0),d.displayElements.popover.css("display","block"),t(function(){d.displayElements.resize.overlay.css("display","block")}),d.resizeElement=e,d.reflowPopover(e),s.addClass(d.displayElements.popover,"in"),T(o.find("body"),"click keyup",function(){d.hidePopover()})},d._scrollListener=function(e,t){d.handlePopoverEvents()},d.reflowPopover=function(e){var t=d.getScrollTop(d.displayElements.scrollWindow[0],!1);e[0].offsetTop-t.top<51?(d.displayElements.popover.css("top",e[0].offsetTop+e[0].offsetHeight+d.displayElements.scrollWindow[0].scrollTop+"px"),d.displayElements.popover.removeClass("top").addClass("bottom")):(d.displayElements.popover.css("top",e[0].offsetTop-54+d.displayElements.scrollWindow[0].scrollTop+"px"),d.displayElements.popover.removeClass("bottom").addClass("top"));var n=d.displayElements.text[0].offsetWidth-d.displayElements.popover[0].offsetWidth,i=e[0].offsetLeft+e[0].offsetWidth/2-d.displayElements.popover[0].offsetWidth/2,r=Math.max(0,Math.min(n,i)),a=Math.min(i,Math.max(0,i-n))-11;r+=window.scrollX,a-=window.scrollX,d.displayElements.popover.css("left",r+"px"),d.displayElements.popoverArrow.css("margin-left",a+"px")},d.hidePopover=function(){d.displayElements.popover.css("display","none"),d.displayElements.popoverContainer.attr("style",""),d.displayElements.popoverContainer.attr("class","popover-content"),d.displayElements.popover.removeClass("in"),d.displayElements.resize.overlay.css("display","none")},d.displayElements.resize.overlay.append(d.displayElements.resize.background),angular.forEach(d.displayElements.resize.anchors,function(e){d.displayElements.resize.overlay.append(e)}),d.displayElements.resize.overlay.append(d.displayElements.resize.info),d.displayElements.scrollWindow.append(d.displayElements.resize.overlay),d.displayElements.resize.background.on("click",function(e){d.displayElements.text[0].focus()}),d.reflowResizeOverlay=function(e){e=angular.element(e)[0],d.displayElements.resize.overlay.css({display:"block",left:e.offsetLeft-5+"px",top:e.offsetTop-5+"px",width:e.offsetWidth+10+"px",height:e.offsetHeight+10+"px"}),d.displayElements.resize.info.text(e.offsetWidth+" x "+e.offsetHeight)},d.showResizeOverlay=function(e){var t=o.find("body");C=function(n){var i={width:parseInt(e.attr("width")),height:parseInt(e.attr("height")),x:n.clientX,y:n.clientY};(void 0===i.width||isNaN(i.width))&&(i.width=e[0].offsetWidth),(void 0===i.height||isNaN(i.height))&&(i.height=e[0].offsetHeight),d.hidePopover();var r=i.height/i.width,a=function(t){function n(e){return Math.round(Math.max(0,e))}var a={x:Math.max(0,i.width+(t.clientX-i.x)),y:Math.max(0,i.height+(t.clientY-i.y))},o=void 0!==p.taResizeForceAspectRatio,s=p.taResizeMaintainAspectRatio;if(o||s&&!t.shiftKey){var l=a.y/a.x;a.x=r>l?a.x:a.y/r,a.y=r>l?a.x*r:a.y}var c=angular.element(e);c.css("height",n(a.y)+"px"),c.css("width",n(a.x)+"px"),d.reflowResizeOverlay(e)};t.on("mousemove",a),T(t,"mouseup",function(e){e.preventDefault(),e.stopPropagation(),t.off("mousemove",a),d.$apply(function(){d.hidePopover(),d.updateTaBindtaTextElement()},100)}),n.stopPropagation(),n.preventDefault()},d.displayElements.resize.anchors[3].off("mousedown"),d.displayElements.resize.anchors[3].on("mousedown",C),d.reflowResizeOverlay(e),T(t,"click",function(){d.hideResizeOverlay()})},d.hideResizeOverlay=function(){d.displayElements.resize.anchors[3].off("mousedown",C),d.displayElements.resize.overlay.css("display","none")},d.setup.htmlEditorSetup(d.displayElements.html),d.setup.textEditorSetup(d.displayElements.text),d.displayElements.html.attr({id:"taHtmlElement"+D,"ng-show":"showHtml","ta-bind":"ta-bind","ng-model":"html","ng-model-options":h.attr("ng-model-options")}),d.displayElements.text.attr({id:"taTextElement"+D,contentEditable:"true","ta-bind":"ta-bind","ng-model":"html","ng-model-options":h.attr("ng-model-options")}),d.displayElements.scrollWindow.attr({"ng-hide":"showHtml"}),p.taDefaultWrap&&d.displayElements.text.attr("ta-default-wrap",p.taDefaultWrap),p.taUnsafeSanitizer&&(d.displayElements.text.attr("ta-unsafe-sanitizer",p.taUnsafeSanitizer),d.displayElements.html.attr("ta-unsafe-sanitizer",p.taUnsafeSanitizer)),p.taKeepStyles&&(d.displayElements.text.attr("ta-keep-styles",p.taKeepStyles),d.displayElements.html.attr("ta-keep-styles",p.taKeepStyles)),d.displayElements.scrollWindow.append(d.displayElements.text),h.append(d.displayElements.scrollWindow),h.append(d.displayElements.html),d.displayElements.forminput.attr("name",d._name),h.append(d.displayElements.forminput),p.tabindex&&(h.removeAttr("tabindex"),d.displayElements.text.attr("tabindex",p.tabindex),d.displayElements.html.attr("tabindex",p.tabindex)),p.placeholder&&(d.displayElements.text.attr("placeholder",p.placeholder),d.displayElements.html.attr("placeholder",p.placeholder)),p.taDisabled&&(d.displayElements.text.attr("ta-readonly","disabled"),d.displayElements.html.attr("ta-readonly","disabled"),d.disabled=d.$parent.$eval(p.taDisabled),d.$parent.$watch(p.taDisabled,function(e){d.disabled=e,d.disabled?h.addClass(d.classes.disabled):h.removeClass(d.classes.disabled)})),p.taPaste&&(d._pasteHandler=function(e){return u(p.taPaste)(d.$parent,{$html:e})},d.displayElements.text.attr("ta-paste","_pasteHandler($html)")),e(d.displayElements.scrollWindow)(d),e(d.displayElements.html)(d),d.updateTaBindtaTextElement=d["updateTaBindtaTextElement"+D],d.updateTaBindtaHtmlElement=d["updateTaBindtaHtmlElement"+D],h.addClass("ta-root"),d.displayElements.scrollWindow.addClass("ta-text ta-editor "+d.classes.textEditor),d.displayElements.html.addClass("ta-html ta-editor "+d.classes.htmlEditor);var M=function(e,t){t!==o[0].queryCommandState(e)&&o[0].execCommand(e,!1,null)};d._actionRunning=!1;var A=!1;if(d.startAction=function(){var e=!1,t=!1,n=!1,i=!1;return d._actionRunning=!0,e=o[0].queryCommandState("bold"),t=o[0].queryCommandState("italic"),n=o[0].queryCommandState("underline"),i=o[0].queryCommandState("strikeThrough"),A=rangy.saveSelection(),M("bold",e),M("italic",t),M("underline",n),M("strikeThrough",i),function(){A&&rangy.restoreSelection(A)}},d.endAction=function(){d._actionRunning=!1,A&&(d.showHtml?d.displayElements.html[0].focus():d.displayElements.text[0].focus(),rangy.removeMarkers(A)),A=!1,d.updateSelectedStyles(),d.showHtml||d["updateTaBindtaTextElement"+D]()},y=function(e){d.focussed=!0,h.addClass(d.classes.focussed),_.focus(),h.triggerHandler("focus"),d.updateSelectedStyles&&!d._bUpdateSelectedStyles&&t(function(){d.updateSelectedStyles()},0)},d.displayElements.html.on("focus",y),d.displayElements.text.on("focus",y),w=function(e){return d._actionRunning||o[0].activeElement===d.displayElements.html[0]||o[0].activeElement===d.displayElements.text[0]||(h.removeClass(d.classes.focussed),_.unfocus(),t(function(){d._bUpdateSelectedStyles=!1,h.triggerHandler("blur"),d.focussed=!1},0)),e.preventDefault(),!1},d.displayElements.html.on("blur",w),d.displayElements.text.on("blur",w),d.displayElements.text.on("paste",function(e){h.triggerHandler("paste",e)}),d.queryFormatBlockState=function(e){return!d.showHtml&&e.toLowerCase()===o[0].queryCommandValue("formatBlock").toLowerCase()},d.queryCommandState=function(e){return d.showHtml?"":o[0].queryCommandState(e)},d.switchView=function(){d.showHtml=!d.showHtml,s.enabled(!1,d.displayElements.html),s.enabled(!1,d.displayElements.text),d.showHtml?t(function(){return s.enabled(!0,d.displayElements.html),s.enabled(!0,d.displayElements.text),d.displayElements.html[0].focus()},100):t(function(){return s.enabled(!0,d.displayElements.html),s.enabled(!0,d.displayElements.text),d.displayElements.text[0].focus()},100)},p.ngModel){var O=!0;f.$render=function(){if(O){O=!1;var e=d.$parent.$eval(p.ngModel);void 0!==e&&null!==e||!x||""===x||f.$setViewValue(x)}d.displayElements.forminput.val(f.$viewValue),d.html=f.$viewValue||""},h.attr("required")&&(f.$validators.required=function(e,t){var n=e||t;return!(!n||""===n.trim())})}else d.displayElements.forminput.val(x),d.html=x;if(d.$watch("html",function(e,t){e!==t&&(p.ngModel&&f.$viewValue!==e&&f.$setViewValue(e),d.displayElements.forminput.val(e))}),p.taTargetToolbars)_=a.registerEditor(d._name,d,p.taTargetToolbars.split(","));else{var P=angular.element('<div text-angular-toolbar name="textAngularToolbar'+D+'">');p.taToolbar&&P.attr("ta-toolbar",p.taToolbar),p.taToolbarClass&&P.attr("ta-toolbar-class",p.taToolbarClass),p.taToolbarGroupClass&&P.attr("ta-toolbar-group-class",p.taToolbarGroupClass),p.taToolbarButtonClass&&P.attr("ta-toolbar-button-class",p.taToolbarButtonClass),p.taToolbarActiveButtonClass&&P.attr("ta-toolbar-active-button-class",p.taToolbarActiveButtonClass),p.taFocussedClass&&P.attr("ta-focussed-class",p.taFocussedClass),h.prepend(P),e(P)(d.$parent),_=a.registerEditor(d._name,d,["textAngularToolbar"+D])}d.$on("$destroy",function(){a.unregisterEditor(d._name),angular.element(window).off("blur"),angular.element(window).off("resize",d.handlePopoverEvents),angular.element(window).off("scroll",d.handlePopoverEvents)}),d.$on("ta-element-select",function(e,t){_.triggerElementSelect(e,t)&&d["reApplyOnSelectorHandlerstaTextElement"+D]()}),d.$on("ta-drop-event",function(e,n,r,a){a&&a.files&&a.files.length>0?(d.displayElements.text[0].focus(),i.setSelectionToElementEnd(r.target),angular.forEach(a.files,function(e){try{c.when(d.fileDropHandler(e,d.wrapSelection)||d.fileDropHandler!==d.defaultFileDropHandler&&c.when(d.defaultFileDropHandler(e,d.wrapSelection))).then(function(){d["updateTaBindtaTextElement"+D]()})}catch(e){l.error(e)}}),r.preventDefault(),r.stopPropagation()):t(function(){d["updateTaBindtaTextElement"+D]()},0)}),d._bUpdateSelectedStyles=!1,angular.element(window).on("blur",function(){d._bUpdateSelectedStyles=!1,d.focussed=!1}),d.updateSelectedStyles=function(){var e;S&&t.cancel(S),void 0!==(e=i.getSelectionElement())&&e.parentNode!==d.displayElements.text[0]?_.updateSelectedStyles(angular.element(e)):_.updateSelectedStyles(),d._bUpdateSelectedStyles&&(S=t(d.updateSelectedStyles,200))},g=function(){if(!d.focussed)return void(d._bUpdateSelectedStyles=!1);d._bUpdateSelectedStyles||(d._bUpdateSelectedStyles=!0,d.$apply(function(){d.updateSelectedStyles()}))},d.displayElements.html.on("keydown",g),d.displayElements.text.on("keydown",g),m=function(){d._bUpdateSelectedStyles=!1},d.displayElements.html.on("keyup",m),d.displayElements.text.on("keyup",m),v=function(e,t){if(i.getSelection){var n=i.getSelection();i.getSelectionElement()&&"a"===i.getSelectionElement().nodeName.toLowerCase()&&(3===n.start.element.nodeType&&n.start.element.textContent.length===n.end.offset&&i.setSelectionAfterElement(i.getSelectionElement()),3===n.start.element.nodeType&&0===n.start.offset&&i.setSelectionBeforeElement(i.getSelectionElement()))}t&&angular.extend(e,t),d.$apply(function(){if(_.sendKeyCommand(e))return d._bUpdateSelectedStyles||d.updateSelectedStyles(),e.preventDefault(),!1})},d.displayElements.html.on("keypress",v),d.displayElements.text.on("keypress",v),b=function(){d._bUpdateSelectedStyles=!1,t(function(){d.updateSelectedStyles()},0)},d.displayElements.html.on("mouseup",b),d.displayElements.text.on("mouseup",b)}}}]),textAngular.service("textAngularManager",["taToolExecuteAction","taTools","taRegisterTool","$interval","$rootScope","$log",function(e,t,n,i,r,a){var o,s={},l={},c=0,u=function(e){angular.forEach(l,function(t){t.editorFunctions.updateSelectedStyles(e)})},d=function(){c=Date.now(),o=i(function(){u(),o=void 0},50,1)};r.$on("destroy",function(){o&&(i.cancel(o),o=void 0)});var h=function(){Math.abs(Date.now()-c)>50&&d()};return{registerEditor:function(n,i,r){if(!n||""===n)throw"textAngular Error: An editor requires a name";if(!i)throw"textAngular Error: An editor requires a scope";if(l[n])throw'textAngular Error: An Editor with name "'+n+'" already exists';return l[n]={scope:i,toolbars:r,toolbarScopes:[],_registerToolbarScope:function(e){this.toolbars.indexOf(e.name)>=0&&this.toolbarScopes.push(e)},editorFunctions:{disable:function(){angular.forEach(l[n].toolbarScopes,function(e){e.disabled=!0})},enable:function(){angular.forEach(l[n].toolbarScopes,function(e){e.disabled=!1})},focus:function(){angular.forEach(l[n].toolbarScopes,function(e){e._parent=i,e.disabled=!1,e.focussed=!0}),i.focussed=!0},unfocus:function(){angular.forEach(l[n].toolbarScopes,function(e){e.disabled=!0,e.focussed=!1}),i.focussed=!1},updateSelectedStyles:function(e){angular.forEach(l[n].toolbarScopes,function(t){angular.forEach(t.tools,function(n){n.activeState&&(t._parent=i,n.active=n.activeState(e))})})},sendKeyCommand:function(r){var a=!1;return(r.ctrlKey||r.metaKey||r.specialKey)&&angular.forEach(t,function(t,o){if(t.commandKeyCode&&(t.commandKeyCode===r.which||t.commandKeyCode===r.specialKey))for(var s=0;s<l[n].toolbarScopes.length;s++)if(void 0!==l[n].toolbarScopes[s].tools[o]){e.call(l[n].toolbarScopes[s].tools[o],i),a=!0;break}}),a},triggerElementSelect:function(e,r){var a=function(e,t){for(var n=!0,i=0;i<t.length;i++)n=n&&e.attr(t[i]);return n},o=[],s={},c=!1;r=angular.element(r);var u=!1;if(angular.forEach(t,function(e,t){e.onElementSelect&&e.onElementSelect.element&&e.onElementSelect.element.toLowerCase()===r[0].tagName.toLowerCase()&&(!e.onElementSelect.filter||e.onElementSelect.filter(r))&&(u=u||angular.isArray(e.onElementSelect.onlyWithAttrs)&&a(r,e.onElementSelect.onlyWithAttrs),e.onElementSelect.onlyWithAttrs&&!a(r,e.onElementSelect.onlyWithAttrs)||(s[t]=e))}),u?(angular.forEach(s,function(e,t){e.onElementSelect.onlyWithAttrs&&a(r,e.onElementSelect.onlyWithAttrs)&&o.push({name:t,tool:e})}),o.sort(function(e,t){return t.tool.onElementSelect.onlyWithAttrs.length-e.tool.onElementSelect.onlyWithAttrs.length})):angular.forEach(s,function(e,t){o.push({name:t,tool:e})}),o.length>0)for(var d=0;d<o.length;d++){for(var h=o[d].tool,p=o[d].name,f=0;f<l[n].toolbarScopes.length;f++)if(void 0!==l[n].toolbarScopes[f].tools[p]){h.onElementSelect.action.call(l[n].toolbarScopes[f].tools[p],e,r,i),c=!0;break}if(c)break}return c}}},angular.forEach(r,function(e){s[e]&&l[n].toolbarScopes.push(s[e])}),h(),l[n].editorFunctions},retrieveEditor:function(e){return l[e]},unregisterEditor:function(e){delete l[e],h()},registerToolbar:function(e){if(!e)throw"textAngular Error: A toolbar requires a scope";if(!e.name||""===e.name)throw"textAngular Error: A toolbar requires a name";if(s[e.name])throw'textAngular Error: A toolbar with name "'+e.name+'" already exists';s[e.name]=e,angular.forEach(l,function(t){t._registerToolbarScope(e)}),h()},retrieveToolbar:function(e){return s[e]},retrieveToolbarsViaEditor:function(e){var t=[],n=this;return angular.forEach(this.retrieveEditor(e).toolbars,function(e){t.push(n.retrieveToolbar(e))}),t},unregisterToolbar:function(e){delete s[e],h()},updateToolsDisplay:function(e){var t=this;angular.forEach(e,function(e,n){t.updateToolDisplay(n,e)})},resetToolsDisplay:function(){var e=this;angular.forEach(t,function(t,n){e.resetToolDisplay(n)}),h()},updateToolDisplay:function(e,t){var n=this;angular.forEach(s,function(i,r){n.updateToolbarToolDisplay(r,e,t)}),h()},resetToolDisplay:function(e){var t=this;angular.forEach(s,function(n,i){t.resetToolbarToolDisplay(i,e)}),h()},updateToolbarToolDisplay:function(e,t,n){if(!s[e])throw'textAngular Error: No Toolbar with name "'+e+'" exists';s[e].updateToolDisplay(t,n)},resetToolbarToolDisplay:function(e,n){if(!s[e])throw'textAngular Error: No Toolbar with name "'+e+'" exists';s[e].updateToolDisplay(n,t[n],!0)},removeTool:function(e){delete t[e],angular.forEach(s,function(t){delete t.tools[e];for(var n=0;n<t.toolbar.length;n++){for(var i,r=0;r<t.toolbar[n].length;r++){if(t.toolbar[n][r]===e){i={group:n,index:r};break}if(void 0!==i)break}void 0!==i&&(t.toolbar[i.group].slice(i.index,1),t._$element.children().eq(i.group).children().eq(i.index).remove())}}),h()},addTool:function(e,t,i,r){n(e,t),angular.forEach(s,function(n){n.addTool(e,t,i,r)}),h()},addToolToToolbar:function(e,t,i,r,a){n(e,t),s[i].addTool(e,t,r,a),h()},refreshEditor:function(e){if(!l[e])throw'textAngular Error: No Editor with name "'+e+'" exists';l[e].scope.updateTaBindtaTextElement(),l[e].scope.$$phase||l[e].scope.$digest(),h()},sendKeyCommand:function(e,t){var n=l[e._name];if(n&&n.editorFunctions.sendKeyCommand(t))return e._bUpdateSelectedStyles||e.updateSelectedStyles(),t.preventDefault(),!1},updateStyles:u,getVersion:function(){return textAngularVersion},getToolbarScopes:function(){var e=[];return angular.forEach(l,function(t){e=e.concat(t.toolbarScopes)}),e}}}]),textAngular.directive("textAngularToolbar",["$compile","textAngularManager","taOptions","taTools","taToolExecuteAction","$window",function(e,t,n,i,r,a){return{scope:{name:"@"},restrict:"EA",link:function(o,s,l){if(!o.name||""===o.name)throw"textAngular Error: A toolbar requires a name";angular.extend(o,angular.copy(n)),l.taToolbar&&(o.toolbar=o.$parent.$eval(l.taToolbar)),l.taToolbarClass&&(o.classes.toolbar=l.taToolbarClass),l.taToolbarGroupClass&&(o.classes.toolbarGroup=l.taToolbarGroupClass),l.taToolbarButtonClass&&(o.classes.toolbarButton=l.taToolbarButtonClass),l.taToolbarActiveButtonClass&&(o.classes.toolbarButtonActive=l.taToolbarActiveButtonClass),l.taFocussedClass&&(o.classes.focussed=l.taFocussedClass),o.disabled=!0,o.focussed=!1,o._$element=s,s[0].innerHTML="",s.addClass("ta-toolbar "+o.classes.toolbar),o.$watch("focussed",function(){o.focussed?s.addClass(o.classes.focussed):s.removeClass(o.classes.focussed)});var c=function(t,n){var i;if(i=t&&t.display?angular.element(t.display):angular.element("<button type='button'>"),t&&t.class?i.addClass(t.class):i.addClass(o.classes.toolbarButton),i.attr("name",n.name),i.attr("ta-button","ta-button"),i.attr("ng-disabled","isDisabled()"),i.attr("tabindex","-1"),i.attr("ng-click","executeAction()"),i.attr("ng-class","displayActiveToolClass(active)"),t&&t.tooltiptext&&i.attr("title",t.tooltiptext),t&&!t.display&&!n._display&&(i[0].innerHTML="",t.buttontext&&(i[0].innerHTML=t.buttontext),t.iconclass)){var r=angular.element("<i>"),a=i[0].innerHTML;r.addClass(t.iconclass),i[0].innerHTML="",i.append(r),a&&""!==a&&i.append("&nbsp;"+a)}return n._lastToolDefinition=angular.copy(t),e(i)(n)};o.tools={},o._parent={disabled:!0,showHtml:!1,queryFormatBlockState:function(){return!1},queryCommandState:function(){return!1}};var u={$window:a,$editor:function(){return o._parent},isDisabled:function(){return("html"!==this.name||!o._parent.startAction)&&("function"!=typeof this.$eval("disabled")&&this.$eval("disabled")||this.$eval("disabled()")||"html"!==this.name&&this.$editor().showHtml||this.$parent.disabled||this.$editor().disabled)},displayActiveToolClass:function(e){return e?o.classes.toolbarButtonActive:""},executeAction:r};angular.forEach(o.toolbar,function(e){var t=angular.element("<div>");t.addClass(o.classes.toolbarGroup),angular.forEach(e,function(e){o.tools[e]=angular.extend(o.$new(!0),i[e],u,{name:e}),o.tools[e].$element=c(i[e],o.tools[e]),t.append(o.tools[e].$element)}),s.append(t)}),o.updateToolDisplay=function(e,t,n){var i=o.tools[e];if(i){if(i._lastToolDefinition&&!n&&(t=angular.extend({},i._lastToolDefinition,t)),null===t.buttontext&&null===t.iconclass&&null===t.display)throw'textAngular Error: Tool Definition for updating "'+e+'" does not have a valid display/iconclass/buttontext value';null===t.buttontext&&delete t.buttontext,null===t.iconclass&&delete t.iconclass,null===t.display&&delete t.display;var r=c(t,i);i.$element.replaceWith(r),i.$element=r}},o.addTool=function(e,t,n,r){o.tools[e]=angular.extend(o.$new(!0),i[e],u,{name:e}),o.tools[e].$element=c(i[e],o.tools[e]);var a;void 0===n&&(n=o.toolbar.length-1),a=angular.element(s.children()[n]),void 0===r?(a.append(o.tools[e].$element),o.toolbar[n][o.toolbar[n].length-1]=e):(a.children().eq(r).after(o.tools[e].$element),o.toolbar[n][r]=e)},t.registerToolbar(o),o.$on("$destroy",function(){t.unregisterToolbar(o.name)})}}}]),textAngular.directive("textAngularVersion",["textAngularManager",function(e){var t=e.getVersion();return{restrict:"EA",link:function(e,n,i){n.html(t)}}}]),/**
 * @license AngularJS v1.3.10
 * (c) 2010-2014 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(e,t,n){"use strict";/*
 * HTML Parser By Misko Hevery (misko@hevery.com)
 * based on:  HTML Parser By John Resig (ejohn.org)
 * Original code by Erik Arvidsson, Mozilla Public License
 * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js
 *
 * // Use like so:
 * htmlParser(htmlString, {
 *     start: function(tag, attrs, unary) {},
 *     end: function(tag) {},
 *     chars: function(text) {},
 *     comment: function(text) {}
 * });
 *
 */
function i(){this.$get=["$$sanitizeUri",function(e){return function(t){void 0!==arguments[1]&&(arguments[1].version="taSanitize");var n=[];return o(t,d(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function r(e){var n=[];return d(n,t.noop).chars(e),n.join("")}function a(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}function o(e,n){function i(e,i,a,o){if(i=t.lowercase(i),E[i])for(;u.last()&&M[u.last()];)r("",u.last());T[i]&&u.last()==i&&r("",i),(o=S[i]||!!o)||u.push(i);var l={};a.replace(g,function(e,t,n,i,r){var a=n||i||r||"";l[t]=s(a)}),n.start&&n.start(i,l,o)}function r(e,i){var r,a=0;if(i=t.lowercase(i))for(a=u.length-1;a>=0&&u[a]!=i;a--);if(a>=0){for(r=u.length-1;r>=a;r--)n.end&&n.end(u[r]);u.length=a}}"string"!=typeof e&&(e=null===e||void 0===e?"":""+e);var a,o,l,c,u=[],d=e;for(u.last=function(){return u[u.length-1]};e;){if(c="",o=!0,u.last()&&O[u.last()])e=e.replace(new RegExp("([^]*)<\\s*\\/\\s*"+u.last()+"[^>]*>","i"),function(e,t){return t=t.replace(b,"$1").replace(x,"$1"),n.chars&&n.chars(s(t)),""}),r("",u.last());else{if(C.test(e)){if(l=e.match(C)){l[0];n.whitespace&&n.whitespace(l[0]),e=e.replace(l[0],""),o=!1}}else y.test(e)?(l=e.match(y))&&(n.comment&&n.comment(l[1]),e=e.replace(l[0],""),o=!1):w.test(e)?(l=e.match(w))&&(e=e.replace(l[0],""),o=!1):v.test(e)?(l=e.match(f))&&(e=e.substring(l[0].length),l[0].replace(f,r),o=!1):m.test(e)&&(l=e.match(p),l?(l[4]&&(e=e.substring(l[0].length),l[0].replace(p,i)),o=!1):(c+="<",e=e.substring(1)));o&&(a=e.indexOf("<"),c+=a<0?e:e.substring(0,a),e=a<0?"":e.substring(a),n.chars&&n.chars(s(c)))}if(e==d)throw h("badparse","The sanitizer was unable to parse the following block of html: {0}",e);d=e}r()}function s(e){if(!e)return"";var t=z.exec(e),n=t[1],i=t[3],r=t[2];return r&&(F.innerHTML=r.replace(/</g,"&lt;"),r="textContent"in F?F.textContent:F.innerText),n+r+i}function l(e){return e.replace(/&/g,"&amp;").replace(_,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(k,function(e){var t=e.charCodeAt(0);return t<=159||173==t||t>=1536&&t<=1540||1807==t||6068==t||6069==t||t>=8204&&t<=8207||t>=8232&&t<=8239||t>=8288&&t<=8303||65279==t||t>=65520&&t<=65535?"&#"+t+";":e}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function c(e){var n="",i=e.split(";");return t.forEach(i,function(e){var i=e.split(":");if(2==i.length){var r=j(t.lowercase(i[0])),e=j(t.lowercase(i[1]));(("color"===r||"background-color"===r)&&(e.match(/^rgb\([0-9%,\. ]*\)$/i)||e.match(/^rgba\([0-9%,\. ]*\)$/i)||e.match(/^hsl\([0-9%,\. ]*\)$/i)||e.match(/^hsla\([0-9%,\. ]*\)$/i)||e.match(/^#[0-9a-f]{3,6}$/i)||e.match(/^[a-z]*$/i))||"text-align"===r&&("left"===e||"right"===e||"center"===e||"justify"===e)||"text-decoration"===r&&("underline"===e||"line-through"===e)||"font-weight"===r&&"bold"===e||"font-style"===r&&"italic"===e||"float"===r&&("left"===e||"right"===e||"none"===e)||"vertical-align"===r&&("baseline"===e||"sub"===e||"super"===e||"test-top"===e||"text-bottom"===e||"middle"===e||"top"===e||"bottom"===e||e.match(/[0-9]*(px|em)/)||e.match(/[0-9]+?%/))||"font-size"===r&&("xx-small"===e||"x-small"===e||"small"===e||"medium"===e||"large"===e||"x-large"===e||"xx-large"===e||"larger"===e||"smaller"===e||e.match(/[0-9]*\.?[0-9]*(px|em|rem|mm|q|cm|in|pt|pc|%)/))||("width"===r||"height"===r)&&e.match(/[0-9\.]*(px|em|rem|%)/)||"direction"===r&&e.match(/^ltr|rtl|initial|inherit$/))&&(n+=r+": "+e+";")}}),n}function u(e,t,n,i){return!("img"!==e||!t["ta-insert-video"]||"ta-insert-video"!==n&&"allowfullscreen"!==n&&"frameborder"!==n&&("contenteditable"!==n||"false"!==i))}function d(e,n){var i=!1,r=t.bind(e,e.push);return{start:function(e,a,o){e=t.lowercase(e),!i&&O[e]&&(i=e),i||!0!==P[e]||(r("<"),r(e),t.forEach(a,function(i,o){var s=t.lowercase(o),d="img"===e&&"src"===s||"background"===s;("style"===s&&""!==(i=c(i))||u(e,a,s,i)||!0===L[s]&&(!0!==I[s]||n(i,d)))&&(r(" "),r(o),r('="'),r(l(i)),r('"'))}),r(o?"/>":">"))},comment:function(e){r(e)},whitespace:function(e){r(l(e))},end:function(e){e=t.lowercase(e),i||!0!==P[e]||(r("</"),r(e),r(">")),e==i&&(i=!1)},chars:function(e){i||r(l(e))}}}var h=t.$$minErr("$sanitize"),p=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,f=/^<\/\s*([\w:-]+)[^>]*>/,g=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,m=/^</,v=/^<\//,b=/<!--(.*?)-->/g,y=/(^<!--.*?-->)/,w=/<!DOCTYPE([^>]*?)>/i,x=/<!\[CDATA\[(.*?)]]>/g,_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,k=/([^\#-~| |!])/g,C=/^(\s+)/,S=a("area,br,col,hr,img,wbr,input"),$=a("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),D=a("rp,rt"),T=t.extend({},D,$),E=t.extend({},$,a("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),M=t.extend({},D,a("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),A=a("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),O=a("script,style"),P=t.extend({},S,E,M,T,A),I=a("background,cite,href,longdesc,src,usemap,xlink:href"),R=a("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,id,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),N=a("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),L=t.extend({},I,N,R),F=document.createElement("pre"),z=/^(\s*)([\s\S]*?)(\s*)$/,j=function(){return String.prototype.trim?function(e){return t.isString(e)?e.trim():e}:function(e){return t.isString(e)?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e}}();t.module("ngSanitize",[]).provider("$sanitize",i),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/,i=/^mailto:/;return function(a,o){function s(e){e&&h.push(r(e))}if(!a)return a;for(var l,c,u,d=a,h=[];l=d.match(n);)c=l[0],l[2]||l[4]||(c=(l[3]?"http://":"mailto:")+c),u=l.index,s(d.substr(0,u)),function(e,n){h.push("<a "),t.isDefined(o)&&h.push('target="',o,'" '),h.push('href="',e.replace(/"/g,"&quot;"),'">'),s(n),h.push("</a>")}(c,l[0].replace(i,"")),d=d.substring(u+l[0].length);return s(d),e(h.join(""))}}])}(window,window.angular);var taTools={};angular.module("textAngularSetup",[]).constant("taRegisterTool",registerTextAngularTool).value("taTools",taTools).value("taOptions",{forceTextAngularSanitize:!0,keyMappings:[],toolbar:[["h1","h2","h3","h4","h5","h6","p","pre","quote"],["bold","italics","underline","strikeThrough","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent"],["html","insertImage","insertLink","insertVideo","wordcount","charcount"]],classes:{focussed:"focussed",toolbar:"btn-toolbar",toolbarGroup:"btn-group",toolbarButton:"btn btn-default",toolbarButtonActive:"active",disabled:"disabled",textEditor:"form-control",htmlEditor:"form-control"},defaultTagAttributes:{a:{target:""}},setup:{textEditorSetup:function(e){},htmlEditorSetup:function(e){}},defaultFileDropHandler:function(e,t){var n=new FileReader;return"image"===e.type.substring(0,5)&&(n.onload=function(){""!==n.result&&t("insertImage",n.result,!0)},n.readAsDataURL(e),!0)}}).value("taSelectableElements",["a","img"]).value("taCustomRenderers",[{selector:"img",customAttribute:"ta-insert-video",renderLogic:function(e){var t=angular.element("<iframe></iframe>"),n=e.prop("attributes");angular.forEach(n,function(e){t.attr(e.name,e.value)}),t.attr("src",t.attr("ta-insert-video")),e.replaceWith(t)}}]).value("taTranslations",{html:{tooltip:"Toggle html / Rich Text"},heading:{tooltip:"Heading "},p:{tooltip:"Paragraph"},pre:{tooltip:"Preformatted text"},ul:{tooltip:"Unordered List"},ol:{tooltip:"Ordered List"},quote:{tooltip:"Quote/unquote selection or paragraph"},undo:{tooltip:"Undo"},redo:{tooltip:"Redo"},bold:{tooltip:"Bold"},italic:{tooltip:"Italic"},underline:{tooltip:"Underline"},strikeThrough:{tooltip:"Strikethrough"},justifyLeft:{tooltip:"Align text left"},justifyRight:{tooltip:"Align text right"},justifyFull:{tooltip:"Justify text"},justifyCenter:{tooltip:"Center"},indent:{tooltip:"Increase indent"},outdent:{tooltip:"Decrease indent"},clear:{tooltip:"Clear formatting"},insertImage:{dialogPrompt:"Please enter an image URL to insert",tooltip:"Insert image",hotkey:"the - possibly language dependent hotkey ... for some future implementation"},insertVideo:{tooltip:"Insert video",dialogPrompt:"Please enter a youtube URL to embed"},insertLink:{tooltip:"Insert / edit link",dialogPrompt:"Please enter a URL to insert"},editLink:{reLinkButton:{tooltip:"Relink"},unLinkButton:{tooltip:"Unlink"},targetToggle:{buttontext:"Open in New Window"}},wordcount:{tooltip:"Display words Count"},charcount:{tooltip:"Display characters Count"}}).factory("taToolFunctions",["$window","taTranslations",function(e,t){return{imgOnSelectAction:function(e,t,n){var i=function(){n.updateTaBindtaTextElement(),n.hidePopover()};e.preventDefault(),n.displayElements.popover.css("width","375px");var r=n.displayElements.popoverContainer;r.empty();var a=angular.element('<div class="btn-group" style="padding-right: 6px;">'),o=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">100% </button>');o.on("click",function(e){e.preventDefault(),t.css({width:"100%",height:""}),i()});var s=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">50% </button>');s.on("click",function(e){e.preventDefault(),t.css({width:"50%",height:""}),i()});var l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">25% </button>');l.on("click",function(e){e.preventDefault(),t.css({width:"25%",height:""}),i()});var c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">Reset</button>');c.on("click",function(e){e.preventDefault(),t.css({width:"",height:""}),i()}),a.append(o),a.append(s),a.append(l),a.append(c),r.append(a),a=angular.element('<div class="btn-group" style="padding-right: 6px;">');var u=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-left"></i></button>');u.on("click",function(e){e.preventDefault(),t.css("float","left"),t.css("cssFloat","left"),t.css("styleFloat","left"),i()});var d=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-right"></i></button>');d.on("click",function(e){e.preventDefault(),t.css("float","right"),t.css("cssFloat","right"),t.css("styleFloat","right"),i()});var h=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-justify"></i></button>');h.on("click",function(e){e.preventDefault(),t.css("float",""),t.css("cssFloat",""),t.css("styleFloat",""),i()}),a.append(u),a.append(h),a.append(d),r.append(a),a=angular.element('<div class="btn-group">');var p=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-trash-o"></i></button>');p.on("click",function(e){e.preventDefault(),t.remove(),i()}),a.append(p),r.append(a),n.showPopover(t),n.showResizeOverlay(t)},aOnSelectAction:function(n,i,r){n.preventDefault(),r.displayElements.popover.css("width","436px");var a=r.displayElements.popoverContainer;a.empty(),a.css("line-height","28px");var o=angular.element('<a href="'+i.attr("href")+'" target="_blank">'+i.attr("href")+"</a>");o.css({display:"inline-block","max-width":"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"middle"}),a.append(o);var s=angular.element('<div class="btn-group pull-right">'),l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+t.editLink.reLinkButton.tooltip+'"><i class="fa fa-edit icon-edit"></i></button>');l.on("click",function(n){n.preventDefault();var a=e.prompt(t.insertLink.dialogPrompt,i.attr("href"));a&&""!==a&&"http://"!==a&&(i.attr("href",a),r.updateTaBindtaTextElement()),r.hidePopover()}),s.append(l);var c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+t.editLink.unLinkButton.tooltip+'"><i class="fa fa-unlink icon-unlink"></i></button>');c.on("click",function(e){e.preventDefault(),i.replaceWith(i.contents()),r.updateTaBindtaTextElement(),r.hidePopover()}),s.append(c);var u=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on">'+t.editLink.targetToggle.buttontext+"</button>");"_blank"===i.attr("target")&&u.addClass("active"),u.on("click",function(e){e.preventDefault(),i.attr("target","_blank"===i.attr("target")?"":"_blank"),u.toggleClass("active"),r.updateTaBindtaTextElement()}),s.append(u),a.append(s),r.showPopover(i)},extractYoutubeVideoId:function(e){var t=/(?:youtube(?:-nocookie)?\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/i,n=e.match(t);return n&&n[1]||null}}}]).run(["taRegisterTool","$window","taTranslations","taSelection","taToolFunctions","$sanitize","taOptions","$log",function(e,t,n,i,r,a,o,s){var l={};if(a("",l),!0===o.forceTextAngularSanitize&&"taSanitize"!==l.version)throw angular.$$minErr("textAngular")("textAngularSetup","The textAngular-sanitize provider has been replaced by another -- have you included angular-sanitize by mistake?");e("html",{iconclass:"fa fa-code",tooltiptext:n.html.tooltip,action:function(){this.$editor().switchView()},activeState:function(){return this.$editor().showHtml}});var c=function(e){return function(){return this.$editor().queryFormatBlockState(e)}},u=function(){return this.$editor().wrapSelection("formatBlock","<"+this.name.toUpperCase()+">")};angular.forEach(["h1","h2","h3","h4","h5","h6"],function(t){e(t.toLowerCase(),{buttontext:t.toUpperCase(),tooltiptext:n.heading.tooltip+t.charAt(1),action:u,activeState:c(t.toLowerCase())})}),e("p",{buttontext:"P",tooltiptext:n.p.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<P>")},activeState:function(){return this.$editor().queryFormatBlockState("p")}}),e("pre",{buttontext:"pre",tooltiptext:n.pre.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<PRE>")},activeState:function(){return this.$editor().queryFormatBlockState("pre")}}),e("ul",{iconclass:"fa fa-list-ul",tooltiptext:n.ul.tooltip,action:function(){return this.$editor().wrapSelection("insertUnorderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertUnorderedList")}}),e("ol",{iconclass:"fa fa-list-ol",tooltiptext:n.ol.tooltip,action:function(){return this.$editor().wrapSelection("insertOrderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertOrderedList")}}),e("quote",{iconclass:"fa fa-quote-right",tooltiptext:n.quote.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<BLOCKQUOTE>")},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}}),e("undo",{iconclass:"fa fa-undo",tooltiptext:n.undo.tooltip,action:function(){return this.$editor().wrapSelection("undo",null)}}),e("redo",{iconclass:"fa fa-repeat",tooltiptext:n.redo.tooltip,action:function(){return this.$editor().wrapSelection("redo",null)}}),e("bold",{iconclass:"fa fa-bold",tooltiptext:n.bold.tooltip,action:function(){return this.$editor().wrapSelection("bold",null)},activeState:function(){return this.$editor().queryCommandState("bold")},commandKeyCode:98}),e("justifyLeft",{iconclass:"fa fa-align-left",tooltiptext:n.justifyLeft.tooltip,action:function(){return this.$editor().wrapSelection("justifyLeft",null)},activeState:function(e){if(e&&"#document"===e.nodeName)return!1;var t=!1;if(e)try{t="left"===e.css("text-align")||"left"===e.attr("align")||"right"!==e.css("text-align")&&"center"!==e.css("text-align")&&"justify"!==e.css("text-align")&&!this.$editor().queryCommandState("justifyRight")&&!this.$editor().queryCommandState("justifyCenter")&&!this.$editor().queryCommandState("justifyFull")}catch(e){t=!1}return t=t||this.$editor().queryCommandState("justifyLeft")}}),e("justifyRight",{iconclass:"fa fa-align-right",tooltiptext:n.justifyRight.tooltip,action:function(){return this.$editor().wrapSelection("justifyRight",null)},activeState:function(e){if(e&&"#document"===e.nodeName)return!1;var t=!1;if(e)try{t="right"===e.css("text-align")}catch(e){t=!1}return t=t||this.$editor().queryCommandState("justifyRight")}}),e("justifyFull",{iconclass:"fa fa-align-justify",tooltiptext:n.justifyFull.tooltip,action:function(){return this.$editor().wrapSelection("justifyFull",null)},activeState:function(e){var t=!1;if(e)try{t="justify"===e.css("text-align")}catch(e){t=!1}return t=t||this.$editor().queryCommandState("justifyFull")}}),e("justifyCenter",{iconclass:"fa fa-align-center",tooltiptext:n.justifyCenter.tooltip,action:function(){return this.$editor().wrapSelection("justifyCenter",null)},activeState:function(e){if(e&&"#document"===e.nodeName)return!1;var t=!1;if(e)try{t="center"===e.css("text-align")}catch(e){t=!1}return t=t||this.$editor().queryCommandState("justifyCenter")}}),e("indent",{iconclass:"fa fa-indent",tooltiptext:n.indent.tooltip,action:function(){return this.$editor().wrapSelection("indent",null)},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")},commandKeyCode:"TabKey"}),e("outdent",{iconclass:"fa fa-outdent",tooltiptext:n.outdent.tooltip,action:function(){return this.$editor().wrapSelection("outdent",null)},activeState:function(){return!1},commandKeyCode:"ShiftTabKey"}),e("italics",{iconclass:"fa fa-italic",tooltiptext:n.italic.tooltip,action:function(){return this.$editor().wrapSelection("italic",null)},activeState:function(){return this.$editor().queryCommandState("italic")},commandKeyCode:105}),e("underline",{iconclass:"fa fa-underline",tooltiptext:n.underline.tooltip,action:function(){return this.$editor().wrapSelection("underline",null)},activeState:function(){return this.$editor().queryCommandState("underline")},commandKeyCode:117}),e("strikeThrough",{iconclass:"fa fa-strikethrough",tooltiptext:n.strikeThrough.tooltip,action:function(){return this.$editor().wrapSelection("strikeThrough",null)},activeState:function(){return document.queryCommandState("strikeThrough")}}),e("clear",{iconclass:"fa fa-ban",tooltiptext:n.clear.tooltip,action:function(e,t){var n;this.$editor().wrapSelection("removeFormat",null);var r=angular.element(i.getSelectionElement());n=i.getAllSelectedElements();var a=function(e,t){e=angular.element(e);var n=t;return t||(n=e),angular.forEach(e.children(),function(e){if("ul"===e.tagName.toLowerCase()||"ol"===e.tagName.toLowerCase())n=a(e,n);else{var t=angular.element("<p></p>");t.html(angular.element(e).html()),n.after(t),n=t}}),e.remove(),n};angular.forEach(n,function(e){"ul"!==e.nodeName.toLowerCase()&&"ol"!==e.nodeName.toLowerCase()||a(e)}),angular.forEach(r.find("ul"),a),angular.forEach(r.find("ol"),a);var o=this.$editor(),s=function(e){e=angular.element(e),e[0]!==o.displayElements.text[0]&&e.removeAttr("class"),angular.forEach(e.children(),s)};angular.forEach(r,s),r[0]&&"li"!==r[0].tagName.toLowerCase()&&"ol"!==r[0].tagName.toLowerCase()&&"ul"!==r[0].tagName.toLowerCase()&&"true"!==r[0].getAttribute("contenteditable")&&this.$editor().wrapSelection("formatBlock","default"),t()}});var d=function(e){return-1!==e.toLowerCase().indexOf("javascript")};e("insertImage",{iconclass:"fa fa-picture-o",tooltiptext:n.insertImage.tooltip,action:function(){var e;if((e=t.prompt(n.insertImage.dialogPrompt,"http://"))&&""!==e&&"http://"!==e&&!d(e)){i.getSelectionElement().tagName&&"a"===i.getSelectionElement().tagName.toLowerCase()&&i.setSelectionAfterElement(i.getSelectionElement());var r='<img src="'+e+'">';return this.$editor().wrapSelection("insertHTML",r,!0)}},onElementSelect:{element:"img",action:r.imgOnSelectAction}}),e("insertVideo",{iconclass:"fa fa-youtube-play",tooltiptext:n.insertVideo.tooltip,action:function(){var e;if(e=t.prompt(n.insertVideo.dialogPrompt,"https://"),!d(e)&&e&&""!==e&&"https://"!==e&&(videoId=r.extractYoutubeVideoId(e),videoId)){var a="https://www.youtube.com/embed/"+videoId,o='<img class="ta-insert-video" src="https://img.youtube.com/vi/'+videoId+'/hqdefault.jpg" ta-insert-video="'+a+'" contenteditable="false" allowfullscreen="true" frameborder="0" />';return i.getSelectionElement().tagName&&"a"===i.getSelectionElement().tagName.toLowerCase()&&i.setSelectionAfterElement(i.getSelectionElement()),this.$editor().wrapSelection("insertHTML",o,!0)}},onElementSelect:{element:"img",onlyWithAttrs:["ta-insert-video"],action:r.imgOnSelectAction}}),e("insertLink",{tooltiptext:n.insertLink.tooltip,iconclass:"fa fa-link",action:function(){var e;if((e=i.getSelectionElement().tagName&&"a"===i.getSelectionElement().tagName.toLowerCase()?t.prompt(n.insertLink.dialogPrompt,i.getSelectionElement().href):t.prompt(n.insertLink.dialogPrompt,"http://"))&&""!==e&&"http://"!==e&&!d(e))return this.$editor().wrapSelection("createLink",e,!0)},activeState:function(e){return!!e&&"A"===e[0].tagName},onElementSelect:{element:"a",action:r.aOnSelectAction}}),e("wordcount",{display:'<div id="toolbarWC" style="display:block; min-width:100px;">Words: <span ng-bind="wordcount"></span></div>',disabled:!0,wordcount:0,activeState:function(){var e=this.$editor().displayElements.text,t=e[0].innerHTML||"",n=0;return""!==t.replace(/\s*<[^>]*?>\s*/g,"")&&""!==t.trim()&&(n=t.replace(/<\/?(b|i|em|strong|span|u|strikethrough|a|img|small|sub|sup|label)( [^>*?])?>/gi,"").replace(/(<[^>]*?>\s*<[^>]*?>)/gi," ").replace(/(<[^>]*?>)/gi,"").replace(/\s+/gi," ").match(/\S+/g).length),this.wordcount=n,this.$editor().wordcount=n,!1}}),e("charcount",{display:'<div id="toolbarCC" style="display:block; min-width:120px;">Characters: <span ng-bind="charcount"></span></div>',disabled:!0,charcount:0,activeState:function(){var e=this.$editor().displayElements.text,t=e[0].innerText||e[0].textContent,n=t.replace(/(\r\n|\n|\r)/gm,"").replace(/^\s+/g," ").replace(/\s+$/g," ").length;return this.charcount=n,this.$editor().charcount=n,!1}})}]),/*! jQuery UI - v1.12.1 - 2016-09-14
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){for(var t=e.css("visibility");"inherit"===t;)e=e.parent(),t=e.css("visibility");return"hidden"!==t}function n(e){for(var t,n;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=r(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function r(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",n,function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,a)}function a(){e.datepicker._isDisabledDatepicker(p.inline?p.dpDiv.parent()[0]:p.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function o(t,n){e.extend(t,n);for(var i in n)null==n[i]&&(t[i]=n[i]);return t}/*!
 * jQuery UI Spinner 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function s(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{};var l=(e.ui.version="1.12.1",0),c=Array.prototype.slice;e.cleanData=function(t){return function(n){var i,r,a;for(a=0;null!=(r=n[a]);a++)try{i=e._data(r,"events"),i&&i.remove&&e(r).triggerHandler("remove")}catch(e){}t(n)}}(e.cleanData),e.widget=function(t,n,i){var r,a,o,s={},l=t.split(".")[0];t=t.split(".")[1];var c=l+"-"+t;return i||(i=n,n=e.Widget),e.isArray(i)&&(i=e.extend.apply(null,[{}].concat(i))),e.expr[":"][c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},r=e[l][t],a=e[l][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,r,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),o=new n,o.options=e.widget.extend({},o.options),e.each(i,function(t,i){if(!e.isFunction(i))return void(s[t]=i);s[t]=function(){function e(){return n.prototype[t].apply(this,arguments)}function r(e){return n.prototype[t].apply(this,e)}return function(){var t,n=this._super,a=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=a,t}}()}),a.prototype=e.widget.extend(o,{widgetEventPrefix:r?o.widgetEventPrefix||t:t},s,{constructor:a,namespace:l,widgetName:t,widgetFullName:c}),r?(e.each(r._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete r._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var n,i,r=c.call(arguments,1),a=0,o=r.length;a<o;a++)for(n in r[a])i=r[a][n],r[a].hasOwnProperty(n)&&void 0!==i&&(e.isPlainObject(i)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],i):e.widget.extend({},i):t[n]=i);return t},e.widget.bridge=function(t,n){var i=n.prototype.widgetFullName||t;e.fn[t]=function(r){var a="string"==typeof r,o=c.call(arguments,1),s=this;return a?this.length||"instance"!==r?this.each(function(){var n,a=e.data(this,i);return"instance"===r?(s=a,!1):a?e.isFunction(a[r])&&"_"!==r.charAt(0)?(n=a[r].apply(a,o),n!==a&&void 0!==n?(s=n&&n.jquery?s.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")}):s=void 0:(o.length&&(r=e.widget.extend.apply(null,[r].concat(o))),this.each(function(){var t=e.data(this,i);t?(t.option(r||{}),t._init&&t._init()):e.data(this,i,new n(r,this))})),s}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,n){t._removeClass(n,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,r,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},i=t.split("."),t=i.shift(),i.length){for(r=o[t]=e.widget.extend({},this.options[t]),a=0;a<i.length-1;a++)r[i[a]]=r[i[a]]||{},r=r[i[a]];if(t=i.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=n}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var n,i,r;for(n in t)r=this.classesElementLookup[n],t[n]!==this.options.classes[n]&&r&&r.length&&(i=e(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function n(n,a){var o,s;for(s=0;s<n.length;s++)o=r.classesElementLookup[n[s]]||e(),o=e(t.add?e.unique(o.get().concat(t.element.get())):o.not(t.element).get()),r.classesElementLookup[n[s]]=o,i.push(n[s]),a&&t.classes[n[s]]&&i.push(t.classes[n[s]])}var i=[],r=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&n(t.keys.match(/\S+/g)||[],!0),t.extra&&n(t.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(t){var n=this;e.each(n.classesElementLookup,function(i,r){-1!==e.inArray(t.target,r)&&(n.classesElementLookup[i]=e(r.not(t.target).get()))})},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof e||null===e,a={extra:r?t:n,keys:r?e:t,element:r?this.element:e,add:i};return a.element.toggleClass(this._classes(a),i),this},_on:function(t,n,i){var r,a=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,o){function s(){if(t||!0!==a.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof o?a[o]:o).apply(a,arguments)}"string"!=typeof o&&(s.guid=o.guid=o.guid||s.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+a.eventNamespace,u=l[2];u?r.on(c,u,s):n.on(c,s)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(n).off(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,i){var r,a,o=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],a=n.originalEvent)for(r in a)r in n||(n[r]=a[r]);return this.element.trigger(n,i),!(e.isFunction(o)&&!1===o.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,a){"string"==typeof r&&(r={effect:r});var o,s=r?!0===r||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),o=!e.isEmptyObject(r),r.complete=a,r.delay&&i.delay(r.delay),o&&e.effects&&e.effects.effect[s]?i[t](r):s!==t&&i[s]?i[s](r.duration,r.easing,a):i.queue(function(n){e(this)[t](),a&&a.call(i[0]),n()})}});e.widget;/*!
 * jQuery UI Position 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
!function(){function t(e,t,n){return[parseFloat(e[0])*(d.test(e[0])?t/100:1),parseFloat(e[1])*(d.test(e[1])?n/100:1)]}function n(t,n){return parseInt(e.css(t,n),10)||0}function i(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var r,a=Math.max,o=Math.abs,s=/left|center|right/,l=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,u=/^\w+/,d=/%$/,h=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==r)return r;var t,n,i=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=i.children()[0];return e("body").append(i),t=a.offsetWidth,i.css("overflow","scroll"),n=a.offsetWidth,t===n&&(n=i[0].clientWidth),i.remove(),r=t-n},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),r="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:i||r?{left:0,top:0}:e(t).offset(),scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},e.fn.position=function(r){if(!r||!r.of)return h.apply(this,arguments);r=e.extend({},r);var d,p,f,g,m,v,b=e(r.of),y=e.position.getWithinInfo(r.within),w=e.position.getScrollInfo(y),x=(r.collision||"flip").split(" "),_={};return v=i(b),b[0].preventDefault&&(r.at="left top"),p=v.width,f=v.height,g=v.offset,m=e.extend({},g),e.each(["my","at"],function(){var e,t,n=(r[this]||"").split(" ");1===n.length&&(n=s.test(n[0])?n.concat(["center"]):l.test(n[0])?["center"].concat(n):["center","center"]),n[0]=s.test(n[0])?n[0]:"center",n[1]=l.test(n[1])?n[1]:"center",e=c.exec(n[0]),t=c.exec(n[1]),_[this]=[e?e[0]:0,t?t[0]:0],r[this]=[u.exec(n[0])[0],u.exec(n[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===r.at[0]?m.left+=p:"center"===r.at[0]&&(m.left+=p/2),"bottom"===r.at[1]?m.top+=f:"center"===r.at[1]&&(m.top+=f/2),d=t(_.at,p,f),m.left+=d[0],m.top+=d[1],this.each(function(){var i,s,l=e(this),c=l.outerWidth(),u=l.outerHeight(),h=n(this,"marginLeft"),v=n(this,"marginTop"),k=c+h+n(this,"marginRight")+w.width,C=u+v+n(this,"marginBottom")+w.height,S=e.extend({},m),$=t(_.my,l.outerWidth(),l.outerHeight());"right"===r.my[0]?S.left-=c:"center"===r.my[0]&&(S.left-=c/2),"bottom"===r.my[1]?S.top-=u:"center"===r.my[1]&&(S.top-=u/2),S.left+=$[0],S.top+=$[1],i={marginLeft:h,marginTop:v},e.each(["left","top"],function(t,n){e.ui.position[x[t]]&&e.ui.position[x[t]][n](S,{targetWidth:p,targetHeight:f,elemWidth:c,elemHeight:u,collisionPosition:i,collisionWidth:k,collisionHeight:C,offset:[d[0]+$[0],d[1]+$[1]],my:r.my,at:r.at,within:y,elem:l})}),r.using&&(s=function(e){var t=g.left-S.left,n=t+p-c,i=g.top-S.top,s=i+f-u,d={target:{element:b,left:g.left,top:g.top,width:p,height:f},element:{element:l,left:S.left,top:S.top,width:c,height:u},horizontal:n<0?"left":t>0?"right":"center",vertical:s<0?"top":i>0?"bottom":"middle"};p<c&&o(t+n)<p&&(d.horizontal="center"),f<u&&o(i+s)<f&&(d.vertical="middle"),a(o(t),o(n))>a(o(i),o(s))?d.important="horizontal":d.important="vertical",r.using.call(this,e,d)}),l.offset(e.extend(S,{using:s}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,s=e.left-t.collisionPosition.marginLeft,l=r-s,c=s+t.collisionWidth-o-r;t.collisionWidth>o?l>0&&c<=0?(n=e.left+l+t.collisionWidth-o-r,e.left+=l-n):e.left=c>0&&l<=0?r:l>c?r+o-t.collisionWidth:r:l>0?e.left+=l:c>0?e.left-=c:e.left=a(e.left-s,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,o=t.within.height,s=e.top-t.collisionPosition.marginTop,l=r-s,c=s+t.collisionHeight-o-r;t.collisionHeight>o?l>0&&c<=0?(n=e.top+l+t.collisionHeight-o-r,e.top+=l-n):e.top=c>0&&l<=0?r:l>c?r+o-t.collisionHeight:r:l>0?e.top+=l:c>0?e.top-=c:e.top=a(e.top-s,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,a=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-s-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];u<0?((n=e.left+h+p+f+t.collisionWidth-s-a)<0||n<o(u))&&(e.left+=h+p+f):d>0&&((i=e.left-t.collisionPosition.marginLeft+h+p+f-l)>0||o(i)<d)&&(e.left+=h+p+f)},top:function(e,t){var n,i,r=t.within,a=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-s-l,h="top"===t.my[1],p=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,g=-2*t.offset[1];u<0?((i=e.top+p+f+g+t.collisionHeight-s-a)<0||i<o(u))&&(e.top+=p+f+g):d>0&&((n=e.top-t.collisionPosition.marginTop+p+f+g-l)>0||o(n)<d)&&(e.top+=p+f+g)}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}();var u=(e.ui.position,e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])}}),e.fn.extend({disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}}),"ui-effects-animated"),d=e;e.effects={effect:{}},/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
function(e,t){function n(e,t,n){var i=u[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:i.max<e?i.max:e)}function i(t){var n=l(),i=n._rgba=[];return t=t.toLowerCase(),p(s,function(e,r){var a,o=r.re.exec(t),s=o&&r.parse(o),l=r.space||"rgba";if(s)return a=n[l](s),n[c[l].cache]=a[c[l].cache],i=n._rgba=a._rgba,!1}),i.length?("0,0,0,0"===i.join()&&e.extend(i,a.transparent),n):a[t]}function r(e,t,n){return n=(n+1)%1,6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}var a,o=/^([\-+])=\s*(\d+\.?\d*)/,s=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],l=e.Color=function(t,n,i,r){return new e.Color.fn.parse(t,n,i,r)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},h=e("<p>")[0],p=e.each;h.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=h.style.backgroundColor.indexOf("rgba")>-1,p(c,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),l.fn=e.extend(l.prototype,{parse:function(t,r,o,s){if(void 0===t)return this._rgba=[null,null,null,null],this;(t.jquery||t.nodeType)&&(t=e(t).css(r),r=void 0);var u=this,d=e.type(t),h=this._rgba=[];/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
return void 0!==r&&(t=[t,r,o,s],d="array"),"string"===d?this.parse(i(t)||a._default):"array"===d?(p(c.rgba.props,function(e,i){h[i.idx]=n(t[i.idx],i)}),this):"object"===d?(t instanceof l?p(c,function(e,n){t[n.cache]&&(u[n.cache]=t[n.cache].slice())}):p(c,function(i,r){var a=r.cache;p(r.props,function(e,i){if(!u[a]&&r.to){if("alpha"===e||null==t[e])return;u[a]=r.to(u._rgba)}u[a][i.idx]=n(t[e],i,!0)}),u[a]&&e.inArray(null,u[a].slice(0,3))<0&&(u[a][3]=1,r.from&&(u._rgba=r.from(u[a])))}),this):void 0},is:function(e){var t=l(e),n=!0,i=this;return p(c,function(e,r){var a,o=t[r.cache];return o&&(a=i[r.cache]||r.to&&r.to(i._rgba)||[],p(r.props,function(e,t){if(null!=o[t.idx])return n=o[t.idx]===a[t.idx]})),n}),n},_space:function(){var e=[],t=this;return p(c,function(n,i){t[i.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var i=l(e),r=i._space(),a=c[r],o=0===this.alpha()?l("transparent"):this,s=o[a.cache]||a.to(o._rgba),d=s.slice();return i=i[a.cache],p(a.props,function(e,r){var a=r.idx,o=s[a],l=i[a],c=u[r.type]||{};null!==l&&(null===o?d[a]=l:(c.mod&&(l-o>c.mod/2?o+=c.mod:o-l>c.mod/2&&(o-=c.mod)),d[a]=n((l-o)*t+o,r)))}),this[r](d)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=l(t)._rgba;return l(e.map(n,function(e,t){return(1-i)*r[t]+i*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),i=n.pop();return t&&n.push(~~(255*i)),"#"+e.map(n,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,r=e[1]/255,a=e[2]/255,o=e[3],s=Math.max(i,r,a),l=Math.min(i,r,a),c=s-l,u=s+l,d=.5*u;return t=l===s?0:i===s?60*(r-a)/c+360:r===s?60*(a-i)/c+120:60*(i-r)/c+240,n=0===c?0:d<=.5?c/u:c/(2-u),[Math.round(t)%360,n,d,null==o?1:o]},c.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],a=e[3],o=i<=.5?i*(1+n):i+n-i*n,s=2*i-o;return[Math.round(255*r(s,o,t+1/3)),Math.round(255*r(s,o,t)),Math.round(255*r(s,o,t-1/3)),a]},p(c,function(t,i){var r=i.props,a=i.cache,s=i.to,c=i.from;l.fn[t]=function(t){if(s&&!this[a]&&(this[a]=s(this._rgba)),void 0===t)return this[a].slice();var i,o=e.type(t),u="array"===o||"object"===o?t:arguments,d=this[a].slice();return p(r,function(e,t){var i=u["object"===o?e:t.idx];null==i&&(i=d[t.idx]),d[t.idx]=n(i,t)}),c?(i=l(c(d)),i[a]=d,i):l(d)},p(r,function(n,i){l.fn[n]||(l.fn[n]=function(r){var a,s=e.type(r),l="alpha"===n?this._hsla?"hsla":"rgba":t,c=this[l](),u=c[i.idx];return"undefined"===s?u:("function"===s&&(r=r.call(this,u),s=e.type(r)),null==r&&i.empty?this:("string"===s&&(a=o.exec(r))&&(r=u+parseFloat(a[2])*("+"===a[1]?1:-1)),c[i.idx]=r,this[l](c)))})})}),l.hook=function(t){var n=t.split(" ");p(n,function(t,n){e.cssHooks[n]={set:function(t,r){var a,o,s="";if("transparent"!==r&&("string"!==e.type(r)||(a=i(r)))){if(r=l(a||r),!d.rgba&&1!==r._rgba[3]){for(o="backgroundColor"===n?t.parentNode:t;(""===s||"transparent"===s)&&o&&o.style;)try{s=e.css(o,"backgroundColor"),o=o.parentNode}catch(e){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{t.style[n]=r}catch(e){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=l(t.elem,n),t.end=l(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),e.cssHooks.borderColor={expand:function(e){var t={};return p(["Top","Right","Bottom","Left"],function(n,i){t["border"+i+"Color"]=e}),t}},a=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(d),function(){function t(t){var n,i,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,a={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(a[e.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(a[n]=r[n]);return a}function n(t,n){var i,a,o={};for(i in n)a=n[i],t[i]!==a&&(r[i]||!e.fx.step[i]&&isNaN(parseFloat(a))||(o[i]=a));return o}var i=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(d.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(r,a,o,s){var l=e.speed(a,o,s);return this.queue(function(){var a,o=e(this),s=o.attr("class")||"",c=l.children?o.find("*").addBack():o;c=c.map(function(){return{el:e(this),start:t(this)}}),a=function(){e.each(i,function(e,t){r[t]&&o[t+"Class"](r[t])})},a(),c=c.map(function(){return this.end=t(this.el[0]),this.diff=n(this.start,this.end),this}),o.attr("class",s),c=c.map(function(){var t=this,n=e.Deferred(),i=e.extend({},l,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,i),n.promise()}),e.when.apply(e,c.get()).done(function(){a(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(n,i,r,a){return i?e.effects.animateClass.call(this,{add:n},i,r,a):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,i,r,a){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},i,r,a):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,i,r,a,o){return"boolean"==typeof i||void 0===i?r?e.effects.animateClass.call(this,i?{add:n}:{remove:n},r,a,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},i,r,a)}}(e.fn.toggleClass),switchClass:function(t,n,i,r,a){return e.effects.animateClass.call(this,{add:n,remove:t},i,r,a)}})}(),function(){function t(t,n,i,r){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(r=i,i=n,n={}),e.isFunction(i)&&(r=i,i=null),n&&e.extend(t,n),i=i||n.duration,t.duration=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,t.complete=r||n.complete,t}function n(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}function i(e,t){var n=t.outerWidth(),i=t.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,a=r.exec(e)||["",0,n,i,0];return{top:parseFloat(a[1])||0,right:"auto"===a[2]?n:parseFloat(a[2]),bottom:"auto"===a[3]?i:parseFloat(a[3]),left:parseFloat(a[4])||0}}e.expr&&e.expr.filters&&e.expr.filters.animated&&(e.expr.filters.animated=function(t){return function(n){return!!e(n).data(u)||t(n)}}(e.expr.filters.animated)),!1!==e.uiBackCompat&&e.extend(e.effects,{save:function(e,t){for(var n=0,i=t.length;n<i;n++)null!==t[n]&&e.data("ui-effects-"+t[n],e[0].style[t[n]])},restore:function(e,t){for(var n,i=0,r=t.length;i<r;i++)null!==t[i]&&(n=e.data("ui-effects-"+t[i]),e.css(t[i],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(e){a=document.body}return t.wrap(i),(t[0]===a||e.contains(t[0],a))&&e(a).trigger("focus"),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,i){n[i]=t.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),i.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).trigger("focus")),t}}),e.extend(e.effects,{version:"1.12.1",define:function(t,n,i){return i||(i=n,n="effect"),e.effects.effect[t]=i,e.effects.effect[t].mode=n,i},scaledDimensions:function(e,t,n){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(t||100)/100:1,r="vertical"!==n?(t||100)/100:1;return{height:e.height()*r,width:e.width()*i,outerHeight:e.outerHeight()*r,outerWidth:e.outerWidth()*i}},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,t,n){var i=e.queue();t>1&&i.splice.apply(i,[1,0].concat(i.splice(t,n))),e.dequeue()},saveStyle:function(e){e.data("ui-effects-style",e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data("ui-effects-style")||"",e.removeData("ui-effects-style")},mode:function(e,t){var n=e.is(":hidden");return"toggle"===t&&(t=n?"show":"hide"),(n?"hide"===t:"show"===t)&&(t="none"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createPlaceholder:function(t){var n,i=t.css("position"),r=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=e("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data("ui-effects-placeholder",n)),t.css({position:i,left:r.left,top:r.top}),n},removePlaceholder:function(e){var t="ui-effects-placeholder",n=e.data(t);n&&(n.remove(),e.removeData(t))},cleanUp:function(t){e.effects.restoreStyle(t),e.effects.removePlaceholder(t)},setTransition:function(t,n,i,r){return r=r||{},e.each(n,function(e,n){var a=t.cssUnit(n);a[0]>0&&(r[n]=a[0]*i+a[1])}),r}}),e.fn.extend({effect:function(){function n(t){function n(){s.removeData(u),e.effects.cleanUp(s),"hide"===i.mode&&s.hide(),o()}function o(){e.isFunction(l)&&l.call(s[0]),e.isFunction(t)&&t()}var s=e(this);i.mode=d.shift(),!1===e.uiBackCompat||a?"none"===i.mode?(s[c](),o()):r.call(s[0],i,n):(s.is(":hidden")?"hide"===c:"show"===c)?(s[c](),o()):r.call(s[0],i,o)}var i=t.apply(this,arguments),r=e.effects.effect[i.effect],a=r.mode,o=i.queue,s=o||"fx",l=i.complete,c=i.mode,d=[],h=function(t){var n=e(this),i=e.effects.mode(n,c)||a;n.data(u,!0),d.push(i),a&&("show"===i||i===a&&"hide"===i)&&n.show(),a&&"none"===i||e.effects.saveStyle(n),e.isFunction(t)&&t()};return e.fx.off||!r?c?this[c](i.duration,l):this.each(function(){l&&l.call(this)}):!1===o?this.each(h).each(n):this.queue(s,h).queue(s,n)},show:function(e){return function(i){if(n(i))return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(e.fn.show),hide:function(e){return function(i){if(n(i))return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(e.fn.hide),toggle:function(e){return function(i){if(n(i)||"boolean"==typeof i)return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),i=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])}),i},cssClip:function(e){return e?this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)"):i(this.css("clip"),this)},transfer:function(t,n){var i=e(this),r=e(t.to),a="fixed"===r.css("position"),o=e("body"),s=a?o.scrollTop():0,l=a?o.scrollLeft():0,c=r.offset(),u={top:c.top-s,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},d=i.offset(),h=e("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(t.className).css({top:d.top-s,left:d.left-l,height:i.innerHeight(),width:i.innerWidth(),position:a?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){h.remove(),e.isFunction(n)&&n()})}}),e.fx.step.clip=function(t){t.clipInit||(t.start=e(t.elem).cssClip(),"string"==typeof t.end&&(t.end=i(t.end,t.elem)),t.clipInit=!0),e(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})}}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?n(2*e)/2:1-n(-2*e+2)/2}})}();e.effects,e.effects.define("blind","hide",function(t,n){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=e(this),a=t.direction||"up",o=r.cssClip(),s={clip:e.extend({},o)},l=e.effects.createPlaceholder(r);s.clip[i[a][0]]=s.clip[i[a][1]],"show"===t.mode&&(r.cssClip(s.clip),l&&l.css(e.effects.clipToBox(s)),s.clip=o),l&&l.animate(e.effects.clipToBox(s),t.duration,t.easing),r.animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:n})}),e.effects.define("bounce",function(t,n){var i,r,a,o=e(this),s=t.mode,l="hide"===s,c="show"===s,u=t.direction||"up",d=t.distance,h=t.times||5,p=2*h+(c||l?1:0),f=t.duration/p,g=t.easing,m="up"===u||"down"===u?"top":"left",v="up"===u||"left"===u,b=0,y=o.queue().length;for(e.effects.createPlaceholder(o),a=o.css(m),d||(d=o["top"===m?"outerHeight":"outerWidth"]()/3),c&&(r={opacity:1},r[m]=a,o.css("opacity",0).css(m,v?2*-d:2*d).animate(r,f,g)),l&&(d/=Math.pow(2,h-1)),r={},r[m]=a;b<h;b++)i={},i[m]=(v?"-=":"+=")+d,o.animate(i,f,g).animate(r,f,g),d=l?2*d:d/2;l&&(i={opacity:0},i[m]=(v?"-=":"+=")+d,o.animate(i,f,g)),o.queue(n),e.effects.unshift(o,y,p+1)}),e.effects.define("clip","hide",function(t,n){var i,r={},a=e(this),o=t.direction||"vertical",s="both"===o,l=s||"horizontal"===o,c=s||"vertical"===o;i=a.cssClip(),r.clip={top:c?(i.bottom-i.top)/2:i.top,right:l?(i.right-i.left)/2:i.right,bottom:c?(i.bottom-i.top)/2:i.bottom,left:l?(i.right-i.left)/2:i.left},e.effects.createPlaceholder(a),"show"===t.mode&&(a.cssClip(r.clip),r.clip=i),a.animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:n})}),e.effects.define("drop","hide",function(t,n){var i,r=e(this),a=t.mode,o="show"===a,s=t.direction||"left",l="up"===s||"down"===s?"top":"left",c="up"===s||"left"===s?"-=":"+=",u="+="===c?"-=":"+=",d={opacity:0};e.effects.createPlaceholder(r),i=t.distance||r["top"===l?"outerHeight":"outerWidth"](!0)/2,d[l]=c+i,o&&(r.css(d),d[l]=u+i,d.opacity=1),r.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:n})}),e.effects.define("explode","hide",function(t,n){function i(){y.push(this),y.length===d*h&&r()}function r(){p.css({visibility:"visible"}),e(y).remove(),n()}var a,o,s,l,c,u,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,h=d,p=e(this),f=t.mode,g="show"===f,m=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/h),b=Math.ceil(p.outerHeight()/d),y=[];for(a=0;a<d;a++)for(l=m.top+a*b,u=a-(d-1)/2,o=0;o<h;o++)s=m.left+o*v,c=o-(h-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-a*b}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:b,left:s+(g?c*v:0),top:l+(g?u*b:0),opacity:g?0:1}).animate({left:s+(g?0:c*v),top:l+(g?0:u*b),opacity:g?1:0},t.duration||500,t.easing,i)}),e.effects.define("fade","toggle",function(t,n){var i="show"===t.mode;e(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:n})}),e.effects.define("fold","hide",function(t,n){var i=e(this),r=t.mode,a="show"===r,o="hide"===r,s=t.size||15,l=/([0-9]+)%/.exec(s),c=!!t.horizFirst,u=c?["right","bottom"]:["bottom","right"],d=t.duration/2,h=e.effects.createPlaceholder(i),p=i.cssClip(),f={clip:e.extend({},p)},g={clip:e.extend({},p)},m=[p[u[0]],p[u[1]]],v=i.queue().length;l&&(s=parseInt(l[1],10)/100*m[o?0:1]),f.clip[u[0]]=s,g.clip[u[0]]=s,g.clip[u[1]]=0,a&&(i.cssClip(g.clip),h&&h.css(e.effects.clipToBox(g)),g.clip=p),i.queue(function(n){h&&h.animate(e.effects.clipToBox(f),d,t.easing).animate(e.effects.clipToBox(g),d,t.easing),n()}).animate(f,d,t.easing).animate(g,d,t.easing).queue(n),e.effects.unshift(i,v,4)}),e.effects.define("highlight","show",function(t,n){var i=e(this),r={backgroundColor:i.css("backgroundColor")};"hide"===t.mode&&(r.opacity=0),e.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:n})}),e.effects.define("size",function(t,n){var i,r,a,o=e(this),s=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],c=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],u=t.mode,d="effect"!==u,h=t.scale||"both",p=t.origin||["middle","center"],f=o.css("position"),g=o.position(),m=e.effects.scaledDimensions(o),v=t.from||m,b=t.to||e.effects.scaledDimensions(o,0);e.effects.createPlaceholder(o),"show"===u&&(a=v,v=b,b=a),r={from:{y:v.height/m.height,x:v.width/m.width},to:{y:b.height/m.height,x:b.width/m.width}},"box"!==h&&"both"!==h||(r.from.y!==r.to.y&&(v=e.effects.setTransition(o,l,r.from.y,v),b=e.effects.setTransition(o,l,r.to.y,b)),r.from.x!==r.to.x&&(v=e.effects.setTransition(o,c,r.from.x,v),b=e.effects.setTransition(o,c,r.to.x,b))),"content"!==h&&"both"!==h||r.from.y!==r.to.y&&(v=e.effects.setTransition(o,s,r.from.y,v),b=e.effects.setTransition(o,s,r.to.y,b)),p&&(i=e.effects.getBaseline(p,m),v.top=(m.outerHeight-v.outerHeight)*i.y+g.top,v.left=(m.outerWidth-v.outerWidth)*i.x+g.left,b.top=(m.outerHeight-b.outerHeight)*i.y+g.top,b.left=(m.outerWidth-b.outerWidth)*i.x+g.left),o.css(v),"content"!==h&&"both"!==h||(l=l.concat(["marginTop","marginBottom"]).concat(s),c=c.concat(["marginLeft","marginRight"]),o.find("*[width]").each(function(){var n=e(this),i=e.effects.scaledDimensions(n),a={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},o={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x};r.from.y!==r.to.y&&(a=e.effects.setTransition(n,l,r.from.y,a),o=e.effects.setTransition(n,l,r.to.y,o)),r.from.x!==r.to.x&&(a=e.effects.setTransition(n,c,r.from.x,a),o=e.effects.setTransition(n,c,r.to.x,o)),d&&e.effects.saveStyle(n),n.css(a),n.animate(o,t.duration,t.easing,function(){d&&e.effects.restoreStyle(n)})})),o.animate(b,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){var t=o.offset();0===b.opacity&&o.css("opacity",v.opacity),d||(o.css("position","static"===f?"relative":f).offset(t),e.effects.saveStyle(o)),n()}})}),e.effects.define("scale",function(t,n){var i=e(this),r=t.mode,a=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"effect"!==r?0:100),o=e.extend(!0,{from:e.effects.scaledDimensions(i),to:e.effects.scaledDimensions(i,a,t.direction||"both"),origin:t.origin||["middle","center"]},t);t.fade&&(o.from.opacity=1,o.to.opacity=0),e.effects.effect.size.call(this,o,n)}),e.effects.define("puff","hide",function(t,n){var i=e.extend(!0,{},t,{fade:!0,percent:parseInt(t.percent,10)||150});e.effects.effect.scale.call(this,i,n)}),e.effects.define("pulsate","show",function(t,n){var i=e(this),r=t.mode,a="show"===r,o="hide"===r,s=a||o,l=2*(t.times||5)+(s?1:0),c=t.duration/l,u=0,d=1,h=i.queue().length;for(!a&&i.is(":visible")||(i.css("opacity",0).show(),u=1);d<l;d++)i.animate({opacity:u},c,t.easing),u=1-u;i.animate({opacity:u},c,t.easing),i.queue(n),e.effects.unshift(i,h,l+1)}),e.effects.define("shake",function(t,n){var i=1,r=e(this),a=t.direction||"left",o=t.distance||20,s=t.times||3,l=2*s+1,c=Math.round(t.duration/l),u="up"===a||"down"===a?"top":"left",d="up"===a||"left"===a,h={},p={},f={},g=r.queue().length;for(e.effects.createPlaceholder(r),h[u]=(d?"-=":"+=")+o,p[u]=(d?"+=":"-=")+2*o,f[u]=(d?"-=":"+=")+2*o,r.animate(h,c,t.easing);i<s;i++)r.animate(p,c,t.easing).animate(f,c,t.easing);r.animate(p,c,t.easing).animate(h,c/2,t.easing).queue(n),e.effects.unshift(r,g,l+1)}),e.effects.define("slide","show",function(t,n){var i,r,a=e(this),o={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},s=t.mode,l=t.direction||"left",c="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,d=t.distance||a["top"===c?"outerHeight":"outerWidth"](!0),h={};e.effects.createPlaceholder(a),i=a.cssClip(),r=a.position()[c],h[c]=(u?-1:1)*d+r,h.clip=a.cssClip(),h.clip[o[l][1]]=h.clip[o[l][0]],"show"===s&&(a.cssClip(h.clip),a.css(c,h[c]),h.clip=i,h[c]=r),a.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:n})});!1!==e.uiBackCompat&&e.effects.define("transfer",function(t,n){e(this).transfer(t,n)});/*!
 * jQuery UI Focusable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
e.ui.focusable=function(n,i){var r,a,o,s,l,c=n.nodeName.toLowerCase();return"area"===c?(r=n.parentNode,a=r.name,!(!n.href||!a||"map"!==r.nodeName.toLowerCase())&&(o=e("img[usemap='#"+a+"']"),o.length>0&&o.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(c)?(s=!n.disabled)&&(l=e(n).closest("fieldset")[0])&&(s=!l.disabled):s="a"===c?n.href||i:i,s&&e(n).is(":visible")&&t(e(n)))},e.extend(e.expr[":"],{focusable:function(t){return e.ui.focusable(t,null!=e.attr(t,"tabindex"))}});e.ui.focusable,e.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):e(this[0].form)},e.ui.formResetMixin={_formResetHandler:function(){var t=e(this);setTimeout(function(){var n=t.data("ui-form-reset-instances");e.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data("ui-form-reset-instances");t.splice(e.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};/*!
 * jQuery UI Support for jQuery core 1.7.x 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 */
"1.7"===e.fn.jquery.substring(0,3)&&(e.each(["Width","Height"],function(t,n){function i(t,n,i,a){return e.each(r,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),a&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],a=n.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return void 0===t?o["inner"+n].call(this):this.each(function(){e(this).css(a,i(this,t)+"px")})},e.fn["outer"+n]=function(t,r){return"number"!=typeof t?o["outer"+n].call(this,t):this.each(function(){e(this).css(a,i(this,t,!0,r)+"px")})}}),e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))});/*!
 * jQuery UI Keycode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},e.ui.escapeSelector=function(){var e=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(t){return t.replace(e,"\\$1")}}(),e.fn.labels=function(){var t,n,i,r,a;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),i=this.attr("id"),i&&(t=this.eq(0).parents().last(),a=t.add(t.length?t.siblings():this.siblings()),n="label[for='"+e.ui.escapeSelector(i)+"']",r=r.add(a.find(n).addBack(n))),this.pushStack(r))},e.fn.scrollParent=function(t){var n=this.css("position"),i="absolute"===n,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return(!i||"static"!==t.css("position"))&&r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&a.length?a:e(this[0].ownerDocument||document)},e.extend(e.expr[":"],{tabbable:function(t){var n=e.attr(t,"tabindex"),i=null!=n;return(!i||n>=0)&&e.ui.focusable(t,i)}}),e.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t,n,i=this.options.icons;i&&(t=e("<span>"),this._addClass(t,"ui-accordion-header-icon","ui-icon "+i.header),t.prependTo(this.headers),n=this.active.children(".ui-accordion-header-icon"),this._removeClass(n,i.header)._addClass(n,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){if("active"===e)return void this._activate(t);"event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons())},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var n=e.ui.keyCode,i=this.headers.length,r=this.headers.index(t.target),a=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:a=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:a=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:a=this.headers[0];break;case n.END:a=this.headers[i-1]}a&&(e(t.target).attr("tabIndex",-1),e(a).attr("tabIndex",0),e(a).trigger("focus"),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().trigger("focus")},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=e()):!1===t.active?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var t=e(this),n=t.uniqueId().attr("id"),i=t.next(),r=i.uniqueId().attr("id");t.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(t=r.height(),this.element.siblings(":visible").each(function(){var n=e(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(t-=n.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===i&&(t=0,this.headers.next().each(function(){var n=e(this).is(":visible");n||e(this).show(),t=Math.max(t,e(this).css("height","").height()),n||e(this).hide()}).height(t))},_activate:function(t){var n=this._findActive(t)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var n,i,r=this.options,a=this.active,o=e(t.currentTarget),s=o[0]===a[0],l=s&&r.collapsible,c=l?e():o.next(),u=a.next(),d={oldHeader:a,oldPanel:u,newHeader:l?e():o,newPanel:c};t.preventDefault(),s&&!r.collapsible||!1===this._trigger("beforeActivate",t,d)||(r.active=!l&&this.headers.index(o),this.active=s?e():o,this._toggle(d),this._removeClass(a,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=a.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.activeHeader)._addClass(n,null,r.icons.header)),s||(this._removeClass(o,"ui-accordion-header-collapsed")._addClass(o,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=o.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.header)._addClass(i,null,r.icons.activeHeader)),this._addClass(o.next(),"ui-accordion-content-active")))},_toggle:function(t){var n=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,t):(i.hide(),n.show(),this._toggleComplete(t)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,n){var i,r,a,o=this,s=0,l=e.css("box-sizing"),c=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},d=c&&u.down||u,h=function(){o._toggleComplete(n)};return"number"==typeof d&&(a=d),"string"==typeof d&&(r=d),r=r||d.easing||u.easing,a=a||d.duration||u.duration,t.length?e.length?(i=e.show().outerHeight(),t.animate(this.hideProps,{duration:a,easing:r,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:a,easing:r,complete:h,step:function(e,n){n.now=Math.round(e),"height"!==n.prop?"content-box"===l&&(s+=n.now):"content"!==o.options.heightStyle&&(n.now=Math.round(i-t.outerHeight()-s),s=0)}})):t.animate(this.hideProps,a,r,h):e.animate(this.showProps,a,r,h)},_toggleComplete:function(e){var t=e.oldPanel,n=t.prev();this._removeClass(t,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(n){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t},e.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var n=e(t.target),i=e(e.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var n=e(t.target).closest(".ui-menu-item"),i=e(t.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]))&&this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),n=t.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),n.children().each(function(){var t=e(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var n,i,r,a,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,i=this.previousFilter||"",a=!1,r=t.keyCode>=96&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),r===i?a=!0:r=i+r,n=this._filterMenuItems(r),n=a&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(r=String.fromCharCode(t.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(t,n),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var t,n,i,r,a,o=this,s=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),i=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.prev(),i=e("<span>").data("ui-menu-submenu-caret",!0);o._addClass(i,"ui-menu-icon","ui-icon "+s),n.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",n.attr("id"))}),this._addClass(i,"ui-menu","ui-widget ui-widget-content ui-front"),t=l.add(this.element),n=t.find(this.options.items),n.not(".ui-menu-item").each(function(){var t=e(this);o._isDivider(t)&&o._addClass(t,"ui-menu-divider","ui-widget-content")}),r=n.not(".ui-menu-item, .ui-menu-divider"),a=r.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(r,"ui-menu-item")._addClass(a,"ui-menu-item-wrapper"),n.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var n,i,r;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=t.children(".ui-menu"),n.length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,r,a,o,s;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-n-i,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),s=t.outerHeight(),r<0?this.activeMenu.scrollTop(a+r):r+s>o&&this.activeMenu.scrollTop(a+r-o+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[t]()),this.focus(n,i)},nextPage:function(t){var n,i,r;if(!this.active)return void this.next(t);this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i-r<0}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))},previousPage:function(t){var n,i,r;if(!this.active)return void this.next(t);this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i+r>0}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items).first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)},_filterMenuItems:function(t){var n=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(e.trim(e(this).children(".ui-menu-item-wrapper").text()))})}});/*!
 * jQuery UI Autocomplete 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
e.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,i,r=this.element[0].nodeName.toLowerCase(),a="textarea"===r,o="input"===r;this.isMultiLine=a||!o&&this._isContentEditable(this.element),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,i=!0,void(n=!0);t=!1,i=!1,n=!1;var a=e.ui.keyCode;switch(r.keyCode){case a.PAGE_UP:t=!0,this._move("previousPage",r);break;case a.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case a.UP:t=!0,this._keyEvent("previous",r);break;case a.DOWN:t=!0,this._keyEvent("next",r);break;case a.ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case a.TAB:this.menu.active&&this.menu.select(r);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!n){var r=e.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(e){if(i)return i=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){if(this.cancelBlur)return void delete this.cancelBlur;clearTimeout(this.searching),this.close(e),this._change(e)}}),this._initSource(),this.menu=e("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==e.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(t,n){var i,r;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:r})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value),(i=n.item.attr("aria-label")||r.value)&&e.trim(i).length&&(this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))},menuselect:function(t,n){var i=n.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=e("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var n=this.menu.element[0];return t.target===this.element[0]||t.target===n||e.contains(n,t.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,r){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),n=this.menu.element.is(":visible"),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||n||i)||(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),--this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,function(e,n){i._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").append(e("<div>").text(n.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=new RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))}});var h=(e.ui.autocomplete,/ui-corner-([a-z]){2,6}/g);e.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var t=this,n=[];e.each(this.options.items,function(i,r){var a,o={};if(r)return"controlgroupLabel"===i?(a=t.element.find(r),a.each(function(){var t=e(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),t._addClass(a,null,"ui-widget ui-widget-content ui-state-default"),void(n=n.concat(a.get()))):void(e.fn[i]&&(o=t["_"+i+"Options"]?t["_"+i+"Options"]("middle"):{classes:{}},t.element.find(r).each(function(){var r=e(this),a=r[i]("instance"),s=e.widget.extend({},o);if("button"!==i||!r.parent(".ui-spinner").length){a||(a=r[i]()[i]("instance")),a&&(s.classes=t._resolveClassesValues(s.classes,a)),r[i](s);var l=r[i]("widget");e.data(l[0],"ui-controlgroup-data",a||r[i]("instance")),n.push(l[0])}})))}),this.childWidgets=e(e.unique(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var n=e(this),i=n.data("ui-controlgroup-data");i&&i[t]&&i[t]()})},_updateCornerClass:function(e,t){var n=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(e,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(e,null,n)},_buildSimpleOptions:function(e,t){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[t]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[e],i},_spinnerOptions:function(e){var t=this._buildSimpleOptions(e,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var t="vertical"===this.options.direction;return{width:!!t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(t,n){var i={};return e.each(t,function(r){var a=n.options.classes[r]||"";a=e.trim(a.replace(h,"")),i[r]=(a+" "+t[r]).replace(/\s+/g," ")}),i},_setOption:function(e,t){if("direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,t),"disabled"===e)return void this._callChildMethod(t?"disable":"enable");this.refresh()},refresh:function(){var t,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),t=this.childWidgets,this.options.onlyVisible&&(t=t.filter(":visible")),t.length&&(e.each(["first","last"],function(e,i){var r=t[i]().data("ui-controlgroup-data");if(r&&n["_"+r.widgetName+"Options"]){var a=n["_"+r.widgetName+"Options"](1===t.length?"only":i);a.classes=n._resolveClassesValues(a.classes,r),r.element[r.widgetName](a)}else n._updateCornerClass(t[i](),i)}),this._callChildMethod("refresh"))}});/*!
 * jQuery UI Checkboxradio 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
e.widget("ui.checkboxradio",[e.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,n,i=this,r=this._super()||{};return this._readType(),n=this.element.labels(),this.label=e(n[n.length-1]),this.label.length||e.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){i.originalLabel+=3===this.nodeType?e(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),t=this.element[0].disabled,null!=t&&(r.disabled=t),r},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||e.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t,n=this.element[0].name,i="input[name='"+e.ui.escapeSelector(n)+"']";return n?(t=this.form.length?e(this.form[0].elements).filter(i):e(i).filter(function(){return 0===e(this).form().length}),t.not(this.element)):e([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each(function(){var t=e(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,t){if("label"!==e||t){if(this._super(e,t),"disabled"===e)return this._toggleClass(this.label,null,"ui-state-disabled",t),void(this.element[0].disabled=t);this.refresh()}},_updateIcon:function(t){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=e("<span>"),this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(n+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),this.iconSpace&&(e=e.not(this.iconSpace[0])),e.remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),null!==this.options.label&&this._updateLabel(),t!==this.options.disabled&&this._setOptions({disabled:t})}}]);e.ui.checkboxradio;/*!
 * jQuery UI Button 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
e.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is("input"),e=this.element[0].disabled,null!=e&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===e.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,n){var i="iconPosition"!==t,r=i?this.options.iconPosition:n,a="top"===r||"bottom"===r;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=e("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,n),this._attachIcon(r),a?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=e("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=void 0===e.showLabel?this.options.showLabel:e.showLabel,n=void 0===e.icon?this.options.icon:e.icon;t||n||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){"icon"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,t),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",t),this.element[0].disabled=t,t&&this.element.blur())},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!1!==e.uiBackCompat&&(e.widget("ui.button",e.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,t){if("text"===e)return void this._super("showLabel",t);"showLabel"===e&&(this.options.text=t),"icon"===e&&(this.options.icons.primary=t),"icons"===e&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),this._superApply(arguments)}}),e.fn.button=function(t){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?t.apply(this,arguments):(e.ui.checkboxradio||e.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(e.fn.button),e.fn.buttonset=function(){return e.ui.controlgroup||e.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});e.ui.button;/*!
 * jQuery UI Datepicker 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
e.extend(e.ui,{datepicker:{version:"1.12.1"}});var p;e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return o(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var i,r,a;i=t.nodeName.toLowerCase(),r="div"===i||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),a=this._newInst(e(t),r),a.settings=e.extend({},n||{}),"input"===i?this._connectDatepicker(t,a):r&&this._inlineDatepicker(t,a)},_newInst:function(t,n){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?r(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var i=e(t);n.append=e([]),n.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var i,r,a,o=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),o&&(n.append=e("<span class='"+this._appendClass+"'>"+o+"</span>"),t[s?"before":"after"](n.append)),t.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),i=this._get(n,"showOn"),"focus"!==i&&"both"!==i||t.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(r=this._get(n,"buttonText"),a=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:a,alt:r,title:r}):e("<button type='button'></button>").addClass(this._triggerClass).html(a?e("<img/>").attr({src:a,alt:r,title:r}):r)),t[s?"before":"after"](n.trigger),n.trigger.on("click",function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,r,a=new Date(2009,11,20),o=this._get(e,"dateFormat");o.match(/[DM]/)&&(t=function(e){for(n=0,i=0,r=0;r<e.length;r++)e[r].length>n&&(n=e[r].length,i=r);return i},a.setMonth(t(this._get(e,o.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(t(this._get(e,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),e.input.attr("size",this._formatDate(e,a).length)}},_inlineDatepicker:function(t,n){var i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,i,r,a){var s,l,c,u,d,h=this._dialogInst;return h||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),e("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},e.data(this._dialogInput[0],"datepicker",h)),o(h.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,c/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(t){var n,i=e(t),r=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||i.removeClass(this.markerClassName).empty(),p===r&&(p=null))},_enableDatepicker:function(t){var n,i,r=e(t),a=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||(i=r.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var n,i,r=e(t),a=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||(i=r.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,i){var r,a,s,l,c=this._getInst(t);if(2===arguments.length&&"string"==typeof n)return"defaults"===n?e.extend({},e.datepicker._defaults):c?"all"===n?e.extend({},c.settings):this._get(c,n):null;r=n||{},"string"==typeof n&&(r={},r[n]=i),c&&(this._curInst===c&&this._hideDatepicker(),a=this._getDateDatepicker(t,!0),s=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),o(c.settings,r),null!==s&&void 0!==r.dateFormat&&void 0===r.minDate&&(c.settings.minDate=this._formatDate(c,s)),null!==l&&void 0!==r.dateFormat&&void 0===r.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in r&&(r.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),c),this._autoSize(c),this._setDate(c,a),this._updateAlternate(c),this._updateDatepicker(c))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,i,r,a=e.datepicker._getInst(t.target),o=!0,s=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return r=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",a.dpDiv),r[0]&&e.datepicker._selectDay(t.target,a.selectedMonth,a.selectedYear,r[0]),n=e.datepicker._get(a,"onSelect"),n?(i=e.datepicker._formatDate(a),n.apply(a.input?a.input[0]:null,[i,a])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,"stepBigMonths"):-e.datepicker._get(a,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,"stepBigMonths"):+e.datepicker._get(a,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,i,r=e.datepicker._getInst(t.target);if(e.datepicker._get(r,"constrainInput"))return n=e.datepicker._possibleChars(e.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||i<" "||!n||n.indexOf(i)>-1},_doKeyUp:function(t){var n,i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{n=e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i)),n&&(e.datepicker._setDateFromField(i),e.datepicker._updateAlternate(i),e.datepicker._updateDatepicker(i))}catch(e){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,r,a,s,l,c,u;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),r=e.datepicker._get(i,"beforeShow"),a=r?r.apply(t,[t,i]):{},!1!==a&&(o(i.settings,a),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),s=!1,e(t).parents().each(function(){return!(s|="fixed"===e(this).css("position"))}),l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),l=e.datepicker._checkOffset(i,l,s),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":s?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(c=e.datepicker._get(i,"showAnim"),u=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",n(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[c]?i.dpDiv.show(c,e.datepicker._get(i,"showOptions"),u):i.dpDiv[c||"show"](c?u:null),e.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,p=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n,i=this._getNumberOfMonths(t),r=i[1],o=t.dpDiv.find("."+this._dayOverClass+" a");o.length>0&&a.apply(o.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",17*r+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(n=t.yearshtml,setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,i){var r=t.dpDiv.outerWidth(),a=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?r-o:0,n.left-=i&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=i&&n.top===t.input.offset().top+s?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+a>c&&c>a?Math.abs(a+s):0),n},_findPos:function(t){for(var n,i=this._getInst(t),r=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[r?"previousSibling":"nextSibling"];return n=e(t).offset(),[n.left,n.top]},_hideDatepicker:function(t){var n,i,r,a,o=this._curInst;!o||t&&o!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(o,"showAnim"),i=this._get(o,"duration"),r=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[n]||e.effects[n])?o.dpDiv.hide(n,e.datepicker._get(o,"showOptions"),i,r):o.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,a=this._get(o,"onClose"),a&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),i=e.datepicker._getInst(n[0]);(n[0].id===e.datepicker._mainDivId||0!==n.parents("#"+e.datepicker._mainDivId).length||n.hasClass(e.datepicker.markerClassName)||n.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!n.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===i)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,i){var r=e(t),a=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(a,n+("M"===i?this._get(a,"showCurrentAtPos"):0),i),this._updateDatepicker(a))},_gotoToday:function(t){var n,i=e(t),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(t,n,i){var r=e(t),a=this._getInst(r[0]);a["selected"+("M"===i?"Month":"Year")]=a["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(r)},_selectDay:function(t,n,i,r){var a,o=e(t);e(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||(a=this._getInst(o[0]),a.selectedDay=a.currentDay=e("a",r).html(),a.selectedMonth=a.currentMonth=n,a.selectedYear=a.currentYear=i,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var i,r=e(t),a=this._getInst(r[0]);n=null!=n?n:this._formatDate(a),a.input&&a.input.val(n),this._updateAlternate(a),i=this._get(a,"onSelect"),i?i.apply(a.input?a.input[0]:null,[n,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var n,i,r,a=this._get(t,"altField");a&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),r=this.formatDate(n,i,this._getFormatConfig(t)),e(a).val(r))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,i){if(null==t||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;var r,a,o,s,l=0,c=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,b=-1,y=!1,w=function(e){var n=r+1<t.length&&t.charAt(r+1)===e;return n&&r++,n},x=function(e){var t=w(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,r="y"===e?i:1,a=new RegExp("^\\d{"+r+","+i+"}"),o=n.substring(l).match(a);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},_=function(t,i,r){var a=-1,o=e.map(w(t)?r:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var i=t[1];if(n.substr(l,i.length).toLowerCase()===i.toLowerCase())return a=t[0],l+=i.length,!1}),-1!==a)return a+1;throw"Unknown name at position "+l},k=function(){if(n.charAt(l)!==t.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;r<t.length;r++)if(y)"'"!==t.charAt(r)||w("'")?k():y=!1;else switch(t.charAt(r)){case"d":v=x("d");break;case"D":_("D",d,h);break;case"o":b=x("o");break;case"m":m=x("m");break;case"M":m=_("M",p,f);break;case"y":g=x("y");break;case"@":s=new Date(x("@")),g=s.getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"!":s=new Date((x("!")-this._ticksTo1970)/1e4),g=s.getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"'":w("'")?k():y=!0;break;default:k()}if(l<n.length&&(o=n.substr(l),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=u?0:-100)),b>-1)for(m=1,v=b;;){if(a=this._getDaysInMonth(g,m-1),v<=a)break;m++,v-=a}if(s=this._daylightSavingAdjust(new Date(g,m-1,v)),s.getFullYear()!==g||s.getMonth()+1!==m||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,a=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,l=function(t){var n=i+1<e.length&&e.charAt(i+1)===t;return n&&i++,n},c=function(e,t,n){var i=""+t;if(l(e))for(;i.length<n;)i="0"+i;return i},u=function(e,t,n,i){return l(e)?i[t]:n[t]},d="",h=!1;if(t)for(i=0;i<e.length;i++)if(h)"'"!==e.charAt(i)||l("'")?d+=e.charAt(i):h=!1;else switch(e.charAt(i)){case"d":d+=c("d",t.getDate(),2);break;case"D":d+=u("D",t.getDay(),r,a);break;case"o":d+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",t.getMonth()+1,2);break;case"M":d+=u("M",t.getMonth(),o,s);break;case"y":d+=l("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=e.charAt(i)}return d},_possibleChars:function(e){var t,n="",i=!1,r=function(n){var i=t+1<e.length&&e.charAt(t+1)===n;return i&&t++,i};for(t=0;t<e.length;t++)if(i)"'"!==e.charAt(t)||r("'")?n+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),a=r,o=this._getFormatConfig(e);try{a=this.parseDate(n,i,o)||r}catch(e){i=t?"":i}e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),e.currentDay=i?a.getDate():0,e.currentMonth=i?a.getMonth():0,e.currentYear=i?a.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,i){var r=null==n||""===n?i:"string"==typeof n?function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(e){}for(var i=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,r=i.getFullYear(),a=i.getMonth(),o=i.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=s.exec(n);l;){switch(l[2]||"d"){case"d":case"D":o+=parseInt(l[1],10);break;case"w":case"W":o+=7*parseInt(l[1],10);break;case"m":case"M":a+=parseInt(l[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(r,a));break;case"y":case"Y":r+=parseInt(l[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(r,a))}l=s.exec(n)}return new Date(r,a,o)}(n):"number"==typeof n?isNaN(n)?i:function(e){var t=new Date;return t.setDate(t.getDate()+e),t}(n):new Date(n.getTime());return r=r&&"Invalid Date"===r.toString()?i:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,r=e.selectedMonth,a=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),r===e.selectedMonth&&a===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(i,-n,"M")},next:function(){e.datepicker._adjustDate(i,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){return e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(i,this,"Y"),!1}};e(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,i,r,a,o,s,l,c,u,d,h,p,f,g,m,v,b,y,w,x,_,k,C,S,$,D,T,E,M,A,O,P,I,R,N,L,F,z,j=new Date,H=this._daylightSavingAdjust(new Date(j.getFullYear(),j.getMonth(),j.getDate())),W=this._get(e,"isRTL"),B=this._get(e,"showButtonPanel"),V=this._get(e,"hideIfNoPrevNext"),U=this._get(e,"navigationAsDateFormat"),q=this._getNumberOfMonths(e),Y=this._get(e,"showCurrentAtPos"),K=this._get(e,"stepMonths"),G=1!==q[0]||1!==q[1],X=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(e,"min"),Z=this._getMinMaxDate(e,"max"),Q=e.drawMonth-Y,ee=e.drawYear;if(Q<0&&(Q+=12,ee--),Z)for(t=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-q[0]*q[1]+1,Z.getDate())),t=J&&t<J?J:t;this._daylightSavingAdjust(new Date(ee,Q,1))>t;)--Q<0&&(Q=11,ee--);for(e.drawMonth=Q,e.drawYear=ee,n=this._get(e,"prevText"),n=U?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,Q-K,1)),this._getFormatConfig(e)):n,i=this._canAdjustMonth(e,-1,ee,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+n+"</span></a>":V?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"e":"w")+"'>"+n+"</span></a>",r=this._get(e,"nextText"),r=U?this.formatDate(r,this._daylightSavingAdjust(new Date(ee,Q+K,1)),this._getFormatConfig(e)):r,a=this._canAdjustMonth(e,1,ee,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+r+"</span></a>":V?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(W?"w":"e")+"'>"+r+"</span></a>",o=this._get(e,"currentText"),s=this._get(e,"gotoCurrent")&&e.currentDay?X:H,o=U?this.formatDate(o,s,this._getFormatConfig(e)):o,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(W?l:"")+(this._isInRange(e,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(W?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),g=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),b=this._get(e,"selectOtherMonths"),y=this._getDefaultDate(e),w="",_=0;_<q[0];_++){for(k="",this.maxRows=4,C=0;C<q[1];C++){if(S=this._daylightSavingAdjust(new Date(ee,Q,e.selectedDay)),$=" ui-corner-all",D="",G){if(D+="<div class='ui-datepicker-group",q[1]>1)switch(C){case 0:D+=" ui-datepicker-group-first",$=" ui-corner-"+(W?"right":"left");break;case q[1]-1:D+=" ui-datepicker-group-last",$=" ui-corner-"+(W?"left":"right");break;default:D+=" ui-datepicker-group-middle",$=""}D+="'>"}for(D+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+$+"'>"+(/all|left/.test($)&&0===_?W?a:i:"")+(/all|right/.test($)&&0===_?W?i:a:"")+this._generateMonthYearHeader(e,Q,ee,J,Z,_>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;x<7;x++)E=(x+u)%7,T+="<th scope='col'"+((x+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[E]+"'>"+p[E]+"</span></th>";for(D+=T+"</tr></thead><tbody>",M=this._getDaysInMonth(ee,Q),ee===e.selectedYear&&Q===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,M)),A=(this._getFirstDayOfMonth(ee,Q)-u+7)%7,O=Math.ceil((A+M)/7),P=G&&this.maxRows>O?this.maxRows:O,this.maxRows=P,I=this._daylightSavingAdjust(new Date(ee,Q,1-A)),R=0;R<P;R++){for(D+="<tr>",N=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(I)+"</td>":"",x=0;x<7;x++)L=m?m.apply(e.input?e.input[0]:null,[I]):[!0,""],F=I.getMonth()!==Q,z=F&&!b||!L[0]||J&&I<J||Z&&I>Z,N+="<td class='"+((x+u+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(I.getTime()===S.getTime()&&Q===e.selectedMonth&&e._keyEvent||y.getTime()===I.getTime()&&y.getTime()===S.getTime()?" "+this._dayOverClass:"")+(z?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+L[1]+(I.getTime()===X.getTime()?" "+this._currentClass:"")+(I.getTime()===H.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(z?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":z?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===H.getTime()?" ui-state-highlight":"")+(I.getTime()===X.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);D+=N+"</tr>"}Q++,Q>11&&(Q=0,ee++),D+="</tbody></table>"+(G?"</div>"+(q[0]>0&&C===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=D}w+=k}return w+=c,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,n,i,r,a,o,s){var l,c,u,d,h,p,f,g,m=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",w="";if(a||!m)w+="<span class='ui-datepicker-month'>"+o[t]+"</span>";else{for(l=i&&i.getFullYear()===n,c=r&&r.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=i.getMonth())&&(!c||u<=r.getMonth())&&(w+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+s[u]+"</option>");w+="</select>"}if(b||(y+=w+(!a&&m&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",a||!v)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},f=p(d[0]),g=Math.max(f,p(d[1]||"")),f=i?Math.max(f,i.getFullYear()):f,g=r?Math.min(g,r.getFullYear()):g,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=g;f++)e.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),b&&(y+=(!a&&m&&v?"":"&#xa0;")+w),y+="</div>"},_adjustInstDate:function(e,t,n){var i=e.selectedYear+("Y"===n?t:0),r=e.selectedMonth+("M"===n?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(i,r))+("D"===n?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,r,a)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),r=n&&t<n?n:t;return i&&r>i?i:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var r=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(n,i+(t<0?t:r[0]*r[1]),1));return t<0&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var n,i,r=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),o=null,s=null,l=this._get(e,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),o=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(o+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!r||t.getTime()>=r.getTime())&&(!a||t.getTime()<=a.getTime())&&(!o||t.getFullYear()>=o)&&(!s||t.getFullYear()<=s)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear)
;var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).on("mousedown",e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.12.1";var f=(e.datepicker,e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),!1);e(document).on("mouseup",function(){f=!1});e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!f){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,i=1===t.which,r=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(i&&!r&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),f=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,f=!1,t.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),e.ui.plugin={add:function(t,n,i){var r,a=e.ui[t].prototype;for(r in i)a.plugins[r]=a.plugins[r]||[],a.plugins[r].push([n,i[r]])},call:function(e,t,n,i){var r,a=e.plugins[t];if(a&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;r<a.length;r++)e.options[a[r][0]]&&a[r][1].apply(e.element,n)}},e.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&e(t).trigger("blur")};/*!
 * jQuery UI Draggable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
e.widget("ui.draggable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging"))return void(this.destroyOnClear=!0);this._removeHandleClassName(),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=e.ui.safeActiveElement(this.document[0]);e(t.target).closest(n).length||e.ui.safeBlur(n)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",t,i))return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",t)&&n._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper),r=i?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options,a=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=e(r.containment),void((i=n[0])&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i,r,a,o=this.options,s=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),o.grid&&(r=o.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-o.grid[1]:r+o.grid[1]:r,a=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=n?a-this.offset.click.left>=n[0]||a-this.offset.click.left>n[2]?a:a-this.offset.click.left>=n[0]?a-o.grid[0]:a+o.grid[0]:a),"y"===o.axis&&(l=this.originalPageX),"x"===o.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,i){var r=e.extend({},n,{item:i.element});i.sortables=[],e(i.options.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,r))})},stop:function(t,n,i){var r=e.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,e.each(i.sortables,function(){var e=this;e.isOver?(e.isOver=0,i.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,r))})},drag:function(t,n,i){e.each(i.sortables,function(){var r=!1,a=this;a.positionAbs=i.positionAbs,a.helperProportions=i.helperProportions,a.offset.click=i.offset.click,a._intersectsWith(a.containerCache)&&(r=!0,e.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&e.contains(a.element[0],this.element[0])&&(r=!1),r})),r?(a.isOver||(a.isOver=1,i._parent=n.helper.parent(),a.currentItem=n.helper.appendTo(a.element).data("ui-sortable-item",!0),a.options._helper=a.options.helper,a.options.helper=function(){return n.helper[0]},t.target=a.currentItem[0],a._mouseCapture(t,!0),a._mouseStart(t,!0,!0),a.offset.click.top=i.offset.click.top,a.offset.click.left=i.offset.click.left,a.offset.parent.left-=i.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=i.offset.parent.top-a.offset.parent.top,i._trigger("toSortable",t),i.dropped=a.element,e.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,a.fromOutside=i),a.currentItem&&(a._mouseDrag(t),n.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger("out",t,a._uiHash(a)),a._mouseStop(t,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(t),n.position=i._generatePosition(t,!0),i._trigger("fromSortable",t),i.dropped=!1,e.each(i.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,i){var r=e("body"),a=i.options;r.css("cursor")&&(a._cursor=r.css("cursor")),r.css("cursor",a.cursor)},stop:function(t,n,i){var r=i.options;r._cursor&&e("body").css("cursor",r._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,i){var r=e(n.helper),a=i.options;r.css("opacity")&&(a._opacity=r.css("opacity")),r.css("opacity",a.opacity)},stop:function(t,n,i){var r=i.options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,i){var r=i.options,a=!1,o=i.scrollParentNotHidden[0],s=i.document[0];o!==s&&"HTML"!==o.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+o.offsetHeight-t.pageY<r.scrollSensitivity?o.scrollTop=a=o.scrollTop+r.scrollSpeed:t.pageY-i.overflowOffset.top<r.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+o.offsetWidth-t.pageX<r.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+r.scrollSpeed:t.pageX-i.overflowOffset.left<r.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(t.pageY-e(s).scrollTop()<r.scrollSensitivity?a=e(s).scrollTop(e(s).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(s).scrollTop())<r.scrollSensitivity&&(a=e(s).scrollTop(e(s).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(t.pageX-e(s).scrollLeft()<r.scrollSensitivity?a=e(s).scrollLeft(e(s).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(s).scrollLeft())<r.scrollSensitivity&&(a=e(s).scrollLeft(e(s).scrollLeft()+r.scrollSpeed)))),!1!==a&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,i){var r=i.options;i.snapElements=[],e(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var t=e(this),n=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,i){var r,a,o,s,l,c,u,d,h,p,f=i.options,g=f.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,b=n.offset.top,y=b+i.helperProportions.height;for(h=i.snapElements.length-1;h>=0;h--)l=i.snapElements[h].left-i.margins.left,c=l+i.snapElements[h].width,u=i.snapElements[h].top-i.margins.top,d=u+i.snapElements[h].height,v<l-g||m>c+g||y<u-g||b>d+g||!e.contains(i.snapElements[h].item.ownerDocument,i.snapElements[h].item)?(i.snapElements[h].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(r=Math.abs(u-y)<=g,a=Math.abs(d-b)<=g,o=Math.abs(l-v)<=g,s=Math.abs(c-m)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:u-i.helperProportions.height,left:0}).top),a&&(n.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),o&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c}).left)),p=r||a||o||s,"outer"!==f.snapMode&&(r=Math.abs(u-b)<=g,a=Math.abs(d-y)<=g,o=Math.abs(l-m)<=g,s=Math.abs(c-v)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:u,left:0}).top),a&&(n.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),o&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:c-i.helperProportions.width}).left)),!i.snapElements[h].snapping&&(r||a||o||s||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=r||a||o||s||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,i){var r,a=i.options,o=e.makeArray(e(a.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});o.length&&(r=parseInt(e(o[0]).css("zIndex"),10)||0,e(o).each(function(t){e(this).css("zIndex",r+t)}),this.css("zIndex",r+o.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,i){var r=e(n.helper),a=i.options;r.css("zIndex")&&(a._zIndex=r.css("zIndex")),r.css("zIndex",a.zIndex)},stop:function(t,n,i){var r=i.options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}});e.ui.draggable;/*!
 * jQuery UI Resizable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
e.widget("ui.resizable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0||(t[i]=1,r=t[i]>0,t[i]=0,r)},_create:function(){var t,n=this.options,i=this;this._addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),n.autoHide&&e(this.element).on("mouseenter",function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var t,n,i,r,a,o=this.options,s=this;if(this.handles=o.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;n<i.length;n++)t=e.trim(i[n]),r="ui-resizable-"+t,a=e("<div>"),this._addClass(a,"ui-resizable-handle "+r),a.css({zIndex:o.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(a);this._renderAxis=function(t){var n,i,r,a;t=t||this.element;for(n in this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=e(this.handles[n],this.element),a=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(r,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){s.resizing||(this.className&&(a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=a&&a[1]?a[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var n,i,r=!1;for(n in this.handles)((i=e(this.handles[n])[0])===t.target||e.contains(i,t.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(t){var n,i,r,a=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),a.containment&&(n+=e(a.containment).scrollLeft()||0,i+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,i,r=this.originalMousePosition,a=this.axis,o=t.pageX-r.left||0,s=t.pageY-r.top||0,l=this._change[a];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[t,o,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var n,i,r,a,o,s,l,c=this.options,u=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&this._hasScroll(n[0],"left")?0:u.sizeDiff.height,a=i?0:u.sizeDiff.width,o={width:u.helper.width()-a,height:u.helper.height()-r},s=parseFloat(u.element.css("left"))+(u.position.left-u.originalPosition.left)||null,l=parseFloat(u.element.css("top"))+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(o,{top:l,left:s})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,i,r,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,i=a.minWidth/this.aspectRatio,n=a.maxHeight*this.aspectRatio,r=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),i>a.minHeight&&(a.minHeight=i),n<a.maxWidth&&(a.maxWidth=n),r<a.maxHeight&&(a.maxHeight=r)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,s=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return a&&(e.width=t.minWidth),o&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),a&&c&&(e.left=s-t.minWidth),i&&c&&(e.left=s-t.maxWidth),o&&u&&(e.top=l-t.minHeight),r&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],r=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)n[t]=parseFloat(i[t])||0,n[t]+=parseFloat(r[t])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,a=r.length&&/textarea/i.test(r[0].nodeName),o=a&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,s=a?0:n.sizeDiff.width,l={width:n.size.width-s,height:n.size.height-o},c=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,u=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&e(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,i,r,a,o,s,l=e(this).resizable("instance"),c=l.options,u=l.element,d=c.containment,h=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;h&&(l.containerElement=e(h),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,i){n[e]=l._num(t.css("padding"+i))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,a=l.containerSize.width,o=l._hasScroll(h,"left")?h.scrollWidth:a,s=l._hasScroll(h)?h.scrollHeight:r,l.parentData={element:h,left:i.left,top:i.top,width:o,height:s}))},resize:function(t){var n,i,r,a,o=e(this).resizable("instance"),s=o.options,l=o.containerOffset,c=o.position,u=o._aspectRatio||t.shiftKey,d={top:0,left:0},h=o.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),c.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-d.left),u&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=s.helper?l.left:0),c.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),u&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?l.top:0),r=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),r&&a?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),n=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-d.left:o.offset.left-l.left)),i=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-d.top:o.offset.top-l.top)),n+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-n,u&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),i+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-i,u&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,i=t.containerOffset,r=t.containerPosition,a=t.containerElement,o=e(t.helper),s=o.offset(),l=o.outerWidth()-t.sizeDiff.width,c=o.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(a.css("position"))&&e(this).css({left:s.left-r.left-i.left,width:l,height:c}),t._helper&&!n.animate&&/static/.test(a.css("position"))&&e(this).css({left:s.left-r.left-i.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),n=t.options;e(n.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,n){var i=e(this).resizable("instance"),r=i.options,a=i.originalSize,o=i.originalPosition,s={height:i.size.height-a.height||0,width:i.size.width-a.width||0,top:i.position.top-o.top||0,left:i.position.left-o.left||0};e(r.alsoResize).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),r={},a=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(a,function(e,t){var n=(i[t]||0)+(s[t]||0);n&&n>=0&&(r[t]=n||null)}),t.css(r)})},stop:function(){e(this).removeData("ui-resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==e.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),i=n.options,r=n.size,a=n.originalSize,o=n.originalPosition,s=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,c=l[0]||1,u=l[1]||1,d=Math.round((r.width-a.width)/c)*c,h=Math.round((r.height-a.height)/u)*u,p=a.width+d,f=a.height+h,g=i.maxWidth&&i.maxWidth<p,m=i.maxHeight&&i.maxHeight<f,v=i.minWidth&&i.minWidth>p,b=i.minHeight&&i.minHeight>f;i.grid=l,v&&(p+=c),b&&(f+=u),g&&(p-=c),m&&(f-=u),/^(se|s|e)$/.test(s)?(n.size.width=p,n.size.height=f):/^(ne)$/.test(s)?(n.size.width=p,n.size.height=f,n.position.top=o.top-h):/^(sw)$/.test(s)?(n.size.width=p,n.size.height=f,n.position.left=o.left-d):((f-u<=0||p-c<=0)&&(t=n._getPaddingPlusBorderDimensions(this)),f-u>0?(n.size.height=f,n.position.top=o.top-h):(f=u-t.height,n.size.height=f,n.position.top=o.top+a.height-f),p-c>0?(n.size.width=p,n.position.left=o.left-d):(p=c-t.width,n.size.width=p,n.position.left=o.left+a.width-p))}});e.ui.resizable;/*!
 * jQuery UI Dialog 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
e.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;n<0&&e(this).css("top",t.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||e.ui.safeBlur(e.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),a=Math.max.apply(null,r);return a>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",a+1),i=!0),i&&!n&&this._trigger("focus",t),i},open:function(){var t=this;if(this._isOpen)return void(this._moveToTop()&&this._focusTabbable());this._isOpen=!0,this.opener=e(e.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open")},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).trigger("focus")},_keepFocus:function(t){function n(){var t=e.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");t.target!==r[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==i[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){r.trigger("focus")}),t.preventDefault()):(this._delay(function(){i.trigger("focus")}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:e("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;if(this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(n)||e.isArray(n)&&!n.length)return void this._removeClass(this.uiDialog,"ui-dialog-buttons");e.each(n,function(n,i){var r,a;i=e.isFunction(i)?{click:i,text:n}:i,i=e.extend({type:"button"},i),r=i.click,a={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel,icons:i.icons,text:i.text},delete i.click,delete i.icon,delete i.iconPosition,delete i.showLabel,delete i.icons,"boolean"==typeof i.text&&delete i.text,e("<button></button>",i).button(a).appendTo(t.uiButtonSet).on("click",function(){r.apply(t.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){n._addClass(e(this),"ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",i,t(r))},drag:function(e,i){n._trigger("drag",e,t(i))},stop:function(r,a){var o=a.offset.left-n.document.scrollLeft(),s=a.offset.top-n.document.scrollTop();i.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(s>=0?"+":"")+s,of:n.window},n._removeClass(e(this),"ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",r,t(a))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var n=this,i=this.options,r=i.resizable,a=this.uiDialog.css("position"),o="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:o,start:function(i,r){n._addClass(e(this),"ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",i,t(r))},resize:function(e,i){n._trigger("resize",e,t(i))},stop:function(r,a){var o=n.uiDialog.offset(),s=o.left-n.document.scrollLeft(),l=o.top-n.document.scrollTop();i.height=n.uiDialog.height(),i.width=n.uiDialog.width(),i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(l>=0?"+":"")+l,of:n.window},n._removeClass(e(this),"ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",r,t(a))}}).css("position",a)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),n=e.inArray(this,t);-1!==n&&t.splice(n,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var n=this,i=!1,r={};e.each(t,function(e,t){n._setOption(e,t),e in n.sizeRelatedOptions&&(i=!0),e in n.resizableRelatedOptions&&(r[e]=t)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(t,n){var i,r,a=this.uiDialog;"disabled"!==t&&(this._super(t,n),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:e("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&(i=a.is(":data(ui-draggable)"),i&&!n&&a.draggable("destroy"),!i&&n&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(r=a.is(":data(ui-resizable)"),r&&!n&&a.resizable("destroy"),r&&"string"==typeof n&&a.resizable("option","handles",n),r||!1===n||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),e=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),t=Math.max(0,i.minHeight-e),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-e):"none","auto"===i.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==e.uiBackCompat&&e.widget("ui.dialog",e.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}});e.ui.dialog;/*!
 * jQuery UI Droppable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
e.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var i=e.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var i=n||e.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=e(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&g(i,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,t))return r=!0,!1}),!r&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(i)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var g=e.ui.intersect=function(){function e(e,t,n){return e>=t&&e<t+n}return function(t,n,i,r){if(!n.offset)return!1;var a=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,s=a+t.helperProportions.width,l=o+t.helperProportions.height,c=n.offset.left,u=n.offset.top,d=c+n.proportions().width,h=u+n.proportions().height;switch(i){case"fit":return c<=a&&s<=d&&u<=o&&l<=h;case"intersect":return c<a+t.helperProportions.width/2&&s-t.helperProportions.width/2<d&&u<o+t.helperProportions.height/2&&l-t.helperProportions.height/2<h;case"pointer":return e(r.pageY,u,n.proportions().height)&&e(r.pageX,c,n.proportions().width);case"touch":return(o>=u&&o<=h||l>=u&&l<=h||o<u&&l>h)&&(a>=c&&a<=d||s>=c&&s<=d||a<c&&s>d);default:return!1}}}();e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,n){var i,r,a=e.ui.ddmanager.droppables[t.options.scope]||[],o=n?n.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(i=0;i<a.length;i++)if(!(a[i].options.disabled||t&&!a[i].accept.call(a[i].element[0],t.currentItem||t.element))){for(r=0;r<s.length;r++)if(s[r]===a[i].element[0]){a[i].proportions().height=0;continue e}a[i].visible="none"!==a[i].element.css("display"),a[i].visible&&("mousedown"===o&&a[i]._activate.call(a[i],n),a[i].offset=a[i].element.offset(),a[i].proportions({width:a[i].element[0].offsetWidth,height:a[i].element[0].offsetHeight}))}},drop:function(t,n){var i=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&g(t,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(t,n){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,a,o=g(t,this,this.options.tolerance,n),s=!o&&this.isover?"isout":o&&!this.isover?"isover":null;s&&(this.options.greedy&&(r=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===r}),a.length&&(i=e(a[0]).droppable("instance"),i.greedyChild="isover"===s)),i&&"isover"===s&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,n),i&&"isout"===s&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(t,n){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}},!1!==e.uiBackCompat&&e.widget("ui.droppable",e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});e.ui.droppable,e.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=e("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(e){if(void 0===e)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(n.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t.elementPos=e(t.element[0]).offset(),t.selectees=e(t.options.filter,t.element[0]),t._addClass(t.selectees,"ui-selectee"),t.selectees.each(function(){var n=e(this),i=n.offset(),r={left:i.left-t.elementPos.left,top:i.top-t.elementPos.top};e.data(this,"selectable-item",{element:this,$element:n,left:r.left,top:r.top,right:r.left+n.outerWidth(),bottom:r.top+n.outerHeight(),startselected:!1,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=e("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(t){var n=this,i=this.options;this.opos=[t.pageX,t.pageY],this.elementPos=e(this.element[0]).offset(),this.options.disabled||(this.selectees=e(i.filter,this.element[0]),this._trigger("start",t),e(i.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=e.data(this,"selectable-item");i.startselected=!0,t.metaKey||t.ctrlKey||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element}))}),e(t.target).parents().addBack().each(function(){var i,r=e.data(this,"selectable-item");if(r)return i=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),n._removeClass(r.$element,i?"ui-unselecting":"ui-selected")._addClass(r.$element,i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",t,{selecting:r.element}):n._trigger("unselecting",t,{unselecting:r.element}),!1}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,a=this.opos[0],o=this.opos[1],s=t.pageX,l=t.pageY;return a>s&&(n=s,s=a,a=n),o>l&&(n=l,l=o,o=n),this.helper.css({left:a,top:o,width:s-a,height:l-o}),this.selectees.each(function(){var n=e.data(this,"selectable-item"),c=!1,u={};n&&n.element!==i.element[0]&&(u.left=n.left+i.elementPos.left,u.right=n.right+i.elementPos.left,u.top=n.top+i.elementPos.top,u.bottom=n.bottom+i.elementPos.top,"touch"===r.tolerance?c=!(u.left>s||u.right<a||u.top>l||u.bottom<o):"fit"===r.tolerance&&(c=u.left>a&&u.right<s&&u.top>o&&u.bottom<l),c?(n.selected&&(i._removeClass(n.$element,"ui-selected"),n.selected=!1),n.unselecting&&(i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1),n.selecting||(i._addClass(n.$element,"ui-selecting"),n.selecting=!0,i._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,i._addClass(n.$element,"ui-selected"),n.selected=!0):(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,n.startselected&&(i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element})))))}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",t,{unselected:i.element})}),e(".ui-selecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",t,{selected:i.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.selectmenu",[e.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=e()},_drawButton:function(){var t,n=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),t=e("<span>").appendTo(this.button),this._addClass(t,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){n._rendered||n._refreshMenu()})},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(e,n){e.preventDefault(),t._setSelection(),t._select(n.item.data("ui-selectmenu-item"),e)},focus:function(e,n){var i=n.item.data("ui-selectmenu-item");null!=t.focusIndex&&i.index!==t.focusIndex&&(t._trigger("focus",e,{item:i}),t.isOpen||t._select(i,e)),t.focusIndex=i.index,t.button.attr("aria-activedescendant",t.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var e,t=this.element.find("option");this.menu.empty(),this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,t.length&&(e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e)))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var n=e("<span>");return this._setText(n,t.label),this._addClass(n,"ui-selectmenu-text"),n},_renderMenu:function(t,n){var i=this,r="";e.each(n,function(n,a){var o;a.optgroup!==r&&(o=e("<li>",{text:a.optgroup}),i._addClass(o,"ui-selectmenu-optgroup","ui-menu-divider"+(a.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),o.appendTo(t),r=a.optgroup),i._renderItemData(t,a)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,n){var i=e("<li>"),r=e("<div>",{title:n.element.attr("title")});return n.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(r,n.label),i.append(r).appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),i="first"===e||"last"===e?n["first"===e?"prevAll":"nextAll"](r).eq(-1):n[e+"All"](r).eq(0),i.length&&this.menuInstance.focus(t,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+e.ui.escapeSelector(this.ids.button)).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var n=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),n=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),n=!1}n&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex).parent("li");t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e)),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==n&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){if("icons"===e){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,t.button)}this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"width"===e&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e),this.menuInstance.option("disabled",e),this.button.attr("aria-disabled",e),this._toggleClass(this.button,null,"ui-state-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;if(!1===e)return void this.button.css("width","");null===e&&(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();return e.disabled=this.element.prop("disabled"),e},_parseOptions:function(t){var n=this,i=[];t.each(function(t,r){i.push(n._parseOption(e(r),t))}),this.items=i},_parseOption:function(e,t){var n=e.parent("optgroup");return{element:e,index:t,value:e.val(),label:e.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||e.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),e.widget("ui.slider",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,i=this.options,r=this.element.find(".ui-slider-handle"),a=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),t=r.length;t<n;t++)a.push("<span tabindex='0'></span>");this.handles=r.add(e(a.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=e("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var n,i,r,a,o,s,l,c=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(i-c.values(t));(r>n||r===n&&(t===c._lastChangedValue||c.values(t)===u.min))&&(r=n,a=e(this),o=t)}),!1!==this._start(t,o)&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(a,null,"ui-state-active"),a.trigger("focus"),s=a.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-s.left-a.width()/2,top:t.pageY-s.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,r,a;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/t,i>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),a=this._valueMin()+i*r,this._trimAlignValue(a)},_uiHash:function(e,t,n){var i={handle:this.handles[e],handleIndex:e,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==t?t:this.values(e),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,n){var i,r=this.value(),a=this.values();this._hasMultipleValues()&&(i=this.values(t?0:1),r=this.values(t),2===this.options.values.length&&!0===this.options.range&&(n=0===t?Math.min(i,n):Math.max(i,n)),a[t]=n),n!==r&&!1!==this._trigger("slide",e,this._uiHash(t,n,a))&&(this._hasMultipleValues()?this.values(t,n):this.value(n))},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var i,r,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this._hasMultipleValues()?this._values(t):this.value();for(i=this.options.values,r=arguments[0],a=0;a<i.length;a+=1)i[a]=this._trimAlignValue(r[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,n){var i,r=0;switch("range"===t&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(r=this.options.values.length),this._super(t,n),t){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=r-1;i>=0;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=n>0?t:-t),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step;e=Math.round((e-t)/n)*n+t,e>this.options.max&&(e-=n),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,n,i,r,a,o=this.options.range,s=this.options,l=this,c=!this._animateOff&&s.animate,u={};this._hasMultipleValues()?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[c?"animate":"css"](u,s.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:s.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},s.animate),1===i&&l.range[c?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:s.animate}))),t=n}):(i=this.value(),r=this._valueMin(),a=this._valueMax(),n=a!==r?(i-r)/(a-r)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](u,s.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},s.animate),"max"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:100-n+"%"},s.animate),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},s.animate),"max"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:100-n+"%"},s.animate))},_handleEvents:{keydown:function(t){var n,i,r,a=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(e(t.target),null,"ui-state-active"),!1===this._start(t,a)))return}switch(r=this.options.step,n=i=this._hasMultipleValues()?this.values(a):this.value(),t.keyCode){case e.ui.keyCode.HOME:i=this._valueMin();break;case e.ui.keyCode.END:i=this._valueMax();break;case e.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+r);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-r)}this._slide(t,a,i)},keyup:function(t){
var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),this._removeClass(e(t.target),null,"ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&e<t+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),e.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var i=null,r=!1,a=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,a.widgetName+"-item")===a)return i=e(this),!1}),e.data(t.target,a.widgetName+"-item")===a&&(i=e(t.target)),!!i&&(!(this.options.handle&&!n&&(e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,n,i){var r,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,r,a,o=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==s&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],(a=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===a?"next":"prev"]()[0]===r||e.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&e.contains(this.element[0],r))){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,r=this.placeholder.offset(),a=this.options.axis,o={};a&&"x"!==a||(o.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),a&&"y"!==a||(o.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new e.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,a=e.left,o=a+e.width,s=e.top,l=s+e.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||i+c>s&&i+c<l,h="y"===this.options.axis||t+u>a&&t+u<o,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:a<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&s<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!(!i||!r)&&(t=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){s.push(this)}var i,r,a,o,s=[],l=[],c=this._connectWith();if(c&&t)for(i=c.length-1;i>=0;i--)for(a=e(c[i],this.document[0]),r=a.length-1;r>=0;r--)(o=e.data(a[r],this.widgetFullName))&&o!==this&&!o.options.disabled&&l.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return e(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,r,a,o,s,l,c,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(r=e(h[n],this.document[0]),i=r.length-1;i>=0;i--)(a=e.data(r[i],this.widgetFullName))&&a!==this&&!a.options.disabled&&(d.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(n=d.length-1;n>=0;n--)for(o=d[n][1],s=d[n][0],i=0,c=s.length;i<c;i++)l=e(s[i]),l.data(this.widgetName+"-item",o),u.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,a;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=r.outerWidth(),i.height=r.outerHeight()),a=r.offset(),i.left=a.left,i.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)a=this.containers[n].element.offset(),this.containers[n].containerCache.left=a.left,this.containers[n].containerCache.top=a.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+i+">",t.document[0]);return t._addClass(r,"ui-sortable-placeholder",n||t.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===i?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(r)):"tr"===i?t._createTrPlaceholder(t.currentItem,r):"img"===i&&r.attr("src",t.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(e,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var i=this;t.children().each(function(){e("<td>&#160;</td>",i.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(t){var n,i,r,a,o,s,l,c,u,d,h=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&e.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(r=1e4,a=null,u=h.floating||this._isFloating(this.currentItem),o=u?"left":"top",s=u?"width":"height",d=u?"pageX":"pageY",i=this.items.length-1;i>=0;i--)e.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[o],c=!1,t[d]-l>this.items[i][s]/2&&(c=!0),Math.abs(t[d]-l)<r&&(r=Math.abs(t[d]-l),a=this.items[i],this.direction=c?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],n=e(r.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:r.scrollLeft())*i}},_generatePosition:function(t){var n,i,r=this.options,a=t.pageX,o=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1],o=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0],a=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){function n(e,t,n){return function(i){n._trigger(e,i,t._uiHash(t))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;i<r.length;i++)r[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}});e.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t=this._super(),n=this.element;return e.each(["min","max","step"],function(e,i){var r=n.attr(i);null!=r&&r.length&&(t[i]=r)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){if(this.cancelBlur)return void delete this.cancelBlur;this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e)},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function n(){this.element[0]===e.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===e.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),t.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(e(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var n=this.options,i=e.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,n.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,n)},e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:n})||(this._value(n),this.counter++)},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,i=this.options;return t=null!==i.min?i.min:0,n=e-t,n=Math.round(n/i.step)*i.step,e=t+n,e=parseFloat(e.toFixed(this._precision())),null!==i.max&&e>i.max?i.max:null!==i.min&&e<i.min?i.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){var n,i,r;if("culture"===e||"numberFormat"===e)return n=this._parse(this.element.val()),this.options[e]=t,void this.element.val(this._format(n));"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,t.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,t.down)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable")},_setOptions:s(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var n;""!==e&&null!==(n=this._parse(e))&&(t||(n=this._adjustValue(n)),e=this._format(n)),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:s(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:s(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:s(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:s(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());s(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),!1!==e.uiBackCompat&&e.widget("ui.spinner",e.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});e.ui.spinner;/*!
 * jQuery UI Tabs 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
e.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var n,i;n=t.href.replace(e,""),i=location.href.replace(e,"");try{n=decodeURIComponent(n)}catch(e){}try{i=decodeURIComponent(i)}catch(e){}return t.hash.length>1&&n===i}}(),_create:function(){var t=this,n=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,n.collapsible),this._processTabs(),n.active=this._initialActive(),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(n.active):this.active=e(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var t=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===t&&(i&&this.tabs.each(function(n,r){if(e(r).attr("aria-controls")===i)return t=n,!1}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==t&&-1!==t||(t=!!this.tabs.length&&0)),!1!==t&&-1===(t=this.tabs.index(this.tabs.eq(t)))&&(t=!n&&0),!n&&!1===t&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(e.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:i++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:r=!1,i--;break;case e.ui.keyCode.END:i=this.anchors.length-1;break;case e.ui.keyCode.HOME:i=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),t.ctrlKey||t.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,n){for(var i=this.tabs.length-1;-1!==e.inArray(function(){return t>i&&(t=0),t<0&&(t=i),t}(),this.options.disabled);)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).trigger("focus"),e},_setOption:function(e,t){if("active"===e)return void this._activate(t);this._super(e,t),"collapsible"===e&&(this._toggleClass("ui-tabs-collapsible",null,t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),function(e){return n.index(e)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=e(),this.anchors.each(function(n,i){var r,a,o,s=e(i).uniqueId().attr("id"),l=e(i).closest("li"),c=l.attr("aria-controls");t._isLocal(i)?(r=i.hash,o=r.substring(1),a=t.element.find(t._sanitizeSelector(r))):(o=l.attr("aria-controls")||e({}).uniqueId()[0].id,r="#"+o,a=t.element.find(r),a.length||(a=t._createPanel(o),a.insertAfter(t.panels[n-1]||t.tablist)),a.attr("aria-live","polite")),a.length&&(t.panels=t.panels.add(a)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":o,"aria-labelledby":s}),a.attr("aria-labelledby",s)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(t){var n,i,r;for(e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1),r=0;i=this.tabs[r];r++)n=e(i),!0===t||-1!==e.inArray(r,t)?(n.attr("aria-disabled","true"),this._addClass(n,null,"ui-state-disabled")):(n.removeAttr("aria-disabled"),this._removeClass(n,null,"ui-state-disabled"));this.options.disabled=t,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===t)},_setupEvents:function(t){var n={};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,i=this.element.parent();"fill"===t?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),i=t.css("position");"absolute"!==i&&"fixed"!==i&&(n-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,e(this).height("").height())}).height(n))},_eventHandler:function(t){var n=this.options,i=this.active,r=e(t.currentTarget),a=r.closest("li"),o=a[0]===i[0],s=o&&n.collapsible,l=s?e():this._getPanelForTab(a),c=i.length?this._getPanelForTab(i):e(),u={oldTab:i,oldPanel:c,newTab:s?e():a,newPanel:l};t.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||o&&!n.collapsible||!1===this._trigger("beforeActivate",t,u)||(n.active=!s&&this.tabs.index(a),this.active=o?e():a,this.xhr&&this.xhr.abort(),c.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(a),t),this._toggle(t,u))},_toggle:function(t,n){function i(){a.running=!1,a._trigger("activate",t,n)}function r(){a._addClass(n.newTab.closest("li"),"ui-tabs-active","ui-state-active"),o.length&&a.options.show?a._show(o,a.options.show,i):(o.show(),i())}var a=this,o=n.newPanel,s=n.oldPanel;this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,function(){a._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r()}):(this._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),s.hide(),r()),s.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),o.length&&s.length?n.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var n,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+e.ui.escapeSelector(t)+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var n=this.options.disabled;!1!==n&&(void 0===t?n=!1:(t=this._getIndex(t),n=e.isArray(n)?e.map(n,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,n){return n!==t?n:null})),this._setOptionDisabled(n))},disable:function(t){var n=this.options.disabled;if(!0!==n){if(void 0===t)n=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,n))return;n=e.isArray(n)?e.merge([t],n).sort():[t]}this._setOptionDisabled(n)}},load:function(t,n){t=this._getIndex(t);var i=this,r=this.tabs.eq(t),a=r.find(".ui-tabs-anchor"),o=this._getPanelForTab(r),s={tab:r,panel:o},l=function(e,t){"abort"===t&&i.panels.stop(!1,!0),i._removeClass(r,"ui-tabs-loading"),o.removeAttr("aria-busy"),e===i.xhr&&delete i.xhr};this._isLocal(a[0])||(this.xhr=e.ajax(this._ajaxSettings(a,n,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(r,"ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(e,t,r){setTimeout(function(){o.html(e),i._trigger("load",n,s),l(r,t)},1)}).fail(function(e,t){setTimeout(function(){l(e,t)},1)})))},_ajaxSettings:function(t,n,i){var r=this;return{url:t.attr("href").replace(/#.*$/,""),beforeSend:function(t,a){return r._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:a},i))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),!1!==e.uiBackCompat&&e.widget("ui.tabs",e.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});e.ui.tabs;/*!
 * jQuery UI Tooltip 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
e.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(t,n){var i=(t.attr("aria-describedby")||"").split(/\s+/);i.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(i.join(" ")))},_removeDescribedBy:function(t){var n=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),r=e.inArray(n,i);-1!==r&&i.splice(r,1),t.removeData("ui-tooltip-id"),i=e.trim(i.join(" ")),i?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=e([])},_setOption:function(t,n){var i=this;this._super(t,n),"content"===t&&e.each(this.tooltips,function(e,t){i._updateContent(t.element)})},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var t=this;e.each(this.tooltips,function(n,i){var r=e.Event("blur");r.target=r.currentTarget=i.element[0],t.close(r,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var t=e(this);if(t.is("[title]"))return t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}),this.disabledTitles=e([])},open:function(t){var n=this,i=e(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each(function(){var t,i=e(this);i.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,n.close(t,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._registerCloseHandlers(t,i),this._updateContent(i,t))},_updateContent:function(e,t){var n,i=this.options.content,r=this,a=t?t.type:null;if("string"==typeof i||i.nodeType||i.jquery)return this._open(t,e,i);(n=i.call(e[0],function(n){r._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=a),this._open(t,e,n))})}))&&this._open(t,e,n)},_open:function(t,n,i){function r(e){c.of=e,o.is(":hidden")||o.position(c)}var a,o,s,l,c=e.extend({},this.options.position);if(i){if(a=this._find(n))return void a.tooltip.find(".ui-tooltip-content").html(i);n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title")),a=this._tooltip(n),o=a.tooltip,this._addDescribedBy(n,o.attr("id")),o.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),l=e("<div>").html(o.find(".ui-tooltip-content").html()),l.removeAttr("name").find("[name]").removeAttr("name"),l.removeAttr("id").find("[id]").removeAttr("id"),l.appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:r}),r(t)):o.position(e.extend({of:n},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){o.is(":visible")&&(r(c.of),clearInterval(s))},e.fx.interval)),this._trigger("open",t,{tooltip:o})}},_registerCloseHandlers:function(t,n){var i={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(t);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),t&&"mouseover"!==t.type||(i.mouseleave="close"),t&&"focusin"!==t.type||(i.focusout="close"),this._on(!0,n,i)},close:function(t){var n,i=this,r=e(t?t.currentTarget:this.element),a=this._find(r);if(!a)return void r.removeData("ui-tooltip-open");n=a.tooltip,a.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),a.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(e(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,n){e(n.element).attr("title",n.title),delete i.parents[t]}),a.closing=!0,this._trigger("close",t,{tooltip:n}),a.hiding||(a.closing=!1))},_tooltip:function(t){var n=e("<div>").attr("role","tooltip"),i=e("<div>").appendTo(n),r=n.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(n,"ui-tooltip","ui-widget ui-widget-content"),n.appendTo(this._appendTo(t)),this.tooltips[r]={element:t,tooltip:n}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_appendTo:function(e){var t=e.closest(".ui-front, dialog");return t.length||(t=this.document[0].body),t},_destroy:function(){var t=this;e.each(this.tooltips,function(n,i){var r=e.Event("blur"),a=i.element;r.target=r.currentTarget=a[0],t.close(r,!0),e("#"+n).remove(),a.data("ui-tooltip-title")&&(a.attr("title")||a.attr("title",a.data("ui-tooltip-title")),a.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==e.uiBackCompat&&e.widget("ui.tooltip",e.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}});e.ui.tooltip}),/**
 * angular-ui-sortable - This directive allows you to jQueryUI Sortable.
 * @version v0.16.1 - 2016-12-16
 * @link http://angular-ui.github.com
 * @license MIT
 */
function(e,t,n){"use strict";t.module("ui.sortable",[]).value("uiSortableConfig",{items:"> [ng-repeat],> [data-ng-repeat],> [x-ng-repeat]"}).directive("uiSortable",["uiSortableConfig","$timeout","$log",function(e,i,r){return{require:"?ngModel",scope:{ngModel:"=",uiSortable:"="},link:function(a,o,s,l){function c(e,t){var n="function"==typeof e,i="function"==typeof t;return n&&i?function(){e.apply(this,arguments),t.apply(this,arguments)}:i?t:e}function u(e){var t=e.data("ui-sortable");return t&&"object"==typeof t&&"ui-sortable"===t.widgetFullName?t:null}function d(t,n){return D[t]?("stop"===t&&(n=c(n,function(){a.$apply()}),n=c(n,y)),n=c(D[t],n)):T[t]&&(n=T[t](n)),n||"items"!==t&&"ui-model-items"!==t||(n=e.items),n}function h(e,i,r){function a(e,t){t in S||(S[t]=null)}t.forEach(D,a);var o=null;if(i){var s;t.forEach(i,function(i,r){if(!(e&&r in e)){if(r in $)return void(S[r]="ui-floating"===r?"auto":d(r,n));s||(s=t.element.ui.sortable().options);var a=s[r];a=d(r,a),o||(o={}),o[r]=a,S[r]=a}})}return t.forEach(e,function(e,t){if(t in $)return"ui-floating"!==t||!1!==e&&!0!==e||!r||(r.floating=e),void(S[t]=d(t,e));e=d(t,e),o||(o={}),o[t]=e,S[t]=e}),o}function p(e){var n=e.sortable("option","placeholder");if(n&&n.element&&"function"==typeof n.element){var i=n.element();return i=t.element(i)}return null}function f(e,t){var n=S["ui-model-items"].replace(/[^,]*>/g,"");return e.find('[class="'+t.attr("class")+'"]:not('+n+")")}function g(e,t){var n=e.sortable("option","helper");return"clone"===n||"function"==typeof n&&t.item.sortable.isCustomHelperUsed()}function m(e,t,n){var i=null;return g(e,t)&&"parent"===e.sortable("option","appendTo")&&(i=n.last()),i}function v(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}function b(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.element[0]===t[0])return i}}function y(e,t){t.item.sortable._destroy()}function w(e){return e.parent().find(S["ui-model-items"]).index(e)}function x(){a.$watchCollection("ngModel",function(){i(function(){u(o)&&o.sortable("refresh")},0,!1)}),D.start=function(e,i){if("auto"===S["ui-floating"]){var r=i.item.siblings();u(t.element(e.target)).floating=v(r)}var a=w(i.item);i.item.sortable={model:l.$modelValue[a],index:a,source:o,sourceList:i.item.parent(),sourceModel:l.$modelValue,cancel:function(){i.item.sortable._isCanceled=!0},isCanceled:function(){return i.item.sortable._isCanceled},isCustomHelperUsed:function(){return!!i.item.sortable._isCustomHelperUsed},_isCanceled:!1,_isCustomHelperUsed:i.item.sortable._isCustomHelperUsed,_destroy:function(){t.forEach(i.item.sortable,function(e,t){i.item.sortable[t]=n})},_connectedSortables:[],_getElementContext:function(e){return b(this._connectedSortables,e)}}},D.activate=function(e,t){var n=t.item.sortable.source===o,i=n?t.item.sortable.sourceList:o,r={element:o,scope:a,isSourceContext:n,savedNodesOrigin:i};t.item.sortable._connectedSortables.push(r),C=i.contents();var s=p(o);if(s&&s.length){var l=f(o,s);C=C.not(l)}},D.update=function(e,t){if(!t.item.sortable.received){t.item.sortable.dropindex=w(t.item);var n=t.item.closest("[ui-sortable], [data-ui-sortable], [x-ui-sortable]");t.item.sortable.droptarget=n,t.item.sortable.droptargetList=t.item.parent();var i=t.item.sortable._getElementContext(n);t.item.sortable.droptargetModel=i.scope.ngModel,o.sortable("cancel")}var r=!t.item.sortable.received&&m(o,t,C);r&&r.length&&(C=C.not(r));var s=t.item.sortable._getElementContext(o);C.appendTo(s.savedNodesOrigin),t.item.sortable.received&&(C=null),t.item.sortable.received&&!t.item.sortable.isCanceled()&&a.$apply(function(){l.$modelValue.splice(t.item.sortable.dropindex,0,t.item.sortable.moved)})},D.stop=function(e,n){var i="dropindex"in n.item.sortable&&!n.item.sortable.isCanceled();if(i&&!n.item.sortable.received)a.$apply(function(){l.$modelValue.splice(n.item.sortable.dropindex,0,l.$modelValue.splice(n.item.sortable.index,1)[0])});else if(!i&&!t.equals(o.contents().toArray(),C.toArray())){var r=m(o,n,C);r&&r.length&&(C=C.not(r));var s=n.item.sortable._getElementContext(o);C.appendTo(s.savedNodesOrigin)}C=null},D.receive=function(e,t){t.item.sortable.received=!0},D.remove=function(e,t){"dropindex"in t.item.sortable||(o.sortable("cancel"),t.item.sortable.cancel()),t.item.sortable.isCanceled()||a.$apply(function(){t.item.sortable.moved=l.$modelValue.splice(t.item.sortable.index,1)[0]})},T.helper=function(e){return e&&"function"==typeof e?function(i,r){var a=r.sortable,s=w(r);r.sortable={model:l.$modelValue[s],index:s,source:o,sourceList:r.parent(),sourceModel:l.$modelValue,_restore:function(){t.forEach(r.sortable,function(e,t){r.sortable[t]=n}),r.sortable=a}};var c=e.apply(this,arguments);return r.sortable._restore(),r.sortable._isCustomHelperUsed=r!==c,c}:e},a.$watchCollection("uiSortable",function(e,t){var n=u(o);if(n){var i=h(e,t,n);i&&o.sortable("option",i)}},!0),h(S)}function _(){l?x():r.info("ui.sortable: ngModel not provided!",o),o.sortable(S)}function k(){return(!a.uiSortable||!a.uiSortable.disabled)&&(_(),k.cancelWatcher(),k.cancelWatcher=t.noop,!0)}var C,S={},$={"ui-floating":n,"ui-model-items":e.items},D={receive:null,remove:null,start:null,stop:null,update:null},T={helper:null};if(t.extend(S,$,e,a.uiSortable),!t.element.fn||!t.element.fn.jquery)return void r.error("ui.sortable: jQuery should be included before AngularJS!");k.cancelWatcher=t.noop,k()||(k.cancelWatcher=a.$watch("uiSortable.disabled",k))}}}])}(window,window.angular),/*!
angular-xeditable - 0.5.0
Edit-in-place for angular.js
Build date: 2016-10-27 
*/
angular.module("xeditable",[]).value("editableOptions",{theme:"default",icon_set:"default",buttons:"right",blurElem:"cancel",blurForm:"ignore",activate:"focus",isDisabled:!1,activationEvent:"click",submitButtonTitle:"Submit",submitButtonAriaLabel:"Submit",cancelButtonTitle:"Cancel",cancelButtonAriaLabel:"Cancel",clearButtonTitle:"Clear",clearButtonAriaLabel:"Clear",displayClearButton:!1}),angular.module("xeditable").directive("editableBsdate",["editableDirectiveFactory",function(e){return e({directiveName:"editableBsdate",inputTpl:"<div></div>",render:function(){this.parent.render.call(this);var e=angular.element('<input type="text" class="form-control" data-ng-model="$parent.$data"/>');if(e.attr("uib-datepicker-popup",this.attrs.eDatepickerPopupXEditable||"yyyy/MM/dd"),e.attr("is-open",this.attrs.eIsOpen),e.attr("date-disabled",this.attrs.eDateDisabled),e.attr("uib-datepicker-popup",this.attrs.eDatepickerPopup),e.attr("year-range",this.attrs.eYearRange||20),e.attr("show-button-bar",this.attrs.eShowButtonBar||!0),e.attr("current-text",this.attrs.eCurrentText||"Today"),e.attr("clear-text",this.attrs.eClearText||"Clear"),e.attr("close-text",this.attrs.eCloseText||"Done"),e.attr("close-on-date-selection",this.attrs.eCloseOnDateSelection||!0),e.attr("datepicker-append-to-body",this.attrs.eDatePickerAppendToBody||!1),e.attr("date-disabled",this.attrs.eDateDisabled),e.attr("name",this.attrs.eName),e.attr("on-open-focus",this.attrs.eOnOpenFocus||!0),e.attr("ng-readonly",this.attrs.eReadonly||!1),this.attrs.eNgChange&&(e.attr("ng-change",this.attrs.eNgChange),this.inputEl.removeAttr("ng-change")),this.attrs.eStyle&&(e.attr("style",this.attrs.eStyle),this.inputEl.removeAttr("style")),this.scope.dateOptions={formatDay:this.attrs.eFormatDay||"dd",formatMonth:this.attrs.eFormatMonth||"MMMM",formatYear:this.attrs.eFormatYear||"yyyy",formatDayHeader:this.attrs.eFormatDayHeader||"EEE",formatDayTitle:this.attrs.eFormatDayTitle||"MMMM yyyy",formatMonthTitle:this.attrs.eFormatMonthTitle||"yyyy",showWeeks:!this.attrs.eShowWeeks||"true"===this.attrs.eShowWeeks.toLowerCase(),startingDay:this.attrs.eStartingDay||0,minMode:this.attrs.eMinMode||"day",maxMode:this.attrs.eMaxMode||"year",initDate:this.scope.$eval(this.attrs.eInitDate)||new Date,datepickerMode:this.attrs.eDatepickerMode||"day",maxDate:this.scope.$eval(this.attrs.eMaxDate)||null,minDate:this.scope.$eval(this.attrs.eMinDate)||null},"true"===(angular.isDefined(this.attrs.eShowCalendarButton)?this.attrs.eShowCalendarButton:"true")){var t=angular.element('<button type="button" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button>'),n=angular.element('<span class="input-group-btn"></span>');t.attr("ng-click",this.attrs.eNgClick),n.append(t),this.inputEl.append(n)}else e.attr("ng-click",this.attrs.eNgClick);e.attr("datepicker-options","dateOptions"),this.inputEl.prepend(e),this.inputEl.removeAttr("class"),this.inputEl.removeAttr("ng-click"),this.inputEl.removeAttr("is-open"),this.inputEl.removeAttr("init-date"),this.inputEl.removeAttr("datepicker-popup"),this.inputEl.removeAttr("required"),this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("date-picker-append-to-body"),this.inputEl.removeAttr("name"),this.inputEl.attr("class","input-group")}})}]),angular.module("xeditable").directive("editableBstime",["editableDirectiveFactory",function(e){return e({directiveName:"editableBstime",inputTpl:"<uib-timepicker></uib-timepicker>",render:function(){this.parent.render.call(this);var e=angular.element('<div class="well well-small" style="display:inline-block;"></div>');e.attr("ng-model",this.inputEl.attr("ng-model")),this.inputEl.removeAttr("ng-model"),this.attrs.eNgChange&&(e.attr("ng-change",this.inputEl.attr("ng-change")),this.inputEl.removeAttr("ng-change")),this.inputEl.wrap(e)}})}]),angular.module("xeditable").directive("editableCheckbox",["editableDirectiveFactory",function(e){return e({directiveName:"editableCheckbox",inputTpl:'<input type="checkbox">',render:function(){this.parent.render.call(this),this.attrs.eTitle&&(this.inputEl.wrap("<label></label>"),this.inputEl.parent().append("<span>"+this.attrs.eTitle+"</span>"))},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableChecklist",["editableDirectiveFactory","editableNgOptionsParser",function(e,t){return e({directiveName:"editableChecklist",inputTpl:"<span></span>",useCopy:!0,render:function(){this.parent.render.call(this);var e=t(this.attrs.eNgOptions),n="",i="";this.attrs.eNgChange&&(n=' ng-change="'+this.attrs.eNgChange+'"'),this.attrs.eChecklistComparator&&(i=' checklist-comparator="'+this.attrs.eChecklistComparator+'"');var r='<label ng-repeat="'+e.ngRepeat+'"><input type="checkbox" checklist-model="$parent.$parent.$data" checklist-value="'+e.locals.valueFn+'"'+n+i+'><span ng-bind="'+e.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.removeAttr("ng-change"),this.inputEl.removeAttr("checklist-comparator"),this.inputEl.html(r)}})}]),angular.module("xeditable").directive("editableCombodate",["editableDirectiveFactory","editableCombodate",function(e,t){return e({directiveName:"editableCombodate",inputTpl:'<input type="text">',render:function(){this.parent.render.call(this);var e={value:new Date(this.scope.$data)},n=this;angular.forEach(["format","template","minYear","maxYear","yearDescending","minuteStep","secondStep","firstItem","errorClass","customClass","roundTime","smartDays"],function(t){var i="e"+t.charAt(0).toUpperCase()+t.slice(1);i in n.attrs&&(e[t]=n.attrs[i])});var i=t.getInstance(this.inputEl,e);i.$widget.find("select").bind("change",function(e){n.scope.$data=new Date(i.getValue()).toISOString()})}})}]),function(){var e=function(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})},t="text|password|email|tel|number|url|search|color|date|datetime|datetime-local|time|month|week|file".split("|");angular.forEach(t,function(t){var n=e("editable-"+t);angular.module("xeditable").directive(n,["editableDirectiveFactory",function(e){return e({directiveName:n,inputTpl:'<input type="'+t+'">',render:function(){if(this.parent.render.call(this),this.attrs.eInputgroupleft||this.attrs.eInputgroupright){if(this.inputEl.wrap('<div class="input-group"></div>'),this.attrs.eInputgroupleft){var e=angular.element('<span class="input-group-addon">'+this.attrs.eInputgroupleft+"</span>");this.inputEl.parent().prepend(e)}if(this.attrs.eInputgroupright){var t=angular.element('<span class="input-group-addon">'+this.attrs.eInputgroupright+"</span>");this.inputEl.parent().append(t)}}if(this.attrs.eLabel){var n=angular.element("<label>"+this.attrs.eLabel+"</label>");this.attrs.eInputgroupleft||this.attrs.eInputgroupright?this.inputEl.parent().parent().prepend(n):this.inputEl.parent().prepend(n)}this.attrs.eFormclass&&this.editorEl.addClass(this.attrs.eFormclass)}})}])}),angular.module("xeditable").directive("editableRange",["editableDirectiveFactory","$interpolate",function(e,t){return e({directiveName:"editableRange",inputTpl:'<input type="range" id="range" name="range">',render:function(){this.parent.render.call(this),this.inputEl.after("<output>"+t.startSymbol()+"$data"+t.endSymbol()+"</output>")}})}])}(),angular.module("xeditable").directive("editableTagsInput",["editableDirectiveFactory","editableUtils",function(e,t){var n=e({directiveName:"editableTagsInput",inputTpl:"<tags-input></tags-input>",render:function(){this.parent.render.call(this),this.inputEl.append(t.rename("auto-complete",this.attrs.$autoCompleteElement)),this.inputEl.removeAttr("ng-model"),this.inputEl.attr("ng-model","$parent.$data")}}),i=n.link;return n.link=function(e,t,n,r){var a=t.find("editable-tags-input-auto-complete");return n.$autoCompleteElement=a.clone(),a.remove(),i(e,t,n,r)},n}]),angular.module("xeditable").directive("editableRadiolist",["editableDirectiveFactory","editableNgOptionsParser","$interpolate",function(e,t,n){return e({directiveName:"editableRadiolist",inputTpl:"<span></span>",render:function(){this.parent.render.call(this);var e=t(this.attrs.eNgOptions),i="";this.attrs.eNgChange&&(i='ng-change="'+this.attrs.eNgChange+'"');var r='<label data-ng-repeat="'+e.ngRepeat+'"><input type="radio" data-ng-disabled="::'+this.attrs.eNgDisabled+'" data-ng-model="$parent.$parent.$data" data-ng-value="'+n.startSymbol()+"::"+e.locals.valueFn+n.endSymbol()+'"'+i+'><span data-ng-bind="::'+e.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.removeAttr("ng-change"),this.inputEl.html(r)},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){setTimeout(function(){e.scope.$apply(function(){e.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableSelect",["editableDirectiveFactory",function(e){return e({directiveName:"editableSelect",inputTpl:"<select></select>",render:function(){if(this.parent.render.call(this),this.attrs.ePlaceholder){var e=angular.element('<option value="">'+this.attrs.ePlaceholder+"</option>");this.inputEl.append(e)}},autosubmit:function(){var e=this;e.inputEl.bind("change",function(){e.scope.$apply(function(){e.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableTextarea",["editableDirectiveFactory",function(e){return e({directiveName:"editableTextarea",inputTpl:"<textarea></textarea>",addListeners:function(){var e=this;e.parent.addListeners.call(e),e.single&&"no"!==e.buttons&&e.autosubmit()},autosubmit:function(){var e=this;e.inputEl.bind("keydown",function(t){(t.ctrlKey||t.metaKey)&&13===t.keyCode&&e.scope.$apply(function(){e.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableUiSelect",["editableDirectiveFactory","editableUtils",function(e,t){var n=e({directiveName:"editableUiSelect",inputTpl:"<ui-select></ui-select>",render:function(){this.parent.render.call(this),this.inputEl.append(t.rename("ui-select-match",this.attrs.$matchElement)),this.inputEl.append(t.rename("ui-select-choices",this.attrs.$choicesElement)),this.inputEl.removeAttr("ng-model"),this.inputEl.attr("ng-model","$parent.$parent.$data")}}),i=n.link;return n.link=function(e,t,n,r){var a=t.find("editable-ui-select-match"),o=t.find("editable-ui-select-choices");return n.$matchElement=a.clone(),n.$choicesElement=o.clone(),a.remove(),o.remove(),i(e,t,n,r)},n}]),angular.module("xeditable").factory("editableController",["$q","editableUtils",function(e,t){function n(e,n,i,r,a,o,s,l,c,u){var d,h,p=this;p.scope=e,p.elem=i,p.attrs=n,p.inputEl=null,p.editorEl=null,p.single=!0,p.error="",p.theme=a[n.editableTheme]||a[s.theme]||a.default,p.parent={},p.icon_set="default"===s.icon_set?o.default[s.theme]:o.external[s.icon_set],p.inputTpl="",p.directiveName="",p.useCopy=!1,p.single=null,p.buttons="right",p.init=function(t){if(p.single=t,p.name=n.eName||n[p.directiveName],!n[p.directiveName])throw"You should provide value for `"+p.directiveName+"` in editable element!";d=r(n[p.directiveName]),p.single?p.buttons=p.attrs.buttons||s.buttons:p.buttons="no",n.eName&&p.scope.$watch("$data",function(e){p.scope.$form.$data[n.eName]=e}),n.onshow&&(p.onshow=function(){return p.catchError(r(n.onshow)(e))}),n.onhide&&(p.onhide=function(){return r(n.onhide)(e)}),n.oncancel&&(p.oncancel=function(){return r(n.oncancel)(e)}),n.onbeforesave&&(p.onbeforesave=function(){return p.catchError(r(n.onbeforesave)(e))}),n.onaftersave&&(p.onaftersave=function(){return p.catchError(r(n.onaftersave)(e))}),e.$parent.$watch(n[p.directiveName],function(e,t){p.setLocalValue(),p.handleEmpty()})},p.render=function(){var e=p.theme;p.inputEl=angular.element(p.inputTpl),p.controlsEl=angular.element(e.controlsTpl),p.controlsEl.append(p.inputEl),"no"!==p.buttons&&(p.buttonsEl=angular.element(e.buttonsTpl),p.submitEl=angular.element(e.submitTpl),p.resetEl=angular.element(e.resetTpl),p.cancelEl=angular.element(e.cancelTpl),p.submitEl.attr("title",s.submitButtonTitle),p.submitEl.attr("aria-label",s.submitButtonAriaLabel),p.cancelEl.attr("title",s.cancelButtonTitle),p.cancelEl.attr("aria-label",s.cancelButtonAriaLabel),p.resetEl.attr("title",s.clearButtonTitle),p.resetEl.attr("aria-label",s.clearButtonAriaLabel),p.icon_set&&(p.submitEl.find("span").addClass(p.icon_set.ok),p.cancelEl.find("span").addClass(p.icon_set.cancel),p.resetEl.find("span").addClass(p.icon_set.clear)),p.buttonsEl.append(p.submitEl).append(p.cancelEl),s.displayClearButton&&p.buttonsEl.append(p.resetEl),p.controlsEl.append(p.buttonsEl),p.inputEl.addClass("editable-has-buttons")),p.errorEl=angular.element(e.errorTpl),p.controlsEl.append(p.errorEl),p.editorEl=angular.element(p.single?e.formTpl:e.noformTpl),p.editorEl.append(p.controlsEl);for(var i in n.$attr)if(!(i.length<=1)){var r=!1,a=i.substring(1,2);if("e"===i.substring(0,1)&&a===a.toUpperCase()&&"Form"!==(r=i.substring(1))&&"NgSubmit"!==r){var o=r.substring(0,1),l=r.substring(1,2);r=l===l.toUpperCase()&&o===o.toUpperCase()?o.toLowerCase()+"-"+t.camelToDash(r.substring(1)):o.toLowerCase()+t.camelToDash(r.substring(1));var c="value"!==r&&""===n[i]?r:n[i];p.inputEl.attr(r,c)}}p.inputEl.addClass("editable-input"),p.inputEl.attr("ng-model","$parent.$data"),p.editorEl.addClass(t.camelToDash(p.directiveName)),p.single&&(p.editorEl.attr("editable-form","$form"),p.editorEl.attr("blur",p.attrs.blur||("no"===p.buttons?"cancel":s.blurElem))),angular.isFunction(e.postrender)&&e.postrender.call(p)},p.setLocalValue=function(){p.scope.$data=p.useCopy?angular.copy(d(e.$parent)):d(e.$parent)};var f=null;p.show=function(){return p.setLocalValue(),p.render(),i.after(p.editorEl),f=e.$new(),c(p.editorEl)(f),p.addListeners(),i.addClass("editable-hide"),p.onshow()},p.hide=function(){return f.$destroy(),p.controlsEl.remove(),p.editorEl.remove(),i.removeClass("editable-hide"),p.onhide()},p.cancel=function(){p.oncancel()},p.addListeners=function(){p.inputEl.bind("keyup",function(e){if(p.single)switch(e.keyCode){case 27:p.scope.$apply(function(){p.scope.$form.$cancel()})}}),p.single&&"no"===p.buttons&&p.autosubmit(),p.editorEl.bind("click",function(e){e.which&&1!==e.which||p.scope.$form.$visible&&(p.scope.$form._clicked=!0)})},p.setWaiting=function(e){e?(h=!p.inputEl.attr("disabled")&&!p.inputEl.attr("ng-disabled")&&!p.inputEl.attr("ng-enabled"))&&(p.inputEl.attr("disabled","disabled"),p.buttonsEl&&p.buttonsEl.find("button").attr("disabled","disabled")):h&&(p.inputEl.removeAttr("disabled"),p.buttonsEl&&p.buttonsEl.find("button").removeAttr("disabled"))},p.activate=function(e,t){setTimeout(function(){var n=p.inputEl[0];"focus"===s.activate&&n.focus?(e&&(t=t||e,n.onfocus=function(){var n=this;setTimeout(function(){n.setSelectionRange(e,t)})}),"editableRadiolist"==p.directiveName||"editableChecklist"==p.directiveName||"editableBsdate"==p.directiveName||"editableTagsInput"==p.directiveName?n.querySelector(".ng-pristine").focus():n.focus()):"select"===s.activate&&(n.select?n.select():n.focus&&n.focus())},0)},p.setError=function(t){angular.isObject(t)||(e.$error=t,p.error=t)},p.catchError=function(e,t){return angular.isObject(e)&&!0!==t?u.when(e).then(angular.bind(this,function(e){this.catchError(e,!0)}),angular.bind(this,function(e){this.catchError(e,!0)})):t&&angular.isObject(e)&&e.status&&200!==e.status&&e.data&&angular.isString(e.data)?(this.setError(e.data),e=e.data):angular.isString(e)&&this.setError(e),e},p.save=function(){d.assign(e.$parent,p.useCopy?angular.copy(p.scope.$data):p.scope.$data)},p.handleEmpty=function(){var t=d(e.$parent),n=null===t||void 0===t||""===t||angular.isArray(t)&&0===t.length;i.toggleClass("editable-empty",n)},p.autosubmit=angular.noop,p.onshow=angular.noop,p.onhide=angular.noop,p.oncancel=angular.noop,p.onbeforesave=angular.noop,p.onaftersave=angular.noop}return n.$inject=["$scope","$attrs","$element","$parse","editableThemes","editableIcons","editableOptions","$rootScope","$compile","$q"],n}]),angular.module("xeditable").factory("editableDirectiveFactory",["$parse","$compile","editableThemes","$rootScope","$document","editableController","editableFormController","editableOptions",function(e,t,n,i,r,a,o,s){return function(t){return{restrict:"A",scope:!0,require:[t.directiveName,"?^form"],controller:a,link:function(n,a,l,c){var u,d=c[0],h=!1;if(c[1])u=c[1],h=void 0===l.eSingle;else if(l.eForm){var p=e(l.eForm)(n);if(p)u=p,h=!0;else if(a&&"function"==typeof a.parents&&a.parents().last().find("form[name="+l.eForm+"]").length)u=null,h=!0;else for(var f=0;f<r[0].forms.length;f++)if(r[0].forms[f].name===l.eForm){u=null,h=!0;break}}angular.forEach(t,function(e,t){void 0!==d[t]&&(d.parent[t]=d[t])}),angular.extend(d,t);var g=function(){return angular.isDefined(l.editDisabled)?n.$eval(l.editDisabled):s.isDisabled};if(d.init(!h),n.$editable=d,a.addClass("editable"),h)if(u){if(n.$form=u,!n.$form.$addEditable)throw"Form with editable elements should have `editable-form` attribute.";n.$form.$addEditable(d)}else i.$$editableBuffer=i.$$editableBuffer||{},i.$$editableBuffer[l.eForm]=i.$$editableBuffer[l.eForm]||[],i.$$editableBuffer[l.eForm].push(d),n.$form=null;else n.$form=o(),n.$form.$addEditable(d),l.eForm&&(e(l.eForm).assign||angular.noop)(n.$parent,n.$form),l.eForm&&!l.eClickable||(a.addClass("editable-click"),a.bind(s.activationEvent,function(e){e.preventDefault(),e.editable=d,g()||n.$apply(function(){n.$form.$show()})}))}}}}]),angular.module("xeditable").factory("editableFormController",["$parse","$document","$rootScope","editablePromiseCollection","editableUtils",function(e,t,n,i,r){var a=[],o=function(e,t){if(t==e)return!0;for(var n=t.parentNode;null!==n;){if(n==e)return!0;n=n.parentNode}return!1},s=function(e,t){var n=!0,i=e.$editables;return angular.forEach(i,function(e){var i=e.editorEl[0];o(i,t.target)&&(n=!1)}),n};t.bind("click",function(e){if(!e.which||1===e.which){for(var t=[],i=[],r=0;r<a.length;r++)a[r]._clicked?a[r]._clicked=!1:a[r].$waiting||("cancel"===a[r]._blur&&s(a[r],e)&&t.push(a[r]),"submit"===a[r]._blur&&s(a[r],e)&&i.push(a[r]));(t.length||i.length)&&n.$apply(function(){angular.forEach(t,function(e){e.$cancel()}),angular.forEach(i,function(e){e.$submit()})})}}),n.$on("closeEdit",function(){for(var e=0;e<a.length;e++)a[e].$hide()});var l={$addEditable:function(e){this.$editables.push(e),e.elem.bind("$destroy",angular.bind(this,this.$removeEditable,e)),e.scope.$form||(e.scope.$form=this),this.$visible&&e.catchError(e.show()),e.catchError(e.setWaiting(this.$waiting))},$removeEditable:function(e){for(var t=0;t<this.$editables.length;t++)if(this.$editables[t]===e)return void this.$editables.splice(t,1)},$show:function(){if(!this.$visible){this.$visible=!0;var e=i();e.when(this.$onshow()),this.$setError(null,""),angular.forEach(this.$editables,function(t){e.when(t.show())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$activate),onFalse:angular.bind(this,this.$activate),onString:angular.bind(this,this.$activate)}),setTimeout(angular.bind(this,function(){this._clicked=!1,-1===r.indexOf(a,this)&&a.push(this)}),0)}},$activate:function(e){var t;if(this.$editables.length){if(angular.isString(e))for(t=0;t<this.$editables.length;t++)if(this.$editables[t].name===e)return void this.$editables[t].activate();for(t=0;t<this.$editables.length;t++)if(this.$editables[t].error)return void this.$editables[t].activate();this.$editables[0].activate(this.$editables[0].elem[0].selectionStart,this.$editables[0].elem[0].selectionEnd)}},$hide:function(){this.$visible&&(this.$visible=!1,this.$onhide(),angular.forEach(this.$editables,function(e){e.hide()}),r.arrayRemove(a,this))},$cancel:function(){this.$visible&&(this.$oncancel(),angular.forEach(this.$editables,function(e){e.cancel()}),this.$hide())},$setWaiting:function(e){this.$waiting=!!e,angular.forEach(this.$editables,function(t){t.setWaiting(!!e)})},$setError:function(e,t){angular.forEach(this.$editables,function(n){e&&n.name!==e||n.setError(t)})},$submit:function(){function e(e){var t=i();t.when(this.$onbeforesave()),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:e?angular.bind(this,this.$save):angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})}if(!this.$waiting){this.$setError(null,"");var t=i();angular.forEach(this.$editables,function(e){t.when(e.onbeforesave())}),t.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,e,!0),onFalse:angular.bind(this,e,!1),onString:angular.bind(this,this.$activate)})}},$save:function(){angular.forEach(this.$editables,function(e){e.save()});var e=i();e.when(this.$onaftersave()),angular.forEach(this.$editables,function(t){e.when(t.onaftersave())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})},$onshow:angular.noop,$oncancel:angular.noop,$onhide:angular.noop,$onbeforesave:angular.noop,$onaftersave:angular.noop};return function(){return angular.extend({$editables:[],$visible:!1,$waiting:!1,$data:{},_clicked:!1,_blur:null},l)}}]),angular.module("xeditable").directive("editableForm",["$rootScope","$parse","editableFormController","editableOptions",function(e,t,n,i){return{restrict:"A",require:["form"],compile:function(){return{pre:function(t,i,r,a){var o,s=a[0];r.editableForm?t[r.editableForm]&&t[r.editableForm].$show?(o=t[r.editableForm],angular.extend(s,o)):(o=n(),t[r.editableForm]=o,angular.extend(o,s)):(o=n(),angular.extend(s,o));var l=e.$$editableBuffer,c=s.$name;c&&l&&l[c]&&(angular.forEach(l[c],function(e){o.$addEditable(e)}),delete l[c])},post:function(e,n,r,a){var o;o=r.editableForm&&e[r.editableForm]&&e[r.editableForm].$show?e[r.editableForm]:a[0],r.onshow&&(o.$onshow=angular.bind(o,t(r.onshow),e)),r.onhide&&(o.$onhide=angular.bind(o,t(r.onhide),e)),r.oncancel&&(o.$oncancel=angular.bind(o,t(r.oncancel),e)),r.shown&&t(r.shown)(e)&&o.$show(),o._blur=r.blur||i.blurForm,r.ngSubmit||r.submit||(r.onbeforesave&&(o.$onbeforesave=function(){return t(r.onbeforesave)(e,{$data:o.$data})}),r.onaftersave&&(o.$onaftersave=function(){return t(r.onaftersave)(e,{$data:o.$data})}),n.bind("submit",function(t){t.preventDefault(),e.$apply(function(){o.$submit()})})),n.bind("click",function(e){e.which&&1!==e.which||o.$visible&&(o._clicked=!0)})}}}}}]),angular.module("xeditable").factory("editablePromiseCollection",["$q",function(e){function t(){return{promises:[],hasFalse:!1,hasString:!1,when:function(t,n){if(!1===t)this.hasFalse=!0;else if(!n&&angular.isObject(t))this.promises.push(e.when(t));else{if(!angular.isString(t))return;this.hasString=!0}},then:function(t){function n(){s.hasString||s.hasFalse?!s.hasString&&s.hasFalse?r():a():i()}t=t||{};var i=t.onTrue||angular.noop,r=t.onFalse||angular.noop,a=t.onString||angular.noop,o=t.onWait||angular.noop,s=this;this.promises.length?(o(!0),e.all(this.promises).then(function(e){o(!1),angular.forEach(e,function(e){s.when(e,!0)}),n()},function(e){o(!1),a()})):n()}}}return t}]),angular.module("xeditable").factory("editableUtils",[function(){return{indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1},arrayRemove:function(e,t){var n=this.indexOf(e,t);return n>=0&&e.splice(n,1),t},camelToDash:function(e){var t=/[A-Z]/g;return e.replace(t,function(e,t){return(t?"-":"")+e.toLowerCase()})},dashToCamel:function(e){var t=/([\:\-\_]+(.))/g,n=/^moz([A-Z])/;return e.replace(t,function(e,t,n,i){return i?n.toUpperCase():n}).replace(n,"Moz$1")},rename:function(e,t){if(t[0]&&t[0].attributes){var n=angular.element("<"+e+"/>");n.html(t.html());for(var i=t[0].attributes,r=0;r<i.length;++r)n.attr(i.item(r).nodeName,i.item(r).value);return n}}}}]),angular.module("xeditable").factory("editableNgOptionsParser",[function(){function e(e){var n;if(!(n=e.match(t)))throw"ng-options parse error";var i,r=n[2]||n[1],a=n[4]||n[6],o=n[5],s=(n[3],n[2]?n[1]:a),l=n[7],c=n[8],u=c?n[8]:null;return void 0===o?(i=a+" in "+l,void 0!==c&&(i+=" track by "+u)):i="("+o+", "+a+") in "+l,{ngRepeat:i,locals:{valueName:a,keyName:o,valueFn:s,displayFn:r}}}var t=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/;return e}]),angular.module("xeditable").factory("editableCombodate",[function(){function e(e,t){if(this.$element=angular.element(e),"INPUT"!=this.$element[0].nodeName)throw"Combodate should be applied to INPUT element";var n=(new Date).getFullYear();this.defaults={format:"YYYY-MM-DD HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:n,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,customClass:"",roundTime:!0,smartDays:!0},this.options=angular.extend({},this.defaults,t),this.init()}return e.prototype={constructor:e,init:function(){if(this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=angular.element('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.options.smartDays){var e=this;this.$widget.find("select").bind("change",function(t){(angular.element(t.target).hasClass("month")||angular.element(t.target).hasClass("year"))&&e.fillCombo("day")})}this.$widget.find("select").css("width","auto"),this.$element.css("display","none").after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var e=this.options.template,t=this.options.customClass;return angular.forEach(this.map,function(t,n){t=t[0];var i=new RegExp(t+"+"),r=t.length>1?t.substring(1,2):t;e=e.replace(i,"{"+r+"}")}),e=e.replace(/ /g,"&nbsp;"),angular.forEach(this.map,function(n,i){n=n[0];var r=n.length>1?n.substring(1,2):n;e=e.replace("{"+r+"}",'<select class="'+i+" "+t+'"></select>')}),e},initCombos:function(){for(var e in this.map){var t=this.$widget[0].querySelectorAll("."+e);this["$"+e]=t.length?angular.element(t):null,this.fillCombo(e)}},fillCombo:function(e){var t=this["$"+e];if(t){var n="fill"+e.charAt(0).toUpperCase()+e.slice(1),i=this[n](),r=t.val();t.html("");for(var a=0;a<i.length;a++)t.append('<option value="'+i[a][0]+'">'+i[a][1]+"</option>");t.val(r)}},fillCommon:function(e){var t,n=[];if("name"===this.options.firstItem){t=moment.relativeTime||moment.langData()._relativeTime;var i="function"==typeof t[e]?t[e](1,!0,e,!1):t[e];i=i.split(" ").reverse()[0],n.push(["",i])}else"empty"===this.options.firstItem&&n.push(["",""]);return n},fillDay:function(){var e,t,n=this.fillCommon("d"),i=-1!==this.options.template.indexOf("DD"),r=31;if(this.options.smartDays&&this.$month&&this.$year){var a=parseInt(this.$month.val(),10),o=parseInt(this.$year.val(),10);isNaN(a)||isNaN(o)||(r=moment([o,a]).daysInMonth())}for(t=1;t<=r;t++)e=i?this.leadZero(t):t,n.push([t,e]);return n},fillMonth:function(){var e,t,n=this.fillCommon("M"),i=-1!==this.options.template.indexOf("MMMM"),r=-1!==this.options.template.indexOf("MMM"),a=-1!==this.options.template.indexOf("MM");for(t=0;t<=11;t++)e=i?moment().date(1).month(t).format("MMMM"):r?moment().date(1).month(t).format("MMM"):a?this.leadZero(t+1):t+1,n.push([t,e]);return n},fillYear:function(){var e,t,n=[],i=-1!==this.options.template.indexOf("YYYY");for(t=this.options.maxYear;t>=this.options.minYear;t--)e=i?t:(t+"").substring(2),n[this.options.yearDescending?"push":"unshift"]([t,e]);return n=this.fillCommon("y").concat(n)},fillHour:function(){var e,t,n=this.fillCommon("h"),i=-1!==this.options.template.indexOf("h"),r=(this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),a=i?1:0,o=i?12:23;for(t=a;t<=o;t++)e=r?this.leadZero(t):t,n.push([t,e]);return n},fillMinute:function(){var e,t,n=this.fillCommon("m"),i=-1!==this.options.template.indexOf("mm");for(t=0;t<=59;t+=this.options.minuteStep)e=i?this.leadZero(t):t,n.push([t,e]);return n},fillSecond:function(){var e,t,n=this.fillCommon("s"),i=-1!==this.options.template.indexOf("ss");for(t=0;t<=59;t+=this.options.secondStep)e=i?this.leadZero(t):t,n.push([t,e]);return n},fillAmpm:function(){var e=-1!==this.options.template.indexOf("a");this.options.template.indexOf("A");return[["am",e?"am":"AM"],["pm",e?"pm":"PM"]]},getValue:function(e){var t,n={},i=this,r=!1;return angular.forEach(this.map,function(e,t){if("ampm"!==t){var a="day"===t?1:0;return n[t]=i["$"+t]?parseInt(i["$"+t].val(),10):a,isNaN(n[t])?(r=!0,!1):void 0}}),r?"":(this.$ampm&&(12===n.hour?n.hour="am"===this.$ampm.val()?0:12:n.hour="am"===this.$ampm.val()?n.hour:n.hour+12),t=moment([n.year,n.month,n.day,n.hour,n.minute,n.second]),this.highlight(t),e=void 0===e?this.options.format:e,null===e?t.isValid()?t:null:t.isValid()?t.format(e):"")},setValue:function(e){function t(e,t){var n={};return angular.forEach(e.children("option"),function(e,i){var r=angular.element(e).attr("value");if(""!==r){var a=Math.abs(r-t);(void 0===n.distance||a<n.distance)&&(n={value:r,distance:a})}}),n.value}if(e){var n="string"==typeof e?moment(e,this.options.format,!0):moment(e),i=this,r={};n.isValid()&&(angular.forEach(this.map,function(e,t){"ampm"!==t&&(r[t]=n[e[1]]())}),this.$ampm&&(r.hour>=12?(r.ampm="pm",r.hour>12&&(r.hour-=12)):(r.ampm="am",0===r.hour&&(r.hour=12))),angular.forEach(r,function(e,n){i["$"+n]&&("minute"===n&&i.options.minuteStep>1&&i.options.roundTime&&(e=t(i["$"+n],e)),"second"===n&&i.options.secondStep>1&&i.options.roundTime&&(e=t(i["$"+n],e)),i["$"+n].val(e))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(n.format(this.options.format)).triggerHandler("change"))}},highlight:function(e){e.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(e){return e<=9?"0"+e:e},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},{getInstance:function(t,n){return new e(t,n)}}}]),angular.module("xeditable").factory("editableIcons",function(){return{default:{bs2:{ok:"icon-ok icon-white",cancel:"icon-remove",clear:"icon-trash"},bs3:{ok:"glyphicon glyphicon-ok",cancel:"glyphicon glyphicon-remove",clear:"glyphicon glyphicon-trash"}},external:{"font-awesome":{ok:"fa fa-check",cancel:"fa fa-times",clear:"fa fa-trash"}}}}),angular.module("xeditable").factory("editableThemes",function(){return{default:{formTpl:'<form class="editable-wrap"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<span class="editable-controls"></span>',inputTpl:"",errorTpl:'<div class="editable-error" data-ng-if="$error" data-ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit">save</button>',cancelTpl:'<button type="button" ng-click="$form.$cancel()">cancel</button>',resetTpl:'<button type="reset">clear</button>'},bs2:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls controls control-group" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" data-ng-if="$error" data-ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn" ng-click="$form.$cancel()"><span></span></button>',resetTpl:'<button type="reset" class="btn btn-danger">clear</button>'},bs3:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',
controlsTpl:'<div class="editable-controls form-group" ng-class="{\'has-error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" data-ng-if="$error" data-ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn btn-default" ng-click="$form.$cancel()"><span></span></button>',resetTpl:'<button type="reset" class="btn btn-danger">clear</button>',buttonsClass:"",inputClass:"",postrender:function(){switch(this.directiveName){case"editableText":case"editableSelect":case"editableTextarea":case"editableEmail":case"editableTel":case"editableNumber":case"editableUrl":case"editableSearch":case"editableDate":case"editableDatetime":case"editableBsdate":case"editableTime":case"editableMonth":case"editableWeek":case"editablePassword":case"editableDatetimeLocal":if(this.inputEl.addClass("form-control"),this.theme.inputClass){if(this.inputEl.attr("multiple")&&("input-sm"===this.theme.inputClass||"input-lg"===this.theme.inputClass))break;this.inputEl.addClass(this.theme.inputClass)}break;case"editableCheckbox":this.editorEl.addClass("checkbox")}this.buttonsEl&&this.theme.buttonsClass&&this.buttonsEl.find("button").addClass(this.theme.buttonsClass)}},semantic:{formTpl:'<form class="editable-wrap ui form" ng-class="{\'error\': $error}" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls ui fluid input" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error ui error message" data-ng-if="$error" data-ng-bind="$error"></div>',buttonsTpl:'<span class="mini ui buttons"></span>',submitTpl:'<button type="submit" class="ui primary button"><i class="ui check icon"></i></button>',cancelTpl:'<button type="button" class="ui button" ng-click="$form.$cancel()"><i class="ui cancel icon"></i></button>',resetTpl:'<button type="reset" class="ui button">clear</button>'}}}),/*!
 * ngTagsInput v3.2.0
 * http://mbenford.github.io/ngTagsInput
 *
 * Copyright (c) 2013-2017 Michael Benford
 * License: MIT
 *
 * Generated at 2017-04-15 17:08:51 -0300
 */
function(){"use strict";var e={backspace:8,tab:9,enter:13,escape:27,space:32,up:38,down:40,left:37,right:39,delete:46,comma:188},t=["text","email","url"],n=angular.module("ngTagsInput",[]);n.directive("tagsInput",["$timeout","$document","$window","$q","tagsInputConfig","tiUtil",function(n,i,r,a,o,s){function l(e,t,n,i){var r,o,l,c,u={};return r=function(t){return s.safeToString(t[e.displayProperty])},o=function(t,n){t[e.displayProperty]=n},l=function(t){var i=r(t),o=i&&i.length>=e.minLength&&i.length<=e.maxLength&&e.allowedTagsPattern.test(i)&&!s.findInObjectArray(u.items,t,e.keyProperty||e.displayProperty);return a.when(o&&n({$tag:t})).then(s.promisifyValue)},c=function(e){return a.when(i({$tag:e})).then(s.promisifyValue)},u.items=[],u.addText=function(e){var t={};return o(t,e),u.add(t)},u.add=function(n){var i=r(n);return e.replaceSpacesWithDashes&&(i=s.replaceSpacesWithDashes(i)),o(n,i),l(n).then(function(){u.items.push(n),t.trigger("tag-added",{$tag:n})}).catch(function(){i&&t.trigger("invalid-tag",{$tag:n})})},u.remove=function(e){var n=u.items[e];return c(n).then(function(){return u.items.splice(e,1),u.clearSelection(),t.trigger("tag-removed",{$tag:n}),n})},u.select=function(e){e<0?e=u.items.length-1:e>=u.items.length&&(e=0),u.index=e,u.selected=u.items[e]},u.selectPrior=function(){u.select(--u.index)},u.selectNext=function(){u.select(++u.index)},u.removeSelected=function(){return u.remove(u.index)},u.clearSelection=function(){u.selected=null,u.index=-1},u.getItems=function(){return e.useStrings?u.items.map(r):u.items},u.clearSelection(),u}function c(e){return-1!==t.indexOf(e)}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",text:"=?",templateScope:"=?",tagClass:"&",onTagAdding:"&",onTagAdded:"&",onInvalidTag:"&",onTagRemoving:"&",onTagRemoved:"&",onTagClicked:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(e,t,n){e.events=s.simplePubSub(),o.load("tagsInput",e,t,{template:[String,"ngTagsInput/tag-item.html"],type:[String,"text",c],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,9007199254740991],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,9007199254740991],displayProperty:[String,"text"],keyProperty:[String,""],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0],useStrings:[Boolean,!1]}),e.tagList=new l(e.options,e.events,s.handleUndefinedResult(e.onTagAdding,!0),s.handleUndefinedResult(e.onTagRemoving,!0)),this.registerAutocomplete=function(){n.find("input");return{addTag:function(t){return e.tagList.add(t)},getTags:function(){return e.tagList.items},getCurrentTagText:function(){return e.newTag.text()},getOptions:function(){return e.options},getTemplateScope:function(){return e.templateScope},on:function(t,n){return e.events.on(t,n,!0),this}}},this.registerTagItem=function(){return{getOptions:function(){return e.options},removeTag:function(t){e.disabled||e.tagList.remove(t)}}}}],link:function(t,a,o,l){var c,u,d=[e.enter,e.comma,e.space,e.backspace,e.delete,e.left,e.right],h=t.tagList,p=t.events,f=t.options,g=a.find("input"),m=["minTags","maxTags","allowLeftoverText"];c=function(){l.$setValidity("maxTags",h.items.length<=f.maxTags),l.$setValidity("minTags",h.items.length>=f.minTags),l.$setValidity("leftoverText",!(!t.hasFocus&&!f.allowLeftoverText)||!t.newTag.text())},u=function(){n(function(){g[0].focus()})},l.$isEmpty=function(e){return!e||!e.length},t.newTag={text:function(e){if(!angular.isDefined(e))return t.text||"";t.text=e,p.trigger("input-change",e)},invalid:null},t.track=function(e){return e[f.keyProperty||f.displayProperty]},t.getTagClass=function(e,n){var i=e===h.selected;return[t.tagClass({$tag:e,$index:n,$selected:i}),{selected:i}]},t.$watch("tags",function(e){if(e){if(h.items=s.makeObjectArray(e,f.displayProperty),f.useStrings)return;t.tags=h.items}else h.items=[]}),t.$watch("tags.length",function(){c(),l.$validate()}),o.$observe("disabled",function(e){t.disabled=e}),t.eventHandlers={input:{keydown:function(e){p.trigger("input-keydown",e)},focus:function(){t.hasFocus||(t.hasFocus=!0,p.trigger("input-focus"))},blur:function(){n(function(){var e=i.prop("activeElement"),n=e===g[0],r=a[0].contains(e);!n&&r||(t.hasFocus=!1,p.trigger("input-blur"))})},paste:function(e){e.getTextData=function(){var t=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData;return t?t.getData("text/plain"):r.clipboardData.getData("Text")},p.trigger("input-paste",e)}},host:{click:function(){t.disabled||u()}},tag:{click:function(e){p.trigger("tag-clicked",{$tag:e})}}},p.on("tag-added",t.onTagAdded).on("invalid-tag",t.onInvalidTag).on("tag-removed",t.onTagRemoved).on("tag-clicked",t.onTagClicked).on("tag-added",function(){t.newTag.text("")}).on("tag-added tag-removed",function(){t.tags=h.getItems(),l.$setDirty(),u()}).on("invalid-tag",function(){t.newTag.invalid=!0}).on("option-change",function(e){-1!==m.indexOf(e.name)&&c()}).on("input-change",function(){h.clearSelection(),t.newTag.invalid=null}).on("input-focus",function(){a.triggerHandler("focus"),l.$setValidity("leftoverText",!0)}).on("input-blur",function(){f.addOnBlur&&!f.addFromAutocompleteOnly&&h.addText(t.newTag.text()),a.triggerHandler("blur"),c()}).on("input-keydown",function(n){var i,r,a,o,l=n.keyCode,c={};s.isModifierOn(n)||-1===d.indexOf(l)||(c[e.enter]=f.addOnEnter,c[e.comma]=f.addOnComma,c[e.space]=f.addOnSpace,i=!f.addFromAutocompleteOnly&&c[l],r=(l===e.backspace||l===e.delete)&&h.selected,o=l===e.backspace&&0===t.newTag.text().length&&f.enableEditingLastTag,a=(l===e.backspace||l===e.left||l===e.right)&&0===t.newTag.text().length&&!f.enableEditingLastTag,i?h.addText(t.newTag.text()):o?(h.selectPrior(),h.removeSelected().then(function(e){e&&t.newTag.text(e[f.displayProperty])})):r?h.removeSelected():a&&(l===e.left||l===e.backspace?h.selectPrior():l===e.right&&h.selectNext()),(i||a||r||o)&&n.preventDefault())}).on("input-paste",function(e){if(f.addOnPaste){var t=e.getTextData(),n=t.split(f.pasteSplitPattern);n.length>1&&(n.forEach(function(e){h.addText(e)}),e.preventDefault())}})}}}]),n.directive("tiTagItem",["tiUtil",function(e){return{restrict:"E",require:"^tagsInput",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(t,n,i,r){var a=r.registerTagItem(),o=a.getOptions();t.$$template=o.template,t.$$removeTagSymbol=o.removeTagSymbol,t.$getDisplayText=function(){return e.safeToString(t.data[o.displayProperty])},t.$removeTag=function(){a.removeTag(t.$index)},t.$watch("$parent.$index",function(e){t.$index=e})}}}]),n.directive("autoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(t,n,i,r,a,o){function s(e,t,n){var i,a,s,l={};return s=function(){return t.tagsInput.keyProperty||t.tagsInput.displayProperty},i=function(e,n){return e.filter(function(e){return!o.findInObjectArray(n,e,s(),function(e,n){return t.tagsInput.replaceSpacesWithDashes&&(e=o.replaceSpacesWithDashes(e),n=o.replaceSpacesWithDashes(n)),o.defaultComparer(e,n)})})},l.reset=function(){a=null,l.items=[],l.visible=!1,l.index=-1,l.selected=null,l.query=null},l.show=function(){t.selectFirstMatch?l.select(0):l.selected=null,l.visible=!0},l.load=o.debounce(function(n,c){l.query=n;var u=r.when(e({$query:n}));a=u,u.then(function(e){u===a&&(e=o.makeObjectArray(e.data||e,s()),e=i(e,c),l.items=e.slice(0,t.maxResultsToShow),l.items.length>0?l.show():l.reset())})},t.debounceDelay),l.selectNext=function(){l.select(++l.index)},l.selectPrior=function(){l.select(--l.index)},l.select=function(e){e<0?e=l.items.length-1:e>=l.items.length&&(e=0),l.index=e,l.selected=l.items[e],n.trigger("suggestion-selected",e)},l.reset(),l}function l(e,t){var n=e.find("li").eq(t),i=n.parent(),r=n.prop("offsetTop"),a=n.prop("offsetHeight"),o=i.prop("clientHeight"),s=i.prop("scrollTop");r<s?i.prop("scrollTop",r):r+a>o+s&&i.prop("scrollTop",r+a-o)}return{restrict:"E",require:"^tagsInput",scope:{source:"&",matchClass:"&"},templateUrl:"ngTagsInput/auto-complete.html",controller:["$scope","$element","$attrs",function(e,t,n){e.events=o.simplePubSub(),a.load("autoComplete",e,n,{template:[String,"ngTagsInput/auto-complete-match.html"],debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0],displayProperty:[String,""]}),e.suggestionList=new s(e.source,e.options,e.events),this.registerAutocompleteMatch=function(){return{getOptions:function(){return e.options},getQuery:function(){return e.suggestionList.query}}}}],link:function(t,n,i,r){var a,s=[e.enter,e.tab,e.escape,e.up,e.down],c=t.suggestionList,u=r.registerAutocomplete(),d=t.options,h=t.events;d.tagsInput=u.getOptions(),a=function(e){return e&&e.length>=d.minLength||!e&&d.loadOnEmpty},t.templateScope=u.getTemplateScope(),t.addSuggestionByIndex=function(e){c.select(e),t.addSuggestion()},t.addSuggestion=function(){var e=!1;return c.selected&&(u.addTag(angular.copy(c.selected)),c.reset(),e=!0),e},t.track=function(e){return e[d.tagsInput.keyProperty||d.tagsInput.displayProperty]},t.getSuggestionClass=function(e,n){var i=e===c.selected;return[t.matchClass({$match:e,$index:n,$selected:i}),{selected:i}]},u.on("tag-added tag-removed invalid-tag input-blur",function(){c.reset()}).on("input-change",function(e){a(e)?c.load(e,u.getTags()):c.reset()}).on("input-focus",function(){var e=u.getCurrentTagText();d.loadOnFocus&&a(e)&&c.load(e,u.getTags())}).on("input-keydown",function(n){var i=n.keyCode,r=!1;if(!o.isModifierOn(n)&&-1!==s.indexOf(i))return c.visible?i===e.down?(c.selectNext(),r=!0):i===e.up?(c.selectPrior(),r=!0):i===e.escape?(c.reset(),r=!0):i!==e.enter&&i!==e.tab||(r=t.addSuggestion()):i===e.down&&t.options.loadOnDownArrow&&(c.load(u.getCurrentTagText(),u.getTags()),r=!0),r?(n.preventDefault(),n.stopImmediatePropagation(),!1):void 0}),h.on("suggestion-selected",function(e){l(n,e)})}}}]),n.directive("tiAutocompleteMatch",["$sce","tiUtil",function(e,t){return{restrict:"E",require:"^autoComplete",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(n,i,r,a){var o=a.registerAutocompleteMatch(),s=o.getOptions();n.$$template=s.template,n.$index=n.$parent.$index,n.$highlight=function(n){return s.highlightMatchedText&&(n=t.safeHighlight(n,o.getQuery())),e.trustAsHtml(n)},n.$getDisplayText=function(){return t.safeToString(n.data[s.displayProperty||s.tagsInput.displayProperty])}}}}]),n.directive("tiTranscludeAppend",function(){return function(e,t,n,i,r){r(function(e){t.append(e)})}}),n.directive("tiAutosize",["tagsInputConfig",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,i,r){var a,o,s=e.getTextAutosizeThreshold();a=angular.element('<span class="input"></span>'),a.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),n.parent().append(a),o=function(e){var t,r=e;return angular.isString(r)&&0===r.length&&(r=i.placeholder),r&&(a.text(r),a.css("display",""),t=a.prop("offsetWidth"),a.css("display","none")),n.css("width",t?t+s+"px":""),e},r.$parsers.unshift(o),r.$formatters.unshift(o),i.$observe("placeholder",function(e){r.$modelValue||o(e)})}}}]),n.directive("tiBindAttrs",function(){return function(e,t,n){e.$watch(n.tiBindAttrs,function(e){angular.forEach(e,function(e,t){n.$set(t,e)})},!0)}}),n.provider("tagsInputConfig",function(){var e={},t={},n=3;this.setDefaults=function(t,n){return e[t]=n,this},this.setActiveInterpolation=function(e,n){return t[e]=n,this},this.setTextAutosizeThreshold=function(e){return n=e,this},this.$get=["$interpolate",function(i){var r={};return r[String]=function(e){return e},r[Number]=function(e){return parseInt(e,10)},r[Boolean]=function(e){return"true"===e.toLowerCase()},r[RegExp]=function(e){return new RegExp(e)},{load:function(n,a,o,s){var l=function(){return!0};a.options={},angular.forEach(s,function(s,c){var u,d,h,p,f,g;u=s[0],d=s[1],h=s[2]||l,p=r[u],f=function(){var t=e[n]&&e[n][c];return angular.isDefined(t)?t:d},g=function(e){a.options[c]=e&&h(e)?p(e):f()},t[n]&&t[n][c]?o.$observe(c,function(e){g(e),a.events.trigger("option-change",{name:c,newValue:e})}):g(o[c]&&i(o[c])(a.$parent))})},getTextAutosizeThreshold:function(){return n}}}]}),n.factory("tiUtil",["$timeout","$q",function(e,t){var n={};return n.debounce=function(t,n){var i;return function(){var r=arguments;e.cancel(i),i=e(function(){t.apply(null,r)},n)}},n.makeObjectArray=function(e,t){if(!angular.isArray(e)||0===e.length||angular.isObject(e[0]))return e;var n=[];return e.forEach(function(e){var i={};i[t]=e,n.push(i)}),n},n.findInObjectArray=function(e,t,i,r){var a=null;return r=r||n.defaultComparer,e.some(function(e){if(r(e[i],t[i]))return a=e,!0}),a},n.defaultComparer=function(e,t){return n.safeToString(e).toLowerCase()===n.safeToString(t).toLowerCase()},n.safeHighlight=function(e,t){if(e=n.encodeHTML(e),!(t=n.encodeHTML(t)))return e;var i=new RegExp("&[^;]+;|"+function(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}(t),"gi");return e.replace(i,function(e){return e.toLowerCase()===t.toLowerCase()?"<em>"+e+"</em>":e})},n.safeToString=function(e){return angular.isUndefined(e)||null==e?"":e.toString().trim()},n.encodeHTML=function(e){return n.safeToString(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},n.handleUndefinedResult=function(e,t){return function(){var n=e.apply(null,arguments);return angular.isUndefined(n)?t:n}},n.replaceSpacesWithDashes=function(e){return n.safeToString(e).replace(/\s/g,"-")},n.isModifierOn=function(e){return e.shiftKey||e.ctrlKey||e.altKey||e.metaKey},n.promisifyValue=function(e){return e=!!angular.isUndefined(e)||e,t[e?"when":"reject"]()},n.simplePubSub=function(){var e={};return{on:function(t,n,i){return t.split(" ").forEach(function(t){e[t]||(e[t]=[]),(i?[].unshift:[].push).call(e[t],n)}),this},trigger:function(t,i){return(e[t]||[]).every(function(e){return n.handleUndefinedResult(e,!0)(i)}),this}}},n}]),n.run(["$templateCache",function(e){e.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ng-click="eventHandlers.host.click()" ti-transclude-append><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="getTagClass(tag, $index)" ng-click="eventHandlers.tag.click(tag)"><ti-tag-item scope="templateScope" data="::tag"></ti-tag-item></li></ul><input class="input" autocomplete="off" ng-model="newTag.text" ng-model-options="{getterSetter: true}" ng-keydown="eventHandlers.input.keydown($event)" ng-focus="eventHandlers.input.focus($event)" ng-blur="eventHandlers.input.blur($event)" ng-paste="eventHandlers.input.paste($event)" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize></div></div>'),e.put("ngTagsInput/tag-item.html",'<span ng-bind="$getDisplayText()"></span> <a class="remove-button" ng-click="$removeTag()" ng-bind="::$$removeTagSymbol"></a>'),e.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-if="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)" ng-class="getSuggestionClass(item, $index)" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)"><ti-autocomplete-match scope="templateScope" data="::item"></ti-autocomplete-match></li></ul></div>'),e.put("ngTagsInput/auto-complete-match.html",'<span ng-bind-html="$highlight($getDisplayText())"></span>')}])}(),/*!
 * Chart.js
 * http://chartjs.org/
 * Version: 2.1.6
 *
 * Copyright 2016 Nick Downie
 * Released under the MIT license
 * https://github.com/chartjs/Chart.js/blob/master/LICENSE.md
 */
function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Chart=e()}}(function(){return function e(t,n,i){function r(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){var n=t[o][1][e];return r(n||e)},u,u.exports,e,t,n,i)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,n){},{}],2:[function(e,t,n){function i(e){if(e){var t=/^#([a-fA-F0-9]{3})$/,n=/^#([a-fA-F0-9]{6})$/,i=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,r=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,a=/(\w+)/,o=[0,0,0],s=1,l=e.match(t);if(l){l=l[1];for(var c=0;c<o.length;c++)o[c]=parseInt(l[c]+l[c],16)}else if(l=e.match(n)){l=l[1];for(var c=0;c<o.length;c++)o[c]=parseInt(l.slice(2*c,2*c+2),16)}else if(l=e.match(i)){for(var c=0;c<o.length;c++)o[c]=parseInt(l[c+1]);s=parseFloat(l[4])}else if(l=e.match(r)){for(var c=0;c<o.length;c++)o[c]=Math.round(2.55*parseFloat(l[c+1]));s=parseFloat(l[4])}else if(l=e.match(a)){if("transparent"==l[1])return[0,0,0,0];if(!(o=w[l[1]]))return}for(var c=0;c<o.length;c++)o[c]=b(o[c],0,255);return s=s||0==s?b(s,0,1):1,o[3]=s,o}}function r(e){if(e){var t=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=e.match(t);if(n){var i=parseFloat(n[4]);return[b(parseInt(n[1]),0,360),b(parseFloat(n[2]),0,100),b(parseFloat(n[3]),0,100),b(isNaN(i)?1:i,0,1)]}}}function a(e){if(e){var t=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=e.match(t);if(n){var i=parseFloat(n[4]);return[b(parseInt(n[1]),0,360),b(parseFloat(n[2]),0,100),b(parseFloat(n[3]),0,100),b(isNaN(i)?1:i,0,1)]}}}function o(e){var t=i(e);return t&&t.slice(0,3)}function s(e){var t=r(e);return t&&t.slice(0,3)}function l(e){var t=i(e);return t?t[3]:(t=r(e))?t[3]:(t=a(e))?t[3]:void 0}function c(e){return"#"+y(e[0])+y(e[1])+y(e[2])}function u(e,t){return t<1||e[3]&&e[3]<1?d(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"}function d(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function h(e,t){return t<1||e[3]&&e[3]<1?p(e,t):"rgb("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%)"}function p(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function f(e,t){return t<1||e[3]&&e[3]<1?g(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"}function g(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function m(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"}function v(e){return x[e.slice(0,3)]}function b(e,t,n){return Math.min(Math.max(t,e),n)}function y(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}/* MIT license */
var w=e(6);t.exports={getRgba:i,getHsla:r,getRgb:o,getHsl:s,getHwb:a,getAlpha:l,hexString:c,rgbString:u,rgbaString:d,percentString:h,percentaString:p,hslString:f,hslaString:g,hwbString:m,keyword:v};var x={};for(var _ in w)x[w[_]]=_},{6:6}],3:[function(e,t,n){/* MIT license */
var i=e(5),r=e(2),a=function(e){if(e instanceof a)return e;if(!(this instanceof a))return new a(e);this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var t;if("string"==typeof e)if(t=r.getRgba(e))this.setValues("rgb",t);else if(t=r.getHsla(e))this.setValues("hsl",t);else{if(!(t=r.getHwb(e)))throw new Error('Unable to parse color from string "'+e+'"');this.setValues("hwb",t)}else if("object"==typeof e)if(t=e,void 0!==t.r||void 0!==t.red)this.setValues("rgb",t);else if(void 0!==t.l||void 0!==t.lightness)this.setValues("hsl",t);else if(void 0!==t.v||void 0!==t.value)this.setValues("hsv",t);else if(void 0!==t.w||void 0!==t.whiteness)this.setValues("hwb",t);else{if(void 0===t.c&&void 0===t.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(e));this.setValues("cmyk",t)}};a.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e%=360,e=e<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return r.hexString(this.values.rgb)},rgbString:function(){return r.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return r.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return r.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return r.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return r.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return r.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return r.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var i=e[n]/255;t[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=n<0?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=this,i=e,r=void 0===t?.5:t,a=2*r-1,o=n.alpha()-i.alpha(),s=((a*o==-1?a:(a+o)/(1+a*o))+1)/2,l=1-s;return this.rgb(s*n.red()+l*i.red(),s*n.green()+l*i.green(),s*n.blue()+l*i.blue()).alpha(n.alpha()*r+i.alpha()*(1-r))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n=new a,i=this.values,r=n.values;for(var o in i)i.hasOwnProperty(o)&&(e=i[o],t={}.toString.call(e),"[object Array]"===t?r[o]=e.slice(0):"[object Number]"===t?r[o]=e:console.error("unexpected color value:",e));return n}},a.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},a.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},a.prototype.getValues=function(e){for(var t=this.values,n={},i=0;i<e.length;i++)n[e.charAt(i)]=t[e][i];return 1!==t.alpha&&(n.a=t.alpha),n},a.prototype.setValues=function(e,t){var n,r=this.values,a=this.spaces,o=this.maxes,s=1;if("alpha"===e)s=t;else if(t.length)r[e]=t.slice(0,e.length),s=t[e.length];else if(void 0!==t[e.charAt(0)]){for(n=0;n<e.length;n++)r[e][n]=t[e.charAt(n)];s=t.a}else if(void 0!==t[a[e][0]]){var l=a[e];for(n=0;n<e.length;n++)r[e][n]=t[l[n]];s=t.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===s?r.alpha:s)),"alpha"===e)return!1;var c;for(n=0;n<e.length;n++)c=Math.max(0,Math.min(o[e][n],r[e][n])),r[e][n]=Math.round(c);for(var u in a)u!==e&&(r[u]=i[e][u](r[e]));return!0},a.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},a.prototype.setChannel=function(e,t,n){var i=this.values[e];return void 0===n?i[t]:n===i[t]?this:(i[t]=n,this.setValues(e,i),this)},"undefined"!=typeof window&&(window.Color=a),t.exports=a},{2:2,5:5}],4:[function(e,t,n){function i(e){var t,n,i,r=e[0]/255,a=e[1]/255,o=e[2]/255,s=Math.min(r,a,o),l=Math.max(r,a,o),c=l-s;return l==s?t=0:r==l?t=(a-o)/c:a==l?t=2+(o-r)/c:o==l&&(t=4+(r-a)/c),t=Math.min(60*t,360),t<0&&(t+=360),i=(s+l)/2,n=l==s?0:i<=.5?c/(l+s):c/(2-l-s),[t,100*n,100*i]}function a(e){var t,n,i,r=e[0],a=e[1],o=e[2],s=Math.min(r,a,o),l=Math.max(r,a,o),c=l-s;return n=0==l?0:c/l*1e3/10,l==s?t=0:r==l?t=(a-o)/c:a==l?t=2+(o-r)/c:o==l&&(t=4+(r-a)/c),t=Math.min(60*t,360),t<0&&(t+=360),i=l/255*1e3/10,[t,n,i]}function o(e){var t=e[0],n=e[1],r=e[2],a=i(e)[0],o=1/255*Math.min(t,Math.min(n,r)),r=1-1/255*Math.max(t,Math.max(n,r));return[a,100*o,100*r]}function s(e){var t,n,i,r,a=e[0]/255,o=e[1]/255,s=e[2]/255;return r=Math.min(1-a,1-o,1-s),t=(1-a-r)/(1-r)||0,n=(1-o-r)/(1-r)||0,i=(1-s-r)/(1-r)||0,[100*t,100*n,100*i,100*r]}function l(e){return J[JSON.stringify(e)]}function c(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255;return t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,[100*(.4124*t+.3576*n+.1805*i),100*(.2126*t+.7152*n+.0722*i),100*(.0193*t+.1192*n+.9505*i)]}function u(e){var t,n,i,r=c(e),a=r[0],o=r[1],s=r[2];return a/=95.047,o/=100,s/=108.883,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,t=116*o-16,n=500*(a-o),i=200*(o-s),[t,n,i]}function d(e){return F(u(e))}function h(e){var t,n,i,r,a,o=e[0]/360,s=e[1]/100,l=e[2]/100;if(0==s)return a=255*l,[a,a,a];n=l<.5?l*(1+s):l+s-l*s,t=2*l-n,r=[0,0,0];for(var c=0;c<3;c++)i=o+1/3*-(c-1),i<0&&i++,i>1&&i--,a=6*i<1?t+6*(n-t)*i:2*i<1?n:3*i<2?t+(n-t)*(2/3-i)*6:t,r[c]=255*a;return r}function p(e){var t,n,i=e[0],r=e[1]/100,a=e[2]/100;return 0===a?[0,0,0]:(a*=2,r*=a<=1?a:2-a,n=(a+r)/2,t=2*r/(a+r),[i,100*t,100*n])}function f(e){return o(h(e))}function m(e){return s(h(e))}function v(e){return l(h(e))}function y(e){var t=e[0]/60,n=e[1]/100,i=e[2]/100,r=Math.floor(t)%6,a=t-Math.floor(t),o=255*i*(1-n),s=255*i*(1-n*a),l=255*i*(1-n*(1-a)),i=255*i;switch(r){case 0:return[i,l,o];case 1:return[s,i,o];case 2:return[o,i,l];case 3:return[o,s,i];case 4:return[l,o,i];case 5:return[i,o,s]}}function w(e){var t,n,i=e[0],r=e[1]/100,a=e[2]/100;return n=(2-r)*a,t=r*a,t/=n<=1?n:2-n,t=t||0,n/=2,[i,100*t,100*n]}function x(e){return o(y(e))}function _(e){return s(y(e))}function k(e){return l(y(e))}function C(e){var t,n,i,a,o=e[0]/360,s=e[1]/100,l=e[2]/100,c=s+l;switch(c>1&&(s/=c,l/=c),t=Math.floor(6*o),n=1-l,i=6*o-t,0!=(1&t)&&(i=1-i),a=s+i*(n-s),t){default:case 6:case 0:r=n,g=a,b=s;break;case 1:r=a,g=n,b=s;break;case 2:r=s,g=n,b=a;break;case 3:r=s,g=a,b=n;break;case 4:r=a,g=s,b=n;break;case 5:r=n,g=s,b=a}return[255*r,255*g,255*b]}function S(e){return i(C(e))}function $(e){return a(C(e))}function D(e){return s(C(e))}function T(e){return l(C(e))}function E(e){var t,n,i,r=e[0]/100,a=e[1]/100,o=e[2]/100,s=e[3]/100;return t=1-Math.min(1,r*(1-s)+s),n=1-Math.min(1,a*(1-s)+s),i=1-Math.min(1,o*(1-s)+s),[255*t,255*n,255*i]}function M(e){return i(E(e))}function A(e){return a(E(e))}function O(e){return o(E(e))}function P(e){return l(E(e))}function I(e){var t,n,i,r=e[0]/100,a=e[1]/100,o=e[2]/100;return t=3.2406*r+-1.5372*a+-.4986*o,n=-.9689*r+1.8758*a+.0415*o,i=.0557*r+-.204*a+1.057*o,t=t>.0031308?1.055*Math.pow(t,1/2.4)-.055:t*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,t=Math.min(Math.max(0,t),1),n=Math.min(Math.max(0,n),1),i=Math.min(Math.max(0,i),1),[255*t,255*n,255*i]}function R(e){var t,n,i,r=e[0],a=e[1],o=e[2];return r/=95.047,a/=100,o/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,t=116*a-16,n=500*(r-a),i=200*(a-o),[t,n,i]}function N(e){return F(R(e))}function L(e){var t,n,i,r,a=e[0],o=e[1],s=e[2];return a<=8?(n=100*a/903.3,r=n/100*7.787+16/116):(n=100*Math.pow((a+16)/116,3),r=Math.pow(n/100,1/3)),t=t/95.047<=.008856?t=95.047*(o/500+r-16/116)/7.787:95.047*Math.pow(o/500+r,3),i=i/108.883<=.008859?i=108.883*(r-s/200-16/116)/7.787:108.883*Math.pow(r-s/200,3),[t,n,i]}function F(e){var t,n,i,r=e[0],a=e[1],o=e[2];return t=Math.atan2(o,a),n=360*t/2/Math.PI,n<0&&(n+=360),i=Math.sqrt(a*a+o*o),[r,i,n]}function z(e){return I(L(e))}function j(e){var t,n,i,r=e[0],a=e[1],o=e[2];return i=o/360*2*Math.PI,t=a*Math.cos(i),n=a*Math.sin(i),[r,t,n]}function H(e){return L(j(e))}function W(e){return z(j(e))}function B(e){return X[e]}function V(e){return i(B(e))}function U(e){return a(B(e))}function q(e){return o(B(e))}function Y(e){return s(B(e))}function K(e){return u(B(e))}function G(e){return c(B(e))}/* MIT license */
t.exports={rgb2hsl:i,rgb2hsv:a,rgb2hwb:o,rgb2cmyk:s,rgb2keyword:l,rgb2xyz:c,rgb2lab:u,rgb2lch:d,hsl2rgb:h,hsl2hsv:p,hsl2hwb:f,hsl2cmyk:m,hsl2keyword:v,hsv2rgb:y,hsv2hsl:w,hsv2hwb:x,hsv2cmyk:_,hsv2keyword:k,hwb2rgb:C,hwb2hsl:S,hwb2hsv:$,hwb2cmyk:D,hwb2keyword:T,cmyk2rgb:E,cmyk2hsl:M,cmyk2hsv:A,cmyk2hwb:O,cmyk2keyword:P,keyword2rgb:B,keyword2hsl:V,keyword2hsv:U,keyword2hwb:q,keyword2cmyk:Y,keyword2lab:K,keyword2xyz:G,xyz2rgb:I,xyz2lab:R,xyz2lch:N,lab2xyz:L,lab2rgb:z,lab2lch:F,lch2lab:j,lch2xyz:H,lch2rgb:W};var X={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},J={};for(var Z in X)J[JSON.stringify(X[Z])]=Z},{}],5:[function(e,t,n){var i=e(4),r=function(){return new c};for(var a in i){r[a+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),i[e](t)}}(a);var o=/(\w+)2(\w+)/.exec(a),s=o[1],l=o[2];r[s]=r[s]||{},r[s][l]=r[a]=function(e){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var n=i[e](t);if("string"==typeof n||void 0===n)return n;for(var r=0;r<n.length;r++)n[r]=Math.round(n[r]);return n}}(a)}var c=function(){this.convs={}};c.prototype.routeSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n))},c.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},c.prototype.getValues=function(e){var t=this.convs[e];if(!t){var n=this.space,i=this.convs[n];t=r[n][e](i),this.convs[e]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){c.prototype[e]=function(t){return this.routeSpace(e,arguments)}}),t.exports=r},{4:4}],6:[function(e,t,n){t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(e,t,n){var i=e(26)();e(25)(i),e(24)(i),e(21)(i),e(22)(i),e(23)(i),e(27)(i),e(31)(i),e(29)(i),e(30)(i),e(32)(i),e(28)(i),e(33)(i),e(34)(i),e(35)(i),e(36)(i),e(37)(i),e(40)(i),e(38)(i),e(39)(i),e(41)(i),e(42)(i),e(43)(i),e(15)(i),e(16)(i),e(17)(i),e(18)(i),e(19)(i),e(20)(i),e(8)(i),e(9)(i),e(10)(i),e(11)(i),e(12)(i),e(13)(i),e(14)(i),window.Chart=t.exports=i},{10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,8:8,9:9}],8:[function(e,t,n){"use strict";t.exports=function(e){e.Bar=function(t,n){return n.type="bar",new e(t,n)}}},{}],9:[function(e,t,n){"use strict";t.exports=function(e){e.Bubble=function(t,n){return n.type="bubble",new e(t,n)}}},{}],10:[function(e,t,n){"use strict";t.exports=function(e){e.Doughnut=function(t,n){return n.type="doughnut",new e(t,n)}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e){e.Line=function(t,n){return n.type="line",new e(t,n)}}},{}],12:[function(e,t,n){"use strict";t.exports=function(e){e.PolarArea=function(t,n){return n.type="polarArea",new e(t,n)}}},{}],13:[function(e,t,n){"use strict";t.exports=function(e){e.Radar=function(t,n){return n.options=e.helpers.configMerge({aspectRatio:1},n.options),n.type="radar",new e(t,n)}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e){var t={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(e,t){return""},label:function(e,t){return"("+e.xLabel+", "+e.yLabel+")"}}}};e.defaults.scatter=t,e.controllers.scatter=e.controllers.line,e.Scatter=function(t,n){return n.type="scatter",new e(t,n)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},e.controllers.bar=e.DatasetController.extend({dataElementType:e.elements.Rectangle,initialize:function(t,n){e.DatasetController.prototype.initialize.call(this,t,n),this.getMeta().bar=!0},getBarCount:function(){var e=this,n=0;return t.each(e.chart.data.datasets,function(t,i){e.chart.getDatasetMeta(i).bar&&e.chart.isDatasetVisible(i)&&++n},e),n},update:function(e){var n=this;t.each(n.getMeta().data,function(t,i){n.updateElement(t,i,e)},n)},updateElement:function(e,n,i){var r=this,a=r.getMeta(),o=r.getScaleForId(a.xAxisID),s=r.getScaleForId(a.yAxisID),l=s.getBasePixel(),c=r.chart.options.elements.rectangle,u=e.custom||{},d=r.getDataset();t.extend(e,{_xScale:o,_yScale:s,_datasetIndex:r.index,_index:n,_model:{x:r.calculateBarX(n,r.index),y:i?l:r.calculateBarY(n,r.index),label:r.chart.data.labels[n],datasetLabel:d.label,base:i?l:r.calculateBarBase(r.index,n),width:r.calculateBarWidth(n),backgroundColor:u.backgroundColor?u.backgroundColor:t.getValueAtIndexOrDefault(d.backgroundColor,n,c.backgroundColor),borderSkipped:u.borderSkipped?u.borderSkipped:c.borderSkipped,borderColor:u.borderColor?u.borderColor:t.getValueAtIndexOrDefault(d.borderColor,n,c.borderColor),borderWidth:u.borderWidth?u.borderWidth:t.getValueAtIndexOrDefault(d.borderWidth,n,c.borderWidth)}}),e.pivot()},calculateBarBase:function(e,t){var n=this,i=n.getMeta(),r=n.getScaleForId(i.yAxisID),a=0;if(r.options.stacked){var o=n.chart,s=o.data.datasets;if(s[e].data[t]<0)for(var l=0;l<e;l++){var c=s[l],u=o.getDatasetMeta(l);u.bar&&u.yAxisID===r.id&&o.isDatasetVisible(l)&&(a+=c.data[t]<0?c.data[t]:0)}else for(var d=0;d<e;d++){var h=s[d],p=o.getDatasetMeta(d);p.bar&&p.yAxisID===r.id&&o.isDatasetVisible(d)&&(a+=h.data[t]>0?h.data[t]:0)}return r.getPixelForValue(a)}return r.getBasePixel()},getRuler:function(e){var t,n=this,i=n.getMeta(),r=n.getScaleForId(i.xAxisID),a=n.getBarCount();t="category"===r.options.type?r.getPixelForTick(e+1)-r.getPixelForTick(e):r.width/r.ticks.length;var o=t*r.options.categoryPercentage,s=(t-t*r.options.categoryPercentage)/2,l=o/a;if(r.ticks.length!==n.chart.data.labels.length){l*=r.ticks.length/n.chart.data.labels.length}return{datasetCount:a,tickWidth:t,categoryWidth:o,categorySpacing:s,fullBarWidth:l,barWidth:l*r.options.barPercentage,barSpacing:l-l*r.options.barPercentage}},calculateBarWidth:function(e){var t=this.getScaleForId(this.getMeta().xAxisID),n=this.getRuler(e);return t.options.stacked?n.categoryWidth:n.barWidth},getBarIndex:function(e){var t,n,i=0;for(n=0;n<e;++n)t=this.chart.getDatasetMeta(n),t.bar&&this.chart.isDatasetVisible(n)&&++i;return i},calculateBarX:function(e,t){var n=this,i=n.getMeta(),r=n.getScaleForId(i.xAxisID),a=n.getBarIndex(t),o=n.getRuler(e),s=r.getPixelForValue(null,e,t,n.chart.isCombo);return s-=n.chart.isCombo?o.tickWidth/2:0,r.options.stacked?s+o.categoryWidth/2+o.categorySpacing:s+o.barWidth/2+o.categorySpacing+o.barWidth*a+o.barSpacing/2+o.barSpacing*a},calculateBarY:function(e,t){var n=this,i=n.getMeta(),r=n.getScaleForId(i.yAxisID),a=n.getDataset().data[e];if(r.options.stacked){for(var o=0,s=0,l=0;l<t;l++){var c=n.chart.data.datasets[l],u=n.chart.getDatasetMeta(l);u.bar&&u.yAxisID===r.id&&n.chart.isDatasetVisible(l)&&(c.data[e]<0?s+=c.data[e]||0:o+=c.data[e]||0)}return a<0?r.getPixelForValue(s+a):r.getPixelForValue(o+a)}return r.getPixelForValue(a)},draw:function(e){var n=this,i=e||1;t.each(n.getMeta().data,function(e,t){var r=n.getDataset().data[t];null===r||void 0===r||isNaN(r)||e.transition(i).draw()},n)},setHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e._index,r=e.custom||{},a=e._model;a.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:t.getValueAtIndexOrDefault(n.hoverBackgroundColor,i,t.getHoverColor(a.backgroundColor)),a.borderColor=r.hoverBorderColor?r.hoverBorderColor:t.getValueAtIndexOrDefault(n.hoverBorderColor,i,t.getHoverColor(a.borderColor)),a.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:t.getValueAtIndexOrDefault(n.hoverBorderWidth,i,a.borderWidth)},removeHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e._index,r=e.custom||{},a=e._model,o=this.chart.options.elements.rectangle;a.backgroundColor=r.backgroundColor?r.backgroundColor:t.getValueAtIndexOrDefault(n.backgroundColor,i,o.backgroundColor),a.borderColor=r.borderColor?r.borderColor:t.getValueAtIndexOrDefault(n.borderColor,i,o.borderColor),a.borderWidth=r.borderWidth?r.borderWidth:t.getValueAtIndexOrDefault(n.borderWidth,i,o.borderWidth)}}),e.defaults.horizontalBar={hover:{mode:"label"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(e,t){var n="";return e.length>0&&(e[0].yLabel?n=e[0].yLabel:t.labels.length>0&&e[0].index<t.labels.length&&(n=t.labels[e[0].index])),n},label:function(e,t){return(t.datasets[e.datasetIndex].label||"")+": "+e.xLabel}}}},e.controllers.horizontalBar=e.controllers.bar.extend({updateElement:function(e,n,i,r){var a=this,o=a.getMeta(),s=a.getScaleForId(o.xAxisID),l=a.getScaleForId(o.yAxisID),c=s.getBasePixel(),u=e.custom||{},d=a.getDataset(),h=a.chart.options.elements.rectangle;t.extend(e,{_xScale:s,_yScale:l,_datasetIndex:a.index,_index:n,_model:{x:i?c:a.calculateBarX(n,a.index),y:a.calculateBarY(n,a.index),label:a.chart.data.labels[n],datasetLabel:d.label,base:i?c:a.calculateBarBase(a.index,n),height:a.calculateBarHeight(n),backgroundColor:u.backgroundColor?u.backgroundColor:t.getValueAtIndexOrDefault(d.backgroundColor,n,h.backgroundColor),borderSkipped:u.borderSkipped?u.borderSkipped:h.borderSkipped,borderColor:u.borderColor?u.borderColor:t.getValueAtIndexOrDefault(d.borderColor,n,h.borderColor),borderWidth:u.borderWidth?u.borderWidth:t.getValueAtIndexOrDefault(d.borderWidth,n,h.borderWidth)},draw:function(){function e(e){return l[(u+e)%4]}var t=this._chart.ctx,n=this._view,i=n.height/2,r=n.y-i,a=n.y+i,o=n.base-(n.base-n.x),s=n.borderWidth/2;n.borderWidth&&(r+=s,a-=s,o+=s),t.beginPath(),t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth;var l=[[n.base,a],[n.base,r],[o,r],[o,a]],c=["bottom","left","top","right"],u=c.indexOf(n.borderSkipped,0);-1===u&&(u=0),t.moveTo.apply(t,e(0));for(var d=1;d<4;d++)t.lineTo.apply(t,e(d));t.fill(),n.borderWidth&&t.stroke()},inRange:function(e,t){var n=this._view,i=!1;return n&&(i=n.x<n.base?t>=n.y-n.height/2&&t<=n.y+n.height/2&&e>=n.x&&e<=n.base:t>=n.y-n.height/2&&t<=n.y+n.height/2&&e>=n.base&&e<=n.x),i}}),e.pivot()},calculateBarBase:function(e,t){var n=this,i=n.getMeta(),r=n.getScaleForId(i.xAxisID),a=0;if(r.options.stacked){if(n.chart.data.datasets[e].data[t]<0)for(var o=0;o<e;o++){var s=n.chart.data.datasets[o],l=n.chart.getDatasetMeta(o);l.bar&&l.xAxisID===r.id&&n.chart.isDatasetVisible(o)&&(a+=s.data[t]<0?s.data[t]:0)}else for(var c=0;c<e;c++){var u=n.chart.data.datasets[c],d=n.chart.getDatasetMeta(c);d.bar&&d.xAxisID===r.id&&n.chart.isDatasetVisible(c)&&(a+=u.data[t]>0?u.data[t]:0)}return r.getPixelForValue(a)}return r.getBasePixel()},getRuler:function(e){var t,n=this,i=n.getMeta(),r=n.getScaleForId(i.yAxisID),a=n.getBarCount();t="category"===r.options.type?r.getPixelForTick(e+1)-r.getPixelForTick(e):r.width/r.ticks.length;var o=t*r.options.categoryPercentage,s=(t-t*r.options.categoryPercentage)/2,l=o/a;if(r.ticks.length!==n.chart.data.labels.length){l*=r.ticks.length/n.chart.data.labels.length}return{datasetCount:a,tickHeight:t,categoryHeight:o,categorySpacing:s,fullBarHeight:l,barHeight:l*r.options.barPercentage,barSpacing:l-l*r.options.barPercentage}},calculateBarHeight:function(e){var t=this,n=t.getScaleForId(t.getMeta().yAxisID),i=t.getRuler(e);return n.options.stacked?i.categoryHeight:i.barHeight},calculateBarX:function(e,t){var n=this,i=n.getMeta(),r=n.getScaleForId(i.xAxisID),a=n.getDataset().data[e];if(r.options.stacked){for(var o=0,s=0,l=0;l<t;l++){var c=n.chart.data.datasets[l],u=n.chart.getDatasetMeta(l);u.bar&&u.xAxisID===r.id&&n.chart.isDatasetVisible(l)&&(c.data[e]<0?s+=c.data[e]||0:o+=c.data[e]||0)}return a<0?r.getPixelForValue(s+a):r.getPixelForValue(o+a)}return r.getPixelForValue(a)},calculateBarY:function(e,t){var n=this,i=n.getMeta(),r=n.getScaleForId(i.yAxisID),a=n.getBarIndex(t),o=n.getRuler(e),s=r.getPixelForValue(null,e,t,n.chart.isCombo);return s-=n.chart.isCombo?o.tickHeight/2:0,r.options.stacked?s+o.categoryHeight/2+o.categorySpacing:s+o.barHeight/2+o.categorySpacing+o.barHeight*a+o.barSpacing/2+o.barSpacing*a}})}},{}],16:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(e,t){return""},label:function(e,t){var n=t.datasets[e.datasetIndex].label||"",i=t.datasets[e.datasetIndex].data[e.index];return n+": ("+i.x+", "+i.y+", "+i.r+")"}}}},e.controllers.bubble=e.DatasetController.extend({dataElementType:e.elements.Point,update:function(e){var n=this,i=n.getMeta(),r=i.data;t.each(r,function(t,i){n.updateElement(t,i,e)})},updateElement:function(n,i,r){var a=this,o=a.getMeta(),s=a.getScaleForId(o.xAxisID),l=a.getScaleForId(o.yAxisID),c=n.custom||{},u=a.getDataset(),d=u.data[i],h=a.chart.options.elements.point,p=a.index;t.extend(n,{_xScale:s,_yScale:l,_datasetIndex:p,_index:i,_model:{x:r?s.getPixelForDecimal(.5):s.getPixelForValue(d,i,p,a.chart.isCombo),y:r?l.getBasePixel():l.getPixelForValue(d,i,p),radius:r?0:c.radius?c.radius:a.getRadius(d),hitRadius:c.hitRadius?c.hitRadius:t.getValueAtIndexOrDefault(u.hitRadius,i,h.hitRadius)}}),e.DatasetController.prototype.removeHoverStyle.call(a,n,h);var f=n._model;f.skip=c.skip?c.skip:isNaN(f.x)||isNaN(f.y),n.pivot()},getRadius:function(e){return e.r||this.chart.options.elements.point.radius},setHoverStyle:function(n){var i=this;e.DatasetController.prototype.setHoverStyle.call(i,n);var r=i.chart.data.datasets[n._datasetIndex],a=n._index,o=n.custom||{};n._model.radius=o.hoverRadius?o.hoverRadius:t.getValueAtIndexOrDefault(r.hoverRadius,a,i.chart.options.elements.point.hoverRadius)+i.getRadius(r.data[a])},removeHoverStyle:function(t){var n=this;e.DatasetController.prototype.removeHoverStyle.call(n,t,n.chart.options.elements.point);var i=n.chart.data.datasets[t._datasetIndex].data[t._index],r=t.custom||{};t._model.radius=r.radius?r.radius:n.getRadius(i)}})}},{}],17:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=e.defaults;n.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,i=n.datasets,r=n.labels;if(i.length)for(var a=0;a<i[0].data.length;++a)t.push('<li><span style="background-color:'+i[0].backgroundColor[a]+'"></span>'),r[a]&&t.push(r[a]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var n=e.data;return n.labels.length&&n.datasets.length?n.labels.map(function(i,r){var a=e.getDatasetMeta(0),o=n.datasets[0],s=a.data[r],l=s.custom||{},c=t.getValueAtIndexOrDefault,u=e.options.elements.arc;return{text:i,fillStyle:l.backgroundColor?l.backgroundColor:c(o.backgroundColor,r,u.backgroundColor),strokeStyle:l.borderColor?l.borderColor:c(o.borderColor,r,u.borderColor),lineWidth:l.borderWidth?l.borderWidth:c(o.borderWidth,r,u.borderWidth),hidden:isNaN(o.data[r])||a.data[r].hidden,index:r}}):[]}},onClick:function(e,t){var n,i,r,a=t.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;n<i;++n)r=o.getDatasetMeta(n),r.data[a].hidden=!r.data[a].hidden;o.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+t.datasets[e.datasetIndex].data[e.index]}}}},n.pie=t.clone(n.doughnut),t.extend(n.pie,{cutoutPercentage:0}),e.controllers.doughnut=e.controllers.pie=e.DatasetController.extend({dataElementType:e.elements.Arc,linkScales:t.noop,getRingIndex:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var n=this,i=n.chart,r=i.chartArea,a=i.options,o=a.elements.arc,s=r.right-r.left-o.borderWidth,l=r.bottom-r.top-o.borderWidth,c=Math.min(s,l),u={x:0,y:0},d=n.getMeta(),h=a.cutoutPercentage,p=a.circumference;if(p<2*Math.PI){var f=a.rotation%(2*Math.PI);f+=2*Math.PI*(f>=Math.PI?-1:f<-Math.PI?1:0);var g=f+p,m={x:Math.cos(f),y:Math.sin(f)},v={x:Math.cos(g),y:Math.sin(g)},b=f<=0&&0<=g||f<=2*Math.PI&&2*Math.PI<=g,y=f<=.5*Math.PI&&.5*Math.PI<=g||f<=2.5*Math.PI&&2.5*Math.PI<=g,w=f<=-Math.PI&&-Math.PI<=g||f<=Math.PI&&Math.PI<=g,x=f<=.5*-Math.PI&&.5*-Math.PI<=g||f<=1.5*Math.PI&&1.5*Math.PI<=g,_=h/100,k={x:w?-1:Math.min(m.x*(m.x<0?1:_),v.x*(v.x<0?1:_)),y:x?-1:Math.min(m.y*(m.y<0?1:_),v.y*(v.y<0?1:_))},C={x:b?1:Math.max(m.x*(m.x>0?1:_),v.x*(v.x>0?1:_)),y:y?1:Math.max(m.y*(m.y>0?1:_),v.y*(v.y>0?1:_))},S={width:.5*(C.x-k.x),height:.5*(C.y-k.y)};c=Math.min(s/S.width,l/S.height),u={x:-.5*(C.x+k.x),y:-.5*(C.y+k.y)}}i.outerRadius=Math.max(c/2,0),i.innerRadius=Math.max(h?i.outerRadius/100*h:1,0),i.radiusLength=(i.outerRadius-i.innerRadius)/i.getVisibleDatasetCount(),i.offsetX=u.x*i.outerRadius,i.offsetY=u.y*i.outerRadius,d.total=n.calculateTotal(),n.outerRadius=i.outerRadius-i.radiusLength*n.getRingIndex(n.index),n.innerRadius=n.outerRadius-i.radiusLength,t.each(d.data,function(t,i){n.updateElement(t,i,e)})},updateElement:function(e,n,i){var r=this,a=r.chart,o=a.chartArea,s=a.options,l=s.animation,c=(s.elements.arc,(o.left+o.right)/2),u=(o.top+o.bottom)/2,d=s.rotation,h=s.rotation,p=r.getDataset(),f=i&&l.animateRotate?0:e.hidden?0:r.calculateCircumference(p.data[n])*(s.circumference/(2*Math.PI)),g=i&&l.animateScale?0:r.innerRadius,m=i&&l.animateScale?0:r.outerRadius,v=(e.custom,t.getValueAtIndexOrDefault);t.extend(e,{_datasetIndex:r.index,_index:n,_model:{x:c+a.offsetX,y:u+a.offsetY,startAngle:d,endAngle:h,circumference:f,outerRadius:m,innerRadius:g,label:v(p.label,n,a.data.labels[n])}});var b=e._model;this.removeHoverStyle(e),i&&l.animateRotate||(b.startAngle=0===n?s.rotation:r.getMeta().data[n-1]._model.endAngle,b.endAngle=b.startAngle+b.circumference),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},calculateTotal:function(){var e,n=this.getDataset(),i=this.getMeta(),r=0;return t.each(i.data,function(t,i){e=n.data[i],isNaN(e)||t.hidden||(r+=Math.abs(e))}),r},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?2*Math.PI*(e/t):0}})}},{}],18:[function(e,t,n){"use strict";t.exports=function(e){function t(e,t){return n.getValueOrDefault(e.showLine,t.showLines)}var n=e.helpers;e.defaults.line={showLines:!0,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},e.controllers.line=e.DatasetController.extend({datasetElementType:e.elements.Line,dataElementType:e.elements.Point,addElementAndReset:function(n){var i=this,r=i.chart.options,a=i.getMeta();e.DatasetController.prototype.addElementAndReset.call(i,n),t(i.getDataset(),r)&&0!==a.dataset._model.tension&&i.updateBezierControlPoints()},update:function(e){var i,r,a,o=this,s=o.getMeta(),l=s.dataset,c=s.data||[],u=o.chart.options,d=u.elements.line,h=o.getScaleForId(s.yAxisID),p=o.getDataset(),f=t(p,u);for(f&&(a=l.custom||{},void 0!==p.tension&&void 0===p.lineTension&&(p.lineTension=p.tension),l._scale=h,l._datasetIndex=o.index,l._children=c,l._model={spanGaps:!!p.spanGaps&&p.spanGaps,tension:a.tension?a.tension:n.getValueOrDefault(p.lineTension,d.tension),backgroundColor:a.backgroundColor?a.backgroundColor:p.backgroundColor||d.backgroundColor,borderWidth:a.borderWidth?a.borderWidth:p.borderWidth||d.borderWidth,borderColor:a.borderColor?a.borderColor:p.borderColor||d.borderColor,borderCapStyle:a.borderCapStyle?a.borderCapStyle:p.borderCapStyle||d.borderCapStyle,borderDash:a.borderDash?a.borderDash:p.borderDash||d.borderDash,borderDashOffset:a.borderDashOffset?a.borderDashOffset:p.borderDashOffset||d.borderDashOffset,borderJoinStyle:a.borderJoinStyle?a.borderJoinStyle:p.borderJoinStyle||d.borderJoinStyle,fill:a.fill?a.fill:void 0!==p.fill?p.fill:d.fill,scaleTop:h.top,scaleBottom:h.bottom,scaleZero:h.getBasePixel()},l.pivot()),i=0,r=c.length;i<r;++i)o.updateElement(c[i],i,e);for(f&&0!==l._model.tension&&o.updateBezierControlPoints(),i=0,r=c.length;i<r;++i)c[i].pivot()},getPointBackgroundColor:function(e,t){var i=this.chart.options.elements.point.backgroundColor,r=this.getDataset(),a=e.custom||{};return a.backgroundColor?i=a.backgroundColor:r.pointBackgroundColor?i=n.getValueAtIndexOrDefault(r.pointBackgroundColor,t,i):r.backgroundColor&&(i=r.backgroundColor),i},getPointBorderColor:function(e,t){var i=this.chart.options.elements.point.borderColor,r=this.getDataset(),a=e.custom||{};return a.borderColor?i=a.borderColor:r.pointBorderColor?i=n.getValueAtIndexOrDefault(r.pointBorderColor,t,i):r.borderColor&&(i=r.borderColor),i},getPointBorderWidth:function(e,t){var i=this.chart.options.elements.point.borderWidth,r=this.getDataset(),a=e.custom||{};return a.borderWidth?i=a.borderWidth:r.pointBorderWidth?i=n.getValueAtIndexOrDefault(r.pointBorderWidth,t,i):r.borderWidth&&(i=r.borderWidth),i},updateElement:function(e,t,i){var r,a,o=this,s=o.getMeta(),l=e.custom||{},c=o.getDataset(),u=o.index,d=c.data[t],h=o.getScaleForId(s.yAxisID),p=o.getScaleForId(s.xAxisID),f=o.chart.options.elements.point;void 0!==c.radius&&void 0===c.pointRadius&&(c.pointRadius=c.radius),void 0!==c.hitRadius&&void 0===c.pointHitRadius&&(c.pointHitRadius=c.hitRadius),r=p.getPixelForValue(d,t,u,o.chart.isCombo),a=i?h.getBasePixel():o.calculatePointY(d,t,u,o.chart.isCombo),e._xScale=p,e._yScale=h,e._datasetIndex=u,e._index=t,e._model={x:r,y:a,skip:l.skip||isNaN(r)||isNaN(a),radius:l.radius||n.getValueAtIndexOrDefault(c.pointRadius,t,f.radius),pointStyle:l.pointStyle||n.getValueAtIndexOrDefault(c.pointStyle,t,f.pointStyle),backgroundColor:o.getPointBackgroundColor(e,t),borderColor:o.getPointBorderColor(e,t),borderWidth:o.getPointBorderWidth(e,t),tension:s.dataset._model?s.dataset._model.tension:0,hitRadius:l.hitRadius||n.getValueAtIndexOrDefault(c.pointHitRadius,t,f.hitRadius)}},calculatePointY:function(e,t,n,i){var r,a,o,s=this,l=s.chart,c=s.getMeta(),u=s.getScaleForId(c.yAxisID),d=0,h=0;if(u.options.stacked){for(r=0;r<n;r++)a=l.data.datasets[r],o=l.getDatasetMeta(r),"line"===o.type&&l.isDatasetVisible(r)&&(a.data[t]<0?h+=a.data[t]||0:d+=a.data[t]||0);return e<0?u.getPixelForValue(h+e):u.getPixelForValue(d+e)}return u.getPixelForValue(e)},updateBezierControlPoints:function(){var e,t,i,r,a,o=this.getMeta(),s=(this.chart.chartArea,o.data||[]);for(e=0,t=s.length;e<t;++e)i=s[e],r=i._model,a=n.splineCurve(n.previousItem(s,e)._model,r,n.nextItem(s,e)._model,o.dataset._model.tension),r.controlPointPreviousX=a.previous.x,r.controlPointPreviousY=a.previous.y,r.controlPointNextX=a.next.x,r.controlPointNextY=a.next.y},draw:function(e){var n,i,r=this,a=r.getMeta(),o=a.data||[],s=e||1;for(n=0,i=o.length;n<i;++n)o[n].transition(s);for(t(r.getDataset(),r.chart.options)&&a.dataset.transition(s).draw(),n=0,i=o.length;n<i;++n)o[n].draw()},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],i=e._index,r=e.custom||{},a=e._model;a.radius=r.hoverRadius||n.getValueAtIndexOrDefault(t.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),a.backgroundColor=r.hoverBackgroundColor||n.getValueAtIndexOrDefault(t.pointHoverBackgroundColor,i,n.getHoverColor(a.backgroundColor)),a.borderColor=r.hoverBorderColor||n.getValueAtIndexOrDefault(t.pointHoverBorderColor,i,n.getHoverColor(a.borderColor)),a.borderWidth=r.hoverBorderWidth||n.getValueAtIndexOrDefault(t.pointHoverBorderWidth,i,a.borderWidth)},removeHoverStyle:function(e){var t=this,i=t.chart.data.datasets[e._datasetIndex],r=e._index,a=e.custom||{},o=e._model;void 0!==i.radius&&void 0===i.pointRadius&&(i.pointRadius=i.radius),o.radius=a.radius||n.getValueAtIndexOrDefault(i.pointRadius,r,t.chart.options.elements.point.radius),o.backgroundColor=t.getPointBackgroundColor(e,r),o.borderColor=t.getPointBorderColor(e,r),o.borderWidth=t.getPointBorderWidth(e,r)}})}},{}],19:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0},animation:{animateRotate:!0,animateScale:!0},aspectRatio:1,legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,i=n.datasets,r=n.labels;if(i.length)for(var a=0;a<i[0].data.length;++a)t.push('<li><span style="background-color:'+i[0].backgroundColor[a]+'">'),r[a]&&t.push(r[a]),t.push("</span></li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var n=e.data;return n.labels.length&&n.datasets.length?n.labels.map(function(i,r){var a=e.getDatasetMeta(0),o=n.datasets[0],s=a.data[r],l=s.custom||{},c=t.getValueAtIndexOrDefault,u=e.options.elements.arc;return{text:i,fillStyle:l.backgroundColor?l.backgroundColor:c(o.backgroundColor,r,u.backgroundColor),strokeStyle:l.borderColor?l.borderColor:c(o.borderColor,r,u.borderColor),lineWidth:l.borderWidth?l.borderWidth:c(o.borderWidth,r,u.borderWidth),hidden:isNaN(o.data[r])||a.data[r].hidden,index:r}}):[]}},onClick:function(e,t){var n,i,r,a=t.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;n<i;++n)r=o.getDatasetMeta(n),r.data[a].hidden=!r.data[a].hidden;o.update()}},tooltips:{
callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}},e.controllers.polarArea=e.DatasetController.extend({dataElementType:e.elements.Arc,linkScales:t.noop,update:function(e){var n=this,i=n.chart,r=i.chartArea,a=n.getMeta(),o=i.options,s=o.elements.arc,l=Math.min(r.right-r.left,r.bottom-r.top);i.outerRadius=Math.max((l-s.borderWidth/2)/2,0),i.innerRadius=Math.max(o.cutoutPercentage?i.outerRadius/100*o.cutoutPercentage:1,0),i.radiusLength=(i.outerRadius-i.innerRadius)/i.getVisibleDatasetCount(),n.outerRadius=i.outerRadius-i.radiusLength*n.index,n.innerRadius=n.outerRadius-i.radiusLength,a.count=n.countVisibleElements(),t.each(a.data,function(t,i){n.updateElement(t,i,e)})},updateElement:function(e,n,i){for(var r=this,a=r.chart,o=a.chartArea,s=r.getDataset(),l=a.options,c=l.animation,u=(l.elements.arc,e.custom,a.scale),d=t.getValueAtIndexOrDefault,h=a.data.labels,p=r.calculateCircumference(s.data[n]),f=(o.left+o.right)/2,g=(o.top+o.bottom)/2,m=0,v=r.getMeta(),b=0;b<n;++b)isNaN(s.data[b])||v.data[b].hidden||++m;var y=-.5*Math.PI,w=e.hidden?0:u.getDistanceFromCenterForValue(s.data[n]),x=y+p*m,_=x+(e.hidden?0:p),k=c.animateScale?0:u.getDistanceFromCenterForValue(s.data[n]);t.extend(e,{_datasetIndex:r.index,_index:n,_scale:u,_model:{x:f,y:g,innerRadius:0,outerRadius:i?k:w,startAngle:i&&c.animateRotate?y:x,endAngle:i&&c.animateRotate?y:_,label:d(h,n,h[n])}}),r.removeHoverStyle(e),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},countVisibleElements:function(){var e=this.getDataset(),n=this.getMeta(),i=0;return t.each(n.data,function(t,n){isNaN(e.data[n])||t.hidden||i++}),i},calculateCircumference:function(e){var t=this.getMeta().count;return t>0&&!isNaN(e)?2*Math.PI/t:0}})}},{}],20:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.radar={scale:{type:"radialLinear"},elements:{line:{tension:0}}},e.controllers.radar=e.DatasetController.extend({datasetElementType:e.elements.Line,dataElementType:e.elements.Point,linkScales:t.noop,addElementAndReset:function(t){e.DatasetController.prototype.addElementAndReset.call(this,t),this.updateBezierControlPoints()},update:function(e){var n=this,i=n.getMeta(),r=i.dataset,a=i.data,o=r.custom||{},s=n.getDataset(),l=n.chart.options.elements.line,c=n.chart.scale;void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),t.extend(i.dataset,{_datasetIndex:n.index,_children:a,_loop:!0,_model:{tension:o.tension?o.tension:t.getValueOrDefault(s.lineTension,l.tension),backgroundColor:o.backgroundColor?o.backgroundColor:s.backgroundColor||l.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:s.borderWidth||l.borderWidth,borderColor:o.borderColor?o.borderColor:s.borderColor||l.borderColor,fill:o.fill?o.fill:void 0!==s.fill?s.fill:l.fill,borderCapStyle:o.borderCapStyle?o.borderCapStyle:s.borderCapStyle||l.borderCapStyle,borderDash:o.borderDash?o.borderDash:s.borderDash||l.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:s.borderDashOffset||l.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:s.borderJoinStyle||l.borderJoinStyle,scaleTop:c.top,scaleBottom:c.bottom,scaleZero:c.getBasePosition()}}),i.dataset.pivot(),t.each(a,function(t,i){n.updateElement(t,i,e)},n),n.updateBezierControlPoints()},updateElement:function(e,n,i){var r=this,a=e.custom||{},o=r.getDataset(),s=r.chart.scale,l=r.chart.options.elements.point,c=s.getPointPositionForValue(n,o.data[n]);t.extend(e,{_datasetIndex:r.index,_index:n,_scale:s,_model:{x:i?s.xCenter:c.x,y:i?s.yCenter:c.y,tension:a.tension?a.tension:t.getValueOrDefault(o.tension,r.chart.options.elements.line.tension),radius:a.radius?a.radius:t.getValueAtIndexOrDefault(o.pointRadius,n,l.radius),backgroundColor:a.backgroundColor?a.backgroundColor:t.getValueAtIndexOrDefault(o.pointBackgroundColor,n,l.backgroundColor),borderColor:a.borderColor?a.borderColor:t.getValueAtIndexOrDefault(o.pointBorderColor,n,l.borderColor),borderWidth:a.borderWidth?a.borderWidth:t.getValueAtIndexOrDefault(o.pointBorderWidth,n,l.borderWidth),pointStyle:a.pointStyle?a.pointStyle:t.getValueAtIndexOrDefault(o.pointStyle,n,l.pointStyle),hitRadius:a.hitRadius?a.hitRadius:t.getValueAtIndexOrDefault(o.hitRadius,n,l.hitRadius)}}),e._model.skip=a.skip?a.skip:isNaN(e._model.x)||isNaN(e._model.y)},updateBezierControlPoints:function(){var e=this.chart.chartArea,n=this.getMeta();t.each(n.data,function(i,r){var a=i._model,o=t.splineCurve(t.previousItem(n.data,r,!0)._model,a,t.nextItem(n.data,r,!0)._model,a.tension);a.controlPointPreviousX=Math.max(Math.min(o.previous.x,e.right),e.left),a.controlPointPreviousY=Math.max(Math.min(o.previous.y,e.bottom),e.top),a.controlPointNextX=Math.max(Math.min(o.next.x,e.right),e.left),a.controlPointNextY=Math.max(Math.min(o.next.y,e.bottom),e.top),i.pivot()})},draw:function(e){var n=this.getMeta(),i=e||1;t.each(n.data,function(e,t){e.transition(i)}),n.dataset.transition(i).draw(),t.each(n.data,function(e){e.draw()})},setHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e.custom||{},r=e._index,a=e._model;a.radius=i.hoverRadius?i.hoverRadius:t.getValueAtIndexOrDefault(n.pointHoverRadius,r,this.chart.options.elements.point.hoverRadius),a.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:t.getValueAtIndexOrDefault(n.pointHoverBackgroundColor,r,t.getHoverColor(a.backgroundColor)),a.borderColor=i.hoverBorderColor?i.hoverBorderColor:t.getValueAtIndexOrDefault(n.pointHoverBorderColor,r,t.getHoverColor(a.borderColor)),a.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:t.getValueAtIndexOrDefault(n.pointHoverBorderWidth,r,a.borderWidth)},removeHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e.custom||{},r=e._index,a=e._model,o=this.chart.options.elements.point;a.radius=i.radius?i.radius:t.getValueAtIndexOrDefault(n.radius,r,o.radius),a.backgroundColor=i.backgroundColor?i.backgroundColor:t.getValueAtIndexOrDefault(n.pointBackgroundColor,r,o.backgroundColor),a.borderColor=i.borderColor?i.borderColor:t.getValueAtIndexOrDefault(n.pointBorderColor,r,o.borderColor),a.borderWidth=i.borderWidth?i.borderWidth:t.getValueAtIndexOrDefault(n.pointBorderWidth,r,o.borderWidth)}})}},{}],21:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:t.noop,onComplete:t.noop},e.Animation=e.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),e.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(e,t,n,i){var r=this;i||(e.animating=!0);for(var a=0;a<r.animations.length;++a)if(r.animations[a].chartInstance===e)return void(r.animations[a].animationObject=t);r.animations.push({chartInstance:e,animationObject:t}),1===r.animations.length&&r.requestAnimationFrame()},cancelAnimation:function(e){var n=t.findIndex(this.animations,function(t){return t.chartInstance===e});-1!==n&&(this.animations.splice(n,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=t.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){var e=this,t=Date.now(),n=0;e.dropFrames>1&&(n=Math.floor(e.dropFrames),e.dropFrames=e.dropFrames%1);for(var i=0;i<e.animations.length;)null===e.animations[i].animationObject.currentStep&&(e.animations[i].animationObject.currentStep=0),e.animations[i].animationObject.currentStep+=1+n,e.animations[i].animationObject.currentStep>e.animations[i].animationObject.numSteps&&(e.animations[i].animationObject.currentStep=e.animations[i].animationObject.numSteps),e.animations[i].animationObject.render(e.animations[i].chartInstance,e.animations[i].animationObject),e.animations[i].animationObject.onAnimationProgress&&e.animations[i].animationObject.onAnimationProgress.call&&e.animations[i].animationObject.onAnimationProgress.call(e.animations[i].chartInstance,e.animations[i]),e.animations[i].animationObject.currentStep===e.animations[i].animationObject.numSteps?(e.animations[i].animationObject.onAnimationComplete&&e.animations[i].animationObject.onAnimationComplete.call&&e.animations[i].animationObject.onAnimationComplete.call(e.animations[i].chartInstance,e.animations[i]),e.animations[i].chartInstance.animating=!1,e.animations.splice(i,1)):++i;var r=Date.now(),a=(r-t)/e.frameDuration;e.dropFrames+=a,e.animations.length>0&&e.requestAnimationFrame()}}}},{}],22:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.types={},e.instances={},e.controllers={},e.Controller=function(n){return this.chart=n,this.config=n.config,this.options=this.config.options=t.configMerge(e.defaults.global,e.defaults[this.config.type],this.config.options||{}),this.id=t.uid(),Object.defineProperty(this,"data",{get:function(){return this.config.data}}),e.instances[this.id]=this,this.options.responsive&&this.resize(!0),this.initialize(),this},t.extend(e.Controller.prototype,{initialize:function(){var t=this;return e.plugins.notify("beforeInit",[t]),t.bindEvents(),t.ensureScalesHaveIDs(),t.buildOrUpdateControllers(),t.buildScales(),t.updateLayout(),t.resetElements(),t.initToolTip(),t.update(),e.plugins.notify("afterInit",[t]),t},clear:function(){return t.clear(this.chart),this},stop:function(){return e.animationService.cancelAnimation(this),this},resize:function(n){var i=this,r=i.chart,a=r.canvas,o=t.getMaximumWidth(a),s=r.aspectRatio,l=i.options.maintainAspectRatio&&!1===isNaN(s)&&isFinite(s)&&0!==s?o/s:t.getMaximumHeight(a);if(r.width===o&&r.height===l)return i;a.width=r.width=o,a.height=r.height=l,t.retinaScale(r);var c={width:o,height:l};return e.plugins.notify("resize",[i,c]),i.options.onResize&&i.options.onResize(i,c),n||(i.stop(),i.update(i.options.responsiveAnimationDuration)),i},ensureScalesHaveIDs:function(){var e=this.options,n=e.scales||{},i=e.scale;t.each(n.xAxes,function(e,t){e.id=e.id||"x-axis-"+t}),t.each(n.yAxes,function(e,t){e.id=e.id||"y-axis-"+t}),i&&(i.id=i.id||"scale")},buildScales:function(){var n=this,i=n.options,r=n.scales={},a=[];i.scales&&(a=a.concat((i.scales.xAxes||[]).map(function(e){return{options:e,dtype:"category"}}),(i.scales.yAxes||[]).map(function(e){return{options:e,dtype:"linear"}}))),i.scale&&a.push({options:i.scale,dtype:"radialLinear",isDefault:!0}),t.each(a,function(i,a){var o=i.options,s=t.getValueOrDefault(o.type,i.dtype),l=e.scaleService.getScaleConstructor(s);if(l){var c=new l({id:o.id,options:o,ctx:n.chart.ctx,chart:n});r[c.id]=c,i.isDefault&&(n.scale=c)}}),e.scaleService.addScalesToLayout(this)},updateLayout:function(){e.layoutService.update(this,this.chart.width,this.chart.height)},buildOrUpdateControllers:function(){var n=this,i=[],r=[];if(t.each(n.data.datasets,function(t,a){var o=n.getDatasetMeta(a);o.type||(o.type=t.type||n.config.type),i.push(o.type),o.controller?o.controller.updateIndex(a):(o.controller=new e.controllers[o.type](n,a),r.push(o.controller))},n),i.length>1)for(var a=1;a<i.length;a++)if(i[a]!==i[a-1]){n.isCombo=!0;break}return r},resetElements:function(){var e=this;t.each(e.data.datasets,function(t,n){e.getDatasetMeta(n).controller.reset()},e)},update:function(n,i){var r=this;e.plugins.notify("beforeUpdate",[r]),r.tooltip._data=r.data;var a=r.buildOrUpdateControllers();t.each(r.data.datasets,function(e,t){r.getDatasetMeta(t).controller.buildOrUpdateElements()},r),e.layoutService.update(r,r.chart.width,r.chart.height),e.plugins.notify("afterScaleUpdate",[r]),t.each(a,function(e){e.reset()}),r.updateDatasets(),e.plugins.notify("afterUpdate",[r]),r.render(n,i)},updateDatasets:function(){var t,n,i=this;if(e.plugins.notify("beforeDatasetsUpdate",[i])){for(t=0,n=i.data.datasets.length;t<n;++t)i.getDatasetMeta(t).controller.update();e.plugins.notify("afterDatasetsUpdate",[i])}},render:function(n,i){var r=this;e.plugins.notify("beforeRender",[r]);var a=r.options.animation;if(a&&(void 0!==n&&0!==n||void 0===n&&0!==a.duration)){var o=new e.Animation;o.numSteps=(n||a.duration)/16.66,o.easing=a.easing,o.render=function(e,n){var i=t.easingEffects[n.easing],r=n.currentStep/n.numSteps,a=i(r);e.draw(a,r,n.currentStep)},o.onAnimationProgress=a.onProgress,o.onAnimationComplete=a.onComplete,e.animationService.addAnimation(r,o,n,i)}else r.draw(),a&&a.onComplete&&a.onComplete.call&&a.onComplete.call(r);return r},draw:function(n){var i=this,r=n||1;i.clear(),e.plugins.notify("beforeDraw",[i,r]),t.each(i.boxes,function(e){e.draw(i.chartArea)},i),i.scale&&i.scale.draw(),e.plugins.notify("beforeDatasetsDraw",[i,r]),t.each(i.data.datasets,function(e,t){i.isDatasetVisible(t)&&i.getDatasetMeta(t).controller.draw(n)},i,!0),e.plugins.notify("afterDatasetsDraw",[i,r]),i.tooltip.transition(r).draw(),e.plugins.notify("afterDraw",[i,r])},getElementAtEvent:function(e){var n=this,i=t.getRelativePosition(e,n.chart),r=[];return t.each(n.data.datasets,function(e,a){if(n.isDatasetVisible(a)){var o=n.getDatasetMeta(a);t.each(o.data,function(e,t){if(e.inRange(i.x,i.y))return r.push(e),r})}}),r},getElementsAtEvent:function(e){var n=this,i=t.getRelativePosition(e,n.chart),r=[],a=function(){if(n.data.datasets)for(var e=0;e<n.data.datasets.length;e++){var t=n.getDatasetMeta(e);if(n.isDatasetVisible(e))for(var r=0;r<t.data.length;r++)if(t.data[r].inRange(i.x,i.y))return t.data[r]}}.call(n);return a?(t.each(n.data.datasets,function(e,t){if(n.isDatasetVisible(t)){var i=n.getDatasetMeta(t);r.push(i.data[a._index])}},n),r):r},getElementsAtEventForMode:function(e,t){var n=this;switch(t){case"single":return n.getElementAtEvent(e);case"label":return n.getElementsAtEvent(e);case"dataset":return n.getDatasetAtEvent(e);default:return e}},getDatasetAtEvent:function(e){var t=this.getElementAtEvent(e);return t.length>0&&(t=this.getDatasetMeta(t[0]._datasetIndex).data),t},getDatasetMeta:function(e){var t=this,n=t.data.datasets[e];n._meta||(n._meta={});var i=n._meta[t.id];return i||(i=n._meta[t.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),i},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;t<n;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){var n=this;n.stop(),n.clear(),t.unbindEvents(n,n.events),t.removeResizeListener(n.chart.canvas.parentNode);var i=n.chart.canvas;i.width=n.chart.width,i.height=n.chart.height,void 0!==n.chart.originalDevicePixelRatio&&n.chart.ctx.scale(1/n.chart.originalDevicePixelRatio,1/n.chart.originalDevicePixelRatio),i.style.width=n.chart.originalCanvasStyleWidth,i.style.height=n.chart.originalCanvasStyleHeight,e.plugins.notify("destroy",[n]),delete e.instances[n.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new e.Tooltip({_chart:t.chart,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var e=this;t.bindEvents(e,e.options.events,function(t){e.eventHandler(t)})},updateHoverStyle:function(e,t,n){var i,r,a,o=n?"setHoverStyle":"removeHoverStyle";switch(t){case"single":e=[e[0]];break;case"label":case"dataset":break;default:return}for(r=0,a=e.length;r<a;++r)(i=e[r])&&this.getDatasetMeta(i._datasetIndex).controller[o](i)},eventHandler:function(e){var n=this,i=n.tooltip,r=n.options||{},a=r.hover,o=r.tooltips;return n.lastActive=n.lastActive||[],n.lastTooltipActive=n.lastTooltipActive||[],"mouseout"===e.type?(n.active=[],n.tooltipActive=[]):(n.active=n.getElementsAtEventForMode(e,a.mode),n.tooltipActive=n.getElementsAtEventForMode(e,o.mode)),a.onHover&&a.onHover.call(n,n.active),"mouseup"!==e.type&&"click"!==e.type||(r.onClick&&r.onClick.call(n,e,n.active),n.legend&&n.legend.handleEvent&&n.legend.handleEvent(e)),n.lastActive.length&&n.updateHoverStyle(n.lastActive,a.mode,!1),n.active.length&&a.mode&&n.updateHoverStyle(n.active,a.mode,!0),(o.enabled||o.custom)&&(i.initialize(),i._active=n.tooltipActive,i.update(!0)),i.pivot(),n.animating||t.arrayEquals(n.active,n.lastActive)&&t.arrayEquals(n.tooltipActive,n.lastTooltipActive)||(n.stop(),(o.enabled||o.custom)&&i.update(!0),n.render(a.animationDuration,!0)),n.lastActive=n.active,n.lastTooltipActive=n.tooltipActive,n}})}},{}],23:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=t.noop;e.DatasetController=function(e,t){this.initialize.call(this,e,t)},t.extend(e.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(e,t){var n=this;n.chart=e,n.index=t,n.linkScales(),n.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){var e=this,t=e.getMeta(),n=e.getDataset();null===t.xAxisID&&(t.xAxisID=n.xAxisID||e.chart.options.scales.xAxes[0].id),null===t.yAxisID&&(t.yAxisID=n.yAxisID||e.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},reset:function(){this.update(!0)},createMetaDataset:function(){var e=this,t=e.datasetElementType;return t&&new t({_chart:e.chart.chart,_datasetIndex:e.index})},createMetaData:function(e){var t=this,n=t.dataElementType;return n&&new n({_chart:t.chart.chart,_datasetIndex:t.index,_index:e})},addElements:function(){var e,t,n=this,i=n.getMeta(),r=n.getDataset().data||[],a=i.data;for(e=0,t=r.length;e<t;++e)a[e]=a[e]||n.createMetaData(i,e);i.dataset=i.dataset||n.createMetaDataset()},addElementAndReset:function(e){var t=this,n=t.createMetaData(e);t.getMeta().data.splice(e,0,n),t.updateElement(n,e,!0)},buildOrUpdateElements:function(){var e=this.getMeta(),t=e.data,n=this.getDataset().data.length,i=t.length;if(n<i)t.splice(n,i-n);else if(n>i)for(var r=i;r<n;++r)this.addElementAndReset(r)},update:n,draw:function(e){var n=e||1;t.each(this.getMeta().data,function(e,t){e.transition(n).draw()})},removeHoverStyle:function(e,n){var i=this.chart.data.datasets[e._datasetIndex],r=e._index,a=e.custom||{},o=t.getValueAtIndexOrDefault,s=(t.color,e._model);s.backgroundColor=a.backgroundColor?a.backgroundColor:o(i.backgroundColor,r,n.backgroundColor),s.borderColor=a.borderColor?a.borderColor:o(i.borderColor,r,n.borderColor),s.borderWidth=a.borderWidth?a.borderWidth:o(i.borderWidth,r,n.borderWidth)},setHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e._index,r=e.custom||{},a=t.getValueAtIndexOrDefault,o=(t.color,t.getHoverColor),s=e._model;s.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:a(n.hoverBackgroundColor,i,o(s.backgroundColor)),s.borderColor=r.hoverBorderColor?r.hoverBorderColor:a(n.hoverBorderColor,i,o(s.borderColor)),s.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:a(n.hoverBorderWidth,i,s.borderWidth)}}),e.DatasetController.extend=t.inherits}},{}],24:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.elements={},e.Element=function(e){t.extend(this,e),this.initialize.apply(this,arguments)},t.extend(e.Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=t.clone(e._model)),e._start=t.clone(e._view),e},transition:function(e){var n=this;return n._view||(n._view=t.clone(n._model)),1===e?(n._view=n._model,n._start=null,n):(n._start||n.pivot(),t.each(n._model,function(i,r){if("_"===r[0]);else if(n._view.hasOwnProperty(r))if(i===n._view[r]);else if("string"==typeof i)try{var a=t.color(n._model[r]).mix(t.color(n._start[r]),e);n._view[r]=a.rgbString()}catch(e){n._view[r]=i}else if("number"==typeof i){var o=void 0!==n._start[r]&&!1===isNaN(n._start[r])?n._start[r]:0;n._view[r]=(n._model[r]-o)*e+o}else n._view[r]=i;else"number"!=typeof i||isNaN(n._view[r])?n._view[r]=i:n._view[r]=i*e},n),n)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return t.isNumber(this._model.x)&&t.isNumber(this._model.y)}}),e.Element.extend=t.inherits}},{}],25:[function(e,t,n){"use strict";var i=e(3);t.exports=function(e){function t(e,t,n){var i;return"string"==typeof e?(i=parseInt(e,10),-1!=e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}function n(e){return void 0!==e&&null!==e&&"none"!==e}function r(e,i,r){var a=document.defaultView,o=e.parentNode,s=a.getComputedStyle(e)[i],l=a.getComputedStyle(o)[i],c=n(s),u=n(l),d=Number.POSITIVE_INFINITY;return c||u?Math.min(c?t(s,e,r):d,u?t(l,o,r):d):"none"}var a=e.helpers={};a.each=function(e,t,n,i){var r,o;if(a.isArray(e))if(o=e.length,i)for(r=o-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<o;r++)t.call(n,e[r],r);else if("object"==typeof e){var s=Object.keys(e);for(o=s.length,r=0;r<o;r++)t.call(n,e[s[r]],s[r])}},a.clone=function(e){var t={};return a.each(e,function(e,n){a.isArray(e)?t[n]=e.slice(0):t[n]="object"==typeof e&&null!==e?a.clone(e):e}),t},a.extend=function(e){for(var t=function(t,n){e[n]=t},n=1,i=arguments.length;n<i;n++)a.each(arguments[n],t);return e},a.configMerge=function(t){var n=a.clone(t);return a.each(Array.prototype.slice.call(arguments,1),function(t){a.each(t,function(t,i){if("scales"===i)n[i]=a.scaleMerge(n.hasOwnProperty(i)?n[i]:{},t);else if("scale"===i)n[i]=a.configMerge(n.hasOwnProperty(i)?n[i]:{},e.scaleService.getScaleDefaults(t.type),t);else if(n.hasOwnProperty(i)&&a.isArray(n[i])&&a.isArray(t)){var r=n[i];a.each(t,function(e,t){t<r.length?"object"==typeof r[t]&&null!==r[t]&&"object"==typeof e&&null!==e?r[t]=a.configMerge(r[t],e):r[t]=e:r.push(e)})}else n.hasOwnProperty(i)&&"object"==typeof n[i]&&null!==n[i]&&"object"==typeof t?n[i]=a.configMerge(n[i],t):n[i]=t})}),n},a.scaleMerge=function(t,n){var i=a.clone(t);return a.each(n,function(t,n){"xAxes"===n||"yAxes"===n?i.hasOwnProperty(n)?a.each(t,function(t,r){var o=a.getValueOrDefault(t.type,"xAxes"===n?"category":"linear"),s=e.scaleService.getScaleDefaults(o);r>=i[n].length||!i[n][r].type?i[n].push(a.configMerge(s,t)):t.type&&t.type!==i[n][r].type?i[n][r]=a.configMerge(i[n][r],s,t):i[n][r]=a.configMerge(i[n][r],t)}):(i[n]=[],a.each(t,function(t){var r=a.getValueOrDefault(t.type,"xAxes"===n?"category":"linear");i[n].push(a.configMerge(e.scaleService.getScaleDefaults(r),t))})):i.hasOwnProperty(n)&&"object"==typeof i[n]&&null!==i[n]&&"object"==typeof t?i[n]=a.configMerge(i[n],t):i[n]=t}),i},a.getValueAtIndexOrDefault=function(e,t,n){return void 0===e||null===e?n:a.isArray(e)?t<e.length?e[t]:n:e},a.getValueOrDefault=function(e,t){return void 0===e?t:e},a.indexOf=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,i=e.length;n<i;++n)if(e[n]===t)return n;return-1},a.where=function(e,t){if(a.isArray(e)&&Array.prototype.filter)return e.filter(t);var n=[];return a.each(e,function(e){t(e)&&n.push(e)}),n},a.findIndex=Array.prototype.findIndex?function(e,t,n){return e.findIndex(t,n)}:function(e,t,n){n=void 0===n?e:n;for(var i=0,r=e.length;i<r;++i)if(t.call(n,e[i],i,e))return i;return-1},a.findNextWhere=function(e,t,n){void 0!==n&&null!==n||(n=-1);for(var i=n+1;i<e.length;i++){var r=e[i];if(t(r))return r}},a.findPreviousWhere=function(e,t,n){void 0!==n&&null!==n||(n=e.length);for(var i=n-1;i>=0;i--){var r=e[i];if(t(r))return r}},a.inherits=function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=t.prototype,n.prototype=new i,n.extend=a.inherits,e&&a.extend(n.prototype,e),n.__super__=t.prototype,n},a.noop=function(){},a.uid=function(){var e=0;return function(){return e++}}(),a.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},a.almostEquals=function(e,t,n){return Math.abs(e-t)<n},a.max=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.max(e,t)},Number.NEGATIVE_INFINITY)},a.min=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.min(e,t)},Number.POSITIVE_INFINITY)},a.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return e=+e,0===e||isNaN(e)?e:e>0?1:-1},a.log10=Math.log10?function(e){return Math.log10(e)}:function(e){return Math.log(e)/Math.LN10},a.toRadians=function(e){return e*(Math.PI/180)},a.toDegrees=function(e){return e*(180/Math.PI)},a.getAngleFromPoint=function(e,t){var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i),a=Math.atan2(i,n);return a<-.5*Math.PI&&(a+=2*Math.PI),{angle:a,distance:r}},a.aliasPixel=function(e){return e%2==0?0:.5},a.splineCurve=function(e,t,n,i){var r=e.skip?t:e,a=t,o=n.skip?t:n,s=Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2)),l=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),c=s/(s+l),u=l/(s+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;var d=i*c,h=i*u;return{previous:{x:a.x-d*(o.x-r.x),y:a.y-d*(o.y-r.y)},next:{x:a.x+h*(o.x-r.x),y:a.y+h*(o.y-r.y)}}},a.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},a.previousItem=function(e,t,n){return n?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},a.niceNum=function(e,t){var n=Math.floor(a.log10(e)),i=e/Math.pow(10,n);return(t?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,n)};var o=a.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(1-Math.pow(2,-10*e/1))},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n))},easeOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*e)*Math.sin((1*e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.3*1.5*1),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-o.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e*1:e<2/2.75?1*(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return e<.5?.5*o.easeInBounce(2*e):.5*o.easeOutBounce(2*e-1)+.5}};a.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),a.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)}}(),a.getRelativePosition=function(e,t){var n,i,r=e.originalEvent||e,o=e.currentTarget||e.srcElement,s=o.getBoundingClientRect(),l=r.touches;l&&l.length>0?(n=l[0].clientX,i=l[0].clientY):(n=r.clientX,i=r.clientY);var c=parseFloat(a.getStyle(o,"padding-left")),u=parseFloat(a.getStyle(o,"padding-top")),d=parseFloat(a.getStyle(o,"padding-right")),h=parseFloat(a.getStyle(o,"padding-bottom")),p=s.right-s.left-c-d,f=s.bottom-s.top-u-h;return n=Math.round((n-s.left-c)/p*o.width/t.currentDevicePixelRatio),i=Math.round((i-s.top-u)/f*o.height/t.currentDevicePixelRatio),{x:n,y:i}},a.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},a.removeEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=a.noop},a.bindEvents=function(e,t,n){var i=e.events=e.events||{};a.each(t,function(t){i[t]=function(){n.apply(e,arguments)},a.addEvent(e.chart.canvas,t,i[t])})},a.unbindEvents=function(e,t){var n=e.chart.canvas;a.each(t,function(e,t){a.removeEvent(n,t,e)})},a.getConstraintWidth=function(e){return r(e,"max-width","clientWidth")},a.getConstraintHeight=function(e){return r(e,"max-height","clientHeight")},a.getMaximumWidth=function(e){var t=e.parentNode,n=parseInt(a.getStyle(t,"padding-left"))+parseInt(a.getStyle(t,"padding-right")),i=t.clientWidth-n,r=a.getConstraintWidth(e);return isNaN(r)?i:Math.min(i,r)},a.getMaximumHeight=function(e){var t=e.parentNode,n=parseInt(a.getStyle(t,"padding-top"))+parseInt(a.getStyle(t,"padding-bottom")),i=t.clientHeight-n,r=a.getConstraintHeight(e);return isNaN(r)?i:Math.min(i,r)},a.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},a.retinaScale=function(e){var t=e.ctx,n=e.canvas,i=n.width,r=n.height,a=e.currentDevicePixelRatio=window.devicePixelRatio||1;1!==a&&(n.height=r*a,n.width=i*a,t.scale(a,a),e.originalDevicePixelRatio=e.originalDevicePixelRatio||a),n.style.width=i+"px",n.style.height=r+"px"},a.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},a.fontString=function(e,t,n){return t+" "+e+"px "+n},a.longestText=function(e,t,n,i){i=i||{};var r=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),e.font=t;var s=0;a.each(n,function(t){void 0!==t&&null!==t&&!0!==a.isArray(t)?s=a.measureText(e,r,o,s,t):a.isArray(t)&&a.each(t,function(t){void 0===t||null===t||a.isArray(t)||(s=a.measureText(e,r,o,s,t))})});var l=o.length/2;if(l>n.length){for(var c=0;c<l;c++)delete r[o[c]];o.splice(0,l)}return s},a.measureText=function(e,t,n,i,r){var a=t[r];return a||(a=t[r]=e.measureText(r).width,n.push(r)),a>i&&(i=a),i},a.numberOfLabelLines=function(e){var t=1;return a.each(e,function(e){a.isArray(e)&&e.length>t&&(t=e.length)}),t},a.drawRoundedRectangle=function(e,t,n,i,r,a){e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+i-a,n),e.quadraticCurveTo(t+i,n,t+i,n+a),e.lineTo(t+i,n+r-a),e.quadraticCurveTo(t+i,n+r,t+i-a,n+r),e.lineTo(t+a,n+r),e.quadraticCurveTo(t,n+r,t,n+r-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath()},a.color=function(t){return i?i(t instanceof CanvasGradient?e.defaults.global.defaultColor:t):(console.log("Color.js not found!"),t)},a.addResizeListener=function(e,t){var n=document.createElement("iframe");n.classlist?n.classlist.add("chartjs-hidden-iframe"):n.setAttribute("class","chartjs-hidden-iframe");var i=n.style;i.width="100%",i.display="block",i.border=0,i.height=0,i.margin=0,i.position="absolute",i.left=0,i.right=0,i.top=0,i.bottom=0,e.insertBefore(n,e.firstChild),(n.contentWindow||n).onresize=function(){t&&t()}},a.removeResizeListener=function(e){
var t=e.querySelector(".chartjs-hidden-iframe");t&&t.parentNode.removeChild(t)},a.isArray=Array.isArray?function(e){return Array.isArray(e)}:function(e){return"[object Array]"===Object.prototype.toString.call(e)},a.arrayEquals=function(e,t){var n,i,r,o;if(!e||!t||e.length!=t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],o=t[n],r instanceof Array&&o instanceof Array){if(!a.arrayEquals(r,o))return!1}else if(r!=o)return!1;return!0},a.callCallback=function(e,t,n){e&&"function"==typeof e.call&&e.apply(n,t)},a.getHoverColor=function(e){return e instanceof CanvasPattern?e:a.color(e).saturate(.5).darken(.1).rgbString()}}},{3:3}],26:[function(e,t,n){"use strict";t.exports=function(){var e=function(t,n){var i=this,r=e.helpers;return i.config=n,t.length&&t[0].getContext&&(t=t[0]),t.getContext&&(t=t.getContext("2d")),i.ctx=t,i.canvas=t.canvas,t.canvas.style.display=t.canvas.style.display||"block",i.width=t.canvas.width||parseInt(r.getStyle(t.canvas,"width"),10)||r.getMaximumWidth(t.canvas),i.height=t.canvas.height||parseInt(r.getStyle(t.canvas,"height"),10)||r.getMaximumHeight(t.canvas),i.aspectRatio=i.width/i.height,(isNaN(i.aspectRatio)||!1===isFinite(i.aspectRatio))&&(i.aspectRatio=void 0!==n.aspectRatio?n.aspectRatio:2),i.originalCanvasStyleWidth=t.canvas.style.width,i.originalCanvasStyleHeight=t.canvas.style.height,r.retinaScale(i),n&&(i.controller=new e.Controller(i)),r.addResizeListener(t.canvas.parentNode,function(){i.controller&&i.controller.config.options.responsive&&i.controller.resize()}),i.controller?i.controller:i};return e.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"single",animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');for(var n=0;n<e.data.datasets.length;n++)t.push('<li><span style="background-color:'+e.data.datasets[n].backgroundColor+'"></span>'),e.data.datasets[n].label&&t.push(e.data.datasets[n].label),t.push("</li>");return t.push("</ul>"),t.join("")}}},e.Chart=e,e}},{}],27:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.layoutService={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),e.boxes.push(t)},removeBox:function(e,t){e.boxes&&e.boxes.splice(e.boxes.indexOf(t),1)},update:function(e,n,i){function r(e){var t,n=e.isHorizontal();n?(t=e.update(e.options.fullWidth?f:w,y),x-=t.height):(t=e.update(b,v),w-=t.width),_.push({horizontal:n,minSize:t,box:e})}function a(e){var n=t.findNextWhere(_,function(t){return t.box===e});if(n)if(e.isHorizontal()){var i={left:k,right:C,top:0,bottom:0};e.update(e.options.fullWidth?f:w,g/2,i)}else e.update(n.minSize.width,x)}function o(e){var n=t.findNextWhere(_,function(t){return t.box===e}),i={left:0,right:0,top:S,bottom:$};n&&e.update(n.minSize.width,x,i)}function s(e){e.isHorizontal()?(e.left=e.options.fullWidth?l:k,e.right=e.options.fullWidth?n-l:k+w,e.top=M,e.bottom=M+e.height,M=e.bottom):(e.left=E,e.right=E+e.width,e.top=S,e.bottom=S+x,E=e.right)}if(e){var l=0,c=t.where(e.boxes,function(e){return"left"===e.options.position}),u=t.where(e.boxes,function(e){return"right"===e.options.position}),d=t.where(e.boxes,function(e){return"top"===e.options.position}),h=t.where(e.boxes,function(e){return"bottom"===e.options.position}),p=t.where(e.boxes,function(e){return"chartArea"===e.options.position});d.sort(function(e,t){return(t.options.fullWidth?1:0)-(e.options.fullWidth?1:0)}),h.sort(function(e,t){return(e.options.fullWidth?1:0)-(t.options.fullWidth?1:0)});var f=n-2*l,g=i-0,m=f/2,v=g/2,b=(n-m)/(c.length+u.length),y=(i-v)/(d.length+h.length),w=f,x=g,_=[];t.each(c.concat(u,d,h),r);var k=l,C=l,S=0,$=0;t.each(c.concat(u),a),t.each(c,function(e){k+=e.width}),t.each(u,function(e){C+=e.width}),t.each(d.concat(h),a),t.each(d,function(e){S+=e.height}),t.each(h,function(e){$+=e.height}),t.each(c.concat(u),o),k=l,C=l,S=0,$=0,t.each(c,function(e){k+=e.width}),t.each(u,function(e){C+=e.width}),t.each(d,function(e){S+=e.height}),t.each(h,function(e){$+=e.height});var D=i-S-$,T=n-k-C;T===w&&D===x||(t.each(c,function(e){e.height=D}),t.each(u,function(e){e.height=D}),t.each(d,function(e){e.options.fullWidth||(e.width=T)}),t.each(h,function(e){e.options.fullWidth||(e.width=T)}),x=D,w=T);var E=l,M=0;t.each(c.concat(d),s),E+=w,M+=x,t.each(u,s),t.each(h,s),e.chartArea={left:k,top:S,right:k+w,bottom:S+x},t.each(p,function(t){t.left=e.chartArea.left,t.top=e.chartArea.top,t.right=e.chartArea.right,t.bottom=e.chartArea.bottom,t.update(w,x)})}}}}},{}],28:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=t.noop;e.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,onClick:function(e,t){var n=t.datasetIndex,i=this.chart,r=i.getDatasetMeta(n);r.hidden=null===r.hidden?!i.data.datasets[n].hidden:null,i.update()},labels:{boxWidth:40,padding:10,generateLabels:function(e){var n=e.data;return t.isArray(n.datasets)?n.datasets.map(function(n,i){return{text:n.label,fillStyle:t.isArray(n.backgroundColor)?n.backgroundColor[0]:n.backgroundColor,hidden:!e.isDatasetVisible(i),lineCap:n.borderCapStyle,lineDash:n.borderDash,lineDashOffset:n.borderDashOffset,lineJoin:n.borderJoinStyle,lineWidth:n.borderWidth,strokeStyle:n.borderColor,datasetIndex:i}},this):[]}}},e.Legend=e.Element.extend({initialize:function(e){t.extend(this,e),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:n,update:function(e,t,n){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:n,beforeSetDimensions:n,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:n,beforeBuildLabels:n,buildLabels:function(){var e=this;e.legendItems=e.options.labels.generateLabels.call(e,e.chart),e.options.reverse&&e.legendItems.reverse()},afterBuildLabels:n,beforeFit:n,fit:function(){var n=this,i=n.options,r=i.labels,a=i.display,o=n.ctx,s=e.defaults.global,l=t.getValueOrDefault,c=l(r.fontSize,s.defaultFontSize),u=l(r.fontStyle,s.defaultFontStyle),d=l(r.fontFamily,s.defaultFontFamily),h=t.fontString(c,u,d),p=n.legendHitBoxes=[],f=n.minSize,g=n.isHorizontal();if(g?(f.width=n.maxWidth,f.height=a?10:0):(f.width=a?10:0,f.height=n.maxHeight),a)if(o.font=h,g){var m=n.lineWidths=[0],v=n.legendItems.length?c+r.padding:0;o.textAlign="left",o.textBaseline="top",t.each(n.legendItems,function(e,t){var i=r.boxWidth+c/2+o.measureText(e.text).width;m[m.length-1]+i+r.padding>=n.width&&(v+=c+r.padding,m[m.length]=n.left),p[t]={left:0,top:0,width:i,height:c},m[m.length-1]+=i+r.padding}),f.height+=v}else{var b=r.padding,y=n.columnWidths=[],w=r.padding,x=0,_=0,k=c+b;t.each(n.legendItems,function(e,t){var n=r.boxWidth+c/2+o.measureText(e.text).width;_+k>f.height&&(w+=x+r.padding,y.push(x),x=0,_=0),x=Math.max(x,n),_+=k,p[t]={left:0,top:0,width:n,height:c}}),w+=x,y.push(x),f.width+=w}n.width=f.width,n.height=f.height},afterFit:n,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var n=this,i=n.options,r=i.labels,a=e.defaults.global,o=a.elements.line,s=n.width,l=(n.height,n.lineWidths);if(i.display){var c,u=n.ctx,d=t.getValueOrDefault,h=d(r.fontColor,a.defaultFontColor),p=d(r.fontSize,a.defaultFontSize),f=d(r.fontStyle,a.defaultFontStyle),g=d(r.fontFamily,a.defaultFontFamily),m=t.fontString(p,f,g);u.textAlign="left",u.textBaseline="top",u.lineWidth=.5,u.strokeStyle=h,u.fillStyle=h,u.font=m;var v=r.boxWidth,b=n.legendHitBoxes,y=function(e,t,n){u.save(),u.fillStyle=d(n.fillStyle,a.defaultColor),u.lineCap=d(n.lineCap,o.borderCapStyle),u.lineDashOffset=d(n.lineDashOffset,o.borderDashOffset),u.lineJoin=d(n.lineJoin,o.borderJoinStyle),u.lineWidth=d(n.lineWidth,o.borderWidth),u.strokeStyle=d(n.strokeStyle,a.defaultColor),u.setLineDash&&u.setLineDash(d(n.lineDash,o.borderDash)),u.strokeRect(e,t,v,p),u.fillRect(e,t,v,p),u.restore()},w=function(e,t,n,i){u.fillText(n.text,v+p/2+e,t),n.hidden&&(u.beginPath(),u.lineWidth=2,u.moveTo(v+p/2+e,t+p/2),u.lineTo(v+p/2+e+i,t+p/2),u.stroke())},x=n.isHorizontal();c=x?{x:n.left+(s-l[0])/2,y:n.top+r.padding,line:0}:{x:n.left+r.padding,y:n.top,line:0};var _=p+r.padding;t.each(n.legendItems,function(e,t){var i=u.measureText(e.text).width,a=v+p/2+i,o=c.x,d=c.y;x?o+a>=s&&(d=c.y+=p+r.padding,c.line++,o=c.x=n.left+(s-l[c.line])/2):d+_>n.bottom&&(o=c.x=o+n.columnWidths[c.line]+r.padding,d=c.y=n.top,c.line++),y(o,d,e),b[t].left=o,b[t].top=d,w(o,d,e,i),x?c.x+=a+r.padding:c.y+=_})}},handleEvent:function(e){var n=this,i=t.getRelativePosition(e,n.chart.chart),r=i.x,a=i.y,o=n.options;if(r>=n.left&&r<=n.right&&a>=n.top&&a<=n.bottom)for(var s=n.legendHitBoxes,l=0;l<s.length;++l){var c=s[l];if(r>=c.left&&r<=c.left+c.width&&a>=c.top&&a<=c.top+c.height){o.onClick&&o.onClick.call(n,e,n.legendItems[l]);break}}}}),e.plugins.register({beforeInit:function(t){var n=t.options,i=n.legend;i&&(t.legend=new e.Legend({ctx:t.chart.ctx,options:i,chart:t}),e.layoutService.addBox(t,t.legend))}})}},{}],29:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers.noop;e.plugins={_plugins:[],register:function(e){var t=this._plugins;[].concat(e).forEach(function(e){-1===t.indexOf(e)&&t.push(e)})},unregister:function(e){var t=this._plugins;[].concat(e).forEach(function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)})},clear:function(){this._plugins=[]},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t){var n,i,r=this._plugins,a=r.length;for(n=0;n<a;++n)if(i=r[n],"function"==typeof i[e]&&!1===i[e].apply(i,t||[]))return!1;return!0}},e.PluginBase=e.Element.extend({beforeInit:t,afterInit:t,beforeUpdate:t,afterUpdate:t,beforeDraw:t,afterDraw:t,destroy:t}),e.pluginService=e.plugins}},{}],30:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.scale={display:!0,position:"left",gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:10,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:function(e){return t.isArray(e)?e:""+e}}},e.Scale=e.Element.extend({beforeUpdate:function(){t.callCallback(this.options.beforeUpdate,[this])},update:function(e,n,i){var r=this;return r.beforeUpdate(),r.maxWidth=e,r.maxHeight=n,r.margins=t.extend({left:0,right:0,top:0,bottom:0},i),r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeDataLimits(),r.determineDataLimits(),r.afterDataLimits(),r.beforeBuildTicks(),r.buildTicks(),r.afterBuildTicks(),r.beforeTickToLabelConversion(),r.convertTicksToLabels(),r.afterTickToLabelConversion(),r.beforeCalculateTickRotation(),r.calculateTickRotation(),r.afterCalculateTickRotation(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:function(){t.callCallback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){t.callCallback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){t.callCallback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){t.callCallback(this.options.beforeDataLimits,[this])},determineDataLimits:t.noop,afterDataLimits:function(){t.callCallback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){t.callCallback(this.options.beforeBuildTicks,[this])},buildTicks:t.noop,afterBuildTicks:function(){t.callCallback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){t.callCallback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this;e.ticks=e.ticks.map(function(t,n,i){return e.options.ticks.userCallback?e.options.ticks.userCallback(t,n,i):e.options.ticks.callback(t,n,i)},e)},afterTickToLabelConversion:function(){t.callCallback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){t.callCallback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var n=this,i=n.ctx,r=e.defaults.global,a=n.options.ticks,o=t.getValueOrDefault(a.fontSize,r.defaultFontSize),s=t.getValueOrDefault(a.fontStyle,r.defaultFontStyle),l=t.getValueOrDefault(a.fontFamily,r.defaultFontFamily),c=t.fontString(o,s,l);i.font=c;var u,d=i.measureText(n.ticks[0]).width,h=i.measureText(n.ticks[n.ticks.length-1]).width;if(n.labelRotation=a.minRotation||0,n.paddingRight=0,n.paddingLeft=0,n.options.display&&n.isHorizontal()){n.paddingRight=h/2+3,n.paddingLeft=d/2+3,n.longestTextCache||(n.longestTextCache={});for(var p,f,g=t.longestText(i,c,n.ticks,n.longestTextCache),m=g,v=n.getPixelForTick(1)-n.getPixelForTick(0)-6;m>v&&n.labelRotation<a.maxRotation;){if(p=Math.cos(t.toRadians(n.labelRotation)),f=Math.sin(t.toRadians(n.labelRotation)),u=p*d,u+o/2>n.yLabelWidth&&(n.paddingLeft=u+o/2),n.paddingRight=o/2,f*g>n.maxHeight){n.labelRotation--;break}n.labelRotation++,m=p*g}}n.margins&&(n.paddingLeft=Math.max(n.paddingLeft-n.margins.left,0),n.paddingRight=Math.max(n.paddingRight-n.margins.right,0))},afterCalculateTickRotation:function(){t.callCallback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){t.callCallback(this.options.beforeFit,[this])},fit:function(){var n=this,i=n.minSize={width:0,height:0},r=n.options,a=e.defaults.global,o=r.ticks,s=r.scaleLabel,l=r.display,c=n.isHorizontal(),u=t.getValueOrDefault(o.fontSize,a.defaultFontSize),d=t.getValueOrDefault(o.fontStyle,a.defaultFontStyle),h=t.getValueOrDefault(o.fontFamily,a.defaultFontFamily),p=t.fontString(u,d,h),f=t.getValueOrDefault(s.fontSize,a.defaultFontSize),g=t.getValueOrDefault(s.fontStyle,a.defaultFontStyle),m=t.getValueOrDefault(s.fontFamily,a.defaultFontFamily),v=(t.fontString(f,g,m),r.gridLines.tickMarkLength);if(i.width=c?n.isFullWidth()?n.maxWidth-n.margins.left-n.margins.right:n.maxWidth:l?v:0,i.height=c?l?v:0:n.maxHeight,s.display&&l&&(c?i.height+=1.5*f:i.width+=1.5*f),o.display&&l){n.longestTextCache||(n.longestTextCache={});var b=t.longestText(n.ctx,p,n.ticks,n.longestTextCache),y=t.numberOfLabelLines(n.ticks),w=.5*u;if(c){n.longestLabelWidth=b;var x=Math.sin(t.toRadians(n.labelRotation))*n.longestLabelWidth+u*y+w*y;i.height=Math.min(n.maxHeight,i.height+x),n.ctx.font=p;var _=n.ctx.measureText(n.ticks[0]).width,k=n.ctx.measureText(n.ticks[n.ticks.length-1]).width,C=Math.cos(t.toRadians(n.labelRotation)),S=Math.sin(t.toRadians(n.labelRotation));n.paddingLeft=0!==n.labelRotation?C*_+3:_/2+3,n.paddingRight=0!==n.labelRotation?S*(u/2)+3:k/2+3}else{var $=n.maxWidth-i.width;o.mirror?b=0:b+=n.options.ticks.padding,b<$?i.width+=b:i.width=n.maxWidth,n.paddingTop=u/2,n.paddingBottom=u/2}}n.margins&&(n.paddingLeft=Math.max(n.paddingLeft-n.margins.left,0),n.paddingTop=Math.max(n.paddingTop-n.margins.top,0),n.paddingRight=Math.max(n.paddingRight-n.margins.right,0),n.paddingBottom=Math.max(n.paddingBottom-n.margins.bottom,0)),n.width=i.width,n.height=i.height},afterFit:function(){t.callCallback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function e(t){return null===t||void 0===t?NaN:"number"==typeof t&&isNaN(t)?NaN:"object"==typeof t?t instanceof Date||t.isValid?t:e(this.isHorizontal()?t.x:t.y):t},getLabelForIndex:t.noop,getPixelForValue:t.noop,getValueForPixel:t.noop,getPixelForTick:function(e,t){var n=this;if(n.isHorizontal()){var i=n.width-(n.paddingLeft+n.paddingRight),r=i/Math.max(n.ticks.length-(n.options.gridLines.offsetGridLines?0:1),1),a=r*e+n.paddingLeft;t&&(a+=r/2);var o=n.left+Math.round(a);return o+=n.isFullWidth()?n.margins.left:0}var s=n.height-(n.paddingTop+n.paddingBottom);return n.top+e*(s/(n.ticks.length-1))},getPixelForDecimal:function(e){var t=this;if(t.isHorizontal()){var n=t.width-(t.paddingLeft+t.paddingRight),i=n*e+t.paddingLeft,r=t.left+Math.round(i);return r+=t.isFullWidth()?t.margins.left:0}return t.top+e*t.height},getBasePixel:function(){var e=this,t=e.min,n=e.max;return e.getPixelForValue(e.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0)},draw:function(n){var i=this,r=i.options;if(r.display){var a,o,s=i.ctx,l=e.defaults.global,c=r.ticks,u=r.gridLines,d=r.scaleLabel,h=0!==i.labelRotation,p=c.autoSkip,f=i.isHorizontal();c.maxTicksLimit&&(o=c.maxTicksLimit);var g=t.getValueOrDefault(c.fontColor,l.defaultFontColor),m=t.getValueOrDefault(c.fontSize,l.defaultFontSize),v=t.getValueOrDefault(c.fontStyle,l.defaultFontStyle),b=t.getValueOrDefault(c.fontFamily,l.defaultFontFamily),y=t.fontString(m,v,b),w=u.tickMarkLength,x=t.getValueOrDefault(d.fontColor,l.defaultFontColor),_=t.getValueOrDefault(d.fontSize,l.defaultFontSize),k=t.getValueOrDefault(d.fontStyle,l.defaultFontStyle),C=t.getValueOrDefault(d.fontFamily,l.defaultFontFamily),S=t.fontString(_,k,C),$=t.toRadians(i.labelRotation),D=Math.cos($),T=(Math.sin($),i.longestLabelWidth*D);s.fillStyle=g;var E=[];if(f){if(a=!1,h&&(T/=2),(T+c.autoSkipPadding)*i.ticks.length>i.width-(i.paddingLeft+i.paddingRight)&&(a=1+Math.floor((T+c.autoSkipPadding)*i.ticks.length/(i.width-(i.paddingLeft+i.paddingRight)))),o&&i.ticks.length>o)for(;!a||i.ticks.length/(a||1)>o;)a||(a=1),a+=1;p||(a=!1)}var M="right"===r.position?i.left:i.right-w,A="right"===r.position?i.left+w:i.right,O="bottom"===r.position?i.top:i.bottom-w,P="bottom"===r.position?i.top+w:i.bottom;if(t.each(i.ticks,function(e,o){if(void 0!==e&&null!==e){var s=i.ticks.length===o+1;if((!(a>1&&o%a>0||o%a==0&&o+a>=i.ticks.length)||s)&&void 0!==e&&null!==e){var l,d;o===(void 0!==i.zeroLineIndex?i.zeroLineIndex:0)?(l=u.zeroLineWidth,d=u.zeroLineColor):(l=t.getValueAtIndexOrDefault(u.lineWidth,o),d=t.getValueAtIndexOrDefault(u.color,o));var p,g,m,v,b,y,x,_,k,C,S,D="middle";if(f){h||(D="top"===r.position?"bottom":"top"),S=h?"right":"center";var T=i.getPixelForTick(o)+t.aliasPixel(l);k=i.getPixelForTick(o,u.offsetGridLines)+c.labelOffset,C=h?i.top+12:"top"===r.position?i.bottom-w:i.top+w,p=m=b=x=T,g=O,v=P,y=n.top,_=n.bottom}else{"left"===r.position?c.mirror?(k=i.right+c.padding,S="left"):(k=i.right-c.padding,S="right"):c.mirror?(k=i.left-c.padding,S="right"):(k=i.left+c.padding,S="left");var I=i.getPixelForTick(o);I+=t.aliasPixel(l),C=i.getPixelForTick(o,u.offsetGridLines),p=M,m=A,b=n.left,x=n.right,g=v=y=_=I}E.push({tx1:p,ty1:g,tx2:m,ty2:v,x1:b,y1:y,x2:x,y2:_,labelX:k,labelY:C,glWidth:l,glColor:d,rotation:-1*$,label:e,textBaseline:D,textAlign:S})}}}),t.each(E,function(e){if(u.display&&(s.lineWidth=e.glWidth,s.strokeStyle=e.glColor,s.beginPath(),u.drawTicks&&(s.moveTo(e.tx1,e.ty1),s.lineTo(e.tx2,e.ty2)),u.drawOnChartArea&&(s.moveTo(e.x1,e.y1),s.lineTo(e.x2,e.y2)),s.stroke()),c.display){s.save(),s.translate(e.labelX,e.labelY),s.rotate(e.rotation),s.font=y,s.textBaseline=e.textBaseline,s.textAlign=e.textAlign;var n=e.label;if(t.isArray(n))for(var i=0,r=0;i<n.length;++i)s.fillText(""+n[i],0,r),r+=1.5*m;else s.fillText(n,0,0);s.restore()}}),d.display){var I,R,N=0;if(f)I=i.left+(i.right-i.left)/2,R="bottom"===r.position?i.bottom-_/2:i.top+_/2;else{var L="left"===r.position;I=L?i.left+_/2:i.right-_/2,R=i.top+(i.bottom-i.top)/2,N=L?-.5*Math.PI:.5*Math.PI}s.save(),s.translate(I,R),s.rotate(N),s.textAlign="center",s.textBaseline="middle",s.fillStyle=x,s.font=S,s.fillText(d.labelString,0,0),s.restore()}if(u.drawBorder){s.lineWidth=t.getValueAtIndexOrDefault(u.lineWidth,0),s.strokeStyle=t.getValueAtIndexOrDefault(u.color,0);var F=i.left,z=i.right,j=i.top,H=i.bottom,W=t.aliasPixel(s.lineWidth);f?(j=H="top"===r.position?i.bottom:i.top,j+=W,H+=W):(F=z="left"===r.position?i.right:i.left,F+=W,z+=W),s.beginPath(),s.moveTo(F,j),s.lineTo(z,H),s.stroke()}}}})}},{}],31:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.scaleService={constructors:{},defaults:{},registerScaleType:function(e,n,i){this.constructors[e]=n,this.defaults[e]=t.clone(i)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(n){return this.defaults.hasOwnProperty(n)?t.scaleMerge(e.defaults.scale,this.defaults[n]):{}},updateScaleDefaults:function(e,n){var i=this.defaults;i.hasOwnProperty(e)&&(i[e]=t.extend(i[e],n))},addScalesToLayout:function(n){t.each(n.scales,function(t){e.layoutService.addBox(n,t)})}}}},{}],32:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.global.title={display:!1,position:"top",fullWidth:!0,fontStyle:"bold",padding:10,text:""};var n=t.noop;e.Title=e.Element.extend({initialize:function(n){var i=this;t.extend(i,n),i.options=t.configMerge(e.defaults.global.title,n.options),i.legendHitBoxes=[]},beforeUpdate:function(){var n=this.chart.options;n&&n.title&&(this.options=t.configMerge(e.defaults.global.title,n.title))},update:function(e,t,n){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:n,beforeSetDimensions:n,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:n,beforeBuildLabels:n,buildLabels:n,afterBuildLabels:n,beforeFit:n,fit:function(){var n=this,i=(n.ctx,t.getValueOrDefault),r=n.options,a=e.defaults.global,o=r.display,s=i(r.fontSize,a.defaultFontSize),l=n.minSize;n.isHorizontal()?(l.width=n.maxWidth,l.height=o?s+2*r.padding:0):(l.width=o?s+2*r.padding:0,l.height=n.maxHeight),n.width=l.width,n.height=l.height},afterFit:n,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var n=this,i=n.ctx,r=t.getValueOrDefault,a=n.options,o=e.defaults.global;if(a.display){var s,l,c=r(a.fontSize,o.defaultFontSize),u=r(a.fontStyle,o.defaultFontStyle),d=r(a.fontFamily,o.defaultFontFamily),h=t.fontString(c,u,d),p=0,f=n.top,g=n.left,m=n.bottom,v=n.right;i.fillStyle=r(a.fontColor,o.defaultFontColor),i.font=h,n.isHorizontal()?(s=g+(v-g)/2,l=f+(m-f)/2):(s="left"===a.position?g+c/2:v-c/2,l=f+(m-f)/2,p=Math.PI*("left"===a.position?-.5:.5)),i.save(),i.translate(s,l),i.rotate(p),i.textAlign="center",i.textBaseline="middle",i.fillText(a.text,0,0),i.restore()}}}),e.plugins.register({beforeInit:function(t){var n=t.options,i=n.title;i&&(t.titleBlock=new e.Title({ctx:t.chart.ctx,options:i,chart:t}),e.layoutService.addBox(t,t.titleBlock))}})}},{}],33:[function(e,t,n){"use strict";t.exports=function(e){function t(e,t){return t&&(r.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function n(e){if(!e.length)return!1;var t,n,i=[],r=[];for(t=0,n=e.length;t<n;++t){var a=e[t];if(a&&a.hasValue()){var o=a.tooltipPosition();i.push(o.x),r.push(o.y)}}var s=0,l=0;for(t=0,n-i.length;t<n;++t)s+=i[t],l+=r[t];return{x:Math.round(s/i.length),y:Math.round(l/i.length)}}function i(e){var t=e._xScale,n=e._yScale||e._scale,i=e._index,r=e._datasetIndex;return{xLabel:t?t.getLabelForIndex(i,r):"",yLabel:n?n.getLabelForIndex(i,r):"",index:i,datasetIndex:r}}var r=e.helpers;e.defaults.global.tooltips={enabled:!0,custom:null,mode:"single",backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,yAlign:"center",xAlign:"center",caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",callbacks:{beforeTitle:r.noop,title:function(e,t){var n="",i=t.labels,r=i?i.length:0;if(e.length>0){var a=e[0];a.xLabel?n=a.xLabel:r>0&&a.index<r&&(n=i[a.index])}return n},afterTitle:r.noop,beforeBody:r.noop,beforeLabel:r.noop,label:function(e,t){return(t.datasets[e.datasetIndex].label||"")+": "+e.yLabel},labelColor:function(e,t){var n=t.getDatasetMeta(e.datasetIndex),i=n.data[e.index],r=i._view;return{borderColor:r.borderColor,backgroundColor:r.backgroundColor}},afterLabel:r.noop,afterBody:r.noop,beforeFooter:r.noop,footer:r.noop,afterFooter:r.noop}},e.Tooltip=e.Element.extend({initialize:function(){var t=this,n=e.defaults.global,i=t._options,a=r.getValueOrDefault;r.extend(t,{_model:{xPadding:i.xPadding,yPadding:i.yPadding,xAlign:i.yAlign,yAlign:i.xAlign,bodyFontColor:i.bodyFontColor,_bodyFontFamily:a(i.bodyFontFamily,n.defaultFontFamily),_bodyFontStyle:a(i.bodyFontStyle,n.defaultFontStyle),_bodyAlign:i.bodyAlign,bodyFontSize:a(i.bodyFontSize,n.defaultFontSize),bodySpacing:i.bodySpacing,titleFontColor:i.titleFontColor,_titleFontFamily:a(i.titleFontFamily,n.defaultFontFamily),_titleFontStyle:a(i.titleFontStyle,n.defaultFontStyle),titleFontSize:a(i.titleFontSize,n.defaultFontSize),_titleAlign:i.titleAlign,titleSpacing:i.titleSpacing,titleMarginBottom:i.titleMarginBottom,footerFontColor:i.footerFontColor,_footerFontFamily:a(i.footerFontFamily,n.defaultFontFamily),_footerFontStyle:a(i.footerFontStyle,n.defaultFontStyle),footerFontSize:a(i.footerFontSize,n.defaultFontSize),_footerAlign:i.footerAlign,footerSpacing:i.footerSpacing,footerMarginTop:i.footerMarginTop,caretSize:i.caretSize,cornerRadius:i.cornerRadius,backgroundColor:i.backgroundColor,opacity:0,legendColorBackground:i.multiKeyBackground}})},getTitle:function(){var e=this,n=e._options,i=n.callbacks,r=i.beforeTitle.apply(e,arguments),a=i.title.apply(e,arguments),o=i.afterTitle.apply(e,arguments),s=[];return s=t(s,r),s=t(s,a),s=t(s,o)},getBeforeBody:function(){var e=this._options.callbacks.beforeBody.apply(this,arguments);return r.isArray(e)?e:void 0!==e?[e]:[]},getBody:function(e,n){var i=this,a=i._options.callbacks,o=[];return r.each(e,function(e){var r={before:[],lines:[],after:[]};t(r.before,a.beforeLabel.call(i,e,n)),t(r.lines,a.label.call(i,e,n)),t(r.after,a.afterLabel.call(i,e,n)),o.push(r)}),o},getAfterBody:function(){var e=this._options.callbacks.afterBody.apply(this,arguments);return r.isArray(e)?e:void 0!==e?[e]:[]},getFooter:function(){var e=this,n=e._options.callbacks,i=n.beforeFooter.apply(e,arguments),r=n.footer.apply(e,arguments),a=n.afterFooter.apply(e,arguments),o=[];return o=t(o,i),o=t(o,r),o=t(o,a)},update:function(e){var t,a,o=this,s=o._options,l=o._model,c=o._active,u=o._data,d=o._chartInstance;if(c.length){l.opacity=1;var h=[],p=n(c),f=[];for(t=0,a=c.length;t<a;++t)f.push(i(c[t]));s.itemSort&&(f=f.sort(s.itemSort)),c.length>1&&r.each(f,function(e){h.push(s.callbacks.labelColor.call(o,e,d))}),r.extend(l,{title:o.getTitle(f,u),beforeBody:o.getBeforeBody(f,u),body:o.getBody(f,u),afterBody:o.getAfterBody(f,u),footer:o.getFooter(f,u),x:Math.round(p.x),y:Math.round(p.y),caretPadding:r.getValueOrDefault(p.padding,2),labelColors:h});var g=o.getTooltipSize(l);o.determineAlignment(g),r.extend(l,o.getBackgroundPoint(l,g))}else o._model.opacity=0;return e&&s.custom&&s.custom.call(o,l),o},getTooltipSize:function(e){var t=this._chart.ctx,n={height:2*e.yPadding,width:0},i=e.body,a=i.reduce(function(e,t){return e+t.before.length+t.lines.length+t.after.length},0);a+=e.beforeBody.length+e.afterBody.length;var o=e.title.length,s=e.footer.length,l=e.titleFontSize,c=e.bodyFontSize,u=e.footerFontSize;n.height+=o*l,n.height+=(o-1)*e.titleSpacing,n.height+=o?e.titleMarginBottom:0,n.height+=a*c,n.height+=a?(a-1)*e.bodySpacing:0,n.height+=s?e.footerMarginTop:0,n.height+=s*u,n.height+=s?(s-1)*e.footerSpacing:0;var d=0,h=function(e){n.width=Math.max(n.width,t.measureText(e).width+d)};return t.font=r.fontString(l,e._titleFontStyle,e._titleFontFamily),r.each(e.title,h),t.font=r.fontString(c,e._bodyFontStyle,e._bodyFontFamily),r.each(e.beforeBody.concat(e.afterBody),h),d=i.length>1?c+2:0,r.each(i,function(e){r.each(e.before,h),r.each(e.lines,h),r.each(e.after,h)}),d=0,t.font=r.fontString(u,e._footerFontStyle,e._footerFontFamily),r.each(e.footer,h),n.width+=2*e.xPadding,n},determineAlignment:function(e){var t=this,n=t._model,i=t._chart,r=t._chartInstance.chartArea;n.y<e.height?n.yAlign="top":n.y>i.height-e.height&&(n.yAlign="bottom");var a,o,s,l,c,u=(r.left+r.right)/2,d=(r.top+r.bottom)/2;"center"===n.yAlign?(a=function(e){return e<=u},o=function(e){return e>u}):(a=function(t){return t<=e.width/2},o=function(t){return t>=i.width-e.width/2}),s=function(t){return t+e.width>i.width},l=function(t){return t-e.width<0},c=function(e){return e<=d?"top":"bottom"},a(n.x)?(n.xAlign="left",s(n.x)&&(n.xAlign="center",n.yAlign=c(n.y))):o(n.x)&&(n.xAlign="right",l(n.x)&&(n.xAlign="center",n.yAlign=c(n.y)))},getBackgroundPoint:function(e,t){var n={x:e.x,y:e.y},i=e.caretSize,r=e.caretPadding,a=e.cornerRadius,o=e.xAlign,s=e.yAlign,l=i+r,c=a+r;return"right"===o?n.x-=t.width:"center"===o&&(n.x-=t.width/2),"top"===s?n.y+=l:n.y-="bottom"===s?t.height+l:t.height/2,"center"===s?"left"===o?n.x+=l:"right"===o&&(n.x-=l):"left"===o?n.x-=c:"right"===o&&(n.x+=c),n},drawCaret:function(e,t,n,i){var a,o,s,l,c,u,d=this._view,h=this._chart.ctx,p=d.caretSize,f=d.cornerRadius,g=d.xAlign,m=d.yAlign,v=e.x,b=e.y,y=t.width,w=t.height;"center"===m?("left"===g?(a=v,o=a-p,s=a):(a=v+y,o=a+p,s=a),c=b+w/2,l=c-p,u=c+p):("left"===g?(a=v+f,o=a+p,s=o+p):"right"===g?(a=v+y-f,o=a-p,s=o-p):(o=v+y/2,a=o-p,s=o+p),"top"===m?(l=b,c=l-p,u=l):(l=b+w,c=l+p,u=l));var x=r.color(d.backgroundColor);h.fillStyle=x.alpha(n*x.alpha()).rgbString(),h.beginPath(),h.moveTo(a,l),h.lineTo(o,c),h.lineTo(s,u),h.closePath(),h.fill()},drawTitle:function(e,t,n,i){var a=t.title;if(a.length){n.textAlign=t._titleAlign,n.textBaseline="top";var o=t.titleFontSize,s=t.titleSpacing,l=r.color(t.titleFontColor);n.fillStyle=l.alpha(i*l.alpha()).rgbString(),n.font=r.fontString(o,t._titleFontStyle,t._titleFontFamily);var c,u;for(c=0,u=a.length;c<u;++c)n.fillText(a[c],e.x,e.y),e.y+=o+s,c+1===a.length&&(e.y+=t.titleMarginBottom-s)}},drawBody:function(e,t,n,i){var a=t.bodyFontSize,o=t.bodySpacing,s=t.body;n.textAlign=t._bodyAlign,n.textBaseline="top";var l=r.color(t.bodyFontColor),c=l.alpha(i*l.alpha()).rgbString();n.fillStyle=c,n.font=r.fontString(a,t._bodyFontStyle,t._bodyFontFamily);var u=0,d=function(t){n.fillText(t,e.x+u,e.y),e.y+=a+o};r.each(t.beforeBody,d);var h=s.length>1;u=h?a+2:0,r.each(s,function(o,s){r.each(o.before,d),r.each(o.lines,function(o){h&&(n.fillStyle=r.color(t.legendColorBackground).alpha(i).rgbaString(),n.fillRect(e.x,e.y,a,a),n.strokeStyle=r.color(t.labelColors[s].borderColor).alpha(i).rgbaString(),n.strokeRect(e.x,e.y,a,a),n.fillStyle=r.color(t.labelColors[s].backgroundColor).alpha(i).rgbaString(),n.fillRect(e.x+1,e.y+1,a-2,a-2),n.fillStyle=c),d(o)}),r.each(o.after,d)}),u=0,r.each(t.afterBody,d),e.y-=o},drawFooter:function(e,t,n,i){var a=t.footer;if(a.length){e.y+=t.footerMarginTop,n.textAlign=t._footerAlign,n.textBaseline="top";var o=r.color(t.footerFontColor);n.fillStyle=o.alpha(i*o.alpha()).rgbString(),n.font=r.fontString(t.footerFontSize,t._footerFontStyle,t._footerFontFamily),r.each(a,function(i){n.fillText(i,e.x,e.y),e.y+=t.footerFontSize+t.footerSpacing})}},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var n=this.getTooltipSize(t),i={x:t.x,y:t.y},a=Math.abs(t.opacity<.001)?0:t.opacity;if(this._options.enabled){
var o=r.color(t.backgroundColor);e.fillStyle=o.alpha(a*o.alpha()).rgbString(),r.drawRoundedRectangle(e,i.x,i.y,n.width,n.height,t.cornerRadius),e.fill(),this.drawCaret(i,n,a,t.caretPadding),i.x+=t.xPadding,i.y+=t.yPadding,this.drawTitle(i,t,e,a),this.drawBody(i,t,e,a),this.drawFooter(i,t,e,a)}}}})}},{}],34:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.helpers,i=e.defaults.global;i.elements.arc={backgroundColor:i.defaultColor,borderColor:"#fff",borderWidth:2},e.elements.Arc=e.Element.extend({inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,t){var i=this._view;if(i){for(var r=n.getAngleFromPoint(i,{x:e,y:t}),a=r.angle,o=r.distance,s=i.startAngle,l=i.endAngle;l<s;)l+=2*Math.PI;for(;a>l;)a-=2*Math.PI;for(;a<s;)a+=2*Math.PI;var c=a>=s&&a<=l,u=o>=i.innerRadius&&o<=i.outerRadius;return c&&u}return!1},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e=this._chart.ctx,t=this._view,n=t.startAngle,i=t.endAngle;e.beginPath(),e.arc(t.x,t.y,t.outerRadius,n,i),e.arc(t.x,t.y,t.innerRadius,i,n,!0),e.closePath(),e.strokeStyle=t.borderColor,e.lineWidth=t.borderWidth,e.fillStyle=t.backgroundColor,e.fill(),e.lineJoin="bevel",t.borderWidth&&e.stroke()}})}},{}],35:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=e.defaults.global;e.defaults.global.elements.line={tension:.4,backgroundColor:n.defaultColor,borderWidth:3,borderColor:n.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",fill:!0},e.elements.Line=e.Element.extend({lineToNextPoint:function(e,t,n,i,r){var a=this,o=a._chart.ctx,s=!!a._view&&a._view.spanGaps;t._view.skip&&!s?i.call(a,e,t,n):e._view.skip&&!s?r.call(a,e,t,n):0===t._view.tension?o.lineTo(t._view.x,t._view.y):o.bezierCurveTo(e._view.controlPointNextX,e._view.controlPointNextY,t._view.controlPointPreviousX,t._view.controlPointPreviousY,t._view.x,t._view.y)},draw:function(){function e(e){o._view.skip||s._view.skip?e&&a.lineTo(i._view.scaleZero.x,i._view.scaleZero.y):a.bezierCurveTo(s._view.controlPointNextX,s._view.controlPointNextY,o._view.controlPointPreviousX,o._view.controlPointPreviousY,o._view.x,o._view.y)}var i=this,r=i._view,a=i._chart.ctx,o=i._children[0],s=i._children[i._children.length-1];a.save(),i._children.length>0&&r.fill&&(a.beginPath(),t.each(i._children,function(e,n){var o=t.previousItem(i._children,n),s=t.nextItem(i._children,n);0===n?(i._loop?a.moveTo(r.scaleZero.x,r.scaleZero.y):a.moveTo(e._view.x,r.scaleZero),e._view.skip?i._loop||a.moveTo(s._view.x,i._view.scaleZero):a.lineTo(e._view.x,e._view.y)):i.lineToNextPoint(o,e,s,function(e,t,n){i._loop?a.lineTo(i._view.scaleZero.x,i._view.scaleZero.y):(a.lineTo(e._view.x,i._view.scaleZero),a.moveTo(n._view.x,i._view.scaleZero))},function(e,t){a.lineTo(t._view.x,t._view.y)})},i),i._loop?e(!0):(a.lineTo(i._children[i._children.length-1]._view.x,r.scaleZero),a.lineTo(i._children[0]._view.x,r.scaleZero)),a.fillStyle=r.backgroundColor||n.defaultColor,a.closePath(),a.fill());var l=n.elements.line;a.lineCap=r.borderCapStyle||l.borderCapStyle,a.setLineDash&&a.setLineDash(r.borderDash||l.borderDash),a.lineDashOffset=r.borderDashOffset||l.borderDashOffset,a.lineJoin=r.borderJoinStyle||l.borderJoinStyle,a.lineWidth=r.borderWidth||l.borderWidth,a.strokeStyle=r.borderColor||n.defaultColor,a.beginPath(),t.each(i._children,function(e,n){var r=t.previousItem(i._children,n),o=t.nextItem(i._children,n);0===n?a.moveTo(e._view.x,e._view.y):i.lineToNextPoint(r,e,o,function(e,t,n){a.moveTo(n._view.x,n._view.y)},function(e,t){a.moveTo(t._view.x,t._view.y)})},i),i._loop&&i._children.length>0&&e(),a.stroke(),a.restore()}})}},{}],36:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=e.defaults.global,i=n.defaultColor;n.elements.point={radius:3,pointStyle:"circle",backgroundColor:i,borderWidth:1,borderColor:i,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},e.elements.Point=e.Element.extend({inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hitRadius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(){var e,r,a,o,s,l,c=this._view,u=this._chart.ctx,d=c.pointStyle,h=c.radius,p=c.x,f=c.y;if(!c.skip){if("object"==typeof d&&("[object HTMLImageElement]"===(e=d.toString())||"[object HTMLCanvasElement]"===e))return void u.drawImage(d,p-d.width/2,f-d.height/2);if(!(isNaN(h)||h<=0)){switch(u.strokeStyle=c.borderColor||i,u.lineWidth=t.getValueOrDefault(c.borderWidth,n.elements.point.borderWidth),u.fillStyle=c.backgroundColor||i,d){default:u.beginPath(),u.arc(p,f,h,0,2*Math.PI),u.closePath(),u.fill();break;case"triangle":u.beginPath(),r=3*h/Math.sqrt(3),s=r*Math.sqrt(3)/2,u.moveTo(p-r/2,f+s/3),u.lineTo(p+r/2,f+s/3),u.lineTo(p,f-2*s/3),u.closePath(),u.fill();break;case"rect":l=1/Math.SQRT2*h,u.fillRect(p-l,f-l,2*l,2*l),u.strokeRect(p-l,f-l,2*l,2*l);break;case"rectRot":l=1/Math.SQRT2*h,u.beginPath(),u.moveTo(p-l,f),u.lineTo(p,f+l),u.lineTo(p+l,f),u.lineTo(p,f-l),u.closePath(),u.fill();break;case"cross":u.beginPath(),u.moveTo(p,f+h),u.lineTo(p,f-h),u.moveTo(p-h,f),u.lineTo(p+h,f),u.closePath();break;case"crossRot":u.beginPath(),a=Math.cos(Math.PI/4)*h,o=Math.sin(Math.PI/4)*h,u.moveTo(p-a,f-o),u.lineTo(p+a,f+o),u.moveTo(p-a,f+o),u.lineTo(p+a,f-o),u.closePath();break;case"star":u.beginPath(),u.moveTo(p,f+h),u.lineTo(p,f-h),u.moveTo(p-h,f),u.lineTo(p+h,f),a=Math.cos(Math.PI/4)*h,o=Math.sin(Math.PI/4)*h,u.moveTo(p-a,f-o),u.lineTo(p+a,f+o),u.moveTo(p-a,f+o),u.lineTo(p+a,f-o),u.closePath();break;case"line":u.beginPath(),u.moveTo(p-h,f),u.lineTo(p+h,f),u.closePath();break;case"dash":u.beginPath(),u.moveTo(p,f),u.lineTo(p+h,f),u.closePath()}u.stroke()}}}})}},{}],37:[function(e,t,n){"use strict";t.exports=function(e){var t=(e.helpers,e.defaults.global);t.elements.rectangle={backgroundColor:t.defaultColor,borderWidth:0,borderColor:t.defaultColor,borderSkipped:"bottom"},e.elements.Rectangle=e.Element.extend({draw:function(){function e(e){return l[(u+e)%4]}var t=this._chart.ctx,n=this._view,i=n.width/2,r=n.x-i,a=n.x+i,o=n.base-(n.base-n.y),s=n.borderWidth/2;n.borderWidth&&(r+=s,a-=s,o+=s),t.beginPath(),t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth;var l=[[r,n.base],[r,o],[a,o],[a,n.base]],c=["bottom","left","top","right"],u=c.indexOf(n.borderSkipped,0);-1===u&&(u=0),t.moveTo.apply(t,e(0));for(var d=1;d<4;d++)t.lineTo.apply(t,e(d));t.fill(),n.borderWidth&&t.stroke()},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){var n=this._view;return!!n&&(n.y<n.base?e>=n.x-n.width/2&&e<=n.x+n.width/2&&t>=n.y&&t<=n.base:e>=n.x-n.width/2&&e<=n.x+n.width/2&&t>=n.base&&t<=n.y)},inLabelRange:function(e){var t=this._view;return!!t&&(e>=t.x-t.width/2&&e<=t.x+t.width/2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}})}},{}],38:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n={position:"bottom"},i=e.Scale.extend({determineDataLimits:function(){var e=this;e.minIndex=0,e.maxIndex=e.chart.data.labels.length-1;var n;void 0!==e.options.ticks.min&&(n=t.indexOf(e.chart.data.labels,e.options.ticks.min),e.minIndex=-1!==n?n:e.minIndex),void 0!==e.options.ticks.max&&(n=t.indexOf(e.chart.data.labels,e.options.ticks.max),e.maxIndex=-1!==n?n:e.maxIndex),e.min=e.chart.data.labels[e.minIndex],e.max=e.chart.data.labels[e.maxIndex]},buildTicks:function(e){var t=this;t.ticks=0===t.minIndex&&t.maxIndex===t.chart.data.labels.length-1?t.chart.data.labels:t.chart.data.labels.slice(t.minIndex,t.maxIndex+1)},getLabelForIndex:function(e,t){return this.ticks[e]},getPixelForValue:function(e,t,n,i){var r=this,a=Math.max(r.maxIndex+1-r.minIndex-(r.options.gridLines.offsetGridLines?0:1),1);if(r.isHorizontal()){var o=r.width-(r.paddingLeft+r.paddingRight),s=o/a,l=s*(t-r.minIndex)+r.paddingLeft;return r.options.gridLines.offsetGridLines&&i&&(l+=s/2),r.left+Math.round(l)}var c=r.height-(r.paddingTop+r.paddingBottom),u=c/a,d=u*(t-r.minIndex)+r.paddingTop;return r.options.gridLines.offsetGridLines&&i&&(d+=u/2),r.top+Math.round(d)},getPixelForTick:function(e,t){return this.getPixelForValue(this.ticks[e],e+this.minIndex,null,t)},getValueForPixel:function(e){var t=this,n=Math.max(t.ticks.length-(t.options.gridLines.offsetGridLines?0:1),1),i=t.isHorizontal(),r=i?t.width-(t.paddingLeft+t.paddingRight):t.height-(t.paddingTop+t.paddingBottom),a=r/n;return t.options.gridLines.offsetGridLines&&(e-=a/2),e-=i?t.paddingLeft:t.paddingTop,e<=0?0:Math.round(e/a)}});e.scaleService.registerScaleType("category",i,n)}},{}],39:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n={position:"left",ticks:{callback:function(e,n,i){var r=i.length>3?i[2]-i[1]:i[1]-i[0];Math.abs(r)>1&&e!==Math.floor(e)&&(r=e-Math.floor(e));var a=t.log10(Math.abs(r)),o="";if(0!==e){var s=-1*Math.floor(a);s=Math.max(Math.min(s,20),0),o=e.toFixed(s)}else o="0";return o}}},i=e.LinearScaleBase.extend({determineDataLimits:function(){function e(e){return s?e.xAxisID===n.id:e.yAxisID===n.id}var n=this,i=n.options,r=(i.ticks,n.chart),a=r.data,o=a.datasets,s=n.isHorizontal();if(n.min=null,n.max=null,i.stacked){var l={},c=!1,u=!1;t.each(o,function(a,o){var s=r.getDatasetMeta(o);void 0===l[s.type]&&(l[s.type]={positiveValues:[],negativeValues:[]});var d=l[s.type].positiveValues,h=l[s.type].negativeValues;r.isDatasetVisible(o)&&e(s)&&t.each(a.data,function(e,t){var r=+n.getRightValue(e);isNaN(r)||s.data[t].hidden||(d[t]=d[t]||0,h[t]=h[t]||0,i.relativePoints?d[t]=100:r<0?(u=!0,h[t]+=r):(c=!0,d[t]+=r))})}),t.each(l,function(e){var i=e.positiveValues.concat(e.negativeValues),r=t.min(i),a=t.max(i);n.min=null===n.min?r:Math.min(n.min,r),n.max=null===n.max?a:Math.max(n.max,a)})}else t.each(o,function(i,a){var o=r.getDatasetMeta(a);r.isDatasetVisible(a)&&e(o)&&t.each(i.data,function(e,t){var i=+n.getRightValue(e);isNaN(i)||o.data[t].hidden||(null===n.min?n.min=i:i<n.min&&(n.min=i),null===n.max?n.max=i:i>n.max&&(n.max=i))})});this.handleTickRangeOptions()},getTickLimit:function(){var n,i=this,r=i.options.ticks;if(i.isHorizontal())n=Math.min(r.maxTicksLimit?r.maxTicksLimit:11,Math.ceil(i.width/50));else{var a=t.getValueOrDefault(r.fontSize,e.defaults.global.defaultFontSize);n=Math.min(r.maxTicksLimit?r.maxTicksLimit:11,Math.ceil(i.height/(2*a)))}return n},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e,t,n,i){var r,a,o=this,s=o.paddingLeft,l=o.paddingBottom,c=o.start,u=+o.getRightValue(e),d=o.end-c;return o.isHorizontal()?(a=o.width-(s+o.paddingRight),r=o.left+a/d*(u-c),Math.round(r+s)):(a=o.height-(o.paddingTop+l),r=o.bottom-l-a/d*(u-c),Math.round(r))},getValueForPixel:function(e){var t=this,n=t.isHorizontal(),i=t.paddingLeft,r=t.paddingBottom,a=n?t.width-(i+t.paddingRight):t.height-(t.paddingTop+r),o=(n?e-t.left-i:t.bottom-r-e)/a;return t.start+(t.end-t.start)*o},getPixelForTick:function(e,t){return this.getPixelForValue(this.ticksAsNumbers[e],null,null,t)}});e.scaleService.registerScaleType("linear",i,n)}},{}],40:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=t.noop;e.LinearScaleBase=e.Scale.extend({handleTickRangeOptions:function(){var e=this,n=e.options,i=n.ticks;if(i.beginAtZero){var r=t.sign(e.min),a=t.sign(e.max);r<0&&a<0?e.max=0:r>0&&a>0&&(e.min=0)}void 0!==i.min?e.min=i.min:void 0!==i.suggestedMin&&(e.min=Math.min(e.min,i.suggestedMin)),void 0!==i.max?e.max=i.max:void 0!==i.suggestedMax&&(e.max=Math.max(e.max,i.suggestedMax)),e.min===e.max&&(e.max++,i.beginAtZero||e.min--)},getTickLimit:n,handleDirectionalChanges:n,buildTicks:function(){var e=this,n=e.options,i=n.ticks,r=t.getValueOrDefault,a=(e.isHorizontal(),e.ticks=[]),o=e.getTickLimit();o=Math.max(2,o);var s;if(i.fixedStepSize&&i.fixedStepSize>0||i.stepSize&&i.stepSize>0)s=r(i.fixedStepSize,i.stepSize);else{var l=t.niceNum(e.max-e.min,!1);s=t.niceNum(l/(o-1),!0)}var c=Math.floor(e.min/s)*s,u=Math.ceil(e.max/s)*s,d=(u-c)/s;d=t.almostEquals(d,Math.round(d),s/1e3)?Math.round(d):Math.ceil(d),a.push(void 0!==i.min?i.min:c);for(var h=1;h<d;++h)a.push(c+h*s);a.push(void 0!==i.max?i.max:u),e.handleDirectionalChanges(),e.max=t.max(a),e.min=t.min(a),i.reverse?(a.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),e.Scale.prototype.convertTicksToLabels.call(t)}})}},{}],41:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n={position:"left",ticks:{callback:function(e,n,i){var r=e/Math.pow(10,Math.floor(t.log10(e)));return 1===r||2===r||5===r||0===n||n===i.length-1?e.toExponential():""}}},i=e.Scale.extend({determineDataLimits:function(){function e(e){return c?e.xAxisID===n.id:e.yAxisID===n.id}var n=this,i=n.options,r=i.ticks,a=n.chart,o=a.data,s=o.datasets,l=t.getValueOrDefault,c=n.isHorizontal();if(n.min=null,n.max=null,i.stacked){var u={};t.each(s,function(r,o){var s=a.getDatasetMeta(o);a.isDatasetVisible(o)&&e(s)&&(void 0===u[s.type]&&(u[s.type]=[]),t.each(r.data,function(e,t){var r=u[s.type],a=+n.getRightValue(e);isNaN(a)||s.data[t].hidden||(r[t]=r[t]||0,i.relativePoints?r[t]=100:r[t]+=a)}))}),t.each(u,function(e){var i=t.min(e),r=t.max(e);n.min=null===n.min?i:Math.min(n.min,i),n.max=null===n.max?r:Math.max(n.max,r)})}else t.each(s,function(i,r){var o=a.getDatasetMeta(r);a.isDatasetVisible(r)&&e(o)&&t.each(i.data,function(e,t){var i=+n.getRightValue(e);isNaN(i)||o.data[t].hidden||(null===n.min?n.min=i:i<n.min&&(n.min=i),null===n.max?n.max=i:i>n.max&&(n.max=i))})});n.min=l(r.min,n.min),n.max=l(r.max,n.max),n.min===n.max&&(0!==n.min&&null!==n.min?(n.min=Math.pow(10,Math.floor(t.log10(n.min))-1),n.max=Math.pow(10,Math.floor(t.log10(n.max))+1)):(n.min=1,n.max=10))},buildTicks:function(){for(var e=this,n=e.options,i=n.ticks,r=t.getValueOrDefault,a=e.ticks=[],o=r(i.min,Math.pow(10,Math.floor(t.log10(e.min))));o<e.max;){a.push(o);var s=Math.floor(t.log10(o)),l=Math.floor(o/Math.pow(10,s))+1;10===l&&(l=1,++s),o=l*Math.pow(10,s)}var c=r(i.max,o);a.push(c),e.isHorizontal()||a.reverse(),e.max=t.max(a),e.min=t.min(a),i.reverse?(a.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),e.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e,t){return this.getPixelForValue(this.tickValues[e],null,null,t)},getPixelForValue:function(e,n,i,r){var a,o,s=this,l=s.start,c=+s.getRightValue(e),u=t.log10(s.end)-t.log10(l),d=s.paddingTop,h=s.paddingBottom,p=s.paddingLeft;return s.isHorizontal()?0===c?o=s.left+p:(a=s.width-(p+s.paddingRight),o=s.left+a/u*(t.log10(c)-t.log10(l)),o+=p):0===c?o=s.top+d:(a=s.height-(d+h),o=s.bottom-h-a/u*(t.log10(c)-t.log10(l))),o},getValueForPixel:function(e){var n,i,r=this,a=t.log10(r.end)-t.log10(r.start);return r.isHorizontal()?(i=r.width-(r.paddingLeft+r.paddingRight),n=r.start*Math.pow(10,(e-r.left-r.paddingLeft)*a/i)):(i=r.height-(r.paddingTop+r.paddingBottom),n=Math.pow(10,(r.bottom-r.paddingBottom-e)*a/i)/r.start),n}});e.scaleService.registerScaleType("logarithmic",i,n)}},{}],42:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=e.defaults.global,i={display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2},pointLabels:{fontSize:10,callback:function(e){return e}}},r=e.LinearScaleBase.extend({getValueCount:function(){return this.chart.data.labels.length},setDimensions:function(){var e=this,i=e.options,r=i.ticks;e.width=e.maxWidth,e.height=e.maxHeight,e.xCenter=Math.round(e.width/2),e.yCenter=Math.round(e.height/2);var a=t.min([e.height,e.width]),o=t.getValueOrDefault(r.fontSize,n.defaultFontSize);e.drawingArea=i.display?a/2-(o/2+r.backdropPaddingY):a/2},determineDataLimits:function(){var e=this,n=e.chart;e.min=null,e.max=null,t.each(n.data.datasets,function(i,r){if(n.isDatasetVisible(r)){var a=n.getDatasetMeta(r);t.each(i.data,function(t,n){var i=+e.getRightValue(t);isNaN(i)||a.data[n].hidden||(null===e.min?e.min=i:i<e.min&&(e.min=i),null===e.max?e.max=i:i>e.max&&(e.max=i))})}}),e.handleTickRangeOptions()},getTickLimit:function(){var e=this.options.ticks,i=t.getValueOrDefault(e.fontSize,n.defaultFontSize);return Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*i)))},convertTicksToLabels:function(){var t=this;e.LinearScaleBase.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(t.options.pointLabels.callback,t)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e,i,r,a,o,s,l,c,u,d,h,p,f=this.options.pointLabels,g=t.getValueOrDefault(f.fontSize,n.defaultFontSize),m=t.getValueOrDefault(f.fontStyle,n.defaultFontStyle),v=t.getValueOrDefault(f.fontFamily,n.defaultFontFamily),b=t.fontString(g,m,v),y=t.min([this.height/2-g-5,this.width/2]),w=this.width,x=0;for(this.ctx.font=b,i=0;i<this.getValueCount();i++)e=this.getPointPosition(i,y),r=this.ctx.measureText(this.pointLabels[i]?this.pointLabels[i]:"").width+5,0===i||i===this.getValueCount()/2?(a=r/2,e.x+a>w&&(w=e.x+a,o=i),e.x-a<x&&(x=e.x-a,l=i)):i<this.getValueCount()/2?e.x+r>w&&(w=e.x+r,o=i):i>this.getValueCount()/2&&e.x-r<x&&(x=e.x-r,l=i);u=x,d=Math.ceil(w-this.width),s=this.getIndexAngle(o),c=this.getIndexAngle(l),h=d/Math.sin(s+Math.PI/2),p=u/Math.sin(c+Math.PI/2),h=t.isNumber(h)?h:0,p=t.isNumber(p)?p:0,this.drawingArea=Math.round(y-(p+h)/2),this.setCenterPoint(p,h)},setCenterPoint:function(e,t){var n=this,i=n.width-t-n.drawingArea,r=e+n.drawingArea;n.xCenter=Math.round((r+i)/2+n.left),n.yCenter=Math.round(n.height/2+n.top)},getIndexAngle:function(e){return e*(2*Math.PI/this.getValueCount())-Math.PI/2},getDistanceFromCenterForValue:function(e){var t=this;if(null===e)return 0;var n=t.drawingArea/(t.max-t.min);return t.options.reverse?(t.max-e)*n:(e-t.min)*n},getPointPosition:function(e,t){var n=this,i=n.getIndexAngle(e);return{x:Math.round(Math.cos(i)*t)+n.xCenter,y:Math.round(Math.sin(i)*t)+n.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(){var e=this,t=e.min,n=e.max;return e.getPointPositionForValue(0,e.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0)},draw:function(){var e=this,i=e.options,r=i.gridLines,a=i.ticks,o=i.angleLines,s=i.pointLabels,l=t.getValueOrDefault;if(i.display){var c=e.ctx,u=l(a.fontSize,n.defaultFontSize),d=l(a.fontStyle,n.defaultFontStyle),h=l(a.fontFamily,n.defaultFontFamily),p=t.fontString(u,d,h);if(t.each(e.ticks,function(o,s){if(s>0||i.reverse){var d=e.getDistanceFromCenterForValue(e.ticksAsNumbers[s]),h=e.yCenter-d;if(r.display&&0!==s)if(c.strokeStyle=t.getValueAtIndexOrDefault(r.color,s-1),c.lineWidth=t.getValueAtIndexOrDefault(r.lineWidth,s-1),i.lineArc)c.beginPath(),c.arc(e.xCenter,e.yCenter,d,0,2*Math.PI),c.closePath(),c.stroke();else{c.beginPath();for(var f=0;f<e.getValueCount();f++){var g=e.getPointPosition(f,d);0===f?c.moveTo(g.x,g.y):c.lineTo(g.x,g.y)}c.closePath(),c.stroke()}if(a.display){var m=l(a.fontColor,n.defaultFontColor);if(c.font=p,a.showLabelBackdrop){var v=c.measureText(o).width;c.fillStyle=a.backdropColor,c.fillRect(e.xCenter-v/2-a.backdropPaddingX,h-u/2-a.backdropPaddingY,v+2*a.backdropPaddingX,u+2*a.backdropPaddingY)}c.textAlign="center",c.textBaseline="middle",c.fillStyle=m,c.fillText(o,e.xCenter,h)}}}),!i.lineArc){c.lineWidth=o.lineWidth,c.strokeStyle=o.color;for(var f=e.getDistanceFromCenterForValue(i.reverse?e.min:e.max),g=l(s.fontSize,n.defaultFontSize),m=l(s.fontStyle,n.defaultFontStyle),v=l(s.fontFamily,n.defaultFontFamily),b=t.fontString(g,m,v),y=e.getValueCount()-1;y>=0;y--){if(o.display){var w=e.getPointPosition(y,f);c.beginPath(),c.moveTo(e.xCenter,e.yCenter),c.lineTo(w.x,w.y),c.stroke(),c.closePath()}var x=e.getPointPosition(y,f+5),_=l(s.fontColor,n.defaultFontColor);c.font=b,c.fillStyle=_;var k=e.pointLabels,C=k.length,S=k.length/2,$=S/2,D=y<$||y>C-$,T=y===$||y===C-$;c.textAlign=0===y?"center":y===S?"center":y<S?"left":"right",c.textBaseline=T?"middle":D?"bottom":"top",c.fillText(k[y]?k[y]:"",x.x,x.y)}}}}});e.scaleService.registerScaleType("radialLinear",r,i)}},{}],43:[function(e,t,n){"use strict";var i=e(1);i="function"==typeof i?i:window.moment,t.exports=function(e){var t=e.helpers,n={units:[{name:"millisecond",steps:[1,2,5,10,20,50,100,250,500]},{name:"second",steps:[1,2,5,10,30]},{name:"minute",steps:[1,2,5,10,30]},{name:"hour",steps:[1,2,3,6,12]},{name:"day",steps:[1,2,5]},{name:"week",maxStep:4},{name:"month",maxStep:3},{name:"quarter",maxStep:4},{name:"year",maxStep:!1}]},r={position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}},a=e.Scale.extend({initialize:function(){if(!i)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");e.Scale.prototype.initialize.call(this)},getLabelMoment:function(e,t){return this.labelMoments[e][t]},getMomentStartOf:function(e){var t=this;return"week"===t.options.time.unit&&!1!==t.options.time.isoWeekday?e.clone().startOf("isoWeek").isoWeekday(t.options.time.isoWeekday):e.clone().startOf(t.tickUnit)},determineDataLimits:function(){var e=this;e.labelMoments=[];var n=[];e.chart.data.labels&&e.chart.data.labels.length>0?(t.each(e.chart.data.labels,function(t,i){var r=e.parseTime(t);r.isValid()&&(e.options.time.round&&r.startOf(e.options.time.round),n.push(r))},e),e.firstTick=i.min.call(e,n),e.lastTick=i.max.call(e,n)):(e.firstTick=null,e.lastTick=null),t.each(e.chart.data.datasets,function(r,a){var o=[],s=e.chart.isDatasetVisible(a);"object"==typeof r.data[0]&&null!==r.data[0]?t.each(r.data,function(t,n){var r=e.parseTime(e.getRightValue(t));r.isValid()&&(e.options.time.round&&r.startOf(e.options.time.round),o.push(r),s&&(e.firstTick=null!==e.firstTick?i.min(e.firstTick,r):r,e.lastTick=null!==e.lastTick?i.max(e.lastTick,r):r))},e):o=n,e.labelMoments.push(o)},e),e.options.time.min&&(e.firstTick=e.parseTime(e.options.time.min)),e.options.time.max&&(e.lastTick=e.parseTime(e.options.time.max)),e.firstTick=(e.firstTick||i()).clone(),e.lastTick=(e.lastTick||i()).clone()},buildTicks:function(i){var r=this;r.ctx.save();var a=t.getValueOrDefault(r.options.ticks.fontSize,e.defaults.global.defaultFontSize),o=t.getValueOrDefault(r.options.ticks.fontStyle,e.defaults.global.defaultFontStyle),s=t.getValueOrDefault(r.options.ticks.fontFamily,e.defaults.global.defaultFontFamily),l=t.fontString(a,o,s);if(r.ctx.font=l,r.ticks=[],r.unitScale=1,r.scaleSizeInUnits=0,r.options.time.unit)r.tickUnit=r.options.time.unit||"day",r.displayFormat=r.options.time.displayFormats[r.tickUnit],r.scaleSizeInUnits=r.lastTick.diff(r.firstTick,r.tickUnit,!0),r.unitScale=t.getValueOrDefault(r.options.time.unitStepSize,1);else{var c=r.isHorizontal()?r.width-(r.paddingLeft+r.paddingRight):r.height-(r.paddingTop+r.paddingBottom),u=r.tickFormatFunction(r.firstTick,0,[]),d=r.ctx.measureText(u).width;d=d*Math.cos(t.toRadians(r.options.ticks.maxRotation))+a*Math.sin(t.toRadians(r.options.ticks.maxRotation));var h=c/d;r.tickUnit="millisecond",r.scaleSizeInUnits=r.lastTick.diff(r.firstTick,r.tickUnit,!0),r.displayFormat=r.options.time.displayFormats[r.tickUnit];for(var p=0,f=n.units[p];p<n.units.length;){if(r.unitScale=1,t.isArray(f.steps)&&Math.ceil(r.scaleSizeInUnits/h)<t.max(f.steps)){for(var g=0;g<f.steps.length;++g)if(f.steps[g]>=Math.ceil(r.scaleSizeInUnits/h)){r.unitScale=t.getValueOrDefault(r.options.time.unitStepSize,f.steps[g]);break}break}if(!1===f.maxStep||Math.ceil(r.scaleSizeInUnits/h)<f.maxStep){r.unitScale=t.getValueOrDefault(r.options.time.unitStepSize,Math.ceil(r.scaleSizeInUnits/h));break}++p,f=n.units[p],r.tickUnit=f.name;var m=r.firstTick.diff(r.getMomentStartOf(r.firstTick),r.tickUnit,!0),v=r.getMomentStartOf(r.lastTick.clone().add(1,r.tickUnit)).diff(r.lastTick,r.tickUnit,!0);r.scaleSizeInUnits=r.lastTick.diff(r.firstTick,r.tickUnit,!0)+m+v,r.displayFormat=r.options.time.displayFormats[f.name]}}var b;if(r.options.time.min?b=r.getMomentStartOf(r.firstTick):(r.firstTick=r.getMomentStartOf(r.firstTick),b=r.firstTick),!r.options.time.max){0!==r.getMomentStartOf(r.lastTick).diff(r.lastTick,r.tickUnit,!0)&&(r.lastTick=r.getMomentStartOf(r.lastTick.add(1,r.tickUnit)))}r.smallestLabelSeparation=r.width,t.each(r.chart.data.datasets,function(e,t){for(var n=1;n<r.labelMoments[t].length;n++)r.smallestLabelSeparation=Math.min(r.smallestLabelSeparation,r.labelMoments[t][n].diff(r.labelMoments[t][n-1],r.tickUnit,!0))},r),r.options.time.displayFormat&&(r.displayFormat=r.options.time.displayFormat),r.ticks.push(r.firstTick.clone());for(var y=1;y<=r.scaleSizeInUnits;++y){var w=b.clone().add(y,r.tickUnit);if(r.options.time.max&&w.diff(r.lastTick,r.tickUnit,!0)>=0)break;y%r.unitScale==0&&r.ticks.push(w)}0===r.ticks[r.ticks.length-1].diff(r.lastTick,r.tickUnit)&&0!==r.scaleSizeInUnits||(r.options.time.max?(r.ticks.push(r.lastTick.clone()),r.scaleSizeInUnits=r.lastTick.diff(r.ticks[0],r.tickUnit,!0)):(r.ticks.push(r.lastTick.clone()),r.scaleSizeInUnits=r.lastTick.diff(r.firstTick,r.tickUnit,!0))),r.ctx.restore()},getLabelForIndex:function(e,t){var n=this,i=n.chart.data.labels&&e<n.chart.data.labels.length?n.chart.data.labels[e]:"";return"object"==typeof n.chart.data.datasets[t].data[0]&&(i=n.getRightValue(n.chart.data.datasets[t].data[e])),n.options.time.tooltipFormat&&(i=n.parseTime(i).format(n.options.time.tooltipFormat)),i},tickFormatFunction:function(e,n,i){var r=e.format(this.displayFormat),a=this.options.ticks,o=t.getValueOrDefault(a.callback,a.userCallback);return o?o(r,n,i):r},convertTicksToLabels:function(){var e=this;e.tickMoments=e.ticks,e.ticks=e.ticks.map(e.tickFormatFunction,e)},getPixelForValue:function(e,t,n,i){var r=this,a=e&&e.isValid&&e.isValid()?e:r.getLabelMoment(n,t);if(a){var o=a.diff(r.firstTick,r.tickUnit,!0),s=o/r.scaleSizeInUnits;if(r.isHorizontal()){var l=r.width-(r.paddingLeft+r.paddingRight),c=(Math.max(r.ticks.length-1,1),l*s+r.paddingLeft);return r.left+Math.round(c)}var u=r.height-(r.paddingTop+r.paddingBottom),d=(Math.max(r.ticks.length-1,1),u*s+r.paddingTop);return r.top+Math.round(d)}},getPixelForTick:function(e,t){return this.getPixelForValue(this.tickMoments[e],null,null,t)},getValueForPixel:function(e){var t=this,n=t.isHorizontal()?t.width-(t.paddingLeft+t.paddingRight):t.height-(t.paddingTop+t.paddingBottom),r=(e-(t.isHorizontal()?t.left+t.paddingLeft:t.top+t.paddingTop))/n;return r*=t.scaleSizeInUnits,t.firstTick.clone().add(i.duration(r,t.tickUnit).asSeconds(),"seconds")},parseTime:function(e){var t=this;return"string"==typeof t.options.time.parser?i(e,t.options.time.parser):"function"==typeof t.options.time.parser?t.options.time.parser(e):"function"==typeof e.getMonth||"number"==typeof e?i(e):e.isValid&&e.isValid()?e:"string"!=typeof t.options.time.format&&t.options.time.format.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale"),t.options.time.format(e)):i(e,t.options.time.format)}});e.scaleService.registerScaleType("time",a,r)}},{1:1}]},{},[7])(7)}),function(e,t){"use strict";e.module("emguo.poller",[]).constant("pollerConfig",{stopOn:null,resetOn:null,smart:!1,neverOverwrite:!1,handleVisibilityChange:!1}).run(["$rootScope","$document","poller","pollerConfig",function(e,t,n,i){function r(e){return e&&("$stateChangeStart"===e||"$routeChangeStart"===e||"$stateChangeSuccess"===e||"$routeChangeSuccess"===e)}function a(){t.prop("hidden")?n.delayAll():n.resetDelay()}r(i.stopOn)&&e.$on(i.stopOn,function(){n.stopAll()}),r(i.resetOn)&&e.$on(i.resetOn,function(){n.reset()}),i.handleVisibilityChange&&(a(),t.on("visibilitychange",a))}]).factory("poller",["$interval","$q","$http","pollerConfig",function(t,n,i,r){function a(e,t){this.target=e,this.set(t)}function o(t){var n=null;return r.neverOverwrite||e.forEach(s,function(i){e.equals(i.target,t)&&(n=i)}),n}var s=[],l={action:"get",argumentsArray:[],delay:5e3,idleDelay:1e4,smart:r.smart,catchError:!1};return a.prototype.set=function(t){var n=["action","argumentsArray","delay","idleDelay","smart","catchError"];e.forEach(n,function(e){t&&t[e]?this[e]=t[e]:this[e]||(this[e]=l[e])},this),this.normalDelay=this.delay},a.prototype.start=function(){function r(){(!d||e.isUndefined(o)||o.$resolved)&&(a=e.isFunction(p.argumentsArray)?p.argumentsArray():p.argumentsArray.slice(0),e.isString(p.target)&&(a.unshift(p.target),l=i),s=new Date,o=l[c].apply(l,a),o.$resolved=!1,(o.$promise||o).then(function(t){o.$resolved=!0,(e.isUndefined(p.stopTimestamp)||s>=p.stopTimestamp)&&p.deferred.notify(t)},function(t){o.$resolved=!0,h&&(e.isUndefined(p.stopTimestamp)||s>=p.stopTimestamp)&&p.deferred.notify(t)}))}var a,o,s,l=this.target,c=this.action,u=this.delay,d=this.smart,h=this.catchError,p=this;this.deferred=this.deferred||n.defer(),r(),this.interval=t(r,u),this.promise=this.deferred.promise},a.prototype.stop=function(){e.isDefined(this.interval)&&(t.cancel(this.interval),this.interval=void 0,this.stopTimestamp=new Date)},a.prototype.remove=function(){var e=s.indexOf(this);this.stop(),s.splice(e,1)},a.prototype.restart=function(){this.stop(),this.start()},{get:function(e,t){var n=o(e);return n?(n.set(t),n.restart()):(n=new a(e,t),s.push(n),n.start()),n},size:function(){return s.length},stopAll:function(){e.forEach(s,function(e){e.stop()})},restartAll:function(){e.forEach(s,function(e){e.restart()})},reset:function(){this.stopAll(),s=[]},delayAll:function(){e.forEach(s,function(t){t.delay=t.idleDelay,e.isDefined(t.interval)&&t.restart()})},resetDelay:function(){e.forEach(s,function(t){t.delay=t.normalDelay,e.isDefined(t.interval)&&t.restart()})}}}])}(window.angular),/*!
 * Pusher JavaScript Library v3.2.4
 * http://pusher.com/
 *
 * Copyright 2016, Pusher
 * Released under the MIT licence.
 */
function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Pusher=t():e.Pusher=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var i=n(1);e.exports=i.default},function(e,t,n){"use strict";function i(e){if(null===e||void 0===e)throw"You must pass your app key when you instantiate Pusher."}var r=n(2),a=n(9),o=n(23),s=n(38),l=n(39),c=n(40),u=n(12),d=n(5),h=n(62),p=n(8),f=n(42),g=function(){function e(t,n){var u=this;i(t),n=n||{},this.key=t,this.config=a.extend(h.getGlobalConfig(),n.cluster?h.getClusterConfig(n.cluster):{},n),this.channels=f.default.createChannels(),this.global_emitter=new o.default,this.sessionID=Math.floor(1e9*Math.random()),this.timeline=new s.default(this.key,this.sessionID,{cluster:this.config.cluster,features:e.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:l.default.INFO,version:d.default.VERSION}),this.config.disableStats||(this.timelineSender=f.default.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+r.default.TimelineTransport.name}));var g=function(e){var t=a.extend({},u.config,e);return c.build(r.default.getDefaultStrategy(t),t)};this.connection=f.default.createConnectionManager(this.key,a.extend({getStrategy:g,timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},this.config,{encrypted:this.isEncrypted()})),this.connection.bind("connected",function(){u.subscribeAll(),u.timelineSender&&u.timelineSender.send(u.connection.isEncrypted())}),this.connection.bind("message",function(e){var t=0===e.event.indexOf("pusher_internal:");if(e.channel){var n=u.channel(e.channel);n&&n.handleEvent(e.event,e.data)}t||u.global_emitter.emit(e.event,e.data)}),this.connection.bind("connecting",function(){u.channels.disconnect()}),this.connection.bind("disconnected",function(){u.channels.disconnect()}),this.connection.bind("error",function(e){p.default.warn("Error",e)}),e.instances.push(this),this.timeline.info({instances:e.instances.length}),e.isReady&&this.connect()}return e.ready=function(){e.isReady=!0;for(var t=0,n=e.instances.length;t<n;t++)e.instances[t].connect()},e.log=function(t){e.logToConsole&&window.console&&window.console.log&&window.console.log(t)},e.getClientFeatures=function(){return a.keys(a.filterObject({ws:r.default.Transports.ws},function(e){return e.isSupported({})}))},e.prototype.channel=function(e){return this.channels.find(e)},e.prototype.allChannels=function(){return this.channels.all()},e.prototype.connect=function(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var e=this.connection.isEncrypted(),t=this.timelineSender;this.timelineSenderTimer=new u.PeriodicTimer(6e4,function(){t.send(e)})}},e.prototype.disconnect=function(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)},e.prototype.bind=function(e,t){return this.global_emitter.bind(e,t),this},e.prototype.unbind=function(e,t){return this.global_emitter.unbind(e,t),this},e.prototype.bind_all=function(e){return this.global_emitter.bind_all(e),this},e.prototype.subscribeAll=function(){var e;for(e in this.channels.channels)this.channels.channels.hasOwnProperty(e)&&this.subscribe(e)},e.prototype.subscribe=function(e){var t=this.channels.add(e,this);return t.subscriptionPending&&t.subscriptionCancelled?t.reinstateSubscription():t.subscriptionPending||"connected"!==this.connection.state||t.subscribe(),t},e.prototype.unsubscribe=function(e){var t=this.channels.find(e);t&&t.subscriptionPending?t.cancelSubscription():(t=this.channels.remove(e))&&"connected"===this.connection.state&&t.unsubscribe()},e.prototype.send_event=function(e,t,n){return this.connection.send_event(e,t,n)},e.prototype.isEncrypted=function(){return"https:"===r.default.getProtocol()||Boolean(this.config.encrypted)},e.instances=[],e.isReady=!1,e.logToConsole=!1,e.Runtime=r.default,e.ScriptReceivers=r.default.ScriptReceivers,e.DependenciesReceivers=r.default.DependenciesReceivers,e.auth_callbacks=r.default.auth_callbacks,e}();t.__esModule=!0,t.default=g,r.default.setup(g)},function(e,t,n){"use strict";var i=n(3),r=n(7),a=n(14),o=n(15),s=n(16),l=n(4),c=n(17),u=n(18),d=n(25),h=n(26),p=n(27),f=n(28),g={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:l.ScriptReceivers,DependenciesReceivers:i.DependenciesReceivers,getDefaultStrategy:h.default,Transports:u.default,transportConnectionInitializer:p.default,HTTPFactory:f.default,TimelineTransport:c.default,getXHRAPI:function(){return window.XMLHttpRequest},getWebSocketAPI:function(){return window.WebSocket||window.MozWebSocket},setup:function(e){var t=this;window.Pusher=e;var n=function(){t.onDocumentBody(e.ready)};window.JSON?n():i.Dependencies.load("json2",{},n)},getDocument:function(){return document},getProtocol:function(){return this.getDocument().location.protocol},getAuthorizers:function(){return{ajax:r.default,jsonp:a.default}},onDocumentBody:function(e){var t=this;document.body?e():setTimeout(function(){t.onDocumentBody(e)},0)},createJSONPRequest:function(e,t){return new s.default(e,t)},createScriptRequest:function(e){return new o.default(e)},getLocalStorage:function(){try{return window.localStorage}catch(e){return}},createXHR:function(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest:function(){return new(this.getXHRAPI())},createMicrosoftXHR:function(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork:function(){return d.Network},createWebSocket:function(e){return new(this.getWebSocketAPI())(e)},createSocketRequest:function(e,t){if(this.isXHRSupported())return this.HTTPFactory.createXHR(e,t);if(this.isXDRSupported(0===t.indexOf("https:")))return this.HTTPFactory.createXDR(e,t);throw"Cross-origin HTTP requests are not supported"},isXHRSupported:function(){var e=this.getXHRAPI();return Boolean(e)&&void 0!==(new e).withCredentials},isXDRSupported:function(e){var t=e?"https:":"http:",n=this.getProtocol();return Boolean(window.XDomainRequest)&&n===t},addUnloadListener:function(e){void 0!==window.addEventListener?window.addEventListener("unload",e,!1):void 0!==window.attachEvent&&window.attachEvent("onunload",e)},removeUnloadListener:function(e){void 0!==window.addEventListener?window.removeEventListener("unload",e,!1):void 0!==window.detachEvent&&window.detachEvent("onunload",e)}};t.__esModule=!0,t.default=g},function(e,t,n){"use strict";var i=n(4),r=n(5),a=n(6);t.DependenciesReceivers=new i.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers"),t.Dependencies=new a.default({cdn_http:r.default.cdn_http,cdn_https:r.default.cdn_https,version:r.default.VERSION,suffix:r.default.dependency_suffix,receivers:t.DependenciesReceivers})},function(e,t){"use strict";var n=function(){function e(e,t){this.lastId=0,this.prefix=e,this.name=t}return e.prototype.create=function(e){this.lastId++;var t=this.lastId,n=this.prefix+t,i=this.name+"["+t+"]",r=!1,a=function(){r||(e.apply(null,arguments),r=!0)};return this[t]=a,{number:t,id:n,name:i,callback:a}},e.prototype.remove=function(e){delete this[e.number]},e}();t.ScriptReceiverFactory=n,t.ScriptReceivers=new n("_pusher_script_","Pusher.ScriptReceivers")},function(e,t){"use strict";var n={VERSION:"3.2.4",PROTOCOL:7,host:"ws.pusherapp.com",ws_port:80,wss_port:443,sockjs_host:"sockjs.pusher.com",sockjs_http_port:80,sockjs_https_port:443,sockjs_path:"/pusher",stats_host:"stats.pusher.com",channel_auth_endpoint:"/pusher/auth",channel_auth_transport:"ajax",activity_timeout:12e4,pong_timeout:3e4,unavailable_timeout:1e4,cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""};t.__esModule=!0,t.default=n},function(e,t,n){"use strict";var i=n(4),r=n(2),a=function(){function e(e){this.options=e,this.receivers=e.receivers||i.ScriptReceivers,this.loading={}}return e.prototype.load=function(e,t,n){var i=this;if(i.loading[e]&&i.loading[e].length>0)i.loading[e].push(n);else{i.loading[e]=[n];var a=r.default.createScriptRequest(i.getPath(e,t)),o=i.receivers.create(function(t){if(i.receivers.remove(o),i.loading[e]){var n=i.loading[e];delete i.loading[e];for(var r=function(e){e||a.cleanup()},s=0;s<n.length;s++)n[s](t,r)}});a.send(o)}},e.prototype.getRoot=function(e){var t,n=r.default.getDocument().location.protocol;return t=e&&e.encrypted||"https:"===n?this.options.cdn_https:this.options.cdn_http,t.replace(/\/*$/,"")+"/"+this.options.version},e.prototype.getPath=function(e,t){return this.getRoot(t)+"/"+e+this.options.suffix+".js"},e}();t.__esModule=!0,t.default=a},function(e,t,n){"use strict";var i=n(8),r=n(2),a=function(e,t,n){var a,o=this;a=r.default.createXHR(),a.open("POST",o.options.authEndpoint,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var s in this.authOptions.headers)a.setRequestHeader(s,this.authOptions.headers[s]);return a.onreadystatechange=function(){if(4===a.readyState)if(200===a.status){var e,t=!1;try{e=JSON.parse(a.responseText),t=!0}catch(e){n(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+a.responseText)}t&&n(!1,e)}else i.default.warn("Couldn't get auth info from your webapp",a.status),n(!0,a.status)},a.send(this.composeQuery(t)),a};t.__esModule=!0,t.default=a},function(e,t,n){"use strict";var i=n(9),r=n(1),a={debug:function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];r.default.log&&r.default.log(i.stringify.apply(this,arguments))},warn:function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=i.stringify.apply(this,arguments);window.console&&(window.console.warn?window.console.warn(n):window.console.log&&window.console.log(n)),r.default.log&&r.default.log(n)}};t.__esModule=!0,t.default=a},function(e,t,n){"use strict";function i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var a=t[r];for(var o in a)a[o]&&a[o].constructor&&a[o].constructor===Object?e[o]=i(e[o]||{},a[o]):e[o]=a[o]}return e}function r(){for(var e=["Pusher"],t=0;t<arguments.length;t++)"string"==typeof arguments[t]?e.push(arguments[t]):e.push(w(arguments[t]));return e.join(" : ")}function a(e,t){var n=Array.prototype.indexOf;if(null===e)return-1;if(n&&e.indexOf===n)return e.indexOf(t);for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1}function o(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(e[n],n,e)}function s(e){var t=[];return o(e,function(e,n){t.push(n)}),t}function l(e){var t=[];return o(e,function(e){t.push(e)}),t}function c(e,t,n){for(var i=0;i<e.length;i++)t.call(n||window,e[i],i,e)}function u(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i,e,n));return n}function d(e,t){var n={};return o(e,function(e,i){n[i]=t(e)}),n}function h(e,t){t=t||function(e){return!!e};for(var n=[],i=0;i<e.length;i++)t(e[i],i,e,n)&&n.push(e[i]);return n}function p(e,t){var n={};return o(e,function(i,r){(t&&t(i,r,e,n)||Boolean(i))&&(n[r]=i)}),n}function f(e){var t=[];return o(e,function(e,n){t.push([n,e])}),t}function g(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return!0;return!1}function m(e,t){for(var n=0;n<e.length;n++)if(!t(e[n],n,e))return!1;return!0}function v(e){return d(e,function(e){return"object"==typeof e&&(e=w(e)),encodeURIComponent(x.default(e.toString()))})}function b(e){return u(f(v(p(e,function(e){return void 0!==e}))),_.default.method("join","=")).join("&")}function y(e){var t=[],n=[];return function e(i,r){var a,o,s;switch(typeof i){case"object":if(!i)return null;for(a=0;a<t.length;a+=1)if(t[a]===i)return{$ref:n[a]};if(t.push(i),n.push(r),"[object Array]"===Object.prototype.toString.apply(i))for(s=[],a=0;a<i.length;a+=1)s[a]=e(i[a],r+"["+a+"]");else{s={};for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(s[o]=e(i[o],r+"["+JSON.stringify(o)+"]"))}return s;case"number":case"string":case"boolean":return i}}(e,"$")}function w(e){try{return JSON.stringify(e)}catch(t){return JSON.stringify(y(e))}}var x=n(10),_=n(11);t.extend=i,t.stringify=r,t.arrayIndexOf=a,t.objectApply=o,t.keys=s,t.values=l,t.apply=c,t.map=u,t.mapObject=d,t.filter=h,t.filterObject=p,t.flatten=f,t.any=g,t.all=m,t.encodeParamsObject=v,t.buildQueryString=b,t.decycleObject=y,t.safeJSONStringify=w},function(e,t,n){"use strict";function i(e){return h(u(e))}t.__esModule=!0,t.default=i;for(var r=String.fromCharCode,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o={},s=0,l=a.length;s<l;s++)o[a.charAt(s)]=s;var c=function(e){var t=e.charCodeAt(0);return t<128?e:t<2048?r(192|t>>>6)+r(128|63&t):r(224|t>>>12&15)+r(128|t>>>6&63)+r(128|63&t)},u=function(e){return e.replace(/[^\x00-\x7F]/g,c)},d=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[a.charAt(n>>>18),a.charAt(n>>>12&63),t>=2?"=":a.charAt(n>>>6&63),t>=1?"=":a.charAt(63&n)].join("")},h=window.btoa||function(e){return e.replace(/[\s\S]{1,3}/g,d)}},function(e,t,n){"use strict";var i=n(12),r={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(e){return new i.OneOffTimer(0,e)},method:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1);return function(t){return t[e].apply(t,i.concat(arguments))}}};t.__esModule=!0,t.default=r},function(e,t,n){"use strict";function i(e){window.clearTimeout(e)}function r(e){window.clearInterval(e)}var a=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=n(13),s=function(e){function t(t,n){e.call(this,setTimeout,i,t,function(e){return n(),null})}return a(t,e),t}(o.default);t.OneOffTimer=s;var l=function(e){function t(t,n){e.call(this,setInterval,r,t,function(e){return n(),e})}return a(t,e),t}(o.default);t.PeriodicTimer=l},function(e,t){"use strict";var n=function(){function e(e,t,n,i){var r=this;this.clear=t,this.timer=e(function(){r.timer&&(r.timer=i(r.timer))},n)}return e.prototype.isRunning=function(){return null!==this.timer},e.prototype.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)},e}();t.__esModule=!0,t.default=n},function(e,t,n){"use strict";var i=n(8),r=function(e,t,n){void 0!==this.authOptions.headers&&i.default.warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var r=e.nextAuthCallbackID.toString();e.nextAuthCallbackID++;var a=e.getDocument(),o=a.createElement("script");e.auth_callbacks[r]=function(e){n(!1,e)};var s="Pusher.auth_callbacks['"+r+"']";o.src=this.options.authEndpoint+"?callback="+encodeURIComponent(s)+"&"+this.composeQuery(t);var l=a.getElementsByTagName("head")[0]||a.documentElement;l.insertBefore(o,l.firstChild)};t.__esModule=!0,t.default=r},function(e,t){"use strict";var n=function(){function e(e){this.src=e}return e.prototype.send=function(e){var t=this,n="Error loading "+t.src;t.script=document.createElement("script"),t.script.id=e.id,t.script.src=t.src,t.script.type="text/javascript",t.script.charset="UTF-8",t.script.addEventListener?(t.script.onerror=function(){e.callback(n)},t.script.onload=function(){e.callback(null)}):t.script.onreadystatechange=function(){"loaded"!==t.script.readyState&&"complete"!==t.script.readyState||e.callback(null)},void 0===t.script.async&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(t.errorScript=document.createElement("script"),t.errorScript.id=e.id+"_error",t.errorScript.text=e.name+"('"+n+"');",t.script.async=t.errorScript.async=!1):t.script.async=!0;var i=document.getElementsByTagName("head")[0];i.insertBefore(t.script,i.firstChild),t.errorScript&&i.insertBefore(t.errorScript,t.script.nextSibling)},e.prototype.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null},e}();t.__esModule=!0,t.default=n},function(e,t,n){"use strict";var i=n(9),r=n(2),a=function(){function e(e,t){this.url=e,this.data=t}return e.prototype.send=function(e){if(!this.request){var t=i.buildQueryString(this.data),n=this.url+"/"+e.number+"?"+t;this.request=r.default.createScriptRequest(n),this.request.send(e)}},e.prototype.cleanup=function(){this.request&&this.request.cleanup()},e}();t.__esModule=!0,t.default=a},function(e,t,n){"use strict";var i=n(2),r=n(4),a=function(e,t){return function(n,a){var o="http"+(t?"s":"")+"://",s=o+(e.host||e.options.host)+e.options.path,l=i.default.createJSONPRequest(s,n),c=i.default.ScriptReceivers.create(function(t,n){r.ScriptReceivers.remove(c),l.cleanup(),n&&n.host&&(e.host=n.host),a&&a(t,n)});l.send(c)}},o={name:"jsonp",getAgent:a};t.__esModule=!0,t.default=o},function(e,t,n){"use strict";var i=n(19),r=n(21),a=n(20),o=n(2),s=n(3),l=n(9),c=new r.default({file:"sockjs",urls:a.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(e,t){return new window.SockJS(e,null,{js_path:s.Dependencies.getPath("sockjs",{encrypted:t.encrypted}),ignore_null_origin:t.ignoreNullOrigin})},beforeOpen:function(e,t){e.send(JSON.stringify({path:t}))}}),u={isSupported:function(e){return o.default.isXDRSupported(e.encrypted)}},d=new r.default(l.extend({},i.streamingConfiguration,u)),h=new r.default(l.extend({},i.pollingConfiguration,u));i.default.xdr_streaming=d,i.default.xdr_polling=h,i.default.sockjs=c,t.__esModule=!0,t.default=i.default},function(e,t,n){"use strict";var i=n(20),r=n(21),a=n(9),o=n(2),s=new r.default({urls:i.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(o.default.getWebSocketAPI())},isSupported:function(){return Boolean(o.default.getWebSocketAPI())},getSocket:function(e){return o.default.createWebSocket(e)}}),l={urls:i.http,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}};t.streamingConfiguration=a.extend({getSocket:function(e){return o.default.HTTPFactory.createStreamingSocket(e)}},l),t.pollingConfiguration=a.extend({getSocket:function(e){return o.default.HTTPFactory.createPollingSocket(e)}},l);var c={isSupported:function(){return o.default.isXHRSupported()}},u=new r.default(a.extend({},t.streamingConfiguration,c)),d=new r.default(a.extend({},t.pollingConfiguration,c)),h={ws:s,xhr_streaming:u,xhr_polling:d};t.__esModule=!0,t.default=h},function(e,t,n){"use strict";function i(e,t,n){return e+(t.encrypted?"s":"")+"://"+(t.encrypted?t.hostEncrypted:t.hostUnencrypted)+n}function r(e,t){return"/app/"+e+"?protocol="+a.default.PROTOCOL+"&client=js&version="+a.default.VERSION+(t?"&"+t:"")}var a=n(5);t.ws={getInitial:function(e,t){return i("ws",t,r(e,"flash=false"))}},t.http={getInitial:function(e,t){return i("http",t,(t.httpPath||"/pusher")+r(e))}},t.sockjs={getInitial:function(e,t){return i("http",t,t.httpPath||"/pusher")},getPath:function(e,t){return r(e)}}},function(e,t,n){"use strict";var i=n(22),r=function(){function e(e){this.hooks=e}return e.prototype.isSupported=function(e){return this.hooks.isSupported(e)},e.prototype.createConnection=function(e,t,n,r){return new i.default(this.hooks,e,t,n,r)},e}();t.__esModule=!0,t.default=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(11),a=n(9),o=n(23),s=n(8),l=n(2),c=function(e){function t(t,n,i,r,a){e.call(this),this.initialize=l.default.transportConnectionInitializer,this.hooks=t,this.name=n,this.priority=i,this.key=r,this.options=a,this.state="new",this.timeline=a.timeline,this.activityTimeout=a.activityTimeout,this.id=this.timeline.generateUniqueID()}return i(t,e),t.prototype.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)},t.prototype.supportsPing=function(){return Boolean(this.hooks.supportsPing)},t.prototype.connect=function(){var e=this;if(this.socket||"initialized"!==this.state)return!1;var t=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(t,this.options)}catch(t){return r.default.defer(function(){e.onError(t),e.changeState("closed")}),!1}return this.bindListeners(),s.default.debug("Connecting",{transport:this.name,url:t}),this.changeState("connecting"),!0},t.prototype.close=function(){return!!this.socket&&(this.socket.close(),!0)},t.prototype.send=function(e){var t=this;return"open"===this.state&&(r.default.defer(function(){t.socket&&t.socket.send(e)}),!0)},t.prototype.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()},t.prototype.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0},t.prototype.onError=function(e){this.emit("error",{type:"WebSocketError",error:e}),this.timeline.error(this.buildTimelineMessage({error:e.toString()}))},t.prototype.onClose=function(e){e?this.changeState("closed",{code:e.code,reason:e.reason,wasClean:e.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0},t.prototype.onMessage=function(e){this.emit("message",e)},t.prototype.onActivity=function(){this.emit("activity")},t.prototype.bindListeners=function(){var e=this;this.socket.onopen=function(){e.onOpen()},this.socket.onerror=function(t){e.onError(t)},this.socket.onclose=function(t){e.onClose(t)},this.socket.onmessage=function(t){e.onMessage(t)},this.supportsPing()&&(this.socket.onactivity=function(){e.onActivity()})},t.prototype.unbindListeners=function(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))},t.prototype.changeState=function(e,t){this.state=e,this.timeline.info(this.buildTimelineMessage({state:e,params:t})),this.emit(e,t)},t.prototype.buildTimelineMessage=function(e){return a.extend({cid:this.id},e)},t}(o.default);t.__esModule=!0,t.default=c},function(e,t,n){"use strict";var i=n(24),r=function(){function e(e){this.callbacks=new i.default,this.global_callbacks=[],this.failThrough=e}return e.prototype.bind=function(e,t,n){return this.callbacks.add(e,t,n),this},e.prototype.bind_all=function(e){return this.global_callbacks.push(e),this},e.prototype.unbind=function(e,t,n){return this.callbacks.remove(e,t,n),this},e.prototype.unbind_all=function(e,t){return this.callbacks.remove(e,t),this},e.prototype.emit=function(e,t){var n;for(n=0;n<this.global_callbacks.length;n++)this.global_callbacks[n](e,t);var i=this.callbacks.get(e);if(i&&i.length>0)for(n=0;n<i.length;n++)i[n].fn.call(i[n].context||window,t);else this.failThrough&&this.failThrough(e,t);return this},e}();t.__esModule=!0,t.default=r},function(e,t,n){"use strict";function i(e){return"_"+e}var r=n(9),a=function(){function e(){this._callbacks={}}return e.prototype.get=function(e){return this._callbacks[i(e)]},e.prototype.add=function(e,t,n){var r=i(e);this._callbacks[r]=this._callbacks[r]||[],this._callbacks[r].push({fn:t,context:n})},e.prototype.remove=function(e,t,n){if(!e&&!t&&!n)return void(this._callbacks={});var a=e?[i(e)]:r.keys(this._callbacks);t||n?this.removeCallback(a,t,n):this.removeAllCallbacks(a)},e.prototype.removeCallback=function(e,t,n){r.apply(e,function(e){this._callbacks[e]=r.filter(this._callbacks[e]||[],function(e){return t&&t!==e.fn||n&&n!==e.context}),0===this._callbacks[e].length&&delete this._callbacks[e]},this)},e.prototype.removeAllCallbacks=function(e){r.apply(e,function(e){delete this._callbacks[e]},this)},e}();t.__esModule=!0,t.default=a},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(23),a=function(e){function t(){e.call(this);var t=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){t.emit("online")},!1),window.addEventListener("offline",function(){t.emit("offline")},!1))}return i(t,e),t.prototype.isOnline=function(){return void 0===window.navigator.onLine||window.navigator.onLine},t}(r.default);t.NetInfo=a,t.Network=new a},function(e,t){"use strict";var n=function(e){var t;return t=e.encrypted?[":best_connected_ever",":ws_loop",[":delayed",2e3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2e3,[":wss_loop"]],[":delayed",5e3,[":http_fallback_loop"]]],[[":def","ws_options",{hostUnencrypted:e.wsHost+":"+e.wsPort,hostEncrypted:e.wsHost+":"+e.wssPort}],[":def","wss_options",[":extend",":ws_options",{encrypted:!0}]],[":def","sockjs_options",{hostUnencrypted:e.httpHost+":"+e.httpPort,hostEncrypted:e.httpHost+":"+e.httpsPort,httpPath:e.httpPath}],[":def","timeouts",{loop:!0,timeout:15e3,timeoutLimit:6e4}],[":def","ws_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:e.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1e4,maxPingDelay:e.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4e3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18e5,[":first_connected",[":if",[":is_supported",":ws"],t,":http_fallback_loop"]]]]]};t.__esModule=!0,t.default=n},function(e,t,n){"use strict";function i(){var e=this;e.timeline.info(e.buildTimelineMessage({transport:e.name+(e.options.encrypted?"s":"")})),e.hooks.isInitialized()?e.changeState("initialized"):e.hooks.file?(e.changeState("initializing"),r.Dependencies.load(e.hooks.file,{encrypted:e.options.encrypted},function(t,n){e.hooks.isInitialized()?(e.changeState("initialized"),n(!0)):(t&&e.onError(t),e.onClose(),n(!1))})):e.onClose()}var r=n(3);t.__esModule=!0,t.default=i},function(e,t,n){"use strict";var i=n(29),r=n(31);r.default.createXDR=function(e,t){return this.createRequest(i.default,e,t)},t.__esModule=!0,t.default=r.default},function(e,t,n){"use strict";var i=n(30),r={getRequest:function(e){var t=new window.XDomainRequest;return t.ontimeout=function(){e.emit("error",new i.RequestTimedOut),e.close()},t.onerror=function(t){e.emit("error",t),e.close()},t.onprogress=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText)},t.onload=function(){t.responseText&&t.responseText.length>0&&e.onChunk(200,t.responseText),e.emit("finished",200),e.close()},t},abortRequest:function(e){e.ontimeout=e.onerror=e.onprogress=e.onload=null,e.abort()}};t.__esModule=!0,t.default=r},function(e,t){"use strict";var n=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(Error);t.BadEventName=i;var r=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(Error);t.RequestTimedOut=r;var a=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(Error);t.TransportPriorityTooLow=a;var o=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(Error);t.TransportClosed=o;var s=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(Error);t.UnsupportedTransport=s;var l=function(e){function t(){e.apply(this,arguments)}return n(t,e),t}(Error);t.UnsupportedStrategy=l},function(e,t,n){"use strict";var i=n(32),r=n(33),a=n(35),o=n(36),s=n(37),l={createStreamingSocket:function(e){return this.createSocket(a.default,e)},createPollingSocket:function(e){return this.createSocket(o.default,e)},createSocket:function(e,t){return new r.default(e,t)},createXHR:function(e,t){return this.createRequest(s.default,e,t)},createRequest:function(e,t,n){return new i.default(e,t,n)}};t.__esModule=!0,t.default=l},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(2),a=n(23),o=function(e){function t(t,n,i){e.call(this),this.hooks=t,this.method=n,this.url=i}return i(t,e),t.prototype.start=function(e){var t=this;this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=function(){t.close()},r.default.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(e)},t.prototype.close=function(){this.unloader&&(r.default.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)},t.prototype.onChunk=function(e,t){for(;;){var n=this.advanceBuffer(t);if(!n)break;this.emit("chunk",{status:e,data:n})}this.isBufferTooLong(t)&&this.emit("buffer_too_long")},t.prototype.advanceBuffer=function(e){var t=e.slice(this.position),n=t.indexOf("\n");return-1!==n?(this.position+=n+1,t.slice(0,n)):null},t.prototype.isBufferTooLong=function(e){return this.position===e.length&&e.length>262144},t}(a.default);t.__esModule=!0,t.default=o},function(e,t,n){"use strict";function i(e){var t=/([^\?]*)\/*(\??.*)/.exec(e);return{base:t[1],queryString:t[2]}}function r(e,t){return e.base+"/"+t+"/xhr_send"}function a(e){return e+(-1===e.indexOf("?")?"?":"&")+"t="+ +new Date+"&n="+h++}function o(e,t){var n=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(e);return n[1]+t+n[3]}function s(e){return Math.floor(Math.random()*e)}function l(e){for(var t=[],n=0;n<e;n++)t.push(s(32).toString(32));return t.join("")}var c=n(34),u=n(11),d=n(2),h=1,p=function(){function e(e,t){this.hooks=e,this.session=s(1e3)+"/"+l(8),this.location=i(t),this.readyState=c.default.CONNECTING,this.openStream()}return e.prototype.send=function(e){return this.sendRaw(JSON.stringify([e]))},e.prototype.ping=function(){this.hooks.sendHeartbeat(this)},e.prototype.close=function(e,t){this.onClose(e,t,!0)},e.prototype.sendRaw=function(e){if(this.readyState!==c.default.OPEN)return!1;try{return d.default.createSocketRequest("POST",a(r(this.location,this.session))).start(e),!0}catch(e){return!1}},e.prototype.reconnect=function(){this.closeStream(),this.openStream()},e.prototype.onClose=function(e,t,n){this.closeStream(),this.readyState=c.default.CLOSED,this.onclose&&this.onclose({code:e,reason:t,wasClean:n})},e.prototype.onChunk=function(e){if(200===e.status){
this.readyState===c.default.OPEN&&this.onActivity();var t;switch(e.data.slice(0,1)){case"o":t=JSON.parse(e.data.slice(1)||"{}"),this.onOpen(t);break;case"a":t=JSON.parse(e.data.slice(1)||"[]");for(var n=0;n<t.length;n++)this.onEvent(t[n]);break;case"m":t=JSON.parse(e.data.slice(1)||"null"),this.onEvent(t);break;case"h":this.hooks.onHeartbeat(this);break;case"c":t=JSON.parse(e.data.slice(1)||"[]"),this.onClose(t[0],t[1],!0)}}},e.prototype.onOpen=function(e){this.readyState===c.default.CONNECTING?(e&&e.hostname&&(this.location.base=o(this.location.base,e.hostname)),this.readyState=c.default.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)},e.prototype.onEvent=function(e){this.readyState===c.default.OPEN&&this.onmessage&&this.onmessage({data:e})},e.prototype.onActivity=function(){this.onactivity&&this.onactivity()},e.prototype.onError=function(e){this.onerror&&this.onerror(e)},e.prototype.openStream=function(){var e=this;this.stream=d.default.createSocketRequest("POST",a(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",function(t){e.onChunk(t)}),this.stream.bind("finished",function(t){e.hooks.onFinished(e,t)}),this.stream.bind("buffer_too_long",function(){e.reconnect()});try{this.stream.start()}catch(t){u.default.defer(function(){e.onError(t),e.onClose(1006,"Could not start streaming",!1)})}},e.prototype.closeStream=function(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)},e}();t.__esModule=!0,t.default=p},function(e,t){"use strict";var n;!function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSED=3]="CLOSED"}(n||(n={})),t.__esModule=!0,t.default=n},function(e,t){"use strict";var n={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr_streaming"+e.queryString},onHeartbeat:function(e){e.sendRaw("[]")},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){e.onClose(1006,"Connection interrupted ("+t+")",!1)}};t.__esModule=!0,t.default=n},function(e,t){"use strict";var n={getReceiveURL:function(e,t){return e.base+"/"+t+"/xhr"+e.queryString},onHeartbeat:function(){},sendHeartbeat:function(e){e.sendRaw("[]")},onFinished:function(e,t){200===t?e.reconnect():e.onClose(1006,"Connection interrupted ("+t+")",!1)}};t.__esModule=!0,t.default=n},function(e,t,n){"use strict";var i=n(2),r={getRequest:function(e){var t=i.default.getXHRAPI(),n=new t;return n.onreadystatechange=n.onprogress=function(){switch(n.readyState){case 3:n.responseText&&n.responseText.length>0&&e.onChunk(n.status,n.responseText);break;case 4:n.responseText&&n.responseText.length>0&&e.onChunk(n.status,n.responseText),e.emit("finished",n.status),e.close()}},n},abortRequest:function(e){e.onreadystatechange=null,e.abort()}};t.__esModule=!0,t.default=r},function(e,t,n){"use strict";var i=n(9),r=n(11),a=n(39),o=function(){function e(e,t,n){this.key=e,this.session=t,this.events=[],this.options=n||{},this.sent=0,this.uniqueID=0}return e.prototype.log=function(e,t){e<=this.options.level&&(this.events.push(i.extend({},t,{timestamp:r.default.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())},e.prototype.error=function(e){this.log(a.default.ERROR,e)},e.prototype.info=function(e){this.log(a.default.INFO,e)},e.prototype.debug=function(e){this.log(a.default.DEBUG,e)},e.prototype.isEmpty=function(){return 0===this.events.length},e.prototype.send=function(e,t){var n=this,r=i.extend({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],e(r,function(e,i){e||n.sent++,t&&t(e,i)}),!0},e.prototype.generateUniqueID=function(){return++this.uniqueID},e}();t.__esModule=!0,t.default=o},function(e,t){"use strict";var n;!function(e){e[e.ERROR=3]="ERROR",e[e.INFO=6]="INFO",e[e.DEBUG=7]="DEBUG"}(n||(n={})),t.__esModule=!0,t.default=n},function(e,t,n){"use strict";function i(e){return function(t){return[e.apply(this,arguments),t]}}function r(e){return"string"==typeof e&&":"===e.charAt(0)}function a(e,t){return t[e.slice(1)]}function o(e,t){if(0===e.length)return[[],t];var n=c(e[0],t),i=o(e.slice(1),n[1]);return[[n[0]].concat(i[0]),i[1]]}function s(e,t){if(!r(e))return[e,t];var n=a(e,t);if(void 0===n)throw"Undefined symbol "+e;return[n,t]}function l(e,t){if(r(e[0])){var n=a(e[0],t);if(e.length>1){if("function"!=typeof n)throw"Calling non-function "+e[0];var i=[u.extend({},t)].concat(u.map(e.slice(1),function(e){return c(e,u.extend({},t))[0]}));return n.apply(this,i)}return[n,t]}return o(e,t)}function c(e,t){return"string"==typeof e?s(e,t):"object"==typeof e&&e instanceof Array&&e.length>0?l(e,t):[e,t]}var u=n(9),d=n(11),h=n(41),p=n(30),f=n(55),g=n(56),m=n(57),v=n(58),b=n(59),y=n(60),w=n(61),x=n(2),_=x.default.Transports;t.build=function(e,t){return c(e,u.extend({},C,t))[1].strategy};var k={isSupported:function(){return!1},connect:function(e,t){var n=d.default.defer(function(){t(new p.UnsupportedStrategy)});return{abort:function(){n.ensureAborted()},forceMinPriority:function(){}}}},C={extend:function(e,t,n){return[u.extend({},t,n),e]},def:function(e,t,n){if(void 0!==e[t])throw"Redefining symbol "+t;return e[t]=n,[void 0,e]},def_transport:function(e,t,n,i,r,a){var o=_[n];if(!o)throw new p.UnsupportedTransport(n);var s,l=!(e.enabledTransports&&-1===u.arrayIndexOf(e.enabledTransports,t)||e.disabledTransports&&-1!==u.arrayIndexOf(e.disabledTransports,t));s=l?new f.default(t,i,a?a.getAssistant(o):o,u.extend({key:e.key,encrypted:e.encrypted,timeline:e.timeline,ignoreNullOrigin:e.ignoreNullOrigin},r)):k;var c=e.def(e,t,s)[1];return c.Transports=e.Transports||{},c.Transports[t]=s,[void 0,c]},transport_manager:i(function(e,t){return new h.default(t)}),sequential:i(function(e,t){var n=Array.prototype.slice.call(arguments,2);return new g.default(n,t)}),cached:i(function(e,t,n){return new v.default(n,e.Transports,{ttl:t,timeline:e.timeline,encrypted:e.encrypted})}),first_connected:i(function(e,t){return new w.default(t)}),best_connected_ever:i(function(){var e=Array.prototype.slice.call(arguments,1);return new m.default(e)}),delayed:i(function(e,t,n){return new b.default(n,{delay:t})}),if:i(function(e,t,n,i){return new y.default(t,n,i)}),is_supported:i(function(e,t){return function(){return t.isSupported()}})}},function(e,t,n){"use strict";var i=n(42),r=function(){function e(e){this.options=e||{},this.livesLeft=this.options.lives||1/0}return e.prototype.getAssistant=function(e){return i.default.createAssistantToTheTransportManager(this,e,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})},e.prototype.isAlive=function(){return this.livesLeft>0},e.prototype.reportDeath=function(){this.livesLeft-=1},e}();t.__esModule=!0,t.default=r},function(e,t,n){"use strict";var i=n(43),r=n(44),a=n(47),o=n(48),s=n(49),l=n(50),c=n(51),u=n(53),d=n(54),h={createChannels:function(){return new d.default},createConnectionManager:function(e,t){return new u.default(e,t)},createChannel:function(e,t){return new c.default(e,t)},createPrivateChannel:function(e,t){return new l.default(e,t)},createPresenceChannel:function(e,t){return new s.default(e,t)},createTimelineSender:function(e,t){return new o.default(e,t)},createAuthorizer:function(e,t){return new a.default(e,t)},createHandshake:function(e,t){return new r.default(e,t)},createAssistantToTheTransportManager:function(e,t,n){return new i.default(e,t,n)}};t.__esModule=!0,t.default=h},function(e,t,n){"use strict";var i=n(11),r=n(9),a=function(){function e(e,t,n){this.manager=e,this.transport=t,this.minPingDelay=n.minPingDelay,this.maxPingDelay=n.maxPingDelay,this.pingDelay=void 0}return e.prototype.createConnection=function(e,t,n,a){var o=this;a=r.extend({},a,{activityTimeout:this.pingDelay});var s=this.transport.createConnection(e,t,n,a),l=null,c=function(){s.unbind("open",c),s.bind("closed",u),l=i.default.now()},u=function(e){if(s.unbind("closed",u),1002===e.code||1003===e.code)o.manager.reportDeath();else if(!e.wasClean&&l){var t=i.default.now()-l;t<2*o.maxPingDelay&&(o.manager.reportDeath(),o.pingDelay=Math.max(t/2,o.minPingDelay))}};return s.bind("open",c),s},e.prototype.isSupported=function(e){return this.manager.isAlive()&&this.transport.isSupported(e)},e}();t.__esModule=!0,t.default=a},function(e,t,n){"use strict";var i=n(9),r=n(45),a=n(46),o=function(){function e(e,t){this.transport=e,this.callback=t,this.bindListeners()}return e.prototype.close=function(){this.unbindListeners(),this.transport.close()},e.prototype.bindListeners=function(){var e=this;this.onMessage=function(t){e.unbindListeners();var n;try{n=r.processHandshake(t)}catch(t){return e.finish("error",{error:t}),void e.transport.close()}"connected"===n.action?e.finish("connected",{connection:new a.default(n.id,e.transport),activityTimeout:n.activityTimeout}):(e.finish(n.action,{error:n.error}),e.transport.close())},this.onClosed=function(t){e.unbindListeners();var n=r.getCloseAction(t)||"backoff",i=r.getCloseError(t);e.finish(n,{error:i})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)},e.prototype.unbindListeners=function(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)},e.prototype.finish=function(e,t){this.callback(i.extend({transport:this.transport,action:e},t))},e}();t.__esModule=!0,t.default=o},function(e,t){"use strict";t.decodeMessage=function(e){try{var t=JSON.parse(e.data);if("string"==typeof t.data)try{t.data=JSON.parse(t.data)}catch(e){if(!(e instanceof SyntaxError))throw e}return t}catch(t){throw{type:"MessageParseError",error:t,data:e.data}}},t.encodeMessage=function(e){return JSON.stringify(e)},t.processHandshake=function(e){if(e=t.decodeMessage(e),"pusher:connection_established"===e.event){if(!e.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:e.data.socket_id,activityTimeout:1e3*e.data.activity_timeout}}if("pusher:error"===e.event)return{action:this.getCloseAction(e.data),error:this.getCloseError(e.data)};throw"Invalid handshake"},t.getCloseAction=function(e){return e.code<4e3?e.code>=1002&&e.code<=1004?"backoff":null:4e3===e.code?"ssl_only":e.code<4100?"refused":e.code<4200?"backoff":e.code<4300?"retry":"refused"},t.getCloseError=function(e){return 1e3!==e.code&&1001!==e.code?{type:"PusherError",data:{code:e.code,message:e.reason||e.message}}:null}},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(9),a=n(23),o=n(45),s=n(8),l=function(e){function t(t,n){e.call(this),this.id=t,this.transport=n,this.activityTimeout=n.activityTimeout,this.bindListeners()}return i(t,e),t.prototype.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()},t.prototype.send=function(e){return this.transport.send(e)},t.prototype.send_event=function(e,t,n){var i={event:e,data:t};return n&&(i.channel=n),s.default.debug("Event sent",i),this.send(o.encodeMessage(i))},t.prototype.ping=function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})},t.prototype.close=function(){this.transport.close()},t.prototype.bindListeners=function(){var e=this,t={message:function(t){var n;try{n=o.decodeMessage(t)}catch(n){e.emit("error",{type:"MessageParseError",error:n,data:t.data})}if(void 0!==n){switch(s.default.debug("Event recd",n),n.event){case"pusher:error":e.emit("error",{type:"PusherError",data:n.data});break;case"pusher:ping":e.emit("ping");break;case"pusher:pong":e.emit("pong")}e.emit("message",n)}},activity:function(){e.emit("activity")},error:function(t){e.emit("error",{type:"WebSocketError",error:t})},closed:function(t){n(),t&&t.code&&e.handleCloseEvent(t),e.transport=null,e.emit("closed")}},n=function(){r.objectApply(t,function(t,n){e.transport.unbind(n,t)})};r.objectApply(t,function(t,n){e.transport.bind(n,t)})},t.prototype.handleCloseEvent=function(e){var t=o.getCloseAction(e),n=o.getCloseError(e);n&&this.emit("error",n),t&&this.emit(t)},t}(a.default);t.__esModule=!0,t.default=l},function(e,t,n){"use strict";var i=n(2),r=function(){function e(e,t){this.channel=e;var n=t.authTransport;if(void 0===i.default.getAuthorizers()[n])throw"'"+n+"' is not a recognized auth transport";this.type=n,this.options=t,this.authOptions=(t||{}).auth||{}}return e.prototype.composeQuery=function(e){var t="socket_id="+encodeURIComponent(e)+"&channel_name="+encodeURIComponent(this.channel.name);for(var n in this.authOptions.params)t+="&"+encodeURIComponent(n)+"="+encodeURIComponent(this.authOptions.params[n]);return t},e.prototype.authorize=function(t,n){return e.authorizers=e.authorizers||i.default.getAuthorizers(),e.authorizers[this.type].call(this,i.default,t,n)},e}();t.__esModule=!0,t.default=r},function(e,t,n){"use strict";var i=n(2),r=function(){function e(e,t){this.timeline=e,this.options=t||{}}return e.prototype.send=function(e,t){this.timeline.isEmpty()||this.timeline.send(i.default.TimelineTransport.getAgent(this,e),t)},e}();t.__esModule=!0,t.default=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(50),a=n(8),o=n(52),s=function(e){function t(t,n){e.call(this,t,n),this.members=new o.default}return i(t,e),t.prototype.authorize=function(t,n){var i=this;e.prototype.authorize.call(this,t,function(e,t){if(!e){if(void 0===t.channel_data)return a.default.warn("Invalid auth response for channel '"+i.name+"', expected 'channel_data' field"),void n("Invalid auth response");var r=JSON.parse(t.channel_data);i.members.setMyID(r.user_id)}n(e,t)})},t.prototype.handleEvent=function(e,t){switch(e){case"pusher_internal:subscription_succeeded":this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(t),this.emit("pusher:subscription_succeeded",this.members));break;case"pusher_internal:member_added":var n=this.members.addMember(t);this.emit("pusher:member_added",n);break;case"pusher_internal:member_removed":var i=this.members.removeMember(t);i&&this.emit("pusher:member_removed",i);break;default:r.default.prototype.handleEvent.call(this,e,t)}},t.prototype.disconnect=function(){this.members.reset(),e.prototype.disconnect.call(this)},t}(r.default);t.__esModule=!0,t.default=s},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(42),a=n(51),o=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.authorize=function(e,t){return r.default.createAuthorizer(this,this.pusher.config).authorize(e,t)},t}(a.default);t.__esModule=!0,t.default=o},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(23),a=n(30),o=n(8),s=function(e){function t(t,n){e.call(this,function(e,n){o.default.debug("No callbacks on "+t+" for "+e)}),this.name=t,this.pusher=n,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}return i(t,e),t.prototype.authorize=function(e,t){return t(!1,{})},t.prototype.trigger=function(e,t){if(0!==e.indexOf("client-"))throw new a.BadEventName("Event '"+e+"' does not start with 'client-'");return this.pusher.send_event(e,t,this.name)},t.prototype.disconnect=function(){this.subscribed=!1},t.prototype.handleEvent=function(e,t){0===e.indexOf("pusher_internal:")?"pusher_internal:subscription_succeeded"===e&&(this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",t)):this.emit(e,t)},t.prototype.subscribe=function(){var e=this;this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,function(t,n){t?e.handleEvent("pusher:subscription_error",n):e.pusher.send_event("pusher:subscribe",{auth:n.auth,channel_data:n.channel_data,channel:e.name})}))},t.prototype.unsubscribe=function(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})},t.prototype.cancelSubscription=function(){this.subscriptionCancelled=!0},t.prototype.reinstateSubscription=function(){this.subscriptionCancelled=!1},t}(r.default);t.__esModule=!0,t.default=s},function(e,t,n){"use strict";var i=n(9),r=function(){function e(){this.reset()}return e.prototype.get=function(e){return Object.prototype.hasOwnProperty.call(this.members,e)?{id:e,info:this.members[e]}:null},e.prototype.each=function(e){var t=this;i.objectApply(this.members,function(n,i){e(t.get(i))})},e.prototype.setMyID=function(e){this.myID=e},e.prototype.onSubscription=function(e){this.members=e.presence.hash,this.count=e.presence.count,this.me=this.get(this.myID)},e.prototype.addMember=function(e){return null===this.get(e.user_id)&&this.count++,this.members[e.user_id]=e.user_info,this.get(e.user_id)},e.prototype.removeMember=function(e){var t=this.get(e.user_id);return t&&(delete this.members[e.user_id],this.count--),t},e.prototype.reset=function(){this.members={},this.count=0,this.myID=null,this.me=null},e}();t.__esModule=!0,t.default=r},function(e,t,n){"use strict";var i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},r=n(23),a=n(12),o=n(8),s=n(9),l=n(2),c=function(e){function t(t,n){var i=this;e.call(this),this.key=t,this.options=n||{},this.state="initialized",this.connection=null,this.encrypted=!!n.encrypted,this.timeline=this.options.timeline,this.connectionCallbacks=this.buildConnectionCallbacks(),this.errorCallbacks=this.buildErrorCallbacks(),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var r=l.default.getNetwork();r.bind("online",function(){i.timeline.info({netinfo:"online"}),"connecting"!==i.state&&"unavailable"!==i.state||i.retryIn(0)}),r.bind("offline",function(){i.timeline.info({netinfo:"offline"}),i.connection&&i.sendActivityCheck()}),this.updateStrategy()}return i(t,e),t.prototype.connect=function(){if(!this.connection&&!this.runner){if(!this.strategy.isSupported())return void this.updateState("failed");this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}},t.prototype.send=function(e){return!!this.connection&&this.connection.send(e)},t.prototype.send_event=function(e,t,n){return!!this.connection&&this.connection.send_event(e,t,n)},t.prototype.disconnect=function(){this.disconnectInternally(),this.updateState("disconnected")},t.prototype.isEncrypted=function(){return this.encrypted},t.prototype.startConnecting=function(){var e=this,t=function(n,i){n?e.runner=e.strategy.connect(0,t):"error"===i.action?(e.emit("error",{type:"HandshakeError",error:i.error}),e.timeline.error({handshakeError:i.error})):(e.abortConnecting(),e.handshakeCallbacks[i.action](i))};this.runner=this.strategy.connect(0,t)},t.prototype.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)},t.prototype.disconnectInternally=function(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){this.abandonConnection().close()}},t.prototype.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,encrypted:this.encrypted})},t.prototype.retryIn=function(e){var t=this;this.timeline.info({action:"retry",delay:e}),e>0&&this.emit("connecting_in",Math.round(e/1e3)),this.retryTimer=new a.OneOffTimer(e||0,function(){t.disconnectInternally(),t.connect()})},t.prototype.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)},t.prototype.setUnavailableTimer=function(){var e=this;this.unavailableTimer=new a.OneOffTimer(this.options.unavailableTimeout,function(){e.updateState("unavailable")})},t.prototype.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()},t.prototype.sendActivityCheck=function(){var e=this;this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new a.OneOffTimer(this.options.pongTimeout,function(){e.timeline.error({pong_timed_out:e.options.pongTimeout}),e.retryIn(0)})},t.prototype.resetActivityCheck=function(){var e=this;this.stopActivityCheck(),this.connection.handlesActivityChecks()||(this.activityTimer=new a.OneOffTimer(this.activityTimeout,function(){e.sendActivityCheck()}))},t.prototype.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()},t.prototype.buildConnectionCallbacks=function(){var e=this;return{message:function(t){e.resetActivityCheck(),e.emit("message",t)},ping:function(){e.send_event("pusher:pong",{})},activity:function(){e.resetActivityCheck()},error:function(t){e.emit("error",{type:"WebSocketError",error:t})},closed:function(){e.abandonConnection(),e.shouldRetry()&&e.retryIn(1e3)}}},t.prototype.buildHandshakeCallbacks=function(e){var t=this;return s.extend({},e,{connected:function(e){t.activityTimeout=Math.min(t.options.activityTimeout,e.activityTimeout,e.connection.activityTimeout||1/0),t.clearUnavailableTimer(),t.setConnection(e.connection),t.socket_id=t.connection.id,t.updateState("connected",{socket_id:t.socket_id})}})},t.prototype.buildErrorCallbacks=function(){var e=this,t=function(t){return function(n){n.error&&e.emit("error",{type:"WebSocketError",error:n.error}),t(n)}};return{ssl_only:t(function(){e.encrypted=!0,e.updateStrategy(),e.retryIn(0)}),refused:t(function(){e.disconnect()}),backoff:t(function(){e.retryIn(1e3)}),retry:t(function(){e.retryIn(0)})}},t.prototype.setConnection=function(e){this.connection=e;for(var t in this.connectionCallbacks)this.connection.bind(t,this.connectionCallbacks[t]);this.resetActivityCheck()},t.prototype.abandonConnection=function(){if(this.connection){this.stopActivityCheck();for(var e in this.connectionCallbacks)this.connection.unbind(e,this.connectionCallbacks[e]);var t=this.connection;return this.connection=null,t}},t.prototype.updateState=function(e,t){var n=this.state;if(this.state=e,n!==e){var i=e;"connected"===i&&(i+=" with new socket ID "+t.socket_id),o.default.debug("State changed",n+" -> "+i),this.timeline.info({state:e,params:t}),this.emit("state_change",{previous:n,current:e}),this.emit(e,t)}},t.prototype.shouldRetry=function(){return"connecting"===this.state||"connected"===this.state},t}(r.default);t.__esModule=!0,t.default=c},function(e,t,n){"use strict";function i(e,t){return 0===e.indexOf("private-")?a.default.createPrivateChannel(e,t):0===e.indexOf("presence-")?a.default.createPresenceChannel(e,t):a.default.createChannel(e,t)}var r=n(9),a=n(42),o=function(){function e(){this.channels={}}return e.prototype.add=function(e,t){return this.channels[e]||(this.channels[e]=i(e,t)),this.channels[e]},e.prototype.all=function(){return r.values(this.channels)},e.prototype.find=function(e){return this.channels[e]},e.prototype.remove=function(e){var t=this.channels[e];return delete this.channels[e],t},e.prototype.disconnect=function(){r.objectApply(this.channels,function(e){e.disconnect()})},e}();t.__esModule=!0,t.default=o},function(e,t,n){"use strict";function i(e,t){return a.default.defer(function(){t(e)}),{abort:function(){},forceMinPriority:function(){}}}var r=n(42),a=n(11),o=n(30),s=n(9),l=function(){function e(e,t,n,i){this.name=e,this.priority=t,this.transport=n,this.options=i||{}}return e.prototype.isSupported=function(){return this.transport.isSupported({encrypted:this.options.encrypted})},e.prototype.connect=function(e,t){var n=this;if(!this.isSupported())return i(new o.UnsupportedStrategy,t);if(this.priority<e)return i(new o.TransportPriorityTooLow,t);var a=!1,l=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),c=null,u=function(){l.unbind("initialized",u),l.connect()},d=function(){c=r.default.createHandshake(l,function(e){a=!0,f(),t(null,e)})},h=function(e){f(),t(e)},p=function(){f();var e;e=s.safeJSONStringify(l),t(new o.TransportClosed(e))},f=function(){l.unbind("initialized",u),l.unbind("open",d),l.unbind("error",h),l.unbind("closed",p)};return l.bind("initialized",u),l.bind("open",d),l.bind("error",h),l.bind("closed",p),l.initialize(),{abort:function(){a||(f(),c?c.close():l.close())},forceMinPriority:function(e){a||n.priority<e&&(c?c.close():l.close())}}},e}();t.__esModule=!0,t.default=l},function(e,t,n){"use strict";var i=n(9),r=n(11),a=n(12),o=function(){function e(e,t){this.strategies=e,this.loop=Boolean(t.loop),this.failFast=Boolean(t.failFast),this.timeout=t.timeout,this.timeoutLimit=t.timeoutLimit}return e.prototype.isSupported=function(){return i.any(this.strategies,r.default.method("isSupported"))},e.prototype.connect=function(e,t){var n=this,i=this.strategies,r=0,a=this.timeout,o=null,s=function(l,c){c?t(null,c):(r+=1,n.loop&&(r%=i.length),r<i.length?(a&&(a*=2,n.timeoutLimit&&(a=Math.min(a,n.timeoutLimit))),o=n.tryStrategy(i[r],e,{timeout:a,failFast:n.failFast},s)):t(!0))};return o=this.tryStrategy(i[r],e,{timeout:a,failFast:this.failFast},s),{abort:function(){o.abort()},forceMinPriority:function(t){e=t,o&&o.forceMinPriority(t)}}},e.prototype.tryStrategy=function(e,t,n,i){var r=null,o=null;return n.timeout>0&&(r=new a.OneOffTimer(n.timeout,function(){o.abort(),i(!0)})),o=e.connect(t,function(e,t){e&&r&&r.isRunning()&&!n.failFast||(r&&r.ensureAborted(),i(e,t))}),{abort:function(){r&&r.ensureAborted(),o.abort()},forceMinPriority:function(e){o.forceMinPriority(e)}}},e}();t.__esModule=!0,t.default=o},function(e,t,n){"use strict";function i(e,t,n){var i=o.map(e,function(e,i,r,a){return e.connect(t,n(i,a))});return{abort:function(){o.apply(i,a)},forceMinPriority:function(e){o.apply(i,function(t){t.forceMinPriority(e)})}}}function r(e){return o.all(e,function(e){return Boolean(e.error)})}function a(e){e.error||e.aborted||(e.abort(),e.aborted=!0)}var o=n(9),s=n(11),l=function(){function e(e){this.strategies=e}return e.prototype.isSupported=function(){return o.any(this.strategies,s.default.method("isSupported"))},e.prototype.connect=function(e,t){return i(this.strategies,e,function(e,n){return function(i,a){if(n[e].error=i,i)return void(r(n)&&t(!0));o.apply(n,function(e){e.forceMinPriority(a.transport.priority)}),t(null,a)}})},e}();t.__esModule=!0,t.default=l},function(e,t,n){"use strict";function i(e){return"pusherTransport"+(e?"Encrypted":"Unencrypted")}function r(e){var t=l.default.getLocalStorage();if(t)try{var n=t[i(e)];if(n)return JSON.parse(n)}catch(t){o(e)}return null}function a(e,t,n){var r=l.default.getLocalStorage();if(r)try{r[i(e)]=u.safeJSONStringify({timestamp:s.default.now(),transport:t,latency:n})}catch(e){}}function o(e){var t=l.default.getLocalStorage();if(t)try{delete t[i(e)]}catch(e){}}var s=n(11),l=n(2),c=n(56),u=n(9),d=function(){function e(e,t,n){this.strategy=e,this.transports=t,this.ttl=n.ttl||18e5,this.encrypted=n.encrypted,this.timeline=n.timeline}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(e,t){var n=this.encrypted,i=r(n),l=[this.strategy];if(i&&i.timestamp+this.ttl>=s.default.now()){var u=this.transports[i.transport];u&&(this.timeline.info({cached:!0,transport:i.transport,latency:i.latency}),l.push(new c.default([u],{timeout:2*i.latency+1e3,failFast:!0})))}var d=s.default.now(),h=l.pop().connect(e,function i(r,c){r?(o(n),l.length>0?(d=s.default.now(),h=l.pop().connect(e,i)):t(r)):(a(n,c.transport.name,s.default.now()-d),t(null,c))});return{abort:function(){h.abort()},forceMinPriority:function(t){e=t,h&&h.forceMinPriority(t)}}},e}();t.__esModule=!0,t.default=d},function(e,t,n){"use strict";var i=n(12),r=function(){function e(e,t){var n=t.delay;this.strategy=e,this.options={delay:n}}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(e,t){var n,r=this.strategy,a=new i.OneOffTimer(this.options.delay,function(){n=r.connect(e,t)});return{abort:function(){a.ensureAborted(),n&&n.abort()},forceMinPriority:function(t){e=t,n&&n.forceMinPriority(t)}}},e}();t.__esModule=!0,t.default=r},function(e,t){"use strict";var n=function(){function e(e,t,n){this.test=e,this.trueBranch=t,this.falseBranch=n}return e.prototype.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()},e.prototype.connect=function(e,t){return(this.test()?this.trueBranch:this.falseBranch).connect(e,t)},e}();t.__esModule=!0,t.default=n},function(e,t){"use strict";var n=function(){function e(e){this.strategy=e}return e.prototype.isSupported=function(){return this.strategy.isSupported()},e.prototype.connect=function(e,t){var n=this.strategy.connect(e,function(e,i){i&&n.abort(),t(e,i)});return n},e}();t.__esModule=!0,t.default=n},function(e,t,n){"use strict";var i=n(5);t.getGlobalConfig=function(){return{wsHost:i.default.host,wsPort:i.default.ws_port,wssPort:i.default.wss_port,httpHost:i.default.sockjs_host,httpPort:i.default.sockjs_http_port,httpsPort:i.default.sockjs_https_port,httpPath:i.default.sockjs_path,statsHost:i.default.stats_host,authEndpoint:i.default.channel_auth_endpoint,authTransport:i.default.channel_auth_transport,activity_timeout:i.default.activity_timeout,pong_timeout:i.default.pong_timeout,unavailable_timeout:i.default.unavailable_timeout}},t.getClusterConfig=function(e){return{wsHost:"ws-"+e+".pusher.com",httpHost:"sockjs-"+e+".pusher.com"}}}])}),/*
 Highcharts JS v5.0.14 (2017-07-28)

 (c) 2009-2016 Torstein Honsi

 License: www.highcharts.com/license
*/
function(e,t){"object"==typeof module&&module.exports?module.exports=e.document?t(e):t:e.Highcharts=t(e)}("undefined"!=typeof window?window:this,function(e){e=function(){var e=window,t=e.document,n=e.navigator&&e.navigator.userAgent||"",i=t&&t.createElementNS&&!!t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,r=/(edge|msie|trident)/i.test(n)&&!window.opera,a=!i,o=/Firefox/.test(n),s=o&&4>parseInt(n.split("Firefox/")[1],10);return e.Highcharts?e.Highcharts.error(16,!0):{product:"Highcharts",version:"5.0.14",deg2rad:2*Math.PI/360,doc:t,hasBidiBug:s,hasTouch:t&&void 0!==t.documentElement.ontouchstart,isMS:r,isWebKit:/AppleWebKit/.test(n),isFirefox:o,isTouchDevice:/(Mobile|Android|Windows Phone)/.test(n),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:i,vml:a,win:e,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]}}(),function(e){var t=[],n=e.charts,i=e.doc,r=e.win;e.error=function(t,n){if(t=e.isNumber(t)?"Highcharts error #"+t+": www.highcharts.com/errors/"+t:t,n)throw Error(t);r.console&&console.log(t)},e.Fx=function(e,t,n){this.options=t,this.elem=e,this.prop=n},e.Fx.prototype={dSetter:function(){var e,t=this.paths[0],n=this.paths[1],i=[],r=this.now,a=t.length;if(1===r)i=this.toD;else if(a===n.length&&1>r)for(;a--;)e=parseFloat(t[a]),i[a]=isNaN(e)?t[a]:r*parseFloat(n[a]-e)+e;else i=n;this.elem.attr("d",i,null,!0)},update:function(){var e=this.elem,t=this.prop,n=this.now,i=this.options.step;this[t+"Setter"]?this[t+"Setter"]():e.attr?e.element&&e.attr(t,n,null,!0):e.style[t]=n+this.unit,i&&i.call(e,n,this)},run:function(e,n,i){var r,a=this,o=function(e){return!o.stopped&&a.step(e)};this.startTime=+new Date,this.start=e,this.end=n,this.unit=i,this.now=this.start,this.pos=0,o.elem=this.elem,o.prop=this.prop,o()&&1===t.push(o)&&(o.timerId=setInterval(function(){for(r=0;r<t.length;r++)t[r]()||t.splice(r--,1);t.length||clearInterval(o.timerId)},13))},step:function(t){var n,i=+new Date,r=this.options,a=this.elem,o=r.complete,s=r.duration,l=r.curAnim;return a.attr&&!a.element?t=!1:t||i>=s+this.startTime?(this.now=this.end,this.pos=1,this.update(),n=l[this.prop]=!0,e.objectEach(l,function(e){!0!==e&&(n=!1)}),n&&o&&o.call(a),t=!1):(this.pos=r.easing((i-this.startTime)/s),this.now=this.start+(this.end-this.start)*this.pos,this.update(),t=!0),t},initPath:function(t,n,i){function r(e){var t,n;for(u=e.length;u--;)t="M"===e[u]||"L"===e[u],n=/[a-zA-Z]/.test(e[u+3]),t&&n&&e.splice(u+1,0,e[u+1],e[u+2],e[u+1],e[u+2])}function a(e,t){for(;e.length<l;){e[0]=t[l-e.length];var n=e.slice(0,f);[].splice.apply(e,[0,0].concat(n)),m&&(n=e.slice(e.length-f),[].splice.apply(e,[e.length,0].concat(n)),u--)}e[0]="M"}function o(e,t){for(var n=(l-e.length)/f;0<n&&n--;)c=e.slice().splice(e.length/v-f,f*v),c[0]=t[l-f-n*f],p&&(c[f-6]=c[f-2],c[f-5]=c[f-1]),[].splice.apply(e,[e.length/v,0].concat(c)),m&&n--}n=n||"";var s,l,c,u,d=t.startX,h=t.endX,p=-1<n.indexOf("C"),f=p?7:3;n=n.split(" "),i=i.slice();var g,m=t.isArea,v=m?2:1;if(p&&(r(n),r(i)),d&&h){for(u=0;u<d.length;u++){if(d[u]===h[0]){s=u;break}if(d[0]===h[h.length-d.length+u]){s=u,g=!0;break}}void 0===s&&(n=[])}return n.length&&e.isNumber(s)&&(l=i.length+s*v*f,g?(a(n,i),o(i,n)):(a(i,n),o(n,i))),[n,i]}},e.Fx.prototype.fillSetter=e.Fx.prototype.strokeSetter=function(){this.elem.attr(this.prop,e.color(this.start).tweenTo(e.color(this.end),this.pos),null,!0)},e.extend=function(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e},e.merge=function(){var t,n,i=arguments,r={},a=function(t,n){return"object"!=typeof t&&(t={}),e.objectEach(n,function(i,r){!e.isObject(i,!0)||e.isClass(i)||e.isDOMElement(i)?t[r]=n[r]:t[r]=a(t[r]||{},i)}),t};for(!0===i[0]&&(r=i[1],i=Array.prototype.slice.call(i,2)),n=i.length,t=0;t<n;t++)r=a(r,i[t]);return r},e.pInt=function(e,t){return parseInt(e,t||10)},e.isString=function(e){return"string"==typeof e},e.isArray=function(e){return"[object Array]"===(e=Object.prototype.toString.call(e))||"[object Array Iterator]"===e},e.isObject=function(t,n){return!(!t||"object"!=typeof t||n&&e.isArray(t))},e.isDOMElement=function(t){return e.isObject(t)&&"number"==typeof t.nodeType},e.isClass=function(t){var n=t&&t.constructor;return!(!e.isObject(t,!0)||e.isDOMElement(t)||!n||!n.name||"Object"===n.name)},e.isNumber=function(e){return"number"==typeof e&&!isNaN(e)},e.erase=function(e,t){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}},e.defined=function(e){return void 0!==e&&null!==e},e.attr=function(t,n,i){var r;return e.isString(n)?e.defined(i)?t.setAttribute(n,i):t&&t.getAttribute&&(r=t.getAttribute(n)):e.defined(n)&&e.isObject(n)&&e.objectEach(n,function(e,n){t.setAttribute(n,e)}),r},e.splat=function(t){return e.isArray(t)?t:[t]},e.syncTimeout=function(e,t,n){if(t)return setTimeout(e,t,n);e.call(0,n)},e.pick=function(){var e,t,n=arguments,i=n.length;for(e=0;e<i;e++)if(void 0!==(t=n[e])&&null!==t)return t},e.css=function(t,n){e.isMS&&!e.svg&&n&&void 0!==n.opacity&&(n.filter="alpha(opacity="+100*n.opacity+")"),e.extend(t.style,n)},e.createElement=function(t,n,r,a,o){t=i.createElement(t);var s=e.css;return n&&e.extend(t,n),o&&s(t,{padding:0,border:"none",margin:0}),r&&s(t,r),a&&a.appendChild(t),t},e.extendClass=function(t,n){var i=function(){};return i.prototype=new t,e.extend(i.prototype,n),i},e.pad=function(e,t,n){return Array((t||2)+1-String(e).length).join(n||0)+e},e.relativeLength=function(e,t,n){return/%$/.test(e)?t*parseFloat(e)/100+(n||0):parseFloat(e)},e.wrap=function(e,t,n){var i=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments),t=arguments,r=this;return r.proceed=function(){i.apply(r,arguments.length?arguments:t)},e.unshift(i),e=n.apply(this,e),r.proceed=null,e}},e.getTZOffset=function(t){var n=e.Date;return 6e4*(n.hcGetTimezoneOffset&&n.hcGetTimezoneOffset(t)||n.hcTimezoneOffset||0)},e.dateFormat=function(t,n,i){if(!e.defined(n)||isNaN(n))return e.defaultOptions.lang.invalidDate||"";t=e.pick(t,"%Y-%m-%d %H:%M:%S");var r=e.Date,a=new r(n-e.getTZOffset(n)),o=a[r.hcGetHours](),s=a[r.hcGetDay](),l=a[r.hcGetDate](),c=a[r.hcGetMonth](),u=a[r.hcGetFullYear](),d=e.defaultOptions.lang,h=d.weekdays,p=d.shortWeekdays,f=e.pad,r=e.extend({a:p?p[s]:h[s].substr(0,3),A:h[s],d:f(l),e:f(l,2," "),w:s,b:d.shortMonths[c],B:d.months[c],m:f(c+1),y:u.toString().substr(2,2),Y:u,H:f(o),k:o,I:f(o%12||12),l:o%12||12,M:f(a[r.hcGetMinutes]()),p:12>o?"AM":"PM",P:12>o?"am":"pm",S:f(a.getSeconds()),L:f(Math.round(n%1e3),3)},e.dateFormats);return e.objectEach(r,function(e,i){for(;-1!==t.indexOf("%"+i);)t=t.replace("%"+i,"function"==typeof e?e(n):e)}),i?t.substr(0,1).toUpperCase()+t.substr(1):t},e.formatSingle=function(t,n){var i=/\.([0-9])/,r=e.defaultOptions.lang;return/f$/.test(t)?(i=(i=t.match(i))?i[1]:-1,null!==n&&(n=e.numberFormat(n,i,r.decimalPoint,-1<t.indexOf(",")?r.thousandsSep:""))):n=e.dateFormat(t,n),n},e.format=function(t,n){for(var i,r,a,o,s,l="{",c=!1,u=[];t&&-1!==(l=t.indexOf(l));){if(i=t.slice(0,l),c){for(i=i.split(":"),r=i.shift().split("."),o=r.length,s=n,a=0;a<o;a++)s=s[r[a]];i.length&&(s=e.formatSingle(i.join(":"),s)),u.push(s)}else u.push(i);t=t.slice(l+1),l=(c=!c)?"}":"{"}return u.push(t),u.join("")},e.getMagnitude=function(e){return Math.pow(10,Math.floor(Math.log(e)/Math.LN10))},e.normalizeTickInterval=function(t,n,i,r,a){var o,s=t;for(i=e.pick(i,1),o=t/i,n||(n=a?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===r&&(1===i?n=e.grep(n,function(e){return 0==e%1}):.1>=i&&(n=[1/i]))),r=0;r<n.length&&(s=n[r],!(a&&s*i>=t||!a&&o<=(n[r]+(n[r+1]||n[r]))/2));r++);return s=e.correctFloat(s*i,-Math.round(Math.log(.001)/Math.LN10))},e.stableSort=function(e,t){var n,i,r=e.length;for(i=0;i<r;i++)e[i].safeI=i;for(e.sort(function(e,i){return n=t(e,i),0===n?e.safeI-i.safeI:n}),i=0;i<r;i++)delete e[i].safeI},e.arrayMin=function(e){for(var t=e.length,n=e[0];t--;)e[t]<n&&(n=e[t]);return n},e.arrayMax=function(e){for(var t=e.length,n=e[0];t--;)e[t]>n&&(n=e[t]);return n},e.destroyObjectProperties=function(t,n){e.objectEach(t,function(e,i){e&&e!==n&&e.destroy&&e.destroy(),delete t[i]})},e.discardElement=function(t){var n=e.garbageBin;n||(n=e.createElement("div")),t&&n.appendChild(t),n.innerHTML=""},e.correctFloat=function(e,t){return parseFloat(e.toPrecision(t||14))},e.setAnimation=function(t,n){n.renderer.globalAnimation=e.pick(t,n.options.chart.animation,!0)},e.animObject=function(t){return e.isObject(t)?e.merge(t):{duration:t?500:0}},e.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},e.numberFormat=function(t,n,i,r){t=+t||0,n=+n;var a,o,s=e.defaultOptions.lang,l=(t.toString().split(".")[1]||"").split("e")[0].length,c=t.toString().split("e");return-1===n?n=Math.min(l,20):e.isNumber(n)||(n=2),o=(Math.abs(c[1]?c[0]:t)+Math.pow(10,-Math.max(n,l)-1)).toFixed(n),l=String(e.pInt(o)),a=3<l.length?l.length%3:0,i=e.pick(i,s.decimalPoint),r=e.pick(r,s.thousandsSep),t=(0>t?"-":"")+(a?l.substr(0,a)+r:""),t+=l.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+r),n&&(t+=i+o.slice(-n)),c[1]&&(t+="e"+c[1]),t},Math.easeInOutSine=function(e){return-.5*(Math.cos(Math.PI*e)-1)},e.getStyle=function(t,n,i){return"width"===n?Math.min(t.offsetWidth,t.scrollWidth)-e.getStyle(t,"padding-left")-e.getStyle(t,"padding-right"):"height"===n?Math.min(t.offsetHeight,t.scrollHeight)-e.getStyle(t,"padding-top")-e.getStyle(t,"padding-bottom"):((t=r.getComputedStyle(t,void 0))&&(t=t.getPropertyValue(n),e.pick(i,!0)&&(t=e.pInt(t))),t)},e.inArray=function(e,t){return t.indexOf?t.indexOf(e):[].indexOf.call(t,e)},e.grep=function(e,t){return[].filter.call(e,t)},e.find=function(e,t){return[].find.call(e,t)},e.map=function(e,t){for(var n=[],i=0,r=e.length;i<r;i++)n[i]=t.call(e[i],e[i],i,e);return n},e.offset=function(e){var t=i.documentElement;return e=e.getBoundingClientRect(),{top:e.top+(r.pageYOffset||t.scrollTop)-(t.clientTop||0),left:e.left+(r.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}},e.stop=function(e,n){for(var i=t.length;i--;)t[i].elem!==e||n&&n!==t[i].prop||(t[i].stopped=!0)},e.each=function(e,t,n){return Array.prototype.forEach.call(e,t,n)},e.objectEach=function(e,t,n){for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)},e.addEvent=function(t,n,i){function a(e){e.target=e.srcElement||r,i.call(t,e)}var o=t.hcEvents=t.hcEvents||{};return t.addEventListener?t.addEventListener(n,i,!1):t.attachEvent&&(t.hcEventsIE||(t.hcEventsIE={}),i.hcGetKey||(i.hcGetKey=e.uniqueKey()),t.hcEventsIE[i.hcGetKey]=a,t.attachEvent("on"+n,a)),o[n]||(o[n]=[]),o[n].push(i),function(){e.removeEvent(t,n,i)}},e.removeEvent=function(t,n,i){function r(e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.attachEvent&&(n=t.hcEventsIE[n.hcGetKey],t.detachEvent("on"+e,n))}function a(){var i,a;t.nodeName&&(n?(i={},i[n]=!0):i=l,e.objectEach(i,function(e,t){if(l[t])for(a=l[t].length;a--;)r(t,l[t][a])}))}var o,s,l=t.hcEvents;l&&(n?(o=l[n]||[],i?(s=e.inArray(i,o),-1<s&&(o.splice(s,1),l[n]=o),r(n,i)):(a(),l[n]=[])):(a(),t.hcEvents={}))},e.fireEvent=function(t,n,r,a){var o;o=t.hcEvents;var s,l;if(r=r||{},i.createEvent&&(t.dispatchEvent||t.fireEvent))o=i.createEvent("Events"),o.initEvent(n,!0,!0),e.extend(o,r),t.dispatchEvent?t.dispatchEvent(o):t.fireEvent(n,o);else if(o)for(o=o[n]||[],s=o.length,r.target||e.extend(r,{preventDefault:function(){r.defaultPrevented=!0},target:t,type:n}),n=0;n<s;n++)(l=o[n])&&!1===l.call(t,r)&&r.preventDefault();a&&!r.defaultPrevented&&a(r)},e.animate=function(t,n,i){var r,a,o,s,l="";e.isObject(i)||(s=arguments,i={duration:s[2],easing:s[3],complete:s[4]}),e.isNumber(i.duration)||(i.duration=400),i.easing="function"==typeof i.easing?i.easing:Math[i.easing]||Math.easeInOutSine,i.curAnim=e.merge(n),e.objectEach(n,function(s,c){e.stop(t,c),o=new e.Fx(t,i,c),a=null,"d"===c?(o.paths=o.initPath(t,t.d,n.d),o.toD=n.d,r=0,a=1):t.attr?r=t.attr(c):(r=parseFloat(e.getStyle(t,c))||0,"opacity"!==c&&(l="px")),a||(a=s),a&&a.match&&a.match("px")&&(a=a.replace(/px/g,"")),o.run(r,a,l)})},e.seriesType=function(t,n,i,r,a){var o=e.getOptions(),s=e.seriesTypes;return o.plotOptions[t]=e.merge(o.plotOptions[n],i),s[t]=e.extendClass(s[n]||function(){},r),s[t].prototype.type=t,a&&(s[t].prototype.pointClass=e.extendClass(e.Point,a)),s[t]},e.uniqueKey=function(){var e=Math.random().toString(36).substring(2,9),t=0;return function(){return"highcharts-"+e+"-"+t++}}(),r.jQuery&&(r.jQuery.fn.highcharts=function(){var t=[].slice.call(arguments);if(this[0])return t[0]?(new(e[e.isString(t[0])?t.shift():"Chart"])(this[0],t[0],t[1]),this):n[e.attr(this[0],"data-highcharts-chart")]}),i&&!i.defaultView&&(e.getStyle=function(t,n){var i={width:"clientWidth",height:"clientHeight"}[n];return t.style[n]?e.pInt(t.style[n]):("opacity"===n&&(n="filter"),i?(t.style.zoom=1,Math.max(t[i]-2*e.getStyle(t,"padding"),0)):(t=t.currentStyle[n.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})],"filter"===n&&(t=t.replace(/alpha\(opacity=([0-9]+)\)/,function(e,t){return t/100})),""===t?1:e.pInt(t)))}),Array.prototype.forEach||(e.each=function(e,t,n){for(var i=0,r=e.length;i<r;i++)if(!1===t.call(n,e[i],i,e))return i}),Array.prototype.indexOf||(e.inArray=function(e,t){var n,i=0;if(t)for(n=t.length;i<n;i++)if(t[i]===e)return i;return-1}),Array.prototype.filter||(e.grep=function(e,t){for(var n=[],i=0,r=e.length;i<r;i++)t(e[i],i)&&n.push(e[i]);return n}),Array.prototype.find||(e.find=function(e,t){var n,i=e.length;for(n=0;n<i;n++)if(t(e[n],n))return e[n]})}(e),function(e){var t=e.each,n=e.isNumber,i=e.map,r=e.merge,a=e.pInt;e.Color=function(t){if(!(this instanceof e.Color))return new e.Color(t);this.init(t)},e.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(e){return[a(e[1]),a(e[2]),a(e[3]),parseFloat(e[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(e){return[a(e[1]),a(e[2]),a(e[3]),1]}}],names:{none:"rgba(255,255,255,0)",white:"#ffffff",black:"#000000"},init:function(t){var n,r,a,o;if((this.input=t=this.names[t&&t.toLowerCase?t.toLowerCase():""]||t)&&t.stops)this.stops=i(t.stops,function(t){return new e.Color(t[1])});else if(t&&"#"===t.charAt()&&(n=t.length,t=parseInt(t.substr(1),16),7===n?r=[(16711680&t)>>16,(65280&t)>>8,255&t,1]:4===n&&(r=[(3840&t)>>4|(3840&t)>>8,(240&t)>>4|240&t,(15&t)<<4|15&t,1])),!r)for(a=this.parsers.length;a--&&!r;)o=this.parsers[a],(n=o.regex.exec(t))&&(r=o.parse(n));this.rgba=r||[]},get:function(e){var i,a=this.input,o=this.rgba;return this.stops?(i=r(a),i.stops=[].concat(i.stops),t(this.stops,function(t,n){i.stops[n]=[i.stops[n][0],t.get(e)]})):i=o&&n(o[0])?"rgb"===e||!e&&1===o[3]?"rgb("+o[0]+","+o[1]+","+o[2]+")":"a"===e?o[3]:"rgba("+o.join(",")+")":a,i},brighten:function(e){var i,r=this.rgba;if(this.stops)t(this.stops,function(t){t.brighten(e)});else if(n(e)&&0!==e)for(i=0;3>i;i++)r[i]+=a(255*e),0>r[i]&&(r[i]=0),255<r[i]&&(r[i]=255);return this},setOpacity:function(e){return this.rgba[3]=e,this},tweenTo:function(e,t){var n,i;return e.rgba.length?(n=this.rgba,e=e.rgba,i=1!==e[3]||1!==n[3],e=(i?"rgba(":"rgb(")+Math.round(e[0]+(n[0]-e[0])*(1-t))+","+Math.round(e[1]+(n[1]-e[1])*(1-t))+","+Math.round(e[2]+(n[2]-e[2])*(1-t))+(i?","+(e[3]+(n[3]-e[3])*(1-t)):"")+")"):e=e.input||"none",e}},e.color=function(t){return new e.Color(t)}}(e),function(e){var t,n,i=e.addEvent,r=e.animate,a=e.attr,o=e.charts,s=e.color,l=e.css,c=e.createElement,u=e.defined,d=e.deg2rad,h=e.destroyObjectProperties,p=e.doc,f=e.each,g=e.extend,m=e.erase,v=e.grep,b=e.hasTouch,y=e.inArray,w=e.isArray,x=e.isFirefox,_=e.isMS,k=e.isObject,C=e.isString,S=e.isWebKit,$=e.merge,D=e.noop,T=e.objectEach,E=e.pick,M=e.pInt,A=e.removeEvent,O=e.stop,P=e.svg,I=e.SVG_NS,R=e.symbolSizes,N=e.win;t=e.SVGElement=function(){return this},g(t.prototype,{opacity:1,SVG_NS:I,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline".split(" "),init:function(e,t){this.element="span"===t?c(t):p.createElementNS(this.SVG_NS,t),this.renderer=e},animate:function(t,n,i){return n=e.animObject(E(n,this.renderer.globalAnimation,!0)),0!==n.duration?(i&&(n.complete=i),r(this,t,n)):(this.attr(t,null,i),n.step&&n.step.call(this)),this},colorGradient:function(t,n,i){var r,a,o,s,l,c,d,h,p,g,m,v=this.renderer,b=[];t.radialGradient?a="radialGradient":t.linearGradient&&(a="linearGradient"),a&&(o=t[a],l=v.gradients,d=t.stops,g=i.radialReference,w(o)&&(t[a]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===a&&g&&!u(o.gradientUnits)&&(s=o,o=$(o,v.getRadialAttr(g,s),{gradientUnits:"userSpaceOnUse"})),T(o,function(e,t){"id"!==t&&b.push(t,e)}),T(d,function(e){b.push(e)}),b=b.join(","),l[b]?g=l[b].attr("id"):(o.id=g=e.uniqueKey(),l[b]=c=v.createElement(a).attr(o).add(v.defs),c.radAttr=s,c.stops=[],f(d,function(t){0===t[1].indexOf("rgba")?(r=e.color(t[1]),h=r.get("rgb"),p=r.get("a")):(h=t[1],p=1),t=v.createElement("stop").attr({offset:t[0],"stop-color":h,"stop-opacity":p}).add(c),c.stops.push(t)})),m="url("+v.url+"#"+g+")",i.setAttribute(n,m),i.gradient=b,t.toString=function(){return m})},applyTextOutline:function(t){var n,i,r,o,s,l=this.element;if(-1!==t.indexOf("contrast")&&(t=t.replace(/contrast/g,this.renderer.getContrast(l.style.fill))),t=t.split(" "),i=t[t.length-1],(r=t[0])&&"none"!==r&&e.svg){for(this.fakeTS=!0,t=[].slice.call(l.getElementsByTagName("tspan")),this.ySetter=this.xSetter,r=r.replace(/(^[\d\.]+)(.*?)$/g,function(e,t,n){return 2*t+n}),s=t.length;s--;)n=t[s],"highcharts-text-outline"===n.getAttribute("class")&&m(t,l.removeChild(n));o=l.firstChild,f(t,function(e,t){0===t&&(e.setAttribute("x",l.getAttribute("x")),t=l.getAttribute("y"),e.setAttribute("y",t||0),null===t&&l.setAttribute("y",0)),e=e.cloneNode(1),a(e,{class:"highcharts-text-outline",fill:i,stroke:i,"stroke-width":r,"stroke-linejoin":"round"}),l.insertBefore(e,o)})}},attr:function(e,t,n,i){var r,a,o,s,l=this.element,c=this;return"string"==typeof e&&void 0!==t&&(r=e,e={},e[r]=t),"string"==typeof e?c=(this[e+"Getter"]||this._defaultGetter).call(this,e,l):(T(e,function(t,n){o=!1,i||O(this,n),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(n)&&(a||(this.symbolAttr(e),a=!0),o=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),o||(s=this[n+"Setter"]||this._defaultSetter,s.call(this,t,n,l),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,t,s))},this),this.afterSetters()),n&&n(),c},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(e,t,n){for(var i=this.shadows,r=i.length;r--;)n.call(i[r],"height"===e?Math.max(t-(i[r].cutHeight||0),0):"d"===e?this.d:t,e,i[r])},addClass:function(e,t){var n=this.attr("class")||"";return-1===n.indexOf(e)&&(t||(e=(n+(n?" ":"")+e).replace("  "," ")),this.attr("class",e)),this},hasClass:function(e){return-1!==y(e,(this.attr("class")||"").split(" "))},removeClass:function(e){return this.attr("class",(this.attr("class")||"").replace(e,""))},symbolAttr:function(e){var t=this;f("x y r start end width height innerR anchorX anchorY".split(" "),function(n){t[n]=E(e[n],t[n])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":"none")},crisp:function(e,t){var n,i=this,r={};return t=t||e.strokeWidth||0,n=Math.round(t)%2/2,e.x=Math.floor(e.x||i.x||0)+n,e.y=Math.floor(e.y||i.y||0)+n,e.width=Math.floor((e.width||i.width||0)-2*n),e.height=Math.floor((e.height||i.height||0)-2*n),u(e.strokeWidth)&&(e.strokeWidth=t),T(e,function(e,t){i[t]!==e&&(i[t]=r[t]=e)}),r},css:function(e){var t,n,i=this.styles,r={},o=this.element,s="",c=!i,u=["textOutline","textOverflow","width"];return e&&e.color&&(e.fill=e.color),i&&T(e,function(e,t){e!==i[t]&&(r[t]=e,c=!0)}),c&&(i&&(e=g(i,r)),t=this.textWidth=e&&e.width&&"auto"!==e.width&&"text"===o.nodeName.toLowerCase()&&M(e.width),this.styles=e,t&&!P&&this.renderer.forExport&&delete e.width,_&&!P?l(this.element,e):(n=function(e,t){return"-"+t.toLowerCase()},T(e,function(e,t){-1===y(t,u)&&(s+=t.replace(/([A-Z])/g,n)+":"+e+";")}),s&&a(o,"style",s)),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),e&&e.textOutline&&this.applyTextOutline(e.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(e,t){var n=this,i=n.element;return b&&"click"===e?(i.ontouchstart=function(e){n.touchEventFired=Date.now(),e.preventDefault(),t.call(i,e)},i.onclick=function(e){(-1===N.navigator.userAgent.indexOf("Android")||1100<Date.now()-(n.touchEventFired||0))&&t.call(i,e)}):i["on"+e]=t,this},setRadialReference:function(e){var t=this.renderer.gradients[this.element.gradient];return this.element.radialReference=e,t&&t.radAttr&&t.animate(this.renderer.getRadialAttr(e,t.radAttr)),this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(e){return this.inverted=e,this.updateTransform(),this},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,n=this.scaleX,i=this.scaleY,r=this.inverted,a=this.rotation,o=this.element;r&&(e+=this.width,t+=this.height),e=["translate("+e+","+t+")"],r?e.push("rotate(90) scale(-1,1)"):a&&e.push("rotate("+a+" "+(o.getAttribute("x")||0)+" "+(o.getAttribute("y")||0)+")"),(u(n)||u(i))&&e.push("scale("+E(n,1)+" "+E(i,1)+")"),e.length&&o.setAttribute("transform",e.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,n){var i,r,a,o,s={};r=this.renderer,a=r.alignedObjects;var l,c;return e?(this.alignOptions=e,this.alignByTranslate=t,(!n||C(n))&&(this.alignTo=i=n||"renderer",m(a,this),a.push(this),n=null)):(e=this.alignOptions,t=this.alignByTranslate,i=this.alignTo),n=E(n,r[i],r),i=e.align,r=e.verticalAlign,a=(n.x||0)+(e.x||0),o=(n.y||0)+(e.y||0),"right"===i?l=1:"center"===i&&(l=2),l&&(a+=(n.width-(e.width||0))/l),s[t?"translateX":"x"]=Math.round(a),"bottom"===r?c=1:"middle"===r&&(c=2),c&&(o+=(n.height-(e.height||0))/c),s[t?"translateY":"y"]=Math.round(o),this[this.placed?"animate":"attr"](s),this.placed=!0,this.alignAttr=s,this},getBBox:function(e,t){var n,i,r,a,o,s=this.renderer,l=this.element,c=this.styles,u=this.textStr,h=s.cache,p=s.cacheKeys;if(t=E(t,this.rotation),i=t*d,r=c&&c.fontSize,void 0!==u&&(o=u.toString(),-1===o.indexOf("<")&&(o=o.replace(/[0-9]/g,"0")),o+=["",t||0,r,c&&c.width,c&&c.textOverflow].join()),o&&!e&&(n=h[o]),!n){if(l.namespaceURI===this.SVG_NS||s.forExport){try{(a=this.fakeTS&&function(e){f(l.querySelectorAll(".highcharts-text-outline"),function(t){t.style.display=e})})&&a("none"),n=l.getBBox?g({},l.getBBox()):{width:l.offsetWidth,height:l.offsetHeight},a&&a("")}catch(e){}(!n||0>n.width)&&(n={width:0,height:0})}else n=this.htmlGetBBox();if(s.isSVG&&(e=n.width,s=n.height,c&&"11px"===c.fontSize&&17===Math.round(s)&&(n.height=s=14),t&&(n.width=Math.abs(s*Math.sin(i))+Math.abs(e*Math.cos(i)),n.height=Math.abs(s*Math.cos(i))+Math.abs(e*Math.sin(i)))),o&&0<n.height){for(;250<p.length;)delete h[p.shift()];h[o]||p.push(o),h[o]=n}}return n},show:function(e){return this.attr({visibility:e?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t,n=this.renderer,i=this.element;return e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,(!e||e.handleZ||this.zIndex)&&(t=this.zIndexSetter()),t||(e?e.element:n.box).appendChild(i),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e=this,t=e.element||{},n=e.renderer.isSVG&&"SPAN"===t.nodeName&&e.parentGroup,i=t.ownerSVGElement;if(t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null,O(e),e.clipPath&&i&&(f(i.querySelectorAll("[clip-path]"),function(t){-1<t.getAttribute("clip-path").indexOf(e.clipPath.element.id+")")&&t.removeAttribute("clip-path")}),e.clipPath=e.clipPath.destroy()),e.stops){for(i=0;i<e.stops.length;i++)e.stops[i]=e.stops[i].destroy();e.stops=null}for(e.safeRemoveChild(t),e.destroyShadows();n&&n.div&&0===n.div.childNodes.length;)t=n.parentGroup,e.safeRemoveChild(n.div),delete n.div,n=t;return e.alignTo&&m(e.renderer.alignedObjects,e),T(e,function(t,n){delete e[n]}),null},shadow:function(e,t,n){var i,r,o,s,l,c,u=[],d=this.element;if(e){if(!this.shadows){for(s=E(e.width,3),l=(e.opacity||.15)/s,c=this.parentInverted?"(-1,-1)":"("+E(e.offsetX,1)+", "+E(e.offsetY,1)+")",i=1;i<=s;i++)r=d.cloneNode(0),o=2*s+1-2*i,a(r,{isShadow:"true",stroke:e.color||"#000000","stroke-opacity":l*i,"stroke-width":o,transform:"translate"+c,fill:"none"}),n&&(a(r,"height",Math.max(a(r,"height")-o,0)),r.cutHeight=o),t?t.element.appendChild(r):d.parentNode.insertBefore(r,d),u.push(r);this.shadows=u}}else this.destroyShadows();return this},destroyShadows:function(){f(this.shadows||[],function(e){this.safeRemoveChild(e)},this),this.shadows=void 0},xGetter:function(e){return"circle"===this.element.nodeName&&("x"===e?e="cx":"y"===e&&(e="cy")),this._defaultGetter(e)},_defaultGetter:function(e){return e=E(this[e],this.element?this.element.getAttribute(e):null,0),/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(e,t,n){e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),this[t]!==e&&(n.setAttribute(t,e),this[t]=e)},dashstyleSetter:function(e){var t,n=this["stroke-width"];if("inherit"===n&&(n=1),e=e&&e.toLowerCase()){for(e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),t=e.length;t--;)e[t]=M(e[t])*n;e=e.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},opacitySetter:function(e,t,n){this[t]=e,n.setAttribute(t,e)},titleSetter:function(e){var t=this.element.getElementsByTagName("title")[0];t||(t=p.createElementNS(this.SVG_NS,"title"),this.element.appendChild(t)),t.firstChild&&t.removeChild(t.firstChild),t.appendChild(p.createTextNode(String(E(e),"").replace(/<[^>]*>/g,"")))},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,n){"string"==typeof e?n.setAttribute(t,e):e&&this.colorGradient(e,t,n)},visibilitySetter:function(e,t,n){"inherit"===e?n.removeAttribute(t):this[t]!==e&&n.setAttribute(t,e),this[t]=e},zIndexSetter:function(e,t){var n,i,r=this.renderer,a=this.parentGroup,o=(a||r).element||r.box,s=this.element;n=this.added;var l;if(u(e)&&(s.zIndex=e,e=+e,this[t]===e&&(n=!1),this[t]=e),n){for((e=this.zIndex)&&a&&(a.handleZ=!0),t=o.childNodes,l=0;l<t.length&&!i;l++)a=t[l],n=a.zIndex,a!==s&&(M(n)>e||!u(e)&&u(n)||0>e&&!u(n)&&o!==r.box)&&(o.insertBefore(s,a),i=!0);i||o.appendChild(s)}return i},_defaultSetter:function(e,t,n){n.setAttribute(t,e)}}),t.prototype.yGetter=t.prototype.xGetter,t.prototype.translateXSetter=t.prototype.translateYSetter=t.prototype.rotationSetter=t.prototype.verticalAlignSetter=t.prototype.scaleXSetter=t.prototype.scaleYSetter=function(e,t){this[t]=e,this.doTransform=!0},t.prototype["stroke-widthSetter"]=t.prototype.strokeSetter=function(e,n,i){this[n]=e,this.stroke&&this["stroke-width"]?(t.prototype.fillSetter.call(this,this.stroke,"stroke",i),i.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===n&&0===e&&this.hasStroke&&(i.removeAttribute("stroke"),this.hasStroke=!1)},n=e.SVGRenderer=function(){this.init.apply(this,arguments)},g(n.prototype,{Element:t,SVG_NS:I,init:function(e,t,n,r,o,s){var c;r=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}).css(this.getStyle(r)),c=r.element,e.appendChild(c),-1===e.innerHTML.indexOf("xmlns")&&a(c,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=c,this.boxWrapper=r,this.alignedObjects=[],this.url=(x||S)&&p.getElementsByTagName("base").length?N.location.href.replace(/#.*?$/,"").replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(p.createTextNode("Created with Highcharts 5.0.14")),this.defs=this.createElement("defs").add(),this.allowHTML=s,this.forExport=o,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(t,n,!1);var u;x&&e.getBoundingClientRect&&(t=function(){l(e,{left:0,top:0}),u=e.getBoundingClientRect(),l(e,{left:Math.ceil(u.left)-u.left+"px",top:Math.ceil(u.top)-u.top+"px"})},t(),this.unSubPixelFix=i(N,"resize",t))},getStyle:function(e){return this.style=g({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e)},setStyle:function(e){this.boxWrapper.css(this.getStyle(e))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),h(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:D,getRadialAttr:function(e,t){return{cx:e[0]-e[2]/2+t.cx*e[2],cy:e[1]-e[2]/2+t.cy*e[2],r:t.r*e[2]}},getSpanWidth:function(e,t){var n=e.getBBox(!0).width;return!P&&this.forExport&&(n=this.measureSpanWidth(t.firstChild.data,e.styles)),n},applyEllipsis:function(e,t,n,i){var r,a,o=e.rotation,s=n,l=0,c=n.length,u=function(e){t.removeChild(t.firstChild),e&&t.appendChild(p.createTextNode(e))};if(e.rotation=0,s=this.getSpanWidth(e,t),a=s>i){for(;l<=c;)r=Math.ceil((l+c)/2),s=n.substring(0,r)+"…",u(s),s=this.getSpanWidth(e,t),l===c?l=c+1:s>i?c=r-1:l=r;0===c&&u("")}return e.rotation=o,a},buildText:function(e){var t,n,i,r,o,s,c=e.element,u=this,d=u.forExport,h=E(e.textStr,"").toString(),g=-1!==h.indexOf("<"),m=c.childNodes,b=a(c,"x"),y=e.styles,w=e.textWidth,x=y&&y.lineHeight,_=y&&y.textOutline,k=y&&"ellipsis"===y.textOverflow,C=y&&"nowrap"===y.whiteSpace,S=y&&y.fontSize,$=m.length,y=w&&!e.added&&this.box,D=function(e){var t;return t=/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:S||u.style.fontSize||12,x?M(x):u.fontMetrics(t,e.getAttribute("style")?e:c).h};if((o=[h,k,C,x,_,S,w].join())!==e.textCache){for(e.textCache=o;$--;)c.removeChild(m[$]);g||_||k||w||-1!==h.indexOf(" ")?(t=/<.*class="([^"]+)".*>/,n=/<.*style="([^"]+)".*>/,i=/<.*href="([^"]+)".*>/,y&&y.appendChild(c),h=g?h.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[h],h=v(h,function(e){return""!==e}),f(h,function(o,h){var g,m=0;o=o.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),g=o.split("|||"),f(g,function(o){if(""!==o||1===g.length){var f,v,y={},x=p.createElementNS(u.SVG_NS,"tspan");if(t.test(o)&&(f=o.match(t)[1],a(x,"class",f)),n.test(o)&&(v=o.match(n)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),a(x,"style",v)),i.test(o)&&!d&&(a(x,"onclick",'location.href="'+o.match(i)[1]+'"'),l(x,{cursor:"pointer"}))," "!==(o=(o.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"))){if(x.appendChild(p.createTextNode(o)),m?y.dx=0:h&&null!==b&&(y.x=b),a(x,y),c.appendChild(x),!m&&s&&(!P&&d&&l(x,{display:"block"}),a(x,"dy",D(x))),w){y=o.replace(/([^\^])-/g,"$1- ").split(" "),f=1<g.length||h||1<y.length&&!C;var _,S=[],$=D(x),T=e.rotation;for(k&&(r=u.applyEllipsis(e,x,o,w));!k&&f&&(y.length||S.length);)e.rotation=0,_=u.getSpanWidth(e,x),o=_>w,void 0===r&&(r=o),o&&1!==y.length?(x.removeChild(x.firstChild),S.unshift(y.pop())):(y=S,S=[],y.length&&!C&&(x=p.createElementNS(I,"tspan"),a(x,{dy:$,x:b}),v&&a(x,"style",v),c.appendChild(x)),_>w&&(w=_)),
y.length&&x.appendChild(p.createTextNode(y.join(" ").replace(/- /g,"-")));e.rotation=T}m++}}}),s=s||c.childNodes.length}),r&&e.attr("title",e.textStr),y&&y.removeChild(c),_&&e.applyTextOutline&&e.applyTextOutline(_)):c.appendChild(p.createTextNode(h.replace(/&lt;/g,"<").replace(/&gt;/g,">")))}},getContrast:function(e){return e=s(e).rgba,510<e[0]+e[1]+e[2]?"#000000":"#FFFFFF"},button:function(e,t,n,r,a,o,s,l,c){var u=this.label(e,t,n,c,null,null,null,null,"button"),d=0;u.attr($({padding:8,r:2},a));var h,p,f,m;return a=$({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},a),h=a.style,delete a.style,o=$(a,{fill:"#e6e6e6"},o),p=o.style,delete o.style,s=$(a,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},s),f=s.style,delete s.style,l=$(a,{style:{color:"#cccccc"}},l),m=l.style,delete l.style,i(u.element,_?"mouseover":"mouseenter",function(){3!==d&&u.setState(1)}),i(u.element,_?"mouseout":"mouseleave",function(){3!==d&&u.setState(d)}),u.setState=function(e){1!==e&&(u.state=d=e),u.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][e||0]),u.attr([a,o,s,l][e||0]).css([h,p,f,m][e||0])},u.attr(a).css(g({cursor:"default"},h)),u.on("click",function(e){3!==d&&r.call(u,e)})},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=Math.round(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=Math.round(e[2])+t%2/2),e},path:function(e){var t={fill:"none"};return w(e)?t.d=e:k(e)&&g(t,e),this.createElement("path").attr(t)},circle:function(e,t,n){return e=k(e)?e:{x:e,y:t,r:n},t=this.createElement("circle"),t.xSetter=t.ySetter=function(e,t,n){n.setAttribute("c"+t,e)},t.attr(e)},arc:function(e,t,n,i,r,a){return k(e)?(i=e,t=i.y,n=i.r,e=i.x):i={innerR:i,start:r,end:a},e=this.symbol("arc",e,t,n,n,i),e.r=n,e},rect:function(e,t,n,i,r,o){r=k(e)?e.r:r;var s=this.createElement("rect");return e=k(e)?e:void 0===e?{}:{x:e,y:t,width:Math.max(n,0),height:Math.max(i,0)},void 0!==o&&(e.strokeWidth=o,e=s.crisp(e)),e.fill="none",r&&(e.r=r),s.rSetter=function(e,t,n){a(n,{rx:e,ry:e})},s.attr(e)},setSize:function(e,t,n){var i=this.alignedObjects,r=i.length;for(this.width=e,this.height=t,this.boxWrapper.animate({width:e,height:t},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:E(n,!0)?void 0:0});r--;)i[r].align()},g:function(e){var t=this.createElement("g");return e?t.attr({class:"highcharts-"+e}):t},image:function(e,t,n,i,r){var a={preserveAspectRatio:"none"};return 1<arguments.length&&g(a,{x:t,y:n,width:i,height:r}),a=this.createElement("image").attr(a),a.element.setAttributeNS?a.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):a.element.setAttribute("hc-svg-href",e),a},symbol:function(e,t,n,i,r,a){var s,d,h,m=this,v=/^url\((.*?)\)$/,b=v.test(e),y=!b&&(this.symbols[e]?e:"circle"),w=y&&this.symbols[y],x=u(t)&&w&&w.call(this.symbols,Math.round(t),Math.round(n),i,r,a);return w?(s=this.path(x),s.attr("fill","none"),g(s,{symbolName:y,x:t,y:n,width:i,height:r}),a&&g(s,a)):b&&(d=e.match(v)[1],s=this.image(d),s.imgwidth=E(R[d]&&R[d].width,a&&a.width),s.imgheight=E(R[d]&&R[d].height,a&&a.height),h=function(){s.attr({width:s.width,height:s.height})},f(["width","height"],function(e){s[e+"Setter"]=function(e,t){var n={},i=this["img"+t],r="width"===t?"translateX":"translateY";this[t]=e,u(i)&&(this.element&&this.element.setAttribute(t,i),this.alignByTranslate||(n[r]=((this[t]||0)-i)/2,this.attr(n)))}}),u(t)&&s.attr({x:t,y:n}),s.isImg=!0,u(s.imgwidth)&&u(s.imgheight)?h():(s.attr({width:0,height:0}),c("img",{onload:function(){var e=o[m.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),p.body.appendChild(this)),R[d]={width:this.width,height:this.height},s.imgwidth=this.width,s.imgheight=this.height,s.element&&h(),this.parentNode&&this.parentNode.removeChild(this),!--m.imgCount&&e&&e.onload&&e.onload()},src:d}),this.imgCount++)),s},symbols:{circle:function(e,t,n,i){return this.arc(e+n/2,t+i/2,n/2,i/2,{start:0,end:2*Math.PI,open:!1})},square:function(e,t,n,i){return["M",e,t,"L",e+n,t,e+n,t+i,e,t+i,"Z"]},triangle:function(e,t,n,i){return["M",e+n/2,t,"L",e+n,t+i,e,t+i,"Z"]},"triangle-down":function(e,t,n,i){return["M",e,t,"L",e+n,t,e+n/2,t+i,"Z"]},diamond:function(e,t,n,i){return["M",e+n/2,t,"L",e+n,t+i/2,e+n/2,t+i,e,t+i/2,"Z"]},arc:function(e,t,n,i,r){var a=r.start,o=r.r||n,s=r.r||i||n,l=r.end-.001;n=r.innerR,i=E(r.open,.001>Math.abs(r.end-r.start-2*Math.PI));var c=Math.cos(a),d=Math.sin(a),h=Math.cos(l),l=Math.sin(l);return r=.001>r.end-a-Math.PI?0:1,o=["M",e+o*c,t+s*d,"A",o,s,0,r,1,e+o*h,t+s*l],u(n)&&o.push(i?"M":"L",e+n*h,t+n*l,"A",n,n,0,r,0,e+n*c,t+n*d),o.push(i?"":"Z"),o},callout:function(e,t,n,i,r){var a=Math.min(r&&r.r||0,n,i),o=a+6,s=r&&r.anchorX;r=r&&r.anchorY;var l;return l=["M",e+a,t,"L",e+n-a,t,"C",e+n,t,e+n,t,e+n,t+a,"L",e+n,t+i-a,"C",e+n,t+i,e+n,t+i,e+n-a,t+i,"L",e+a,t+i,"C",e,t+i,e,t+i,e,t+i-a,"L",e,t+a,"C",e,t,e,t,e+a,t],s&&s>n?r>t+o&&r<t+i-o?l.splice(13,3,"L",e+n,r-6,e+n+6,r,e+n,r+6,e+n,t+i-a):l.splice(13,3,"L",e+n,i/2,s,r,e+n,i/2,e+n,t+i-a):s&&0>s?r>t+o&&r<t+i-o?l.splice(33,3,"L",e,r+6,e-6,r,e,r-6,e,t+a):l.splice(33,3,"L",e,i/2,s,r,e,i/2,e,t+a):r&&r>i&&s>e+o&&s<e+n-o?l.splice(23,3,"L",s+6,t+i,s,t+i+6,s-6,t+i,e+a,t+i):r&&0>r&&s>e+o&&s<e+n-o&&l.splice(3,3,"L",s-6,t,s,t-6,s+6,t,n-a,t),l}},clipRect:function(t,n,i,r){var a=e.uniqueKey(),o=this.createElement("clipPath").attr({id:a}).add(this.defs);return t=this.rect(t,n,i,r,0).add(o),t.id=a,t.clipPath=o,t.count=0,t},text:function(e,t,n,i){var r=!P&&this.forExport,a={};return!i||!this.allowHTML&&this.forExport?(a.x=Math.round(t||0),n&&(a.y=Math.round(n)),(e||0===e)&&(a.text=e),e=this.createElement("text").attr(a),r&&e.css({position:"absolute"}),i||(e.xSetter=function(e,t,n){var i,r,a=n.getElementsByTagName("tspan"),o=n.getAttribute(t);for(r=0;r<a.length;r++)i=a[r],i.getAttribute(t)===o&&i.setAttribute(t,e);n.setAttribute(t,e)}),e):this.html(e,t,n)},fontMetrics:function(e,t){return e=e||t&&t.style&&t.style.fontSize||this.style&&this.style.fontSize,e=/px/.test(e)?M(e):/em/.test(e)?parseFloat(e)*(t?this.fontMetrics(null,t.parentNode).f:16):12,t=24>e?e+3:Math.round(1.2*e),{h:t,b:Math.round(.8*t),f:e}},rotCorr:function(e,t,n){var i=e;return t&&n&&(i=Math.max(i*Math.cos(t*d),4)),{x:-e/3*Math.sin(t*d),y:i}},label:function(n,i,r,a,o,s,l,c,d){var h,p,m,v,b,y,w,x,_,k,C,S,D,T=this,E=T.g("button"!==d&&"label"),M=E.text=T.text("",0,0,l).attr({zIndex:1}),O=0,P=3,I=0,R={},N=/^url\((.*?)\)$/.test(a),L=N;d&&E.addClass("highcharts-"+d),L=N,k=function(){return(x||0)%2/2},C=function(){var e=M.element.style,t={};p=(void 0===m||void 0===v||w)&&u(M.textStr)&&M.getBBox(),E.width=(m||p.width||0)+2*P+I,E.height=(v||p.height||0)+2*P,_=P+T.fontMetrics(e&&e.fontSize,M).b,L&&(h||(E.box=h=T.symbols[a]||N?T.symbol(a):T.rect(),h.addClass(("button"===d?"":"highcharts-label-box")+(d?" highcharts-"+d+"-box":"")),h.add(E),e=k(),t.x=e,t.y=(c?-_:0)+e),t.width=Math.round(E.width),t.height=Math.round(E.height),h.attr(g(t,R)),R={})},S=function(){var e,t=I+P;e=c?0:_,u(m)&&p&&("center"===w||"right"===w)&&(t+={center:.5,right:1}[w]*(m-p.width)),t===M.x&&e===M.y||(M.attr("x",t),void 0!==e&&M.attr("y",e)),M.x=t,M.y=e},D=function(e,t){h?h.attr(e,t):R[e]=t},E.onAdd=function(){M.add(E),E.attr({text:n||0===n?n:"",x:i,y:r}),h&&u(o)&&E.attr({anchorX:o,anchorY:s})},E.widthSetter=function(t){m=e.isNumber(t)?t:null},E.heightSetter=function(e){v=e},E["text-alignSetter"]=function(e){w=e},E.paddingSetter=function(e){u(e)&&e!==P&&(P=E.padding=e,S())},E.paddingLeftSetter=function(e){u(e)&&e!==I&&(I=e,S())},E.alignSetter=function(e){(e={left:0,center:.5,right:1}[e])!==O&&(O=e,p&&E.attr({x:b}))},E.textSetter=function(e){void 0!==e&&M.textSetter(e),C(),S()},E["stroke-widthSetter"]=function(e,t){e&&(L=!0),x=this["stroke-width"]=e,D(t,e)},E.strokeSetter=E.fillSetter=E.rSetter=function(e,t){"r"!==t&&("fill"===t&&e&&(L=!0),E[t]=e),D(t,e)},E.anchorXSetter=function(e,t){o=E.anchorX=e,D(t,Math.round(e)-k()-b)},E.anchorYSetter=function(e,t){s=E.anchorY=e,D(t,e-y)},E.xSetter=function(e){E.x=e,O&&(e-=O*((m||p.width)+2*P)),b=Math.round(e),E.attr("translateX",b)},E.ySetter=function(e){y=E.y=Math.round(e),E.attr("translateY",y)};var F=E.css;return g(E,{css:function(e){if(e){var t={};e=$(e),f(E.textProps,function(n){void 0!==e[n]&&(t[n]=e[n],delete e[n])}),M.css(t)}return F.call(E,e)},getBBox:function(){return{width:p.width+2*P,height:p.height+2*P,x:p.x-P,y:p.y-P}},shadow:function(e){return e&&(C(),h&&h.shadow(e)),E},destroy:function(){A(E.element,"mouseenter"),A(E.element,"mouseleave"),M&&(M=M.destroy()),h&&(h=h.destroy()),t.prototype.destroy.call(E),E=T=C=S=D=null}})}}),e.Renderer=n}(e),function(e){var t=e.attr,n=e.createElement,i=e.css,r=e.defined,a=e.each,o=e.extend,s=e.isFirefox,l=e.isMS,c=e.isWebKit,u=e.pInt,d=e.SVGRenderer,h=e.win,p=e.wrap;o(e.SVGElement.prototype,{htmlCss:function(e){var t=this.element;return(t=e&&"SPAN"===t.tagName&&e.width)&&(delete e.width,this.textWidth=t,this.updateTransform()),e&&"ellipsis"===e.textOverflow&&(e.whiteSpace="nowrap",e.overflow="hidden"),this.styles=o(this.styles,e),i(this.element,e),this},htmlGetBBox:function(){var e=this.element;return"text"===e.nodeName&&(e.style.position="absolute"),{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,t=this.element,n=this.translateX||0,o=this.translateY||0,s=this.x||0,l=this.y||0,d=this.textAlign||"left",h={left:0,center:.5,right:1}[d],p=this.styles;if(i(t,{marginLeft:n,marginTop:o}),this.shadows&&a(this.shadows,function(e){i(e,{marginLeft:n+1,marginTop:o+1})}),this.inverted&&a(t.childNodes,function(n){e.invertChild(n,t)}),"SPAN"===t.tagName){var f=this.rotation,g=u(this.textWidth),m=p&&p.whiteSpace,v=[f,d,t.innerHTML,this.textWidth,this.textAlign].join();v!==this.cTT&&(p=e.fontMetrics(t.style.fontSize).b,r(f)&&this.setSpanRotation(f,h,p),i(t,{width:"",whiteSpace:m||"nowrap"}),t.offsetWidth>g&&/[ \-]/.test(t.textContent||t.innerText)&&i(t,{width:g+"px",display:"block",whiteSpace:m||"normal"}),this.getSpanCorrection(t.offsetWidth,p,h,f,d)),i(t,{left:s+(this.xCorr||0)+"px",top:l+(this.yCorr||0)+"px"}),c&&(p=t.offsetHeight),this.cTT=v}}else this.alignOnAdd=!0},setSpanRotation:function(e,t,n){var r={},a=l?"-ms-transform":c?"-webkit-transform":s?"MozTransform":h.opera?"-o-transform":"";r[a]=r.transform="rotate("+e+"deg)",r[a+(s?"Origin":"-origin")]=r.transformOrigin=100*t+"% "+n+"px",i(this.element,r)},getSpanCorrection:function(e,t,n){this.xCorr=-e*n,this.yCorr=-t}}),o(d.prototype,{html:function(e,i,r){var s=this.createElement("span"),l=s.element,c=s.renderer,u=c.isSVG,d=function(e,t){a(["opacity","visibility"],function(n){p(e,n+"Setter",function(e,n,i,r){e.call(this,n,i,r),t[i]=n})})};return s.textSetter=function(e){e!==l.innerHTML&&delete this.bBox,l.innerHTML=this.textStr=e,s.htmlUpdateTransform()},u&&d(s,s.element.style),s.xSetter=s.ySetter=s.alignSetter=s.rotationSetter=function(e,t){"align"===t&&(t="textAlign"),s[t]=e,s.htmlUpdateTransform()},s.attr({text:e,x:Math.round(i),y:Math.round(r)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),l.style.whiteSpace="nowrap",s.css=s.htmlCss,u&&(s.add=function(e){var i,r=c.box.parentNode,u=[];if(this.parentGroup=e){if(!(i=e.div)){for(;e;)u.push(e),e=e.parentGroup;a(u.reverse(),function(e){var a,l=t(e.element,"class");l&&(l={className:l}),i=e.div=e.div||n("div",l,{position:"absolute",left:(e.translateX||0)+"px",top:(e.translateY||0)+"px",display:e.display,opacity:e.opacity,pointerEvents:e.styles&&e.styles.pointerEvents},i||r),a=i.style,o(e,{classSetter:function(e){this.element.setAttribute("class",e),i.className=e},on:function(){return u[0].div&&s.on.apply({element:u[0].div},arguments),e},translateXSetter:function(t,n){a.left=t+"px",e[n]=t,e.doTransform=!0},translateYSetter:function(t,n){a.top=t+"px",e[n]=t,e.doTransform=!0}}),d(e,a)})}}else i=r;return i.appendChild(l),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s}})}(e),function(e){var t,n,i=e.createElement,r=e.css,a=e.defined,o=e.deg2rad,s=e.discardElement,l=e.doc,c=e.each,u=e.erase,d=e.extend;t=e.extendClass;var h=e.isArray,p=e.isNumber,f=e.isObject,g=e.merge;n=e.noop;var m=e.pick,v=e.pInt,b=e.SVGElement,y=e.SVGRenderer,w=e.win;e.svg||(n={docMode8:l&&8===l.documentMode,init:function(e,t){var n=["<",t,' filled="f" stroked="f"'],r=["position: ","absolute",";"],a="div"===t;("shape"===t||a)&&r.push("left:0;top:0;width:1px;height:1px;"),r.push("visibility: ",a?"hidden":"visible"),n.push(' style="',r.join(""),'"/>'),t&&(n=a||"span"===t||"img"===t?n.join(""):e.prepVML(n),this.element=i(n)),this.renderer=e},add:function(e){var t=this.renderer,n=this.element,i=t.box,r=e&&e.inverted,i=e?e.element||e:i;return e&&(this.parentGroup=e),r&&t.invertChild(n,i),i.appendChild(n),this.added=!0,this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform(),this.onAdd&&this.onAdd(),this.className&&this.attr("class",this.className),this},updateTransform:b.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=Math.cos(e*o),n=Math.sin(e*o);r(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-n,", M21=",n,", M22=",t,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(e,t,n,i,a){var s,l=i?Math.cos(i*o):1,c=i?Math.sin(i*o):0,u=m(this.elemHeight,this.element.offsetHeight);this.xCorr=0>l&&-e,this.yCorr=0>c&&-u,s=0>l*c,this.xCorr+=c*t*(s?1-n:n),this.yCorr-=l*t*(i?s?n:1-n:1),a&&"left"!==a&&(this.xCorr-=e*n*(0>l?-1:1),i&&(this.yCorr-=u*n*(0>c?-1:1)),r(this.element,{textAlign:a}))},pathToVML:function(e){for(var t=e.length,n=[];t--;)p(e[t])?n[t]=Math.round(10*e[t])-5:"Z"===e[t]?n[t]="x":(n[t]=e[t],!e.isArc||"wa"!==e[t]&&"at"!==e[t]||(n[t+5]===n[t+7]&&(n[t+7]+=e[t+7]>e[t+5]?1:-1),n[t+6]===n[t+8]&&(n[t+8]+=e[t+8]>e[t+6]?1:-1)));return n.join(" ")||"x"},clip:function(e){var t,n=this;return e?(t=e.members,u(t,n),t.push(n),n.destroyClip=function(){u(t,n)},e=e.getCSS(n)):(n.destroyClip&&n.destroyClip(),e={clip:n.docMode8?"inherit":"rect(auto)"}),n.css(e)},css:b.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&s(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),b.prototype.destroy.apply(this)},on:function(e,t){return this.element["on"+e]=function(){var e=w.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,t){var n;return e=e.split(/[ ,]/),n=e.length,9!==n&&11!==n||(e[n-4]=e[n-2]=v(e[n-2])-10*t),e.join(" ")},shadow:function(e,t,n){var r,a,o,s,l,c,u,d=[],h=this.element,p=this.renderer,f=h.style,g=h.path;if(g&&"string"!=typeof g.value&&(g="x"),l=g,e){for(c=m(e.width,3),u=(e.opacity||.15)/c,r=1;3>=r;r++)s=2*c+1-2*r,n&&(l=this.cutOffPath(g.value,s+.5)),o=['<shape isShadow="true" strokeweight="',s,'" filled="false" path="',l,'" coordsize="10 10" style="',h.style.cssText,'" />'],a=i(p.prepVML(o),null,{left:v(f.left)+m(e.offsetX,1),top:v(f.top)+m(e.offsetY,1)}),n&&(a.cutOff=s+1),o=['<stroke color="',e.color||"#000000",'" opacity="',u*r,'"/>'],i(p.prepVML(o),null,null,a),t?t.element.appendChild(a):h.parentNode.insertBefore(a,h),d.push(a);this.shadows=d}return this},updateShadows:n,setAttr:function(e,t){this.docMode8?this.element[e]=t:this.element.setAttribute(e,t)},classSetter:function(e){(this.added?this.element:this).className=e},dashstyleSetter:function(e,t,n){(n.getElementsByTagName("stroke")[0]||i(this.renderer.prepVML(["<stroke/>"]),null,null,n))[t]=e||"solid",this[t]=e},dSetter:function(e,t,n){var i=this.shadows;if(e=e||[],this.d=e.join&&e.join(" "),n.path=e=this.pathToVML(e),i)for(n=i.length;n--;)i[n].path=i[n].cutOff?this.cutOffPath(e,i[n].cutOff):e;this.setAttr(t,e)},fillSetter:function(e,t,n){var i=n.nodeName;"SPAN"===i?n.style.color=e:"IMG"!==i&&(n.filled="none"!==e,this.setAttr("fillcolor",this.renderer.color(e,n,t,this)))},"fill-opacitySetter":function(e,t,n){i(this.renderer.prepVML(["<",t.split("-")[0],' opacity="',e,'"/>']),null,null,n)},opacitySetter:n,rotationSetter:function(e,t,n){n=n.style,this[t]=n[t]=e,n.left=-Math.round(Math.sin(e*o)+1)+"px",n.top=Math.round(Math.cos(e*o))+"px"},strokeSetter:function(e,t,n){this.setAttr("strokecolor",this.renderer.color(e,n,t,this))},"stroke-widthSetter":function(e,t,n){n.stroked=!!e,this[t]=e,p(e)&&(e+="px"),this.setAttr("strokeweight",e)},titleSetter:function(e,t){this.setAttr(t,e)},visibilitySetter:function(e,t,n){"inherit"===e&&(e="visible"),this.shadows&&c(this.shadows,function(n){n.style[t]=e}),"DIV"===n.nodeName&&(e="hidden"===e?"-999em":0,this.docMode8||(n.style[t]=e?"visible":"hidden"),t="top"),n.style[t]=e},xSetter:function(e,t,n){this[t]=e,"x"===t?t="left":"y"===t&&(t="top"),this.updateClipping?(this[t]=e,this.updateClipping()):n.style[t]=e},zIndexSetter:function(e,t,n){n.style[t]=e}},n["stroke-opacitySetter"]=n["fill-opacitySetter"],e.VMLElement=n=t(b,n),n.prototype.ySetter=n.prototype.widthSetter=n.prototype.heightSetter=n.prototype.xSetter,n={Element:n,isIE8:-1<w.navigator.userAgent.indexOf("MSIE 8.0"),init:function(e,t,n){var i,r;if(this.alignedObjects=[],i=this.createElement("div").css({position:"relative"}),r=i.element,e.appendChild(i.element),this.isVML=!0,this.box=r,this.boxWrapper=i,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(t,n,!1),!l.namespaces.hcv){l.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{l.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(e){l.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,n,i){var r=this.createElement(),a=f(e);return d(r,{members:[],count:0,left:(a?e.x:e)+1,top:(a?e.y:t)+1,width:(a?e.width:n)-1,height:(a?e.height:i)-1,getCSS:function(e){var t=e.element,n=t.nodeName,i=e.inverted,r=this.top-("shape"===n?t.offsetTop:0),a=this.left,t=a+this.width,o=r+this.height,r={clip:"rect("+Math.round(i?a:r)+"px,"+Math.round(i?o:t)+"px,"+Math.round(i?t:o)+"px,"+Math.round(i?r:a)+"px)"};return!i&&e.docMode8&&"DIV"===n&&d(r,{width:t+"px",height:o+"px"}),r},updateClipping:function(){c(r.members,function(e){e.element&&e.css(r.getCSS(e))})}})},color:function(t,n,r,a){var o,s,l,u=this,d=/^rgba/,h="none";if(t&&t.linearGradient?l="gradient":t&&t.radialGradient&&(l="pattern"),l){var p,f,g,m,v,b,y,w=t.linearGradient||t.radialGradient,x="";t=t.stops;var _,k=[],C=function(){s=['<fill colors="'+k.join(",")+'" opacity="',v,'" o:opacity2="',m,'" type="',l,'" ',x,'focus="100%" method="any" />'],i(u.prepVML(s),null,null,n)};if(g=t[0],_=t[t.length-1],0<g[0]&&t.unshift([0,g[1]]),1>_[0]&&t.push([1,_[1]]),c(t,function(t,n){d.test(t[1])?(o=e.color(t[1]),p=o.get("rgb"),f=o.get("a")):(p=t[1],f=1),k.push(100*t[0]+"% "+p),n?(v=f,b=p):(m=f,y=p)}),"fill"===r)if("gradient"===l)r=w.x1||w[0]||0,t=w.y1||w[1]||0,g=w.x2||w[2]||0,w=w.y2||w[3]||0,x='angle="'+(90-180*Math.atan((w-t)/(g-r))/Math.PI)+'"',C();else{var S,h=w.r,$=2*h,D=2*h,T=w.cx,E=w.cy,M=n.radialReference,h=function(){M&&(S=a.getBBox(),T+=(M[0]-S.x)/S.width-.5,E+=(M[1]-S.y)/S.height-.5,$*=M[2]/S.width,D*=M[2]/S.height),x='src="'+e.getOptions().global.VMLRadialGradientURL+'" size="'+$+","+D+'" origin="0.5,0.5" position="'+T+","+E+'" color2="'+y+'" ',C()};a.added?h():a.onAdd=h,h=b}else h=p}else d.test(t)&&"IMG"!==n.tagName?(o=e.color(t),a[r+"-opacitySetter"](o.get("a"),r,n),h=o.get("rgb")):(h=n.getElementsByTagName(r),h.length&&(h[0].opacity=1,h[0].type="solid"),h=t);return h},prepVML:function(e){var t=this.isIE8;return e=e.join(""),t?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e=-1===e.indexOf('style="')?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):e=e.replace("<","<hcv:"),e},text:y.prototype.html,path:function(e){var t={coordsize:"10 10"};return h(e)?t.d=e:f(e)&&d(t,e),this.createElement("shape").attr(t)},circle:function(e,t,n){var i=this.symbol("circle");return f(e)&&(n=e.r,t=e.y,e=e.x),i.isCircle=!0,i.r=n,i.attr({x:e,y:t})},g:function(e){var t;return e&&(t={className:"highcharts-"+e,class:"highcharts-"+e}),this.createElement("div").attr(t)},image:function(e,t,n,i,r){var a=this.createElement("img").attr({src:e});return 1<arguments.length&&a.attr({x:t,y:n,width:i,height:r}),a},createElement:function(e){return"rect"===e?this.symbol(e):y.prototype.createElement.call(this,e)},invertChild:function(e,t){var n=this;t=t.style;var i="IMG"===e.tagName&&e.style;r(e,{flip:"x",left:v(t.width)-(i?v(i.top):1),top:v(t.height)-(i?v(i.left):1),rotation:-90}),c(e.childNodes,function(t){n.invertChild(t,e)})},symbols:{arc:function(e,t,n,i,r){var a=r.start,o=r.end,s=r.r||n||i;n=r.innerR,i=Math.cos(a);var l=Math.sin(a),c=Math.cos(o),u=Math.sin(o);return 0==o-a?["x"]:(a=["wa",e-s,t-s,e+s,t+s,e+s*i,t+s*l,e+s*c,t+s*u],r.open&&!n&&a.push("e","M",e,t),a.push("at",e-n,t-n,e+n,t+n,e+n*c,t+n*u,e+n*i,t+n*l,"x","e"),a.isArc=!0,a)},circle:function(e,t,n,i,r){return r&&a(r.r)&&(n=i=2*r.r),r&&r.isCircle&&(e-=n/2,t-=i/2),["wa",e,t,e+n,t+i,e+n,t+i/2,e+n,t+i/2,"e"]},rect:function(e,t,n,i,r){return y.prototype.symbols[a(r)&&r.r?"callout":"square"].call(0,e,t,n,i,r)}}},e.VMLRenderer=t=function(){this.init.apply(this,arguments)},t.prototype=g(y.prototype,n),e.Renderer=t),y.prototype.measureSpanWidth=function(e,t){var n=l.createElement("span");return e=l.createTextNode(e),n.appendChild(e),r(n,t),this.box.appendChild(n),t=n.offsetWidth,s(n),t}}(e),function(e){function t(){var t=e.defaultOptions.global,n=l.moment;if(t.timezone){if(n)return function(e){return-n.tz(e,t.timezone).utcOffset()};e.error(25)}return t.useUTC&&t.getTimezoneOffset}function n(){var n,i=e.defaultOptions.global,o=i.useUTC,c=o?"getUTC":"get",u=o?"setUTC":"set";e.Date=n=i.Date||l.Date,n.hcTimezoneOffset=o&&i.timezoneOffset,n.hcGetTimezoneOffset=t(),n.hcMakeTime=function(e,t,i,r,l,c){var u;return o?(u=n.UTC.apply(0,arguments),u+=a(u)):u=new n(e,t,s(i,1),s(r,0),s(l,0),s(c,0)).getTime(),u},r("Minutes Hours Day Date Month FullYear".split(" "),function(e){n["hcGet"+e]=c+e}),r("Milliseconds Seconds Minutes Hours Date Month FullYear".split(" "),function(e){n["hcSet"+e]=u+e})}var i=e.color,r=e.each,a=e.getTZOffset,o=e.merge,s=e.pick,l=e.win;e.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,VMLRadialGradientURL:"http://code.highcharts.com/5.0.14/gfx/vml-radial-gradient.png"},chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:e.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:e.isTouchDevice?25:10,backgroundColor:i("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},e.setOptions=function(t){return e.defaultOptions=o(!0,e.defaultOptions,t),n(),e.defaultOptions},e.getOptions=function(){return e.defaultOptions},e.defaultPlotOptions=e.defaultOptions.plotOptions,n()}(e),function(e){var t=e.correctFloat,n=e.defined,i=e.destroyObjectProperties,r=e.isNumber,a=e.merge,o=e.pick,s=e.deg2rad;e.Tick=function(e,t,n,i){this.axis=e,this.pos=t,this.type=n||"",this.isNewLabel=this.isNew=!0,n||i||this.addLabel()},e.Tick.prototype={addLabel:function(){var e,i=this.axis,r=i.options,s=i.chart,l=i.categories,c=i.names,u=this.pos,d=r.labels,h=i.tickPositions,p=u===h[0],f=u===h[h.length-1],c=l?o(l[u],c[u],u):u,l=this.label,h=h.info;i.isDatetimeAxis&&h&&(e=r.dateTimeLabelFormats[h.higherRanks[u]||h.unitName]),this.isFirst=p,this.isLast=f,r=i.labelFormatter.call({axis:i,chart:s,isFirst:p,isLast:f,dateTimeLabelFormat:e,value:i.isLog?t(i.lin2log(c)):c,pos:u}),n(l)?l&&l.attr({text:r}):(this.labelLength=(this.label=l=n(r)&&d.enabled?s.renderer.text(r,0,0,d.useHTML).css(a(d.style)).add(i.labelGroup):null)&&l.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(e){var t,n=this.axis,i=e.x,r=n.chart.chartWidth,a=n.chart.spacing,l=o(n.labelLeft,Math.min(n.pos,a[3])),a=o(n.labelRight,Math.max(n.pos+n.len,r-a[1])),c=this.label,u=this.rotation,d={left:0,center:.5,right:1}[n.labelAlign],h=c.getBBox().width,p=n.getSlotWidth(),f=p,g=1,m={};u?0>u&&i-d*h<l?t=Math.round(i/Math.cos(u*s)-l):0<u&&i+d*h>a&&(t=Math.round((r-i)/Math.cos(u*s))):(r=i+(1-d)*h,i-d*h<l?f=e.x+f*(1-d)-l:r>a&&(f=a-e.x+f*d,g=-1),f=Math.min(p,f),f<p&&"center"===n.labelAlign&&(e.x+=g*(p-f-d*(p-Math.min(h,f)))),(h>f||n.autoRotation&&(c.styles||{}).width)&&(t=f)),t&&(m.width=t,(n.options.labels.style||{}).textOverflow||(m.textOverflow="ellipsis"),c.css(m))},getPosition:function(e,t,n,i){var r=this.axis,a=r.chart,o=i&&a.oldChartHeight||a.chartHeight;return{x:e?r.translate(t+n,null,null,i)+r.transB:r.left+r.offset+(r.opposite?(i&&a.oldChartWidth||a.chartWidth)-r.right-r.left:0),y:e?o-r.bottom+r.offset-(r.opposite?r.height:0):o-r.translate(t+n,null,null,i)-r.transB}},getLabelPosition:function(e,t,i,r,a,o,l,c){var u=this.axis,d=u.transA,h=u.reversed,p=u.staggerLines,f=u.tickRotCorr||{x:0,y:0},g=a.y;return n(g)||(g=0===u.side?i.rotation?-8:-i.getBBox().height:2===u.side?f.y+8:Math.cos(i.rotation*s)*(f.y-i.getBBox(!1,0).height/2)),e=e+a.x+f.x-(o&&r?o*d*(h?-1:1):0),t=t+g-(o&&!r?o*d*(h?1:-1):0),p&&(i=l/(c||1)%p,u.opposite&&(i=p-i-1),t+=u.labelOffset/p*i),{x:e,y:Math.round(t)}},getMarkPath:function(e,t,n,i,r,a){return a.crispLine(["M",e,t,"L",e+(r?0:-n),t+(r?n:0)],i)},renderGridLine:function(e,t,n){var i=this.axis,r=i.options,a=this.gridLine,o={},s=this.pos,l=this.type,c=i.tickmarkOffset,u=i.chart.renderer,d=l?l+"Grid":"grid",h=r[d+"LineWidth"],p=r[d+"LineColor"],r=r[d+"LineDashStyle"];a||(o.stroke=p,o["stroke-width"]=h,r&&(o.dashstyle=r),l||(o.zIndex=1),e&&(o.opacity=0),this.gridLine=a=u.path().attr(o).addClass("highcharts-"+(l?l+"-":"")+"grid-line").add(i.gridGroup)),!e&&a&&(e=i.getPlotLinePath(s+c,a.strokeWidth()*n,e,!0))&&a[this.isNew?"attr":"animate"]({d:e,opacity:t})},renderMark:function(e,t,n){var i=this.axis,r=i.options,a=i.chart.renderer,s=this.type,l=s?s+"Tick":"tick",c=i.tickSize(l),u=this.mark,d=!u,h=e.x;e=e.y;var p=o(r[l+"Width"],!s&&i.isXAxis?1:0),r=r[l+"Color"];c&&(i.opposite&&(c[0]=-c[0]),d&&(this.mark=u=a.path().addClass("highcharts-"+(s?s+"-":"")+"tick").add(i.axisGroup),u.attr({stroke:r,"stroke-width":p})),u[d?"attr":"animate"]({d:this.getMarkPath(h,e,c[0],u.strokeWidth()*n,i.horiz,a),opacity:t}))},renderLabel:function(e,t,n,i){var a=this.axis,s=a.horiz,l=a.options,c=this.label,u=l.labels,d=u.step,h=a.tickmarkOffset,p=!0,f=e.x;e=e.y,c&&r(f)&&(c.xy=e=this.getLabelPosition(f,e,c,s,u,h,i,d),this.isFirst&&!this.isLast&&!o(l.showFirstLabel,1)||this.isLast&&!this.isFirst&&!o(l.showLastLabel,1)?p=!1:!s||a.isRadial||u.step||u.rotation||t||0===n||this.handleOverflow(e),d&&i%d&&(p=!1),p&&r(e.y)?(e.opacity=n,c[this.isNewLabel?"attr":"animate"](e),this.isNewLabel=!1):(c.attr("y",-9999),this.isNewLabel=!0),this.isNew=!1)},render:function(e,t,n){var i=this.axis,r=i.horiz,a=this.getPosition(r,this.pos,i.tickmarkOffset,t),s=a.x,l=a.y,i=r&&s===i.pos+i.len||!r&&l===i.pos?-1:1;n=o(n,1),this.isActive=!0,this.renderGridLine(t,n,i),this.renderMark(a,n,i),this.renderLabel(a,t,n,e)},destroy:function(){i(this,this.axis)}}}(e);var t=function(e){var t=e.addEvent,n=e.animObject,i=e.arrayMax,r=e.arrayMin,a=e.color,o=e.correctFloat,s=e.defaultOptions,l=e.defined,c=e.deg2rad,u=e.destroyObjectProperties,d=e.each,h=e.extend,p=e.fireEvent,f=e.format,g=e.getMagnitude,m=e.grep,v=e.inArray,b=e.isArray,y=e.isNumber,w=e.isString,x=e.merge,_=e.normalizeTickInterval,k=e.objectEach,C=e.pick,S=e.removeEvent,$=e.splat,D=e.syncTimeout,T=e.Tick,E=function(){this.init.apply(this,arguments)};return e.extend(E.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},minPadding:.01,maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return e.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(e,n){var i=n.isX,r=this;r.chart=e,r.horiz=e.inverted&&!r.isZAxis?!i:i,r.isXAxis=i,r.coll=r.coll||(i?"xAxis":"yAxis"),r.opposite=n.opposite,r.side=n.side||(r.horiz?r.opposite?0:2:r.opposite?1:3),r.setOptions(n);var a=this.options,o=a.type;r.labelFormatter=a.labels.formatter||r.defaultLabelFormatter,r.userOptions=n,r.minPixelPadding=0,r.reversed=a.reversed,r.visible=!1!==a.visible,r.zoomEnabled=!1!==a.zoomEnabled,r.hasNames="category"===o||!0===a.categories,r.categories=a.categories||r.hasNames,r.names=r.names||[],r.plotLinesAndBandsGroups={},r.isLog="logarithmic"===o,r.isDatetimeAxis="datetime"===o,r.positiveValuesOnly=r.isLog&&!r.allowNegativeLog,r.isLinked=l(a.linkedTo),r.ticks={},
r.labelEdge=[],r.minorTicks={},r.plotLinesAndBands=[],r.alternateBands={},r.len=0,r.minRange=r.userMinRange=a.minRange||a.maxZoom,r.range=a.range,r.offset=a.offset||0,r.stacks={},r.oldStacks={},r.stacksTouched=0,r.max=null,r.min=null,r.crosshair=C(a.crosshair,$(e.options.tooltip.crosshairs)[i?0:1],!1),n=r.options.events,-1===v(r,e.axes)&&(i?e.axes.splice(e.xAxis.length,0,r):e.axes.push(r),e[r.coll].push(r)),r.series=r.series||[],e.inverted&&!r.isZAxis&&i&&void 0===r.reversed&&(r.reversed=!0),k(n,function(e,n){t(r,n,e)}),r.lin2log=a.linearToLogConverter||r.lin2log,r.isLog&&(r.val2lin=r.log2lin,r.lin2val=r.lin2log)},setOptions:function(e){this.options=x(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],x(s[this.coll],e))},defaultLabelFormatter:function(){var t,n=this.axis,i=this.value,r=n.categories,a=this.dateTimeLabelFormat,o=s.lang,l=o.numericSymbols,o=o.numericSymbolMagnitude||1e3,c=l&&l.length,u=n.options.labels.format,n=n.isLog?Math.abs(i):n.tickInterval;if(u)t=f(u,this);else if(r)t=i;else if(a)t=e.dateFormat(a,i);else if(c&&1e3<=n)for(;c--&&void 0===t;)r=Math.pow(o,c+1),n>=r&&0==10*i%r&&null!==l[c]&&0!==i&&(t=e.numberFormat(i/r,-1)+l[c]);return void 0===t&&(t=1e4<=Math.abs(i)?e.numberFormat(i,-1):e.numberFormat(i,-1,void 0,"")),t},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.threshold=null,e.softThreshold=!e.isXAxis,e.buildStacks&&e.buildStacks(),d(e.series,function(n){if(n.visible||!t.options.chart.ignoreHiddenSeries){var a,o=n.options,s=o.threshold;e.hasVisibleSeries=!0,e.positiveValuesOnly&&0>=s&&(s=null),e.isXAxis?(o=n.xData,o.length&&(n=r(o),y(n)||n instanceof Date||(o=m(o,function(e){return y(e)}),n=r(o)),e.dataMin=Math.min(C(e.dataMin,o[0]),n),e.dataMax=Math.max(C(e.dataMax,o[0]),i(o)))):(n.getExtremes(),a=n.dataMax,n=n.dataMin,l(n)&&l(a)&&(e.dataMin=Math.min(C(e.dataMin,n),n),e.dataMax=Math.max(C(e.dataMax,a),a)),l(s)&&(e.threshold=s),(!o.softThreshold||e.positiveValuesOnly)&&(e.softThreshold=!1))}})},translate:function(e,t,n,i,r,a){var o=this.linkedParent||this,s=1,l=0,c=i?o.oldTransA:o.transA;i=i?o.oldMin:o.min;var u=o.minPixelPadding;return r=(o.isOrdinal||o.isBroken||o.isLog&&r)&&o.lin2val,c||(c=o.transA),n&&(s*=-1,l=o.len),o.reversed&&(s*=-1,l-=s*(o.sector||o.len)),t?(e=(e*s+l-u)/c+i,r&&(e=o.lin2val(e))):(r&&(e=o.val2lin(e)),e=s*(e-i)*c+l+s*u+(y(a)?c*a:0)),e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,n,i,r){var a,o,s,l=this.chart,c=this.left,u=this.top,d=n&&l.oldChartHeight||l.chartHeight,h=n&&l.oldChartWidth||l.chartWidth;a=this.transB;var p=function(e,t,n){return(e<t||e>n)&&(i?e=Math.min(Math.max(t,e),n):s=!0),e};return r=C(r,this.translate(e,null,null,n)),e=n=Math.round(r+a),a=o=Math.round(d-r-a),y(r)?this.horiz?(a=u,o=d-this.bottom,e=n=p(e,c,c+this.width)):(e=c,n=h-this.right,a=o=p(a,u,u+this.height)):s=!0,s&&!i?null:l.renderer.crispLine(["M",e,a,"L",n,o],t||1)},getLinearTickPositions:function(e,t,n){var i,r=o(Math.floor(t/e)*e);n=o(Math.ceil(n/e)*e);var a=[];if(this.single)return[t];for(t=r;t<=n&&(a.push(t),(t=o(t+e))!==i);)i=t;return a},getMinorTickPositions:function(){var e=this,t=e.options,n=e.tickPositions,i=e.minorTickInterval,r=[],a=e.pointRangePadding||0,o=e.min-a,a=e.max+a,s=a-o;if(s&&s/i<e.len/3)if(e.isLog)d(this.paddedTicks,function(t,n,a){n&&r.push.apply(r,e.getLogTickPositions(i,a[n-1],a[n],!0))});else if(e.isDatetimeAxis&&"auto"===t.minorTickInterval)r=r.concat(e.getTimeTicks(e.normalizeTimeTickInterval(i),o,a,t.startOfWeek));else for(t=o+(n[0]-o)%i;t<=a&&t!==r[0];t+=i)r.push(t);return 0!==r.length&&e.trimTicks(r),r},adjustForMinRange:function(){var e,t,n,a,o,s,c,u,h=this.options,p=this.min,f=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(l(h.min)||l(h.max)?this.minRange=null:(d(this.series,function(e){for(s=e.xData,a=c=e.xIncrement?1:s.length-1;0<a;a--)o=s[a]-s[a-1],(void 0===n||o<n)&&(n=o)}),this.minRange=Math.min(5*n,this.dataMax-this.dataMin))),f-p<this.minRange&&(t=this.dataMax-this.dataMin>=this.minRange,u=this.minRange,e=(u-f+p)/2,e=[p-e,C(h.min,p-e)],t&&(e[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),p=i(e),f=[p+u,C(h.max,p+u)],t&&(f[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(f=r(f))-p<u&&(e[0]=f-u,e[1]=C(h.min,f-u),p=i(e))),this.min=p,this.max=f},getClosest:function(){var e;return this.categories?e=1:d(this.series,function(t){var n=t.closestPointRange,i=t.visible||!t.chart.options.chart.ignoreHiddenSeries;!t.noSharedTooltip&&l(n)&&i&&(e=l(e)?Math.min(e,n):n)}),e},nameToX:function(e){var t,n=b(this.categories),i=n?this.categories:this.names,r=e.options.x;return e.series.requireSorting=!1,l(r)||(r=!1===this.options.uniqueNames?e.series.autoIncrement():v(e.name,i)),-1===r?n||(t=i.length):t=r,void 0!==t&&(this.names[t]=e.name),t},updateNames:function(){var e=this;0<this.names.length&&(this.names.length=0,this.minRange=this.userMinRange,d(this.series||[],function(t){t.xIncrement=null,t.points&&!t.isDirtyData||(t.processData(),t.generatePoints()),d(t.points,function(n,i){var r;n.options&&void 0!==(r=e.nameToX(n))&&r!==n.x&&(n.x=r,t.xData[i]=r)})}))},setAxisTranslation:function(e){var t,n=this,i=n.max-n.min,r=n.axisPointRange||0,a=0,o=0,s=n.linkedParent,l=!!n.categories,c=n.transA,u=n.isXAxis;(u||l||r)&&(t=n.getClosest(),s?(a=s.minPointOffset,o=s.pointRangePadding):d(n.series,function(e){var i=l?1:u?C(e.options.pointRange,t,0):n.axisPointRange||0;e=e.options.pointPlacement,r=Math.max(r,i),n.single||(a=Math.max(a,w(e)?0:i/2),o=Math.max(o,"on"===e?0:i))}),s=n.ordinalSlope&&t?n.ordinalSlope/t:1,n.minPointOffset=a*=s,n.pointRangePadding=o*=s,n.pointRange=Math.min(r,i),u&&(n.closestPointRange=t)),e&&(n.oldTransA=c),n.translationSlope=n.transA=c=n.options.staticScale||n.len/(i+o||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=c*a},minFromRange:function(){return this.max-this.range},setTickInterval:function(t){var n,i,r,a,s=this,c=s.chart,u=s.options,h=s.isLog,f=s.log2lin,m=s.isDatetimeAxis,v=s.isXAxis,b=s.isLinked,w=u.maxPadding,x=u.minPadding,k=u.tickInterval,S=u.tickPixelInterval,$=s.categories,D=s.threshold,T=s.softThreshold;m||$||b||this.getTickAmount(),r=C(s.userMin,u.min),a=C(s.userMax,u.max),b?(s.linkedParent=c[s.coll][u.linkedTo],c=s.linkedParent.getExtremes(),s.min=C(c.min,c.dataMin),s.max=C(c.max,c.dataMax),u.type!==s.linkedParent.options.type&&e.error(11,1)):(!T&&l(D)&&(s.dataMin>=D?(n=D,x=0):s.dataMax<=D&&(i=D,w=0)),s.min=C(r,n,s.dataMin),s.max=C(a,i,s.dataMax)),h&&(s.positiveValuesOnly&&!t&&0>=Math.min(s.min,C(s.dataMin,s.min))&&e.error(10,1),s.min=o(f(s.min),15),s.max=o(f(s.max),15)),s.range&&l(s.max)&&(s.userMin=s.min=r=Math.max(s.dataMin,s.minFromRange()),s.userMax=a=s.max,s.range=null),p(s,"foundExtremes"),s.beforePadding&&s.beforePadding(),s.adjustForMinRange(),!($||s.axisPointRange||s.usePercentage||b)&&l(s.min)&&l(s.max)&&(f=s.max-s.min)&&(!l(r)&&x&&(s.min-=f*x),!l(a)&&w&&(s.max+=f*w)),y(u.softMin)&&(s.min=Math.min(s.min,u.softMin)),y(u.softMax)&&(s.max=Math.max(s.max,u.softMax)),y(u.floor)&&(s.min=Math.max(s.min,u.floor)),y(u.ceiling)&&(s.max=Math.min(s.max,u.ceiling)),T&&l(s.dataMin)&&(D=D||0,!l(r)&&s.min<D&&s.dataMin>=D?s.min=D:!l(a)&&s.max>D&&s.dataMax<=D&&(s.max=D)),s.tickInterval=s.min===s.max||void 0===s.min||void 0===s.max?1:b&&!k&&S===s.linkedParent.options.tickPixelInterval?k=s.linkedParent.tickInterval:C(k,this.tickAmount?(s.max-s.min)/Math.max(this.tickAmount-1,1):void 0,$?1:(s.max-s.min)*S/Math.max(s.len,S)),v&&!t&&d(s.series,function(e){e.processData(s.min!==s.oldMin||s.max!==s.oldMax)}),s.setAxisTranslation(!0),s.beforeSetTickPositions&&s.beforeSetTickPositions(),s.postProcessTickInterval&&(s.tickInterval=s.postProcessTickInterval(s.tickInterval)),s.pointRange&&!k&&(s.tickInterval=Math.max(s.pointRange,s.tickInterval)),t=C(u.minTickInterval,s.isDatetimeAxis&&s.closestPointRange),!k&&s.tickInterval<t&&(s.tickInterval=t),m||h||k||(s.tickInterval=_(s.tickInterval,null,g(s.tickInterval),C(u.allowDecimals,!(.5<s.tickInterval&&5>s.tickInterval&&1e3<s.max&&9999>s.max)),!!this.tickAmount)),this.tickAmount||(s.tickInterval=s.unsquish()),this.setTickPositions()},setTickPositions:function(){var e,t=this.options,n=t.tickPositions,i=t.tickPositioner,r=t.startOnTick,a=t.endOnTick;this.tickmarkOffset=this.categories&&"between"===t.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===t.minorTickInterval&&this.tickInterval?this.tickInterval/5:t.minorTickInterval,this.single=this.min===this.max&&l(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==t.allowDecimals),this.tickPositions=e=n&&n.slice(),!e&&(e=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,t.units),this.min,this.max,t.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),e.length>this.len&&(e=[e[0],e.pop()]),this.tickPositions=e,i&&(i=i.apply(this,[this.min,this.max])))&&(this.tickPositions=e=i),this.paddedTicks=e.slice(0),this.trimTicks(e,r,a),this.isLinked||(this.single&&2>e.length&&(this.min-=.5,this.max+=.5),n||i||this.adjustTickAmount())},trimTicks:function(e,t,n){var i=e[0],r=e[e.length-1],a=this.minPointOffset||0;if(!this.isLinked){if(t&&-1/0!==i)this.min=i;else for(;this.min-a>e[0];)e.shift();if(n)this.max=r;else for(;this.max+a<e[e.length-1];)e.pop();0===e.length&&l(i)&&e.push((r+i)/2)}},alignToOthers:function(){var e,t={},n=this.options;return!1===this.chart.options.chart.alignTicks||!1===n.alignTicks||this.isLog||d(this.chart[this.coll],function(n){var i=n.options,i=[n.horiz?i.left:i.top,i.width,i.height,i.pane].join();n.series.length&&(t[i]?e=!0:t[i]=1)}),e},getTickAmount:function(){var e=this.options,t=e.tickAmount,n=e.tickPixelInterval;!l(e.tickInterval)&&this.len<n&&!this.isRadial&&!this.isLog&&e.startOnTick&&e.endOnTick&&(t=2),!t&&this.alignToOthers()&&(t=Math.ceil(this.len/n)+1),4>t&&(this.finalTickAmt=t,t=5),this.tickAmount=t},adjustTickAmount:function(){var e=this.tickInterval,t=this.tickPositions,n=this.tickAmount,i=this.finalTickAmt,r=t&&t.length;if(r<n){for(;t.length<n;)t.push(o(t[t.length-1]+e));this.transA*=(r-1)/(n-1),this.max=t[t.length-1]}else r>n&&(this.tickInterval*=2,this.setTickPositions());if(l(i)){for(e=n=t.length;e--;)(3===i&&1==e%2||2>=i&&0<e&&e<n-1)&&t.splice(e,1);this.finalTickAmt=void 0}},setScale:function(){var e,t;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),t=this.len!==this.oldAxisLength,d(this.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(e=!0)}),t||e||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=t||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks()},setExtremes:function(e,t,n,i,r){var a=this,o=a.chart;n=C(n,!0),d(a.series,function(e){delete e.kdTree}),r=h(r,{min:e,max:t}),p(a,"setExtremes",r,function(){a.userMin=e,a.userMax=t,a.eventArgs=r,n&&o.redraw(i)})},zoom:function(e,t){var n=this.dataMin,i=this.dataMax,r=this.options,a=Math.min(n,C(r.min,n)),r=Math.max(i,C(r.max,i));return e===this.min&&t===this.max||(this.allowZoomOutside||(l(n)&&(e<a&&(e=a),e>r&&(e=r)),l(i)&&(t<a&&(t=a),t>r&&(t=r))),this.displayBtn=void 0!==e||void 0!==t,this.setExtremes(e,t,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var t=this.chart,n=this.options,i=n.offsets||[0,0,0,0],r=this.horiz,a=this.width=Math.round(e.relativeLength(C(n.width,t.plotWidth-i[3]+i[1]),t.plotWidth)),o=this.height=Math.round(e.relativeLength(C(n.height,t.plotHeight-i[0]+i[2]),t.plotHeight)),s=this.top=Math.round(e.relativeLength(C(n.top,t.plotTop+i[0]),t.plotHeight,t.plotTop)),n=this.left=Math.round(e.relativeLength(C(n.left,t.plotLeft+i[3]),t.plotWidth,t.plotLeft));this.bottom=t.chartHeight-o-s,this.right=t.chartWidth-a-n,this.len=Math.max(r?a:o,0),this.pos=r?n:s},getExtremes:function(){var e=this.isLog,t=this.lin2log;return{min:e?o(t(this.min)):this.min,max:e?o(t(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,n=this.lin2log,i=t?n(this.min):this.min,t=t?n(this.max):this.max;return null===e?e=i:i>e?e=i:t<e&&(e=t),this.translate(e,0,1,0,1)},autoLabelAlign:function(e){return e=(C(e,0)-90*this.side+720)%360,15<e&&165>e?"right":195<e&&345>e?"left":"center"},tickSize:function(e){var t=this.options,n=t[e+"Length"],i=C(t[e+"Width"],"tick"===e&&this.isXAxis?1:0);if(i&&n)return"inside"===t[e+"Position"]&&(n=-n),[n,i]},labelMetrics:function(){var e=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[e]&&this.ticks[e].label)},unsquish:function(){var e,t,n,i=this.options.labels,r=this.horiz,a=this.tickInterval,o=a,s=this.len/(((this.categories?1:0)+this.max-this.min)/a),u=i.rotation,h=this.labelMetrics(),p=Number.MAX_VALUE,f=function(e){return e/=s||1,(e=1<e?Math.ceil(e):1)*a};return r?(n=!i.staggerLines&&!i.step&&(l(u)?[u]:s<C(i.autoRotationLimit,80)&&i.autoRotation))&&d(n,function(n){var i;(n===u||n&&-90<=n&&90>=n)&&(t=f(Math.abs(h.h/Math.sin(c*n))),(i=t+Math.abs(n/360))<p&&(p=i,e=n,o=t))}):i.step||(o=f(h.h)),this.autoRotation=n,this.labelRotation=C(e,u),o},getSlotWidth:function(){var e=this.chart,t=this.horiz,n=this.options.labels,i=Math.max(this.tickPositions.length-(this.categories?0:1),1),r=e.margin[3];return t&&2>(n.step||0)&&!n.rotation&&(this.staggerLines||1)*this.len/i||!t&&(r&&r-e.spacing[3]||.33*e.chartWidth)},renderUnsquish:function(){var e,t,n,i=this.chart,r=i.renderer,a=this.tickPositions,o=this.ticks,s=this.options.labels,l=this.horiz,c=this.getSlotWidth(),u=Math.max(1,Math.round(c-2*(s.padding||5))),h={},p=this.labelMetrics(),f=s.style&&s.style.textOverflow,g=0;if(w(s.rotation)||(h.rotation=s.rotation||0),d(a,function(e){(e=o[e])&&e.labelLength>g&&(g=e.labelLength)}),this.maxLabelLength=g,this.autoRotation)g>u&&g>p.h?h.rotation=this.labelRotation:this.labelRotation=0;else if(c&&(e={width:u+"px"},!f))for(e.textOverflow="clip",t=a.length;!l&&t--;)n=a[t],(u=o[n].label)&&(u.styles&&"ellipsis"===u.styles.textOverflow?u.css({textOverflow:"clip"}):o[n].labelLength>c&&u.css({width:c+"px"}),u.getBBox().height>this.len/a.length-(p.h-p.f)&&(u.specCss={textOverflow:"ellipsis"}));h.rotation&&(e={width:(g>.5*i.chartHeight?.33*i.chartHeight:i.chartHeight)+"px"},f||(e.textOverflow="ellipsis")),(this.labelAlign=s.align||this.autoLabelAlign(this.labelRotation))&&(h.align=this.labelAlign),d(a,function(t){var n=(t=o[t])&&t.label;n&&(n.attr(h),e&&n.css(x(e,n.specCss)),delete n.specCss,t.rotation=h.rotation)}),this.tickRotCorr=r.rotCorr(p.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||l(this.min)&&l(this.max)&&!!this.tickPositions},addTitle:function(e){var t,n=this.chart.renderer,i=this.horiz,r=this.opposite,a=this.options.title;this.axisTitle||((t=a.textAlign)||(t=(i?{low:"left",middle:"center",high:"right"}:{low:r?"right":"left",middle:"center",high:r?"left":"right"})[a.align]),this.axisTitle=n.text(a.text,0,0,a.useHTML).attr({zIndex:7,rotation:a.rotation||0,align:t}).addClass("highcharts-axis-title").css(a.style).add(this.axisGroup),this.axisTitle.isNew=!0),a.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[e?"show":"hide"](!0)},generateTick:function(e){var t=this.ticks;t[e]?t[e].addLabel():t[e]=new T(this,e)},getOffset:function(){var e,t,n,i=this,r=i.chart,a=r.renderer,o=i.options,s=i.tickPositions,c=i.ticks,u=i.horiz,h=i.side,p=r.inverted&&!i.isZAxis?[1,0,3,2][h]:h,f=0,g=0,m=o.title,v=o.labels,b=0,y=r.axisOffset,r=r.clipOffset,w=[-1,1,1,-1][h],x=o.className,_=i.axisParent,S=this.tickSize("tick");e=i.hasData(),i.showAxis=t=e||C(o.showEmpty,!0),i.staggerLines=i.horiz&&v.staggerLines,i.axisGroup||(i.gridGroup=a.g("grid").attr({zIndex:o.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(x||"")).add(_),i.axisGroup=a.g("axis").attr({zIndex:o.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(x||"")).add(_),i.labelGroup=a.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+i.coll.toLowerCase()+"-labels "+(x||"")).add(_)),e||i.isLinked?(d(s,function(e,t){i.generateTick(e,t)}),i.renderUnsquish(),!1===v.reserveSpace||0!==h&&2!==h&&{1:"left",3:"right"}[h]!==i.labelAlign&&"center"!==i.labelAlign||d(s,function(e){b=Math.max(c[e].getLabelSize(),b)}),i.staggerLines&&(b*=i.staggerLines,i.labelOffset=b*(i.opposite?-1:1))):k(c,function(e,t){e.destroy(),delete c[t]}),m&&m.text&&!1!==m.enabled&&(i.addTitle(t),t&&!1!==m.reserveSpace&&(i.titleOffset=f=i.axisTitle.getBBox()[u?"height":"width"],n=m.offset,g=l(n)?0:C(m.margin,u?5:10))),i.renderLine(),i.offset=w*C(o.offset,y[h]),i.tickRotCorr=i.tickRotCorr||{x:0,y:0},a=0===h?-i.labelMetrics().h:2===h?i.tickRotCorr.y:0,g=Math.abs(b)+g,b&&(g=g-a+w*(u?C(v.y,i.tickRotCorr.y+8*w):v.x)),i.axisTitleMargin=C(n,g),y[h]=Math.max(y[h],i.axisTitleMargin+f+w*i.offset,g,e&&s.length&&S?S[0]+w*i.offset:0),s=2*Math.floor(i.axisLine.strokeWidth()/2),0<o.offset&&(s-=2*o.offset),r[p]=Math.max(r[p]||s,s)},getLinePath:function(e){var t=this.chart,n=this.opposite,i=this.offset,r=this.horiz,a=this.left+(n?this.width:0)+i,i=t.chartHeight-this.bottom-(n?this.height:0)+i;return n&&(e*=-1),t.renderer.crispLine(["M",r?this.left:a,r?i:this.top,"L",r?t.chartWidth-this.right:a,r?i:t.chartHeight-this.bottom],e)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var e=this.horiz,t=this.left,n=this.top,i=this.len,r=this.options.title,a=e?t:n,o=this.opposite,s=this.offset,l=r.x||0,c=r.y||0,u=this.axisTitle,d=this.chart.renderer.fontMetrics(r.style&&r.style.fontSize,u),u=Math.max(u.getBBox(null,0).height-d.h-1,0),i={low:a+(e?0:i),middle:a+i/2,high:a+(e?i:0)}[r.align],t=(e?n+this.height:t)+(e?1:-1)*(o?-1:1)*this.axisTitleMargin+[-u,u,d.f,-u][this.side];return{x:e?i+l:t+(o?this.width:0)+s+l,y:e?t+c-(o?this.height:0)+s:i+c}},renderMinorTick:function(e){var t=this.chart.hasRendered&&y(this.oldMin),n=this.minorTicks;n[e]||(n[e]=new T(this,e,"minor")),t&&n[e].isNew&&n[e].render(null,!0),n[e].render(null,!1,1)},renderTick:function(e,t){var n=this.isLinked,i=this.ticks,r=this.chart.hasRendered&&y(this.oldMin);(!n||e>=this.min&&e<=this.max)&&(i[e]||(i[e]=new T(this,e)),r&&i[e].isNew&&i[e].render(t,!0,.1),i[e].render(t))},render:function(){var t,i,r=this,a=r.chart,o=r.options,s=r.isLog,l=r.lin2log,c=r.isLinked,u=r.tickPositions,h=r.axisTitle,p=r.ticks,f=r.minorTicks,g=r.alternateBands,m=o.stackLabels,v=o.alternateGridColor,b=r.tickmarkOffset,w=r.axisLine,x=r.showAxis,_=n(a.renderer.globalAnimation);r.labelEdge.length=0,r.overlap=!1,d([p,f,g],function(e){k(e,function(e){e.isActive=!1})}),(r.hasData()||c)&&(r.minorTickInterval&&!r.categories&&d(r.getMinorTickPositions(),function(e){r.renderMinorTick(e)}),u.length&&(d(u,function(e,t){r.renderTick(e,t)}),b&&(0===r.min||r.single)&&(p[-1]||(p[-1]=new T(r,-1,null,!0)),p[-1].render(-1))),v&&d(u,function(n,o){i=void 0!==u[o+1]?u[o+1]+b:r.max-b,0==o%2&&n<r.max&&i<=r.max+(a.polar?-b:b)&&(g[n]||(g[n]=new e.PlotLineOrBand(r)),t=n+b,g[n].options={from:s?l(t):t,to:s?l(i):i,color:v},g[n].render(),g[n].isActive=!0)}),r._addedPlotLB||(d((o.plotLines||[]).concat(o.plotBands||[]),function(e){r.addPlotBandOrLine(e)}),r._addedPlotLB=!0)),d([p,f,g],function(e){var t,n=[],i=_.duration;k(e,function(e,t){e.isActive||(e.render(t,!1,0),e.isActive=!1,n.push(t))}),D(function(){for(t=n.length;t--;)e[n[t]]&&!e[n[t]].isActive&&(e[n[t]].destroy(),delete e[n[t]])},e!==g&&a.hasRendered&&i?i:0)}),w&&(w[w.isPlaced?"animate":"attr"]({d:this.getLinePath(w.strokeWidth())}),w.isPlaced=!0,w[x?"show":"hide"](!0)),h&&x&&(o=r.getTitlePosition(),y(o.y)?(h[h.isNew?"attr":"animate"](o),h.isNew=!1):(h.attr("y",-9999),h.isNew=!0)),m&&m.enabled&&r.renderStackTotals(),r.isDirty=!1},redraw:function(){this.visible&&(this.render(),d(this.plotLinesAndBands,function(e){e.render()})),d(this.series,function(e){e.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(e){var t,n=this,i=n.stacks,r=n.plotLinesAndBands;if(e||S(n),k(i,function(e,t){u(e),i[t]=null}),d([n.ticks,n.minorTicks,n.alternateBands],function(e){u(e)}),r)for(e=r.length;e--;)r[e].destroy();d("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross".split(" "),function(e){n[e]&&(n[e]=n[e].destroy())});for(t in n.plotLinesAndBandsGroups)n.plotLinesAndBandsGroups[t]=n.plotLinesAndBandsGroups[t].destroy();k(n,function(e,t){-1===v(t,n.keepProps)&&delete n[t]})},drawCrosshair:function(e,t){var n,i,r=this.crosshair,o=C(r.snap,!0),s=this.cross;e||(e=this.cross&&this.cross.e),this.crosshair&&!1!==(l(t)||!o)?(o?l(t)&&(i=this.isXAxis?t.plotX:this.len-t.plotY):i=e&&(this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos),l(i)&&(n=this.getPlotLinePath(t&&(this.isXAxis?t.x:C(t.stackY,t.y)),null,null,null,i)||null),l(n)?(t=this.categories&&!this.isRadial,s||(this.cross=s=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(t?"category ":"thin ")+r.className).attr({zIndex:C(r.zIndex,2)}).add(),s.attr({stroke:r.color||(t?a("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":C(r.width,1)}),r.dashStyle&&s.attr({dashstyle:r.dashStyle})),s.show().attr({d:n}),t&&!r.width&&s.attr({"stroke-width":this.transA}),this.cross.e=e):this.hideCrosshair()):this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}}),e.Axis=E}(e);return function(e){var t=e.Axis,n=e.Date,i=e.dateFormat,r=e.defaultOptions,a=e.defined,o=e.each,s=e.extend,l=e.getMagnitude,c=e.getTZOffset,u=e.normalizeTickInterval,d=e.pick,h=e.timeUnits;t.prototype.getTimeTicks=function(e,t,l,u){var p,f,g,m=[],v={},b=r.global.useUTC,y=new n(t-Math.max(c(t),c(l))),w=n.hcMakeTime,x=e.unitRange,_=e.count;if(a(t)){y[n.hcSetMilliseconds](x>=h.second?0:_*Math.floor(y.getMilliseconds()/_)),x>=h.second&&y[n.hcSetSeconds](x>=h.minute?0:_*Math.floor(y.getSeconds()/_)),x>=h.minute&&y[n.hcSetMinutes](x>=h.hour?0:_*Math.floor(y[n.hcGetMinutes]()/_)),x>=h.hour&&y[n.hcSetHours](x>=h.day?0:_*Math.floor(y[n.hcGetHours]()/_)),x>=h.day&&y[n.hcSetDate](x>=h.month?1:_*Math.floor(y[n.hcGetDate]()/_)),x>=h.month&&(y[n.hcSetMonth](x>=h.year?0:_*Math.floor(y[n.hcGetMonth]()/_)),p=y[n.hcGetFullYear]()),x>=h.year&&y[n.hcSetFullYear](p-p%_),x===h.week&&y[n.hcSetDate](y[n.hcGetDate]()-y[n.hcGetDay]()+d(u,1)),p=y[n.hcGetFullYear](),u=y[n.hcGetMonth]();var k=y[n.hcGetDate](),C=y[n.hcGetHours]();for((n.hcTimezoneOffset||n.hcGetTimezoneOffset)&&(g=(!b||!!n.hcGetTimezoneOffset)&&(l-t>4*h.month||c(t)!==c(l)),y=y.getTime(),f=c(y),y=new n(y+f)),b=y.getTime(),t=1;b<l;)m.push(b),b=x===h.year?w(p+t*_,0):x===h.month?w(p,u+t*_):!g||x!==h.day&&x!==h.week?g&&x===h.hour?w(p,u,k,C+t*_,0,0,f)-f:b+x*_:w(p,u,k+t*_*(x===h.day?1:7)),t++;m.push(b),x<=h.hour&&1e4>m.length&&o(m,function(e){0==e%18e5&&"000000000"===i("%H%M%S%L",e)&&(v[e]="day")})}return m.info=s(e,{higherRanks:v,totalRange:x*_}),m},t.prototype.normalizeTimeTickInterval=function(e,t){var n=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];t=n[n.length-1];var i,r=h[t[0]],a=t[1];for(i=0;i<n.length&&(t=n[i],r=h[t[0]],a=t[1],!(n[i+1]&&e<=(r*a[a.length-1]+h[n[i+1][0]])/2));i++);return r===h.year&&e<5*r&&(a=[1,2,5]),e=u(e/r,a,"year"===t[0]?Math.max(l(e/r),1):1),{unitRange:r,count:e,unitName:t[0]}}}(e),function(e){var t=e.Axis,n=e.getMagnitude,i=e.map,r=e.normalizeTickInterval,a=e.pick;t.prototype.getLogTickPositions=function(e,t,o,s){var l=this.options,c=this.len,u=this.lin2log,d=this.log2lin,h=[];if(s||(this._minorAutoInterval=null),.5<=e)e=Math.round(e),h=this.getLinearTickPositions(e,t,o);else if(.08<=e)for(var p,f,g,m,v,c=Math.floor(t),l=.3<e?[1,2,4]:.15<e?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];c<o+1&&!v;c++)for(f=l.length,p=0;p<f&&!v;p++)g=d(u(c)*l[p]),g>t&&(!s||m<=o)&&void 0!==m&&h.push(m),m>o&&(v=!0),m=g;else t=u(t),o=u(o),e=l[s?"minorTickInterval":"tickInterval"],e=a("auto"===e?null:e,this._minorAutoInterval,l.tickPixelInterval/(s?5:1)*(o-t)/((s?c/this.tickPositions.length:c)||1)),e=r(e,null,n(e)),h=i(this.getLinearTickPositions(e,t,o),d),s||(this._minorAutoInterval=e/5);return s||(this.tickInterval=e),h},t.prototype.log2lin=function(e){return Math.log(e)/Math.LN10},t.prototype.lin2log=function(e){return Math.pow(10,e)}}(e),function(e,t){var n=e.arrayMax,i=e.arrayMin,r=e.defined,a=e.destroyObjectProperties,o=e.each,s=e.erase,l=e.merge,c=e.pick;e.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},e.PlotLineOrBand.prototype={render:function(){var t=this,n=t.axis,i=n.horiz,a=t.options,o=a.label,s=t.label,u=a.to,d=a.from,h=a.value,p=r(d)&&r(u),f=r(h),g=t.svgElem,m=!g,v=[],b=a.color,y=c(a.zIndex,0),w=a.events,v={class:"highcharts-plot-"+(p?"band ":"line ")+(a.className||"")},x={},_=n.chart.renderer,k=p?"bands":"lines",C=n.log2lin;if(n.isLog&&(d=C(d),u=C(u),h=C(h)),f?(v={stroke:b,"stroke-width":a.width},a.dashStyle&&(v.dashstyle=a.dashStyle)):p&&(b&&(v.fill=b),a.borderWidth&&(v.stroke=a.borderColor,v["stroke-width"]=a.borderWidth)),x.zIndex=y,k+="-"+y,(b=n.plotLinesAndBandsGroups[k])||(n.plotLinesAndBandsGroups[k]=b=_.g("plot-"+k).attr(x).add()),m&&(t.svgElem=g=_.path().attr(v).add(b)),f)v=n.getPlotLinePath(h,g.strokeWidth());else{if(!p)return;v=n.getPlotBandPath(d,u,a)}return m&&v&&v.length?(g.attr({d:v}),w&&e.objectEach(w,function(e,n){g.on(n,function(e){w[n].apply(t,[e])})})):g&&(v?(g.show(),g.animate({d:v})):(g.hide(),s&&(t.label=s=s.destroy()))),o&&r(o.text)&&v&&v.length&&0<n.width&&0<n.height&&!v.flat?(o=l({align:i&&p&&"center",x:i?!p&&4:10,verticalAlign:!i&&p&&"middle",y:i?p?16:10:p?6:-4,rotation:i&&!p&&90},o),this.renderLabel(o,v,p,y)):s&&s.hide(),t},renderLabel:function(e,t,r,a){var o=this.label,s=this.axis.chart.renderer;o||(o={align:e.textAlign||e.align,rotation:e.rotation,class:"highcharts-plot-"+(r?"band":"line")+"-label "+(e.className||"")},o.zIndex=a,this.label=o=s.text(e.text,0,0,e.useHTML).attr(o).add(),o.css(e.style)),a=[t[1],t[4],r?t[6]:t[1]],t=[t[2],t[5],r?t[7]:t[2]],r=i(a),s=i(t),o.align(e,!1,{x:r,y:s,width:n(a)-r,height:n(t)-s}),o.show()},destroy:function(){s(this.axis.plotLinesAndBands,this),delete this.axis,a(this)}},e.extend(t.prototype,{getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t,null,null,!0),i=this.getPlotLinePath(e,null,null,!0),r=this.horiz,a=1;return e=e<this.min&&t<this.min||e>this.max&&t>this.max,i&&n?(e&&(i.flat=i.toString()===n.toString(),a=0),i.push(r&&n[4]===i[4]?n[4]+a:n[4],r||n[5]!==i[5]?n[5]:n[5]+a,r&&n[1]===i[1]?n[1]+a:n[1],r||n[2]!==i[2]?n[2]:n[2]+a)):i=null,i},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(t,n){var i=new e.PlotLineOrBand(this,t).render(),r=this.userOptions;return i&&(n&&(r[n]=r[n]||[],r[n].push(t)),this.plotLinesAndBands.push(i)),i},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,n=this.options,i=this.userOptions,r=t.length;r--;)t[r].id===e&&t[r].destroy();o([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],function(t){for(r=t.length;r--;)t[r].id===e&&s(t,t[r])})},removePlotBand:function(e){this.removePlotBandOrLine(e)},removePlotLine:function(e){this.removePlotBandOrLine(e)}})}(e,t),function(e){var t=e.dateFormat,n=e.each,i=e.extend,r=e.format,a=e.isNumber,o=e.map,s=e.merge,l=e.pick,c=e.splat,u=e.syncTimeout,d=e.timeUnits;e.Tooltip=function(){this.init.apply(this,arguments)},e.Tooltip.prototype={init:function(e,t){this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=t.split&&!e.inverted,this.shared=t.shared||this.split},cleanSplit:function(e){n(this.chart.series,function(t){var n=t&&t.tt;n&&(!n.isActive||e?t.tt=n.destroy():n.isActive=!1)})},getLabel:function(){var e=this.chart.renderer,t=this.options;return this.label||(this.split?this.label=e.g("tooltip"):(this.label=e.label("",0,0,t.shape||"callout",null,null,t.useHTML,null,"tooltip").attr({padding:t.padding,r:t.borderRadius}),this.label.attr({fill:t.backgroundColor,"stroke-width":t.borderWidth}).css(t.style).shadow(t.shadow)),this.label.attr({zIndex:8}).add()),this.label},update:function(e){this.destroy(),s(!0,this.chart.options.tooltip.userOptions,e),this.init(this.chart,s(!0,this.options,e))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,t,n,r){var a=this,o=a.now,s=!1!==a.options.animation&&!a.isHidden&&(1<Math.abs(e-o.x)||1<Math.abs(t-o.y)),l=a.followPointer||1<a.len;i(o,{x:s?(2*o.x+e)/3:e,y:s?(o.y+t)/2:t,anchorX:l?void 0:s?(2*o.anchorX+n)/3:n,anchorY:l?void 0:s?(o.anchorY+r)/2:r}),a.getLabel().attr(o),s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){a&&a.move(e,t,n,r)},32))},hide:function(e){var t=this;clearTimeout(this.hideTimer),e=l(e,this.options.hideDelay,500),this.isHidden||(this.hideTimer=u(function(){t.getLabel()[e?"fadeOut":"hide"](),t.isHidden=!0},e))},getAnchor:function(e,t){var i,r,a,s=this.chart,l=s.inverted,u=s.plotTop,d=s.plotLeft,h=0,p=0;return e=c(e),i=e[0].tooltipPos,this.followPointer&&t&&(void 0===t.chartX&&(t=s.pointer.normalize(t)),i=[t.chartX-s.plotLeft,t.chartY-u]),i||(n(e,function(e){r=e.series.yAxis,a=e.series.xAxis,h+=e.plotX+(!l&&a?a.left-d:0),p+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!l&&r?r.top-u:0)}),h/=e.length,p/=e.length,i=[l?s.plotWidth-p:h,this.shared&&!l&&1<e.length&&t?t.chartY-u:l?s.plotHeight-h:p]),o(i,Math.round)},getPosition:function(e,t,n){var i,r=this.chart,a=this.distance,o={},s=n.h||0,c=["y",r.chartHeight,t,n.plotY+r.plotTop,r.plotTop,r.plotTop+r.plotHeight],u=["x",r.chartWidth,e,n.plotX+r.plotLeft,r.plotLeft,r.plotLeft+r.plotWidth],d=!this.followPointer&&l(n.ttBelow,!r.inverted==!!n.negative),h=function(e,t,n,i,r,l){var c=n<i-a,u=i+a+n<t,h=i-a-n;if(i+=a,d&&u)o[e]=i;else if(!d&&c)o[e]=h;else if(c)o[e]=Math.min(l-n,0>h-s?h:h-s);else{if(!u)return!1;o[e]=Math.max(r,i+s+n>t?i:i+s)}},p=function(e,t,n,i){var r;return i<a||i>t-a?r=!1:o[e]=i<n/2?1:i>t-n/2?t-n-2:i-n/2,r},f=function(e){var t=c;c=u,u=t,i=e},g=function(){!1!==h.apply(0,c)?!1!==p.apply(0,u)||i||(f(!0),g()):i?o.x=o.y=0:(f(!0),g())};return(r.inverted||1<this.len)&&f(),g(),o},defaultFormatter:function(e){var t,n=this.points||c(this);return t=[e.tooltipFooterHeaderFormatter(n[0])],t=t.concat(e.bodyFormatter(n)),t.push(e.tooltipFooterHeaderFormatter(n[0],!0)),t},refresh:function(e,t){var i,r,a,o=this.options,s=e,u={},d=[];i=o.formatter||this.defaultFormatter;var h,u=this.shared;o.enabled&&(clearTimeout(this.hideTimer),this.followPointer=c(s)[0].series.tooltipOptions.followPointer,a=this.getAnchor(s,t),t=a[0],r=a[1],!u||s.series&&s.series.noSharedTooltip?u=s.getLabelConfig():(n(s,function(e){e.setState("hover"),d.push(e.getLabelConfig())}),u={x:s[0].category,y:s[0].y},u.points=d,s=s[0]),this.len=d.length,u=i.call(u,this),h=s.series,this.distance=l(h.tooltipOptions.distance,16),!1===u?this.hide():(i=this.getLabel(),this.isHidden&&i.attr({opacity:1}).show(),
this.split?this.renderSplit(u,e):(o.style.width||i.css({width:this.chart.spacingBox.width}),i.attr({text:u&&u.join?u.join(""):u}),i.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+l(s.colorIndex,h.colorIndex)),i.attr({stroke:o.borderColor||s.color||h.color||"#666666"}),this.updatePosition({plotX:t,plotY:r,negative:s.negative,ttBelow:s.ttBelow,h:a[2]||0})),this.isHidden=!1))},renderSplit:function(t,i){var r=this,a=[],o=this.chart,s=o.renderer,c=!0,u=this.options,d=0,h=this.getLabel();n(t.slice(0,i.length+1),function(e,t){if(!1!==e){t=i[t-1]||{isHeader:!0,plotX:i[0].plotX};var n=t.series||r,p=n.tt,f=t.series||{},g="highcharts-color-"+l(t.colorIndex,f.colorIndex,"none");p||(n.tt=p=s.label(null,null,null,"callout").addClass("highcharts-tooltip-box "+g).attr({padding:u.padding,r:u.borderRadius,fill:u.backgroundColor,stroke:u.borderColor||t.color||f.color||"#333333","stroke-width":u.borderWidth}).add(h)),p.isActive=!0,p.attr({text:e}),p.css(u.style).shadow(u.shadow),e=p.getBBox(),f=e.width+p.strokeWidth(),t.isHeader?(d=e.height,f=Math.max(0,Math.min(t.plotX+o.plotLeft-f/2,o.chartWidth-f))):f=t.plotX+o.plotLeft-l(u.distance,16)-f,0>f&&(c=!1),e=(t.series&&t.series.yAxis&&t.series.yAxis.pos)+(t.plotY||0),e-=o.plotTop,a.push({target:t.isHeader?o.plotHeight+d:e,rank:t.isHeader?1:0,size:n.tt.getBBox().height+1,point:t,x:f,tt:p})}}),this.cleanSplit(),e.distribute(a,o.plotHeight+d),n(a,function(e){var t=e.point,n=t.series;e.tt.attr({visibility:void 0===e.pos?"hidden":"inherit",x:c||t.isHeader?e.x:t.plotX+o.plotLeft+l(u.distance,16),y:e.pos+o.plotTop,anchorX:t.isHeader?t.plotX+o.plotLeft:t.plotX+n.xAxis.pos,anchorY:t.isHeader?e.pos+o.plotTop-15:t.plotY+n.yAxis.pos})})},updatePosition:function(e){var t=this.chart,n=this.getLabel(),n=(this.options.positioner||this.getPosition).call(this,n.width,n.height,e);this.move(Math.round(n.x),Math.round(n.y||0),e.plotX+t.plotLeft,e.plotY+t.plotTop)},getDateFormat:function(e,n,i,r){var a,o,s=t("%m-%d %H:%M:%S.%L",n),l={millisecond:15,second:12,minute:9,hour:6,day:3},c="millisecond";for(o in d){if(e===d.week&&+t("%w",n)===i&&"00:00:00.000"===s.substr(6)){o="week";break}if(d[o]>e){o=c;break}if(l[o]&&s.substr(l[o])!=="01-01 00:00:00.000".substr(l[o]))break;"week"!==o&&(c=o)}return o&&(a=r[o]),a},getXDateFormat:function(e,t,n){t=t.dateTimeLabelFormats;var i=n&&n.closestPointRange;return(i?this.getDateFormat(i,e.x,n.options.startOfWeek,t):t.day)||t.year},tooltipFooterHeaderFormatter:function(e,t){var n=t?"footer":"header";t=e.series;var i=t.tooltipOptions,o=i.xDateFormat,s=t.xAxis,l=s&&"datetime"===s.options.type&&a(e.key),n=i[n+"Format"];return l&&!o&&(o=this.getXDateFormat(e,i,s)),l&&o&&(n=n.replace("{point.key}","{point.key:"+o+"}")),r(n,{point:e,series:t})},bodyFormatter:function(e){return o(e,function(e){var t=e.series.tooltipOptions;return(t.pointFormatter||e.point.tooltipFormatter).call(e.point,t.pointFormat)})}}}(e),function(e){var t=e.addEvent,n=e.attr,i=e.charts,r=e.color,a=e.css,o=e.defined,s=e.each,l=e.extend,c=e.find,u=e.fireEvent,d=e.isObject,h=e.offset,p=e.pick,f=e.removeEvent,g=e.splat,m=e.Tooltip,v=e.win;e.Pointer=function(e,t){this.init(e,t)},e.Pointer.prototype={init:function(e,t){this.options=t,this.chart=e,this.runChartClick=t.chart.events&&!!t.chart.events.click,this.pinchDown=[],this.lastValidTouch={},m&&(e.tooltip=new m(e,t.tooltip),this.followTouchMove=p(t.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(e){var t=this.chart,n=t.options.chart,i=n.zoomType||"",t=t.inverted;/touch/.test(e.type)&&(i=p(n.pinchType,i)),this.zoomX=e=/x/.test(i),this.zoomY=i=/y/.test(i),this.zoomHor=e&&!t||i&&t,this.zoomVert=i&&!t||e&&t,this.hasZoom=e||i},normalize:function(e,t){var n,i;return e=e||v.event,e.target||(e.target=e.srcElement),i=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e,t||(this.chartPosition=t=h(this.chart.container)),void 0===i.pageX?(n=Math.max(e.x,e.clientX-t.left),t=e.y):(n=i.pageX-t.left,t=i.pageY-t.top),l(e,{chartX:Math.round(n),chartY:Math.round(t)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return s(this.chart.axes,function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})}),t},findNearestKDPoint:function(e,t,n){var i;return s(e,function(e){var r=!(e.noSharedTooltip&&t)&&0>e.options.findNearestPointBy.indexOf("y");if(e=e.searchPoint(n,r),(r=d(e,!0))&&!(r=!d(i,!0)))var r=i.distX-e.distX,a=i.dist-e.dist,o=(e.series.group&&e.series.group.zIndex)-(i.series.group&&i.series.group.zIndex),r=0<(0!==r&&t?r:0!==a?a:0!==o?o:i.series.index>e.series.index?-1:1);r&&(i=e)}),i},getPointFromEvent:function(e){e=e.target;for(var t;e&&!t;)t=e.point,e=e.parentNode;return t},getChartCoordinatesFromPoint:function(e,t){var n=e.series,i=n.xAxis,n=n.yAxis;if(i&&n)return t?{chartX:i.len+i.pos-e.clientX,chartY:n.len+n.pos-e.plotY}:{chartX:e.clientX+i.pos,chartY:e.plotY+n.pos}},getHoverData:function(t,n,i,r,a,o){var l,u=[];r=!(!r||!t);var h=n&&!n.stickyTracking?[n]:e.grep(i,function(e){return e.visible&&!(!a&&e.directTouch)&&p(e.options.enableMouseTracking,!0)&&e.stickyTracking});return n=(l=r?t:this.findNearestKDPoint(h,a,o))&&l.series,l&&(a&&!n.noSharedTooltip?(h=e.grep(i,function(e){return e.visible&&!(!a&&e.directTouch)&&p(e.options.enableMouseTracking,!0)&&!e.noSharedTooltip}),s(h,function(e){e=c(e.points,function(e){return e.x===l.x}),d(e)&&!e.isNull&&u.push(e)})):u.push(l)),{hoverPoint:l,hoverSeries:n,hoverPoints:u}},runPointActions:function(n,r){var a,o=this.chart,l=o.tooltip,c=!!l&&l.shared,u=r||o.hoverPoint,d=u&&u.series||o.hoverSeries,d=this.getHoverData(u,d,o.series,!!r||d&&d.directTouch&&this.isDirectTouch,c,n),u=d.hoverPoint;a=d.hoverPoints,r=(d=d.hoverSeries)&&d.tooltipOptions.followPointer,c=c&&d&&!d.noSharedTooltip,u&&(u!==o.hoverPoint||l&&l.isHidden)?(s(o.hoverPoints||[],function(t){-1===e.inArray(t,a)&&t.setState()}),s(a||[],function(e){e.setState("hover")}),o.hoverSeries!==d&&d.onMouseOver(),o.hoverPoint&&o.hoverPoint.firePointEvent("mouseOut"),u.firePointEvent("mouseOver"),o.hoverPoints=a,o.hoverPoint=u,l&&l.refresh(c?a:u,n)):r&&l&&!l.isHidden&&(u=l.getAnchor([{}],n),l.updatePosition({plotX:u[0],plotY:u[1]})),this.unDocMouseMove||(this.unDocMouseMove=t(o.container.ownerDocument,"mousemove",function(t){var n=i[e.hoverChartIndex];n&&n.pointer.onDocumentMouseMove(t)})),s(o.axes,function(t){var i=p(t.crosshair.snap,!0),r=i?e.find(a,function(e){return e.series[t.coll]===t}):void 0;r||!i?t.drawCrosshair(n,r):t.hideCrosshair()})},reset:function(e,t){var n=this.chart,i=n.hoverSeries,r=n.hoverPoint,a=n.hoverPoints,o=n.tooltip,l=o&&o.shared?a:r;e&&l&&s(g(l),function(t){t.series.isCartesian&&void 0===t.plotX&&(e=!1)}),e?o&&l&&(o.refresh(l),r&&(r.setState(r.state,!0),s(n.axes,function(e){e.crosshair&&e.drawCrosshair(null,r)}))):(r&&r.onMouseOut(),a&&s(a,function(e){e.setState()}),i&&i.onMouseOut(),o&&o.hide(t),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),s(n.axes,function(e){e.hideCrosshair()}),this.hoverX=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(e,t){var n,i=this.chart;s(i.series,function(r){n=e||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&r.group&&(r.group.attr(n),r.markerGroup&&(r.markerGroup.attr(n),r.markerGroup.clip(t?i.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(n))}),i.clipRect.attr(t||i.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t,n=this.chart,i=n.options.chart,a=e.chartX,o=e.chartY,s=this.zoomHor,l=this.zoomVert,c=n.plotLeft,u=n.plotTop,d=n.plotWidth,h=n.plotHeight,p=this.selectionMarker,f=this.mouseDownX,g=this.mouseDownY,m=i.panKey&&e[i.panKey+"Key"];p&&p.touch||(a<c?a=c:a>c+d&&(a=c+d),o<u?o=u:o>u+h&&(o=u+h),this.hasDragged=Math.sqrt(Math.pow(f-a,2)+Math.pow(g-o,2)),10<this.hasDragged&&(t=n.isInsidePlot(f-c,g-u),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&t&&!m&&!p&&(this.selectionMarker=p=n.renderer.rect(c,u,s?1:d,l?1:h,0).attr({fill:i.selectionMarkerFill||r("#335cad").setOpacity(.25).get(),class:"highcharts-selection-marker",zIndex:7}).add()),p&&s&&(a-=f,p.attr({width:Math.abs(a),x:(0<a?0:a)+f})),p&&l&&(a=o-g,p.attr({height:Math.abs(a),y:(0<a?0:a)+g})),t&&!p&&i.panning&&n.pan(e,i.panning)))},drop:function(e){var t=this,n=this.chart,i=this.hasPinched;if(this.selectionMarker){var r,c={originalEvent:e,xAxis:[],yAxis:[]},d=this.selectionMarker,h=d.attr?d.attr("x"):d.x,p=d.attr?d.attr("y"):d.y,f=d.attr?d.attr("width"):d.width,g=d.attr?d.attr("height"):d.height;(this.hasDragged||i)&&(s(n.axes,function(n){if(n.zoomEnabled&&o(n.min)&&(i||t[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var a=n.horiz,s="touchend"===e.type?n.minPixelPadding:0,l=n.toValue((a?h:p)+s),a=n.toValue((a?h+f:p+g)-s);c[n.coll].push({axis:n,min:Math.min(l,a),max:Math.max(l,a)}),r=!0}}),r&&u(n,"selection",c,function(e){n.zoom(l(e,i?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),i&&this.scaleGroups()}n&&(a(n.container,{cursor:n._cursor}),n.cancelClick=10<this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),this.zoomOption(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(t){i[e.hoverChartIndex]&&i[e.hoverChartIndex].pointer.drop(t)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition;e=this.normalize(e,n),!n||this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)||this.reset()},onContainerMouseLeave:function(t){var n=i[e.hoverChartIndex];n&&(t.relatedTarget||t.toElement)&&(n.pointer.reset(),n.pointer.chartPosition=null)},onContainerMouseMove:function(t){var n=this.chart;o(e.hoverChartIndex)&&i[e.hoverChartIndex]&&i[e.hoverChartIndex].mouseIsDown||(e.hoverChartIndex=n.index),t=this.normalize(t),t.returnValue=!1,"mousedown"===n.mouseIsDown&&this.drag(t),!this.inClass(t.target,"highcharts-tracker")&&!n.isInsidePlot(t.chartX-n.plotLeft,t.chartY-n.plotTop)||n.openMenu||this.runPointActions(t)},inClass:function(e,t){for(var i;e;){if(i=n(e,"class")){if(-1!==i.indexOf(t))return!0;if(-1!==i.indexOf("highcharts-container"))return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries;e=e.relatedTarget||e.toElement,this.isDirectTouch=!1,!t||!e||t.stickyTracking||this.inClass(e,"highcharts-tooltip")||this.inClass(e,"highcharts-series-"+t.index)&&this.inClass(e,"highcharts-tracker")||t.onMouseOut()},onContainerClick:function(e){var t=this.chart,n=t.hoverPoint,i=t.plotLeft,r=t.plotTop;e=this.normalize(e),t.cancelClick||(n&&this.inClass(e.target,"highcharts-tracker")?(u(n.series,"click",l(e,{point:n})),t.hoverPoint&&n.firePointEvent("click",e)):(l(e,this.getCoordinates(e)),t.isInsidePlot(e.chartX-i,e.chartY-r)&&u(t,"click",e)))},setDOMEvents:function(){var n=this,i=n.chart.container,r=i.ownerDocument;i.onmousedown=function(e){n.onContainerMouseDown(e)},i.onmousemove=function(e){n.onContainerMouseMove(e)},i.onclick=function(e){n.onContainerClick(e)},t(i,"mouseleave",n.onContainerMouseLeave),1===e.chartCount&&t(r,"mouseup",n.onDocumentMouseUp),e.hasTouch&&(i.ontouchstart=function(e){n.onContainerTouchStart(e)},i.ontouchmove=function(e){n.onContainerTouchMove(e)},1===e.chartCount&&t(r,"touchend",n.onDocumentTouchEnd))},destroy:function(){var t=this,n=this.chart.container.ownerDocument;t.unDocMouseMove&&t.unDocMouseMove(),f(t.chart.container,"mouseleave",t.onContainerMouseLeave),e.chartCount||(f(n,"mouseup",t.onDocumentMouseUp),e.hasTouch&&f(n,"touchend",t.onDocumentTouchEnd)),clearInterval(t.tooltipTimeout),e.objectEach(t,function(e,n){t[n]=null})}}}(e),function(e){var t=e.charts,n=e.each,i=e.extend,r=e.map,a=e.noop,o=e.pick;i(e.Pointer.prototype,{pinchTranslate:function(e,t,n,i,r,a){this.zoomHor&&this.pinchTranslateDirection(!0,e,t,n,i,r,a),this.zoomVert&&this.pinchTranslateDirection(!1,e,t,n,i,r,a)},pinchTranslateDirection:function(e,t,n,i,r,a,o,s){var l,c,u,d=this.chart,h=e?"x":"y",p=e?"X":"Y",f="chart"+p,g=e?"width":"height",m=d["plot"+(e?"Left":"Top")],v=s||1,b=d.inverted,y=d.bounds[e?"h":"v"],w=1===t.length,x=t[0][f],_=n[0][f],k=!w&&t[1][f],C=!w&&n[1][f];n=function(){!w&&20<Math.abs(x-k)&&(v=s||Math.abs(_-C)/Math.abs(x-k)),c=(m-_)/v+x,l=d["plot"+(e?"Width":"Height")]/v},n(),t=c,t<y.min?(t=y.min,u=!0):t+l>y.max&&(t=y.max-l,u=!0),u?(_-=.8*(_-o[h][0]),w||(C-=.8*(C-o[h][1])),n()):o[h]=[_,C],b||(a[h]=c-m,a[g]=l),a=b?1/v:v,r[g]=l,r[h]=t,i[b?e?"scaleY":"scaleX":"scale"+p]=v,i["translate"+p]=a*m+(_-a*x)},pinch:function(e){var t=this,s=t.chart,l=t.pinchDown,c=e.touches,u=c.length,d=t.lastValidTouch,h=t.hasZoom,p=t.selectionMarker,f={},g=1===u&&(t.inClass(e.target,"highcharts-tracker")&&s.runTrackerClick||t.runChartClick),m={};1<u&&(t.initiated=!0),h&&t.initiated&&!g&&e.preventDefault(),r(c,function(e){return t.normalize(e)}),"touchstart"===e.type?(n(c,function(e,t){l[t]={chartX:e.chartX,chartY:e.chartY}}),d.x=[l[0].chartX,l[1]&&l[1].chartX],d.y=[l[0].chartY,l[1]&&l[1].chartY],n(s.axes,function(e){if(e.zoomEnabled){var t=s.bounds[e.horiz?"h":"v"],n=e.minPixelPadding,i=e.toPixels(o(e.options.min,e.dataMin)),r=e.toPixels(o(e.options.max,e.dataMax)),a=Math.max(i,r);t.min=Math.min(e.pos,Math.min(i,r)-n),t.max=Math.max(e.pos+e.len,a+n)}}),t.res=!0):t.followTouchMove&&1===u?this.runPointActions(t.normalize(e)):l.length&&(p||(t.selectionMarker=p=i({destroy:a,touch:!0},s.plotBox)),t.pinchTranslate(l,c,f,p,m,d),t.hasPinched=h,t.scaleGroups(f,m),t.res&&(t.res=!1,this.reset(!1,0)))},touch:function(t,n){var i,r=this.chart;r.index!==e.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),e.hoverChartIndex=r.index,1===t.touches.length?(t=this.normalize(t),r.isInsidePlot(t.chartX-r.plotLeft,t.chartY-r.plotTop)&&!r.openMenu?(n&&this.runPointActions(t),"touchmove"===t.type&&(n=this.pinchDown,i=!!n[0]&&4<=Math.sqrt(Math.pow(n[0].chartX-t.chartX,2)+Math.pow(n[0].chartY-t.chartY,2))),o(i,!0)&&this.pinch(t)):n&&this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchStart:function(e){this.zoomOption(e),this.touch(e,!0)},onContainerTouchMove:function(e){this.touch(e)},onDocumentTouchEnd:function(n){t[e.hoverChartIndex]&&t[e.hoverChartIndex].pointer.drop(n)}})}(e),function(e){var t=e.addEvent,n=e.charts,i=e.css,r=e.doc,a=e.extend,o=e.noop,s=e.Pointer,l=e.removeEvent,c=e.win,u=e.wrap;if(!e.hasTouch&&(c.PointerEvent||c.MSPointerEvent)){var d={},h=!!c.PointerEvent,p=function(){var t=[];return t.item=function(e){return this[e]},e.objectEach(d,function(e){t.push({pageX:e.pageX,pageY:e.pageY,target:e.target})}),t},f=function(t,i,r,a){"touch"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!n[e.hoverChartIndex]||(a(t),a=n[e.hoverChartIndex].pointer,a[i]({type:r,target:t.currentTarget,preventDefault:o,touches:p()}))};a(s.prototype,{onContainerPointerDown:function(e){f(e,"onContainerTouchStart","touchstart",function(e){d[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){f(e,"onContainerTouchMove","touchmove",function(e){d[e.pointerId]={pageX:e.pageX,pageY:e.pageY},d[e.pointerId].target||(d[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){f(e,"onDocumentTouchEnd","touchend",function(e){delete d[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,h?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,h?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(r,h?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),u(s.prototype,"init",function(e,t,n){e.call(this,t,n),this.hasZoom&&i(t.container,{"-ms-touch-action":"none","touch-action":"none"})}),u(s.prototype,"setDOMEvents",function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(t)}),u(s.prototype,"destroy",function(e){this.batchMSEvents(l),e.call(this)})}}(e),function(e){var t=e.addEvent,n=e.css,i=e.discardElement,r=e.defined,a=e.each,o=e.isFirefox,s=e.marginNames,l=e.merge,c=e.pick,u=e.setAnimation,d=e.stableSort,h=e.win,p=e.wrap;e.Legend=function(e,t){this.init(e,t)},e.Legend.prototype={init:function(e,n){this.chart=e,this.setOptions(n),n.enabled&&(this.render(),t(this.chart,"endResize",function(){this.legend.positionCheckboxes()}))},setOptions:function(e){var t=c(e.padding,8);this.options=e,this.itemStyle=e.itemStyle,this.itemHiddenStyle=l(this.itemStyle,e.itemHiddenStyle),this.itemMarginTop=e.itemMarginTop||0,this.padding=t,this.initialItemY=t-5,this.itemHeight=this.maxItemWidth=0,this.symbolWidth=c(e.symbolWidth,16),this.pages=[]},update:function(e,t){var n=this.chart;this.setOptions(l(!0,this.options,e)),this.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,c(t,!0)&&n.redraw()},colorizeItem:function(e,t){e.legendGroup[t?"removeClass":"addClass"]("highcharts-legend-item-hidden");var n=this.options,i=e.legendItem,r=e.legendLine,a=e.legendSymbol,o=this.itemHiddenStyle.color,n=t?n.itemStyle.color:o,s=t?e.color||o:o,l=e.options&&e.options.marker,c={fill:s};i&&i.css({fill:n,color:n}),r&&r.attr({stroke:s}),a&&(l&&a.isMarker&&(c=e.pointAttribs(),t||(c.stroke=c.fill=o)),a.attr(c))},positionItem:function(e){var t=this.options,n=t.symbolPadding,t=!t.rtl,i=e._legendItemPos,r=i[0],i=i[1],a=e.checkbox;(e=e.legendGroup)&&e.element&&e.translate(t?r:this.legendWidth-r-2*n-4,i),a&&(a.x=r,a.y=i)},destroyItem:function(e){var t=e.checkbox;a(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&i(e.checkbox)},destroy:function(){function e(e){this[e]&&(this[e]=this[e].destroy())}a(this.getAllItems(),function(t){a(["legendItem","legendGroup"],e,t)}),a("clipRect up down pager nav box title group".split(" "),e,this),this.display=null},positionCheckboxes:function(e){var t,i=this.group&&this.group.alignAttr,r=this.clipHeight||this.legendHeight,o=this.titleHeight;i&&(t=i.translateY,a(this.allItems,function(a){var s,l=a.checkbox;l&&(s=t+o+l.y+(e||0)+3,n(l,{left:i.translateX+a.checkboxOffset+l.x-20+"px",top:s+"px",display:s>t-6&&s<t+r-6?"":"none"}))}))},renderTitle:function(){var e=this.options,t=this.padding,n=e.title,i=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,t-3,t-4,null,null,null,e.useHTML,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)),e=this.title.getBBox(),i=e.height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:i})),this.titleHeight=i},setText:function(t){var n=this.options;t.legendItem.attr({text:n.labelFormat?e.format(n.labelFormat,t):n.labelFormatter.call(t)})},renderItem:function(e){var t=this.chart,n=t.renderer,i=this.options,r="horizontal"===i.layout,a=this.symbolWidth,o=i.symbolPadding,s=this.itemStyle,u=this.itemHiddenStyle,d=this.padding,h=r?c(i.itemDistance,20):0,p=!i.rtl,f=i.width,g=i.itemMarginBottom||0,m=this.itemMarginTop,v=e.legendItem,b=!e.series,y=!b&&e.series.drawLegendSymbol?e.series:e,w=y.options,x=this.createCheckboxForItem&&w&&w.showCheckbox,w=a+o+h+(x?20:0),_=i.useHTML,k=e.options.className;v||(e.legendGroup=n.g("legend-item").addClass("highcharts-"+y.type+"-series highcharts-color-"+e.colorIndex+(k?" "+k:"")+(b?" highcharts-series-"+e.index:"")).attr({zIndex:1}).add(this.scrollGroup),e.legendItem=v=n.text("",p?a+o:-o,this.baseline||0,_).css(l(e.visible?s:u)).attr({align:p?"left":"right",zIndex:2}).add(e.legendGroup),this.baseline||(a=s.fontSize,this.fontMetrics=n.fontMetrics(a,v),this.baseline=this.fontMetrics.f+3+m,v.attr("y",this.baseline)),this.symbolHeight=i.symbolHeight||this.fontMetrics.f,y.drawLegendSymbol(this,e),this.setItemEvents&&this.setItemEvents(e,v,_),x&&this.createCheckboxForItem(e)),this.colorizeItem(e,e.visible),s.width||v.css({width:(i.itemWidth||i.width||t.spacingBox.width)-w}),this.setText(e),n=v.getBBox(),s=e.checkboxOffset=i.itemWidth||e.legendItemWidth||n.width+w,this.itemHeight=n=Math.round(e.legendItemHeight||n.height||this.symbolHeight),r&&this.itemX-d+s>(f||t.spacingBox.width-2*d-i.x)&&(this.itemX=d,this.itemY+=m+this.lastLineHeight+g,this.lastLineHeight=0),this.maxItemWidth=Math.max(this.maxItemWidth,s),this.lastItemY=m+this.itemY+g,this.lastLineHeight=Math.max(n,this.lastLineHeight),e._legendItemPos=[this.itemX,this.itemY],r?this.itemX+=s:(this.itemY+=m+n+g,this.lastLineHeight=n),this.offsetWidth=f||Math.max((r?this.itemX-d-(e.checkbox?0:h):s)+d,this.offsetWidth)},getAllItems:function(){var e=[];return a(this.chart.series,function(t){var n=t&&t.options;t&&c(n.showInLegend,!r(n.linkedTo)&&void 0,!0)&&(e=e.concat(t.legendItems||("point"===n.legendType?t.data:t)))}),e},adjustMargins:function(e,t){var n=this.chart,i=this.options,o=i.align.charAt(0)+i.verticalAlign.charAt(0)+i.layout.charAt(0);i.floating||a([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(a,l){a.test(o)&&!r(e[l])&&(n[s[l]]=Math.max(n[s[l]],n.legend[(l+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][l]*i[l%2?"x":"y"]+c(i.margin,12)+t[l]))})},render:function(){var e,t,n,i,r=this,o=r.chart,s=o.renderer,c=r.group,u=r.box,h=r.options,p=r.padding;r.itemX=p,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,c||(r.group=c=s.g("legend").attr({zIndex:7}).add(),r.contentGroup=s.g().attr({zIndex:1}).add(c),r.scrollGroup=s.g().add(r.contentGroup)),r.renderTitle(),e=r.getAllItems(),d(e,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),h.reversed&&e.reverse(),r.allItems=e,r.display=t=!!e.length,r.lastLineHeight=0,a(e,function(e){r.renderItem(e)}),n=(h.width||r.offsetWidth)+p,i=r.lastItemY+r.lastLineHeight+r.titleHeight,i=r.handleOverflow(i),i+=p,u||(r.box=u=s.rect().addClass("highcharts-legend-box").attr({r:h.borderRadius}).add(c),u.isNew=!0),u.attr({stroke:h.borderColor,"stroke-width":h.borderWidth||0,fill:h.backgroundColor||"none"}).shadow(h.shadow),0<n&&0<i&&(u[u.isNew?"attr":"animate"](u.crisp({x:0,y:0,width:n,height:i},u.strokeWidth())),u.isNew=!1),u[t?"show":"hide"](),r.legendWidth=n,r.legendHeight=i,a(e,function(e){r.positionItem(e)}),t&&c.align(l(h,{width:n,height:i}),!0,"spacingBox"),o.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t,n,i=this,r=this.chart,o=r.renderer,s=this.options,l=s.y,u=this.padding,r=r.spacingBox.height+("top"===s.verticalAlign?-l:l)-u,l=s.maxHeight,d=this.clipRect,h=s.navigation,p=c(h.animation,!0),f=h.arrowSize||12,g=this.nav,m=this.pages,v=this.allItems,b=function(e){"number"==typeof e?d.attr({height:e}):d&&(i.clipRect=d.destroy(),i.contentGroup.clip()),i.contentGroup.div&&(i.contentGroup.div.style.clip=e?"rect("+u+"px,9999px,"+(u+e)+"px,0)":"auto")};return"horizontal"!==s.layout||"middle"===s.verticalAlign||s.floating||(r/=2),l&&(r=Math.min(r,l)),m.length=0,e>r&&!1!==h.enabled?(this.clipHeight=t=Math.max(r-20-this.titleHeight-u,0),this.currentPage=c(this.currentPage,1),this.fullHeight=e,a(v,function(e,i){var r=e._legendItemPos[1];e=Math.round(e.legendItem.getBBox().height);var a=m.length;(!a||r-m[a-1]>t&&(n||r)!==m[a-1])&&(m.push(n||r),a++),i===v.length-1&&r+e-m[a-1]>t&&m.push(r),r!==n&&(n=r)}),d||(d=i.clipRect=o.clipRect(0,u,9999,0),i.contentGroup.clip(d)),b(t),g||(this.nav=g=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,f,f).on("click",function(){i.scroll(-1,p)}).add(g),this.pager=o.text("",15,10).addClass("highcharts-legend-navigation").css(h.style).add(g),this.down=o.symbol("triangle-down",0,0,f,f).on("click",function(){i.scroll(1,p)}).add(g)),i.scroll(0),e=r):g&&(b(),this.nav=g.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(e,t){var n=this.pages,i=n.length;e=this.currentPage+e;var r=this.clipHeight,a=this.options.navigation,o=this.pager,s=this.padding;e>i&&(e=i),0<e&&(void 0!==t&&u(t,this.chart),this.nav.attr({translateX:s,translateY:r+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===e?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),o.attr({text:e+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,class:e===i?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===e?a.inactiveColor:a.activeColor}).css({cursor:1===e?"default":"pointer"}),this.down.attr({fill:e===i?a.inactiveColor:a.activeColor}).css({cursor:e===i?"default":"pointer"}),t=-n[e-1]+this.initialItemY,this.scrollGroup.animate({translateY:t}),this.currentPage=e,this.positionCheckboxes(t))}},e.LegendSymbolMixin={drawRectangle:function(e,t){var n=e.symbolHeight,i=e.options.squareSymbol;t.legendSymbol=this.chart.renderer.rect(i?(e.symbolWidth-n)/2:0,e.baseline-n+1,i?n:e.symbolWidth,n,c(e.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t=this.options,n=t.marker,i=e.symbolWidth,r=e.symbolHeight,a=r/2,o=this.chart.renderer,s=this.legendGroup;e=e.baseline-Math.round(.3*e.fontMetrics.b);var u;u={"stroke-width":t.lineWidth||0},t.dashStyle&&(u.dashstyle=t.dashStyle),this.legendLine=o.path(["M",0,e,"L",i,e]).addClass("highcharts-graph").attr(u).add(s),n&&!1!==n.enabled&&(t=Math.min(c(n.radius,a),a),0===this.symbol.indexOf("url")&&(n=l(n,{width:r,height:r}),t=0),this.legendSymbol=n=o.symbol(this.symbol,i/2-t,e-t,2*t,2*t,n).addClass("highcharts-point").add(s),n.isMarker=!0)}},(/Trident\/7\.0/.test(h.navigator.userAgent)||o)&&p(e.Legend.prototype,"positionItem",function(e,t){var n=this,i=function(){t._legendItemPos&&e.call(n,t)};i(),setTimeout(i)})}(e),function(e){var t=e.addEvent,n=e.animate,i=e.animObject,r=e.attr,a=e.doc,o=e.Axis,s=e.createElement,l=e.defaultOptions,c=e.discardElement,u=e.charts,d=e.css,h=e.defined,p=e.each,f=e.extend,g=e.find,m=e.fireEvent,v=e.getStyle,b=e.grep,y=e.isNumber,w=e.isObject,x=e.isString,_=e.Legend,k=e.marginNames,C=e.merge,S=e.objectEach,$=e.Pointer,D=e.pick,T=e.pInt,E=e.removeEvent,M=e.seriesTypes,A=e.splat,O=e.svg,P=e.syncTimeout,I=e.win,R=e.Renderer,N=e.Chart=function(){this.getArgs.apply(this,arguments)};e.chart=function(e,t,n){return new N(e,t,n)},f(N.prototype,{callbacks:[],getArgs:function(){var e=[].slice.call(arguments);(x(e[0])||e[0].nodeName)&&(this.renderTo=e.shift()),this.init(e[0],e[1])},init:function(n,i){var r,a,o=n.series,s=n.plotOptions||{};n.series=null,r=C(l,n);for(a in r.plotOptions)r.plotOptions[a].tooltip=s[a]&&C(s[a].tooltip)||void 0;r.tooltip.userOptions=n.chart&&n.chart.forExport&&n.tooltip.userOptions||n.tooltip,r.series=n.series=o,this.userOptions=n,n=r.chart,a=n.events,this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.callback=i,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.hasCartesianSeries=n.showAxes;var c=this;c.index=u.length,u.push(c),e.chartCount++,a&&S(a,function(e,n){t(c,n,e)}),c.xAxis=[],c.yAxis=[],c.pointCount=c.colorCounter=c.symbolCounter=0,c.firstRender()},initSeries:function(t){var n=this.options.chart;return(n=M[t.type||n.type||n.defaultSeriesType])||e.error(17,!0),n=new n,n.init(this,t),n},orderSeries:function(e){var t=this.series;for(e=e||0;e<t.length;e++)t[e]&&(t[e].index=e,t[e].name=t[e].name||"Series "+(t[e].index+1))},isInsidePlot:function(e,t,n){var i=n?t:e;return e=n?e:t,0<=i&&i<=this.plotWidth&&0<=e&&e<=this.plotHeight},redraw:function(t){var n,i,r,a=this.axes,o=this.series,s=this.pointer,l=this.legend,c=this.isDirtyLegend,u=this.hasCartesianSeries,d=this.isDirtyBox,h=this.renderer,g=h.isHidden(),v=[];for(this.setResponsive&&this.setResponsive(!1),e.setAnimation(t,this),g&&this.temporaryDisplay(),this.layOutTitles(),t=o.length;t--;)if(r=o[t],r.options.stacking&&(n=!0,r.isDirty)){i=!0;break}if(i)for(t=o.length;t--;)r=o[t],r.options.stacking&&(r.isDirty=!0);p(o,function(e){e.isDirty&&"point"===e.options.legendType&&(e.updateTotals&&e.updateTotals(),c=!0),e.isDirtyData&&m(e,"updatedData")}),c&&l.options.enabled&&(l.render(),this.isDirtyLegend=!1),n&&this.getStacks(),u&&p(a,function(e){e.updateNames(),e.setScale()}),this.getMargins(),u&&(p(a,function(e){e.isDirty&&(d=!0)}),p(a,function(e){var t=e.min+","+e.max;e.extKey!==t&&(e.extKey=t,v.push(function(){m(e,"afterSetExtremes",f(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(d||n)&&e.redraw()})),d&&this.drawChartBox(),m(this,"predraw"),p(o,function(e){(d||e.isDirty)&&e.visible&&e.redraw(),e.isDirtyData=!1}),s&&s.reset(!0),h.draw(),m(this,"redraw"),m(this,"render"),g&&this.temporaryDisplay(!0),p(v,function(e){e.call()})},get:function(e){function t(t){return t.id===e||t.options&&t.options.id===e}var n,i,r=this.series;for(n=g(this.axes,t)||g(this.series,t),i=0;!n&&i<r.length;i++)n=g(r[i].points||[],t);return n},getAxes:function(){var e=this,t=this.options,n=t.xAxis=A(t.xAxis||{}),t=t.yAxis=A(t.yAxis||{});p(n,function(e,t){e.index=t,e.isX=!0}),p(t,function(e,t){e.index=t}),n=n.concat(t),p(n,function(t){new o(e,t)})},getSelectedPoints:function(){var e=[];return p(this.series,function(t){e=e.concat(b(t.data||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return b(this.series,function(e){return e.selected})},setTitle:function(e,t,n){var i,r=this,a=r.options;i=a.title=C({style:{color:"#333333",fontSize:a.isStock?"16px":"18px"}},a.title,e),a=a.subtitle=C({style:{color:"#666666"}},a.subtitle,t),p([["title",e,i],["subtitle",t,a]],function(e,t){var n=e[0],i=r[n],a=e[1];e=e[2],i&&a&&(r[n]=i=i.destroy()),e&&e.text&&!i&&(r[n]=r.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,class:"highcharts-"+n,zIndex:e.zIndex||4}).add(),r[n].update=function(e){r.setTitle(!t&&e,t&&e)},r[n].css(e.style))}),r.layOutTitles(n)},layOutTitles:function(e){var t,n=0,i=this.renderer,r=this.spacingBox;p(["title","subtitle"],function(e){var t=this[e],a=this.options[e];e="title"===e?-3:a.verticalAlign?0:n+2;var o;t&&(o=a.style.fontSize,o=i.fontMetrics(o,t).b,t.css({width:(a.width||r.width+a.widthAdjust)+"px"}).align(f({y:e+o},a),!1,"spacingBox"),a.floating||a.verticalAlign||(n=Math.ceil(n+t.getBBox(a.useHTML).height)))},this),t=this.titleOffset!==n,this.titleOffset=n,!this.isDirtyBox&&t&&(this.isDirtyBox=t,this.hasRendered&&D(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this.options.chart,n=t.width,t=t.height,i=this.renderTo;h(n)||(this.containerWidth=v(i,"width")),h(t)||(this.containerHeight=v(i,"height")),this.chartWidth=Math.max(0,n||this.containerWidth||600),this.chartHeight=Math.max(0,e.relativeLength(t,this.chartWidth)||this.containerHeight||400)},temporaryDisplay:function(t){var n=this.renderTo;if(t)for(;n&&n.style;)n.hcOrigStyle&&(e.css(n,n.hcOrigStyle),delete n.hcOrigStyle),n.hcOrigDetached&&(a.body.removeChild(n),n.hcOrigDetached=!1),n=n.parentNode;else for(;n&&n.style&&(a.body.contains(n)||(n.hcOrigDetached=!0,a.body.appendChild(n)),("none"===v(n,"display",!1)||n.hcOricDetached)&&(n.hcOrigStyle={display:n.style.display,height:n.style.height,overflow:n.style.overflow},t={display:"block",overflow:"hidden"},n!==this.renderTo&&(t.height=0),e.css(n,t),n.offsetWidth||n.style.setProperty("display","block","important")),(n=n.parentNode)!==a.body););},setClassName:function(e){this.container.className="highcharts-container "+(e||"")},getContainer:function(){var t,n,i,o=this.options,l=o.chart;t=this.renderTo;var c,d=e.uniqueKey();t||(this.renderTo=t=l.renderTo),x(t)&&(this.renderTo=t=a.getElementById(t)),t||e.error(13,!0),n=T(r(t,"data-highcharts-chart")),y(n)&&u[n]&&u[n].hasRendered&&u[n].destroy(),r(t,"data-highcharts-chart",this.index),t.innerHTML="",l.skipClone||t.offsetWidth||this.temporaryDisplay(),this.getChartSize(),n=this.chartWidth,i=this.chartHeight,c=f({position:"relative",overflow:"hidden",width:n+"px",height:i+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},l.style),this.container=t=s("div",{id:d},c,t),this._cursor=t.style.cursor,this.renderer=new(e[l.renderer]||R)(t,n,i,null,l.forExport,o.exporting&&o.exporting.allowHTML),this.setClassName(l.className),this.renderer.setStyle(l.style),this.renderer.chartIndex=this.index},getMargins:function(e){var t=this.spacing,n=this.margin,i=this.titleOffset;this.resetMargins(),i&&!h(n[0])&&(this.plotTop=Math.max(this.plotTop,i+this.options.title.margin+t[0])),
this.legend.display&&this.legend.adjustMargins(n,t),this.extraMargin&&(this[this.extraMargin.type]=(this[this.extraMargin.type]||0)+this.extraMargin.value),this.extraTopMargin&&(this.plotTop+=this.extraTopMargin),e||this.getAxisMargins()},getAxisMargins:function(){var e=this,t=e.axisOffset=[0,0,0,0],n=e.margin;e.hasCartesianSeries&&p(e.axes,function(e){e.visible&&e.getOffset()}),p(k,function(i,r){h(n[r])||(e[i]+=t[r])}),e.setChartSize()},reflow:function(e){var t=this,n=t.options.chart,i=t.renderTo,r=h(n.width)&&h(n.height),o=n.width||v(i,"width"),n=n.height||v(i,"height"),i=e?e.target:I;r||t.isPrinting||!o||!n||i!==I&&i!==a||(o===t.containerWidth&&n===t.containerHeight||(clearTimeout(t.reflowTimeout),t.reflowTimeout=P(function(){t.container&&t.setSize(void 0,void 0,!1)},e?100:0)),t.containerWidth=o,t.containerHeight=n)},initReflow:function(){var e,n=this;e=t(I,"resize",function(e){n.reflow(e)}),t(n,"destroy",e)},setSize:function(t,r,a){var o=this,s=o.renderer;o.isResizing+=1,e.setAnimation(a,o),o.oldChartHeight=o.chartHeight,o.oldChartWidth=o.chartWidth,void 0!==t&&(o.options.chart.width=t),void 0!==r&&(o.options.chart.height=r),o.getChartSize(),t=s.globalAnimation,(t?n:d)(o.container,{width:o.chartWidth+"px",height:o.chartHeight+"px"},t),o.setChartSize(!0),s.setSize(o.chartWidth,o.chartHeight,a),p(o.axes,function(e){e.isDirty=!0,e.setScale()}),o.isDirtyLegend=!0,o.isDirtyBox=!0,o.layOutTitles(),o.getMargins(),o.redraw(a),o.oldChartHeight=null,m(o,"resize"),P(function(){o&&m(o,"endResize",null,function(){--o.isResizing})},i(t).duration)},setChartSize:function(e){function t(e){return e=f[e]||0,Math.max(o||e,e)/2}var n,i,r,a,o,s=this.inverted,l=this.renderer,c=this.chartWidth,u=this.chartHeight,d=this.options.chart,h=this.spacing,f=this.clipOffset;this.plotLeft=n=Math.round(this.plotLeft),this.plotTop=i=Math.round(this.plotTop),this.plotWidth=r=Math.max(0,Math.round(c-n-this.marginRight)),this.plotHeight=a=Math.max(0,Math.round(u-i-this.marginBottom)),this.plotSizeX=s?a:r,this.plotSizeY=s?r:a,this.plotBorderWidth=d.plotBorderWidth||0,this.spacingBox=l.spacingBox={x:h[3],y:h[0],width:c-h[3]-h[1],height:u-h[0]-h[2]},this.plotBox=l.plotBox={x:n,y:i,width:r,height:a},o=2*Math.floor(this.plotBorderWidth/2),s=Math.ceil(t(3)),l=Math.ceil(t(0)),this.clipBox={x:s,y:l,width:Math.floor(this.plotSizeX-t(1)-s),height:Math.max(0,Math.floor(this.plotSizeY-t(2)-l))},e||p(this.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this,t=e.options.chart;p(["margin","spacing"],function(n){var i=t[n],r=w(i)?i:[i,i,i,i];p(["Top","Right","Bottom","Left"],function(i,a){e[n][a]=D(t[n+i],r[a])})}),p(k,function(t,n){e[t]=D(e.margin[n],e.spacing[n])}),e.axisOffset=[0,0,0,0],e.clipOffset=[]},drawChartBox:function(){var e,t,n=this.options.chart,i=this.renderer,r=this.chartWidth,a=this.chartHeight,o=this.chartBackground,s=this.plotBackground,l=this.plotBorder,c=this.plotBGImage,u=n.backgroundColor,d=n.plotBackgroundColor,h=n.plotBackgroundImage,p=this.plotLeft,f=this.plotTop,g=this.plotWidth,m=this.plotHeight,v=this.plotBox,b=this.clipRect,y=this.clipBox,w="animate";o||(this.chartBackground=o=i.rect().addClass("highcharts-background").add(),w="attr"),e=n.borderWidth||0,t=e+(n.shadow?8:0),u={fill:u||"none"},(e||o["stroke-width"])&&(u.stroke=n.borderColor,u["stroke-width"]=e),o.attr(u).shadow(n.shadow),o[w]({x:t/2,y:t/2,width:r-t-e%2,height:a-t-e%2,r:n.borderRadius}),w="animate",s||(w="attr",this.plotBackground=s=i.rect().addClass("highcharts-plot-background").add()),s[w](v),s.attr({fill:d||"none"}).shadow(n.plotShadow),h&&(c?c.animate(v):this.plotBGImage=i.image(h,p,f,g,m).add()),b?b.animate({width:y.width,height:y.height}):this.clipRect=i.clipRect(y),w="animate",l||(w="attr",this.plotBorder=l=i.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),l.attr({stroke:n.plotBorderColor,"stroke-width":n.plotBorderWidth||0,fill:"none"}),l[w](l.crisp({x:p,y:f,width:g,height:m},-l.strokeWidth())),this.isDirtyBox=!1},propFromSeries:function(){var e,t,n,i=this,r=i.options.chart,a=i.options.series;p(["inverted","angular","polar"],function(o){for(e=M[r.type||r.defaultSeriesType],n=r[o]||e&&e.prototype[o],t=a&&a.length;!n&&t--;)(e=M[a[t].type])&&e.prototype[o]&&(n=!0);i[o]=n})},linkSeries:function(){var e=this,t=e.series;p(t,function(e){e.linkedSeries.length=0}),p(t,function(t){var n=t.options.linkedTo;x(n)&&(n=":previous"===n?e.series[t.index-1]:e.get(n))&&n.linkedParent!==t&&(n.linkedSeries.push(t),t.linkedParent=n,t.visible=D(t.options.visible,n.options.visible,t.visible))})},renderSeries:function(){p(this.series,function(e){e.translate(),e.render()})},renderLabels:function(){var e=this,t=e.options.labels;t.items&&p(t.items,function(n){var i=f(t.style,n.style),r=T(i.left)+e.plotLeft,a=T(i.top)+e.plotTop+12;delete i.left,delete i.top,e.renderer.text(n.html,r,a).attr({zIndex:2}).css(i).add()})},render:function(){var e,t,n,i=this.axes,r=this.renderer,a=this.options;this.setTitle(),this.legend=new _(this,a.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),a=this.plotWidth,e=this.plotHeight-=21,p(i,function(e){e.setScale()}),this.getAxisMargins(),t=1.1<a/this.plotWidth,n=1.05<e/this.plotHeight,(t||n)&&(p(i,function(e){(e.horiz&&t||!e.horiz&&n)&&e.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&p(i,function(e){e.visible&&e.render()}),this.seriesGroup||(this.seriesGroup=r.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(e){var t=this;e=C(!0,this.options.credits,e),e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){e.href&&(I.location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position),this.credits.update=function(e){t.credits=t.credits.destroy(),t.addCredits(e)})},destroy:function(){var t,n=this,i=n.axes,r=n.series,a=n.container,o=a&&a.parentNode;for(m(n,"destroy"),n.renderer.forExport?e.erase(u,n):u[n.index]=void 0,e.chartCount--,n.renderTo.removeAttribute("data-highcharts-chart"),E(n),t=i.length;t--;)i[t]=i[t].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),t=r.length;t--;)r[t]=r[t].destroy();p("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(e){var t=n[e];t&&t.destroy&&(n[e]=t.destroy())}),a&&(a.innerHTML="",E(a),o&&c(a)),S(n,function(e,t){delete n[t]})},isReadyToRender:function(){var e=this;return!(!O&&I==I.top&&"complete"!==a.readyState)||(a.attachEvent("onreadystatechange",function(){a.detachEvent("onreadystatechange",e.firstRender),"complete"===a.readyState&&e.firstRender()}),!1)},firstRender:function(){var e=this,t=e.options;e.isReadyToRender()&&(e.getContainer(),m(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),p(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),m(e,"beforeRender"),$&&(e.pointer=new $(e,t)),e.render(),!e.renderer.imgCount&&e.onload&&e.onload(),e.temporaryDisplay(!0))},onload:function(){p([this.callback].concat(this.callbacks),function(e){e&&void 0!==this.index&&e.apply(this,[this])},this),m(this,"load"),m(this,"render"),h(this.index)&&!1!==this.options.chart.reflow&&this.initReflow(),this.onload=null}})}(e),function(e){var t,n=e.each,i=e.extend,r=e.erase,a=e.fireEvent,o=e.format,s=e.isArray,l=e.isNumber,c=e.pick,u=e.removeEvent;e.Point=t=function(){},e.Point.prototype={init:function(e,t,n){return this.series=e,this.color=e.color,this.applyOptions(t,n),e.options.colorByPoint?(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter],t=t.length,n=e.colorCounter,++e.colorCounter===t&&(e.colorCounter=0)):n=e.colorIndex,this.colorIndex=c(this.colorIndex,n),e.chart.pointCount++,this},applyOptions:function(e,n){var r=this.series,a=r.options.pointValKey||r.pointValKey;return e=t.prototype.optionsToObject.call(this,e),i(this,e),this.options=this.options?i(this.options,e):e,e.group&&delete this.group,a&&(this.y=this[a]),this.isNull=c(this.isValid&&!this.isValid(),null===this.x||!l(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===n&&r.xAxis&&r.xAxis.hasNames&&(this.x=r.xAxis.nameToX(this)),void 0===this.x&&r&&(this.x=void 0===n?r.autoIncrement(this):n),this},optionsToObject:function(e){var t={},n=this.series,i=n.options.keys,r=i||n.pointArrayMap||["y"],a=r.length,o=0,c=0;if(l(e)||null===e)t[r[0]]=e;else if(s(e))for(!i&&e.length>a&&(n=typeof e[0],"string"===n?t.name=e[0]:"number"===n&&(t.x=e[0]),o++);c<a;)i&&void 0===e[o]||(t[r[c]]=e[o]),o++,c++;else"object"==typeof e&&(t=e,e.dataLabels&&(n._hasPointLabels=!0),e.marker&&(n._hasPointMarkers=!0));return t},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var e,t=this.series,n=t.zones,t=t.zoneAxis||"y",i=0;for(e=n[i];this[t]>=e.value;)e=n[++i];return e&&e.color&&!this.options.color&&(this.color=e.color),e},destroy:function(){var e,t=this.series.chart,n=t.hoverPoints;t.pointCount--,n&&(this.setState(),r(n,this),n.length||(t.hoverPoints=null)),this===t.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel)&&(u(this),this.destroyElements()),this.legendItem&&t.legend.destroyItem(this);for(e in this)this[e]=null},destroyElements:function(){for(var e,t=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],n=6;n--;)e=t[n],this[e]&&(this[e]=this[e].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(e){var t=this.series,i=t.tooltipOptions,r=c(i.valueDecimals,""),a=i.valuePrefix||"",s=i.valueSuffix||"";return n(t.pointArrayMap||["y"],function(t){t="{point."+t,(a||s)&&(e=e.replace(t+"}",a+t+"}"+s)),e=e.replace(t+"}",t+":,."+r+"f}")}),o(e,{point:this,series:this.series})},firePointEvent:function(e,t,n){var i=this,r=this.series.options;(r.point.events[e]||i.options&&i.options.events&&i.options.events[e])&&this.importEvents(),"click"===e&&r.allowPointSelect&&(n=function(e){i.select&&i.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),a(this,e,t,n)},visible:!0}}(e),function(e){var t=e.addEvent,n=e.animObject,i=e.arrayMax,r=e.arrayMin,a=e.correctFloat,o=e.Date,s=e.defaultOptions,l=e.defaultPlotOptions,c=e.defined,u=e.each,d=e.erase,h=e.extend,p=e.fireEvent,f=e.grep,g=e.isArray,m=e.isNumber,v=e.isString,b=e.merge,y=e.objectEach,w=e.pick,x=e.removeEvent,_=e.splat,k=e.SVGElement,C=e.syncTimeout,S=e.win;e.Series=e.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",radius:4,states:{hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":e.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:e.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(e,n){var i,r,a=this,o=e.series;a.chart=e,a.options=n=a.setOptions(n),a.linkedSeries=[],a.bindAxes(),h(a,{name:n.name,state:"",visible:!1!==n.visible,selected:!0===n.selected}),i=n.events,y(i,function(e,n){t(a,n,e)}),(i&&i.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)&&(e.runTrackerClick=!0),a.getColor(),a.getSymbol(),u(a.parallelArrays,function(e){a[e+"Data"]=[]}),a.setData(n.data,!1),a.isCartesian&&(e.hasCartesianSeries=!0),o.length&&(r=o[o.length-1]),a._i=w(r&&r._i,-1)+1,e.orderSeries(this.insert(o))},insert:function(e){var t,n=this.options.index;if(m(n)){for(t=e.length;t--;)if(n>=w(e[t].options.index,e[t]._i)){e.splice(t+1,0,this);break}-1===t&&e.unshift(this),t+=1}else e.push(this);return w(t,e.length-1)},bindAxes:function(){var t,n=this,i=n.options,r=n.chart;u(n.axisTypes||[],function(a){u(r[a],function(e){t=e.options,(i[a]===t.index||void 0!==i[a]&&i[a]===t.id||void 0===i[a]&&0===t.index)&&(n.insert(e.series),n[a]=e,e.isDirty=!0)}),n[a]||n.optionalAxis===a||e.error(18,!0)})},updateParallelArrays:function(e,t){var n=e.series,i=arguments,r=m(t)?function(i){var r="y"===i&&n.toYData?n.toYData(e):e[i];n[i+"Data"][t]=r}:function(e){Array.prototype[t].apply(n[e+"Data"],Array.prototype.slice.call(i,2))};u(n.parallelArrays,r)},autoIncrement:function(){var e,t=this.options,n=this.xIncrement,i=t.pointIntervalUnit,n=w(n,t.pointStart,0);return this.pointInterval=e=w(this.pointInterval,t.pointInterval,1),i&&(t=new o(n),"day"===i?t=+t[o.hcSetDate](t[o.hcGetDate]()+e):"month"===i?t=+t[o.hcSetMonth](t[o.hcGetMonth]()+e):"year"===i&&(t=+t[o.hcSetFullYear](t[o.hcGetFullYear]()+e)),e=t-n),this.xIncrement=n+e,n},setOptions:function(e){var t=this.chart,n=t.options,i=n.plotOptions,r=(t.userOptions||{}).plotOptions||{},a=i[this.type];return this.userOptions=e,t=b(a,i.series,e),this.tooltipOptions=b(s.tooltip,s.plotOptions.series&&s.plotOptions.series.tooltip,s.plotOptions[this.type].tooltip,n.tooltip.userOptions,i.series&&i.series.tooltip,i[this.type].tooltip,e.tooltip),this.stickyTracking=w(e.stickyTracking,r[this.type]&&r[this.type].stickyTracking,r.series&&r.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||t.stickyTracking),null===a.marker&&delete t.marker,this.zoneAxis=t.zoneAxis,e=this.zones=(t.zones||[]).slice(),!t.negativeColor&&!t.negativeFillColor||t.zones||e.push({value:t[this.zoneAxis+"Threshold"]||t.threshold||0,className:"highcharts-negative",color:t.negativeColor,fillColor:t.negativeFillColor}),e.length&&c(e[e.length-1].value)&&e.push({color:this.color,fillColor:this.fillColor}),t},getCyclic:function(e,t,n){var i,r=this.chart,a=this.userOptions,o=e+"Index",s=e+"Counter",l=n?n.length:w(r.options.chart[e+"Count"],r[e+"Count"]);t||(i=w(a[o],a["_"+o]),c(i)||(r.series.length||(r[s]=0),a["_"+o]=i=r[s]%l,r[s]+=1),n&&(t=n[i])),void 0!==i&&(this[o]=i),this[e]=t},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||l[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:e.LegendSymbolMixin.drawLineMarker,setData:function(t,n,i,r){var a,o=this,s=o.points,l=s&&s.length||0,c=o.options,d=o.chart,h=null,p=o.xAxis,f=c.turboThreshold,b=this.xData,y=this.yData,x=(a=o.pointArrayMap)&&a.length;if(t=t||[],a=t.length,n=w(n,!0),!1!==r&&a&&l===a&&!o.cropped&&!o.hasGroupedData&&o.visible)u(t,function(e,t){s[t].update&&e!==c.data[t]&&s[t].update(e,!1,null,!1)});else{if(o.xIncrement=null,o.colorCounter=0,u(this.parallelArrays,function(e){o[e+"Data"].length=0}),f&&a>f){for(i=0;null===h&&i<a;)h=t[i],i++;if(m(h))for(i=0;i<a;i++)b[i]=this.autoIncrement(),y[i]=t[i];else if(g(h))if(x)for(i=0;i<a;i++)h=t[i],b[i]=h[0],y[i]=h.slice(1,x+1);else for(i=0;i<a;i++)h=t[i],b[i]=h[0],y[i]=h[1];else e.error(12)}else for(i=0;i<a;i++)void 0!==t[i]&&(h={series:o},o.pointClass.prototype.applyOptions.apply(h,[t[i]]),o.updateParallelArrays(h,i));for(v(y[0])&&e.error(14,!0),o.data=[],o.options.data=o.userOptions.data=t,i=l;i--;)s[i]&&s[i].destroy&&s[i].destroy();p&&(p.minRange=p.userMinRange),o.isDirty=d.isDirtyBox=!0,o.isDirtyData=!!s,i=!1}"point"===c.legendType&&(this.processData(),this.generatePoints()),n&&d.redraw(i)},processData:function(t){var n,i=this.xData,r=this.yData,a=i.length;n=0;var o,s,l,c=this.xAxis,u=this.options;l=u.cropThreshold;var d,h,p=this.getExtremesFromAll||u.getExtremesFromAll,f=this.isCartesian,u=c&&c.val2lin,g=c&&c.isLog;if(f&&!this.isDirty&&!c.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(c&&(t=c.getExtremes(),d=t.min,h=t.max),f&&this.sorted&&!p&&(!l||a>l||this.forceCrop)&&(i[a-1]<d||i[0]>h?(i=[],r=[]):(i[0]<d||i[a-1]>h)&&(n=this.cropData(this.xData,this.yData,d,h),i=n.xData,r=n.yData,n=n.start,o=!0)),l=i.length||1;--l;)a=g?u(i[l])-u(i[l-1]):i[l]-i[l-1],0<a&&(void 0===s||a<s)?s=a:0>a&&this.requireSorting&&e.error(15);this.cropped=o,this.cropStart=n,this.processedXData=i,this.processedYData=r,this.closestPointRange=s},cropData:function(e,t,n,i){var r,a=e.length,o=0,s=a,l=w(this.cropShoulder,1);for(r=0;r<a;r++)if(e[r]>=n){o=Math.max(0,r-l);break}for(n=r;n<a;n++)if(e[n]>i){s=n+l;break}return{xData:e.slice(o,s),yData:t.slice(o,s),start:o,end:s}},generatePoints:function(){var e,t,n,i,r=this.options,a=r.data,o=this.data,s=this.processedXData,l=this.processedYData,c=this.pointClass,u=s.length,d=this.cropStart||0,h=this.hasGroupedData,r=r.keys,p=[];for(o||h||(o=[],o.length=a.length,o=this.data=o),r&&h&&(this.options.keys=!1),i=0;i<u;i++)t=d+i,h?(n=(new c).init(this,[s[i]].concat(_(l[i]))),n.dataGroup=this.groupMap[i]):(n=o[t])||void 0===a[t]||(o[t]=n=(new c).init(this,a[t],s[i])),n&&(n.index=t,p[i]=n);if(this.options.keys=r,o&&(u!==(e=o.length)||h))for(i=0;i<e;i++)i!==d||h||(i+=u),o[i]&&(o[i].destroyElements(),o[i].plotX=void 0);this.data=o,this.points=p},getExtremes:function(e){var t,n=this.yAxis,a=this.processedXData,o=[],s=0;t=this.xAxis.getExtremes();var l,c,u,d,h=t.min,p=t.max;for(e=e||this.stackedYData||this.processedYData||[],t=e.length,d=0;d<t;d++)if(c=a[d],u=e[d],l=(m(u,!0)||g(u))&&(!n.positiveValuesOnly||u.length||0<u),c=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(a[d]||c)>=h&&(a[d]||c)<=p,l&&c)if(l=u.length)for(;l--;)null!==u[l]&&(o[s++]=u[l]);else o[s++]=u;this.dataMin=r(o),this.dataMax=i(o)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var e,t,n,i,r=this.options,o=r.stacking,s=this.xAxis,l=s.categories,u=this.yAxis,d=this.points,h=d.length,p=!!this.modifyValue,f=r.pointPlacement,g="between"===f||m(f),v=r.threshold,b=r.startFromThreshold?v:0,y=Number.MAX_VALUE;for("between"===f&&(f=.5),m(f)&&(f*=w(r.pointRange||s.pointRange)),r=0;r<h;r++){var x=d[r],_=x.x,k=x.y;t=x.low;var C,S=o&&u.stacks[(this.negStacks&&k<(b?0:v)?"-":"")+this.stackKey];u.positiveValuesOnly&&null!==k&&0>=k&&(x.isNull=!0),x.plotX=e=a(Math.min(Math.max(-1e5,s.translate(_,0,0,0,1,f,"flags"===this.type)),1e5)),o&&this.visible&&!x.isNull&&S&&S[_]&&(i=this.getStackIndicator(i,_,this.index),C=S[_],k=C.points[i.key],t=k[0],k=k[1],t===b&&i.key===S[_].base&&(t=w(v,u.min)),u.positiveValuesOnly&&0>=t&&(t=null),x.total=x.stackTotal=C.total,x.percentage=C.total&&x.y/C.total*100,x.stackY=k,C.setOffset(this.pointXOffset||0,this.barW||0)),x.yBottom=c(t)?u.translate(t,0,1,0,1):null,p&&(k=this.modifyValue(k,x)),x.plotY=t="number"==typeof k&&1/0!==k?Math.min(Math.max(-1e5,u.translate(k,0,1,0,1)),1e5):void 0,x.isInside=void 0!==t&&0<=t&&t<=u.len&&0<=e&&e<=s.len,x.clientX=g?a(s.translate(_,0,0,0,1,f)):e,x.negative=x.y<(v||0),x.category=l&&void 0!==l[x.x]?l[x.x]:x.x,x.isNull||(void 0!==n&&(y=Math.min(y,Math.abs(e-n))),n=e),x.zone=this.zones.length&&x.getZone()}this.closestPointRangePx=y},getValidPoints:function(e,t){var n=this.chart;return f(e||this.points||[],function(e){return!(t&&!n.isInsidePlot(e.plotX,e.plotY,n.inverted))&&!e.isNull})},setClip:function(e){var t=this.chart,n=this.options,i=t.renderer,r=t.inverted,a=this.clipBox,o=a||t.clipBox,s=this.sharedClipKey||["_sharedClip",e&&e.duration,e&&e.easing,o.height,n.xAxis,n.yAxis].join(),l=t[s],c=t[s+"m"];l||(e&&(o.width=0,t[s+"m"]=c=i.clipRect(-99,r?-t.plotLeft:-t.plotTop,99,r?t.chartWidth:t.chartHeight)),t[s]=l=i.clipRect(o),l.count={length:0}),e&&!l.count[this.index]&&(l.count[this.index]=!0,l.count.length+=1),!1!==n.clip&&(this.group.clip(e||a?l:t.clipRect),this.markerGroup.clip(c),this.sharedClipKey=s),e||(l.count[this.index]&&(delete l.count[this.index],--l.count.length),0===l.count.length&&s&&t[s]&&(a||(t[s]=t[s].destroy()),t[s+"m"]&&(t[s+"m"]=t[s+"m"].destroy())))},animate:function(e){var t,i=this.chart,r=n(this.options.animation);e?this.setClip(r):(t=this.sharedClipKey,(e=i[t])&&e.animate({width:i.plotSizeX},r),i[t+"m"]&&i[t+"m"].animate({width:i.plotSizeX+99},r),this.animate=null)},afterAnimate:function(){this.setClip(),p(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var e,t,n,i,r,a,o,s,l=this.points,c=this.chart,u=this.options.marker,d=this[this.specialGroup]||this.markerGroup,h=w(u.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>=2*u.radius);if(!1!==u.enabled||this._hasPointMarkers)for(t=0;t<l.length;t++)n=l[t],e=n.plotY,i=n.graphic,r=n.marker||{},a=!!n.marker,o=h&&void 0===r.enabled||r.enabled,s=n.isInside,o&&m(e)&&null!==n.y?(e=w(r.symbol,this.symbol),n.hasImage=0===e.indexOf("url"),o=this.markerAttribs(n,n.selected&&"select"),i?i[s?"show":"hide"](!0).animate(o):s&&(0<o.width||n.hasImage)&&(n.graphic=i=c.renderer.symbol(e,o.x,o.y,o.width,o.height,a?r:u).add(d)),i&&i.attr(this.pointAttribs(n,n.selected&&"select")),i&&i.addClass(n.getClassName(),!0)):i&&(n.graphic=i.destroy())},markerAttribs:function(e,t){var n=this.options.marker,i=e.marker||{},r=w(i.radius,n.radius);return t&&(n=n.states[t],t=i.states&&i.states[t],r=w(t&&t.radius,n&&n.radius,r+(n&&n.radiusPlus||0))),e.hasImage&&(r=0),e={x:Math.floor(e.plotX)-r,y:e.plotY-r},r&&(e.width=e.height=2*r),e},pointAttribs:function(e,t){var n=this.options.marker,i=e&&e.options,r=i&&i.marker||{},a=this.color,o=i&&i.color,s=e&&e.color,i=w(r.lineWidth,n.lineWidth);return e=e&&e.zone&&e.zone.color,a=o||e||s||a,e=r.fillColor||n.fillColor||a,a=r.lineColor||n.lineColor||a,t&&(n=n.states[t],t=r.states&&r.states[t]||{},i=w(t.lineWidth,n.lineWidth,i+w(t.lineWidthPlus,n.lineWidthPlus,0)),e=t.fillColor||n.fillColor||e,a=t.lineColor||n.lineColor||a),{stroke:a,"stroke-width":i,fill:e}},destroy:function(){var e,t,n,i,r=this,a=r.chart,o=/AppleWebKit\/533/.test(S.navigator.userAgent),s=r.data||[];for(p(r,"destroy"),x(r),u(r.axisTypes||[],function(e){(i=r[e])&&i.series&&(d(i.series,r),i.isDirty=i.forceRedraw=!0)}),r.legendItem&&r.chart.legend.destroyItem(r),t=s.length;t--;)(n=s[t])&&n.destroy&&n.destroy();r.points=null,clearTimeout(r.animationTimeout),y(r,function(t,n){t instanceof k&&!t.survive&&(e=o&&"group"===n?"hide":"destroy",t[e]())}),a.hoverSeries===r&&(a.hoverSeries=null),d(a.series,r),a.orderSeries(),y(r,function(e,t){delete r[t]})},getGraphPath:function(e,t,n){var i,r,a=this,o=a.options,s=o.step,l=[],d=[];return e=e||a.points,(i=e.reversed)&&e.reverse(),(s={right:1,center:2}[s]||s&&3)&&i&&(s=4-s),!o.connectNulls||t||n||(e=this.getValidPoints(e)),u(e,function(i,u){var h=i.plotX,p=i.plotY,f=e[u-1];(i.leftCliff||f&&f.rightCliff)&&!n&&(r=!0),i.isNull&&!c(t)&&0<u?r=!o.connectNulls:i.isNull&&!t?r=!0:(0===u||r?u=["M",i.plotX,i.plotY]:a.getPointSpline?u=a.getPointSpline(e,i,u):s?(u=1===s?["L",f.plotX,p]:2===s?["L",(f.plotX+h)/2,f.plotY,"L",(f.plotX+h)/2,p]:["L",h,f.plotY],u.push("L",h,p)):u=["L",h,p],d.push(i.x),s&&d.push(i.x),l.push.apply(l,u),r=!1)}),l.xMap=d,a.graphPath=l},drawGraph:function(){var e=this,t=this.options,n=(this.gappedPath||this.getGraphPath).call(this),i=[["graph","highcharts-graph",t.lineColor||this.color,t.dashStyle]];u(this.zones,function(n,r){i.push(["zone-graph-"+r,"highcharts-graph highcharts-zone-graph-"+r+" "+(n.className||""),n.color||e.color,n.dashStyle||t.dashStyle])}),u(i,function(i,r){var a=i[0],o=e[a];o?(o.endX=n.xMap,o.animate({d:n})):n.length&&(e[a]=e.chart.renderer.path(n).addClass(i[1]).attr({zIndex:1}).add(e.group),o={stroke:i[2],"stroke-width":t.lineWidth,fill:e.fillGraph&&e.color||"none"},i[3]?o.dashstyle=i[3]:"square"!==t.linecap&&(o["stroke-linecap"]=o["stroke-linejoin"]="round"),o=e[a].attr(o).shadow(2>r&&t.shadow)),o&&(o.startX=n.xMap,o.isArea=n.isArea)})},applyZones:function(){var e,t,n,i,r,a,o,s,l,c=this,d=this.chart,h=d.renderer,p=this.zones,f=this.clips||[],g=this.graph,m=this.area,v=Math.max(d.chartWidth,d.chartHeight),b=this[(this.zoneAxis||"y")+"Axis"],y=d.inverted,x=!1;p.length&&(g||m)&&b&&void 0!==b.min&&(r=b.reversed,a=b.horiz,g&&g.hide(),m&&m.hide(),i=b.getExtremes(),u(p,function(u,p){e=r?a?d.plotWidth:0:a?0:b.toPixels(i.min),e=Math.min(Math.max(w(t,e),0),v),t=Math.min(Math.max(Math.round(b.toPixels(w(u.value,i.max),!0)),0),v),x&&(e=t=b.toPixels(i.max)),o=Math.abs(e-t),s=Math.min(e,t),l=Math.max(e,t),b.isXAxis?(n={x:y?l:s,y:0,width:o,height:v},a||(n.x=d.plotHeight-n.x)):(n={x:0,y:y?l:s,width:v,height:o},a&&(n.y=d.plotWidth-n.y)),y&&h.isVML&&(n=b.isXAxis?{x:0,y:r?s:l,height:n.width,width:d.chartWidth}:{x:n.y-d.plotLeft-d.spacingBox.x,y:0,width:n.height,height:d.chartHeight}),f[p]?f[p].animate(n):(f[p]=h.clipRect(n),g&&c["zone-graph-"+p].clip(f[p]),m&&c["zone-area-"+p].clip(f[p])),x=u.value>i.max}),this.clips=f)},invertGroups:function(e){function n(){u(["group","markerGroup"],function(t){r[t]&&(a.renderer.isVML&&r[t].attr({width:r.yAxis.len,height:r.xAxis.len}),r[t].width=r.yAxis.len,r[t].height=r.xAxis.len,r[t].invert(e))})}var i,r=this,a=r.chart;r.xAxis&&(i=t(a,"resize",n),t(r,"destroy",i),n(),r.invertGroups=n)},plotGroup:function(e,t,n,i,r){var a=this[e],o=!a;return o&&(this[e]=a=this.chart.renderer.g().attr({zIndex:i||.1}).add(r)),a.addClass("highcharts-"+t+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series highcharts-color-"+this.colorIndex+" "+(this.options.className||""),!0),a.attr({visibility:n})[o?"attr":"animate"](this.getPlotBox()),a},getPlotBox:function(){var e=this.chart,t=this.xAxis,n=this.yAxis;return e.inverted&&(t=n,n=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:n?n.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e,t=this,i=t.chart,r=t.options,a=!!t.animate&&i.renderer.isSVG&&n(r.animation).duration,o=t.visible?"inherit":"hidden",s=r.zIndex,l=t.hasRendered,c=i.seriesGroup,u=i.inverted;e=t.plotGroup("group","series",o,s,c),t.markerGroup=t.plotGroup("markerGroup","markers",o,s,c),a&&t.animate(!0),e.inverted=!!t.isCartesian&&u,t.drawGraph&&(t.drawGraph(),t.applyZones()),t.drawDataLabels&&t.drawDataLabels(),t.visible&&t.drawPoints(),t.drawTracker&&!1!==t.options.enableMouseTracking&&t.drawTracker(),t.invertGroups(u),!1===r.clip||t.sharedClipKey||l||e.clip(i.clipRect),a&&t.animate(),l||(t.animationTimeout=C(function(){t.afterAnimate()},a)),t.isDirty=!1,t.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirty||this.isDirtyData,n=this.group,i=this.xAxis,r=this.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:w(i&&i.left,e.plotLeft),translateY:w(r&&r.top,e.plotTop)})),this.translate(),this.render(),t&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(e,t){var n=this.xAxis,i=this.yAxis,r=this.chart.inverted;return this.searchKDTree({clientX:r?n.len-e.chartY+n.pos:e.chartX-n.pos,plotY:r?i.len-e.chartX+i.pos:e.chartY-i.pos},t)},buildKDTree:function(){function e(n,i,r){var a,o;if(o=n&&n.length)return a=t.kdAxisArray[i%r],n.sort(function(e,t){return e[a]-t[a]}),o=Math.floor(o/2),{point:n[o],left:e(n.slice(0,o),i+1,r),right:e(n.slice(o+1),i+1,r)}}this.buildingKdTree=!0;var t=this,n=-1<t.options.findNearestPointBy.indexOf("y")?2:1;delete t.kdTree,C(function(){t.kdTree=e(t.getValidPoints(null,!t.directTouch),n,n),t.buildingKdTree=!1},t.options.kdNow?0:1)},searchKDTree:function(e,t){function n(e,t,s,l){var u,d,h=t.point,p=i.kdAxisArray[s%l],f=h;return d=c(e[r])&&c(h[r])?Math.pow(e[r]-h[r],2):null,u=c(e[a])&&c(h[a])?Math.pow(e[a]-h[a],2):null,u=(d||0)+(u||0),h.dist=c(u)?Math.sqrt(u):Number.MAX_VALUE,h.distX=c(d)?Math.sqrt(d):Number.MAX_VALUE,p=e[p]-h[p],u=0>p?"left":"right",d=0>p?"right":"left",t[u]&&(u=n(e,t[u],s+1,l),f=u[o]<f[o]?u:h),t[d]&&Math.sqrt(p*p)<f[o]&&(e=n(e,t[d],s+1,l),f=e[o]<f[o]?e:f),f}var i=this,r=this.kdAxisArray[0],a=this.kdAxisArray[1],o=t?"distX":"dist";if(t=-1<i.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return n(e,this.kdTree,t,t)}})}(e),function(e){var t=e.Axis,n=e.Chart,i=e.correctFloat,r=e.defined,a=e.destroyObjectProperties,o=e.each,s=e.format,l=e.objectEach,c=e.pick,u=e.Series;e.StackItem=function(e,t,n,i,r){var a=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t,this.x=i,this.total=null,this.points={},this.stack=r,this.rightCliff=this.leftCliff=0,this.alignOptions={align:t.align||(a?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(a?"middle":n?"bottom":"top"),y:c(t.y,a?4:n?14:-6),x:c(t.x,a?n?-6:6:0)},this.textAlign=t.textAlign||(a?n?"right":"left":"center")},e.StackItem.prototype={destroy:function(){a(this,this.axis)},render:function(e){var t=this.options,n=t.format,n=n?s(n,this):t.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(e)},setOffset:function(e,t){var n=this.axis,i=n.chart,r=n.translate(n.usePercentage?100:this.total,0,0,0,1),n=n.translate(0),n=Math.abs(r-n);e=i.xAxis[0].translate(this.x)+e,r=this.getStackBox(i,this,e,r,t,n),(t=this.label)&&(t.align(this.alignOptions,null,r),r=t.alignAttr,t[!1===this.options.crop||i.isInsidePlot(r.x,r.y)?"show":"hide"](!0))},getStackBox:function(e,t,n,i,r,a){var o=t.axis.reversed,s=e.inverted;return e=e.plotHeight,t=t.isNegative&&!o||!t.isNegative&&o,{x:s?t?i:i-a:n,y:s?e-n-r:t?e-i-a:e-i,width:s?a:r,height:s?r:a}}},n.prototype.getStacks=function(){var e=this;o(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),o(e.series,function(t){!t.options.stacking||!0!==t.visible&&!1!==e.options.chart.ignoreHiddenSeries||(t.stackKey=t.type+c(t.options.stack,""))})},t.prototype.buildStacks=function(){var e,t=this.series,n=c(this.options.reversedStacks,!0),i=t.length;if(!this.isXAxis){for(this.usePercentage=!1,e=i;e--;)t[n?e:i-e-1].setStackedPoints();if(this.usePercentage)for(e=0;e<i;e++)t[e].setPercentStacks()}},t.prototype.renderStackTotals=function(){var e=this.chart,t=e.renderer,n=this.stacks,i=this.stackTotalGroup;i||(this.stackTotalGroup=i=t.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),i.translate(e.plotLeft,e.plotTop),l(n,function(e){l(e,function(e){e.render(i)})})},t.prototype.resetStacks=function(){var e=this,t=e.stacks;e.isXAxis||l(t,function(t){l(t,function(n,i){n.touched<e.stacksTouched?(n.destroy(),delete t[i]):(n.total=null,n.cum=null)})})},t.prototype.cleanStacks=function(){var e;this.isXAxis||(this.oldStacks&&(e=this.stacks=this.oldStacks),l(e,function(e){l(e,function(e){e.cum=e.total})}))},u.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var t,n,a,o,s,l,u,d=this.processedXData,h=this.processedYData,p=[],f=h.length,g=this.options,m=g.threshold,v=g.startFromThreshold?m:0,b=g.stack,g=g.stacking,y=this.stackKey,w="-"+y,x=this.negStacks,_=this.yAxis,k=_.stacks,C=_.oldStacks;for(_.stacksTouched+=1,s=0;s<f;s++)l=d[s],u=h[s],t=this.getStackIndicator(t,l,this.index),o=t.key,a=(n=x&&u<(v?0:m))?w:y,k[a]||(k[a]={}),k[a][l]||(C[a]&&C[a][l]?(k[a][l]=C[a][l],k[a][l].total=null):k[a][l]=new e.StackItem(_,_.options.stackLabels,n,l,b)),a=k[a][l],null!==u&&(a.points[o]=a.points[this.index]=[c(a.cum,v)],r(a.cum)||(a.base=o),a.touched=_.stacksTouched,
0<t.index&&!1===this.singleStacks&&(a.points[o][0]=a.points[this.index+","+l+",0"][0])),"percent"===g?(n=n?y:w,x&&k[n]&&k[n][l]?(n=k[n][l],a.total=n.total=Math.max(n.total,a.total)+Math.abs(u)||0):a.total=i(a.total+(Math.abs(u)||0))):a.total=i(a.total+(u||0)),a.cum=c(a.cum,v)+(u||0),null!==u&&(a.points[o].push(a.cum),p[s]=a.cum);"percent"===g&&(_.usePercentage=!0),this.stackedYData=p,_.oldStacks={}}},u.prototype.setPercentStacks=function(){var e,t=this,n=t.stackKey,r=t.yAxis.stacks,a=t.processedXData;o([n,"-"+n],function(n){for(var o,s,l=a.length;l--;)o=a[l],e=t.getStackIndicator(e,o,t.index,n),(o=(s=r[n]&&r[n][o])&&s.points[e.key])&&(s=s.total?100/s.total:0,o[0]=i(o[0]*s),o[1]=i(o[1]*s),t.stackedYData[l]=o[1])})},u.prototype.getStackIndicator=function(e,t,n,i){return!r(e)||e.x!==t||i&&e.key!==i?e={x:t,index:0,key:i}:e.index++,e.key=[n,t,e.index].join(),e}}(e),function(e){var t=e.addEvent,n=e.animate,i=e.Axis,r=e.createElement,a=e.css,o=e.defined,s=e.each,l=e.erase,c=e.extend,u=e.fireEvent,d=e.inArray,h=e.isNumber,p=e.isObject,f=e.isArray,g=e.merge,m=e.objectEach,v=e.pick,b=e.Point,y=e.Series,w=e.seriesTypes,x=e.setAnimation,_=e.splat;c(e.Chart.prototype,{addSeries:function(e,t,n){var i,r=this;return e&&(t=v(t,!0),u(r,"addSeries",{options:e},function(){i=r.initSeries(e),r.isDirtyLegend=!0,r.linkSeries(),t&&r.redraw(n)})),i},addAxis:function(e,t,n,r){var a=t?"xAxis":"yAxis",o=this.options;return e=g(e,{index:this[a].length,isX:t}),t=new i(this,e),o[a]=_(o[a]||{}),o[a].push(e),v(n,!0)&&this.redraw(r),t},showLoading:function(e){var i=this,o=i.options,s=i.loadingDiv,l=o.loading,u=function(){s&&a(s,{left:i.plotLeft+"px",top:i.plotTop+"px",width:i.plotWidth+"px",height:i.plotHeight+"px"})};s||(i.loadingDiv=s=r("div",{className:"highcharts-loading highcharts-loading-hidden"},null,i.container),i.loadingSpan=r("span",{className:"highcharts-loading-inner"},null,s),t(i,"redraw",u)),s.className="highcharts-loading",i.loadingSpan.innerHTML=e||o.lang.loading,a(s,c(l.style,{zIndex:10})),a(i.loadingSpan,l.labelStyle),i.loadingShown||(a(s,{opacity:0,display:""}),n(s,{opacity:l.style.opacity||.5},{duration:l.showDuration||0})),i.loadingShown=!0,u()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&(t.className="highcharts-loading highcharts-loading-hidden",n(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){a(t,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions tooltip".split(" "),update:function(e,t,n){var i,r,a=this,l={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},c=e.chart,u=[];c&&(g(!0,a.options.chart,c),"className"in c&&a.setClassName(c.className),("inverted"in c||"polar"in c)&&(a.propFromSeries(),i=!0),"alignTicks"in c&&(i=!0),m(c,function(e,t){-1!==d("chart."+t,a.propsRequireUpdateSeries)&&(r=!0),-1!==d(t,a.propsRequireDirtyBox)&&(a.isDirtyBox=!0)}),"style"in c&&a.renderer.setStyle(c.style)),e.colors&&(this.options.colors=e.colors),e.plotOptions&&g(!0,this.options.plotOptions,e.plotOptions),m(e,function(e,t){a[t]&&"function"==typeof a[t].update?a[t].update(e,!1):"function"==typeof a[l[t]]&&a[l[t]](e),"chart"!==t&&-1!==d(t,a.propsRequireUpdateSeries)&&(r=!0)}),s("xAxis yAxis zAxis series colorAxis pane".split(" "),function(t){e[t]&&(s(_(e[t]),function(e,i){(i=o(e.id)&&a.get(e.id)||a[t][i])&&i.coll===t&&(i.update(e,!1),n&&(i.touched=!0)),!i&&n&&("series"===t?a.addSeries(e,!1).touched=!0:"xAxis"!==t&&"yAxis"!==t||(a.addAxis(e,"xAxis"===t,!1).touched=!0))}),n&&s(a[t],function(e){e.touched?delete e.touched:u.push(e)}))}),s(u,function(e){e.remove(!1)}),i&&s(a.axes,function(e){e.update({},!1)}),r&&s(a.series,function(e){e.update({},!1)}),e.loading&&g(!0,a.options.loading,e.loading),i=c&&c.width,c=c&&c.height,h(i)&&i!==a.chartWidth||h(c)&&c!==a.chartHeight?a.setSize(i,c):v(t,!0)&&a.redraw()},setSubtitle:function(e){this.setTitle(void 0,e)}}),c(b.prototype,{update:function(e,t,n,i){function r(){o.applyOptions(e),null===o.y&&l&&(o.graphic=l.destroy()),p(e,!0)&&(l&&l.element&&e&&e.marker&&void 0!==e.marker.symbol&&(o.graphic=l.destroy()),e&&e.dataLabels&&o.dataLabel&&(o.dataLabel=o.dataLabel.destroy())),a=o.index,s.updateParallelArrays(o,a),u.data[a]=p(u.data[a],!0)||p(e,!0)?o.options:e,s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(c.isDirtyBox=!0),"point"===u.legendType&&(c.isDirtyLegend=!0),t&&c.redraw(n)}var a,o=this,s=o.series,l=o.graphic,c=s.chart,u=s.options;t=v(t,!0),!1===i?r():o.firePointEvent("update",{options:e},r)},remove:function(e,t){this.series.removePoint(d(this,this.series.data),e,t)}}),c(y.prototype,{addPoint:function(e,t,n,i){var r,a,o,s,l=this.options,c=this.data,u=this.chart,d=this.xAxis,d=d&&d.hasNames&&d.names,h=l.data,p=this.xData;if(t=v(t,!0),r={series:this},this.pointClass.prototype.applyOptions.apply(r,[e]),s=r.x,o=p.length,this.requireSorting&&s<p[o-1])for(a=!0;o&&p[o-1]>s;)o--;this.updateParallelArrays(r,"splice",o,0,0),this.updateParallelArrays(r,o),d&&r.name&&(d[s]=r.name),h.splice(o,0,e),a&&(this.data.splice(o,0,null),this.processData()),"point"===l.legendType&&this.generatePoints(),n&&(c[0]&&c[0].remove?c[0].remove(!1):(c.shift(),this.updateParallelArrays(r,"shift"),h.shift())),this.isDirtyData=this.isDirty=!0,t&&u.redraw(i)},removePoint:function(e,t,n){var i=this,r=i.data,a=r[e],o=i.points,s=i.chart,l=function(){o&&o.length===r.length&&o.splice(e,1),r.splice(e,1),i.options.data.splice(e,1),i.updateParallelArrays(a||{series:i},"splice",e,1),a&&a.destroy(),i.isDirty=!0,i.isDirtyData=!0,t&&s.redraw()};x(n,s),t=v(t,!0),a?a.firePointEvent("remove",null,l):l()},remove:function(e,t,n){function i(){r.destroy(),a.isDirtyLegend=a.isDirtyBox=!0,a.linkSeries(),v(e,!0)&&a.redraw(t)}var r=this,a=r.chart;!1!==n?u(r,"remove",null,i):i()},update:function(e,t){var n,i=this,r=i.chart,a=i.userOptions,o=i.oldType||i.type,l=e.type||a.type||r.options.chart.type,u=w[o].prototype,d=["group","markerGroup","dataLabelsGroup","navigatorSeries","baseSeries"],h=i.finishedAnimating&&{animation:!1};if(Object.keys&&"data"===Object.keys(e).toString())return this.setData(e.data,t);(l&&l!==o||void 0!==e.zIndex)&&(d.length=0),s(d,function(e){d[e]=i[e],delete i[e]}),e=g(a,h,{index:i.index,pointStart:i.xData[0]},{data:i.options.data},e),i.remove(!1,null,!1);for(n in u)i[n]=void 0;c(i,w[l||o].prototype),s(d,function(e){i[e]=d[e]}),i.init(r,e),i.oldType=o,r.linkSeries(),v(t,!0)&&r.redraw(!1)}}),c(i.prototype,{update:function(e,t){var n=this.chart;e=n.options[this.coll][this.options.index]=g(this.userOptions,e),this.destroy(!0),this.init(n,c(e,{events:void 0})),n.isDirtyBox=!0,v(t,!0)&&n.redraw()},remove:function(e){for(var t=this.chart,n=this.coll,i=this.series,r=i.length;r--;)i[r]&&i[r].remove(!1);l(t.axes,this),l(t[n],this),f(t.options[n])?t.options[n].splice(this.options.index,1):delete t.options[n],s(t[n],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,v(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}})}(e),function(e){var t=e.color,n=e.each,i=e.map,r=e.pick,a=e.Series;(0,e.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(t){var a,o,s=[],l=[],c=this.xAxis,u=this.yAxis,d=u.stacks[this.stackKey],h={},p=this.index,f=u.series,g=f.length,m=r(u.options.reversedStacks,!0)?1:-1;if(t=t||this.points,this.options.stacking){for(o=0;o<t.length;o++)h[t[o].x]=t[o];e.objectEach(d,function(e,t){null!==e.total&&l.push(t)}),l.sort(function(e,t){return e-t}),a=i(f,function(){return this.visible}),n(l,function(e,t){var i,r,f=0;if(h[e]&&!h[e].isNull)s.push(h[e]),n([-1,1],function(n){var s=1===n?"rightNull":"leftNull",c=0,u=d[l[t+n]];if(u)for(o=p;0<=o&&o<g;)i=u.points[o],i||(o===p?h[e][s]=!0:a[o]&&(r=d[e].points[o])&&(c-=r[1]-r[0])),o+=m;h[e][1===n?"rightCliff":"leftCliff"]=c});else{for(o=p;0<=o&&o<g;){if(i=d[e].points[o]){f=i[1];break}o+=m}f=u.translate(f,0,1,0,1),s.push({isNull:!0,plotX:c.translate(e,0,0,0,1),x:e,plotY:f,yBottom:f})}})}return s},getGraphPath:function(e){var t,n,i,o,s=a.prototype.getGraphPath,l=this.options,c=l.stacking,u=this.yAxis,d=[],h=[],p=this.index,f=u.stacks[this.stackKey],g=l.threshold,m=u.getThreshold(l.threshold),l=l.connectNulls||"percent"===c,v=function(t,n,r){var a=e[t];t=c&&f[a.x].points[p];var o=a[r+"Null"]||0;r=a[r+"Cliff"]||0;var s,l,a=!0;r||o?(s=(o?t[0]:t[1])+r,l=t[0]+r,a=!!o):!c&&e[n]&&e[n].isNull&&(s=l=g),void 0!==s&&(h.push({plotX:i,plotY:null===s?m:u.getThreshold(s),isNull:a,isCliff:!0}),d.push({plotX:i,plotY:null===l?m:u.getThreshold(l),doCurve:!1}))};for(e=e||this.points,c&&(e=this.getStackPoints(e)),t=0;t<e.length;t++)n=e[t].isNull,i=r(e[t].rectPlotX,e[t].plotX),o=r(e[t].yBottom,m),(!n||l)&&(l||v(t,t-1,"left"),n&&!c&&l||(h.push(e[t]),d.push({x:t,plotX:i,plotY:o})),l||v(t,t+1,"right"));return t=s.call(this,h,!0,!0),d.reversed=!0,n=s.call(this,d,!0,!0),n.length&&(n[0]="L"),n=t.concat(n),s=s.call(this,h,!1,l),n.xMap=t.xMap,this.areaPath=n,s},drawGraph:function(){this.areaPath=[],a.prototype.drawGraph.apply(this);var e=this,i=this.areaPath,o=this.options,s=[["area","highcharts-area",this.color,o.fillColor]];n(this.zones,function(t,n){s.push(["zone-area-"+n,"highcharts-area highcharts-zone-area-"+n+" "+t.className,t.color||e.color,t.fillColor||o.fillColor])}),n(s,function(n){var a=n[0],s=e[a];s?(s.endX=i.xMap,s.animate({d:i})):(s=e[a]=e.chart.renderer.path(i).addClass(n[1]).attr({fill:r(n[3],t(n[2]).setOpacity(r(o.fillOpacity,.75)).get()),zIndex:0}).add(e.group),s.isArea=!0),s.startX=i.xMap,s.shiftUnit=o.step?2:1})},drawLegendSymbol:e.LegendSymbolMixin.drawRectangle})}(e),function(e){var t=e.pick;(e=e.seriesType)("spline","line",{},{getPointSpline:function(e,n,i){var r=n.plotX,a=n.plotY,o=e[i-1];i=e[i+1];var s,l,c,u;if(o&&!o.isNull&&!1!==o.doCurve&&!n.isCliff&&i&&!i.isNull&&!1!==i.doCurve&&!n.isCliff){e=o.plotY,c=i.plotX,i=i.plotY;var d=0;s=(1.5*r+o.plotX)/2.5,l=(1.5*a+e)/2.5,c=(1.5*r+c)/2.5,u=(1.5*a+i)/2.5,c!==s&&(d=(u-l)*(c-r)/(c-s)+a-u),l+=d,u+=d,l>e&&l>a?(l=Math.max(e,a),u=2*a-l):l<e&&l<a&&(l=Math.min(e,a),u=2*a-l),u>i&&u>a?(u=Math.max(i,a),l=2*a-u):u<i&&u<a&&(u=Math.min(i,a),l=2*a-u),n.rightContX=c,n.rightContY=u}return n=["C",t(o.rightContX,o.plotX),t(o.rightContY,o.plotY),t(s,r),t(l,a),r,a],o.rightContX=o.rightContY=null,n}})}(e),function(e){var t=e.seriesTypes.area.prototype;(0,e.seriesType)("areaspline","spline",e.defaultPlotOptions.area,{getStackPoints:t.getStackPoints,getGraphPath:t.getGraphPath,drawGraph:t.drawGraph,drawLegendSymbol:e.LegendSymbolMixin.drawRectangle})}(e),function(e){var t=e.animObject,n=e.color,i=e.each,r=e.extend,a=e.isNumber,o=e.merge,s=e.pick,l=e.Series,c=e.seriesType,u=e.svg;c("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1,shadow:!1},select:{color:"#cccccc",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){l.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&i(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var e,t=this,n=t.options,r=t.xAxis,a=t.yAxis,o=r.reversed,l={},c=0;!1===n.grouping?c=1:i(t.chart.series,function(n){var i,r=n.options,o=n.yAxis;n.type!==t.type||!n.visible&&t.chart.options.chart.ignoreHiddenSeries||a.len!==o.len||a.pos!==o.pos||(r.stacking?(e=n.stackKey,void 0===l[e]&&(l[e]=c++),i=l[e]):!1!==r.grouping&&(i=c++),n.columnIndex=i)});var u=Math.min(Math.abs(r.transA)*(r.ordinalSlope||n.pointRange||r.closestPointRange||r.tickInterval||1),r.len),d=u*n.groupPadding,h=(u-2*d)/(c||1),n=Math.min(n.maxPointWidth||r.len,s(n.pointWidth,h*(1-2*n.pointPadding)));return t.columnMetrics={width:n,offset:(h-n)/2+(d+((t.columnIndex||0)+(o?1:0))*h-u/2)*(o?-1:1)},t.columnMetrics},crispCol:function(e,t,n,i){var r=this.chart,a=this.borderWidth,o=-(a%2?.5:0),a=a%2?.5:1;return r.inverted&&r.renderer.isVML&&(a+=1),this.options.crisp&&(n=Math.round(e+n)+o,e=Math.round(e)+o,n-=e),i=Math.round(t+i)+a,o=.5>=Math.abs(t)&&.5<i,t=Math.round(t)+a,i-=t,o&&i&&(--t,i+=1),{x:e,y:t,width:n,height:i}},translate:function(){var e=this,t=e.chart,n=e.options,r=e.dense=2>e.closestPointRange*e.xAxis.transA,r=e.borderWidth=s(n.borderWidth,r?0:1),a=e.yAxis,o=e.translatedThreshold=a.getThreshold(n.threshold),c=s(n.minPointLength,5),u=e.getColumnMetrics(),d=u.width,h=e.barW=Math.max(d,1+2*r),p=e.pointXOffset=u.offset;t.inverted&&(o-=.5),n.pointPadding&&(h=Math.ceil(h)),l.prototype.translate.apply(e),i(e.points,function(n){var i,r=s(n.yBottom,o),l=999+Math.abs(r),l=Math.min(Math.max(-l,n.plotY),a.len+l),u=n.plotX+p,f=h,g=Math.min(l,r),m=Math.max(l,r)-g;Math.abs(m)<c&&c&&(m=c,i=!a.reversed&&!n.negative||a.reversed&&n.negative,g=Math.abs(g-o)>c?r-c:o-(i?c:0)),n.barX=u,n.pointWidth=d,n.tooltipPos=t.inverted?[a.len+a.pos-t.plotLeft-l,e.xAxis.len-u-f/2,m]:[u+f/2,l+a.pos-t.plotTop,m],n.shapeType="rect",n.shapeArgs=e.crispCol.apply(e,n.isNull?[u,o,f,0]:[u,g,f,m])})},getSymbol:e.noop,drawLegendSymbol:e.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(e,t){var i,r=this.options,a=this.pointAttrToOptions||{};i=a.stroke||"borderColor";var s=a["stroke-width"]||"borderWidth",l=e&&e.color||this.color,c=e[i]||r[i]||this.color||l,u=e[s]||r[s]||this[s]||0,a=r.dashStyle;return e&&this.zones.length&&(l=e.getZone(),l=e.options.color||l&&l.color||this.color),t&&(e=o(r.states[t],e.options.states&&e.options.states[t]||{}),t=e.brightness,l=e.color||void 0!==t&&n(l).brighten(e.brightness).get()||l,c=e[i]||c,u=e[s]||u,a=e.dashStyle||a),i={fill:l,stroke:c,"stroke-width":u},a&&(i.dashstyle=a),i},drawPoints:function(){var e,t=this,n=this.chart,r=t.options,s=n.renderer,l=r.animationLimit||250;i(t.points,function(i){var c=i.graphic;a(i.plotY)&&null!==i.y?(e=i.shapeArgs,c?c[n.pointCount<l?"animate":"attr"](o(e)):i.graphic=c=s[i.shapeType](e).add(i.group||t.group),r.borderRadius&&c.attr({r:r.borderRadius}),c.attr(t.pointAttribs(i,i.selected&&"select")).shadow(r.shadow,null,r.stacking&&!r.borderRadius),c.addClass(i.getClassName(),!0)):c&&(i.graphic=c.destroy())})},animate:function(e){var n=this,i=this.yAxis,a=n.options,o=this.chart.inverted,s={};u&&(e?(s.scaleY=.001,e=Math.min(i.pos+i.len,Math.max(i.pos,i.toPixels(a.threshold))),o?s.translateX=e-i.len:s.translateY=e,n.group.attr(s)):(s[o?"translateX":"translateY"]=i.pos,n.group.animate(s,r(t(n.options.animation),{step:function(e,t){n.group.attr({scaleY:Math.max(.001,t.pos)})}})),n.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&i(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),l.prototype.remove.apply(e,arguments)}})}(e),function(e){(e=e.seriesType)("bar","column",null,{inverted:!0})}(e),function(e){var t=e.Series;(e=e.seriesType)("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&t.prototype.drawGraph.call(this)}})}(e),function(e){var t=e.pick,n=e.relativeLength;e.CenteredSeriesMixin={getCenter:function(){var e,i,r=this.options,a=this.chart,o=2*(r.slicedOffset||0),s=a.plotWidth-2*o,a=a.plotHeight-2*o,l=r.center,l=[t(l[0],"50%"),t(l[1],"50%"),r.size||"100%",r.innerSize||0],c=Math.min(s,a);for(e=0;4>e;++e)i=l[e],r=2>e||2===e&&/%$/.test(i),l[e]=n(i,[s,a,c,l[2]][e])+(r?o:0);return l[3]>l[2]&&(l[3]=l[2]),l}}}(e),function(e){var t=e.addEvent,n=e.defined,i=e.each,r=e.extend,a=e.inArray,o=e.noop,s=e.pick,l=e.Point,c=e.Series,u=e.seriesType,d=e.setAnimation;u("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1,shadow:!1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:e.seriesTypes.column.prototype.pointAttribs,animate:function(e){var t=this,n=t.points,r=t.startAngleRad;e||(i(n,function(e){var n=e.graphic,i=e.shapeArgs;n&&(n.attr({r:e.startR||t.center[3]/2,start:r,end:r}),n.animate({r:i.r,start:i.start,end:i.end},t.options.animation))}),t.animate=null)},updateTotals:function(){var e,t,n=0,i=this.points,r=i.length,a=this.options.ignoreHiddenPoint;for(e=0;e<r;e++)t=i[e],n+=a&&!t.visible?0:t.isNull?0:t.y;for(this.total=n,e=0;e<r;e++)t=i[e],t.percentage=0<n&&(t.visible||!a)?t.y/n*100:0,t.total=n},generatePoints:function(){c.prototype.generatePoints.call(this),this.updateTotals()},translate:function(e){this.generatePoints();var t,n,i,r,a,o,l=0,c=this.options,u=c.slicedOffset,d=u+(c.borderWidth||0),h=c.startAngle||0,p=this.startAngleRad=Math.PI/180*(h-90),h=(this.endAngleRad=Math.PI/180*(s(c.endAngle,h+360)-90))-p,f=this.points,g=c.dataLabels.distance,c=c.ignoreHiddenPoint,m=f.length;for(e||(this.center=e=this.getCenter()),this.getX=function(t,n,r){return i=Math.asin(Math.min((t-e[1])/(e[2]/2+r.labelDistance),1)),e[0]+(n?-1:1)*Math.cos(i)*(e[2]/2+r.labelDistance)},a=0;a<m;a++)o=f[a],o.labelDistance=s(o.options.dataLabels&&o.options.dataLabels.distance,g),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,o.labelDistance),t=p+l*h,c&&!o.visible||(l+=o.percentage/100),n=p+l*h,o.shapeType="arc",o.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:Math.round(1e3*t)/1e3,end:Math.round(1e3*n)/1e3},i=(n+t)/2,i>1.5*Math.PI?i-=2*Math.PI:i<-Math.PI/2&&(i+=2*Math.PI),o.slicedTranslation={translateX:Math.round(Math.cos(i)*u),translateY:Math.round(Math.sin(i)*u)},n=Math.cos(i)*e[2]/2,r=Math.sin(i)*e[2]/2,o.tooltipPos=[e[0]+.7*n,e[1]+.7*r],o.half=i<-Math.PI/2||i>Math.PI/2?1:0,o.angle=i,t=Math.min(d,o.labelDistance/5),o.labelPos=[e[0]+n+Math.cos(i)*o.labelDistance,e[1]+r+Math.sin(i)*o.labelDistance,e[0]+n+Math.cos(i)*t,e[1]+r+Math.sin(i)*t,e[0]+n,e[1]+r,0>o.labelDistance?"center":o.half?"right":"left",i]},drawGraph:null,drawPoints:function(){var e,t,n,a,o=this,s=o.chart.renderer,l=o.options.shadow;l&&!o.shadowGroup&&(o.shadowGroup=s.g("shadow").add(o.group)),i(o.points,function(i){if(!i.isNull){t=i.graphic,a=i.shapeArgs,e=i.getTranslate();var c=i.shadowGroup;l&&!c&&(c=i.shadowGroup=s.g("shadow").add(o.shadowGroup)),c&&c.attr(e),n=o.pointAttribs(i,i.selected&&"select"),t?t.setRadialReference(o.center).attr(n).animate(r(a,e)):(i.graphic=t=s[i.shapeType](a).setRadialReference(o.center).attr(e).add(o.group),i.visible||t.attr({visibility:"hidden"}),t.attr(n).attr({"stroke-linejoin":"round"}).shadow(l,c)),t.addClass(i.getClassName())}})},searchPoint:o,sortByAngle:function(e,t){e.sort(function(e,n){return void 0!==e.angle&&(n.angle-e.angle)*t})},drawLegendSymbol:e.LegendSymbolMixin.drawRectangle,getCenter:e.CenteredSeriesMixin.getCenter,getSymbol:o},{init:function(){l.prototype.init.apply(this,arguments);var e,n=this;return n.name=s(n.name,"Slice"),e=function(e){n.slice("select"===e.type)},t(n,"select",e),t(n,"unselect",e),n},isValid:function(){return e.isNumber(this.y,!0)&&0<=this.y},setVisible:function(e,t){var n=this,r=n.series,o=r.chart,l=r.options.ignoreHiddenPoint;t=s(t,l),e!==n.visible&&(n.visible=n.options.visible=e=void 0===e?!n.visible:e,r.options.data[a(n,r.data)]=n.options,i(["graphic","dataLabel","connector","shadowGroup"],function(t){n[t]&&n[t][e?"show":"hide"](!0)}),n.legendItem&&o.legend.colorizeItem(n,e),e||"hover"!==n.state||n.setState(""),l&&(r.isDirty=!0),t&&o.redraw())},slice:function(e,t,i){var r=this.series;d(i,r.chart),s(t,!0),this.sliced=this.options.sliced=n(e)?e:!this.sliced,r.options.data[a(this,r.data)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(e){var t=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(t.x,t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}})}(e),function(e){var t=e.addEvent,n=e.arrayMax,i=e.defined,r=e.each,a=e.extend,o=e.format,s=e.map,l=e.merge,c=e.noop,u=e.pick,d=e.relativeLength,h=e.Series,p=e.seriesTypes,f=e.stableSort;e.distribute=function(e,t){function n(e,t){return e.target-t.target}var i,a,o=!0,l=e,c=[];for(a=0,i=e.length;i--;)a+=e[i].size;if(a>t){for(f(e,function(e,t){return(t.rank||0)-(e.rank||0)}),a=i=0;a<=t;)a+=e[i].size,i++;c=e.splice(i-1,e.length)}for(f(e,n),e=s(e,function(e){return{size:e.size,targets:[e.target]}});o;){for(i=e.length;i--;)o=e[i],a=(Math.min.apply(0,o.targets)+Math.max.apply(0,o.targets))/2,o.pos=Math.min(Math.max(0,a-o.size/2),t-o.size);for(i=e.length,o=!1;i--;)0<i&&e[i-1].pos+e[i-1].size>e[i].pos&&(e[i-1].size+=e[i].size,e[i-1].targets=e[i-1].targets.concat(e[i].targets),e[i-1].pos+e[i-1].size>t&&(e[i-1].pos=t-e[i-1].size),e.splice(i,1),o=!0)}i=0,r(e,function(e){var t=0;r(e.targets,function(){l[i].pos=e.pos+t,t+=l[i].size,i++})}),l.push.apply(l,c),f(l,n)},h.prototype.drawDataLabels=function(){var n,a,s,c,d=this,h=d.options,p=h.dataLabels,f=d.points,g=d.hasRendered||0,m=u(p.defer,!!h.animation),v=d.chart.renderer;(p.enabled||d._hasPointLabels)&&(d.dlProcessOptions&&d.dlProcessOptions(p),c=d.plotGroup("dataLabelsGroup","data-labels",m&&!g?"hidden":"visible",p.zIndex||6),m&&(c.attr({opacity:+g}),g||t(d,"afterAnimate",function(){d.visible&&c.show(!0),c[h.animation?"animate":"attr"]({opacity:1},{duration:200})})),a=p,r(f,function(t){var r,f,g,m,b=t.dataLabel,y=t.connector,w=!b;n=t.dlOptions||t.options&&t.options.dataLabels,(r=u(n&&n.enabled,a.enabled)&&null!==t.y)&&(p=l(a,n),f=t.getLabelConfig(),s=p.format?o(p.format,f):p.formatter.call(f,p),m=p.style,f=p.rotation,m.color=u(p.color,m.color,d.color,"#000000"),"contrast"===m.color&&(t.contrastColor=v.getContrast(t.color||d.color),m.color=p.inside||0>u(t.labelDistance,p.distance)||h.stacking?t.contrastColor:"#000000"),h.cursor&&(m.cursor=h.cursor),g={fill:p.backgroundColor,stroke:p.borderColor,"stroke-width":p.borderWidth,r:p.borderRadius||0,rotation:f,padding:p.padding,zIndex:1},e.objectEach(g,function(e,t){void 0===e&&delete g[t]})),!b||r&&i(s)?r&&i(s)&&(b?g.text=s:(b=t.dataLabel=v[f?"text":"label"](s,0,-9999,p.shape,null,null,p.useHTML,null,"data-label"),b.addClass("highcharts-data-label-color-"+t.colorIndex+" "+(p.className||"")+(p.useHTML?"highcharts-tracker":""))),b.attr(g),b.css(m).shadow(p.shadow),b.added||b.add(c),d.alignDataLabel(t,b,p,null,w)):(t.dataLabel=b=b.destroy(),y&&(t.connector=y.destroy()))}))},h.prototype.alignDataLabel=function(e,t,n,i,r){var o,s=this.chart,l=s.inverted,c=u(e.plotX,-9999),d=u(e.plotY,-9999),h=t.getBBox(),p=n.rotation,f=n.align,g=this.visible&&(e.series.forceDL||s.isInsidePlot(c,Math.round(d),l)||i&&s.isInsidePlot(c,l?i.x+1:i.y+i.height-1,l)),m="justify"===u(n.overflow,"justify");g&&(o=n.style.fontSize,o=s.renderer.fontMetrics(o,t).b,i=a({x:l?this.yAxis.len-d:c,y:Math.round(l?this.xAxis.len-c:d),width:0,height:0},i),a(n,{width:h.width,height:h.height}),p?(m=!1,c=s.renderer.rotCorr(o,p),c={x:i.x+n.x+i.width/2+c.x,y:i.y+n.y+{top:0,middle:.5,bottom:1}[n.verticalAlign]*i.height},t[r?"attr":"animate"](c).attr({align:f}),d=(p+720)%360,d=180<d&&360>d,"left"===f?c.y-=d?h.height:0:"center"===f?(c.x-=h.width/2,c.y-=h.height/2):"right"===f&&(c.x-=h.width,c.y-=d?0:h.height)):(t.align(n,null,i),c=t.alignAttr),m?e.isLabelJustified=this.justifyDataLabel(t,n,c,h,i,r):u(n.crop,!0)&&(g=s.isInsidePlot(c.x,c.y)&&s.isInsidePlot(c.x+h.width,c.y+h.height)),n.shape&&!p)&&t[r?"attr":"animate"]({anchorX:l?s.plotWidth-e.plotY:e.plotX,anchorY:l?s.plotHeight-e.plotX:e.plotY}),g||(t.attr({y:-9999}),t.placed=!1)},h.prototype.justifyDataLabel=function(e,t,n,i,r,a){var o,s,l=this.chart,c=t.align,u=t.verticalAlign,d=e.box?0:e.padding||0;return o=n.x+d,0>o&&("right"===c?t.align="left":t.x=-o,s=!0),o=n.x+i.width-d,o>l.plotWidth&&("left"===c?t.align="right":t.x=l.plotWidth-o,s=!0),o=n.y+d,0>o&&("bottom"===u?t.verticalAlign="top":t.y=-o,s=!0),o=n.y+i.height-d,o>l.plotHeight&&("top"===u?t.verticalAlign="bottom":t.y=l.plotHeight-o,s=!0),s&&(e.placed=!a,e.align(t,null,r)),s},p.pie&&(p.pie.prototype.drawDataLabels=function(){var t,a,o,s,l,c,d,p,f,g,m=this,v=m.data,b=m.chart,y=m.options.dataLabels,w=u(y.connectorPadding,10),x=u(y.connectorWidth,1),_=b.plotWidth,k=b.plotHeight,C=m.center,S=C[2]/2,$=C[1],D=[[],[]],T=[0,0,0,0];m.visible&&(y.enabled||m._hasPointLabels)&&(r(v,function(e){e.dataLabel&&e.visible&&e.dataLabel.shortened&&(e.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),e.dataLabel.shortened=!1)}),h.prototype.drawDataLabels.apply(m),r(v,function(e){e.dataLabel&&e.visible&&(D[e.half].push(e),e.dataLabel._pos=null)}),r(D,function(n,a){var h,v,x,D=n.length,E=[];if(D)for(m.sortByAngle(n,a-.5),0<m.maxLabelDistance&&(h=Math.max(0,$-S-m.maxLabelDistance),v=Math.min($+S+m.maxLabelDistance,b.plotHeight),r(n,function(e){0<e.labelDistance&&e.dataLabel&&(e.top=Math.max(0,$-S-e.labelDistance),e.bottom=Math.min($+S+e.labelDistance,b.plotHeight),x=e.dataLabel.getBBox().height||21,e.positionsIndex=E.push({target:e.labelPos[1]-e.top+x/2,size:x,rank:e.y})-1)}),e.distribute(E,v+x-h)),g=0;g<D;g++)t=n[g],v=t.positionsIndex,l=t.labelPos,o=t.dataLabel,f=!1===t.visible?"hidden":"inherit",h=l[1],E&&i(E[v])?void 0===E[v].pos?f="hidden":(c=E[v].size,p=t.top+E[v].pos):p=h,delete t.positionIndex,d=y.justify?C[0]+(a?-1:1)*(S+t.labelDistance):m.getX(p<t.top+2||p>t.bottom-2?h:p,a,t),o._attr={visibility:f,align:l[6]},o._pos={x:d+y.x+({left:w,right:-w}[l[6]]||0),y:p+y.y-10},l.x=d,l.y=p,u(y.crop,!0)&&(s=o.getBBox().width,h=null,d-s<w?(h=Math.round(s-d+w),T[3]=Math.max(h,T[3])):d+s>_-w&&(h=Math.round(d+s-_+w),T[1]=Math.max(h,T[1])),0>p-c/2?T[0]=Math.max(Math.round(c/2-p),T[0]):p+c/2>k&&(T[2]=Math.max(Math.round(p+c/2-k),T[2])),o.sideOverflow=h)}),0===n(T)||this.verifyDataLabelOverflow(T))&&(this.placeDataLabels(),x&&r(this.points,function(e){var t;a=e.connector,(o=e.dataLabel)&&o._pos&&e.visible&&0<e.labelDistance?(f=o._attr.visibility,(t=!a)&&(e.connector=a=b.renderer.path().addClass("highcharts-data-label-connector highcharts-color-"+e.colorIndex).add(m.dataLabelsGroup),a.attr({"stroke-width":x,stroke:y.connectorColor||e.color||"#666666"})),a[t?"attr":"animate"]({d:m.connectorPath(e.labelPos)}),a.attr("visibility",f)):a&&(e.connector=a.destroy())}))},p.pie.prototype.connectorPath=function(e){var t=e.x,n=e.y;return u(this.options.dataLabels.softConnector,!0)?["M",t+("left"===e[6]?5:-5),n,"C",t,n,2*e[2]-e[4],2*e[3]-e[5],e[2],e[3],"L",e[4],e[5]]:["M",t+("left"===e[6]?5:-5),n,"L",e[2],e[3],"L",e[4],e[5]]},p.pie.prototype.placeDataLabels=function(){r(this.points,function(e){var t=e.dataLabel;t&&e.visible&&((e=t._pos)?(t.sideOverflow&&(t._attr.width=t.getBBox().width-t.sideOverflow,t.css({width:t._attr.width+"px",textOverflow:"ellipsis"}),t.shortened=!0),t.attr(t._attr),t[t.moved?"animate":"attr"](e),t.moved=!0):t&&t.attr({y:-9999}))},this)},p.pie.prototype.alignDataLabel=c,p.pie.prototype.verifyDataLabelOverflow=function(e){var t,n=this.center,i=this.options,r=i.center,a=i.minSize||80,o=null!==i.size;return o||(null!==r[0]?t=Math.max(n[2]-Math.max(e[1],e[3]),a):(t=Math.max(n[2]-e[1]-e[3],a),n[0]+=(e[3]-e[1])/2),null!==r[1]?t=Math.max(Math.min(t,n[2]-Math.max(e[0],e[2])),a):(t=Math.max(Math.min(t,n[2]-e[0]-e[2]),a),n[1]+=(e[0]-e[2])/2),t<n[2]?(n[2]=t,n[3]=Math.min(d(i.innerSize||0,t),t),this.translate(n),this.drawDataLabels&&this.drawDataLabels()):o=!0),o}),p.column&&(p.column.prototype.alignDataLabel=function(e,t,n,i,r){var a=this.chart.inverted,o=e.series,s=e.dlBox||e.shapeArgs,c=u(e.below,e.plotY>u(this.translatedThreshold,o.yAxis.len)),d=u(n.inside,!!this.options.stacking);s&&(i=l(s),0>i.y&&(i.height+=i.y,i.y=0),s=i.y+i.height-o.yAxis.len,0<s&&(i.height-=s),a&&(i={x:o.yAxis.len-i.y-i.height,y:o.xAxis.len-i.x-i.width,width:i.height,height:i.width}),d||(a?(i.x+=c?0:i.width,i.width=0):(i.y+=c?i.height:0,i.height=0))),n.align=u(n.align,!a||d?"center":c?"right":"left"),n.verticalAlign=u(n.verticalAlign,a||d?"middle":c?"top":"bottom"),h.prototype.alignDataLabel.call(this,e,t,n,i,r),e.isLabelJustified&&e.contrastColor&&e.dataLabel.css({color:e.contrastColor})})}(e),function(e){var t=e.Chart,n=e.each,i=e.objectEach,r=e.pick,a=e.addEvent;t.prototype.callbacks.push(function(e){function t(){var t=[];n(e.yAxis||[],function(e){e.options.stackLabels&&!e.options.stackLabels.allowOverlap&&i(e.stacks,function(e){i(e,function(e){t.push(e.label)})})}),n(e.series||[],function(e){var i=e.options.dataLabels,a=e.dataLabelCollections||["dataLabel"];(i.enabled||e._hasPointLabels)&&!i.allowOverlap&&e.visible&&n(a,function(i){n(e.points,function(e){e[i]&&(e[i].labelrank=r(e.labelrank,e.shapeArgs&&e.shapeArgs.height),t.push(e[i]))})})}),e.hideOverlappingLabels(t)}t(),a(e,"redraw",t)}),t.prototype.hideOverlappingLabels=function(e){var t,i,r,a,o,s,l,c,u,d=e.length;for(i=0;i<d;i++)(t=e[i])&&(t.oldOpacity=t.opacity,t.newOpacity=1,t.width||(r=t.getBBox(),t.width=r.width,t.height=r.height));for(e.sort(function(e,t){return(t.labelrank||0)-(e.labelrank||0)}),i=0;i<d;i++)for(r=e[i],t=i+1;t<d;++t)a=e[t],r&&a&&r!==a&&r.placed&&a.placed&&0!==r.newOpacity&&0!==a.newOpacity&&(o=r.alignAttr,s=a.alignAttr,l=r.parentGroup,c=a.parentGroup,u=2*(r.box?0:r.padding||0),o=function(e,t,n,i,r,a,o,s){return!(r>e+n||r+o<e||a>t+i||a+s<t)}(o.x+l.translateX,o.y+l.translateY,r.width-u,r.height-u,s.x+c.translateX,s.y+c.translateY,a.width-u,a.height-u))&&((r.labelrank<a.labelrank?r:a).newOpacity=0);n(e,function(e){var t,n;e&&(n=e.newOpacity,e.oldOpacity!==n&&e.placed&&(n?e.show(!0):t=function(){e.hide()},e.alignAttr.opacity=n,e[e.isOld?"animate":"attr"](e.alignAttr,null,t)),e.isOld=!0)})}}(e),function(e){var t,n=e.addEvent,i=e.Chart,r=e.createElement,a=e.css,o=e.defaultOptions,s=e.defaultPlotOptions,l=e.each,c=e.extend,u=e.fireEvent,d=e.hasTouch,h=e.inArray,p=e.isObject,f=e.Legend,g=e.merge,m=e.pick,v=e.Point,b=e.Series,y=e.seriesTypes,w=e.svg;t=e.TrackerMixin={drawTrackerPoint:function(){var e=this,t=e.chart.pointer,n=function(e){var n=t.getPointFromEvent(e);void 0!==n&&(t.isDirectTouch=!0,n.onMouseOver(e))};l(e.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.div?e.dataLabel.div.point=e:e.dataLabel.element.point=e)}),e._hasTracking||(l(e.trackerGroups,function(i){e[i]&&(e[i].addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(e){t.onTrackerMouseOut(e)}),d&&e[i].on("touchstart",n),e.options.cursor&&e[i].css(a).css({cursor:e.options.cursor}))}),e._hasTracking=!0)},drawTrackerGraph:function(){var e,t=this,n=t.options,i=n.trackByArea,r=[].concat(i?t.areaPath:t.graphPath),a=r.length,o=t.chart,s=o.pointer,c=o.renderer,u=o.options.tooltip.snap,h=t.tracker,p=function(){o.hoverSeries!==t&&t.onMouseOver()},f="rgba(192,192,192,"+(w?1e-4:.002)+")";if(a&&!i)for(e=a+1;e--;)"M"===r[e]&&r.splice(e+1,0,r[e+1]-u,r[e+2],"L"),(e&&"M"===r[e]||e===a)&&r.splice(e,0,"L",r[e-2]+u,r[e-1]);h?h.attr({d:r}):t.graph&&(t.tracker=c.path(r).attr({"stroke-linejoin":"round",visibility:t.visible?"visible":"hidden",stroke:f,fill:i?f:"none",
"stroke-width":t.graph.strokeWidth()+(i?0:2*u),zIndex:2}).add(t.group),l([t.tracker,t.markerGroup],function(e){e.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(e){s.onTrackerMouseOut(e)}),n.cursor&&e.css({cursor:n.cursor}),d&&e.on("touchstart",p)}))}},y.column&&(y.column.prototype.drawTracker=t.drawTrackerPoint),y.pie&&(y.pie.prototype.drawTracker=t.drawTrackerPoint),y.scatter&&(y.scatter.prototype.drawTracker=t.drawTrackerPoint),c(f.prototype,{setItemEvents:function(e,t,n){var i=this,r=i.chart.renderer.boxWrapper,a="highcharts-legend-"+(e.series?"point":"series")+"-active";(n?t:e.legendGroup).on("mouseover",function(){e.setState("hover"),r.addClass(a),t.css(i.options.itemHoverStyle)}).on("mouseout",function(){t.css(g(e.visible?i.itemStyle:i.itemHiddenStyle)),r.removeClass(a),e.setState()}).on("click",function(t){var n=function(){e.setVisible&&e.setVisible()};t={browserEvent:t},e.firePointEvent?e.firePointEvent("legendItemClick",t,n):u(e,"legendItemClick",t,n)})},createCheckboxForItem:function(e){e.checkbox=r("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),n(e.checkbox,"click",function(t){u(e.series||e,"checkboxClick",{checked:t.target.checked,item:e},function(){e.select()})})}}),o.legend.itemStyle.cursor="pointer",c(i.prototype,{showResetZoom:function(){var e=this,t=o.lang,n=e.options.chart.resetZoomButton,i=n.theme,r=i.states,a="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},i,r&&r.hover).attr({align:n.position.align,title:t.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(n.position,!1,a)},zoomOut:function(){var e=this;u(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t,n,i=this.pointer,r=!1;!e||e.resetSelection?(l(this.axes,function(e){t=e.zoom()}),i.initiated=!1):l(e.xAxis.concat(e.yAxis),function(e){var n=e.axis;i[n.isXAxis?"zoomX":"zoomY"]&&(t=n.zoom(e.min,e.max),n.displayBtn&&(r=!0))}),n=this.resetZoomButton,r&&!n?this.showResetZoom():!r&&p(n)&&(this.resetZoomButton=n.destroy()),t&&this.redraw(m(this.options.chart.animation,e&&e.animation,100>this.pointCount))},pan:function(e,t){var n,i=this,r=i.hoverPoints;r&&l(r,function(e){e.setState()}),l("xy"===t?[1,0]:[1],function(t){t=i[t?"xAxis":"yAxis"][0];var r,a=t.horiz,o=e[a?"chartX":"chartY"],a=a?"mouseDownX":"mouseDownY",s=i[a],l=(t.pointRange||0)/2,c=t.getExtremes(),u=t.toValue(s-o,!0)+l,l=t.toValue(s+t.len-o,!0)-l,d=l<u,s=d?l:u,u=d?u:l,l=Math.min(c.dataMin,t.toValue(t.toPixels(c.min)-t.minPixelPadding)),d=Math.max(c.dataMax,t.toValue(t.toPixels(c.max)+t.minPixelPadding));r=l-s,0<r&&(u+=r,s=l),r=u-d,0<r&&(u=d,s-=r),t.series.length&&s!==c.min&&u!==c.max&&(t.setExtremes(s,u,!1,!1,{trigger:"pan"}),n=!0),i[a]=o}),n&&i.redraw(!1),a(i.container,{cursor:"move"})}}),c(v.prototype,{select:function(e,t){var n=this,i=n.series,r=i.chart;e=m(e,!n.selected),n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e,i.options.data[h(n,i.data)]=n.options,n.setState(e&&"select"),t||l(r.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=e.options.selected=!1,i.options.data[h(e,i.data)]=e.options,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(e){var t=this.series.chart,n=t.pointer;e=e?n.normalize(e):n.getChartCoordinatesFromPoint(this,t.inverted),n.runPointActions(e,this)},onMouseOut:function(){var e=this.series.chart;this.firePointEvent("mouseOut"),l(e.hoverPoints||[],function(e){e.setState()}),e.hoverPoints=e.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var t=this,i=g(t.series.options.point,t.options).events;t.events=i,e.objectEach(i,function(e,i){n(t,i,e)}),this.hasImportedEvents=!0}},setState:function(e,t){var n,i=Math.floor(this.plotX),r=this.plotY,a=this.series,o=a.options.states[e]||{},l=s[a.type].marker&&a.options.marker,u=l&&!1===l.enabled,d=l&&l.states&&l.states[e]||{},h=!1===d.enabled,p=a.stateMarkerGraphic,f=this.marker||{},g=a.chart,v=a.halo,b=l&&a.markerAttribs;(e=e||"")===this.state&&!t||this.selected&&"select"!==e||!1===o.enabled||e&&(h||u&&!1===d.enabled)||e&&f.states&&f.states[e]&&!1===f.states[e].enabled||(b&&(n=a.markerAttribs(this,e)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),e&&this.graphic.addClass("highcharts-point-"+e),this.graphic.animate(a.pointAttribs(this,e),m(g.options.chart.animation,o.animation)),n&&this.graphic.animate(n,m(g.options.chart.animation,d.animation,l.animation)),p&&p.hide()):(e&&d&&(l=f.symbol||a.symbol,p&&p.currentSymbol!==l&&(p=p.destroy()),p?p[t?"animate":"attr"]({x:n.x,y:n.y}):l&&(a.stateMarkerGraphic=p=g.renderer.symbol(l,n.x,n.y,n.width,n.height).add(a.markerGroup),p.currentSymbol=l),p&&p.attr(a.pointAttribs(this,e))),p&&(p[e&&g.isInsidePlot(i,r,g.inverted)?"show":"hide"](),p.element.point=this)),(i=o.halo)&&i.size?(v||(a.halo=v=g.renderer.path().add((this.graphic||p).parentGroup)),v[t?"animate":"attr"]({d:this.haloPath(i.size)}),v.attr({class:"highcharts-halo highcharts-color-"+m(this.colorIndex,a.colorIndex)}),v.point=this,v.attr(c({fill:this.color||a.color,"fill-opacity":i.opacity,zIndex:-1},i.attributes))):v&&v.point&&v.point.haloPath&&v.animate({d:v.point.haloPath(0)}),this.state=e)},haloPath:function(e){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-e,this.plotY-e,2*e,2*e)}}),c(b.prototype,{onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&u(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,n=t.tooltip,i=t.hoverPoint;t.hoverSeries=null,i&&i.onMouseOut(),this&&e.events.mouseOut&&u(this,"mouseOut"),!n||this.stickyTracking||n.shared&&!this.noSharedTooltip||n.hide(),this.setState()},setState:function(e){var t=this,n=t.options,i=t.graph,r=n.states,a=n.lineWidth,n=0;if(e=e||"",t.state!==e&&(l([t.group,t.markerGroup,t.dataLabelsGroup],function(n){n&&(t.state&&n.removeClass("highcharts-series-"+t.state),e&&n.addClass("highcharts-series-"+e))}),t.state=e,!r[e]||!1!==r[e].enabled)&&(e&&(a=r[e].lineWidth||a+(r[e].lineWidthPlus||0)),i&&!i.dashstyle))for(a={"stroke-width":a},i.animate(a,m(t.chart.options.chart.animation,r[e]&&r[e].animation));t["zone-graph-"+n];)t["zone-graph-"+n].attr(a),n+=1},setVisible:function(e,t){var n,i=this,r=i.chart,a=i.legendItem,o=r.options.chart.ignoreHiddenSeries,s=i.visible;n=(i.visible=e=i.options.visible=i.userOptions.visible=void 0===e?!s:e)?"show":"hide",l(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(e){i[e]&&i[e][n]()}),r.hoverSeries!==i&&(r.hoverPoint&&r.hoverPoint.series)!==i||i.onMouseOut(),a&&r.legend.colorizeItem(i,e),i.isDirty=!0,i.options.stacking&&l(r.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),l(i.linkedSeries,function(t){t.setVisible(e,!1)}),o&&(r.isDirtyBox=!0),!1!==t&&r.redraw(),u(i,n)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=void 0===e?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),u(this,e?"select":"unselect")},drawTracker:t.drawTrackerGraph})}(e),function(e){var t=e.Chart,n=e.each,i=e.inArray,r=e.isArray,a=e.isObject,o=e.pick,s=e.splat;t.prototype.setResponsive=function(t){var i=this.options.responsive,r=[],a=this.currentResponsive;i&&i.rules&&n(i.rules,function(n){void 0===n._id&&(n._id=e.uniqueKey()),this.matchResponsiveRule(n,r,t)},this);var o=e.merge.apply(0,e.map(r,function(t){return e.find(i.rules,function(e){return e._id===t}).chartOptions})),r=r.toString()||void 0;r!==(a&&a.ruleIds)&&(a&&this.update(a.undoOptions,t),r?(this.currentResponsive={ruleIds:r,mergedOptions:o,undoOptions:this.currentOptions(o)},this.update(o,t)):this.currentResponsive=void 0)},t.prototype.matchResponsiveRule=function(e,t){var n=e.condition;(n.callback||function(){return this.chartWidth<=o(n.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=o(n.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=o(n.minWidth,0)&&this.chartHeight>=o(n.minHeight,0)}).call(this)&&t.push(e._id)},t.prototype.currentOptions=function(t){function n(t,o,l,c){var u;e.objectEach(t,function(e,d){if(!c&&-1<i(d,["series","xAxis","yAxis"]))for(t[d]=s(t[d]),l[d]=[],u=0;u<t[d].length;u++)o[d][u]&&(l[d][u]={},n(e[u],o[d][u],l[d][u],c+1));else a(e)?(l[d]=r(e)?[]:{},n(e,o[d]||{},l[d],c+1)):l[d]=o[d]||null})}var o={};return n(t,this.options,o,0),o}}(e),e}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e.one=e.one||{},e.one.color=t())}(this,function(){"use strict";function e(t){if(Array.isArray(t)){if("string"==typeof t[0]&&"function"==typeof e[t[0]])return new e[t[0]](t.slice(1,t.length));if(4===t.length)return new e.RGB(t[0]/255,t[1]/255,t[2]/255,t[3]/255)}else if("string"==typeof t){var i=t.toLowerCase();e.namedColors[i]&&(t="#"+e.namedColors[i]),"transparent"===i&&(t="rgba(0,0,0,0)");var o=t.match(a);if(o){var s=o[1].toUpperCase(),l=n(o[8])?o[8]:parseFloat(o[8]),c="H"===s[0],u=o[3]?100:c?360:255,d=o[5]||c?100:255,h=o[7]||c?100:255;if(n(e[s]))throw new Error("color."+s+" is not installed.");return new e[s](parseFloat(o[2])/u,parseFloat(o[4])/d,parseFloat(o[6])/h,l)}t.length<6&&(t=t.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i,"$1$1$2$2$3$3"));var p=t.match(/^#?([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])$/i);if(p)return new e.RGB(parseInt(p[1],16)/255,parseInt(p[2],16)/255,parseInt(p[3],16)/255);if(e.CMYK){var f=t.match(new RegExp("^cmyk\\("+r.source+","+r.source+","+r.source+","+r.source+"\\)$","i"));if(f)return new e.CMYK(parseFloat(f[1])/100,parseFloat(f[2])/100,parseFloat(f[3])/100,parseFloat(f[4])/100)}}else if("object"==typeof t&&t.isColor)return t;return!1}var t=[],n=function(e){return void 0===e},i=/\s*(\.\d+|\d+(?:\.\d+)?)(%)?\s*/,r=/\s*(\.\d+|100|\d?\d(?:\.\d+)?)%\s*/,a=new RegExp("^(rgb|hsl|hsv)a?\\("+i.source+","+i.source+","+i.source+"(?:,"+/\s*(\.\d+|\d+(?:\.\d+)?)\s*/.source+")?\\)$","i");e.namedColors={},e.installColorSpace=function(i,r,a){function o(t,n){var i={};i[n.toLowerCase()]=function(){return this.rgb()[n.toLowerCase()]()},e[n].propertyNames.forEach(function(e){var t="black"===e?"k":e.charAt(0);i[e]=i[t]=function(t,i){return this[n.toLowerCase()]()[e](t,i)}});for(var r in i)i.hasOwnProperty(r)&&void 0===e[t].prototype[r]&&(e[t].prototype[r]=i[r])}e[i]=function(e){var t=Array.isArray(e)?e:arguments;r.forEach(function(e,n){var a=t[n];if("alpha"===e)this._alpha=isNaN(a)||a>1?1:a<0?0:a;else{if(isNaN(a))throw new Error("["+i+"]: Invalid color: ("+r.join(",")+")");"hue"===e?this._hue=a<0?a-Math.floor(a):a%1:this["_"+e]=a<0?0:a>1?1:a}},this)},e[i].propertyNames=r;var s=e[i].prototype;["valueOf","hex","hexa","css","cssa"].forEach(function(e){s[e]=s[e]||("RGB"===i?s.hex:function(){return this.rgb()[e]()})}),s.isColor=!0,s.equals=function(e,t){n(t)&&(t=1e-10),e=e[i.toLowerCase()]();for(var a=0;a<r.length;a+=1)if(Math.abs(this["_"+r[a]]-e["_"+r[a]])>t)return!1;return!0},s.toJSON=function(){return[i].concat(r.map(function(e){return this["_"+e]},this))};for(var l in a)if(a.hasOwnProperty(l)){var c=l.match(/^from(.*)$/);c?e[c[1].toUpperCase()].prototype[i.toLowerCase()]=a[l]:s[l]=a[l]}return s[i.toLowerCase()]=function(){return this},s.toString=function(){return"["+i+" "+r.map(function(e){return this["_"+e]},this).join(", ")+"]"},r.forEach(function(e){var t="black"===e?"k":e.charAt(0);s[e]=s[t]=function(t,n){return void 0===t?this["_"+e]:n?new this.constructor(r.map(function(n){return this["_"+n]+(e===n?t:0)},this)):new this.constructor(r.map(function(n){return e===n?t:this["_"+n]},this))}}),t.forEach(function(e){o(i,e),o(e,i)}),t.push(i),e},e.pluginList=[],e.use=function(t){return-1===e.pluginList.indexOf(t)&&(this.pluginList.push(t),t(e)),e},e.installMethod=function(n,i){return t.forEach(function(t){e[t].prototype[n]=i}),this},e.installColorSpace("RGB",["red","green","blue","alpha"],{hex:function(){var e=(65536*Math.round(255*this._red)+256*Math.round(255*this._green)+Math.round(255*this._blue)).toString(16);return"#"+"00000".substr(0,6-e.length)+e},hexa:function(){var e=Math.round(255*this._alpha).toString(16);return"#"+"00".substr(0,2-e.length)+e+this.hex().substr(1,6)},css:function(){return"rgb("+Math.round(255*this._red)+","+Math.round(255*this._green)+","+Math.round(255*this._blue)+")"},cssa:function(){return"rgba("+Math.round(255*this._red)+","+Math.round(255*this._green)+","+Math.round(255*this._blue)+","+this._alpha+")"}});var o=e,s=function(e){e.installColorSpace("XYZ",["x","y","z","alpha"],{fromRgb:function(){var t=function(e){return e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92},n=t(this._red),i=t(this._green),r=t(this._blue);return new e.XYZ(.4124564*n+.3575761*i+.1804375*r,.2126729*n+.7151522*i+.072175*r,.0193339*n+.119192*i+.9503041*r,this._alpha)},rgb:function(){var t=this._x,n=this._y,i=this._z,r=function(e){return e>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e};return new e.RGB(r(3.2404542*t+-1.5371385*n+-.4985314*i),r(-.969266*t+1.8760108*n+.041556*i),r(.0556434*t+-.2040259*n+1.0572252*i),this._alpha)},lab:function(){var t=function(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29},n=t(this._x/95.047),i=t(this._y/100),r=t(this._z/108.883);return new e.LAB(116*i-16,500*(n-i),200*(i-r),this._alpha)}})},l=function(e){e.use(s),e.installColorSpace("LAB",["l","a","b","alpha"],{fromRgb:function(){return this.xyz().lab()},rgb:function(){return this.xyz().rgb()},xyz:function(){var t=function(e){var t=Math.pow(e,3);return t>.008856?t:(e-16/116)/7.87},n=(this._l+16)/116,i=this._a/500+n,r=n-this._b/200;return new e.XYZ(95.047*t(i),100*t(n),108.883*t(r),this._alpha)}})},c=function(e){e.installColorSpace("HSV",["hue","saturation","value","alpha"],{rgb:function(){var t,n,i,r=this._hue,a=this._saturation,o=this._value,s=Math.min(5,Math.floor(6*r)),l=6*r-s,c=o*(1-a),u=o*(1-l*a),d=o*(1-(1-l)*a);switch(s){case 0:t=o,n=d,i=c;break;case 1:t=u,n=o,i=c;break;case 2:t=c,n=o,i=d;break;case 3:t=c,n=u,i=o;break;case 4:t=d,n=c,i=o;break;case 5:t=o,n=c,i=u}return new e.RGB(t,n,i,this._alpha)},hsl:function(){var t,n=(2-this._saturation)*this._value,i=this._saturation*this._value,r=n<=1?n:2-n;return t=r<1e-9?0:i/r,new e.HSL(this._hue,t,n/2,this._alpha)},fromRgb:function(){var t,n=this._red,i=this._green,r=this._blue,a=Math.max(n,i,r),o=Math.min(n,i,r),s=a-o,l=0===a?0:s/a,c=a;if(0===s)t=0;else switch(a){case n:t=(i-r)/s/6+(i<r?1:0);break;case i:t=(r-n)/s/6+1/3;break;case r:t=(n-i)/s/6+2/3}return new e.HSV(t,l,c,this._alpha)}})},u=function(e){e.use(c),e.installColorSpace("HSL",["hue","saturation","lightness","alpha"],{hsv:function(){var t,n=2*this._lightness,i=this._saturation*(n<=1?n:2-n);return t=n+i<1e-9?0:2*i/(n+i),new e.HSV(this._hue,t,(n+i)/2,this._alpha)},rgb:function(){return this.hsv().rgb()},fromRgb:function(){return this.hsv().hsl()}})},d=function(e){e.installColorSpace("CMYK",["cyan","magenta","yellow","black","alpha"],{rgb:function(){return new e.RGB(1-this._cyan*(1-this._black)-this._black,1-this._magenta*(1-this._black)-this._black,1-this._yellow*(1-this._black)-this._black,this._alpha)},fromRgb:function(){var t=this._red,n=this._green,i=this._blue,r=1-t,a=1-n,o=1-i,s=1;return t||n||i?(s=Math.min(r,Math.min(a,o)),r=(r-s)/(1-s),a=(a-s)/(1-s),o=(o-s)/(1-s)):s=1,new e.CMYK(r,a,o,s,this._alpha)}})},h=function(e){e.namedColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"}},p=function(e){e.installMethod("clearer",function(e){return this.alpha(isNaN(e)?-.1:-e,!0)})},f=function(e){e.use(u),e.installMethod("darken",function(e){return this.lightness(isNaN(e)?-.1:-e,!0)})},g=function(e){e.use(u),e.installMethod("desaturate",function(e){return this.saturation(isNaN(e)?-.1:-e,!0)})},m=function(e){function t(){var t=this.rgb(),n=.3*t._red+.59*t._green+.11*t._blue;return new e.RGB(n,n,n,t._alpha)}e.installMethod("greyscale",t).installMethod("grayscale",t)},v=function(e){e.use(u),e.installMethod("lighten",function(e){return this.lightness(isNaN(e)?.1:e,!0)})},b=function(e){e.installMethod("mix",function(t,n){t=e(t).rgb(),n=1-(isNaN(n)?.5:n);var i=2*n-1,r=this._alpha-t._alpha,a=((i*r==-1?i:(i+r)/(1+i*r))+1)/2,o=1-a,s=this.rgb();return new e.RGB(s._red*a+t._red*o,s._green*a+t._green*o,s._blue*a+t._blue*o,s._alpha*n+t._alpha*(1-n))})},y=function(e){e.installMethod("negate",function(){var t=this.rgb();return new e.RGB(1-t._red,1-t._green,1-t._blue,this._alpha)})},w=function(e){e.installMethod("opaquer",function(e){return this.alpha(isNaN(e)?.1:e,!0)})},x=function(e){e.use(u),e.installMethod("rotate",function(e){return this.hue((e||0)/360,!0)})},_=function(e){e.use(u),e.installMethod("saturate",function(e){return this.saturation(isNaN(e)?.1:e,!0)})},k=function(e){e.installMethod("toAlpha",function(e){var t=this.rgb(),n=e(e).rgb(),i=new e.RGB(0,0,0,t._alpha),r=["_red","_green","_blue"];return r.forEach(function(e){t[e]<1e-10?i[e]=t[e]:t[e]>n[e]?i[e]=(t[e]-n[e])/(1-n[e]):t[e]>n[e]?i[e]=(n[e]-t[e])/n[e]:i[e]=0}),i._red>i._green?i._red>i._blue?t._alpha=i._red:t._alpha=i._blue:i._green>i._blue?t._alpha=i._green:t._alpha=i._blue,t._alpha<1e-10?t:(r.forEach(function(e){t[e]=(t[e]-n[e])/t._alpha+n[e]}),t._alpha*=i._alpha,t)})};return o.use(s).use(l).use(c).use(u).use(d).use(h).use(p).use(f).use(g).use(m).use(v).use(b).use(y).use(w).use(x).use(_).use(k)}),/**
 * impac-angular - Impac! Front-End Library
 * @version v1.8.0
 * @git git://github.com/maestrano/impac-angular.git
 * @license Copyright 2017 Maestrano Pty Ltd
 */
function(){"use strict";angular.module("maestrano.impac",["impac.services","impac.filters","impac.components","ngMessages","ui.sortable","ui.bootstrap","emguo.poller","toastr","pascalprecht.translate","xeditable"]),angular.module("impac.components",["impac.components.dashboard","impac.components.dashboard-create","impac.components.dashboard-selector","impac.components.dashboard-templates-selector","impac.components.dashboard-settings","impac.components.kpis-bar","impac.components.kpi","impac.components.chart","impac.components.alerts-config","impac.components.widget","impac.components.widgets","impac.components.widgets-layouts","impac.components.widgets-settings","impac.components.widgets-common","impac.components.common","impac.components.templates"]),angular.module("impac.components.widgets",["impac.components.widgets.accounts-accounting-values","impac.components.widgets.accounts-assets-summary","impac.components.widgets.accounts-assets-liability-summary","impac.components.widgets.accounts-balance-sheet","impac.components.widgets.accounts-balance","impac.components.widgets.accounts-cash-summary","impac.components.widgets.accounts-comparison","impac.components.widgets.accounts-custom-calculation","impac.components.widgets.accounts-expenses-revenue","impac.components.widgets.accounts-payable-receivable","impac.components.widgets.accounts-profit-and-loss","impac.components.widgets.accounts-class-comparison","impac.components.widgets.accounts-expense-weight","impac.components.widgets.accounts-assets-vs-liabilities","impac.components.widgets.accounts-detailed-classifications","impac.components.widgets.accounts-ratios","impac.components.widgets.accounts-live-balance","impac.components.widgets.accounts-invoices-list","impac.components.widgets.hr-employee-details","impac.components.widgets.hr-employees-list","impac.components.widgets.hr-leaves-balance","impac.components.widgets.hr-leaves-schedule","impac.components.widgets.hr-payroll-summary","impac.components.widgets.hr-payroll-taxes","impac.components.widgets.hr-salaries-summary","impac.components.widgets.hr-superannuation-accruals","impac.components.widgets.hr-timesheets","impac.components.widgets.hr-workforce-summary","impac.components.widgets.invoices-aged-payables-receivables","impac.components.widgets.invoices-list","impac.components.widgets.invoices-summary","impac.components.widgets.sales-aged","impac.components.widgets.sales-break-even","impac.components.widgets.sales-comparison","impac.components.widgets.sales-customer-details","impac.components.widgets.sales-cycle","impac.components.widgets.sales-forecast","impac.components.widgets.sales-growth","impac.components.widgets.sales-leads-funnel","impac.components.widgets.sales-leads-list","impac.components.widgets.sales-list","impac.components.widgets.sales-margin","impac.components.widgets.sales-net-sales","impac.components.widgets.sales-number-of-leads","impac.components.widgets.sales-opportunities-funnel","impac.components.widgets.sales-performance","impac.components.widgets.sales-segmented-turnover","impac.components.widgets.sales-summary","impac.components.widgets.sales-top-opportunities","impac.components.widgets.sales-top-customers","impac.components.widgets.sales-new-vs-existing-customers"]),angular.module("impac.components.widgets-layouts",["impac.components.widgets-layouts.table","impac.components.widgets-layouts.accounts-cash-balance","impac.components.widgets-layouts.accounts-cash-projection"]),angular.module("impac.components.widgets-settings",["impac.components.widgets-settings.account","impac.components.widgets-settings.bolt-account","impac.components.widgets-settings.accounts-list","impac.components.widgets-settings.accounting-behaviour","impac.components.widgets-settings.chart-filters","impac.components.widgets-settings.dates-picker","impac.components.widgets-settings.formula","impac.components.widgets-settings.hist-mode","impac.components.widgets-settings.limit-entries","impac.components.widgets-settings.organizations","impac.components.widgets-settings.param-selector","impac.components.widgets-settings.params-picker","impac.components.widgets-settings.params-checkboxes","impac.components.widgets-settings.time-period","impac.components.widgets-settings.time-presets","impac.components.widgets-settings.time-slider","impac.components.widgets-settings.width","impac.components.widgets-settings.attach-kpis","impac.components.widgets-settings.tag-filter","impac.components.widgets-settings.offsets"]),angular.module("impac.components.dashboard-settings",["impac.components.dashboard-settings.currency","impac.components.dashboard-settings.pdf-mode","impac.components.dashboard-settings.sync-apps"]),angular.module("impac.components.widgets-common",["impac.components.widgets-common.editable-title","impac.components.widgets-common.info-panel","impac.components.widgets-common.time-period-info","impac.components.widgets-common.top-buttons","impac.components.widgets-common.autofocus","impac.components.widgets-common.currency-conversions","impac.components.widgets-common.chart-threshold"]),angular.module("impac.components.common",["impac.components.common.data-not-found","impac.components.common.delete-widget","impac.components.common.transactions-add","impac.components.common.transactions-list","impac.components.common.duplicate-transactions-list"]),angular.module("impac.services",["impac.services.routes","impac.services.linking","impac.services.theming","impac.services.assets","impac.services.chart-formatter","impac.services.highcharts-factory","impac.services.message-bus","impac.services.utilities","impac.services.main","impac.services.kpis","impac.services.dashboards","impac.services.dashboard-templates","impac.services.widgets","impac.services.widgets-templates","impac.services.developer","impac.services.pusher","impac.services.alerts","impac.services.notifications","impac.services.events","impac.services.currency-rates","impac.services.bolt-resources"]),angular.module("impac.filters",["impac.filters.titleize","impac.filters.truncate","impac.filters.mno-currency","impac.filters.moment-date"]),angular.module("impac.components.templates",[]).run(["$templateCache",function(e){e.put("alerts-config/alerts-config.modal.html",'<div class="kpi-alerts-settings">\n\n  <div class="modal-header" translate>\n    impac.kpi.alerts.title\n  </div>\n\n  <div class="modal-body">\n    <span translate="impac.kpi.alerts.explanation"\n          translate-values="{name: kpi.name,  element_watched: kpi.element_watched}"></span>\n    <u>{{translateTarget(kpi)}}</u> :\n\n    <ul class="list-group">\n\n      <li class="list-group-item" ng-repeat="alert in alerts" ng-class="{active: alert.active}">\n        <div class="alert-toggle" ng-click="toggleAlert(alert)">\n          <i class="fa" ng-class="alert.active ? \'fa-toggle-on\' : \'fa-toggle-off\'" />\n          {{alert.label}}\n        </div>\n\n        <ul class="list-group recipients-list" ng-show="showRecipientList(alert)">\n\n          <li class="list-group-item" ng-repeat="member in members track by member.id" ng-if="member.active" ng-click="toggleRecipient(member)">\n            {{member.email}}\n            <button type="button" class="close" aria-label="Close">\n              <span aria-hidden="true">&times;</span>\n            </button>\n          </li>\n\n        </ul>\n\n        <input class="recipient-search" placeholder="Add Recipients By Member Email" ng-show="showRecipientList(alert)" ng-model="recipientSearch.text" ng-keydown="onAddRecipientsKeyPress($event)" ng-focus="onRecipientSearchFocus()"/>\n\n        <ul class="list-group recipients-list available" ng-show="showAvailableRecipients(alert)">\n\n          <li class="list-group-item" ng-class="member == selectedMember ? \'active\' : \'\'" ng-repeat="member in members | filter:recipientSearch.text as filteredMembers" ng-if="!member.active" ng-click="toggleRecipient(member)">\n            {{member.email}}\n          </li>\n\n        </ul>\n      </li>\n\n    </ul>\n\n  </div>\n\n  <div class="modal-footer text-right">\n    <button class="btn btn-default" ng-click="modal.close()" translate>impac.kpi.alerts.cancel</button>\n    <button class="btn btn-primary" ng-click="save(alerts)" translate><strong>impac.kpi.alerts.save</strong></button>\n  </div>\n\n</div>\n'),e.put("alerts-config/alerts-config.tmpl.html",'<div class="alerts-config" ng-show="(kpi.targets && kpi.targets[kpi.element_watched].length > 0)" ng-click="showAlertsSettings()">\n  \x3c!-- directive link function compiles html here --\x3e\n</div>\n'),e.put("dashboard/dashboard.tmpl.html",'\x3c!-- DASHBOARD --\x3e\n<div class="analytics" ng-hide="(isLoading || forceLoad || failedDashboardLoad)" ng-class="{\'hide-dhb\': (isLoading || forceLoad), \'show-dhb\': !(isLoading || forceLoad), \'pdf-mode\': pdfMode }">\n  <div mno-star-wizard=true modal-open=\'starWizardModal.value\'></div>\n\n  \x3c!-- Title and Dashboard selection --\x3e\n  <div class="row" id="dashboard-heading" ng-if="showDhbHeading">\n    <div class="col-xs-12">\n      <img ng-src="{{impacTitleLogo}}" ng-click="!pdfMode || triggerUpload()" ng-class="{\'pdf-mode\': pdfMode}" />\n      <br />\n      <button class="btn btn-sm btn-default hidden-print" ng-click="triggerUpload()" ng-if="pdfMode" translate>impac.dashboard.change_logo</button>\n      <input type="file" style="display:none" id="fileInput" name="filedata"/>\n    </div>\n\n    <div class="col-xs-12">\n      <div class="caption">{{dhbHeadingText}}</div>\n    </div>\n  </div>\n\n  \x3c!-- Impac KPI\'s --\x3e\n  <kpis-bar ng-if="kpisBar.displayed()" kpis="currentDhb.kpis" user-accesses="userAccesses"></kpis-bar>\n\n  \x3c!-- Dashboards selection/creation/deletion --\x3e\n  <dashboard-selector id="module__dashboard-selector" is-widget-selector-shown="showWidgetSelector()" on-create-dashboard="createDashboard(dashboard)" on-display-widget-selector="displayWidgetSelector()" on-select-dashboard="activateTimer()" pdf-mode="pdfMode" dhb-label-name="dhbLabelName" user-accesses="userAccesses"></dashboard-selector>\n\n  <div id="sub-menu" uib-collapse="!showSubMenu">\n    <i class="fa fa-times" ng-click="hideSubMenu()" />\n\n    \x3c!-- Displayed to MYOB Essentials Users --\x3e\n    <div id="myob-message" ng-if="hasMyobEssentialsOnly && myobMessageConfig.show" class="alert alert-warning">\n      <h3 translate>impac.dashboard.it_looks_like</h3>\n      <p translate="impac.dashboard.unfortunately_information"></p>\n      <p>{{\'impac.dashboard.myob_message.part_1\' | translate}} <a href="http://myob.com.au/products/small-business/accounting-software/myob-accountright-1422735752948" target="_blank">{{\'impac.dashboard.myob_message.part_2\' | translate}}</a> {{\'impac.dashboard.myob_message.part_3\' | translate}}</p>\n      <p align="right" ng-if="myobMessageConfig.appLink.show"><a ng-href="{{myobMessageConfig.appLink.url}}" target="_blank" translate>{{myobMessageConfig.appLink.text}}</a></p>\n    </div>\n  </div>\n\n  \x3c!-- Widgets selection container --\x3e\n  <div id="widget-selector" uib-collapse="!showWidgetSelector()" ng-if="userAccesses.widgets.create && !customWidgetSelector.path">\n    <div class="title">\n      <p class="instruction" translate translate-values="{name: dhbLabelName}">impac.dashboard.select_the_widgets</p>\n      <span class="widget-added badge" translate>impac.dashboard.widget_added</span>\n      <i class="fa fa-times-circle close-selector" ng-if="showCloseWidgetSelectorButton()" ng-click="displayWidgetSelector(false)"/>\n    </div>\n\n    <div class="row top-container">\n      <div class="col-md-3 categories-section">\n        <div class="row section-header">\n          <span translate>impac.dashboard.all_categories</span>\n        </div>\n        <div class="row section-lines">\n          <div class="col-md-12">\n            <p class="line-item" ng-click="selectCategory(\'accounts\')" ng-class="isCategorySelected(\'accounts\') ? \'selected\' : none" translate>impac.dashboard.accounting</p>\n            <p class="line-item" ng-click="selectCategory(\'invoices\')" ng-class="isCategorySelected(\'invoices\') ? \'selected\' : none" translate>impac.dashboard.invoicing</p>\n            <p class="line-item" ng-click="selectCategory(\'hr\')" ng-class="isCategorySelected(\'hr\') ? \'selected\' : none" translate>impac.dashboard.hr_or_payroll</p>\n            <p class="line-item" ng-click="selectCategory(\'sales\')" ng-class="isCategorySelected(\'sales\') ? \'selected\' : none" translate>impac.dashboard.sales</p>\n          </div>\n        </div>\n        <div class="arrow-icon" ng-style="getSelectedCategoryTop()">\n          <div class="square"></div>\n          <i class="fa fa-caret-right"></i>\n        </div>\n      </div>\n\n      <div class="col-md-9 widgets-section">\n        <div class="section-header row">\n          <span>{{getSelectedCategoryName() | titleize}}</span>\n        </div>\n        <div class="section-lines">\n          <div class="line-items-grid">\n            <div class="grid-item" ng-repeat="widgetTemplate in getWidgetsForSelectedCategory()" ng-click="addWidget(widgetTemplate)" uib-tooltip="{{widgetTemplate.desc}}" tooltip-placement="{{$index < 9 ? \'bottom\' : \'top\'}}" tooltip-animation="false"  tooltip-append-to-body="true" tooltip-class="impac-widget-selector-tooltip">\n              <i class="fa fa-{{widgetTemplate.icon}} line-item" />\n              <p class="line-item" ng-bind="widgetTemplate.name"></p>\n              <i class="fa fa-plus-circle line-item" />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="bottom" ng-if="widgetSuggestionModal.config.apiPath">\n      <span class="suggestion">\n        {{\'impac.dashboard.can_not_find\' | translate}} <a ng-click="widgetSuggestionModal.open()">{{\'impac.dashboard.give_us\' | translate}}</a>\n      </span>\n    </div>\n  </div>\n\n  \x3c!-- custom widget selector template configured from ImpacThemingProvider --\x3e\n  <div id="custom-widget-selector" ng-if="customWidgetSelector.path" ng-include="customWidgetSelector.path" ng-hide="showChooseDhbMsg()"></div>\n\n  \x3c!-- Dashboard Settings - DEFAULT POSITION --\x3e\n  <div id="dashboard-settings-panel" ng-if="!dhbSettingsConfig.inWidgetsContainer && !showChooseDhbMsg()" class="row" ng-hide="pdfMode">\n    <div class="col-xs-12">\n      <div dashboard-setting-sync-apps ng-if="dhbSettingsConfig.syncApps.show()"/>\n      <div dashboard-setting-currency ng-if="userAccesses.dashboards.update" currency="currentDhb.currency" />\n    </div>\n  </div>\n\n  \x3c!-- Errors --\x3e\n  <div class="alert alert-error" ng-show="errors">\n    <button class="close" ng-click="errors=\'\'">×</button>\n    <ul>\n      <li ng-repeat="error in errors">{{error}}</li>\n    </ul>\n  </div>\n\n  <div id="no-widgets-container" class="row text-center ng-hide" ng-show=\'(showChooseDhbMsg() || showNoWidgetsMsg())\'>\n    <img ng-src="{{impacDashboardBackground}}" class="bg">\n\n    <div class="impac-info-message">\n      \x3c!-- First Time Dashboard Creation --\x3e\n      <div class="ng-hide" ng-show=\'showChooseDhbMsg()\'>\n        <div class=\'hidden-xs\'>\n          <div class="row top-buffer-4">\n            <div class="col-md-8 col-md-offset-2">\n              <div class="info-text">\n                <p><b translate translate-values="{name: dhbLabelName}">{{dhbErrorsConfig.firstTimeCreated.first}}</b></p>\n                <p translate>{{dhbErrorsConfig.firstTimeCreated.second}}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="align-center top-buffer-2">\n          <impac-dashboard-create ng-if="userAccesses.dashboards.create" on-create-dashboard="createDashboard(dashboard)" label-locale="impac.dashboard.create_a_dashboard" btn-class="btn-warning btn-lg" />\n        </div>\n      </div>\n\n      \x3c!-- Empty Dashboard --\x3e\n      <div class="ng-hide" ng-show=\'showNoWidgetsMsg()\'>\n        <div class=\'hidden-xs\'>\n          <div class="row top-buffer-4">\n            <div class="col-md-8 col-md-offset-2">\n              <div class="info-text">\n                <p><b translate>{{dhbErrorsConfig.empty.first}}</b></p>\n                <p translate>{{dhbErrorsConfig.empty.second}}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="align-center top-buffer-2">\n          <button ng-if="userAccesses.widgets.create" ng-disabled="showWidgetSelector()" ng-click="displayWidgetSelector()" class=\'btn btn-lg btn-warning\'><span class=\'fa fa-plus\'></span> {{\'impac.dashboard.add_new_widget\' | translate}}</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- First Time Dashboard Creation --\x3e\n  <div class="row text-center" ng-show=\'showChooseDhbMsg()\'>\n    <img class="bg" ng-src="{{impacDashboardBackground}}">\n    <div class="spacer2 hidden-xs"></div>\n    <div class=\'col-md-8 col-md-offset-2\'>\n      <p class="text-muted"><small><em translate>{{dhbErrorsConfig.firstTimeCreated.note}}</em></small></p>\n    </div>\n  </div>\n\n  \x3c!-- Widgets --\x3e\n  <div class=\'row\' id="widgets-section" ng-hide="showNoWidgetsMsg() || showChooseDhbMsg()">\n    \x3c!-- Dashboard Settings - CONFIGURED INSIDE WIDGETS-CONTAINER --\x3e\n    <div id="dashboard-settings-panel" ng-if="dhbSettingsConfig.inWidgetsContainer && !showChooseDhbMsg()" class="col-md-12 in-widgets-container">\n      <div>\n        <div dashboard-setting-sync-apps ng-if="dhbSettingsConfig.syncApps.show()"/>\n        <div dashboard-setting-currency ng-if="userAccesses.dashboards.update" currency="currentDhb.currency" />\n      </div>\n    </div>\n    <div class="col-md-12">\n      <div id="widgets-container" ui-sortable="sortableOptions" ng-model="currentDhb.widgets" class="row">\n        \x3c!-- Widgets --\x3e\n        <div impac-widget widget="widget" is-accessibility="accessibility" parent-dashboard="currentDhb" ng-repeat="widget in currentDhb.widgets" class="widget-item" ng-class="widget.getCssClasses()" on-display-alerts="displaySubMenu()" user-accesses="userAccesses" />\n        \x3c!-- Add Widget Tile, enabled & customised in ImpacThemingProvider --\x3e\n        <div ng-if="isAddChartEnabled" class="unsortable" ng-click="addChartTileOnClick()">\n          <div class="col-md-6 widget-item add-chart">\n            <div class="a-content" translate>impac.dashboard.plus_chart</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class="analytics" ng-show="(isLoading || forceLoad)">\n  <div class="row">\n    <div class="col-md-12 loader-container text-center" style="margin-top: 200px;">\n      <i class="fa fa-refresh fa-spin" style="font-size: 250px; opacity: 0.7;"/>\n    </div>\n  </div>\n</div>\n\n<div class="analytics load-failed" ng-show="!isLoading && failedDashboardLoad">\n  <div class="row">\n    <div class="col-md-12 text-center" style="margin-top: 200px;">\n      <p translate>{{dhbErrorsConfig.failed.first}}</p>\n      <div class="second-msg" ng-if="displaySecondMsg">\n        <p translate>{{dhbErrorsConfig.failed.second}}</p>\n      </div>\n      <a href="" ng-click="reloadDashboard()">\n        <button type="button" class="btn btn-default" translate>impac.dashboard.refresh</button>\n      </a>\n    </div>\n  </div>\n</div>\n'),e.put("dashboard/widget-suggestion.modal.html",'<div class="modal-header">\n  <div class="close" type="button" ng-click="instance.close()" >×</div>\n  <h3 translate>impac.dashboard.widget_suggestion.suggest_a_widget</h3>\n</div>\n\n<div class="modal-body">\n\n  <div class="row">\n    <div class="col-md-6">\n      <label translate>impac.dashboard.widget_suggestion.widget_name</label><br />\n      <input type="text" ng-model="widgetDetails.name" ng-disabled="isLoading" />\n    </div>\n    <div class="col-md-6">\n      <label>In which category?</label><br />\n      <input type="text" ng-model="widgetDetails.category" ng-disabled="isLoading" />\n    </div>\n  </div>\n\n  <div class="spacer1" />\n\n  <div class="row">\n    <div class="col-md-12">\n      <label translate>impac.dashboard.widget_suggestion.kind_of_information</label><br/>\n      <textarea ng-model="widgetDetails.description" ng-disabled="isLoading" />\n    </div>\n  </div>\n\n  <div class="spacer1" ng-show="isLoading" />\n\n  <div class="row" uib-collapse="!onSuccess">\n    <div class="col-md-12 text-center">\n      <h3 class="thanks-message">{{userName | titleize}}, <span translate="impac.dashboard.widget_suggestion.helping"></span></h3>\n    </div>\n  </div>\n\n  <div class="row" ng-show="error">\n    <div class="col-md-12 text-center">\n      <h5 style="color: red;" translate>impac.dashboard.widget_suggestion.unable_to_send</h5>\n    </div>\n  </div>\n\n</div>\n\n<div class="modal-footer">\n  <div class="row">\n    <div class="col-sm-12">\n      <button class="btn btn-shaded" ng-click="instance.dismiss()" ng-hide="isLoading" translate>impac.dashboard.widget_suggestion.cancel</button>\n      <button class="btn btn-info" ng-click="proceed()" ng-disabled="!(widgetDetails.name && widgetDetails.category && widgetDetails.description) || isLoading">\n        <i class="fa fa-spinner fa-pulse loader" ng-show="isLoading"></i>\n        {{\'impac.dashboard.widget_suggestion.send_your_suggestion\' | translate}}\n      </button>\n    </div>\n  </div>\n</div>\n'),e.put("dashboard-create/dashboard-create.modal.html",'<div class="modal-header">\n  <i class="fa fa-times" ng-click="$close()" />\n  <h1 translate translate-values="{ name: label }">\n    impac.dashboard.create.create_new_dashboard\n  </h1>\n</div>\n<div class="modal-body">\n  <div class="row">\n    <div class="col-xs-10 col-xs-offset-1 form-horizontal">\n      <div class="row form-group">\n        <label class="col-sm-2 control-label" translate>impac.dashboard.create.name</label>\n        <div class="col-sm-10">\n          <input type="text" class="form-control" ng-model="dashboard.name" placeholder="{{\'impac.dashboard.create.placeholder.cash_accounts\' | translate}}"></input>\n        </div>\n      </div>\n\n      <div class="row form-group" ng-if="multiMode.enabled">\n        <label class="col-sm-2 control-label" translate>impac.dashboard.create.source</label>\n        <div class="col-sm-10">\n          <div class="btn-group">\n            <label class="btn btn-info" ng-model="source.mode" uib-btn-radio="\'single\'" ng-change="init()" translate>impac.dashboard.create.current_company</label>\n            <label class="btn btn-info" ng-model="source.mode" uib-btn-radio="\'multi\'" translate>impac.dashboard.create.multi_company</label>\n          </div>\n        </div>\n      </div>\n\n      <div class="row" ng-if="source.mode == \'multi\'">\n        <div class="col-sm-10 col-sm-offset-2">\n          <ul class="list-unstyled">\n            <li ng-repeat="org in organizations" >\n              <input type="checkbox" ng-model="org.selected" ng-disabled="!org.acl.related.impac.show" />\n              {{ org.name }}\n              <i class="fa fa-exclamation-circle text-danger" ng-hide="org.acl.related.impac.show" uib-tooltip="{{\'impac.dashboard.create.tooltip.access\' | translate}}" />\n            </li>\n          </ul>\n        </div>\n      </div>\n\n      <dashboard-templates-selector on-select="templates.select($event)" ng-if="templates.enabled"></dashboard-templates-selector>\n    </div>\n  </div>\n</div>\n<div class="modal-footer text-right">\n  <button class="btn btn-default" ng-click="$close()" ng-disabled="loading" translate>impac.dashboard.create.cancel</button>\n  <button class="btn btn-success" ng-click="createDashboard(organizations)" ng-disabled="invalid() || loading">\n    <i class="fa fa-spinner fa-pulse loader" ng-if="loading" />\n    {{ \'impac.dashboard.create.create\' | translate }}\n  </button>\n</div>\n'),e.put("dashboard-create/dashboard-create.tmpl.html",'<div class="dashboard-create">\n  <button class="btn" ng-class="$ctrl.btnClass" ng-click="$ctrl.openModal()">\n    <i class="fa fa-plus" />\n    {{ ($ctrl.labelLocale || \'impac.dashboard_selector.dropdown.create_dashboard\') | translate: { name: $ctrl.label } }}\n  </button>\n</div>\n'),e.put("dashboard-selector/bootstrap-tabs.tmpl.html",'<div class="row buttons-bar-row" ng-class="{\'pdf-mode\': pdfMode}">\n  <div ng-show="pdfMode" class=\'col-md-6 col-md-offset-3 title-container text-center\'>\n    <h1 class="dashboard-title">\n      {{currentDhb.full_name}}\n    </h1>\n    <p class="data-source-label">\n      <small><b translate>impac.dashboard_selector.bootstrap_tabs.source</b> {{organizationsNames()}}</small>\n    </p>\n  </div>\n\n  <div class="buttons-bar col-sm-8" ng-show="isThereADashboard() && !pdfMode">\n    <uib-tabset type="{{selectorType}}">\n      <uib-tab ng-repeat="dhb in dashboardsList" ng-click="selectDashboard(dhb.id)" active="dhb.active">\n        <uib-tab-heading>\n          {{dhb.full_name}}\n          <a href="" class="close-link" ng-if="userAccesses.dashboards.destroy">\n            <i class="fa fa-times" ng-click="deleteDashboardModal.open()"></i>\n          </a>\n        </uib-tab-heading>\n      </uib-tab>\n      <uib-tab ng-if=\'isAccessibilityEnabled\' ng-click="toggleAccessibilityMode()">\n        <uib-tab-heading>\n          <a href=""><i class="fa fa-wheelchair"></i></a>\n        </uib-tab-heading>\n      </uib-tab>\n      <uib-tab ng-if="userAccesses.dashboards.create" ng-click="onCreateDashboard()">\n        <uib-tab-heading>\n          <a href="">+</a>\n        </uib-tab-heading>\n      </uib-tab>\n    </uib-tabset>\n  </div>\n\n  <div class=\'buttons-bar hidden-print\' ng-class="{\'col-md-3\': pdfMode, \'col-sm-4\': !pdfMode}">\n    <div class=\'actions-panel\'>\n      <button ng-if=\'isAccessibilityEnabled && !pdfMode\' ng-click="toggleAccessibilityMode()" class=\'btn btn-info\' ng-disabled="isWidgetSelectorShown()"><span class=\'fa fa-wheelchair\'></span></button>\n      <button ng-if="userAccesses.widgets.create && isThereADashboard() && !pdfMode" ng-click="onDisplayWidgetSelector()" class=\'btn btn-warning\' ng-disabled="isWidgetSelectorShown()"><span class=\'fa fa-plus\'></span> {{\'impac.dashboard_selector.bootstrap_tabs.add_widget\' | translate}}</button>\n\n      <div dashboard-settings-pdf-mode ng-if="isThereADashboard() && !isCurrentDashboardEmpty()" />\n\n    </div>\n  </div>\n</div>\n'),e.put("dashboard-selector/delete.modal.html",'<div class="modal-header">\n  <div class="close" type="button" ng-click="instance.close()" >×</div>\n  <h3 translate translate-values="{ name: dhbLabelName }">impac.dashboard_selector.delete.delete_dashboard</h3>\n</div>\n\n<div class="modal-body">\n  <div class="row">\n    <div class="col-sm-12">\n      <div class="alert alert-error" ng-show="errors">\n        <button class="close" ng-click="errors=\'\'">×</button>\n        <ul>\n          <li ng-repeat="error in errors">{{error}}</li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <p translate translate-values="{ name: dhbLabelName }">impac.dashboard_selector.delete_widget.description</p>\n</div>\n\n<div class="modal-footer">\n  <div class="row">\n    <div class="col-sm-12">\n      <button class="btn btn-shaded" ng-click="instance.dismiss()" ng-hide="isLoading" ng-disabled="isLoading" translate>impac.dashboard_selector.delete.cancel</button>\n      <button class="btn btn-danger" ng-click="proceed()" ng-disabled="isLoading">\n        <i class="fa fa-spinner fa-pulse loader" ng-if="isLoading"></i>\n        {{\'impac.dashboard_selector.delete.delete\' | translate}}\n      </button>\n    </div>\n  </div>\n</div>\n'),e.put("dashboard-selector/dropdown.tmpl.html",'<div class="row buttons-bar-row buttons-bar no-gutters" ng-class="{\'pdf-mode\': pdfMode}">\n\n  <div ng-show="pdfMode" class=\'col-md-6 col-md-offset-3 title-container text-center\'>\n    <h1 class="dashboard-title">\n      {{currentDhb.full_name}}\n    </h1>\n    <p class="data-source-label">\n      <small><b translate>impac.dashboard_selector.dropdown.source</b> {{organizationsNames()}}</small>\n    </p>\n  </div>\n\n  <div class="col-md-6 dropdown-container" ng-hide="isLoading || pdfMode">\n    <div ng-if="isThereADashboard()">\n      <h4 class=\'dashboard-title\'>\n        <div style="display: inline-block;" ng-click="toggleShowDashboardsDropdown()">\n          {{currentDhb.full_name}}\n          <i class="fa fa-chevron-down" ng-if="userAccesses.dashboards.create || dashboardsList.length > 1" style="font-size: 18px;"></i>\n        </div>\n        <i ng-show="userAccesses.dashboards.update && !showChangeDashboardNameBox" class="fa fa-pencil" uib-tooltip="{{\'impac.dashboard_selector.dropdown.tooltip.change_name\' | translate}}" tooltip-animation="false" tooltip-append-to-body="true" ng-click="toggleChangeDashboardNameBox(currentDhb)"></i>\n      </h4>\n\n      <div ng-show="showDashboardsDropdown" class=\'dashboard-select hidden-print\'>\n        <div ng-hide="dhb.id == currentDhb.id" class=\'option\' ng-repeat="dhb in dashboardsList">\n          <span class="name" ng-click="selectDashboard(dhb.id)">{{dhb.full_name}}</span>\n          <i ng-show="userAccesses.dashboards.update && !showChangeDashboardNameBox" class="fa fa-pencil" uib-tooltip="{{\'impac.dashboard_selector.dropdown.tooltip.change_name\' | translate}}" tooltip-animation="false" tooltip-append-to-body="true" ng-click="toggleChangeDashboardNameBox(dhb)"/>\n        </div>\n\n        <div ng-if="userAccesses.dashboards.create" class="option dashboard-create">\n          <impac-dashboard-create on-create-dashboard="createDashboard(dashboard)" btn-class="btn-warning" />\n        </div>\n      </div>\n\n      <div ng-if="showChangeDashboardNameBox" class="change-name">\n        <p translate translate-values="{name: dhbLabelName}">impac.dashboard_selector.dropdown.change_dashboard_name</p>\n        <input type="text" class="form-control" id="changeDhbNameInput" ng-model="dashboardToChange.name" ng-keyup="checkAndUpdateDashboardName($event)"/>\n        <button class="btn btn-sm btn-default" ng-click="hideChangeDashboardNameBox()" translate>impac.dashboard_selector.dropdown.cancel</button>\n        <button class="btn btn-sm btn-success" style="margin-left: 10px" ng-click="updateDashboardName()" translate>impac.dashboard_selector.dropdown.confirm</button>\n      </div>\n\n      <p class="data-source-label">\n        <small><b translate>impac.dashboard_selector.dropdown.source</b> {{organizationsNames()}}</small>\n      </p>\n    </div>\n  </div>\n\n  <div class="col-md-6 loader-container" ng-show="isLoading">\n    <i class="fa fa-spinner fa-pulse fa-4x loading-spinner"/>\n  </div>\n\n  <div class=\'actions-panel hidden-print\' ng-class="{\'col-md-3\': pdfMode, \'col-md-6\': !pdfMode}">\n    <button ng-if=\'isAccessibilityEnabled\' ng-click="toggleAccessibilityMode()" class=\'btn btn-info\' ng-disabled="showWidgetSelector" ng-hide="pdfMode"><span class=\'fa fa-wheelchair\'></span></button>\n\n    <button ng-if="userAccesses.widgets.create && isThereADashboard()" ng-click="onDisplayWidgetSelector()" class=\'btn btn-warning\' ng-disabled="isWidgetSelectorShown()" ng-hide="pdfMode"><span class=\'fa fa-plus\'></span> {{\'impac.dashboard_selector.dropdown.add_widget\' | translate}}</button>\n\n    <impac-dashboard-create ng-if="userAccesses.dashboards.create" on-create-dashboard="createDashboard(dashboard)" btn-class="btn-warning" />\n\n    <div dashboard-settings-pdf-mode ng-if="isThereADashboard() && !isCurrentDashboardEmpty()" />\n\n    <button ng-if="userAccesses.dashboards.destroy && isThereADashboard()" ng-click="deleteDashboardModal.open()" class=\'btn btn-danger hidden-xs\' ng-show="isThereADashboard()" uib-tooltip="{{\'impac.dashboard_selector.dropdown.tooltip.delete\' | translate:{name: dhbLabelName} }}" ng-hide="pdfMode"><span class=\'fa fa-trash-o\'></span> </button>\n  </div>\n\n</div>\n'),
e.put("dashboard-templates-selector/dashboard-templates-selector.tmpl.html",'<div ng-hide="$ctrl.hasTemplates() || $ctrl.hideLoader" class="loader" align="center">\n  <div>\n    <i class="fa fa-spinner fa-pulse fa-3x"></i>\n  </div>\n</div>\n\n<div ng-if="$ctrl.hasTemplates()">\n  <div class="templates-header">\n    <label class="control-label" translate>impac.dashboard.create.templates.create_from</label>\n    <div class="templates-toggle">\n      <i ng-class="{\'fa-toggle-off\': !$ctrl.isTemplatesMode, \'fa-toggle-on\': $ctrl.isTemplatesMode}" class="fa control-label" ng-click="$ctrl.toggleTemplatesMode()"></i>\n    </div>\n  </div>\n  <div class="templates" ng-if="$ctrl.isTemplatesMode">\n    <ul class="list-unstyled">\n      <li class="template" ng-repeat="template in $ctrl.templates track by $index" ng-click="$ctrl.templateOnClick(template)" ng-class="{ \'selected\': $ctrl.isSelected(template) }">\n        <span ng-bind="template.name"></span>\n      </li>\n    </ul>\n  </div>\n</div>\n'),e.put("kpis-bar/kpis-bar.tmpl.html",'<div class="kpis" ng-class="{\'empty\': (kpis.length == 0), \'hidden-print\': (kpis.length == 0)}">\n\n  <div class="actions">\n    <button type="button" class="toggle-show-content im-fab im-primary" ng-click="toggleShowContent()">\n      <a href="">\n        <i class="fa" ng-class="showContent ? \'fa-chevron-up\' : \'fa-chevron-down\'" />\n      </a>\n    </button>\n    <div class="content-buttons">\n      <button type="button" ng-if="userAccesses.kpis.create || !availableKpis.kpiSelectorHidden" class="add-kpis im-fab im-primary" ng-click="availableKpis.toggle()" ng-class="{ disabled: !hasKpiAvailability() }">\n        <a href="">\n          <i class="fa" ng-class="{\'fa-plus\': availableKpis.kpiSelectorHidden, \'fa-minus\': !availableKpis.kpiSelectorHidden}" />\n        </a>\n      </button>\n      <button type="button" ng-if="kpis.length > 0 && userAccesses.kpis.update" class="edit-kpis im-fab im-primary" ng-class="{ \'disabled\': toggleEditModeLock, \'editing\':isEditing() }" ng-click="toggleEditMode()">\n        <a href="">\n          <i class="fa" ng-class="{ \'fa-cog\': !isEditing(), \'fa-floppy-o\': isEditing() }" />\n        </a>\n      </button>\n    </div>\n  </div>\n\n  <div class="content">\n    <div class="row title" ng-if="kpis.length == 0 && availableKpis.kpiSelectorHidden">\n      <div class="col-xs-12 text-center">\n        <a href="" class="show-dashboard" ng-click="availableKpis.toggle()" ng-show="hasKpiAvailability() && userAccesses.kpis.create" translate translate-values="{name: dhbLabelName}">impac.kpi_bar.you_can_attach</a>\n        <span class="no-kpi-templates" ng-if="!hasKpiAvailability() || !userAccesses.kpis.create" translate translate-values="{name: dhbLabelName}">impac.kpi_bar.no_kpis</span>\n      </div>\n    </div>\n\n    <div class="row add-bar" uib-collapse="availableKpis.kpiSelectorHidden">\n      <div class="col-xs-12 col-sm-12">\n        <div class="row">\n          <div ng-repeat="kpi in availableKpis.list track by $index" class="impac-kpi col-xs-6 col-sm-4 col-md-3" ng-click="addKpi(kpi)">\n            <div class="kpi add" ng-hide="(availableKpis.list.length == 0)">\n              <div class="top-line ui-sortable-handle"></div>\n              <div class="kpi-content">\n                <div class="kpi-show row nomargin nopadding">\n                  <div class="col-xs-3 col-sm-3 kpi-icon">\n                    <i class="fa fa-2x fa-plus"></i>\n                  </div>\n                  <div class="col-xs-9 col-sm-9 kpi-text">\n                    <span class="caption"><strong>{{kpi.name}}</strong></span>\n                    <span class="emphasis" translate translate-values="{name: dhbLabelName}">impac.kpi_bar.add_to_dashboard</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="row">\n      <div class="col-xs-12 col-sm-12">\n        <div class="row">\n          <div ui-sortable="sortableOptions" ng-model="kpis">\n            <div ng-repeat="kpi in kpis" impac-kpi class="impac-kpi col-xs-6 col-sm-4 col-md-3" kpi="kpi" on-delete="removeKpi(kpi.id)" edit-mode="showEditMode" available-kpis="availableKpis.list" load-ready="kpiDatesDeferred" user-accesses="userAccesses">\n            </div>\n          </div>\n          <div ng-show="isAddingKpi" class="col-xs-6 col-sm-4 col-md-3 kpi-loader">\n            <i class="fa fa-2x fa-spin fa-refresh"></i>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="row" ng-show="showDatesPicker()">\n      <div class="dates-picker-container">\n        <div setting-dates-picker from="kpisDateRange.from" to="kpisDateRange.to" keep-today="kpisDateRange.keepToday" on-change="kpisBarUpdateDates" deferred="datesPickerDeferred"/>\n      </div>\n    </div>\n</div>\n\n</div>\n'),e.put("kpi/kpi.tmpl.html",'<div class="kpi" ng-class="{ \'static\': kpi.static, \'triggered\': (kpi.layout.triggered && !isEditing() && !isLoading()), \'editing\': isEditing() }">\n  <div class="content-container" ng-hide="isLoading()">\n    <div class="top-line" ng-class="{ \'triggered\': kpi.layout.triggered }"></div>\n    <div class="kpi-content" ng-show="showKpiContent()" ng-class="{ \'editing\': isEditing() }">\n      \x3c!-- SHOW --\x3e\n      <div class="kpi-show row nomargin nopadding" ng-hide="isEditing()">\n        <div class="col-xs-3 col-sm-3 kpi-icon" ng-class="{ \'triggered\': kpi.layout.triggered }">\n          <i class="fa {{kpi.layout.icon.value}} fa-2x"></i>\n        </div>\n        <div class="col-xs-9 col-sm-9 kpi-text" ng-class="{ \'triggered\': kpi.layout.triggered }">\n          <span class="caption" uib-tooltip="{{kpi.layout.text.caption}}" tooltip-append-to-body="false">{{kpi.layout.text.caption}}</span>\n          <span class="emphasis" uib-tooltip="{{kpi.layout.text.emphasis}} - ({{ getRealValue() }})" tooltip-placement="bottom" tooltip-append-to-body="false">\n            <strong>{{kpi.layout.text.emphasis}}</strong> - <span class="real-value">({{ getRealValue() }})</span>\n          </span>\n        </div>\n      </div>\n      \x3c!-- EDIT --\x3e\n      <div class="kpi-edit" ng-show="isEditing()">\n        <div class="kpi-name">\n          <h6>{{kpi.name.toUpperCase()}}</h6>\n        </div>\n\n        <div class=\'alert-caption\'>\n          <span>{{kpi.layout.text.alert}}</span>\n        </div>\n\n        <form name="kpi{{kpi.id}}SettingsForm">\n          \x3c!-- watchables --\x3e\n          <div ng-repeat="watchable in kpi.watchables track by $index">\n            <div class="real-value" ng-show="kpi.data">{{\'impac.kpi.current\' | translate}} {{watchable}}: {{ getRealValue() }}</div>\n            \x3c!-- targets --\x3e\n            <div class="im-form-group" ng-class="getFormTargetValueInput(watchable, $index).$valid ? \'has-success\' : \'has-error\'" ng-repeat="target in targets[watchable] track by $index">\n              \x3c!-- target --\x3e\n              <input name="{{watchable}}TargetValue{{$index}}" type="text" pattern="^-?\\d+(\\.\\d+)?$" ng-model="target[getTargetPlaceholder(watchable).mode]" placeholder="{{bindTargetInputPlaceholder(watchable, $index)}}" ng-focus="setTargetInputPlaceholder(watchable, $index)" ng-blur="resetTargetInputPlaceholder(watchable, $index)" autofocus ng-keypress="onKeyPress($event)" required>\n              <label for="targetValue" class="im-control-label">{{watchable | titleize}}</label><i class="im-bar"></i>\n              <span class="kpi-target-unit" aria-hidden="true">{{getTargetUnit(watchable)}}</span>\n              \x3c!-- target error messages --\x3e\n              <div ng-messages="getFormTargetValueInput(watchable, $index).$error" class="im-messages">\n                <span ng-message="required" translate>impac.kpi.kpi_target_require</span>\n                <span ng-message="pattern" translate>impac.kpi.kpi_target_number</span>\n              </div>\n            </div>\n          </div>\n\n          <div class="im-form-group">\n            <div ng-repeat="(param, paramValues) in kpi.possibleExtraParams track by $index">\n              \x3c!-- extra param selection --\x3e\n              <select name="extraParam" ng-model="kpi.extra_params[param]" ng-change="updateExtraParam()" ng-options="value.id as value.label for value in paramValues">\n              </select>\n              <label for="extraParam" class="im-control-label">{{\'impac.kpi.extra_param_label.verb\' | translate}} {{param | titleize}}</label>\n              <i class="im-bar"></i>\n            </div>\n          </div>\n        </form>\n\n        \x3c!-- Alerts Config --\x3e\n        <alerts-config kpi="kpi" button-html="\n          <button class=\'kpi-alerts im-fab im-primary\'>\n            <i class=\'fa fa-bell\'></i>\n          </button>">\n        </alerts-config>\n\n        \x3c!-- Remove KPI --\x3e\n        <button type="button" ng-if="userAccesses.kpis.destroy" class="kpi-remove im-fab im-warn" ng-click="deleteKpi()">\n          <i class="fa fa-times" aria-hidden="true"></i>\n        </button>\n\n      </div>\n    </div>\n    \x3c!-- Data not found display --\x3e\n    <div class="kpi-no-data" ng-if="isDataNotFound()">\n      \x3c!-- Remove KPI --\x3e\n      <button type="button" ng-show="isEditing() && userAccesses.kpis.destroy" class="kpi-remove im-fab im-warn" ng-click="deleteKpi()">\n        <i class="fa fa-times" aria-hidden="true"></i>\n      </button>\n      <div common-data-not-found no-image="true" endpoint="::kpi.endpoint"/>\n    </div>\n  </div>\n  <div class="col-xs-2 kpi-data-loader loader" ng-if="isLoading()">\n    <i class="fa fa-spinner fa-pulse fa-3x"></i>\n  </div>\n</div>\n'),e.put("widget/widget.tmpl.html",'<div class="top-line">\n  <div common-editable-title parent-widget="widget" class="editable-title" on-toggle="toggleEditTitle()" disabled="!userAccesses.widgets.update" />\n  <div common-top-buttons parent-widget="widget" on-refresh="showWidget" ng-hide="isInfoPanelDisplayed() || isTitleEdited() || pdfMode" on-toggle-info-panel="toggleInfoPanel()" on-toggle-delete-widget="toggleDeleteWidget()" user-accesses="userAccesses"/>\n</div>\n\n<div ng-if="pdfMode && !widget.ticked" class="include-to-pdf title hidden-print">\n  <h6 translate>impac.widget.include_pdf</h6>\n</div>\n\n<div class="content" ng-class="::cssClass">\n  <div ng-show="widget.isLoading" class="loader" align="center">\n    <div>\n      <i class="fa fa-spinner fa-pulse fa-3x"></i>\n      <p translate="impac.widget.loader"></p>\n    </div>\n  </div>\n\n  <div ng-if="pdfMode" class="include-to-pdf tick hidden-print">\n    <a class="widget-hover" ng-click="tick()">\n      <i class="fa fa-check-circle fa-5x" aria-hidden="true" ng-show="widget.ticked"></i>\n    </a>\n  </div>\n\n  <div ng-hide="widget.isLoading" class="content-template-wrapper" ng-include="::templatePath" />\n  \n  <common-delete-widget ng-if="showDeleteWidget" on-dismiss="toggleDeleteWidget()" on-delete="deleteWidget()" />\n</div>\n\n<div common-info-panel parent-widget="widget" on-close="toggleInfoPanel()" ng-show="isInfoPanelDisplayed()" />\n'),e.put("common/data-not-found.tmpl.html",'<div class="data-not-found" ng-if="!designerMode">\n  <div class="overlay" ng-show="messageVisible" />\n  <div class="message" ng-show="messageVisible" >\n    <div class="title" ng-show="widget.isLiveBalance" translate>{{ content.liveBTitle }}</div>\n    <div class="title" ng-show="!widget.isLiveBalance" translate>{{ content.title }}</div>\n    <p ng-show="widget.isLiveBalance" translate>{{ content.liveBMessage }}</p>\n    <p ng-show="!widget.isLiveBalance" translate>{{ content.mainMessage }}</p>\n    <button class="btn btn-xs btn-default" ng-click="goToMarketplace()" translate>{{ content.linkMessage }}</button>\n    <button class="btn btn-xs btn-warning" ng-click="hide()" translate>{{ content.seeExample }}</button>\n  </div>\n  <div class="example" ng-hide="messageVisible">\n    {{ content.demoData | translate }} -\n    <a ng-click="goToMarketplace()" translate>{{ content.linkMessage }}</a>\n  </div>\n</div>\n'),e.put("common/delete-widget.tmpl.html",'<div class="delete-widget">\n  <div class="overlay" />\n  <div class="message">\n    <div class="title" translate>impac.widget.common.top_buttons.delete.title</div>\n    <p translate>impac.widget.common.top_buttons.delete.message</p>\n    <p translate>impac.widget.common.top_buttons.delete.explanation</p>\n    <div ng-hide="$ctrl.loading">\n      <button ng-click="$ctrl.onDismiss()" class="btn btn-xs btn-default" translate>impac.widget.common.top_buttons.delete.cancel</button>\n      <button ng-click="$ctrl.deleteWidget()" class="btn btn-xs btn-danger" translate>impac.widget.common.top_buttons.delete.delete</button>\n    </div>\n    <div ng-show="$ctrl.loading" class="loader" align="center">\n      <div>\n        <i class="fa fa-spinner fa-pulse fa-4x"></i>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("common/duplicate-transactions-list.tmpl.html",'<div id="duplicate-transactions-list">\n  <div class="row top">\n    <div class="col-xs-6 pull-left">\n      <label class="btn btn-sm btn-default" ng-click="$ctrl.onHide()">\n        <i class="fa fa-chevron-left" />\n        Back to chart\n      </label>\n    </div>\n    <div class="col-xs-6">\n      <ul uib-pagination\n        ng-show="$ctrl.showPaginationControl()"\n        class="pull-right"\n        total-items="$ctrl.totalRecords"\n        ng-model="$ctrl.currentPage"\n        max-size="5"\n        items-per-page="$ctrl.itemsPerPage"\n        class="pagination-sm"\n        force-ellipses="true"\n        ng-change="$ctrl.changePage()" />\n    </div>\n  </div>\n  <div class="table-container">\n    <table class="table table-striped">\n      <thead>\n        <tr>\n          <th>#</th>\n          <th>Code</th>\n          <th>Title</th>\n          <th>Status</th>\n          <th>Transaction date</th>\n          <th>Due date</th>\n          <th>Expected payment date</th>\n          <th class="text-right">Amount</th>\n          <th class="text-right">Duplicated?</th>\n        </tr>\n      </thead>\n      <tbody ng-repeat="dupTrx in $ctrl.transactions track by $index">\n        <tr >\n          <td rowspan="2" class="origin" >{{ $index + 1 }}</td>\n          <td>{{ dupTrx.origin.transaction_number }}</td>\n          <td>{{ dupTrx.origin.title }}</td>\n          <td>{{ dupTrx.origin.status }}</td>\n          <td>{{ dupTrx.origin.trxDateUTC }}</td>\n          <td>{{ dupTrx.origin.dueDateUTC }}</td>\n          <td>{{ dupTrx.origin.expectedPaymentDateUTC }}</td>\n          <td class="text-right">{{ dupTrx.origin.amount | mnoCurrency : dupTrx.origin.currency }}</td>\n          <td rowspan="2" class="text-right">\n            <button ng-click="$ctrl.onConfirmDuplication({dupTrxId: dupTrx.id, action: \'confirm\'})">Yes</button>\n            <button ng-click="$ctrl.onConfirmDuplication({dupTrxId: dupTrx.id, action: \'not_confirm\'})">No</button>\n          </td>\n        </tr>\n        <tr>\n          <td>{{ dupTrx.forecast.transaction_number }}</td>\n          <td>{{ dupTrx.forecast.title }}</td>\n          <td>{{ dupTrx.forecast.status }}</td>\n          <td>{{ dupTrx.forecast.trxDateUTC }}</td>\n          <td>{{ dupTrx.forecast.dueDateUTC }}</td>\n          <td>{{ dupTrx.forecast.expectedPaymentDateUTC }}</td>\n          <td class="text-right">{{ dupTrx.forecast.amount | mnoCurrency : dupTrx.forecast.currency }}</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</div>\n'),e.put("common/transactions-add.tmpl.html",'<div id="transactions-add">\n  <div class="overlay" />\n  <div class="message" >\n    <div class="title">Create a manual transaction</div>\n    \n    <div class="form text-left">\n      <label>Description:</label>\n      <input type="text" class="form-control" ng-model="$ctrl.trx.name" placeholder="Transaction description" />\n\n      <label>Amount:</label>\n      <input type="text" class="form-control" ng-model="$ctrl.trx.amount" placeholder="1500.00" />\n\n      <label>Expected payment date:</label>\n      <input type="text" class="btn btn-default form-control" uib-datepicker-popup="dd MMM yyyy" ng-model="$ctrl.trx.datePicker.date" ng-click="$ctrl.trx.datePicker.toggle()" is-open="$ctrl.trx.datePicker.opened" close-text="Close" on-open-focus="false" />\n\n      <label>Customer</label>\n      <div class=\'btn-group\'>\n        <select ng-model="$ctrl.trx.contact" ng-options="contact.attributes.name for contact in $ctrl.contacts | orderBy: \'attributes.name\' track by contact.id" class=\'form-control\'>\n          <option value=\'\'> Choose Customer</option>\n        </select>\n      </div>\n\n      <label>Type:</label>\n      <div class="btn-group">\n        <label class="btn btn-sm btn-default" ng-model="$ctrl.resourcesType" uib-btn-radio="\'invoices\'">Money in</label>\n        <label class="btn btn-sm btn-default" ng-model="$ctrl.resourcesType" uib-btn-radio="\'bills\'">Money out</label>\n      </div>\n\n      <div class="coming-soon">\n        <div class="badge pull-right">Coming soon!</div>\n        \n        <label style="padding-top: 0px;">Repeat every:</label>\n        <div class="btn-group">\n          <select disabled="true">\n            <option>3</option>\n          </select>\n          <select disabled="true">\n            <option>Weeks</option>\n          </select>\n        </div>\n\n        <label>Ends:</label>\n        <div class="btn-group">\n          <input type="radio" disabled="true" checked="true" style="margin-top: 0px;"> Never<br />\n          <input type="radio" disabled="true"> After <select disabled="true"><option>10</option></select> occurences<br />\n          <input type="radio" disabled="true"> On <input type="text" class="btn btn-xs btn-default" uib-datepicker-popup="dd MMM yyyy" ng-model="$ctrl.tempDate" disabled="true" />\n        </div>\n      </div>\n    </div>\n\n    <div class="bottom text-center">\n      <button class="btn btn-sm btn-default" ng-click="$ctrl.onHide()">Cancel</button>\n      <button class="btn btn-sm btn-success" ng-click="$ctrl.createTransaction()" ng-disabled="!$ctrl.isValid()">Save</button>\n    </div>\n  </div>\n</div>\n'),e.put("common/transactions-list.tmpl.html",'<div id="transactions-list">\n  <div class="row top">\n    <div class="col-xs-4 pull-left">\n      <label class="btn btn-sm btn-default" ng-click="$ctrl.onHide()" ng-hide="$ctrl.listOnly">\n        <i class="fa fa-chevron-left" />\n        Back to chart\n      </label>\n    </div>\n    <div class="col-xs-4 text-center">\n      <div class="btn-group">\n        <label class="btn btn-sm btn-default" ng-model="$ctrl.resourcesType" ng-click="$ctrl.changeResourcesType()" uib-btn-radio="\'invoices\'">See money in</label>\n        <label class="btn btn-sm btn-default" ng-model="$ctrl.resourcesType" ng-click="$ctrl.changeResourcesType()" uib-btn-radio="\'bills\'">See money out</label>\n      </div>\n    </div>\n    <div class="col-xs-4">\n      <ul uib-pagination\n        ng-show="$ctrl.showPaginationControl()"\n        class="pull-right"\n        total-items="$ctrl.totalRecords"\n        ng-model="$ctrl.currentPage"\n        max-size="5"\n        items-per-page="30"\n        class="pagination-sm"\n        force-ellipses="true"\n        ng-change="$ctrl.changePage()" />\n    </div>\n  </div>\n  <div class="table-container">\n    <table class="table table-striped">\n      <tr>\n        <th>{{ $ctrl.resourcesType == \'invoices\' ? \'Customer\' : \'Supplier\' }}</th>\n        <th>Code</th>\n        <th>Title</th>\n        <th>Status</th>\n        <th>Transaction date</th>\n        <th>Due date</th>\n        <th ng-hide="$ctrl.listOnly">Expected payment date</th>\n        <th class="text-right">Amount</th>\n        <th class="text-right">Balance</th>\n        <th />\n      </tr>\n      <tr ng-repeat="trx in $ctrl.transactions">\n        <td>{{ trx.contact_name }}</td>\n        <td>{{ trx.transaction_number }}</td>\n        <td>{{ trx.title }}</td>\n        <td>{{ trx.status }}</td>\n        <td>{{ trx.trxDateUTC }}</td>\n        <td>{{ trx.dueDateUTC }}</td>\n        <td ng-hide="$ctrl.listOnly">\n          <input type="text" class="btn btn-xs btn-default" uib-datepicker-popup="dd MMM yyyy" ng-model="trx.datePicker.date" ng-click="trx.datePicker.toggle()" is-open="trx.datePicker.opened" close-text="Close" on-open-focus="false" ng-change="$ctrl.changeExpectedDate(trx)" />\n          <button class="btn btn-xs btn-danger reset-date" ng-if="trx.showReset" title="Reset expected payment date to due date" ng-click="$ctrl.resetExpectedDate(trx)">\n            <i class="fa fa-clock-o" />\n          </button>\n        </td>\n        <td class="text-right">{{ trx.amount | mnoCurrency : trx.currency }}</td>\n        <td class="text-right">{{ trx.balance | mnoCurrency : trx.currency }}</td>\n        <td>\n          <i class="fa fa-times" title="Delete forecast transaction" ng-if="trx.status == \'FORECAST\'" ng-click="$ctrl.onDeleteTransaction({ resourcesType: $ctrl.resourcesType, trxId: trx.id })" />\n        </td>\n      </tr>\n      <tr class="total" ng-class="$ctrl.resourcesType">\n        <td colspan="6">TOTAL</td>\n        \x3c!-- If Date Picker is open the colspan width will be 7.  If \'list-only\' the width will be 6 --\x3e\n        <td ng-hide="$ctrl.listOnly" colspan="1"></td>\n        <td class="text-right">{{ $ctrl.totalAmount | mnoCurrency : $ctrl.currency }}</td>\n        <td class="text-right">{{ $ctrl.totalBalance | mnoCurrency : $ctrl.currency }}</td>\n        <td />\n      </tr>\n    </table>\n  </div>\n</div>\n'),e.put("dashboard-settings/currency.tmpl.html",'<div class="dashboard-settings currency">\n  <select ng-options="cur for cur in currencies" ng-model="data.currency" ng-change="massAssignCurrency()" ng-disabled="locked">\n    <option ng-if="!data.currency" value="" disabled translate>impac.components.currency.choose_currency</option>\n  </select>\n</div>\n'),e.put("dashboard-settings/pdf-mode.tmpl.html",'<div class="dashboard-settings pdf-mode" ng-if="enabled">\n  <div ng-hide="pdfMode">\n    <button ng-click="toggle()" class=\'btn btn-info\' uib-tooltip="Print Dashboard">\n      <span class=\'fa fa-print\' />\n    </button>\n  </div>\n\n  <div ng-show="pdfMode">\n    <button ng-click="print()" class=\'btn btn-info\' ng-disabled="allNotTicked">\n      <span class=\'fa fa-print\' /> {{\'impac.components.pdf_mode.print\' | translate}}\n    </button>\n    <button ng-click="toggle()" class=\'btn btn-default\' translate>impac.components.pdf_mode.cancel</button>\n  </div>\n</div>\n'),e.put("dashboard-settings/sync-apps.tmpl.html",'\x3c!-- Will be displayed only if specified in configuration and if the organizations has apps --\x3e\n<div class="dashboard-settings sync-apps" ng-show="hasApps">\n  <span class="show-status" uib-popover-template="\'connectors.tmpl.html\'" popover-trigger="\'mouseenter\'" popover-placement="bottom" ng-click="triggerSyncAlertsModal()">\n    <i class="fa fa-info" ng-click="triggerSyncAlertsModal()" />\n    <span class="ng-hide" ng-show="isSyncing" translate>impac.components.sync_apps.syncing</span>\n    <span ng-hide="isSyncing" translate>impac.components.sync_apps.show_sync_status</span>\n  </span>\n\n  <div class="status-btn" ng-click="triggerSyncAlertsModal()" ng-show="(hasError && !isSyncing)">\n    <i class="fa fa-exclamation-triangle"></i>\n  </div>\n\n  <div class="status-btn" ng-click="triggerSyncAlertsModal()" ng-show="!hasError && !isSyncing">\n    <i class="fa fa-check"></i>\n  </div>\n\n  <button id="sync" class="btn btn-primary" ng-click="synchronize()" uib-tooltip="{{\'impac.components.sync_apps.tooltip.sync_data\' | translate}}" ng-disabled="isSyncing" ng-show="hasConnectors">\n    <i class="fa fa-refresh" ng-class="{ \'fa-spin\': isSyncing }" />\n  </button>\n\n</div>\n\n\x3c!-- ui.bootstrap popover template --\x3e\n<script type="text/ng-template" id="connectors.tmpl.html">\n  <div ng-if="hasApps" class="connector" ng-repeat="connector in connectors track by $index" ng-class="{ \'{{connector.status.toLowerCase()}}\': true, \'add-seperator\': !$last }">\n    <div class="badge">{{connector.status}}</div>\n    <strong>{{connector.name}}</strong> -\n    <span ng-switch="connector.status">\n      <span ng-switch-when="SUCCESS">{{\'impac.components.sync_apps.status.synced_at\' | translate}} {{connector.formatted_date}}.</span>\n      <span ng-switch-when="PENDING" translate>impac.components.sync_apps.status.sync_will_run</span>\n      <span ng-switch-when="RUNNING" translate>impac.components.sync_apps.status.syncing_in_progres</span>\n      <span ng-switch-when="ERROR" translate>impac.components.sync_apps.status.sync_failed</span>\n      <span ng-switch-when="DISCONNECTED" translate>impac.components.sync_apps.status.please_link</span>\n      <span ng-switch-when="UNKNOWN" translate>impac.components.sync_apps.status.could_not_retrieve</span>\n    </span>\n    \x3c!-- <span ng-if="connector.formatted_date"> - Synced at {{connector.formatted_date}}</span> --\x3e\n  </div>\n  <div class="popover-footer" ng-class="{ \'remove-seperator\': !hasConnectors }" ng-show="hasRunningCube">\n    <p>{{\'impac.components.sync_apps.all\' | translate}} {{hasConnectors ? \'other\' : \'\'}} {{\'impac.components.sync_apps.applications_are_synced\' | translate}}</p>\n  </div>\n<\/script>\n\n\x3c!-- ui.bootstrap modal template --\x3e\n<script type="text/ng-template" id="alerts.tmpl.html">\n  <div id="sync-apps-modal">\n    <div class="modal-header">\n      <h4 class="modal-title" translate>impac.components.sync_apps.synchronization_status</h4>\n    </div>\n    <div class="modal-list">\n      <div class="modal-list-item" ng-class="{\'{{connector.status.toLowerCase()}}\': true, \'with-message\': connector.message}" ng-repeat="connector in connectors track by $index" ng-click="expandListItemOnClick(connector)">\n        <div class="badge">{{connector.status}}</div>\n        <div class="text-left">\n          <strong>{{connector.name}}</strong> -\n          <span ng-switch="connector.status">\n            <span ng-switch-when="SUCCESS">{{\'impac.components.sync_apps.status.synced_at\' | translate}} {{connector.formatted_date}}.</span>\n            <span ng-switch-when="PENDING" translate>impac.components.sync_apps.status.sync_will_run</span>\n            <span ng-switch-when="RUNNING" translate>impac.components.sync_apps.status.syncing_in_progres</span>\n            <span ng-switch-when="ERROR" translate>impac.components.sync_apps.status.sync_failed</span>\n            <span ng-switch-when="DISCONNECTED" translate>impac.components.sync_apps.status.please_link</span>\n            <span ng-switch-when="UNKNOWN" translate>impac.components.sync_apps.status.could_not_retrieve</span>\n          </span>\n        </div>\n        <div class="message ng-hide" ng-show="connector.showMessage">\n          <p>{{connector.message}}</p>\n        </div>\n      </div>\n    </div>\n    <div class="modal-footer">\n      <button class="btn btn-primary" type="button" ng-click="ok()" translate>impac.components.sync_apps.ok</button>\n    </div>\n  </div>\n<\/script>\n'),e.put("widgets/accounts-accounting-values.tmpl.html",'<div widget-accounts-accounting-values>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.accounting_values.turnover.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.accounting_values.turnover.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.accounting_values.turnover.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    <div>\n      <div setting-hist-mode parent-widget="widget" deferred="::histModeDeferred" accounting-behaviour="pnl" />\n\n      <div ng-hide="widget.isHistoryMode" class="current">\n        <div class="price">\n           {{ getCurrentPrice() | mnoCurrency : currency_unit : false }}\n        </div>\n        <div class="currency">{{currency}}</div>\n        <div class="legend">{{legend}}</div>\n      </div>\n\n      <div class="history chart-container" ng-show="widget.isHistoryMode">\n        <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n        <div class="legend">{{legend}}</div>\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/accounts-assets-liability-summary.tmpl.html",'<div widget-accounts-assets-liability-summary>\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.acc_ass_liab_smry.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.acc_ass_liab_smry.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.acc_ass_liab_smry.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    <div class="chart-container">\n      \x3c!-- account classification selectors --\x3e\n      <div setting-param-selector parent-widget="widget" param="classification" options="accountsOptions" selected="selectedAccountsOption" class="row param-selector" deferred="::paramSelectorDeferred"/>\n      \x3c!----\x3e\n      <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n      <div class="legend">\n        <div class="title" ng-show="widget.metadata.organization_ids.length==1">{{widget.content.summary[0].company}} {{classification}}</div>\n        <div class="title" ng-hide="widget.metadata.organization_ids.length==1">{{classification}} repartition</div>\n        <span ng-repeat="valuePair in dataSource | orderBy:\'label\'">\n          <span ng-style="{ \'font-weight\': \'bold\', \'color\': getAccountColor(valuePair) }">{{valuePair.label}}</span>: {{valuePair.total | mnoCurrency : getCurrency()}}\n          <br />\n        </span>\n      </div>\n    </div>\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n</div>\n'),
e.put("widgets/accounts-assets-summary.tmpl.html",'<div widget-accounts-assets-summary>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.acc_ass_smry.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.acc_ass_smry.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.acc_ass_smry.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    <div class="chart-container">\n      <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n      <div class="legend">\n        <div class="title" ng-show="widget.metadata.organization_ids.length==1">{{widget.content.summary[0].company}} {{classification}}</div>\n        <div class="title" ng-hide="widget.metadata.organization_ids.length==1">{{classification}} repartition</div>\n        <span ng-repeat="valuePair in dataSource | orderBy:\'label\'">\n          <span ng-style="{ \'font-weight\': \'bold\', \'color\': getAccountColor(valuePair) }">{{valuePair.label}}</span>: {{valuePair.total | mnoCurrency : getCurrency()}}\n          <br />\n        </span>\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/accounts-assets-vs-liabilities.tmpl.html",'<div widget-accounts-assets-vs-liabilities>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.acc_ass_vs_liab.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.acc_ass_vs_liab.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.acc_ass_vs_liab.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    <div class="chart-container">\n      <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n      <div class="legend" style="max-height: 115px;">\n        <div class="title">\n          <i class="fa fa-circle" ng-style="{ \'color\': assetsColor }"><span translate="impac.widget.acc_ass_vs_liab.asset.many"></span></i> |\n          <i class="fa fa-circle" ng-style="{ \'color\': liabilitiesColor }"><span translate="impac.widget.acc_ass_vs_liab.liability.many"></span></i>\n        </div>\n        <div class="row">\n          <div ng-repeat="data in companiesList | orderBy:\'company\'" ng-class="{\'col-md-6\': (widget.content.companies.length > 1), \'col-md-12\': (widget.content.companies.length == 1)}">\n            <span>{{ data.company }}</span><br />\n            <span ng-style="{ \'color\': assetsColor }"> {{ data.assets | mnoCurrency : data.currency }}</span> <br/>\n            <span ng-style="{ \'color\': liabilitiesColor }"> {{ data.liabilities | mnoCurrency : data.currency }}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/accounts-balance.tmpl.html",'<div widget-accounts-balance>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.account_balance.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-account parent-widget="widget" on-account-selected="updateKpiExtraParams(\'account\', widget.selectedAccount)" class="part" deferred="::accountBackDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.account_balance.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.account_balance.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    \x3c!-- Will be hidden once an account is selected --\x3e\n    <div setting-account ng-hide="widget.selectedAccount" parent-widget="widget" label=\'Select an account to monitor\' on-account-selected="displayAccount()" deferred="::accountFrontDeferred" />\n\n    \x3c!-- All the below divs will remain hidden until an account is selected --\x3e\n    <div ng-show="widget.selectedAccount">\n      <div setting-hist-mode parent-widget="widget" deferred="::histModeDeferred" accounting-behaviour="{{ getBehaviour() }}" end-date="widget.metadata.hist_parameters.to" />\n\n      <div ng-hide="widget.isHistoryMode">\n        <h3>{{getName()}}</h3>\n        <div class="price">\n           {{ getCurrentBalance() | mnoCurrency : getCurrency() : false }}\n        </div>\n        <div class="currency">{{getCurrency()}}</div>\n      </div>\n\n      <div class="chart-container" ng-show="widget.isHistoryMode">\n        <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n        <div class="legend">{{getName()}}</div>\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/accounts-balance-sheet.tmpl.html",'<div widget-accounts-balance-sheet>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.account_balance_sheets.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-tag-filter ng-show="filterTagsEnabled == true" parent-widget="widget" class="part" deferred="::tagFilterDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.account_balance_sheets.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.account_balance_sheets.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    <div class="widget-lines-container no-scroll">\n      <div class="row widget-line header">\n        <div class="col-sm-6 col-sm-offset-6 col-xs-12">\n          <div setting-dates-picker parent-widget="widget" deferred="::datesPickerDeferred" from="fromDate" to="toDate" keep-today="keepToday" update-on-pick="true" template="::datesPickerTemplate" />\n        </div>\n      </div>\n      <div class="row widget-line header">\n        <div class="col-sm-5 col-sm-offset-1 col-xs-12 text-left sortable-title" ng-click="sort(\'account\')">\n          {{\'impac.widget.account_balance_sheets.accounts\' | translate}}\n          <i ng-show="sortedColumn == \'account\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n        </div>\n        <div class="col-sm-6 col-xs-12">\n          <div class="row">\n            <div class="col-xs-6 text-center sortable-title" ng-click="sort(\'total1\')">\n              {{\'impac.widget.account_balance_sheets.balance\' | translate}}\n              <i ng-show="sortedColumn == \'total1\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n            <div class="col-xs-6 text-center sortable-title" ng-click="sort(\'total2\')">\n              {{\'impac.widget.account_balance_sheets.balance\' | translate}}\n              <i ng-show="sortedColumn == \'total2\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="widget-lines-container">\n      \x3c!-- Groups of statements with their accounts --\x3e\n      <div class="row lines-group" ng-repeat="category in categories" >\n        <div class="col-xs-12">\n\n          \x3c!-- Statements lines --\x3e\n          <div class="row widget-line" >\n            <div class="col-xs-1" ng-click="toggleCollapsed(category.key)" style="cursor: pointer;">\n              <i class="fa" ng-class="isCollapsed(category.key) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'" />\n            </div>\n            <div class="col-sm-5 col-xs-11 text-left">\n              <strong>{{category.label}}</strong>\n            </div>\n            <div class="col-sm-3 col-xs-6 text-right">\n              <strong>{{widget.content.summary[category.key].totals[1] | mnoCurrency : widget.content.summary[category.key].currency}}</strong>\n            </div>\n            <div class="col-sm-3 col-xs-6 text-right">\n              <strong>{{widget.content.summary[category.key].totals[0] | mnoCurrency : widget.content.summary[category.key].currency}}</strong>\n            </div>\n          </div>\n\n          \x3c!-- Accounts lines --\x3e\n          <div class="row" uib-collapse="isCollapsed(category.key)">\n            <div class="col-xs-12">\n              <div class="row widget-line" ng-repeat="account in widget.content.summary[category.key].accounts" >\n                <div class="col-sm-5 col-xs-11 col-xs-offset-1 text-left">\n                  {{account.name | titleize}}\n                </div>\n                <div class="col-sm-3 col-xs-6 text-right">\n                  {{account.totals[1] | mnoCurrency : account.currency}}\n                </div>\n                <div class="col-sm-3 col-xs-6 text-right">\n                  {{account.totals[0] | mnoCurrency : account.currency}}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="row widget-line header" ng-show="isReportFiltered()">\n        <div class="col-xs-12 text-center">\n          <strong translate>impac.widget.settings.tag-filter.report_filtered</strong>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n</div>\n'),e.put("widgets/accounts-cash-summary.tmpl.html",'<div widget-accounts-cash-summary>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.account_cash_smry.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.account_cash_smry.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.account_cash_smry.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div class="row">\n      <div ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n\n        <div setting-width parent-widget="widget" min="6" max="12" class="settings width" deferred="::widthDeferred" />\n\n        <div class="widget-lines-container">\n        \x3c!-- Tab header --\x3e\n          <div class="row widget-line header">\n            <div class="col-xs-5 col-xs-offset-1 sortable-title" ng-click="sort(\'account\')">\n              {{ impac.widget.account_cash_smry.cash_flow | translate }}\n              <i ng-show="sortedColumn == \'account\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n            <div class="col-xs-3 text-right sortable-title" ng-click="sort(\'total\')">\n              {{getLastDate() | momentDate : widget.metadata.hist_parameters.period}}\n              <i ng-show="sortedColumn == \'total\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n            <div class="col-xs-3 text-right sortable-title" ng-click="sort(\'variance\')">\n              {{\'impac.widget.account_cash_smry.vs\' | translate}}{{getPrevDate() | momentDate : widget.metadata.hist_parameters.period}}\n              <i ng-show="sortedColumn == \'variance\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n          </div>\n\n          \x3c!-- Groups of statements with their accounts --\x3e\n          <div class="row lines-group" ng-repeat="statement in widget.content.summary" ng-class="{cash: statement.name.indexOf(\'cash\')>0}" >\n            <div class="col-xs-12">\n\n              \x3c!-- Statements lines --\x3e\n              <div class="row widget-line" >\n                <div class="col-xs-1" ng-click="toggleCollapsed(statement)">\n                  <i ng-show="(statement.accounts && statement.accounts.length)" class="fa" ng-class="isCollapsed(statement) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'"/>\n                </div>\n                <div class="col-xs-5" ng-click="toggleSelectedElement(statement)">\n                  <strong>{{statement.label | titleize}}</strong>\n                </div>\n                <div class="col-xs-3 text-right" ng-click="toggleSelectedElement(statement)">\n                  <strong>{{getLastValue(statement) | mnoCurrency : statement.currency : false}}</strong>\n                </div>\n                <div class="col-xs-3 text-right" ng-click="toggleSelectedElement(statement)" ng-class="getVarianceClassColor(getLastVariance(statement))">\n                  <strong>{{getLastVariance(statement)}}</strong>\n                </div>\n\n                <div class="selection-tag" ng-if="isSelected(statement)" ng-style="{ \'background-color\': getSelectLineColor(statement) }"/>\n              </div>\n\n              \x3c!-- Accounts lines --\x3e\n              <div class="row" uib-collapse="isCollapsed(statement)">\n                <div class="col-xs-12">\n                  <div class="row widget-line" ng-click="toggleSelectedElement(account, statement.name)" ng-repeat="account in statement.accounts" >\n                    <div class="col-xs-5 col-xs-offset-1">\n                      {{account.name}}\n                    </div>\n                    <div class="col-xs-3 text-right">\n                      {{getLastValue(account) | mnoCurrency : account.currency : false }}\n                    </div>\n                    <div class="col-xs-3 text-right" ng-class="getVarianceClassColor(getLastVariance(account))">\n                      {{getLastVariance(account)}}\n                    </div>\n\n                    <div class="selection-tag" ng-if="isSelected(account, statement.name)" ng-style="{ \'background-color\': getSelectLineColor(account) }"/>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </div>\n\n        </div>\n\n      </div>\n\n      <div class="col-md-6 right-panel text-center" ng-show="widget.isExpanded()">\n\n        <div ng-show="selectedElement">\n          <h4>{{(selectedElement.label | titleize) || selectedElement.name}}</h4>\n\n          <div class="chart-container">\n            <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n            <div class="legend">{{::widget.metadata.hist_parameters.period_translation}}</div>\n          </div>\n\n          <div class="widget-lines-container">\n\n            \x3c!-- Not mobile --\x3e\n            <div class="row">\n              <span ng-repeat="date in dates track by $index" class="hidden-xs">\n                \x3c!-- Separator every 4 items --\x3e\n                <div ng-if="$index % 4 == 0 && $index > 0" class="clearfix dashed"></div>\n\n                <div class="col-sm-3 text-center">\n                  \x3c!-- Date --\x3e\n                  <div class="row widget-line">\n                    <div class="col-sm-12">\n                      {{date | momentDate : widget.metadata.hist_parameters.period}}\n                    </div>\n                  </div>\n                  \x3c!-- Amount + currency --\x3e\n                  <div class="row widget-line">\n                    <div class="col-sm-12">\n                      {{selectedElement.cash_flows[$index] | mnoCurrency : selectedElement.currency }}\n                    </div>\n                  </div>\n                  \x3c!-- Variance --\x3e\n                  <div class="row widget-line">\n                    <div class="col-sm-12" ng-class="getVarianceClassColor(selectedElement.variances[$index])">\n                      {{formatVariance(selectedElement.variances[$index])}}\n                    </div>\n                  </div>\n                </div>\n              </span>\n            </div>\n\n            \x3c!-- Mobile --\x3e\n            <div ng-repeat="date in dates track by $index" class="row widget-line visible-xs">\n              \x3c!-- Date --\x3e\n              <div class="col-xs-4">\n                {{date | momentDate : widget.metadata.hist_parameters.period}}\n              </div>\n              \x3c!-- Amount + currency --\x3e\n              <div class="col-xs-4 text-right">\n                {{selectedElement.cash_flows[$index] | mnoCurrency : selectedElement.currency }}\n              </div>\n              \x3c!-- Variance --\x3e\n              <div class="col-xs-4 text-right" ng-class="getVarianceClassColor(selectedElement.variances[$index])">\n                {{formatVariance(selectedElement.variances[$index])}}\n              </div>\n            </div>\n\n          </div>\n        </div>\n\n        <div ng-hide="selectedElement" class="no-element" translate>\n          impac.widget.account_cash_smry.select.description\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/accounts-class-comparison.tmpl.html",'<div widget-accounts-class-comparison>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.account_class_comp.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" hide-chart-interval="true" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.account_class_comp.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.account_class_comp.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    <div>\n      \x3c!-- account classification selectors --\x3e\n      <div setting-param-selector parent-widget="widget" param="classification" options="classifications" selected="selectedClassification" class="row param-selector" deferred="::paramSelectorDeferred" on-select="widget.format()" no-reload/>\n      \x3c!----\x3e\n      <div class="row">\n        <div class="col-md-12 chart-container">\n          <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n        </div>\n      </div>\n      <div class="row">\n        <div class="col-md-12 widget-lines-container">\n          <div class="row" style="margin-bottom: 5px;">\n            <div class="col-xs-12">\n              <div common-time-period-info context="timePeriodInfoParams" />\n            </div>\n          </div>\n\n          <div class="row" ng-repeat="entity in widget.content.companies | orderBy:\'toString()\' track by $index">\n            <div class="col-xs-6 text-left">\n              <i class="fa fa-circle" ng-style="{ \'margin\': \'0px 8px\', \'color\': getAccountColor(entity) }" />\n              {{entity}}\n            </div>\n            <div class="col-xs-6 text-right">\n              <i>{{getAmount($index)}}</i>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/accounts-comparison.tmpl.html",'<div widget-accounts-comparison>\n  <div setting-accounts-list parent-widget="widget" deferred="::accountsListDeferred" accounts-list="savedAccountsList"/>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.account_comp.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" hide-chart-interval="true" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.account_comp.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.account_comp.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div>\n      \x3c!-- multi-companies mode --\x3e\n      <div ng-show="widget.metadata.organization_ids.length > 1 && canSelectComparisonMode || isComparisonMode()">\n        <div setting-params-checkboxes options="comparisonModeOptions" param="comparison_mode" parent-widget="widget" deferred="::paramsCheckboxesDeferred"/>\n      </div>\n      \x3c!-- end --\x3e\n      <div ng-hide="hasAccountsSelected() || noComparableAccounts" class="row">\n        <div class="col-xs-12">\n          <h5 translate>impac.widget.account_comp.account.select</h5>\n        </div>\n        <div class="col-md-6">\n          <div class="input-group">\n            <select ng-model="movedAccount[0]" ng-options="account.name + \' (\' + formatAmount(account) + \')\' group by account.classification for account in widget.remainingAccounts" class="form-control" ng-change="addAccount(movedAccount[0])"></select>\n          </div>\n        </div>\n      </div>\n      \x3c!-- error: when there are no comparable accounts matched --\x3e\n      <div ng-show="isComparisonMode() && noComparableAccounts" class="row comparable-error">\n        <div class="col-xs-12"><h5 translate>impac.widget.account_comp.account.not_found</h5></div>\n      </div>\n\n      <div class="row" ng-show="hasAccountsSelected()">\n        <div class="col-xs-12 text-center">\n          <div class="chart-container" impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n        </div>\n      </div>\n\n      <div class="row" ng-show="hasAccountsSelected()">\n        <div class="col-xs-12 widget-lines-container">\n\n          <div class="row" ng-class="{\'lines-group\': isComparisonMode(), \'widget-line\': !isComparisonMode()}" ng-repeat="account in widget.selectedAccounts track by $index">\n\n            \x3c!-- Comparison between several conpanies --\x3e\n            <div class="col-xs-12" ng-if="isComparisonMode()">\n              <div class="row widget-line" ng-repeat="groupedAccount in account.accounts track by $index">\n                <div class="col-xs-1">\n                  <i class="fa fa-circle" ng-style="{ \'color\': getAccountColor(groupedAccount) }" />\n                </div>\n                <div class="col-xs-6">\n                  {{groupedAccount.name}}\n                </div>\n                <div class="col-xs-4 text-right">\n                  <i>{{formatAmount(groupedAccount)}}</i>\n                </div>\n                <div class="col-xs-1 text-right">\n                  <button class="close" ng-click="removeAccount(account)">x</button>\n                </div>\n              </div>\n            </div>\n\n            \x3c!-- Simple comparison between accounts --\x3e\n            <div ng-if="!isComparisonMode()" class="col-xs-1">\n              <i class="fa fa-circle" ng-style="{ \'color\': getAccountColor(account) }" />\n            </div>\n            <div ng-if="!isComparisonMode()" class="col-xs-6">\n              {{account.name}}\n            </div>\n            <div ng-if="!isComparisonMode()" class="col-xs-4 text-right">\n              <i>{{formatAmount(account)}}</i>\n            </div>\n            <div ng-if="!isComparisonMode()" class="col-xs-1 text-right">\n              <button class="close" ng-click="removeAccount(account)">x</button>\n            </div>\n\n          </div>\n        </div>\n      </div>\n\n      <div class="row" ng-show="hasAccountsSelected() && !pdfMode">\n        <div class="col-xs-12 input-group add-account">\n          <select ng-model="movedAccount[0]" ng-options="account.name + \' (\' + formatAmount(account) + \')\' group by account.classification for account in widget.remainingAccounts track by account.uid" class="form-control" ng-change="addAccount(movedAccount[0])" ng-disabled="widget.selectedAccounts.length >= 15 || widget.remainingAccounts.length == 0 || isComparisonMode()">\n            <option value="" disabled selected translate>impac.widget.account_comp.account.add</option>\n          </select>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/accounts-custom-calculation.tmpl.html",'<div widget-accounts-custom-calculation>\n\n  <div setting-organizations parent-widget="widget" ng-hide="true" deferred="::orgDeferred" />\n  <div setting-accounts-list parent-widget="widget" deferred="::accountsListDeferred" />\n  <div setting-formula parent-widget="widget" deferred="::formulaDeferred" />\n\n  <h3 ng-hide="widget.isFormulaCorrect">\n    <a href="" ng-click="formulaModal.open()" translate>impac.widget.account_cust_calc.title</a>\n  </h3>\n\n  \x3c!-- Calculation result --\x3e\n  <div>\n    <div setting-hist-mode ng-show="widget.isFormulaCorrect" parent-widget="widget" deferred="::histModeDeferred" accounting-behaviour="pnl" />\n\n    <div ng-hide="widget.isHistoryMode">\n      <div class="price" ng-show="widget.isFormulaCorrect">\n        {{widget.evaluatedFormulaTranslate}}\n      </div>\n      <div class="legend" ng-show="widget.isFormulaCorrect">\n        {{widget.legend}}\n      </div>\n    </div>\n\n    \x3c!-- Chart --\x3e\n    <div class="history" ng-show="widget.isHistoryMode">\n      <div class="chart-container">\n        <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n      </div>\n    </div>\n  </div>\n\n  <div ng-show="widget.demoData" common-data-not-found />\n</div>\n'),e.put("widgets/accounts-custom-calculation/formula.modal.html",'<div class="analytics modal-custom-calculation">\n  <div class="modal-header">\n    <div class="close" type="button" ng-click="cancel()" >×</div>\n    <h3 translate>impac.widget.account_cust_calc.formula.title</h3>\n  </div>\n\n  <div class="modal-body">\n    <div class="row">\n      <div class="col-sm-12">\n        <div class="alert alert-error" ng-show="errors">\n          <button class="close" ng-click="errors=\'\'">×</button>\n          <ul>\n            <li ng-repeat="error in errors">{{error}}</li>\n          </ul>\n        </div>\n      </div>\n    </div>\n\n    <div class="edit row">\n      <div setting-organizations parent-widget="widget" class="part col-md-6" deferred="::modalOrgDeferred" on-select="reloadAccountsLists(orgs)" />\n      <div setting-time-period parent-widget="widget" class="part col-md-6" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" hide-chart-interval="true" apply-changes-callback="updateWidgetSettings()" />\n    </div>\n\n    <p translate="impac.widget.account_cust_calc.formula.explanations" translate-values="{example: \'({1} + {2}) / {3})\' }"></p>\n\n    <div class=\'row\'>\n      <div ng-show="widget.isLoading" class=\'col-md-6 loader\' align="center">\n        <div>\n          <i class="fa fa-spinner fa-pulse fa-3x"></i>\n          <p translate>impac.widget.account_cust_calc.formula.data_retrieved</p>\n        </div>\n      </div>\n\n      <div ng-hide="widget.isLoading" class=\'col-md-6\'>\n        <div class=\'widget-line\' ng-repeat=\'account in widget.selectedAccounts track by $index\'>\n          <div class=\'row\'>\n            <div class=\'col-md-6\'>\n              {{$index+1}} - {{account.name}}\n            </div>\n            <div class=\'col-md-6\'>\n              {{account.current_balance | mnoCurrency : account.currency}}\n              <button class="close" ng-click="removeAccountFromFormula(account)"><span class=\'fa fa-times-circle\'></span></button>\n            </div>\n          </div>\n        </div>\n\n        <div class=\'input-group\'>\n          <select ng-model="movedAccount" ng-options="account.name + \' (\' + widget.formatAmount(account) + \')\' group by account.classification for account in widget.remainingAccounts" class=\'form-control\' ng-change=\'addAccountToFormula(movedAccount)\'><select>\n        </div>\n      </div>\n\n      <div ng-hide="widget.isLoading" class=\'col-md-6\'>\n        <p translate>impac.widget.account_cust_calc.formula.type_here</p>\n        <input class=\'form-control\' ng-model="widget.formula">\n\n        <p translate="impac.widget.account_cust_calc.formula.result" translate-values="{result: widget.evaluatedFormula}"></p>\n        <p translate="impac.widget.account_cust_calc.formula.legend" translate-values="{legend: widget.legend}"></p>\n      </div>\n    </div>\n  </div>\n\n  <div class="modal-footer">\n    <div class="row">\n      <div class="col-sm-12">\n        <button class="btn btn-gray" ng-click="cancel()" ng-hide="widget.isLoading" ng-disabled="isLoading" translate>impac.widget.account_cust_calc.formula.cancel</button>\n        <button class="btn btn-warning" ng-click="proceed()" ng-hide="widget.isLoading" ng-disabled=\'!widget.isFormulaCorrect || widget.isLoading\'>\n          <i class="fa fa-spinner fa-pulse loader" ng-show="isLoading"></i>\n          {{\'impac.widget.account_cust_calc.formula.save\' | translate}}\n        </button>\n      </div>\n\n    </div>\n  </div>\n</div>\n'),
e.put("widgets/accounts-detailed-classifications.tmpl.html",'<div widget-accounts-detailed-classifications>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.account_det_class.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.account_det_class.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.account_det_class.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    <div class="widget-lines-container">\n\n      \x3c!-- Tab header --\x3e\n      <div ng-hide="multiEntity" class="row widget-line header">\n        <div class="col-md-6 text-left"  translate="impac.widget.account_det_class.acc_classifications" translate-values="{name: widget.content.companies[0].name}">\n\n        </div>\n\n        <div class="col-md-6 text-right">\n          <div common-time-period-info context="timePeriodInfoParams" />\n        </div>\n      </div>\n\n      \x3c!-- Sorting sub-header (contains sorting) --\x3e\n      <div ng-hide="multiEntity" class="row widget-line header sorting">\n        <div class="col-md-6 text-left sortable-title" ng-click="sort(\'account\')">\n          {{\'impac.widget.account_det_class.account_classifications\' | translate}}\n          <i ng-show="sortedColumn == \'account\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n        </div>\n\n        <div class="col-md-6 text-right sortable-title" ng-click="sort(\'total\')">\n          {{\'impac.widget.account_det_class.amounts\' | translate}}\n          <i ng-show="sortedColumn == \'total\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n        </div>\n      </div>\n\n      \x3c!-- Groups of statements with their accounts --\x3e\n      <div class="row lines-group" ng-repeat="source in dataSource | orderBy:\'label\' track by source.label">\n        <div class="col-xs-12">\n\n          \x3c!-- Statements lines --\x3e\n          <div class="row widget-line">\n            <div class="col-xs-1" ng-click="toggleCollapsed(source.label)" style="cursor: pointer;">\n              <i class="fa" ng-class="isCollapsed(source.label) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'" />\n            </div>\n            <div class="col-xs-5 text-left">\n              <strong>{{source.label | titleize}}</strong>\n            </div>\n            <div class="col-xs-6 text-right">\n              <strong>{{source.value | mnoCurrency : source.currency}}</strong>\n            </div>\n          </div>\n\n          \x3c!-- Accounts lines --\x3e\n          <div class="row" uib-collapse="isCollapsed(source.label)">\n            <div class="col-xs-12">\n              <div class="row widget-line" ng-repeat="entry in source.entries" >\n                <div class="col-xs-5 col-xs-offset-1 text-left">\n                  {{entry.label | titleize}}\n                </div>\n                <div class="col-xs-6 text-right">\n                  {{entry.value | mnoCurrency : entry.currency}}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n</div>\n'),e.put("widgets/accounts-expense-weight.tmpl.html",'<div widget-accounts-expense-weight>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.account_expense_weight.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-account parent-widget="widget" class="part" deferred="::accountBackDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.account_expense_weight.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.account_expense_weight.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    \x3c!-- Will be hidden once an account is selected --\x3e\n    <div setting-account ng-hide="widget.selectedAccount" parent-widget="widget" label=\'Select an expense account\' on-account-selected="displayAccount()" deferred="::accountFrontDeferred" />\n\n    <div ng-show="widget.selectedAccount">\n      <div setting-hist-mode parent-widget="widget" deferred="::histModeDeferred" on-toggle="widget.format()" accounting-behaviour="pnl" />\n\n      <div class="chart-container">\n        <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n      </div>\n\n      <div class="legend">\n        <div class="title">\n          {{getName()}} to {{getComparator() | titleize}}\n          <span ng-if="widget.metadata.organization_ids.length==1"><br /><strong>{{widget.content.summary[0].ratio | mnoCurrency : \'%\'}}</strong></span>\n        </div>\n        <span ng-repeat="sum in widget.content.summary | orderBy:\'company\'" ng-if="widget.metadata.organization_ids.length>1">\n          <span style="font-weight: bold;">{{sum.company}}: {{sum.ratio | mnoCurrency : \'%\'}}</span>\n          <br />\n        </span>\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/accounts-expenses-revenue.tmpl.html",'<div widget-accounts-expenses-revenue>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.accounts_expenses_revenue.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.accounts_expenses_revenue.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.accounts_expenses_revenue.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    <div>\n      <div setting-hist-mode parent-widget="widget" deferred="::histModeDeferred" on-toggle="widget.format()" accounting-behaviour="pnl" />\n\n      <div class="chart-container">\n        <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n      </div>\n\n      <div class="legend" ng-if="widget.isHistoryMode">\n        <span ng-hide="isNetProfitDisplayed">\n          <span class="negative2" translate>impac.widget.accounts_expenses_revenue.expenses</span> -\n          <span class="positive2" translate>impac.widget.accounts_expenses_revenue.revenue</span>\n        </span>\n        <span ng-show="isNetProfitDisplayed">\n          <strong translate>impac.widget.accounts_expenses_revenue.net_profit</strong>\n        </span>\n      </div>\n\n      <div ng-show="widget.isHistoryMode" setting-params-checkboxes options="displayOptions" param="display" parent-widget="widget" deferred="::paramsCheckboxesDeferred"/>\n\n      <div class="legend" ng-if="!widget.isHistoryMode">\n        <span class="negative2">{{\'impac.widget.accounts_expenses_revenue.expenses\' | translate}}: {{getCurrentExpenses() | mnoCurrency : getCurrency()}}</span>\n        </br>\n        <span class="positive2">{{\'impac.widget.accounts_expenses_revenue.revenue\' | translate}}: {{getCurrentRevenue() | mnoCurrency : getCurrency()}}</span>\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/accounts-invoices-list.tmpl.html",'<div widget-accounts-invoices-list>\n  \x3c!-- Settings Panel --\x3e\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()">Cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()">Save</button>\n    </div>\n  </div>\n\n  \x3c!-- Content Panel --\x3e\n  <div ng-hide="widget.isEditMode">\n    \x3c!-- Data found --\x3e\n    <div ng-show="(isDataFound==true)" class="trx-container">\n    \x3c!-- Display Transactions list.  Hide date picker and \'back to chart\' button\'. --\x3e\n      <transactions-list ng-if="trxList.display" transactions="trxList.transactions" currency="widget.metadata.currency" total-records="trxList.totalRecords" resources-type="trxList.resources" on-hide="trxList.hide()" on-page-changed="trxList.fetch(page)" on-change-resources="trxList.changeResourcesType(resourcesType)" list-only="true"></transactions-list>\n    </div>\n\n    \x3c!-- No data found --\x3e\n    <div ng-if="(isDataFound==false)" common-data-not-found on-display-alerts="onDisplayAlerts()" endpoint="::widget.category" width="::widget.width" />\n  </div>\n</div>\n'),e.put("widgets/accounts-live-balance.tmpl.html",'\x3c!--\n  Component generated by Impac! Widget Generator!\n--\x3e\n<div widget-accounts-live-balance class="tall-widget">\n  \x3c!-- Settings Panel --\x3e\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-bolt-account parent-widget="widget" on-account-selected="updateKpiExtraParams()" class="part" deferred="::accountBackDeferred" />\n    \x3c!-- <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" hide-chart-interval="true"/> --\x3e\n\n    \x3c!-- Buttons displayed on the lower  --\x3e\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()">Cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()">Save</button>\n    </div>\n  </div>\n\n  \x3c!-- Content Panel --\x3e\n  <div ng-hide="widget.isEditMode">\n\n    \x3c!-- <div ng-hide="widget.isHistoryMode"> --\x3e\n    \x3c!--  TODO: chang to display history mode--\x3e\n    <div show="widget.selectedAccount">\n      \x3c!-- <div setting-hist-mode parent-widget="widget" deferred="::histModeDeferred" accounting-behaviour="{{ getBehaviour() }}" end-date="widget.metadata.hist_parameters.to" /> --\x3e\n      \x3c!-- <div common-time-period-info context="forwardParams" /> --\x3e\n      <h3>{{getName()}}</h3>\n      <div class="currency currency-centered">{{getCurrency()}}</div>\n      <hr>\n      <div class="headers legend">\n        <div class="price positive2">\n          {{getStatementBalance().column_7 ? (getStatementBalance().column_7 | mnoCurrency : getCurrency() : false) : \'Statement Not Available\' }}\n        </div>\n        <div class="statement-title"> Statement Balance </div>\n        <div class="spacer"></div>\n        <div class="price negative2">\n          {{getTotal().column_5 ? (getTotal().column_5 | mnoCurrency : getCurrency() : false) : \'N/A\' }}\n        </div>\n        <div class="balance-title"> Balance in Xero </div>\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n</div>\n'),e.put("widgets/accounts-payable-receivable.tmpl.html",'<div widget-accounts-payable-receivable>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.accounts_payable_receivable.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.accounts_payable_receivable.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.accounts_payable_receivable.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    <div>\n      <div setting-hist-mode parent-widget="widget" deferred="::histModeDeferred" accounting-behaviour="bls" end-date="widget.metadata.hist_parameters.to" />\n\n      <div ng-hide="widget.isHistoryMode">\n        <div class="receivable">\n          <h3 translate>impac.widget.accounts_payable_receivable.receivables.title</h3>\n          <div class="price positive2">\n            {{getCurrentReceivable() | mnoCurrency : getCurrency() : false}}\n          </div>\n          <div class="currency">{{getCurrency()}}</div>\n        </div>\n\n        <div class="payable">\n          <h3 translate>impac.widget.accounts_payable_receivable.payables.title</h3>\n          <div class="price negative2">\n            {{getCurrentPayable() | mnoCurrency : getCurrency() : false}}\n          </div>\n          <div class="currency">{{getCurrency()}}</div>\n        </div>\n      </div>\n\n      <div class="chart-container" ng-show="widget.isHistoryMode">\n        <div impac-chart draw-trigger="drawTrigger.promise" deferred="chartDeferred"></div>\n        <div class="legend">\n          <span class="negative2" translate>impac.widget.accounts_payable_receivable.payable</span> -\n          <span class="positive2" translate>impac.widget.accounts_payable_receivable.receivable</span>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/accounts-profit-and-loss.tmpl.html",'<div widget-accounts-profit-and-loss>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.accounts_profit_and_loss.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n    <div setting-tag-filter ng-show="filterTagsEnabled == true" parent-widget="widget" class="part" deferred="::tagFilterDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.accounts_profit_and_loss.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.accounts_profit_and_loss.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div class="row">\n      <div ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n\n        <div setting-width parent-widget="widget" min="6" max="12" class="settings width" deferred="::widthDeferred" />\n\n        <div class="widget-lines-container">\n          \x3c!-- Total mode --\x3e\n          <div class="row widget-line header">\n            <div class="col-xs-12 text-right">\n              <span setting-param-selector parent-widget="widget" param="amount_displayed" options="amountDisplayedOptions" selected="amountDisplayed" deferred="::paramSelectorDeferred" no-reload />\n            </div>\n          </div>\n\n          \x3c!-- Tab header --\x3e\n          <div class="row widget-line header">\n            <div class="col-xs-7 col-xs-offset-1 text-left sortable-title" ng-click="sort(\'account\')">\n              {{\'impac.widget.accounts_profit_and_loss.accounts\' | translate}}\n              <i ng-show="sortedColumn == \'account\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n            <div class="col-xs-4 text-right sortable-title" ng-click="sort(\'total\')">\n              {{\'impac.widget.accounts_profit_and_loss.prof_loss\' | translate}}\n              <i ng-show="sortedColumn == \'total\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n          </div>\n\n          \x3c!-- Groups of statements with their accounts --\x3e\n          <div class="row lines-group" ng-repeat="statement in widget.content.summary" ng-class="{profit: statement.name.indexOf(\'profit\')>0}">\n            <div class="col-xs-12">\n\n              \x3c!-- Statements lines --\x3e\n              <div class="row widget-line" >\n                <div class="col-xs-1" ng-click="toggleCollapsed(statement)">\n                  <i ng-show="(statement.accounts && statement.accounts.length)" class="fa" ng-class="isCollapsed(statement) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'" />\n                </div>\n                <div class="col-xs-7" ng-click="toggleSelectedElement(statement)">\n                  <strong>{{getName(statement) | titleize}}</strong>\n                </div>\n                <div class="col-xs-4 text-right" ng-class="getClassColor(getAmount(statement))" ng-click="toggleSelectedElement(statement)">\n                  <strong>{{getAmount(statement) | mnoCurrency : statement.currency}}</strong>\n                </div>\n\n                <div class="selection-tag" ng-if="isSelected(statement)" ng-style="{ \'background-color\': getSelectLineColor(statement) }"/>\n              </div>\n\n              \x3c!-- Accounts lines --\x3e\n              <div class="row" uib-collapse="isCollapsed(statement)">\n                <div class="col-xs-12">\n                  <div class="row widget-line" ng-click="toggleSelectedElement(account, statement.name)" ng-repeat="account in statement.accounts" >\n                    <div class="col-xs-7 col-xs-offset-1">\n                      {{account.name}}\n                    </div>\n                    <div class="col-xs-4 text-right" ng-class="getClassColor(getAmount(account))">\n                      {{getAmount(account) | mnoCurrency : account.currency}}\n                    </div>\n\n                    <div class="selection-tag" ng-if="isSelected(account, statement.name)" ng-style="{ \'background-color\': getSelectLineColor(account, statement.name) }"/>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </div>\n\n          <div class="row widget-line header" ng-show="isReportFiltered()">\n            <div class="col-xs-12 text-center">\n              <strong translate>impac.widget.settings.tag-filter.report_filtered</strong>\n            </div>\n          </div>\n\n        </div>\n\n      </div>\n\n      <div class="col-md-6 right-panel text-center" ng-show="widget.isExpanded()">\n\n        <div ng-show="hasElements()">\n          <h4>{{::period_translation}} {{\'impac.widget.accounts_profit_and_loss.prof_and_loss\' | translate}}</h4>\n          <div ng-show="selectedElements.length < 2" class="legend">{{getName(selectedElements[0]) | titleize}}</div>\n\n          <div class="chart-container">\n            <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n          </div>\n\n          <div ng-show="selectedElements.length < 2" class="widget-lines-container">\n\n            \x3c!-- Not mobile --\x3e\n            <div class="row">\n              <span ng-repeat="date in dates track by $index" class="hidden-xs">\n                \x3c!-- Separator every 4 items --\x3e\n                <div ng-if="$index % 4 == 0 && $index > 0" class="clearfix dashed"></div>\n\n                <div class="col-sm-3 text-center">\n                  \x3c!-- Date --\x3e\n                  <div class="row widget-line">\n                    <div class="col-sm-12">\n                      {{date | momentDate : widget.metadata.hist_parameters.period}}\n                    </div>\n                  </div>\n                  \x3c!-- Amount + currency --\x3e\n                  <div class="row widget-line">\n                    <div class="col-sm-12" ng-class="getClassColor(selectedElements[0].totals[$index])">\n                      {{selectedElements[0].totals[$index] | mnoCurrency : selectedElements[0].currency}}\n                    </div>\n                  </div>\n                </div>\n              </span>\n            </div>\n\n            \x3c!-- Mobile --\x3e\n            <div ng-repeat="date in dates track by $index" class="row widget-line visible-xs">\n              \x3c!-- Date --\x3e\n              <div class="col-xs-6">\n                {{date | momentDate : widget.metadata.hist_parameters.period}}\n              </div>\n              \x3c!-- Amount + currency --\x3e\n              <div class="col-xs-6 text-right" ng-class="getClassColor(selectedElements[0].totals[$index])">\n                {{selectedElements[0].totals[$index] | mnoCurrency : selectedElements[0].currency}}\n              </div>\n            </div>\n          </div>\n\n          <div ng-hide="selectedElements.length < 2" class="widget-lines-container">\n            <div class="row widget-line" ng-repeat="element in selectedElements track by $index">\n              <div class="col-xs-7 text-left">\n                <i class="fa fa-circle" ng-style="{ \'margin\': \'0px 8px\', \'color\': getElementChartColor($index) }" />\n                {{getName(element) | titleize}}\n              </div>\n              <div class="col-xs-5 text-right">\n                <i ng-class="getClassColor(getAmount(element))">\n                  {{getAmount(element) | mnoCurrency : element.currency}}\n                </i>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div ng-hide="hasElements()" class="no-element" translate>\n          impac.widget.accounts_profit_and_loss.no_elements_selected\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/accounts-ratios.tmpl.html",'\x3c!--\n  Component generated by Impac! Widget Generator!\n--\x3e\n<div widget-accounts-ratios>\n  \x3c!-- Settings Panel --\x3e\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    \x3c!-- Buttons displayed on the lower  --\x3e\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()">Cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()">Save</button>\n    </div>\n  </div>\n\n  \x3c!-- Content Panel --\x3e\n  <div ng-hide="widget.isEditMode">\n    \x3c!-- Data found --\x3e\n    <div>\n\n      \x3c!-- Ratio details --\x3e\n      <div class="col-md-6 left-panel" ng-class="{simulation: simulationMode}">\n        <div common-time-period-info ng-if="simulationMode" context="periodInfoContext" />\n\n        <div class="member">\n          <div class="price" ng-if="!simulationMode">\n            {{ totalNumerator | mnoCurrency : widget.content.layout.currency }}\n          </div>\n\n          <div class="price" ng-if="simulationMode">\n            {{ calculatedNumerator | mnoCurrency : widget.content.layout.currency }}\n          </div>\n\n          <div class="legend">\n            {{ widget.content.layout.numerator }}\n          </div>\n\n          <div setting-offsets ng-show=\'simulationMode\' parent-widget="widget" deferred="::numeratorOffsetsDeferred" offsets-key=\'numerator\' initial-offsets=\'widget.metadata.offset.numerator\' currency=\'widget.content.layout.currency\' intervals-count=\'intervalsCount\' show-intervals-mult="isPnl" period=\'widget.metadata.hist_parameters.period\' />\n        </div>\n\n        <div class="center-block separator" />\n\n        <div class="member">\n          <div class="price" ng-if="!simulationMode">\n            {{ totalDenominator | mnoCurrency : widget.content.layout.currency }}\n          </div>\n\n          <div class="price" ng-if="simulationMode">\n            {{ calculatedDenominator | mnoCurrency : widget.content.layout.currency }}\n          </div>\n\n          <div class="legend">\n            {{ widget.content.layout.denominator }}\n          </div>\n\n          <div setting-offsets ng-show=\'simulationMode\' parent-widget="widget" deferred="::denominatorOffsetsDeferred" offsets-key=\'denominator\' initial-offsets=\'widget.metadata.offset.denominator\' currency=\'widget.content.layout.currency\' intervals-count=\'intervalsCount\' show-intervals-mult="isPnl" period=\'widget.metadata.hist_parameters.period\' />\n        </div>\n\n        <div class="text-center">\n          <button class="btn btn-sm btn-default" ng-if="simulationMode" ng-click="toggleSimulationMode(true)" title = "Clear changes to simulation">\n            Cancel\n          </button>\n          <button class="btn btn-sm btn-default" ng-if="!simulationMode" ng-click="toggleSimulationMode()" title="Add custom offsets to the ratio calculation">\n            <i class="fa fa-pencil-square-o" />\n            Simulation\n          </button>\n          <button class="btn btn-sm btn-warning" ng-if="simulationMode" ng-click="saveSimulation()" title="Apply simulation">\n            Save\n          </button>\n        </div>\n      </div>\n\n      \x3c!-- Current value / Chart --\x3e\n      <div class="col-md-6 right-panel">\n        <div setting-hist-mode parent-widget="widget" deferred="::histModeDeferred" accounting-behaviour="{{widget.content.layout.accounting_behaviour}}" end-date="endDate" />\n\n        <div ng-hide="widget.isHistoryMode" class="current">\n          <div class="price">\n             {{ totalRatio | mnoCurrency : \'(ratio)\' : false }}\n          </div>\n          <div class="legend">{{ widget.content.layout.ratio }}</div>\n        </div>\n\n        <div class="history chart-container" ng-show="widget.isHistoryMode">\n          <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n          <div class="legend">{{ widget.content.layout.ratio }}</div>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n</div>\n'),
e.put("widgets/hr-employee-details.tmpl.html",'<div widget-hr-employee-details>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.hr_employee_details.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.hr_employee_details.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.hr_employee_details.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div class="row">\n\n      <div ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n        <div setting-width parent-widget="widget" min="3" max="6" class="settings width" deferred="::widthDeferred" />\n        <div setting-param-selector parent-widget="widget" param="employee_uid" options="employeesOptions" selected="selectedEmployee" class="row title" deferred="::paramSelectorDeferred1" />\n\n        <div class="details-container">\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.hr_employee_details.label.job_title</label></div>\n            <div class="col-md-8"><pre>{{getEmployee().job_title || "-" }}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.hr_employee_details.label.company</label></div>\n            <div class="col-md-8"><pre>{{getEmployee().company || getSingleCompanyName()}}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.hr_employee_details.label.phone</label></div>\n            <div class="col-md-8"><pre>{{getEmployee().phone || "-" }}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.hr_employee_details.label.email</label></div>\n            <div class="col-md-8"><pre>{{getEmployee().email || "-" }}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.hr_employee_details.label.date_of_birth</label></div>\n            <div class="col-md-8"><pre>{{getEmployee().dob | momentDate: "hr/employee_details"  || "-" }}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.hr_employee_details.label.gender</label></div>\n            <div class="col-md-8"><pre>{{getEmployee().gender || "-" }}</pre></div>\n          </div>\n        </div>\n      </div>\n\n      <div class="col-md-6 right-panel" ng-show="widget.isExpanded()">\n        \x3c!-- <div class="legend">{{\'impac.widget.hr_employee_details.legend\' | translate}} <span setting-param-selector parent-widget="widget" param="period" options="periodOptions" selected="period" deferred="::paramSelectorDeferred2" /></div> --\x3e\n        <div class="details-container">\n          <div class="row">\n            <div class="col-md-4">\n              <label translate>impac.widget.hr_employee_details.label.salary</label>\n            </div>\n            <div class="col-md-8">\n              <pre ng-if="salaries.length > 0" ng-repeat="salary in salaries" title="{{salary.tooltip}}">{{ salary.amount | mnoCurrency : salary.currency }} ({{ salary.period }})</pre>\n              <pre ng-if="salaries.length == 0">-</pre>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-md-12">\n              <label>\n                Estimated earnings\n                - <span setting-param-selector parent-widget="widget" param="period" options="periodOptions" selected="period" deferred="::paramSelectorDeferred2" />\n              </label>\n            </div>\n            <div class="col-md-8 col-md-offset-4">\n              <pre>{{ getEmployee().earnings || \'-\' }}</pre>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.hr_employee_details.label.address</label></div>\n            <div class="col-md-8"><pre>{{formatAddress(getEmployee().address) || "-" }}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.hr_employee_details.label.job_location</label></div>\n            <div class="col-md-8"><pre>{{getEmployee().location || "-" }}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.hr_employee_details.label.supervisor</label></div>\n            <div class="col-md-8"><pre>{{getEmployee().supervisor || "-" }}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.hr_employee_details.label.status</label></div>\n            <div class="col-md-8"><pre>{{getEmployee().employment_status || "-" }}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.hr_employee_details.label.note</label></div>\n            <div class="col-md-8"><pre>{{getEmployee().note || "-" }}</pre></div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/hr-employees-list.tmpl.html",'<div widget-hr-employees-list>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.hr_employees_list.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.hr_employees_list.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.hr_employees_list.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div>\n\n      <div class="legend">\n        <strong>{{widget.content.total.employees}}</strong> <span translate="impac.widget.hr_employees_list.legend.employee" translate-values="{num_employee: widget.content.total.employees}"></span> {{\'impac.widget.hr_employees_list.legend.average\' | translate}} (<span setting-param-selector parent-widget="widget" param="period" options="periodOptions" selected="period" deferred="::paramSelectorDeferred"/>): <strong>{{widget.content.total.average_rate | mnoCurrency : widget.content.total.currency}}</strong>\n      </div>\n\n      <div class="widget-lines-container">\n        <div class="row widget-line header">\n          <div class="col-sm-2" translate>impac.widget.hr_employees_list.label.company</div>\n          <div class="col-sm-3" translate>impac.widget.hr_employees_list.label.employee</div>\n          <div class="col-sm-2" translate>impac.widget.hr_employees_list.label.title</div>\n          <div class="col-sm-3" translate>impac.widget.hr_employees_list.label.phone</div>\n          <div class="col-sm-2" translate>impac.widget.hr_employees_list.label.salary</div>\n        </div>\n        <div class="row widget-line" ng-repeat="employee in widget.content.employees" >\n          <div class="col-sm-2">{{employee.company || getSingleCompanyName()}}</div>\n          <div class="col-sm-3">{{employee.lastname}} {{employee.firstname}}</div>\n          <div class="col-sm-2"><i>{{employee.job_title}}</i></div>\n          <div class="col-sm-3">{{employee.phone}}</div>\n          <div class="col-sm-2"><i>{{getEmployeeEarnings(employee)}}</i></div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/hr-leaves-balance.tmpl.html",'<div widget-hr-leaves-balance>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate="">impac.widget.hr_leaves_balance.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred"/>\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.hr_leaves_balance.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.hr_leaves_balance.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div>\n\n      <div setting-param-selector parent-widget="widget" param="employee_id" options="employeesOptions" selected="selectedEmployee" class="employee-name" deferred="::paramSelectorDeferred" />\n\n      <h3>{{vacationLeaves_translation}} {{\'impac.widget.hr_leaves_balance.balance\' | translate}}</h3>\n      <div class="balance">{{(getEmployee().leaves[0].units || 0) | mnoCurrency : (getEmployee().leaves[0].type_of_units || \'h\')}}</div>\n\n      <h3>{{sickLeaves_translation}} {{\'impac.widget.hr_leaves_balance.balance\' | translate}}</h3>\n      <div class="balance">{{(getEmployee().leaves[1].units || 0) | mnoCurrency : (getEmployee().leaves[1].type_of_units || \'h\')}}</div>\n\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/hr-leaves-schedule.tmpl.html",'<div widget-hr-leaves-schedule>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 tranlate>impac.widget.hr_leaves_schedule.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" tranlate>impac.widget.hr_leaves_schedule.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" tranlate>impac.widget.hr_leaves_schedule.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div>\n\n      <div widget-component-calendar ng-model="eventSources"></div>\n\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/hr-payroll-summary.tmpl.html",'<div widget-hr-payroll-summary>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.hr_payroll_summary.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.hr_payroll_summary.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.hr_payroll_summary.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div class="row">\n      <div ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n\n        <div setting-width parent-widget="widget" min="6" max="12" class="settings width" deferred="::widthDeferred" />\n\n        <div class="widget-lines-container">\n\n          \x3c!-- Tab header --\x3e\n          <div class="row widget-line header">\n            <div class="col-xs-9 sortable-title" ng-click="sort(\'employee\')">\n              {{widget.metadata.hist_parameters.period}} {{\'impac.widget.hr_payroll_summary.payroll_summary\' | translate}}\n              <i ng-show="sortedColumn == \'employee\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n            <div class="col-xs-3 text-right sortable-title" ng-click="sort(\'total\')">\n              {{\'impac.widget.hr_payroll_summary.total\' | translate}}\n              <i ng-show="sortedColumn == \'total\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n          </div>\n\n          \x3c!-- Groups of statements with their accounts --\x3e\n          <div class="row lines-group" ng-repeat="statement in widget.content.summary" >\n            <div class="col-xs-12">\n\n              \x3c!-- Statements lines --\x3e\n              <div class="row widget-line">\n                <div class="col-xs-1" ng-click="toggleCollapsed(statement)">\n                  <i ng-show="(statement.employees && statement.employees.length)" class="fa" ng-class="isCollapsed(statement) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'" />\n                </div>\n                <div class="col-xs-7" ng-click="toggleSelectedElement(statement)">\n                  <strong>{{getName(statement) | titleize}}</strong>\n                </div>\n                <div class="col-xs-4 text-right" ng-click="toggleSelectedElement(statement)">\n                  <strong>{{getLastValue(statement) | mnoCurrency : statement.currency}}</strong>\n                </div>\n\n                <div class="selection-tag" ng-if="isSelected(statement)" ng-style="{ \'background-color\': getSelectLineColor(statement) }"/>\n              </div>\n\n              \x3c!-- Accounts lines --\x3e\n              <div class="row" uib-collapse="isCollapsed(statement)">\n                <div class="col-xs-12">\n                  <div class="row widget-line" ng-click="toggleSelectedElement(employee, statement.name)" ng-repeat="employee in statement.employees" >\n                    <div class="col-xs-7 col-xs-offset-1">\n                      {{employee.name}}\n                    </div>\n                    <div class="col-xs-4 text-right">\n                      {{getLastValue(employee) | mnoCurrency : employee.currency}}\n                    </div>\n\n                    <div class="selection-tag" ng-if="isSelected(employee, statement.name)" ng-style="{ \'background-color\': getSelectLineColor(employee, statement.name) }"/>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="col-md-6 right-panel text-center" ng-show="widget.isExpanded()">\n\n        <div ng-show="hasElements()">\n\n          <h4>{{::periodTranslation | titleize}} {{\'impac.widget.hr_payroll_summary.payroll_summary\' | translate}}</h4>\n          <div setting-hist-mode parent-widget="widget" deferred="::histModeDeferred" on-toggle="widget.format()"/>\n\n          <div class="chart-container">\n            <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n            <div ng-show="selectedElements.length < 2" class="legend">{{getName(selectedElements[0]) | titleize}}</div>\n          </div>\n\n          <div ng-show="selectedElements.length < 2" class="widget-lines-container">\n\n            <div ng-show="getTrackedField()" class="row widget-line header">\n              <div class="col-xs-12">{{getTrackedField()}}</div>\n            </div>\n\n            \x3c!-- Not mobile --\x3e\n            <div class="row">\n              <span ng-repeat="date in widget.content.dates track by $index" class="hidden-xs">\n                \x3c!-- Separator every 4 items --\x3e\n                <div ng-if="$index % 4 == 0 && $index > 0" class="clearfix dashed"></div>\n\n                <div class="col-sm-3 text-center">\n                  \x3c!-- Date --\x3e\n                  <div class="row widget-line">\n                    <div class="col-sm-12">\n                      {{formatDate(date)}}\n                    </div>\n                  </div>\n                  \x3c!-- Amount + currency --\x3e\n                  <div class="row widget-line">\n                    <div class="col-sm-12" ng-class="getClassColor(selectedElements[0].totals[$index])">\n                      {{selectedElements[0].totals[$index] | mnoCurrency : selectedElements[0].currency }}\n                    </div>\n                  </div>\n                </div>\n              </span>\n            </div>\n\n            \x3c!-- Mobile --\x3e\n            <div ng-repeat="date in widget.content.dates track by $index" class="row widget-line visible-xs">\n              \x3c!-- Date --\x3e\n              <div class="col-xs-6">\n                {{formatDate(date)}}\n              </div>\n              \x3c!-- Amount + currency --\x3e\n              <div class="col-xs-6 text-right" ng-class="getClassColor(selectedElements[0].totals[$index])">\n                {{selectedElements[0].totals[$index] | mnoCurrency : selectedElements[0].currency}}\n              </div>\n            </div>\n          </div>\n\n          <div ng-hide="selectedElements.length < 2" class="widget-lines-container">\n\n            <div class="row widget-line header">\n              <div class="col-md-12">\n                <span ng-if="getTrackedField()">\n                  {{getTrackedField()}} -\n                </span>\n                <span ng-if="widget.isHistoryMode">\n                  {{\'impac.widget.hr_payroll_summary.from\' | translate}} {{widget.content.dates[0] | momentDate : "hr/payroll_summary"}} {{\'impac.widget.hr_payroll_summary.to\' | translate}} {{widget.content.dates[widget.content.dates.length - 1] | momentDate : "hr/payroll_summary"}}\n                </span>\n                <span ng-if="!widget.isHistoryMode">\n                  {{getPeriod()}}\n                </span>\n              </div>\n            </div>\n\n            <div class="row widget-line" ng-repeat="element in selectedElements track by $index">\n              <div class="col-xs-7">\n                <i class="fa fa-circle" ng-style="{ \'margin\': \'0px 8px\', \'color\': getElementChartColor($index) }" />\n                {{getName(element) | titleize}}\n              </div>\n              <div class="col-xs-5 text-right">\n                <span ng-if="widget.isHistoryMode">{{getTotalSum(element) | mnoCurrency : element.currency}}</span>\n                <span ng-if="!widget.isHistoryMode">{{getLastValue(element) | mnoCurrency : element.currency}}</span>\n              </div>\n            </div>\n\n          </div>\n\n        </div>\n\n        <div ng-hide="hasElements()" class="no-element" translate>impac.widget.hr_payroll_summary.no_elements</div>\n\n      </div>\n\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/hr-payroll-taxes.tmpl.html",'<div widget-hr-payroll-taxes>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.hr_payroll_taxes.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.hr_payroll_taxes.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.hr_payroll_taxes.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    <div>\n      <div setting-hist-mode parent-widget="widget" deferred="::histModeDeferred" />\n\n      <div ng-hide="widget.isHistoryMode" class="current">\n        <div class="price">{{getCurrentPrice() | mnoCurrency : getCurrency() : false}}</div>\n        <div class="currency">{{getCurrency()}}</div>\n        <div class="legend">{{\'impac.widget.hr_payroll_taxes.legend\' | translate}}<br />{{getPeriod()}}</div>\n      </div>\n\n      <div class="history chart-container" ng-show="widget.isHistoryMode">\n        <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n        <div class="legend">{{\'impac.widget.hr_payroll_taxes.legend\' | translate}}</div>\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/hr-salaries-summary.tmpl.html",'<div widget-hr-salaries-summary>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.hr_salaries_summary.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.hr_salaries_summary.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.hr_salaries_summary.save</button>\n    </div>\n  </div>\n\n  <div align="center" ng-hide="widget.isEditMode">\n\n    <div class="row">\n      <div ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n        <div setting-width parent-widget="widget" min="3" max="6" class="settings width" deferred="::widthDeferred" />\n\n        <h3 class="left" ng-class="widget.isExpanded() ? \'left\' : \'reduced-left\'" translate>impac.widget.hr_salaries_summary.average_rate</h3>\n        <div class="price">\n           {{widget.content.total.average_rate | mnoCurrency : widget.content.total.currency}}\n        </div>\n        <div class="currency" setting-param-selector parent-widget="widget" param="period" options="periodOptions" selected="period" deferred="::paramSelectorDeferred1"/>\n        <div class="legend">\n          <span>({{widget.content.total.employees}} <span translate="impac.widget.hr_salaries_summary.legend.employee" translate-values="{num_employee: widget.content.total.employees}"></span> {{\'impac.widget.hr_salaries_summary.legend.with\' | translate}})</span>\n        </div>\n      </div>\n\n      <div class="right-panel" ng-class="{\'col-md-12\': !widget.isExpanded(), \'col-md-6\': widget.isExpanded()}">\n        <h3 class="right">{{\'impac.widget.hr_salaries_summary.filter\' | translate}} <span setting-param-selector parent-widget="widget" param="filter" options="filterOptions" selected="filter" deferred="::paramSelectorDeferred2"/></h3>\n        <div class="chart-container">\n          <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n        </div>\n        <div class="widget-lines-container">\n          <div class="row widget-line" ng-repeat="data in widget.content.summary.data">\n            <div class="col-xs-2">\n              <i ng-hide="widget.content.summary.filter==\'age_range\'" class="fa fa-circle" ng-style="{ \'color\': getColorByIndex($index) }" />\n            </div>\n            <div class="col-xs-5">\n              {{data.label}}\n            </div>\n            <div class="col-xs-5 text-right">\n              <i>{{data.value | mnoCurrency : widget.content.total.currency}} (av.)</i>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/hr-superannuation-accruals.tmpl.html",'<div widget-hr-superannuation-accruals>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.hr_superannuation_accruals.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.hr_superannuation_accruals.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.hr_superannuation_accruals.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div class="row">\n\n      <div setting-param-selector parent-widget="widget" param="employee_id" options="employeesOptions" selected="selectedEmployee" class="currency" deferred="::paramSelectorDeferred" />\n\n      <h3 translate>impac.widget.hr_superannuation_accruals.superannuation_balance</h3>\n      <div class="price">{{(getEmployee().total_super || 0) | mnoCurrency : getEmployee().currency}}</div>\n\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/hr-timesheets.tmpl.html",'<div widget-hr-timesheets>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.hr_timesheets.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.hr_timesheets.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.hr_timesheets.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div>\n\n      <div setting-param-selector parent-widget="widget" param="employee_id" options="employeesOptions" selected="selectedEmployee" class="currency" deferred="::paramSelectorDeferred" />\n\n      <div class="widget-lines-container">\n\n        \x3c!-- Tab header --\x3e\n        <div class="row widget-line header">\n          <div class="col-sm-12">\n            {{\'impac.widget.hr_timesheets.from\' | translate}} {{widget.content.dates[0] | momentDate : widget.metadata.hist_parameters.period}} {{\'impac.widget.hr_timesheets.to\' | translate}} {{widget.content.dates[widget.content.dates.length - 1] | momentDate : widget.metadata.hist_parameters.period}}\n          </div>\n        </div>\n\n        \x3c!-- Time worked activities --\x3e\n        <div class="row lines-group" >\n          <div class="col-xs-12">\n\n            \x3c!-- Time worked --\x3e\n            <div class="row widget-line" >\n              <div class="col-xs-1" ng-click="toggleCollapsed(\'total_time_worked\')" style="cursor: pointer;">\n                <i class="fa" ng-class="isCollapsed(\'total_time_worked\') ? \'fa-plus-square-o\' : \'fa-minus-square-o\'" />\n              </div>\n              <div class="col-xs-7">\n                <strong translate>impac.widget.hr_timesheets.total_worked</strong>\n              </div>\n              <div class="col-xs-4 text-right">\n                <strong>{{getEmployeeTimeWorked()}} h</strong>\n              </div>\n            </div>\n\n            \x3c!-- Activities lines / TODO --\x3e\n            <div class="row" uib-collapse="isCollapsed(\'total_time_worked\')">\n              <div class="col-xs-12">\n                <div class="row widget-line">\n                  <div class="col-xs-11 col-xs-offset-1">\n                    <i translate>impac.widget.hr_timesheets.activities_not_found</i>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n          </div>\n        </div>\n\n        \x3c!-- Time off activities --\x3e\n        <div class="row lines-group" >\n          <div class="col-xs-12">\n\n            \x3c!-- Time off --\x3e\n            <div class="row widget-line" >\n              <div class="col-xs-1" ng-click="toggleCollapsed(\'total_time_of\')" style="cursor: pointer;">\n                <i class="fa" ng-class="isCollapsed(\'total_time_of\') ? \'fa-plus-square-o\' : \'fa-minus-square-o\'" />\n              </div>\n              <div class="col-xs-7">\n                <strong translate>impac.widget.hr_timesheets.total_off</strong>\n              </div>\n              <div class="col-xs-4 text-right">\n                <strong>{{getEmployeeTimeOff()}} h</strong>\n              </div>\n            </div>\n\n\n            \x3c!-- PTO and Vacation lines / TODO --\x3e\n            <div class="row" uib-collapse="isCollapsed(\'total_time_of\')">\n              <div class="col-xs-12">\n                <div class="row widget-line">\n                  <div class="col-xs-7 col-xs-offset-1">PTO</div>\n                  <div class="col-xs-4 text-right">0 h</div>\n                </div>\n                <div class="row widget-line">\n                  <div class="col-xs-7 col-xs-offset-1">Vacation</div>\n                  <div class="col-xs-4 text-right">0 h</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/hr-workforce-summary.tmpl.html",'<div widget-hr-workforce-summary>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.hr_workforce_summary.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.hr_workforce_summary.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.hr_workforce_summary.save</button>\n    </div>\n  </div>\n\n  <div align="center" ng-hide="widget.isEditMode">\n\n    <div class="row">\n      <div ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n        <div setting-width parent-widget="widget" min="3" max="6" class="settings width" deferred="::widthDeferred" />\n\n        <h3 class="left" ng-class="widget.isExpanded() ? \'left\' : \'reduced-left\'" translate>impac.widget.hr_workforce_summary.total_workforce</h3>\n        <div class="price">\n           {{getTotalWorkforce() | mnoCurrency : getCurrency()}}\n        </div>\n        <div class="currency" setting-param-selector parent-widget="widget" param="period" options="periodOptions" selected="period" deferred="::paramSelectorDeferred1"/>\n        <div class="legend">\n          <span>({{getNumberOfEmployees()}} <span translate="impac.widget.hr_workforce_summary.legend.employee" translate-values="{num_employee: widget.content.total.employees}"></span> {{\'impac.widget.hr_workforce_summary.legend.with\' | translate}})</span>\n        </div>\n      </div>\n\n      <div class="right-panel" ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n        <h3 class="right">{{\'impac.widget.hr_workforce_summary.filter\' | translate}} <span setting-param-selector parent-widget="widget" param="filter" options="filterOptions" selected="filter" deferred="::paramSelectorDeferred2"/></h3>\n        <div class="chart-container">\n          <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n        </div>\n        <div class="widget-lines-container">\n          <div class="row widget-line" ng-repeat="data in widget.content.summary.data">\n            <div class="col-xs-2">\n              <i class="fa fa-circle" ng-style="{ \'color\': getColorByIndex($index) }" />\n            </div>\n            <div class="col-xs-7">\n              {{widget.content.summary.filter == "salary_range" ? formatSalaryRange(data) : data.label}}\n            </div>\n            <div class="col-xs-3 text-right">\n              <i>{{((data.value / widget.content.total.amount)*100).toFixed()}}%</i>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),
e.put("widgets/invoices-aged-payables-receivables.tmpl.html",'<div widget-invoices-aged-payables-receivables>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.invoices_receivables.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.invoices_receivables.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.invoices_receivables.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div class="row">\n      <div ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n        <div setting-width parent-widget="widget" min="6" max="12" class="settings width" deferred="::widthDeferred" />\n\n        <div class="widget-lines-container">\n\n          <div class="row widget-line header">\n            <div class="col-xs-6 sortable-title" ng-click="sort(\'customer\')">\n              {{\'impac.widget.invoices_receivables.payables_and_receivables\' | translate}}\n              <i ng-show="sortedColumn == \'customer\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n            <div class="col-xs-3 text-right sortable-title" ng-click="sort(\'total\')">\n              {{\'impac.widget.invoices_receivables.total\' | translate}}\n              <i ng-show="sortedColumn == \'total\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n            <div class="col-xs-3 text-right sortable-title" ng-click="sort(\'invoice\')">\n              {{\'impac.widget.invoices_receivables.oldest\' | translate}}\n              <i ng-show="sortedColumn == \'invoice\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n          </div>\n\n          \x3c!-- Payables --\x3e\n          <div class="row lines-group">\n            <div class="col-xs-12">\n\n              <div class="row widget-line">\n                <div class="col-xs-1" ng-click="toggleCollapsed(payables)">\n                  <i ng-show="(payables.suppliers && payables.suppliers.length)" class="fa" ng-class="isCollapsed(payables) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'" />\n                </div>\n                <div class="col-xs-5" ng-click="toggleSelectedElement(payables)">\n                  <strong translate>impac.widget.invoices_receivables.aged_payables</strong>\n                </div>\n                <div class="col-xs-3 text-right" ng-click="toggleSelectedElement(payables)">\n                  <strong>{{getTotalSum(payables) | mnoCurrency : payables.currency}}</strong>\n                </div>\n\n                <div class="selection-tag" ng-if="isSelected(payables)" ng-style="{ \'background-color\': getSelectLineColor(payables) }"/>\n              </div>\n\n              <div class="row" uib-collapse="isCollapsed(payables)">\n                <div class="col-xs-12">\n                  <div class="row widget-line" ng-click="toggleSelectedElement(supplier, payables.name)" ng-repeat="supplier in payables.suppliers">\n                    <div class="col-xs-5 col-xs-offset-1">\n                      {{supplier.name}}\n                    </div>\n                    <div class="col-xs-3 text-right">\n                      {{getTotalSum(supplier) | mnoCurrency : supplier.currency}} <span common-currency-conversions fx-amounts="supplier.formattedFxTotals" base-currency="widget.metadata.currency" rates-date="ratesDate" />\n                    </div>\n                    <div class="col-xs-3 text-right">\n                      <span uib-tooltip="{{\'impac.widget.invoices_receivables.tooltip.oldest_invoice\' | translate}} {{getOldestInvoice(supplier)}}" tooltip-placement="left">\n                        {{getOldestInvoice(supplier) | momentDate : widget.metadata.hist_parameters.period}}\n                      </span>\n                    </div>\n\n                    <div class="selection-tag" ng-if="isSelected(supplier, payables.name)" ng-style="{ \'background-color\': getSelectLineColor(supplier, payables.name) }"/>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </div>\n\n          \x3c!-- Receivables --\x3e\n          <div class="row lines-group">\n            <div class="col-xs-12">\n\n              <div class="row widget-line" >\n                <div class="col-xs-1" ng-click="toggleCollapsed(receivables)">\n                  <i ng-show="(receivables.customers && receivables.customers.length)" class="fa" ng-class="isCollapsed(receivables) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'" />\n                </div>\n                <div class="col-xs-5" ng-click="toggleSelectedElement(receivables)">\n                  <strong translate>impac.widget.invoices_receivables.aged_receivables</strong>\n                </div>\n                <div class="col-xs-3 text-right" ng-click="toggleSelectedElement(receivables)">\n                  <strong>{{getTotalSum(receivables) | mnoCurrency : receivables.currency}}</strong>\n                </div>\n\n                <div class="selection-tag" ng-if="isSelected(receivables)" ng-style="{ \'background-color\': getSelectLineColor(receivables) }"/>\n              </div>\n\n              <div class="row" uib-collapse="isCollapsed(receivables)">\n                <div class="col-xs-12">\n                  <div class="row widget-line" ng-click="toggleSelectedElement(customer, receivables.name)" ng-repeat="customer in receivables.customers" ng-class="isSelected(customer, receivables.name) ? \'selected\' : null" >\n                    <div class="col-xs-5 col-xs-offset-1">\n                      {{customer.name}}\n                    </div>\n                    <div class="col-xs-3 text-right">\n                      <span>{{getTotalSum(customer) | mnoCurrency : customer.currency}} <span common-currency-conversions fx-amounts="customer.formattedFxTotals" base-currency="widget.metadata.currency" rates-date="ratesDate" /></span>\n                    </div>\n                    <div class="col-xs-3 text-right">\n                      <span uib-tooltip="{{\'impac.widget.invoices_receivables.tooltip.oldest_invoice\' | translate}} {{getOldestInvoice(customer)}}" tooltip-placement="left">\n                        {{getOldestInvoice(customer) | momentDate : widget.metadata.hist_parameters.period}}\n                      </span>\n                    </div>\n\n                    <div class="selection-tag" ng-if="isSelected(customer, receivables.name)" ng-style="{ \'background-color\': getSelectLineColor(customer, receivables.name) }"/>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </div>\n        </div>\n      </div>\n\n\n      <div class="col-md-6 right-panel text-center" ng-show="widget.isExpanded()">\n\n        <div ng-show="hasElements()">\n\n          <h4>{{::period_translation | titleize}} {{\'impac.widget.invoices_receivables.aged_payables_and_receivables\' | translate}}</h4>\n\n          <div ng-show="selectedElements.length < 2" class="legend">{{getName(selectedElements[0]) | titleize}}</div>\n\n          <div class="chart-container">\n            <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n          </div>\n\n          <div ng-show="selectedElements.length < 2" class="widget-lines-container">\n\n            \x3c!-- Not mobile --\x3e\n            <div class="row">\n              <span ng-repeat="date in widget.content.dates track by $index" class="hidden-xs">\n                \x3c!-- Separator every 4 items --\x3e\n                <div ng-if="$index % 4 == 0 && $index > 0" class="clearfix dashed"></div>\n\n                <div class="col-sm-3 text-center">\n                  \x3c!-- Date --\x3e\n                  <div class="row widget-line">\n                    <div class="col-sm-12">\n                      {{date | momentDate : widget.metadata.hist_parameters.period}}\n                    </div>\n                  </div>\n                  \x3c!-- Amount + currency --\x3e\n                  <div class="row widget-line">\n                    <div class="col-sm-12" ng-class="getClassColor(selectedElements[0].totals[$index])">\n                      {{selectedElements[0].totals[$index] | mnoCurrency : selectedElements[0].currency}}\n                    </div>\n                  </div>\n                </div>\n              </span>\n            </div>\n\n            \x3c!-- Mobile --\x3e\n            <div ng-repeat="date in widget.content.dates track by $index" class="row widget-line visible-xs">\n              \x3c!-- Date --\x3e\n              <div class="col-xs-6">\n                {{date | momentDate : widget.metadata.hist_parameters.period}}\n              </div>\n              \x3c!-- Amount + currency --\x3e\n              <div class="col-xs-6 text-right" ng-class="getClassColor(selectedElements[0].totals[$index])">\n                {{selectedElements[0].totals[$index] | mnoCurrency : selectedElements[0].currency}}\n              </div>\n            </div>\n\n            <div class="row astericks-info">\n              <div class="col-xs-12">\n                <p><i translate>impac.widget.invoices_receivables.your_opening_balance</i></p>\n              </div>\n            </div>\n          </div>\n\n          <div ng-hide="selectedElements.length < 2" class="widget-lines-container">\n\n            <div class="row widget-line header">\n              <div class="col-xs-4 col-xs-offset-8 text-right">Totals</div>\n            </div>\n\n            <div class="row widget-line" ng-repeat="element in selectedElements track by $index">\n              <div class="col-xs-2">\n                <i class="fa fa-circle" ng-style="{ \'margin\': \'0px 8px\', \'color\': getElementChartColor($index) }" />\n              </div>\n              <div class="col-xs-6">\n                {{getName(element) | titleize}}\n              </div>\n              <div class="col-xs-4 text-right">\n                <i>{{getTotalSum(element) | mnoCurrency : element.currency}}</i>\n              </div>\n            </div>\n\n            <div class="row astericks-info">\n              <div class="col-xs-12">\n                <p><i translate>impac.widget.invoices_receivables.your_opening_balance</i></p>\n              </div>\n            </div>\n          </div>\n\n        </div>\n\n        <div ng-hide="hasElements()" class="no-element" translate>impac.widget.invoices_receivables.select_accounts</div>\n\n      </div>\n\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/invoices-list.accessible.tmpl.html",'<div widget-invoices-list>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.invoices_list.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.invoices_list.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.invoices_list.save</button>\n    </div>\n  </div>\n\n  <table class="table widget-lines-container" ng-hide="widget.isEditMode">\n\n    \x3c!-- Header line --\x3e\n    <tr class="widget-line header">\n      <td>{{entityTypeCap}}</td>\n      <td translate>impac.widget.invoices_list.paid</td>\n      <td translate>impac.widget.invoices_list.due</td>\n      <td translate>impac.widget.invoices_list.invoiced</td>\n    </tr>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n\n    \x3c!-- Content lines --\x3e\n    <tr class="widget-line" ng-repeat="entity in widget.content.entities | orderBy:\'name\'">\n      <td>{{entity.name}}</td>\n      <td><i>{{entity.total_paid | mnoCurrency : entity.currency}}</i></td>\n      <td><i>{{entity.total_due | mnoCurrency : entity.currency}}</i></td>\n      <td><i>{{entity.total_invoiced | mnoCurrency : entity.currency}}</i></td>\n    </tr>\n\n  </table>\n\n</div>\n'),e.put("widgets/invoices-list.tmpl.html",'<div widget-invoices-list>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.invoices_list.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-dates-picker parent-widget="widget" class="part" from="(widget.metadata.hist_parameters.from || defaultFrom)" to="(widget.metadata.hist_parameters.to || defaultTo)" keep-today="widget.metadata.hist_parameters.keep_today" deferred="::datesPickerDeferred"/>\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.invoices_list.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.invoices_list.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode" class="widget-lines-container">\n\n    <div setting-limit-entries parent-widget="widget" deferred="::limitEntriesDeferred" selected="limitEntriesSelected" max="widget.content.entities.length" entries-label="limitEntriesLabel" />\n\n\n    \x3c!-- LARGE WIDGET --\x3e\n\n    \x3c!-- Header line --\x3e\n    <div ng-if="widget.width > 3" class="row widget-line header">\n      <div class="col-sm-4">{{entityTypeCap}}</div>\n      <div class="col-sm-7">\n        <div class="row">\n          <div class="col-xs-4" translate>impac.widget.invoices_list.paid</div>\n          <div class="col-xs-4" translate>impac.widget.invoices_list.due</div>\n          <div class="col-xs-4" translate>impac.widget.invoices_list.invoiced</div>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- Content lines --\x3e\n    <div ng-if="widget.width > 3" class="row widget-line" ng-repeat="entity in widget.content.entities | limitTo:limitEntriesSelected | orderBy:\'name\'" tooltip-placement="bottom" uib-tooltip-html="invoiceTooltips[entity.id]" tooltip-animation="false" tooltip-append-to-body="true" tooltip-class="impac-widgets-tooltip">\n      <div class="col-sm-4"><b>{{entity.name}}</b></div>\n      <div class="col-sm-7">\n        <div class="row">\n          <div class="col-xs-4"><i>{{entity.total_paid | mnoCurrency : entity.currency}}</i></div>\n          <div class="col-xs-4"><i>{{entity.total_due | mnoCurrency : entity.currency}}</i></div>\n          <div class="col-xs-4"><i>{{entity.total_invoiced | mnoCurrency : entity.currency}}</i></div>\n        </div>\n      </div>\n      <div class="col-sm-1 right-column text-right">\n        <i class="fa fa-info-circle" />\n        <span common-currency-conversions fx-amounts="entity.formattedFxTotals" base-currency="widget.metadata.currency" rates-date="ratesDate" />\n      </div>\n    </div>\n\n\n    \x3c!-- SMALL WIDGET --\x3e\n\n    \x3c!-- Header line --\x3e\n    <div ng-if="widget.width <= 3" class="row widget-line header">\n      <div class="col-xs-12" ng-show="orderBy == \'paid \'">{{entityTypeCap}} {{\'impac.widget.invoices_list.total_paid\' | translate}}</div>\n      <div class="col-xs-12" ng-show="orderBy == \'due \'">{{entityTypeCap}} {{\'impac.widget.invoices_list.total_due\' | translate}}</div>\n      <div class="col-xs-12" ng-hide="orderBy == \'paid \' || orderBy == \'due \'">{{entityTypeCap}} {{\'impac.widget.invoices_list.total_invoiced\' | translate}}</div>\n    </div>\n\n    \x3c!-- Content lines --\x3e\n    <div ng-if="widget.width <= 3" class="row widget-line" ng-repeat="entity in widget.content.entities | limitTo:limitEntriesSelected | orderBy:\'name\'" tooltip-placement="bottom" uib-tooltip-html="invoiceTooltips[entity.id]" tooltip-animation="false" tooltip-append-to-body="true" tooltip-class="impac-widgets-tooltip">\n      <div class="col-xs-12"><b>{{entity.name}}</b></div>\n      <div class="col-xs-8" ng-show="orderBy == \'paid \'"><i>{{entity.total_paid | mnoCurrency : entity.currency}}</i></div>\n      <div class="col-xs-8" ng-show="orderBy == \'due \'"><i>{{entity.total_due | mnoCurrency : entity.currency}}</i></div>\n      <div class="col-xs-8" ng-hide="orderBy == \'paid \' || orderBy == \'due \'"><i>{{entity.total_invoiced | mnoCurrency : entity.currency}}</i></div>\n      <div class="col-xs-4 text-right">\n        <i class="fa fa-info-circle" />\n        <span common-currency-conversions fx-amounts="entity.formattedFxTotals" base-currency="widget.metadata.currency" rates-date="ratesDate" />\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/invoices-summary.tmpl.html",'<div widget-invoices-summary>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.invoices_summary.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-dates-picker parent-widget="widget" class="part" from="(widget.metadata.hist_parameters.from || defaultFrom)" to="widget.metadata.hist_parameters.to" keep-today="widget.metadata.hist_parameters.keep_today" deferred="::datesPickerDeferred"/>\n    <div setting-chart-filters parent-widget="widget" class="part" deferred="::chartFiltersDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.invoices_summary.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.invoices_summary.save</button>\n    </div>\n  </div>\n\n  <div align="center" ng-hide="widget.isEditMode">\n    <div class="chart-container">\n      <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n      <div class="legend">\n        <span>{{widget.content.legend}}</span>\n      </div>\n    </div>\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/sales-aged.tmpl.html",'<div widget-sales-aged>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_aged.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_aged.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_aged.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div class="center">\n\n      <div setting-param-selector parent-widget="widget" param="filter" options="filterOptions" selected="filter" no-reload truncate-no="60" on-select="widget.format()" style="text-align: center;" deferred="::paramSelectorDeferred"/>\n\n      <div class="chart-container">\n        <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n      </div>\n      <div class="legend">{{\'impac.widget.sales_aged.from\' | translate}} {{widget.content.dates[0] | momentDate : widget.metadata.hist_parameters.period}} {{\'impac.widget.sales_aged.to\' | translate}} {{getLastDate() | momentDate : widget.metadata.hist_parameters.period}}</div>\n\n      <div class="widget-lines-container">\n\n        \x3c!-- Not mobile --\x3e\n        <div class="row">\n          <span ng-repeat="date in formattedDates track by $index" class="hidden-xs">\n            \x3c!-- Separator every 4 items --\x3e\n            <div ng-if="$index % 4 == 0 && $index > 0" class="clearfix dashed"></div>\n\n            <div class="col-sm-3 text-center">\n              \x3c!-- Date --\x3e\n              <div class="row widget-line">\n                <div class="col-xs-12">\n                  {{date}}\n                </div>\n              </div>\n              \x3c!-- Amount (+ currency) --\x3e\n              <div class="row widget-line">\n                <div ng-hide="filter.value == \'quantity_sold\'" class="col-xs-12" ng-class="getClassColor(getTotal($index - 1),getTotal($index))" >\n                  {{getTotal($index) | mnoCurrency : widget.content.currency}}\n                </div>\n                <div ng-show="filter.value == \'quantity_sold\'" class="col-xs-12" ng-class="getClassColor(getTotal($index - 1),getTotal($index))" >\n                  {{getTotal($index)}}\n                </div>\n              </div>\n            </div>\n          </span>\n        </div>\n\n        \x3c!-- Mobile --\x3e\n        <div ng-repeat="date in formattedDates track by $index" class="row widget-line visible-xs">\n          \x3c!-- Date --\x3e\n          <div class="col-xs-6">\n            {{date}}\n          </div>\n          \x3c!-- Amount (+ currency) --\x3e\n          <div ng-hide="filter.value == \'quantity_sold\'" class="col-xs-6 text-right" ng-class="getClassColor(getTotal($index - 1),getTotal($index))" >\n            {{getTotal($index) | mnoCurrency : widget.content.currency}}\n          </div>\n          <div ng-show="filter.value == \'quantity_sold\'" class="col-xs-6 text-right" ng-class="getClassColor(getTotal($index - 1),getTotal($index))" >\n            {{getTotal($index)}}\n          </div>\n        </div>\n\n      </div>\n\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/sales-break-even.tmpl.html",'<div widget-sales-break-even>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_break_even.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_break_even.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_break_even.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div class="align-center">\n\n      <div class="legend">{{\'impac.widget.sales_break_even.from\' | translate}} {{widget.content.period.from | momentDate : "sales/break_even"}} {{\'impac.widget.sales_break_even.to\' | translate}} {{widget.content.period.to | momentDate : "sales/break_even"}}</div>\n\n      <div class="block to-date">\n        <div class="title" translate>impac.widget.sales_break_even.title.sales</div>\n        <div class="price">{{widget.content.sales.to_date | mnoCurrency : widget.content.currency : false}}</div>\n        {{\'impac.widget.sales_break_even.target\' | translate}}: <span class="edit-target" style="float: right;" editable-text="threshold" buttons="no" onaftersave="updateSettings()">\n          {{threshold | mnoCurrency : widget.content.currency : false}}\n        </span>\n      </div>\n\n      <div ng-show="widget.content.break_even" class="block to-breakeven">\n        <div class="title">impac.widget.sales_break_even.title.projection</div>\n        <span ng-show="isTargetMet()" translate>impac.widget.sales_break_even.your_sales</span>\n        <div class="price">{{getVariance() | mnoCurrency : widget.content.currency : false}}</div>\n        <span ng-hide="isTargetMet()">\n          {{\'impac.widget.sales_break_even.projected_date\' | translate}} <span style="float: right;">{{getProjectedDate() | date : \'d-MM-yy\'}}</span>\n          <br />\n          {{\'impac.widget.sales_break_even.opportunities_to_close\' | translate}} <span style="float: right;">{{getOpportunitiesToClose()}}</span>\n        </span>\n      </div>\n      <div ng-show="widget.content.break_even" class="legend">{{widget.content.break_even.eligible_opportunities}} {{\'impac.widget.sales_break_even.eligible_opportunities\' | translate}}</div>\n\n      <div ng-hide="widget.content.break_even" class="block to-breakeven">\n        <span class="edit-target" editable-text="threshold" buttons="no" onaftersave="updateSettings()">\n          <div class="define-text">{{\'impac.widget.sales_break_even.click_to_define\' | translate}}</div>\n        </span>\n      </div>\n\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/sales-comparison.tmpl.html",'<div widget-sales-comparison>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_comparison.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_comparison.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_comparison.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div class="row" >\n      <div ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n        <div setting-width parent-widget="widget" min="6" max="12" class="settings width" deferred="::widthDeferred" />\n\n        <div class="row legend center">\n          {{\'impac.widget.sales_comparison.legend.compare_by\' | translate}} <div setting-param-selector parent-widget="widget" style="display: inline;" param="criteria" options="criteriaOptions" selected="criteria" truncate-no="30" deferred="::paramSelectorDeferred1" />\n           |\n          {{\'impac.widget.sales_comparison.legend.see\' | translate}} <div setting-param-selector parent-widget="widget" style="display: inline;" param="filter" options="filterOptions" selected="filter" truncate-no="30" on-select="widget.format()" no-reload deferred="::paramSelectorDeferred2" />\n        </div>\n\n        <div class="widget-lines-container">\n\n          <div class="row widget-line header">\n            <div class="col-xs-8 sortable-title" ng-click="sort(\'sales\')">\n              {{\'impac.widget.sales_comparison.total_sales_from\' | translate}} {{widget.content.dates[0] | momentDate : widget.metadata.hist_parameters.period}} {{\'impac.widget.sales_comparison.to\' | translate}} {{getLastDate() | momentDate : widget.metadata.hist_parameters.period}}\n              <i ng-show="sortedColumn == \'sales\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n            <div class="col-xs-4 text-right sortable-title" ng-click="sort(\'total\')">\n              {{\'impac.widget.sales_comparison.total\' | translate}}\n              <i ng-show="sortedColumn == \'total\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n          </div>\n\n          <div class="row lines-group" ng-repeat="statement in widget.content.sales_comparison" >\n            <div class="col-xs-12">\n\n              <div class="row widget-line" >\n                <div class="col-xs-1" ng-click="toggleCollapsed(statement)">\n                  <i ng-show="(statement.sales && statement.sales.length)" class="fa" ng-class="isCollapsed(statement) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'" />\n                </div>\n                <div class="col-xs-7" ng-click="toggleSelectedElement(statement)">\n                  <strong>{{statement.name | titleize}}</strong>\n                </div>\n                <div ng-show="filter.value == \'quantity_sold\'" class="col-xs-4 text-right" ng-click="toggleSelectedElement(statement)">\n                  <strong>{{getTotalForPeriod(statement)}}</strong>\n                </div>\n                <div ng-hide="filter.value == \'quantity_sold\'" class="col-xs-4 text-right" ng-click="toggleSelectedElement(statement)">\n                  <strong>{{getTotalForPeriod(statement) | mnoCurrency : statement.currency}}</strong>\n                </div>\n\n                <div class="selection-tag" ng-if="isSelected(statement)" ng-style="{ \'background-color\': getSelectLineColor(statement) }"/>\n              </div>\n\n              <div class="row" uib-collapse="isCollapsed(statement)">\n                <div class="col-xs-12">\n                  <div class="row widget-line" ng-click="toggleSelectedElement(sale, statement.name)" ng-repeat="sale in statement.sales" >\n                    <div class="col-xs-7 col-xs-offset-1">\n                      {{sale.name}}\n                    </div>\n                    <div ng-show="filter.value == \'quantity_sold\'" class="col-xs-4 text-right">\n                      {{getTotalForPeriod(sale)}}\n                    </div>\n                    <div ng-hide="filter.value == \'quantity_sold\'" class="col-xs-4 text-right">\n                      <span common-currency-conversions fx-amounts="sale.formattedFxTotals[filter.value]" base-currency="widget.metadata.currency" rates-date="ratesDate" />\n                      {{getTotalForPeriod(sale) | mnoCurrency : sale.currency}}\n                    </div>\n\n                    <div class="selection-tag" ng-if="isSelected(sale, statement.name)" ng-style="{ \'background-color\': getSelectLineColor(sale, statement.name) }"/>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="col-md-6 right-panel text-center" ng-show="widget.isExpanded()">\n\n        <div ng-show="hasElements()">\n          <div class="chart-container">\n            <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n          </div>\n\n          <div class="widget-lines-container">\n\n            <div class="row widget-line header">\n              <div class="col-xs-12">\n                {{\'impac.widget.sales_comparison.total_sales_from\' | translate}} {{widget.content.dates[0] | momentDate : widget.metadata.hist_parameters.period}} {{\'impac.widget.sales_comparison.to\' | translate}} {{getLastDate() | momentDate : widget.metadata.hist_parameters.period}}\n              </div>\n            </div>\n\n            <div class="row widget-line" ng-repeat="element in selectedElements track by $index">\n              <div class="col-xs-1">\n                <i class="fa fa-circle" ng-style="{ \'color\': getElementChartColor($index) }" />\n              </div>\n              <div class="col-xs-7">\n                {{element.name | titleize}}\n              </div>\n              <div class="col-xs-4 text-right">\n                <i ng-show="filter.value == \'quantity_sold\'">{{getTotalForPeriod(element)}}</i>\n                <i ng-hide="filter.value == \'quantity_sold\'">{{getTotalForPeriod(element) | mnoCurrency : element.currency}}</i>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div ng-hide="hasElements()" class="no-element" translate>impac.widget.sales_comparison.select_sales_category</div>\n\n      </div>\n\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),
e.put("widgets/sales-customer-details.tmpl.html",'<div widget-sales-customer-details>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_customer_details.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_customer_details.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_customer_details.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div class="row">\n\n      <div ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n        <div setting-width parent-widget="widget" min="3" max="6" class="settings width" deferred="::widthDeferred" />\n        <div setting-param-selector parent-widget="widget" param="customer_uid" options="customersOptions" selected="selectedCustomerId" class="row title" deferred="::paramSelectorDeferred" />\n\n        <div class="details-container">\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.sales_customer_details.label.email</label></div>\n            <div class="col-md-8"><pre>{{selectedCustomer.email || \'-\'}}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.sales_customer_details.label.phone</label></div>\n            <div class="col-md-8"><pre>{{selectedCustomer.phone || \'-\'}}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.sales_customer_details.label.website</label></div>\n            <div class="col-md-8"><pre>{{selectedCustomer.website || \'-\'}}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.sales_customer_details.label.contact</label></div>\n            <div class="col-md-8"><pre>{{selectedCustomer.contact || \'-\'}}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.sales_customer_details.label.city</label></div>\n            <div class="col-md-8"><pre>{{selectedCustomer.city || \'-\'}}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-4"><label translate>impac.widget.sales_customer_details.label.country</label></div>\n            <div class="col-md-8"><pre>{{selectedCustomer.country || \'-\'}}</pre></div>\n          </div>\n        </div>\n      </div>\n\n      <div class="col-md-6 right-panel" ng-show="widget.isExpanded()">\n        <div class="details-container">\n          <div class="row" style="border-bottom: solid 1px #e6e6e6; margin-bottom: 10px; padding-bottom: 5px;">\n            <div class="col-md-3"><label translate>impac.widget.sales_customer_details.label.address</label></div>\n            <div class="col-md-9"><pre>{{formatAddress(selectedCustomer.full_address) || \'-\'}}</pre></div>\n          </div>\n          <div class="row">\n            <div class="col-md-12 center legend">{{\'impac.widget.sales_customer_details.from\' | translate}} {{getFromDate() | date : \'d MMM yyyy\'}} {{\'impac.widget.sales_customer_details.to\' | translate}} {{getToDate() | date : \'d MMM yyyy\'}}:</div>\n          </div>\n          <div class="row">\n            <div class="col-md-5"><label translate>impac.widget.sales_customer_details.label.total_invoiced</label></div>\n            <div class="col-md-7">\n              <span common-currency-conversions fx-amounts="selectedCustomer.invoicedFxTotals" base-currency="widget.metadata.currency" rates-date="ratesDate" />\n              <pre>{{selectedCustomer.total_invoiced | mnoCurrency : selectedCustomer.currency}}</pre>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-md-5"><label translate>impac.widget.sales_customer_details.label.total_paid</label></div>\n            <div class="col-md-7">\n              <span common-currency-conversions fx-amounts="selectedCustomer.paidFxTotals" base-currency="widget.metadata.currency" rates-date="ratesDate" />\n              <pre>{{selectedCustomer.total_paid | mnoCurrency : selectedCustomer.currency}}</pre>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-md-5"><label translate>impac.widget.sales_customer_details.label.total_due</label></div>\n            <div class="col-md-7">\n              <span common-currency-conversions fx-amounts="selectedCustomer.dueFxTotals" base-currency="widget.metadata.currency" rates-date="ratesDate" />\n              <pre>{{selectedCustomer.total_due | mnoCurrency : selectedCustomer.currency}}</pre>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/sales-cycle.tmpl.html",'<div widget-sales-cycle>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_cycle.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-params-picker options="statusOptions" param="status_selection" has-reach="hasReach" parent-widget="widget" class="part" deferred="::paramsPickerDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_cycle.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_cycle.save</button>\n    </div>\n  </div>\n\n  <div align="center" ng-hide="widget.isEditMode">\n    <div class="chart-container">\n      <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n      <div class="legend">\n        <span translate>impac.widget.sales_cycle.your_sales_cycle</span>\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/sales-forecast.tmpl.html",'<div widget-sales-forecast>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_forecast.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_forecast.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_forecast.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div>\n\n      <div class="chart-container">\n        <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n      </div>\n\n      <div class="widget-lines-container">\n\n        <div class="row widget-line header">\n          <div class="col-xs-12" translate>impac.widget.sales_forecast.projection_on</div>\n        </div>\n\n        <div class="row lines-group" ng-repeat="date in widget.content.dates.slice(6) track by $index" ng-init="collapsed = true" >\n          <div class="col-xs-12">\n\n            <div class="row widget-line" ng-class="{main: widget.content.opportunities.slice(6)[$index].length > 0}" ng-click="collapsed = !collapsed" >\n              <div class="col-xs-6">\n                {{date | momentDate : widget.metadata.hist_parameters.period}}\n              </div>\n              <div class="col-xs-6 text-right">\n                <strong>{{widget.content.totals.slice(6)[$index] | mnoCurrency : widget.content.currency}}</strong>\n              </div>\n            </div>\n\n            <div class="row" uib-collapse="collapsed">\n              <div class="col-xs-12">\n                <div class="row widget-line" ng-repeat="opp in widget.content.opportunities.slice(6)[$index]" >\n                  <div class="col-xs-6">\n                    {{opp.name}}\n                  </div>\n                  <div class="col-xs-6 text-right">\n                    {{getOpportunityAmount(opp) | mnoCurrency : getOpportunityCurrency(opp)}}\n                  </div>\n                </div>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/sales-growth.tmpl.html",'<div widget-sales-growth>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_growth.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_growth.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_growth.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div>\n\n      <div class="selector">\n        <div setting-param-selector classic="true" parent-widget="widget" param="product" options="productOptions" selected="product" no-reload on-select="widget.format()" deferred="::paramSelectorDeferred1"/>\n        <div ng-show="product.value != -1" setting-param-selector classic="true" parent-widget="widget" param="filter" options="filterOptions" selected="filter" deferred="::paramSelectorDeferred2"/>\n      </div>\n\n      <div class="chart-container" ng-hide="(product.value == -1)">\n        <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n      </div>\n\n      <div ng-show="product.value != -1" class="legend text-center">{{getSelectedProduct().displayName}}</div>\n      <div class="price text-center" ng-hide="isDataQuantity || product.value == -1" uib-tooltip="{{\'impac.widget.sales_growth.tooltip.total_for_period\' | translate}}">{{getCurrentValue() | mnoCurrency : getSelectedProduct().currency}}</div>\n      <div class="price text-center" ng-show="isDataQuantity && product.value != -1" uib-tooltip="{{\'impac.widget.sales_growth.tooltip.total_for_period\' | translate}}">{{getCurrentValue()}}</div>\n\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/sales-leads-funnel.tmpl.html",'<div widget-sales-leads-funnel>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_leads_funnel.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-params-picker options="statusOptions" param="status_selection" has-reach="hasReach" parent-widget="widget" class="part" deferred="::paramsPickerDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_leads_funnel.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_leads_funnel.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div class="row">\n\n      <div ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n        <div setting-width parent-widget="widget" min="6" max="12" class="settings width" deferred="::widthDeferred" />\n\n        <div class="legend">{{\'impac.widget.sales_leads_funnel.legend.your_leads\' | translate}} {{widget.content.from | momentDate : "sales/leads_funnel"}} {{\'impac.widget.sales_leads_funnel.legend.to\' | translate}} {{widget.content.to | momentDate : "sales/leads_funnel"}}</div>\n\n        <div class="funnel-container">\n          <div class="tile" ng-repeat="elem in funnel" ng-click="toggleSelectStatus(elem.status)">\n            <div class="colored-area" ng-style="elem.coloredWidth" ng-class="isSelected(elem.status) ? \'selected\' : \'\'">{{elem.number}}</div>\n            <div class="main-text" ng-style="elem.statusWidth">{{elem.status | titleize}}</div>\n          </div>\n        </div>\n      </div>\n\n      <div class="col-md-6 right-panel text-center" ng-show="widget.isExpanded()">\n\n        <div ng-hide="selectedStatus" class="currency" translate>impac.widget.sales_leads_funnel.select_a_status</div>\n\n        <div ng-show="selectedStatus" class="widget-lines-container">\n\n          <div class="row lines-group widget-line" ng-repeat="lead in getSelectedLeads()" uib-tooltip-html="leadDescriptionTooltips[$index]" tooltip-placement="top" tooltip-animation="false" tooltip-append-to-body="true" tooltip-class="impac-widgets-tooltip">\n            <div class="col-sm-7">\n              {{lead.first_name | titleize}} {{lead.last_name | titleize}}\n              <span ng-show="lead.organization">({{lead.organization}})</span>\n            </div>\n            <div class="col-sm-5 text-right">\n              <strong>{{lead.lead_status | titleize}}</strong>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/sales-leads-list.tmpl.html",'<div widget-sales-leads-list>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_leads_list.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_leads_list.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_leads_list.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div>\n\n      <div class="widget-lines-container">\n\n        <div class="row lines-group widget-line" ng-repeat="lead in widget.content.leads | orderBy:ordering" uib-tooltip-html="leadDescriptionTooltips[$index]" tooltip-placement="top" tooltip-animation="false" tooltip-append-to-body="true" tooltip-class="impac-widgets-tooltip">\n          <div class="col-sm-7">\n            {{lead.first_name | titleize}} {{lead.last_name | titleize}}\n            <span ng-show="lead.organization">({{lead.organization}})</span>\n          </div>\n          <div class="col-sm-5 text-right">\n            <strong>{{lead.lead_status | titleize}}</strong>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/sales-list.tmpl.html",'<div widget-sales-list>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_list.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_list.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_list.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div class="widget-lines-container no-scroll">\n      <div class="row widget-line header">\n        <div class="col-xs-12 text-center">\n          <span setting-dates-picker parent-widget="widget" from="widget.metadata.hist_parameters.from" to="widget.metadata.hist_parameters.to" keep-today="widget.metadata.hist_parameters.keep_today" deferred="::datesPickerDeferred" template="::datesPickerTemplate"/>\n        </div>\n      </div>\n      <div class="row widget-line header">\n        <div class="col-xs-4 text-left sortable-title" ng-click="sort(\'account\')">\n          {{\'impac.widget.sales_list.products\' | translate}}\n          <i ng-show="sortedColumn == \'account\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n        </div>\n        <div class="col-xs-4 text-center">\n          <span setting-param-selector parent-widget="widget" param="filter" options="filterOptions" selected="filter" deferred="::paramSelectorDeferred" />\n        </div>\n        <div class="col-xs-4 text-right sortable-title" ng-click="sort(\'total\')">\n          {{\'impac.widget.sales_list.total\' | translate}}\n          <i ng-show="sortedColumn == \'total\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n        </div>\n      </div>\n    </div>\n\n    <div class="widget-lines-container">\n\n      <div class="row lines-group" ng-repeat="company in widget.content.summary" >\n        <div class="col-xs-12">\n\n          <div class="row widget-line" >\n            <div class="col-xs-1" ng-click="toggleCollapsed(company.name)" style="cursor: pointer;">\n              <i class="fa" ng-class="isCollapsed(company.name) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'" />\n            </div>\n            <div class="col-xs-7">\n              <strong>{{company.name | titleize}}</strong>\n            </div>\n            <div class="col-xs-4 text-right" ng-show="{{filter.value.match(\'quantity\')}}">\n              <strong>{{company.total}}</strong>\n            </div>\n            <div class="col-xs-4 text-right" ng-hide="{{filter.value.match(\'quantity\')}}">\n              <strong>{{company.total | mnoCurrency : company.currency}}</strong>\n            </div>\n          </div>\n\n        <div class="row" uib-collapse="isCollapsed(company.name)">\n          <div class="col-xs-12">\n            <div class="row widget-line" ng-repeat="product in company.products" >\n              <div class="col-xs-7 col-xs-offset-1">\n                {{product.name | titleize}}\n              </div>\n              <div class="col-xs-4 text-right" ng-show="{{filter.value.match(\'quantity\')}}">\n                <strong>{{product.total}}</strong>\n              </div>\n              <div class="col-xs-4 text-right" ng-hide="{{filter.value.match(\'quantity\')}}">\n                <span common-currency-conversions fx-amounts="product.formattedFxTotals" base-currency="widget.metadata.currency" rates-date="ratesDate" />\n                <strong>{{product.total | mnoCurrency : product.currency}}</strong>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div ng-show="widget.demoData" common-data-not-found />\n</div>\n'),e.put("widgets/sales-margin.tmpl.html",'<div widget-sales-margin>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.sales_margin.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_margin.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_margin.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n    <div>\n      <div setting-hist-mode parent-widget= "widget" deferred="::histModeDeferred" />\n\n      <div ng-hide="widget.isHistoryMode" class="current">\n        <div class="price">\n           {{ getTotalMargin() | mnoCurrency : getCurrency()}}\n        </div>\n        <div class="legend">\n          {{\'impac.widget.sales_margin.total_sold_and_purchased\' | translate}}\n          </br>\n          <div setting-param-selector parent-widget="widget" param="filter" options="filterOptions" selected="filter" no-reload on-select="widget.format()" deferred="::paramSelectorDeferred" />\n        </div>\n      </div>\n\n      <div class="history chart-container" ng-show="widget.isHistoryMode">\n        <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n        <div class="legend" translate>impac.widget.sales_margin.total_sold_and_purchased</div>\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/sales-net-sales.tmpl.html",'<div widget-sales-net-sales>\n\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4 translate>impac.widget.sales_net_sales.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_net_sales.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_net_sales.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div class="row selector">\n      <div class="col-xs-12 text-right">\n        <span setting-param-selector parent-widget="widget" param="display_type" options="displayOptions" selected="displayType" no-reload="true" deferred="::paramSelector1Deferred" /> |\n        <span setting-param-selector parent-widget="widget" param="time_range" options="timeRangeOptions" selected="timeRange" deferred="::paramSelector2Deferred" />\n      </div>\n    </div>\n\n    <div>\n\n      <div class="row text-center values">\n        <div class="value-container col-md-3 col-md-offset-0 col-xs-10 col-xs-offset-2">\n          <div class="title" translate>impac.widget.sales_net_sales.title.sales</div>\n          <div class="value-box">\n            {{ getValue(\'sales\') }}\n          </div>\n        </div>\n        <div class="operator col-md-1 col-xs-2">\n          <span>{{ sign(\'minus\') }}</span>\n        </div>\n        <div class="value-container col-md-3 col-xs-10">\n          <div class="title" translate>impac.widget.sales_net_sales.title.returns</div>\n          <div class="value-box">\n            {{ getValue(\'returns\') }}\n          </div>\n        </div>\n        <div class="operator col-md-1 col-xs-2">\n          <span>{{ sign(\'equal\') }}</span>\n        </div>\n        <div class="value-container col-md-4 col-xs-10">\n          <div class="title" translate>impac.widget.sales_net_sales.title.net_result</div>\n          <div class="value-box">\n            {{ getValue(\'net_result\') }}\n          </div>\n        </div>\n      </div>\n\n  </div>\n\n  <div ng-show="widget.demoData" common-data-not-found />\n</div>\n'),e.put("widgets/sales-new-vs-existing-customers.tmpl.html",'<div widget-sales-new-vs-existing-customers>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_new_vs_existing.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_new_vs_existing.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_new_vs_existing.save</button>\n    </div>\n  </div>\n\n  <div align="center" ng-hide="widget.isEditMode">\n\n    <div class="selector">\n      <div class="selector-wrap">\n        <span setting-param-selector parent-widget="widget" param="display_type" options="displayOptions" selected="displayType" on-select="displayTypeOnClick()" no-reload="true" deferred="::displayTypeParamSelectorDeferred" />\n      </div>\n      <div class="selector-wrap">\n        <span setting-param-selector parent-widget="widget" param="time_range" options="timeRangeOptions" selected="timeRange" deferred="::timeRangeParamSelectorDeferred" />\n      </div>\n    </div>\n\n    <div class="chart-container">\n      <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n    </div>\n\n    <div class="legend">\n      <div class="row positive2">\n        <div class="col-xs-7 text-left" translate>impac.widget.sales_new_vs_existing.new_customers</div>\n        <div class="col-xs-5 text-right">{{getValue(\'new\')}}</div>\n      </div>\n      <div class="row negative2">\n        <div class="col-xs-7 text-left" translate>impac.widget.sales_new_vs_existing.existing_customers</div>\n        <div class="col-xs-5 text-right">{{getValue(\'existing\')}}</div>\n      </div>\n      <div class="row total">\n        <div class="col-xs-7 text-left" translate>impac.widget.sales_new_vs_existing.total</div>\n        <div class="col-xs-5 text-right">{{getValue(\'total\')}}</div>\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/sales-number-of-leads.tmpl.html",'<div widget-sales-number-of-leads>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_number_of_leads.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_number_of_leads.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_number_of_leads.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div class="align-center">\n      <div class="selector">\n        {{\'impac.widget.sales_number_of_leads.leads_for_this\' | translate}} <span setting-param-selector parent-widget="widget" param="period" options="periodOptions" selected="period" deferred="::paramSelectorDeferred" />\n      </div>\n\n      <div class="stats">\n        <div class="stat row align-left" ng-repeat="carac in [\'new\', \'converted\', \'lost\']">\n          <div class="col-md-6 title" style="padding: 0px;">{{carac | titleize}}</div>\n          <div class="col-md-6" style="padding: 0px;">\n            <span class="variation" ng-class="formatNumberOfLeads(carac).color">{{formatNumberOfLeads(carac).variation}}</span>\n            <span class="nominal">{{formatNumberOfLeads(carac).nominal}}</span>\n          </div>\n        </div>\n      </div>\n\n      <div class="legend">\n      {{widget.content.number_of_leads.total[1]}} {{\'impac.widget.sales_number_of_leads.leads_in_total\' | translate}}\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/sales-opportunities-funnel.tmpl.html",'<div widget-sales-opportunities-funnel>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_funnel.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-params-picker options="statusOptions" has-reach="hasReach" param="sales_stage_selection" parent-widget="widget" class="part" deferred="::paramsPickerDeferred1" />\n    <div setting-params-picker options="assigneesOptions" has-reach="hasReach" param="assignees_selection" parent-widget="widget" class="part" deferred="::paramsPickerDeferred2" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_funnel.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_funnel.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div class="row">\n\n      <div ng-class="widget.isExpanded() ? \'col-md-6\': \'col-md-12\'">\n        <div setting-width parent-widget="widget" min="6" max="12" class="settings width" deferred="::widthDeferred" />\n\n        <div class="legend" translate>impac.widget.sales_funnel.legend</div>\n\n        <div class="funnel-container">\n          <div class="tile" ng-repeat="elem in funnel" ng-click="toggleSelectStatus(elem.status)">\n            <div class="colored-area" ng-style="elem.coloredWidth" ng-class="isSelected(elem.status) ? \'selected\' : \'\'">{{elem.number}}</div>\n            <div class="main-text" ng-style="elem.statusWidth">{{elem.status | titleize}}</div>\n          </div>\n        </div>\n      </div>\n\n      <div class="col-md-6 right-panel text-center" ng-show="widget.isExpanded()">\n\n        <div ng-hide="selectedStatus" class="currency" translate>impac.widget.sales_funnel.select_a_sales</div>\n\n        <div ng-show="selectedStatus" class="widget-lines-container">\n\n          \x3c!-- Header --\x3e\n          <div class="row widget-line header">\n            <div class="col-xs-6 sortable-title" ng-click="sort(\'group\')">\n              {{\'impac.widget.sales_funnel.assignees_opportunities\' | translate}}\n              <i ng-show="sortedColumn == \'group\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n            <div class="col-xs-6 text-right sortable-title" ng-click="sort(\'total\')">\n              {{\'impac.widget.sales_funnel.potential_per_assignee\' | translate}}\n              <i ng-show="sortedColumn == \'total\'" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </div>\n          </div>\n\n          <div class="row lines-group widget-line" ng-repeat="group in selectedOpportunities">\n            <div class="col-xs-12">\n\n              \x3c!-- Assignee lines --\x3e\n              <div class="row widget-line" ng-click="toggleCollapsed(group)">\n                <div class="col-xs-1">\n                  <i class="fa" ng-class="isCollapsed(group) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'" />\n                </div>\n                <div class="col-xs-6">\n                  <strong>{{group.assigneeName | titleize}}</strong>\n                </div>\n                <div class="col-xs-5 text-right">\n                  <strong>{{getTotal(group.opps)}}</strong>\n                </div>\n              </div>\n\n              \x3c!-- Opportunity lines --\x3e\n              <div class="row" uib-collapse="isCollapsed(group)">\n                <div class="col-xs-12">\n                  <div class="row widget-line" ng-repeat="opp in group.opps">\n                    <div class="col-xs-6 col-xs-offset-1">\n                      {{opp.name | titleize}}\n                    </div>\n                    <div class="col-xs-5 text-right">\n                      <strong>{{getOppDetails(opp)}}</strong>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),
e.put("widgets/sales-performance.tmpl.html",'<div widget-sales-performance>\n\n  \x3c!-- Edit panel --\x3e\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_performance.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred"></div>\n\n    <div setting-params-picker options="closedWonOptions" param="closed_won_selection" parent-widget="widget" class="part" deferred="::paramsWinsPickerDeferred" description="{{\'impac.widget.sales_performance.description.pick_the_status\' | translate}}"></div>\n\n    <div setting-params-picker options="closedLostOptions" param="closed_lost_selection" parent-widget="widget" class="part" deferred="::paramsLostsPickerDeferred" description="{{\'impac.widget.sales_performance.description.pick_the_status_lost\' | translate}}"></div>\n\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" ></div>\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_performance.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_performance.save</button>\n    </div>\n  </div>\n\n\n  \x3c!-- Widget front --\x3e\n  <div ng-hide="widget.isEditMode">\n\n    <div class="row">\n\n      <div ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n        <div setting-width parent-widget="widget" min="6" max="12" class="settings width" deferred="::widthDeferred"></div>\n\n        <div class="widget-lines-container">\n          <div class="row widget-line header">\n            <div class="col-xs-5">\n              {{\'impac.widget.sales_performance.from\' | translate}} {{widget.content.dates[0] | momentDate : widget.metadata.hist_parameters.period}} {{\'impac.widget.sales_performance.to\' | translate}} {{widget.content.dates[widget.content.dates.length - 1] | momentDate : widget.metadata.hist_parameters.period}}\n            </div>\n            <div class="col-xs-3 text-right" translate>impac.widget.sales_performance.win_ratio</div>\n            <div class="col-xs-4 text-right" translate>impac.widget.sales_performance.total_won</div>\n          </div>\n\n          <div class="row lines-group" ng-repeat="assignee in widget.content.assignees" ng-click="toggleSelectedElement(assignee)" >\n            <div class="col-xs-12">\n              <div class="row widget-line">\n                <div class="col-xs-5">{{assignee.name | titleize}}</div>\n                <div class="col-xs-3 text-right">{{assignee.win_ratio}} %</div>\n                <div class="col-xs-4 text-right">{{assignee.total_won | mnoCurrency: widget.metadata.currency}}</div>\n                <div class="selection-tag" ng-if="isSelected(assignee)" ng-style="{ \'background-color\': getSelectLineColor(assignee) }"/>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="col-md-6 right-panel text-center" ng-show="widget.isExpanded()">\n\n        <div ng-hide="selectedElements.length > 0" class="no-element" translate>impac.widget.sales_performance.select_an_employee</div>\n\n        <div ng-show="no_sales_stages_selected()" class="no-element" translate>impac.widget.sales_performance.pick_the_status</div>\n\n        <div ng-show="selectedElements.length > 0 && !no_sales_stages_selected()">\n          <div class="chart-container">\n            <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n            <div class="legend">{{\'impac.widget.sales_performance.total_won_with_colon\' | translate}} {{getTotalWon() | mnoCurrency : widget.metadata.currency}}</div>\n          </div>\n\n          <div class="widget-lines-container" ng-init="collapsedAll=false">\n            <div ng-repeat="selectedElement in selectedElements track by $index">\n              <div class="row widget-line header" ng-click="collapsedAll=!collapsedAll">\n                <div class="col-xs-8">\n                  <i class="fa fa-circle" ng-style="{ \'color\': getElementChartColor($index) }"></i>\n                  {{selectedElement.name | titleize}}\n                </div>\n                <div class="col-xs-4 text-right">{{selectedElement.total_won | mnoCurrency: widget.metadata.currency}}</div>\n              </div>\n\n              <div uib-collapse="collapsedAll">\n                <div class="row lines-group" ng-init="collapsedForecast=false" ng-hide="selectedElement.opps.forecast.length == 0" >\n                  <div class="col-xs-12">\n                    <div class="row widget-line" ng-click="collapsedForecast=!collapsedForecast">\n                      <div class="col-xs-10">\n                        <strong translate>impac.widget.sales_performance.forecast</strong>\n                      </div>\n                      <div class="col-xs-2 text-right">\n                        <strong>{{selectedElement.opps.forecast.length}}</strong>\n                      </div>\n                    </div>\n\n                    <div class="row" uib-collapse="collapsedForecast">\n                      <div class="col-xs-12">\n                        <div class="row widget-line no-select" ng-repeat="opp in selectedElement.opps.forecast" >\n                          <div class="col-xs-4">{{opp.name}}</div>\n                          <div class="col-xs-2 text-right">{{opp.probability | number :0 }} %</div>\n                          <div class="col-xs-3 text-right">{{getForecastCloseDate(opp)}}</div>\n                          <div class="col-xs-3 text-right">{{(opp.amount.amount) | mnoCurrency : opp.amount.currency}}</div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div class="row lines-group" ng-init="collapsedWon=false">\n                  <div class="col-xs-12">\n                    <div class="row widget-line" ng-click="collapsedWon=!collapsedWon">\n                      <div class="col-xs-10">\n                        <strong translate>{{\'impac.widget.sales_performance.closed_won\' | translate}}</strong>\n                      </div>\n                      <div class="col-xs-2 text-right">\n                        <strong>{{selectedElement.opps.won.length}}</strong>\n                      </div>\n                    </div>\n\n                    <div class="row" uib-collapse="collapsedWon">\n                      <div class="col-xs-12">\n                        <div class="row widget-line no-select" ng-repeat="opp in selectedElement.opps.won">\n                          <div class="col-xs-6">{{opp.name}}</div>\n                          <div class="col-xs-3 text-right">{{getCloseDate(opp)}}</div>\n                          <div class="col-xs-3 text-right">{{opp.amount.amount | mnoCurrency : opp.amount.currency}}</div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div class="row lines-group" ng-init="collapsedLost=false">\n                  <div class="col-xs-12">\n                    <div class="row widget-line" ng-click="collapsedLost=!collapsedLost">\n                      <div class="col-xs-10">\n                        <strong translate>impac.widget.sales_performance.closed_lost</strong>\n                      </div>\n                      <div class="col-xs-2 text-right">\n                        <strong>{{selectedElement.opps.lost.length}}</strong>\n                      </div>\n                    </div>\n\n                    <div class="row" uib-collapse="collapsedLost">\n                      <div class="col-xs-12">\n                        <div class="row widget-line no-select" ng-repeat="opp in selectedElement.opps.lost" >\n                          <div class="col-xs-6">{{opp.name}}</div>\n                          <div class="col-xs-3 text-right">{{getCloseDate(opp)}}</div>\n                          <div class="col-xs-3 text-right">{{opp.amount.amount | mnoCurrency : opp.amount.currency}}</div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n</div>\n'),e.put("widgets/sales-segmented-turnover.tmpl.html",'<div widget-sales-segmented-turnover>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_turnover.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_turnover.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_turnover.save</button>\n    </div>\n  </div>\n\n  <div align="center" ng-hide="widget.isEditMode">\n\n    <div class="row">\n      <div ng-class="widget.isExpanded() ? \'col-md-6\' : \'col-md-12\'">\n        <div setting-width parent-widget="widget" min="3" max="6" class="settings width" deferred="::widthDeferred"></div>\n\n        <div class="selector">{{\'impac.widget.sales_turnover.filter\' | translate}} <span setting-param-selector parent-widget="widget" param="filter" options="filterOptions" selected="filter" deferred="::paramSelectorDeferred"/></div>\n        <div class="chart-container">\n          <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n        </div>\n\n        <div class="widget-lines-container">\n\n          <div class="row widget-line header">\n            <div class="col-xs-12" translate>impac.widget.sales_turnover.average_price</div>\n          </div>\n\n          <div class="row widget-line" ng-repeat="range in widget.content.ranges">\n            <div class="col-xs-2">\n              <i class="fa fa-circle" ng-style="{ \'color\': getColorByIndex($index) }" />\n            </div>\n            <div class="col-xs-7">\n              {{getRangeLabel(range.label)}}\n            </div>\n            <div class="col-xs-3 text-right">\n              <i>{{range.percentage}}%</i>\n            </div>\n          </div>\n        </div>\n\n      </div>\n\n      <div class="col-md-6 right-panel" ng-show="widget.isExpanded()">\n        <i class="fa fa-info-circle" uib-tooltip="{{\'impac.widget.sales_turnover.tooltip.widget_segment\' | translate}}" />\n        <h3>{{getMaxRange().percentage.toFixed()}}% {{\'impac.widget.sales_turnover.of_your_revenue\' | translate}} {{getMaxRange().label.split(\'-\')[0] | mnoCurrency : widget.content.currency}} {{\'impac.widget.sales_turnover.and\' | translate}} {{getMaxRange().label.split(\'-\')[1] | mnoCurrency : widget.content.currency}}.</h3>\n        <div class=\'analysis hidden-md\'>{{::analysisTranslate}}</div>\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/sales-summary.tmpl.html",'<div widget-sales-summary>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_summary.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-chart-filters parent-widget="widget" class="part" deferred="::chartFiltersDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_summary.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_summary.save</button>\n    </div>\n  </div>\n\n  <div align="center" ng-hide="widget.isEditMode">\n\n    <div class="selector">\n      <span setting-param-selector parent-widget="widget" param="filter" options="filterOptions" selected="filter" deferred="::paramSelectorDeferred" />\n      <span setting-dates-picker parent-widget="widget" from="widget.metadata.hist_parameters.from" to="widget.metadata.hist_parameters.to" keep-today="widget.metadata.hist_parameters.keep_today" deferred="::datesPickerDeferred" template="::datesPickerTemplate"/>\n    </div>\n\n    <div class="chart-container">\n      <div impac-chart draw-trigger="::drawTrigger.promise" deferred="::chartDeferred"></div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/sales-top-customers.tmpl.html",'<div widget-sales-top-customers>\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_top_customers.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-dates-picker parent-widget="widget" class="part" from="(widget.metadata.hist_parameters.from || defaultFrom)" to="(widget.metadata.hist_parameters.to || defaultTo)" keep-today="widget.metadata.hist_parameters.keep_today" deferred="::datesPickerDeferred"/>\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_top_customers.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_top_customers.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode" class="widget-lines-container">\n\n    <div class="row selector">\n      <div class="col-xs-12 text-right">\n        <a ng-click="toggleTransactions()">{{transactionsCollapsed ? \'impac.widget.sales_top_customers.show\' : \'impac.widget.sales_top_customers.hide\' | translate}} {{\'impac.widget.sales_top_customers.details\' | translate}}</a> |\n        <div setting-param-selector parent-widget="widget" param="limit_entries" options="limitEntriesOptions" selected="limitEntriesSelected" class="param-selector" deferred="::paramSelectorDeferred" no-reload/>\n      </div>\n    </div>\n\n    \x3c!-- Header line --\x3e\n    <div class="row widget-line header">\n      <div class="col-xs-1">\n        #\n      </div>\n      <div class="col-xs-7" translate>impac.widget.sales_top_customers.customer_name</div>\n      <div class="col-xs-4 text-right">\n        <div setting-param-selector parent-widget="widget" param="header" options="headerOptions" selected="headerSelected" class="param-selector" deferred="::paramSelectorDeferred" no-reload />\n      </div>\n    </div>\n\n    \x3c!-- Content lines --\x3e\n    <div class="row lines-group" ng-repeat="entity in getEntities() | limitTo: limitEntriesSelected.value">\n      <div class="col-xs-12">\n\n        <div class="row widget-line">\n          <div class="col-xs-2">\n            {{$index + 1}}\n          </div>\n          <div class="col-xs-6">\n            <b>{{entity.name}}</b>\n          </div>\n          <div class="col-xs-4 text-right">\n            <b ng-if="getHeaderField().showCurrency">\n              <span common-currency-conversions fx-amounts="getHeaderField().getFormattedFxTotals(entity)" base-currency="widget.metadata.currency" rates-date="ratesDate" />\n              {{ getHeaderField().getValue(entity) | mnoCurrency : entity.currency }}\n            </b>\n            <b ng-if="!getHeaderField().showCurrency">\n              {{ getHeaderField().getValue(entity) }}\n            </b>\n          </div>\n        </div>\n\n        <div class="row widget-line sub-line" uib-collapse="transactionsCollapsed">\n          <div class="col-xs-4" ng-repeat="field in getRemainingFields() track by $index" ng-class="{\'text-center\': ($index==1), \'text-right\': ($index==2)}" >\n            <i ng-if="field.showCurrency">\n              {{field.label}}: {{field.getValue(entity) | mnoCurrency : entity.currency}}\n              <span common-currency-conversions fx-amounts="field.getFormattedFxTotals(entity)" base-currency="widget.metadata.currency" rates-date="ratesDate" />\n            </i>\n            <i ng-if="!field.showCurrency">{{field.label}}: {{field.getValue(entity)}}</i>\n          </div>\n        </div>\n\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets/sales-top-opportunities.tmpl.html",'<div widget-sales-top-opportunities>\n\n  <div class="edit" ng-show="widget.isEditMode">\n    <h4 translate>impac.widget.sales_opportunities.settings.title</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()" translate>impac.widget.sales_opportunities.cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()" translate>impac.widget.sales_opportunities.save</button>\n    </div>\n  </div>\n\n  <div ng-hide="widget.isEditMode">\n\n    <div>\n\n      <div class="legend">\n        {{\'impac.widget.sales_opportunities.total_potential\' | translate}} <b>{{widget.content.total_potential | mnoCurrency : widget.content.currency || "AUD"}}</b> - <b>{{widget.content.eligible_opportunities}}</b> {{\'impac.widget.sales_opportunities.eligible_opportunities\' | translate}}\n      </div>\n\n      <div class="opps-container">\n        <div class="tile" ng-repeat="opp in widget.content.opportunities track by $index" ng-class="getOppClass($index)">\n          <div class="colored-area">{{$index +1 }}</div>\n          <div class="main-text">\n            {{opp.name | titleize}}\n            <br />\n            <i style="font-size: 13px;">{{getOppDetails(opp)}}</i>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n</div>\n'),e.put("widgets-common/chart-threshold.tmpl.html",'<div class="attach-panel" ng-if="$ctrl.showPanel">\n  <div class="attach-panel-text">\n    <span class="panel-text-label">{{$ctrl.kpiCreateLabel}}: </span>\n    <input type="text" class="panel-text-input" ng-model="$ctrl.draftTarget.value">\n    <span class="panel-text-currency" ng-bind="$ctrl.widget.metadata.currency"></span>\n  </div>\n  <div class="action-buttons">\n    <button class="btn btn-default" ng-click="$ctrl.cancelCreateKpi()" ng-disabled="$ctrl.loading">Cancel</button>\n    <button class="btn btn-primary" ng-class="{\'loading\': $ctrl.loading}" ng-click="$ctrl.saveKpi()">\n      <i ng-show="$ctrl.loading" class="fa fa-spinner fa-spin" aria-hidden="true"></i>\n      <span ng-hide="$ctrl.loading">{{$ctrl.isEditingKpi ? \'Update\' : \'Save\'}}</span>\n    </button>\n    <button ng-if="$ctrl.isEditingKpi" class="btn btn-danger" ng-class="{\'loading\': $ctrl.loading}" ng-click="$ctrl.deleteKpi()">\n      <i ng-show="$ctrl.loading" class="fa fa-spinner fa-spin" aria-hidden="true"></i>\n      <span ng-hide="$ctrl.loading">Delete</span>\n    </button>\n  </div>\n</div>\n'),e.put("widgets-common/currency-conversions.tmpl.html",'<span class="currency-conversions" ng-if="fxAmounts">\n  <img ng-src="{{currencyConversionsIcon}}" uib-popover-template="\'details-popover.tmpl.html\'" popover-class="currency-conversions" popover-title="{{popoverTitle}}" popover-trigger="\'mouseenter\'" popover-append-to-body="true" />\n</span>\n\n\x3c!-- ui.bootstrap popover template --\x3e\n<script type="text/ng-template" id="details-popover.tmpl.html">\n  <p ng-if="fxAmounts.length > 1">This value includes amounts that have been converted to {{ baseCurrency }} from different currencies:</p>\n  <p ng-if="fxAmounts.length == 1">This value includes one amount that has been converted to {{ baseCurrency }} from a different currency:</p>\n  \n  <table class="table">\n    <tr>\n      <th>Original amount</th>\n      <th>Rate</th>\n    </tr>\n    <tr ng-repeat="fx in fxAmounts">\n      <td>{{ fx.amount | mnoCurrency : fx.currency }}</td>\n      <td>{{ fx.rate }}</td>\n    </tr>\n  </table>\n\n  <p ng-if="fxAmounts.length > 1">The rates used correspond to those for {{ formattedRatesDate }}.</p>\n  <p ng-if="fxAmounts.length == 1">The rate used corresponds to the rate for {{ formattedRatesDate }}.</p>\n<\/script>\n'),e.put("widgets-common/editable-title.tmpl.html",'<div ng-hide="disabled" class="hidden-xs hidden-sm title" editable-text="parentWidget.name" onaftersave="updateName()" onshow="onToggle()" onhide="onToggle()" uib-tooltip="{{ getTooltip() }}" tooltip-placement="top-left">\n  {{ parentWidget.name }}\n</div>\n\n<div ng-show="disabled" class="hidden-xs hidden-sm title" uib-tooltip="{{ getTooltip() }}" tooltip-placement="top-left">\n  {{ parentWidget.name }}\n</div>\n\n\x3c!-- Can\'t edit widget title on mobile --\x3e\n<div class="visible-xs visible-sm title">\n  {{ parentWidget.name }}\n</div>\n'),e.put("widgets-common/info-panel.tmpl.html",'<div class="info-panel">\n\n  <div class="i-header text-center">\n    <i class="fa fa-info-circle" />\n    <i class="fa fa-times-circle" ng-click="toggleInfoPanel()" />\n    {{\'impac.widget.info_panel.information\' | translate}} <b>{{ getWidgetTemplateName() | titleize }}</b>\n  </div>\n\n  <div class="i-content text-left">\n    <div class="row text-left" ng-repeat="i in parentWidget.content.info">\n\n      <div class="col-md-3 key">\n        {{i.key}}\n      </div>\n\n      <div class="col-md-9 value">\n        {{i.value}}\n      </div>\n\n    </div>\n  </div>\n\n</div>\n'),e.put("widgets-common/time-period-info.tmpl.html",'<div class="time-period-info text-center" ng-if="context">\n  {{date}}\n</div>\n'),e.put("widgets-common/top-buttons.tmpl.html",'  <div class="top-buttons">\n  <div class="top-buttons-wrapper">\n\n    <button class="btn top-button btn-info" ng-if="hasInfo()" ng-click="onToggleInfoPanel()">\n      <i class="fa fa-info-circle"></i>\n      <span class="text-hide" translate>impac.widget.common.top_buttons.info_popup.info</span>\n    </button>\n\n    <button class="btn top-button btn-refresh" ng-click="onRefresh({refreshCache: true})">\n      <i class="fa fa-refresh"></i>\n      <span class="text-hide" translate>impac.widget.common.top_buttons.info_popup.refresh</span>\n    </button>\n\n    <button class="btn top-button btn-edit" ng-click="toggleEditMode()" ng-show="userAccesses.widgets.update" ng-class="{\'edit-mode\': parentWidget.isEditMode}">\n      <i class="fa fa-cog fa-lg"></i>\n      <span class="text-hide" translate>impac.widget.common.top_buttons.info_popup.edit</span>\n    </button>\n\n    <button class="btn top-button btn-close" ng-click="onToggleDeleteWidget()" ng-show="userAccesses.widgets.destroy">\n      <i class="fa fa-times-circle-o fa-lg"></i>\n      <span class="text-hide" translate>impac.widget.common.top_buttons.info_popup.delete</span>\n    </button>\n  </div>\n</div>\n'),e.put("widgets-layouts/table.tmpl.html",'\x3c!--\n  Component generated by Impac! Widget Generator!\n--\x3e\n<div widget-table class="table-layout">\n  \x3c!-- Settings Panel --\x3e\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n    <div setting-time-period parent-widget="widget" class="part" deferred="::timePeriodDeferred" hist-params="widget.metadata.hist_parameters" />\n\n    \x3c!-- Buttons displayed on the lower  --\x3e\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()">Cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()">Save</button>\n    </div>\n  </div>\n\n  \x3c!-- Content Panel --\x3e\n  <div ng-hide="widget.isEditMode">\n    <div ng-hide="widget.demoData" class="widget-lines-container">\n      \x3c!-- Widget Header --\x3e\n      <div class="row header widget-line">\n        <div class="col-md-6 text-left"></div>\n        <div class="col-md-6 text-right">\n          <div common-time-period-info context="timePeriodInfoParams" />\n        </div>\n      </div>\n\n      \x3c!-- Table Layout --\x3e\n      <table id="table-layout">\n        <thead>\n          <tr>\n            <th width="{{colWidth}}" ng-repeat="cell in table.headers.cells" ng-click="sort(cell, $index)">\n              <span ng-bind="cellValue(cell)"></span>\n              <i ng-show="sortedColumn == cell" class="fa" ng-class="ascending ? \'fa-sort-alpha-asc\' : \'fa-sort-alpha-desc\'" />\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="groupedTable in table.rows.grouped">\n            <td class="nested-table" colspan="{{colSize}}" ng-include="\'grouped-table.tmpl.html\'"></td>\n          </tr>\n          <tr ng-repeat="row in table.rows.single">\n            <td ng-repeat="cell in row.cells" ng-bind="cellValue(cell)"></td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n</div>\n\n<script type="text/ng-template" id="grouped-table.tmpl.html">\n  <table>\n    <thead>\n      <tr>\n        <th width="{{colWidth}}" ng-repeat="cell in groupedTable.headers.cells" ng-click="toggleCollapsed(groupedTable, $event)" indent-table-row>\n          <i class="fa" ng-if="$first" ng-class="isCollapsed(groupedTable) ? \'fa-plus-square-o\' : \'fa-minus-square-o\'" />\n          <strong ng-bind="cellValue(cell)"></strong>\n        </th>\n      </tr>\n    </thead>\n    <tbody uib-collapse="isCollapsed(groupedTable)">\n      <tr ng-repeat="groupedTable in groupedTable.rows.grouped">\n        <td class="nested-table" colspan="{{colSize}}" ng-include="\'grouped-table.tmpl.html\'"></td>\n      </tr>\n      <tr ng-repeat="row in groupedTable.rows.single">\n        <td ng-repeat="cell in row.cells" indent-table-row ng-bind="cellValue(cell)"></td>\n      </tr>\n    </tbody>\n  </table>\n<\/script>\n'),e.put("widgets-settings/account.tmpl.html",'<h5 ng-if="showLabel">{{label}}</h5>\n<div class="input-group settings select-account">\n\t<select ng-model="parentWidget.selectedAccount" ng-change="onAccountSelected()" ng-options="formatLabel(account) group by account.classification for account in parentWidget.content.account_list track by account.uid" class="form-control" />\n</div>\n'),e.put("widgets-settings/accounting-behaviour.tmpl.html",'<h5 translate>impac.widget.settings.account.label.accounting_behaviour</h5>\n<div class="settings accounting-behaviour">\n\n<div class="row">\n  <div class="col-md-12 text-center">\n    <div class="btn-group">\n      <label class="btn btn-primary" ng-model="selectedBehaviour" uib-btn-radio="\'bls\'" translate>impac.widget.settings.accounting_behaviour.balance_sheet</label>\n      <label class="btn btn_primary" ng-model="selectedBehaviour" uib-btn-radio="\'pnl\'" translate>impac.widget.settings.accounting_behaviour.p_and_l</label>\n    </div>\n  </div>\n</div>\n\n</div>\n'),e.put("widgets-settings/attach-kpis.tmpl.html",'<div class="settings attach-kpis">\n\n  <div class="attach-kpi">\n    <h5 translate>impac.widget.settings.attach_kpis.attach_an_alert</h5>\n    <form name="attachKpiForm" class=\'attach-kpi-form\'>\n      \x3c!-- <div class="row nomargin">\n        <select class="form-control input-sm" ng-model="kpi.endpoint" ng-options="kpi.endpoint as formatKpiName(kpi.endpoint) for kpi in availableKpis" ng-change="selectKpi()"></select>\n      </div>\n      <div class="row nomargin">\n        <div class="extra-params" ng-repeat="(param, paramValues) in kpi.possibleExtraParams track by $index">\n          <select class="form-control input-sm" name="{{param}}" ng-model="kpi.extra_params[param]" ng-options="value.id as value.label for value in paramValues" ng-init="kpi.extra_params[param] = paramValues[0].id"></select>\n        </div>\n      </div> --\x3e\n      <div class="row nomargin kpi-description">\n        \x3c!-- TODO: support for multiple extra params, and watchables. --\x3e\n        {{\'impac.widget.settings.attach_kpis.keep_the\' | translate}} {{elementWatched}} <span ng-if="showExtraParam">{{\'impac.widget.settings.attach_kpis.of\' | translate}} {{extraParams[selectedParam].name}}</span>:\n      </div>\n      <div class="row nomargin">\n        <div class="col-xs-5 nopadding">\n          <select class="pull-left form-control input-sm" ng-model="kpi.limit.mode" ng-options="option.mode as option.label for option in possibleTargets" ></select>\n        </div>\n        <div class="form-group col-xs-5 nopadding nomargin" ng-class="attachKpiForm.limitValue.$valid ? \'has-success\' : \'has-error\'">\n          <input name="limitValue" type="text" pattern="-?[0-9]+" class="form-control input-sm attach-target" ng-model="kpi.limit.value" required>\n          \x3c!-- TODO: return possible units from API? --\x3e\n          \x3c!-- <span class="form-control-feedback" aria-hidden="true">{{kpi.data.unit}}</span> --\x3e\n          <div class="error-messages limit" ng-messages="attachKpiForm.limitValue.$error">\n            <span ng-message="required" translate>impac.widget.settings.attach_kpis.kpi_target_require</span>\n            <span ng-message="pattern" translate>impac.widget.settings.attach_kpis.kpi_target_number</span>\n          </div>\n        </div>\n        <div class="col-xs-2 nopadding">\n          <button class="btn btn-primary input-sm" ng-click="attachKpi()" ng-disabled="!hasValidTarget()"><i class="fa fa-plus"></i></button>\n        </div>\n      </div>\n    </form>\n  </div>\n\n  <div class="list-group attached-kpis" ng-show="attachedKpis.length">\n    <h5 translate>impac.widget.settings.attach_kpis.attached_alerts</h5>\n    <div class="list-group-item clearfix attached-kpi" ng-repeat="kpi in attachedKpis track by $index">\n      <div class="attached-kpi-name">{{\'impac.widget.settings.attach_kpis.keep\' | translate}} {{formatAttachedKpiTitle(kpi) | titleize}}</div>\n      <div class="pull-right actions">\n        <alerts-config kpi="kpi"></alerts-config>\n        <div class="remove-attached-kpi" ng-click="deleteKpi(kpi)">\n          <i class="fa fa-times"></i>\n        </div>\n      </div>\n    </div>\n  </div>\n\n</div>\n'),e.put("widgets-settings/bolt-account.tmpl.html",'<h5 ng-if="showLabel">{{label}}</h5>\n<div class="input-group settings select-account">\n\t<select ng-model="parentWidget.selectedAccount" ng-change="onAccountSelected()" ng-options="formatLabel(account) for account in parentWidget.accountList track by account.name" class="form-control">\n\t</select>\n</div>\n'),
e.put("widgets-settings/chart-filters.tmpl.html",'<div class="settings chart-filters">\n  <h5 translate>impac.widget.settings.chart_filters.title</h5>\n  <div class="row">\n    <div class="col-md-6">\n      <input type="radio" ng-model="filterCriteria" value="number">\n      <label for="number" ng-click="filterCriteria = \'number\'" translate="impac.widget.settings.chart_filters.filter_number" translate-values="{number: filterValueNumber, entityType: entityType}"></label>\n    </div>\n    <div class="col-md-6">\n      <input type="range" ng-model="filterValueNumber" ng-change="filterCriteria = \'number\'" min="3" max="{{maxEntities}}" step="1">\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-6">\n      <input type="radio" ng-model="filterCriteria" value="percentage">\n      <label for="percentage" ng-click="filterCriteria = \'percentage\'" translate="impac.widget.settings.chart_filters.filter_percentage" translate-values="{percentage: filterValuePercentage, entityType: filterLabel}"></label>\n    </div>\n    <div class="col-md-6">\n      <input type="range" ng-model="filterValuePercentage" ng-change="filterCriteria = \'percentage\'" min="20" max="100" step="5">\n    </div>\n  </div>\n</div>\n'),e.put("widgets-settings/dates-picker.tmpl.html",'<span class="settings dates-picker">\n  <h5 ng-if="showTitle()" translate>impac.widget.settings.dates_picker.title</h5>\n  <span id="template-container" />\n</span>\n'),e.put("widgets-settings/hist-mode.tmpl.html",'<div class="settings hist-mode-choser">\n  <div common-time-period-info context="forwardParams" />\n\n  <div align="center" class="options" ng-show="!parentWidget.isLiveBalance">\n    <a ng-click="toggleHistMode(\'current\')" ng-class="!parentWidget.isHistoryMode ? \'active\' : \'inactive\'">{{currentLabel}} </a> |\n    <a ng-click="toggleHistMode(\'history\')" ng-class="parentWidget.isHistoryMode ? \'active\' : \'inactive\'" translate>impac.widget.settings.hist.history</a>\n  </div>\n\n  <div class="{{parentWidget.isHistoryMode ? \'arrow-container right\' : \'arrow-container left\'}}" ng-show="!parentWidget.isLiveBalance">\n    <div class="arrow" />\n    <div class="arrow-border" />\n  </div>\n</div>\n'),e.put("widgets-settings/limit-entries.tmpl.html",'<div class="settings limit-entries">\n  {{ (entriesLabel ? \'impac.widget.settings.limit_entries.top\' : \'impac.widget.settings.limit_entries.display\') | translate }}\n\n  <span ng-repeat="option in options | filter:isOptionValid:option track by $index">\n    {{ $index!=0 ? \' |\' : \'\' }} \n    <a target=\'#\' ng-click="selectOption(option)" class="option" ng-class="{badge: option==selected}">{{ option }}</a>\n  </span>\n\n  <span ng-if="max">\n    | \n    <a target=\'#\' ng-click="selectOption(max)" class="option" ng-class="{badge: (!selected || selected==max)}">{{ max }}</a>\n  </span>\n\n   {{entriesLabel || (\'impac.widget.settings.limit_entries.entries\' | translate)}}\n</div>'),e.put("widgets-settings/offsets.tmpl.html",'<div class="settings offsets">\n  <div ng-repeat="offsetValue in offsets track by $index" class="offset-value text-right">\n    <i class="fa fa-trash-o pull-left" ng-click="removeOffset($index)" title="Remove offset"/>\n    + <span ng-if="showIntervalsMult">{{ intervalsCount }} {{ periodWord }}{{ intervalsCount > 1 ? \'s\' : \'\' }} x </span>{{ offsetValue | mnoCurrency : currency}}\n  </div>\n\n  <div class="form-group">\n    <button class="btn btn-sm btn-success" ng-click="addOffset()" title="Add offset">\n      <i class="fa fa-plus" />\n    </button>\n    <input type="text" class="form-control input-sm pull-right text-right" placeholder="{{ placeholder }}" ng-model="offsetFormula" ng-keyup="addOffsetOnEnter($event)">\n  </div>\n</div>\n'),e.put("widgets-settings/organizations.tmpl.html",'<div class="settings organizations">\n  <h5 translate>impac.widget.settings.organizations.select_companies</h5>\n\n  <div class="widget-lines-container">\n    <div class="widget-line" ng-repeat="org in dashboardOrganizations">\n      {{org.label}}\n      <i ng-show="multiOrgMode()" ng-class="isOrganizationSelected(org.uid) ? \'fa fa-toggle-on\' : \'fa fa-toggle-off\'" ng-click="toggleSelectOrganization(org.uid)" uib-tooltip="{{isOrganizationSelected(org.uid) ? \'disable\' : \'enable\'}}" tooltip-append-to-body="true" />\n\n      <i ng-show="singleOrgMode()" ng-class="isOrganizationSelected(org.uid) ? \'fa fa-check-circle\' : \'fa fa-circle-thin\'" ng-click="toggleSelectOrganization(org.uid)" />\n    </div>\n  </div>\n</div>\n'),e.put("widgets-settings/param-selector-classic.tmpl.html",'<span class="settings param-selector classic" ng-if="selected != undefined">\n  <select ng-options="option as option.label for option in options track by option.value" ng-model="$parent.selectedOption" ng-change="selectOption(selectedOption)" ng-init="onInit()">\n  </select>\n</span>\n'),e.put("widgets-settings/param-selector.tmpl.html",'<span class="settings param-selector">\n\t<a ng-click="toggleShowOptions()">{{((selected.labelTranslate | translate | titleize) || (selected.label | titleize)) | truncate : getTruncateValue() : "..." : false}} <i class="fa fa-chevron-down" /></a>\n\t<div class="options-container" uib-collapse="!showOptions">\n\t\t<div ng-repeat="option in options" ng-click="selectOption(option)" class="param-selector-label">\n\t\t\t{{(option.labelTranslate | translate | titleize) || (option.label | titleize)}}\n\t\t</div>\n\t</div>\n</span>\n'),e.put("widgets-settings/params-checkboxes.tmpl.html",'<div ng-repeat="parameter in options track by $index" class="settings params-checkboxes">\n  <label>\n    <input type="checkbox" ng-model="parameter.value" ng-change="parameter.onChangeCallback()">\n    <span>{{parameter.label}}</span>\n  </label>\n</div>\n'),e.put("widgets-settings/params-picker.tmpl.html",'<h5>{{formattedParam | titleize}}</h5>\n<div class="settings params-picker">\n  <div style="margin-bottom: 8px;">{{description}}</div>\n  <div ui:sortable="sortableOptions" ng-model="options" class="input-group">\n    <span ng-repeat="parameter in options track by $index" class="parameter" ng-class="!parameter.selected ? \'unchecked\' : \'\'">\n      <span class="badge">{{$index + 1}}</span>\n      {{parameter.label | titleize}}\n      <input type="checkbox" ng-model="parameter.selected" />\n    </span>\n  </div>\n  <div ng-show="hasReach">\n    <label><strong translate>impac.widget.settings.params-picker.apply_to_all</strong> <input type="checkbox" ng-change="toggleReach()" ng-model="applyToDashboard"></label>\n  </div>\n</div>\n'),e.put("widgets-settings/tag-filter.tmpl.html",'<h5 translate>impac.widget.settings.tag-filter.filter_title</h5>\n<div class="settings tag-filter" >\n\n  <div class="tag-lines-container">\n    <div class="row tag-line" ng-repeat="rule in settingsTags" >\n      <div class="col-xs-2">\n        <span style="font-weight: bold;" ng-hide="$index>0" translate>impac.widget.settings.tag-filter.add_filter</span>\n        <span ng-hide="$index==0">AND</span>\n      </div>\n      <div class="col-xs-8 tags-col">\n        <tags-input ng-model="rule.tags" replace-spaces-with-dashes="false" add-from-autocomplete-only="true">\n          <auto-complete source="loadTagList($query)" min-length="1" max-results-to-show="5" debounce-delay="0" load-on-down-arrow="true"></auto-complete>\n        </tags-input>\n      </div>\n      <div class="col-xs-2 text-center">\n        <button class="btn btn-sm btn-default" ng-click="delRule($index)" title="Remove filter">-</button>\n      </div>\n    </div>\n\n    <div class="row">\n      <div class="col-xs-2 text-center">\n        <button class="btn btn-sm btn-default" ng-click="addRule()" title="Add filter">+</button>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("widgets-settings/time-period.tmpl.html",'<h5 translate>impac.widget.settings.time_period.title</h5>\n<div class="settings time-period" ng-if="timePeriodSetting">\n\n  \x3c!-- Time range --\x3e\n  <div class="row">\n    <div class="col-xs-12">\n      <strong translate>impac.widget.settings.time_period.time_range</strong>\n      <div setting-time-presets parent-widget="timePeriodSetting" deferred="::timePresetsDeferred" on-select="applyPreset(histParams)" presets="presets" on-choose-dates="useDatesPicker()" on-choose-period="useTimeSlider()" hist-params="histParams" reset-promise="resetPreset.promise" />\n    </div>\n  </div>\n\n  \x3c!-- Dates pickers --\x3e\n  <div class="row" ng-show="isDatesPickerUsed()">\n    <div class="col-xs-12">\n      <div setting-dates-picker class="sub-setting" parent-widget="timePeriodSetting" deferred="::datesPickerDeferred" min-date="formattedMinDate()" from="fromDate" to="toDate" keep-today="keepToday" on-use="useDatesPicker()" />\n    </div>\n  </div>\n\n  \x3c!-- Slider --\x3e\n  <div class="row" ng-show="isTimeSliderUsed()">\n    <div class="col-xs-12">\n      <div setting-time-slider class="sub-setting" parent-widget="timePeriodSetting" deferred="::timeSliderDeferred" time-range="timePeriodSetting.timeRange" on-use="useTimeSlider()" />\n    </div>\n  </div>\n\n  \x3c!-- Chart interval --\x3e\n  <div class="row" ng-hide="hideChartInterval">\n    <div class="col-xs-12">\n      <strong translate>impac.widget.settings.time_period.chart_interval</strong>\n      <select ng-model="timePeriodSetting.period" ng-options="period.value as period.label for period in periods" ng-change="updateSettings()" />\n    </div>\n  </div>\n\n  \x3c!-- Info --\x3e\n  <div class="row text-center" ng-hide="hideChartInterval">\n    <div class="col-xs-12">\n      <i translate="impac.widget.settings.time_period.chart_note" translate-values="{nbOfPeriods: maxNumberOfPeriods}"></i>\n    </div>\n  </div>\n\n  \x3c!-- Save Changes --\x3e\n  <div class="row text-center" ng-show="showApplyButton">\n    <div class="col-xs-12">\n      <button class="btn btn-sm btn-default" ng-click="applyChangesCallback()">Apply changes</button>\n    </div>\n  </div>\n</div>\n'),e.put("widgets-settings/time-presets.tmpl.html",'<div class="settings time-presets">\n  <select ng-model="selectedPreset" ng-options="p.label for p in presets" ng-change="presetSelected()" />\n</div>\n'),e.put("widgets-settings/time-slider.tmpl.html",'<div class="settings time-slider">\n  <div class="row">\n    <div class="col-xs-11 col-xs-offset-1" ng-click="onUse()" translate="impac.widget.settings.time_slider.show_last" translate-values="{formatPeriod: formatPeriod()}"></div>\n    <div class="col-xs-11 col-xs-offset-1" ng-click="onUse()">\n      <i>{{fromDate() | momentDate : \'time-slider\'}} - {{toDate() | momentDate : \'time-slider\'}}</i>\n    </div>\n    <div class="col-xs-12">\n      <input type="range" ng-model="numberOfPeriods" min="1" max="12" step="1" ng-focus="onUse()" ng-change="formatPeriod()">\n    </div>\n  </div>\n</div>\n'),e.put("widgets-settings/width.tmpl.html",'<i class="fa fa-angle-double-left reduce" ng-show="expanded && !pdfMode" ng-click="parentWidget.toggleExpanded()" uib-tooltip="{{\'impac.widget.settings.width.reduce\' | translate}}"/>\n<i class="fa fa-angle-double-right expand" ng-hide="expanded || pdfMode" ng-click="parentWidget.toggleExpanded()" uib-tooltip="{{\'impac.widget.settings.width.expand\' | translate}}"/>\n'),e.put("widgets-layouts/accounts-cash-balance.tmpl.html",'\x3c!--\n  Component generated by Impac! Widget Generator!\n--\x3e\n<div widget-accounts-cash-balance>\n  \x3c!-- Settings Panel --\x3e\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    \x3c!-- Buttons displayed on the lower  --\x3e\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()">Cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()">Save</button>\n    </div>\n  </div>\n\n  \x3c!-- Content Panel --\x3e\n  <div ng-hide="widget.isEditMode">\n    \x3c!-- Data found --\x3e\n    <div class="data-container">\n      <div class="left-panel">\n        <div id="cash-balance-legend">\n          <div class="header" ng-repeat="header in groupedTable.headers">\n            <h4 ng-bind="header | titleize"></h4>\n            <div class="group-item" ng-repeat="item in groupedTable.groups[$index]" ng-click="legendItemOnClick(item)">\n              <i ng-style="{\'color\': getLegendItemColor(item)}" class="fa" ng-class="getLegendItemCheckBox(item)" aria-hidden="true"></i>\n              <div>\n                <svg ng-include="getLegendItemIcon(item)" class="legend-item-icon" ng-style="{\'fill\': getLegendItemColor(item)}"></svg>\n              </div>&nbsp;\n              <span ng-bind="item.name"></span>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="right-panel">\n        <div id="{{chartId()}}" class="cash-balance-chart"></div>\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n</div>\n'),e.put("widgets-layouts/accounts-cash-projection.tmpl.html",'<div widget-accounts-cash-projection>\n  \x3c!-- Settings Panel --\x3e\n  <div ng-show="widget.isEditMode" class="edit">\n    <h4>Widget settings</h4>\n\n    <div setting-organizations parent-widget="widget" class="part" deferred="::orgDeferred" />\n\n    <div class="bottom-buttons" align="right">\n      <button class="btn btn-default" ng-click="initSettings()">Cancel</button>\n      <button class="btn btn-warning" ng-click="updateSettings()">Save</button>\n    </div>\n  </div>\n\n  \x3c!-- Widget content --\x3e\n  <div ng-hide="widget.isEditMode">\n    <transactions-list\n      ng-if="trxList.display"\n      transactions="trxList.transactions"\n      currency="widget.metadata.currency"\n      total-records="trxList.totalRecords"\n      resources-type="trxList.resources"\n      on-hide="trxList.hide()"\n      on-page-changed="trxList.fetch(page)"\n      on-update-expected-date="trxList.updateExpectedDate(trxId, date)"\n      on-change-resources="trxList.changeResourcesType(resourcesType)"\n      on-delete-transaction="trxList.deleteTransaction(resourcesType, trxId)">\n    </transactions-list>\n\n    <duplicate-transactions-list\n      ng-if="dupTrxList.display"\n      transactions="dupTrxList.transactions"\n      currency="widget.metadata.currency"\n      total-records="dupTrxList.totalRecords"\n      resources-type="dupTrxList.resources"\n      on-hide="dupTrxList.hide()"\n      on-page-changed="dupTrxList.fetch(page)"\n      on-confirm-duplication="dupTrxList.updateDuplicateTransaction(dupTrxId, action)" >\n    </duplicate-transactions-list>\n\n    <div ng-hide="trxList.display || dupTrxList.display">\n      <chart-threshold widget="widget" chart-promise="chartPromise" kpi-create-label="chartThresholdOptions.label" on-complete="widget.format()"></chart-threshold>\n\n      \x3c!-- Chart --\x3e\n      <div id="{{chartId()}}" class="cash-projection-chart"></div>\n\n      \x3c!-- Bottom buttons --\x3e\n      <div class="text-left">\n        <button class="btn btn-sm btn-default" ng-click="trxList.showAll()" title="See all due invoices and bills, and forecast">\n          <i class="fa fa-list" />\n          See all transactions\n        </button>\n        <button class="btn btn-sm btn-default" ng-click="addForecastPopup.show()" title="Create a new forecast transaction">\n          <i class="fa fa-pencil" />\n          Add manual transaction\n        </button>\n        <button class="btn btn-sm btn-default" ng-click="dupTrxList.showAll()" title="See all due invoices and bills, and forecast">\n          <i class="fa fa-list" />\n          See reconciliation\n        </button>\n      </div>\n    </div>\n\n    <div ng-show="widget.demoData" common-data-not-found />\n  </div>\n\n  <transactions-add ng-if="addForecastPopup.display" contacts="contacts" resources-type="addForecastPopup.resourcesType" on-hide="addForecastPopup.hide()" on-create-transaction="addForecastPopup.createTransaction(trx)"/>\n</div>\n')}]),function(){var e;e=angular.module("maestrano.impac"),e.config(["$httpProvider",function(e){return e.defaults.headers.common.Accept="application/json",e.defaults.headers.common["Content-Type"]="application/json"}]),e.config(["$translateProvider","ImpacThemingProvider",function(e,t){return e.useSanitizeValueStrategy("escapeParameters"),e.useMessageFormatInterpolation()}])}.call(this),function(){var e;e=angular.module("maestrano.impac"),e.constant("IMPAC_EVENTS",{kpiTargetAlert:"kpi-target-alert",impacNotificationsLoad:"impac-notifications-load",addOrRemoveAlerts:"add-or-remove-alerts",kpisBarUpdateSettings:"on-kpis-bar-update-settings",kpisBarToggleSettings:"on-kpis-bar-toggle-settings",kpisBarUpdateDates:"on-kpis-bar-update-dates",kpiPressEnterButton:"on-kpi-press-enter-button"}),e.constant("LOCALES",{list:[{id:"en-gb",name:"English (GB)"},{id:"zh-HK",name:"Chinese (HK)"}]})}.call(this),function(){var e;e=angular.module("maestrano.impac"),e.run(["ImpacAlerts",function(e){}]),e.run(["editableOptions",function(e){return e.theme="bs3"}])}.call(this),function(){console.info("Impac! Front-End Library - v1.8.0"),window.impac={version:"1.8.0"}}.call(),function(){angular.module("impac.filters.moment-date",[]).filter("momentDate",["$translate","ImpacTheming",function(e,t){return function(n,i){var r,a,o;return moment.locale(e.use().toLowerCase()),o=["daily","weekly","monthly","quarterly","yearly","default"],!_.isEmpty(i)&&_.includes(o,i.toLowerCase())&&(i="period-"+i.toLowerCase()),a=t.get(),r=a.dateFormatterSettings.default,a.dateFormatterSettings.formats&&a.dateFormatterSettings.formats[i]&&(r=a.dateFormatterSettings.formats[i]),moment(n).format(r)}}])}.call(this),function(){angular.module("impac.filters.titleize",[]).filter("titleize",function(){return function(e){return e=void 0===e||null===e?"":e,e.toString().toLowerCase().replace(/\b([a-z])/g,function(e){return e.toUpperCase()})}})}.call(this),function(){angular.module("impac.filters.truncate",[]).filter("truncate",function(){return function(e,t,n,i){var r;return e?(t=parseInt(t,10))?e.length<=t?e:(e=e.substr(0,t),i&&-1!==(r=e.lastIndexOf(" "))&&(e=e.substr(0,r)),e+(n||"…")):e:""}})}.call(this),function(){var e;e=angular.module("impac.components.alerts-config",[]),e.directive("alertsConfig",["$uibModal","$templateCache","$compile","$translate","ImpacKpisSvc","ImpacMainSvc",function(e,t,n,i,r,a){return{restrict:"EA",scope:{kpi:"=",buttonHtml:"@",afterSaveCallback:"=?"},template:t.get("alerts-config/alerts-config.tmpl.html"),link:function(e,t,i){var r,a;return a=e.buttonHtml?e.buttonHtml:"<i class='fa fa-bell-o' />",r=t.find(".alerts-config"),r.html(a).show(),n(r.contents())(e)},controller:["$scope",function(n){var o;return n.members=[],n.alerts={inapp:{service:"inapp",label:i.instant("impac.kpi.alerts.service.inapp")},email:{service:"email",label:"By sending me an email to:"}},n.recipientSearch={text:"",focus:!1},a.load().then(function(e){var t,r,a;return n.members=e.currentOrgMembers,!n.members&&e.userData.email&&i("impac.kpi.alerts.service.email",{EMAIL:"hasEmail",email:e.userData.email}).then(function(e){return n.alerts.email.label=e}),r=_.find(n.kpi.alerts,function(e){return"email"===e.service}),r&&n.members?(a=r.recipients.map(function(e){return e.id}),_.forEach(n.members,function(e){if(_.includes(a,e.id))return e.active=!0})):n.members&&(t=_.find(n.members,function(t){return t.email===e.userData.email})||n.members[0])?t.active=!0:void 0}),n.save=function(e){if(n.members&&(n.alerts.email.recipients=n.members.filter(function(e){return e.active})),n.alerts.email.active||_.forEach(n.alerts.email.recipients,function(e){return n.toggleRecipient(e)}),r.saveAlerts(n.kpi,e),n.modal.close(),n.afterSaveCallback)return n.afterSaveCallback()},n.toggleAlert=function(e){return e.active=!e.active},n.toggleRecipient=function(e){if(!e.active||_.filter(n.members,function(e){return e.active}).length>1)return e.active=!e.active},n.translateTarget=function(e){var t,n;if(e.targets&&(n=e.targets[e.element_watched]),n&&n.length>0)return t=[],null!=n[0].max?t.push(i.instant("impac.widget.alerts_config.over"),n[0].max):n[0].min&&t.push(i.instant("impac.widget.alerts_config.below"),n[0].min),null!=e.data&&t.push(e.data[e.element_watched].unit),t.join(" ")},o={options:{backdrop:"static",template:t.get("alerts-config/alerts-config.modal.html"),scope:n}},n.showAlertsSettings=function(){var t,i,r,a;if(angular.isDefined(n.kpi.alerts))for(a=n.kpi.alerts,i=0,r=a.length;i<r;i++)t=a[i],n.alerts[t.service].active=!0;return n.modal=e.open(o.options)},n.showRecipientList=function(e){return e.active&&"email"===e.service&&n.members},n.onAddRecipientsKeyPress=function(e){var t,i,r;return t=_.filter(this.filteredMembers,function(e){return!e.active}),r=_.find(t,function(e){return e.email===n.recipientSearch.text}),i=0,13!==e.which?40===e.which&&t.length>0?(n.selectedMember&&(i=_.indexOf(t,n.selectedMember)+1),i<t.length||(i=0),n.selectedMember=t[i]):38===e.which&&t.length>0?(n.selectedMember&&(i=_.indexOf(t,n.selectedMember)-1),i<0&&(i=t.length-1),n.selectedMember=t[i]):n.selectedMember=null:(n.selectedMember&&(n.selectedMember.active=!0,n.selectedMember=null),r?(r.active=!0,n.recipientSearch.text=""):void 0)},n.onRecipientSearchFocus=function(){return n.recipientSearch.focus=!0},n.showAvailableRecipients=function(e){return!!this.filteredMembers&&(n.showRecipientList(e)&&n.recipientSearch.focus&&_.filter(this.filteredMembers,function(e){return!e.active}).length>0)}}]}}])}.call(this),function(){var e;e=angular.module("impac.components.dashboard-create",[]),e.component("impacDashboardCreate",{templateUrl:"dashboard-create/dashboard-create.tmpl.html",bindings:{onCreateDashboard:"&",labelLocale:"@?",btnClass:"@?"},controller:["$scope","$uibModal","ImpacTheming","ImpacMainSvc",function(e,t,n,i){var r,a,o,s;return r=this,r.$onInit=function(){return r.label=n.getDhbLabelName(),i.loadOrganizations().then(function(e){return r.currentOrganizationId=e.currentOrganization.id,a(e)})},o=function(e){return e.id===r.currentOrganizationId},s=function(){var e,t,n,i,a;for(i=r.modalScope.organizations,a=[],e=0,t=i.length;e<t;e++)n=i[e],a.push(n.selected=o(n));return a},a=function(t){return r.modalScope=angular.merge(e.$new(),{label:r.label,multiMode:{enabled:n.get().dhbConfig.multiCompany},dashboard:{},organizations:t.organizations}),s(),r.modalScope.source={mode:"single",init:s()},r.modalScope.templates={enabled:n.get().dhbSettings.createFromTemplateEnabled,select:function(e){var t;return t=e.template,angular.merge(r.modalScope.dashboard,t)}},r.modalScope.createDashboard=function(e){var t,n;return t=r.modalScope,t.loading=!0,n=_.filter(e,function(e){return e.selected}),angular.merge(t.dashboard,{organization_ids:_.pluck(n,"id")}),r.onCreateDashboard({dashboard:t.dashboard}).finally(function(){return t.loading=!1,r.instance.close()})},r.modalScope.invalid=function(){return _.isEmpty(r.modalScope.dashboard.name)||!_.some(_.pluck(r.modalScope.organizations,"selected"))}},r.openModal=function(){var e;return r.modalScope.dashboard.name=null,r.modalScope.source.mode="single",e={backdrop:"static",templateUrl:"dashboard-create/dashboard-create.modal.html",scope:r.modalScope,windowClass:"impac-dashboard-create"},r.instance=t.open(e)},r}]})}.call(this),function(){var e;e=angular.module("impac.components.dashboard",[]),e.controller("ImpacDashboardCtrl",["$scope","$http","$q","$filter","$uibModal","$log","$timeout","$templateCache","MsgBus","ImpacUtilities","ImpacAssets","ImpacTheming","ImpacRoutes","ImpacMainSvc","ImpacDashboardsSvc","ImpacWidgetsSvc","$translate","ImpacDhbTemplatesSvc",function(e,t,n,i,r,a,o,s,l,c,u,d,h,p,f,g,m,v){var b,y,w;return e.currentDhb=f.getCurrentDashboard(),e.widgetsTemplates=f.getWidgetsTemplates(),e.userAccesses=f.userAccesses(),e.impacTitleLogo=u.get("impacTitleLogo"),e.impacDashboardBackground=u.get("impacDashboardBackground"),e.showDhbHeading=d.get().dhbConfig.showDhbHeading,e.dhbHeadingText=d.get().dhbConfig.dhbHeadingText,e.dhbErrorsConfig=d.get().dhbErrorsConfig,e.dhbLabelName=d.getDhbLabelName(),e.dhbSettingsConfig=d.get().dhbSettings,e.createFromTemplateEnabled=e.dhbSettingsConfig.createFromTemplateEnabled,e.marketplaceMyobLink=d.get().dhbSubMenuConfig.marketplaceMyobLink,e.myobMessageConfig=d.get().dhbSubMenuConfig.myobMessage,e.isLoading=!0,e.failedDashboardLoad=!1,w=function(t){return e.activateTimer(),e.hasMyobEssentialsOnly=p.config.currentOrganization.has_myob_essentials_only},y=function(t){return a.error(t),e.failedDashboardLoad=!0,e.isLoading=!1},f.load(!0).then(w,y),e.showChooseDhbMsg=function(){return!f.isThereADashboard()},e.showNoWidgetsMsg=function(){return f.isCurrentDashboardEmpty()&&d.get().showNoWidgetMsg},e.starWizardModal={value:!1},l.publish("starWizardModal",e.starWizardModal),e.openStarWizard=function(){return e.starWizardModal.value=!0},e.showSubMenu=!1,e.displaySubMenu=function(){return e.showSubMenu=!0},e.hideSubMenu=function(){return e.showSubMenu=!1},b=0,e.displaySecondMsg=!1,e.reloadDashboard=function(){return b++,b>=3&&(e.displaySecondMsg=!0),f.reload(!0).then(w,y)},f.dhbLoader().then(null,null,function(t){return t?e.isLoading=!0:e.activateTimer()}),e.activateTimer=function(){var t,n;return e.isLoading||(e.isLoading=!0),n=e.currentDhb.widgets,t=null!=n?Math.max(100*n.length,500):500,o(function(){return e.isLoading=!1},t)},e.sortableOptions={stop:function(){var t;return t={widgets_order:_.pluck(e.currentDhb.widgets,"id")},f.update(e.currentDhb.id,t)},start:function(e,t){return t.placeholder.css("width",t.item.width()-1),t.placeholder.css("height",t.item.height())},cursorAt:{left:100,top:20},opacity:.5,delay:150,tolerance:"pointer",placeholder:"placeHolderBox",cursor:"move",revert:250,cancel:".unsortable,.editable-input",handle:".top-line",helper:"clone"},f.dashboardChanged().then(null,null,function(){return e.sortableOptions.disabled=!e.userAccesses.dashboards.update}),e.createDashboard=function(e){return e.metadata=_.omit(e.metadata,"organization_ids"),e.id?f.copy(e):f.create(e)},e.kpisBar={displayed:function(){return!_.isEmpty(e.userAccesses)&&e.userAccesses.kpis.show&&f.isThereADashboard()}},e.customWidgetSelector=d.get().widgetSelectorConfig,e.forceShowWidgetSelector=!1,e.showCloseWidgetSelectorButton=function(){return!f.isCurrentDashboardEmpty()},e.displayWidgetSelector=function(t){return null==t&&(t=!0),e.forceShowWidgetSelector=t},e.showWidgetSelector=function(){return f.isThereADashboard()&&(e.forceShowWidgetSelector||f.isCurrentDashboardEmpty())},e.isAddChartEnabled=d.get().addChartTile.show,e.addChartTileOnClick=function(){var t;return t=d.get().addChartTile.onClickOptions.triggers,_.forEach(t,function(t){switch(t.type){case"objectProperty":return e[t.target][t.property]=t.value}})},e.selectedCategory="accounts",e.isCategorySelected=function(t){return null!=e.selectedCategory&&null!=t&&e.selectedCategory===t},e.selectCategory=function(t){return e.selectedCategory=t},e.getSelectedCategoryName=function(){if(null==e.selectedCategory)return!1;switch(e.selectedCategory){case"accounts":return m.instant("impac.dashboard.category_name.accounting");case"invoices":return m.instant("impac.dashboard.category_name.invoicing");case"hr":return m.instant("impac.dashboard.category_name.hr_or_payroll");case"sales":return m.instant("impac.dashboard.category_name.sales");default:return!1}},e.getSelectedCategoryTop=function(){if(null==e.selectedCategory)return!1;switch(e.selectedCategory){case"accounts":return{top:"33px"};case"invoices":return{top:"63px"};case"hr":return{top:"93px"};case"sales":return{top:"123px"};default:return{top:"9999999px"}}},e.getWidgetsForSelectedCategory=function(){return null!=e.selectedCategory&&null!=e.widgetsTemplates?_.select(e.widgetsTemplates,function(t){var n,i;return t.metadata&&t.metadata.template?i=t.metadata.template.split("/")[0]:t.metadata&&t.metadata.bolt_path?(n=_.find(h.bolts(),function(e){return e.path===t.metadata.bolt_path}),i=n.category):i=t.endpoint.split("/")[0],i===e.selectedCategory}):[]},e.addWidget=function(t){var n;return n=_.pick(t,["endpoint","name","width","metadata","layouts"]),angular.element("#widget-selector").css("cursor","progress"),angular.element("#widget-selector .section-lines .line-item").css("cursor","progress"),g.create(n).then(function(){e.errors="",angular.element("#widget-selector .badge.widget-added").fadeTo(250,1),o(function(){return angular.element("#widget-selector .badge.widget-added").fadeTo(700,0)},4e3)},function(t){return e.errors=c.processRailsError(t)}).finally(function(){return angular.element("#widget-selector").css("cursor","auto"),angular.element("#widget-selector .section-lines .line-item").css("cursor","pointer")})},e.triggerUpload=function(){var t;return t=angular.element("#fileInput"),t.on("change",function(t){var n,i;if((n=t.target.files)&&n[0])return i=new FileReader,i.onload=function(t){return e.impacTitleLogo=t.target.result},i.readAsDataURL(n[0])}),t.trigger("click"),!0},e.widgetSuggestionModal=e.$new(),e.widgetSuggestionModal.widgetDetails={},e.widgetSuggestionModal.error=!1,e.widgetSuggestionModal.onSuccess=!1,e.widgetSuggestionModal.config={backdrop:"static",template:s.get("dashboard/widget-suggestion.modal.html"),size:"md",windowClass:"inverse impac-widget-suggestion",scope:e.widgetSuggestionModal,apiPath:h.widgets.suggest()},e.widgetSuggestionModal.open=function(){var t;if(t=e.widgetSuggestionModal,!t.locked)return p.loadUserData().then(function(e){return t.userName=e.name}),t.instance=r.open(t.config),t.instance.rendered.then(function(e){return t.locked=!0}),t.instance.result.then(function(e){return t.locked=!1},function(e){return t.locked=!1}),t.isLoading=!1},e.widgetSuggestionModal.proceed=function(){var n,i;if(i=e.widgetSuggestionModal,i.isLoading=!0,n={widget_name:i.widgetDetails.name,widget_category:i.widgetDetails.category,widget_description:i.widgetDetails.description},null!=i.config.apiPath)return t.post(i.config.apiPath,{template:"widget_suggestion",opts:n}).then(function(){return i.onSuccess=!0,o(function(){return i.instance.close(),i.widgetDetails={},i.isLoading=!1,i.onSuccess=!1},3e3)},function(e){return i.isLoading=!1,i.error=!0,a.error("impac-angular ERROR: Unable to POST widget_suggestion mailer: ",e)})}}]),e.directive("impacDashboard",["$templateCache","ImpacDashboardsSvc",function(e,t){return{restrict:"EA",scope:{forceLoad:"=load"},template:e.get("dashboard/dashboard.tmpl.html"),controller:"ImpacDashboardCtrl",link:function(e,n){return e.pdfMode=!1,t.pdfModeEnabled().then(null,null,function(){return e.pdfMode=!0}),t.pdfModeCanceled().then(null,null,function(){return e.pdfMode=!1})}}}])}.call(this),function(){angular.module("impac.components.chart",[]).directive("impacChart",["$log","$window",function(e,t){return{restrict:"A",scope:{drawTrigger:"=",deferred:"="},link:function(n,i,r){return n.draw=function(e){var t,n;return null==e.options.showXLabels||e.options.showXLabels||angular.merge(e.options,{scales:{xAxes:[{display:!1}]}}),i.children().length>0&&i.children().remove(0),i.append("<canvas></canvas>"),t=i.children()[0],n=t.getContext("2d"),new Chart(n,e)},n.drawTrigger.then(function(t){return e.warn("chart promise has been resolved: use notify instead")},function(t){return e.error(t)},function(e){var r,a;return t.navigator.userAgent,a=!0,a?(r=function(){var t;return t=$(i).is(":visible"),t?n.draw(e):setTimeout(function(){return r()},100)})():n.draw(e)}),n.deferred.resolve("chart ready")}}}])}.call(this),function(){angular.module("impac.components.dashboard-selector",[]).directive("dashboardSelector",["$log","$compile","$templateCache","$http","$timeout","$uibModal","ImpacTheming","ImpacDashboardsSvc","ImpacMainSvc","ImpacUtilities",function(e,t,n,i,r,a,o,s,l,c){return{restrict:"E",scope:{onCreateDashboard:"&",isWidgetSelectorShown:"&",onDisplayWidgetSelector:"&",onSelectDashboard:"&",pdfMode:"=",userAccesses:"="},controller:["$scope",function(e){return e.organizationsNames=function(){var t
;return t=_.sortBy(e.currentDhb.data_sources,function(e){return e.label.toLowerCase()}),_.pluck(t,"label").join(", ")},e.toggleShowDashboardsDropdown=function(){if(!e.showChangeDashboardNameBox)return e.showDashboardsDropdown=!e.showDashboardsDropdown},e.selectDashboard=function(t){if(e.currentDhb.id!==t)return e.isLoading=!0,e.showDashboardsDropdown=!1,r(function(){return e.$apply(function(){return s.setCurrentDashboard(t),e.onSelectDashboard(),e.isLoading=!1})},50)},e.createDashboard=function(t){return e.onCreateDashboard({dashboard:t})},e.toggleChangeDashboardNameBox=function(t){var n;return n=angular.copy(t),e.dashboardToChange={},e.dashboardToChange.id=n.id,e.dashboardToChange.name=n.full_name,e.showChangeDashboardNameBox=!e.showChangeDashboardNameBox,r(function(){var e;return e=$("#changeDhbNameInput"),e.select(),e.focus()},100)},e.hideChangeDashboardNameBox=function(){return e.showChangeDashboardNameBox=!1},e.checkAndUpdateDashboardName=function(t){if(13===t.keyCode&&e.updateDashboardName(),27===t.keyCode)return e.showChangeDashboardNameBox=!1},e.updateDashboardName=function(){if(null!=e.dashboardToChange&&!_.isEmpty(e.dashboardToChange.name))return s.update(e.dashboardToChange.id,{name:e.dashboardToChange.name}).then(function(t){return e.showChangeDashboardNameBox=!1})},e.toggleAccessibilityMode=function(){return e.accessibilityMode=!e.accessibilityMode,angular.forEach(e.currentDhb.widgets,function(e){return e.loadContent()})},e.deleteDashboardModal=e.$new(),e.deleteDashboardModal.config={backdrop:"static",template:n.get("dashboard-selector/delete.modal.html"),size:"md",windowClass:"inverse",scope:e.deleteDashboardModal},e.deleteDashboardModal.open=function(){var t;if(t=e.deleteDashboardModal,!t.locked)return t.errors="",t.isLoading=!1,t.dhbLabelName=o.getDhbLabelName(),t.instance=a.open(t.config),t.instance.rendered.then(function(e){return t.locked=!0}),t.instance.result.then(function(e){return t.locked=!1},function(e){return t.locked=!1})},e.deleteDashboardModal.proceed=function(){var t;return t=e.deleteDashboardModal,t.isLoading=!0,s.delete(e.currentDhb.id).then(function(){return t.errors="",t.instance.close()},function(e){return t.errors=c.processRailsError(e),t.isLoading=!1})},e}],link:function(r,a,l){var c,u,d,h,p,f,g;switch(r.currentDhb=s.getCurrentDashboard(),r.dashboardsList=s.getDashboards(),r.isThereADashboard=s.isThereADashboard,r.isCurrentDashboardEmpty=s.isCurrentDashboardEmpty,p=o.get().dhbSelectorConfig,r.isAccessibilityEnabled=p.accessibilityEnabled,r.dhbLabelName=o.getDhbLabelName(),r.showDashboardsDropdown=!1,r.showChangeDashboardNameBox=!1,r.accessibilityMode=!1,p.customTmplPath?u=p.customTmplPath:r.selectorType=p.selectorType,f=null,g=function(e){return f=e},r.selectorType){case"dropdown":g("dashboard-selector/dropdown.tmpl.html");break;case"tabs":case"pills":g("dashboard-selector/bootstrap-tabs.tmpl.html");break;default:g(u)}return d=function(){return i.get(f,{cache:n}).then(function(t){return t&&t.data&&t.data.length||e.warn("dashboardSelector custom template: no content found"),c(t.data)},function(t){return e.error("Error retrieving custom template: ",t)})},h=function(){return c(n.get(f))},c=function(e){return a.html(e).show(),t(a.contents())(r)},u?d():h()}}}])}.call(this),function(){var e;e=angular.module("impac.components.dashboard-templates-selector",[]),e.component("dashboardTemplatesSelector",{templateUrl:"dashboard-templates-selector/dashboard-templates-selector.tmpl.html",bindings:{onSelect:"&"},controller:["toastr","ImpacDhbTemplatesSvc",function(e,t){var n;return n=this,n.$onInit=function(){return n.templates=[],n.selectedTemplate={},n.isTemplatesMode=!1,n.hideLoader=!1,t.index().then(function(e){return n.templates=e},function(){return e.error("Failed to retrieve dashboard templates. You can still create your dashboard from scratch.","Error")}).finally(function(){return n.hideLoader=!0})},n.hasTemplates=function(){return n.templates.length},n.templateOnClick=function(e){return n.selectedTemplate=n.isSelected(e)?{}:e,n.onSelect({$event:{template:angular.copy(n.selectedTemplate)}})},n.isSelected=function(e){return _.isEqual(e,n.selectedTemplate)},n.toggleTemplatesMode=function(){if(n.isTemplatesMode=!n.isTemplatesMode,!n.isTemplatesMode)return n.templateOnClick({})},n}]})}.call(this),function(){angular.module("impac.components.kpis-bar",[]).directive("kpisBar",["$templateCache","$q","$timeout","ImpacKpisSvc","ImpacMainSvc","ImpacDashboardsSvc","ImpacTheming","ImpacEvents","IMPAC_EVENTS",function(e,t,n,i,r,a,o,s,l){return{restrict:"E",scope:{kpis:"=",userAccesses:"="},template:e.get("kpis-bar/kpis-bar.tmpl.html"),controller:["$scope","$log","$element",function(e,r,c){var u,d,h,p,f;return e.availableKpis={kpiSelectorHidden:!0,toggle:function(){return!!e.hasKpiAvailability()&&(e.availableKpis.kpiSelectorHidden=!e.availableKpis.kpiSelectorHidden)},list:[]},e.showKpisExpanded=!1,e.showEditMode=!1,e.isAddingKpi=!1,e.showContent=!0,e.dhbLabelName=o.getDhbLabelName(),i.load().then(function(){return h(),d()}),a.dashboardChanged().then(null,null,function(){return n(function(){return h(),d()})}),e.sortableOptions={stop:function(){var t;return t=_.pluck(e.kpis,"id"),i.updateKpisOrder(t)},cursorAt:{left:100,top:20},opacity:.5,delay:150,tolerance:"pointer",cursor:"move",revert:250,handle:".top-line",cancel:".unsortable",helper:"clone"},e.kpisDateRange={},e.kpiDatesDeferred=t.defer(),e.datesPickerDeferred=t.defer(),p=function(){return e.datesPickerDeferred.promise.then(function(t){return i.getKpisDateRange().then(function(t){return e.kpisDateRange.from=t.from,e.kpisDateRange.to=t.to,e.kpisDateRange.keepToday=t.keepToday},function(){return e.hideDatesPicker=!0}).finally(function(){return e.kpiDatesDeferred.resolve(),t.initialize()})})},p(),a.dashboardChanged().then(null,null,function(e){if(e)return p()}),s.registerCb(l.kpiPressEnterButton,function(){return e.toggleEditMode()}),e.addKpi=function(t){var n;if(!e.isAddingKpi)return e.isAddingKpi=!0,t.element_watched=t.watchables[0],n={},n.extra_watchables=_.filter(t.watchables,function(e){return e!==t.element_watched}),i.create(t.source||"impac",t.endpoint,t.element_watched,n).then(function(t){return e.kpis.push(t)},function(e){return r.error("Impac Kpis bar can't add a kpi",e)}).finally(function(){return h(),e.isAddingKpi=!1})},e.removeKpi=function(t){return _.remove(e.kpis,function(e){return e.id===t}),h()},e.toggleEditModeLock=!1,e.toggleEditMode=function(){var t;if(!e.toggleEditModeLock)return e.toggleEditModeLock=!0,s.notifyCallbacks(l.kpisBarToggleSettings),f()&&!e.showEditMode?s.notifyCallbacks(l.kpisBarUpdateSettings):((t=e.showEditMode)&&s.notifyCallbacks(l.kpisBarUpdateSettings,t),e.showEditMode=!e.showEditMode),e.availableKpis.kpiSelectorHidden||e.showEditMode||e.availableKpis.toggle(),n(function(){return e.toggleEditModeLock=!1},450)},e.isEditing=function(){return!!e.userAccesses.kpis.update&&(e.showEditMode||f())},e.kpisBarUpdateDates=function(e){var t;if(_.isObject(e)&&!_.isEmpty(e))return t=a.getCurrentDashboard(),angular.merge(t.metadata,{kpis_hist_parameters:e}),a.update(t.id,{metadata:t.metadata}).then(function(){return s.notifyCallbacks(l.kpisBarUpdateDates)})},e.toggleShowContent=function(){return e.showContent=!e.showContent,u(),!0},e.hasKpiAvailability=function(){return e.availableKpis.list.length},e.showDatesPicker=function(){return e.userAccesses.kpis.update&&e.isEditing()&&e.kpis.length&&!e.hideDatesPicker},f=function(){return _.includes(_.map(e.kpis,function(e){return e.isEditing}),!0)},h=function(){if(e.availableKpis.list=_.select(i.getKpisTemplates(),function(t){return _.isEmpty(t.attachables)&&_.isEmpty(_.select(e.kpis,function(e){return e.endpoint===t.endpoint&&e.element_watched===t.watchables[0]}))}),_.isEmpty(e.availableKpis.list))return e.availableKpis.kpiSelectorHidden=!0},d=function(){return _.forEach(e.kpis,function(e){return i.buildKpiWatchables(e)})},u=function(){var e;if(e=angular.element(c).find(".kpis .content, .kpis .content-buttons"))return e.slideToggle(500)}}]}}])}.call(this),function(){angular.module("impac.components.kpi",[]).directive("impacKpi",["$log","$timeout","$templateCache","ImpacKpisSvc","ImpacEvents","IMPAC_EVENTS","$translate",function(e,t,n,i,r,a,o){return{restrict:"EA",scope:{onDelete:"&",kpi:"=",editMode:"=",loadReady:"=",userAccesses:"="},template:n.get("kpi/kpi.tmpl.html"),controller:["$scope","$element",function(e,n){var s,l,c,u,d,h;return c=function(){return i.show(e.kpi).then(function(t){var n,r;if(angular.extend(e.kpi,t),n=i.getKpiTemplate(e.kpi.endpoint,e.kpi.element_watched),e.kpi.name=null!=n&&n.name,null!=n&&null!=n.extra_params&&(e.kpi.possibleExtraParams=n.extra_params,_.forIn(e.kpi.possibleExtraParams,function(t,n){var i;if(t[0])return((i=e.kpi).extra_params||(i.extra_params={}))[n]=t[0].id})),r=!1,_.forEach(e.kpi.watchables,function(t){var n;return _.isEmpty(n=e.getTargets(t))?(e.addTargetToWatchable(t),r=!0):e.targets[t]=angular.copy(n)}),r)return e.displayEditSettings()})},h=function(t){if(e.kpi.isEditing||t)return e.updateSettings()},u=function(){return s()},d=function(){if(!e.kpi.static)return c()},l=function(){return _.forEach(e.kpi.watchables,function(t){var n,i;return n=e.getTargetPlaceholder(t),(i={})[n.mode]=n.value,e.targets[t]=[i]}),e.updateSettings(!0)},s=function(){var e;if(e=angular.element(n).find(".kpi-content"))return e.animate({opacity:0},0),t(function(){return e.animate({opacity:1},150)},200)},e.kpiTemplates=i.getKpisTemplates(),e.possibleExtraParams=[],e.targets={},e.possibleTargets=[{label:o.instant("impac.kpi.below"),mode:"min"},{label:o.instant("impac.kpi.over"),mode:"max"}],e.kpi.isLoading=!0,e.loadReady.promise.then(function(){return e.kpi.static?e.kpi.isLoading=!1:c().finally(function(){return e.kpi.isLoading=!1})}),r.registerCb(a.kpisBarUpdateSettings,h),r.registerCb(a.kpisBarToggleSettings,u),r.registerCb(a.kpisBarUpdateDates,d),e.$on("$destroy",function(){return r.deregisterCb(a.kpisBarUpdateSettings,h),r.deregisterCb(a.kpisBarToggleSettings,u),r.deregisterCb(a.kpisBarUpdateDates,d)}),e.addTargetToWatchable=function(t){var n,i;if(!_.has(e.targets,t))return(i={})[e.getTargetPlaceholder(t).mode]="",((n=e.targets)[t]||(n[t]=[])).push(i)},e.displayEditSettings=function(){return e.kpi.isEditing=!0},e.hideEditSettings=function(){return e.kpi.isEditing=!1},e.hasValidTargets=function(){return i.validateKpiTargets(e.targets)},e.hasContent=function(){return!!(e.kpi&&e.kpi.layout&&e.kpi.data)},e.showKpiContent=function(){return!e.isLoading()&&e.hasContent()},e.isDataNotFound=function(){return!e.hasContent()},e.isLoading=function(){return e.kpi.isLoading},e.updateExtraParam=function(){return e.updateSettings(!0)},e.updateSettings=function(n){var r,a,o,s;return o={},s=(r=e["kpi"+e.kpi.id+"SettingsForm"])&&r.$dirty,a=e.hasValidTargets(),s&&a||n?(o.targets=e.targets,_.isEmpty(e.kpi.extra_params)||(o.extra_params=e.kpi.extra_params),_.isEmpty(o)||i.update(e.kpi,o),r.$setPristine(),t(function(){return e.hideEditSettings()},200)):e.cancelUpdateSettings(a)},e.cancelUpdateSettings=function(n){return _.isEmpty(e.kpi.targets)?l():e.targets=angular.copy(e.kpi.targets),t(function(){return e.hideEditSettings()},200)},e.deleteKpi=function(){if(!e.kpi.static)return e.kpi.isLoading=!0,i.delete(e.kpi).then(function(t){return e.onDelete()}).finally(function(){return e.kpi.isLoading=!1})},e.isTriggered=function(){return null!=e.kpi.layout&&e.kpi.layout.triggered},e.isEditing=function(){return!!e.userAccesses.kpis.update&&(e.kpi.isEditing||e.editMode)},e.getFormTargetValueInput=function(t,n){return e["kpi"+e.kpi.id+"SettingsForm"][t+"TargetValue"+n]},e.getTargets=function(t){return null!=e.kpi.targets&&e.kpi.targets[t]||[]},e.getTargetUnit=function(t){var n;return n=null!=e.kpi.data&&e.kpi.data[t].unit||e.getTargetPlaceholder(t).unit||"","currency"===n?i.getCurrentDashboard().currency:n},e.getTargetPlaceholder=function(t){return i.getKpiTargetPlaceholder(e.kpi.endpoint,t)},e.getRealValue=function(){var t,n,i;return t=e.kpi,_.isEmpty(t.data)?"":(i=t.data[t.watchables[0]].value,n=t.data[t.watchables[0]].unit,[i,n].join(" ").trim())},e.bindTargetInputPlaceholder=function(t,n){var i;return e[i=t+"TargetPlaceholder"+n]||(e[i]="")},e.setTargetInputPlaceholder=function(t,n){return e[t+"TargetPlaceholder"+n]=e.getTargetPlaceholder(t).value||""},e.resetTargetInputPlaceholder=function(t,n){return e[t+"TargetPlaceholder"+n]=""},e.onKeyPress=function(e){if(13===e.which)return r.notifyCallbacks(a.kpiPressEnterButton)}}]}}])}.call(this),function(){var e;e=angular.module("impac.components.widget",[]),e.controller("ImpacWidgetCtrl",["$scope","$log","$q","$timeout","ImpacWidgetsSvc","ImpacDashboardsSvc",function(e,t,n,i,r,a){var o;return o=e.widget||{},e.widgetDeferred=n.defer(),e.widgetDeferred.promise.then(function(i){return n.all(i).then(function(t){return e.showWidget()},function(e){return o.isLoading=!1,t.error("widget "+o.id+" failed to render"),t.error(e)})}),e.showWidget=function(t){return null==t&&(t=!1),r.show(o,{refreshCache:t}).finally(function(){return e.isAccessibility?(e.initialWidth=o.width,o.width=12):e.initialWidth?o.width=e.initialWidth:void 0})},e.initSettings=function(){return r.initWidgetSettings(o)},e.updateSettings=function(e){return null==e&&(e=!0),r.updateWidgetSettings(o,e)},e.getColClass=function(){return"col-md-"+o.width},o.getCssClasses=function(){var t;return t=[e.getColClass()],e.pdfMode&&t.push("pdf-mode"),o.ticked||t.push("hidden-print"),t.join(" ")},a.pdfModeEnabled().then(null,null,function(){return e.pdfMode=!0,angular.isDefined(o.ticked)||(o.ticked=!0),e.widget.hasEditAbility=!1,e.initSettings()}),a.pdfModeCanceled().then(null,null,function(){return e.pdfMode=!1,e.widget.hasEditAbility=!0}),e.tick=function(){return o.ticked=!o.ticked,a.tick()}}]),e.directive("impacWidget",["$log","$templateCache","ImpacUtilities","ImpacWidgetsSvc","ImpacWidgetsTemplates","toastr",function(e,t,n,i,r,a){return{restrict:"A",scope:{parentDashboard:"=",widget:"=",isAccessibility:"=",onDisplayAlerts:"&",userAccesses:"="},controller:"ImpacWidgetCtrl",link:function(t,o){var s,l;l=function(){if(t.showInfoPanel=!1,t.pdfMode=!1,t.widget.isLoading=!0,t.widget.settings=[],t.widget.hasEditAbility=!0,t.widget.hasDeleteAbility=!0,t.cssClass=r.filename(t.widget),t.templatePath=r.templatePath(t.widget),!t.templatePath)return s()},t.isInfoPanelDisplayed=function(){return t.showInfoPanel},t.toggleInfoPanel=function(){return t.showInfoPanel=!t.showInfoPanel},t.editTitle=!1,t.isTitleEdited=function(){return t.editTitle},t.toggleEditTitle=function(){return t.editTitle=!t.editTitle},t.showDeleteWidget=!1,t.toggleDeleteWidget=function(){return t.showDeleteWidget=!t.showDeleteWidget},t.deleteWidget=function(){return i.delete(t.widget).then(null,function(e){return t.widget.errors=n.processRailsError(e)})},s=function(){return a.warning("See browser console for more details","No template found for "+t.widget.name),e.error("No template or generic layout template found for "+t.widget.name+", either add a custom template or blacklist the widget via the ImpacTheming service."),t.deleteWidget()},l()},template:t.get("widget/widget.tmpl.html")}}])}.call(this),function(){angular.module("impac.filters.mno-currency",[]).filter("mnoCurrency",["$filter",function(e){return function(t,n,i,r){var a,o,s;return null==n&&(n=""),null==i&&(i=!0),a={USD:"$",AUD:"$",CAD:"$",CNY:"¥",EUR:"€",GBP:"£",HKD:"$",INR:"",JPY:"¥",NZD:"$",SGD:"$",PHP:"₱",AED:"",IDR:"Rp",MMK:""},null==t?"":(s=!i&&_.has(a,n)?a[n]:"",o=e("currency")(t,s,r),o=o.replace("(","-"),o=o.replace(")",""),(n&&!n.match(/[A-Z]{3}/)||"%"===n||"(ratio)"===n)&&(o=o.replace(/,/g,""),"%"!==n&&"(ratio)"!==n)?parseInt(o):(i&&(o=o+" "+n),o))}}])}.call(this),function(){angular.module("impac.filters.url-helper",[]).filter("urlHelper",function(){return function(e,t){var n,i;if(e&&e.length)return n=function(){return e=[e,t.shift()].join("?"),e=[].concat.apply([],[e,t]).join("&")},i=function(){var e,i,r;for(i=0,e=[],r=Object.keys(t);i<r.length;)e.push(r[i]+"="+t[r[i]]),i++;return t=e,n()},Array.isArray(t)&&n(),"object"!=typeof t||Array.isArray(t)||i(),e}})}.call(this),function(){angular.module("impac.services.alerts",[]).service("ImpacAlerts",["$log","$q","$http","$httpParamSerializerJQLike","ImpacRoutes","ImpacMainSvc","ImpacEvents","IMPAC_EVENTS",function(e,t,n,i,r,a,o,s){var l;return l=this,this.config={},o.registerCb(s.impacNotificationsLoad,function(e){return l.getAlerts().then(function(t){return e(t)})}),this.getAlerts=function(){return n.get(r.kpis.alerts.index()).then(function(e){return e.data},function(t){return e.error("ImpacAlerts Service: cannot get alerts.",t),t})},this.create=function(e,t){return n.post(r.kpis.alerts.create(e),t)},this.update=function(e,t){return n.put(r.kpis.alerts.update(e),t)},this.delete=function(e){return n.delete(r.kpis.alerts.delete(e))},l}])}.call(this),function(){angular.module("impac.services.assets",[]).provider("ImpacAssets",function(){var e,t,n;return n=this,t={defaultImagesPath:"/images",impacTitleLogo:":default/impac-title-logo.png",impacDashboardBackground:":default/impac-dashboard-background.png",currencyConversionsIcon:":default/currency-conversions.png",cashFlowLegendIcon:":default/cash-flow.png",payablesLegendIcon:":default/payables.png",projectedCashLegendIcon:":default/projected-cash.png",receivablesLegendIcon:":default/receivables.png",plotLineLegendIcon:":default/plot-line-icon.svg",areaLegendIcon:":default/area-icon.svg",greenArrowUp:":default/green-arrow-up.svg",redArrowDown:":default/red-arrow-down.svg"},n.configure=function(e){return angular.extend(t,e),_.forIn(t,function(e,n){return t[n]=e.replace(":default",t.defaultImagesPath)})},e=function(e){var n;return n=this,n.get=function(e){return t[e]},n},e.$inject=["$log"],n.$get=e,n})}.call(this),function(){angular.module("impac.services.currency-rates",[]).service("ImpacCurrencyRatesSvc",["$log","$http","$filter","$q","$timeout","ImpacRoutes","ImpacMainSvc","ImpacDashboardsSvc",function(e,t,n,i,r,a,o,s){var l,c;return l=this,this.getSsoSessionId=o.getSsoSessionId,this.getCurrentDashboard=s.getCurrentDashboard,this.getOrgUids=_.pluck(l.getCurrentDashboard().data_sources,"uid"),this.locked=!1,this.ratesForPeriod=function(n){var o,s;return this.locked?(e.warn("Impac! - CurrencyRatesSvc: ratesForPeriod locked. Trying again in 1s"),r(function(){return l.ratesForPeriod(n)},1e3)):(this.locked=!0,o={sso_session:this.getSsoSessionId,engine:"currencies/currency_rates",metadata:{organization_ids:this.getOrgUids,hist_parameters:n}},s=c(a.widgets.show(),o),t.get(s).then(function(t){var n,i,r,a,s;if(a=[],null!=t&&null!=t.data&&!_.isEmpty(t.data.content))for(s=t.data.content.currency_rates,n=0,i=s.length;n<i;n++)r=s[n],a.push(r);return e.info("Impac! - CurrencyRatesSvc: ratesForPeriod params "+o),a},function(t){return e.error("Impac! - CurrencyRatesSvc: Cannot retrieve current rates :",t),i.reject(t)}).finally(function(){return l.locked=!1}))},c=function(e,t){return[e,decodeURIComponent($.param(t))].join("?")},this}])}.call(this),function(){angular.module("impac.services.bolt-resources",[]).service("BoltResources",["$http","ImpacMainSvc",function(e,t){var n,i;n=function(){var e;return e="Basic "+btoa(t.getSsoSessionId()),{Authorization:e}},i=function(e,t){var n,i;return i=e.join("/"),n=decodeURIComponent($.param(t)),[i,n].join("?")},this.index=function(t,r,a){var o;return o=i([t,r],a),e.get(o,{headers:n()})},this.update=function(t,i,r,a){var o,s;return s=[t,i,r].join("/"),o={data:{id:r,type:i,attributes:a}},e.put(s,o,{headers:n()})},this.create=function(t,i,r,a){var o,s;return s=[t,i].join("/"),o={data:{type:i,attributes:r,relationships:a}},e.post(s,o,{headers:n()})},this.destroy=function(t,i,r){var a;return a=[t,i,r].join("/"),e.delete(a,{headers:n()})}}])}.call(this),function(){angular.module("impac.services.dashboard-templates",[]).service("ImpacDhbTemplatesSvc",["$q","$http","$log","ImpacRoutes","ImpacDashboardsSvc",function(e,t,n,i,r){return this,this.index=function(){return t.get(i.dashboardTemplates.index()).then(function(e){return e.data||[]},function(t){return n.err("Impac! DashboardTemplatesSvc: failed to retrieve dashboard templates",t),e.reject()})},this}])}.call(this),function(){angular.module("impac.services.chart-formatter",[]).service("ChartFormatterSvc",["ImpacTheming","$filter","$window","$document","ImpacDashboardsSvc",function(e,t,n,i,r){var a,o,s,l,c,u,d,h;o=this,a=e.get().chartColors,n.onblur=function(){return angular.element(i[0].getElementById("chartjs-tooltip")).remove()},this.getPositiveColor=function(){return a.positive},this.getNegativeColor=function(){return a.negative},this.getOthersColor=function(){return a.others},this.getColor=function(e){return a.array[e%a.array.length]},this.getLightenColor=function(e,t){var n;if(n=a.array[e%a.array.length])return h(n,t||.4)},s=function(e){return e.replace(/#/,"")},u=function(e){return parseInt(s(e).substring(0,2),16)},c=function(e){return parseInt(s(e).substring(2,4),16)},l=function(e){return parseInt(s(e).substring(4,6),16)},d=function(e){return[u(e),c(e),l(e)].join(",")},h=function(e,t){return"rgba("+d(e)+","+t+")"},this.customTooltip=function(e){var t,n,i,r,a,o;return o=angular.element("#chartjs-tooltip"),o[0]||(angular.element("body").append('<div id="chartjs-tooltip"></div>'),o=angular.element("#chartjs-tooltip")),e.opacity?(o.removeClass("above below no-transform"),e.yAlign?o.addClass(e.yAlign):o.addClass("no-transform"),e.body&&(n=_.compact([(e.beforeTitle||[]).join("<br/>"),(e.title||[]).join("<br/>"),(e.afterTitle||[]).join("<br/>"),(e.beforeBody||[]).join("<br/>"),(e.body||[]).join("<br/>"),(e.afterBody||[]).join("<br/>"),(e.beforeFooter||[]).join("<br/>"),(e.footer||[]).join("<br/>"),(e.afterFooter||[]).join("<br/>")]),o.html(n.join("<br/>"))),t=angular.element(this._chart.canvas),r=t.offset(),t.bind("mouseleave",function(e){if("chartjs-tooltip"!==e.relatedTarget.id)return o.remove()}),o.bind("mouseleave",function(e){if("CANVAS"!==e.relatedTarget.tagName)return o.remove()}),o.css({"background-color":"#17262d",color:"white",opacity:1,transition:"opacity 0.5s, top 0.5s, left 0.5s",position:"absolute",width:null!=(a=e.width)?a:(i={},i[e.width+"px"]="auto",i),left:r.left+e.x+10+"px",top:r.top+e.y+10+"px",fontFamily:e._fontFamily,fontSize:e.fontSize,fontStyle:e._fontStyle,padding:e.yPadding+"px "+e.xPadding+"px","border-radius":"2px"})):void o.css({opacity:.5})},angular.merge(Chart.defaults.global,{defaultColor:o.getColor(0),tooltips:{titleFontFamily:"Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif",bodyFontFamily:"Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif",footerFontFamily:"Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif",enabled:!1,custom:o.customTooltip},elements:{point:{hitRadius:8,hoverRadius:8},line:{tension:0,borderWidth:2}},legend:{display:!1}}),angular.merge(Chart.defaults.scale,{ticks:{beginAtZero:!0,minRotation:0,fontFamily:"Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif"},scaleLabel:{fontFamily:"Lato, 'Helvetica Neue', Helvetica, Arial, sans-serif"}}),this.setTooltipsTextLayout=function(e,n){return null==n&&(n=!1),angular.merge(e,{tooltips:{callbacks:{title:function(e,t){var i;return n?(i=[t.labels[e[0].index]],t.datasets[e[0].datasetIndex].label&&i.push(t.datasets[e[0].datasetIndex].label),i.join(" | ")):t.labels[e[0].index]},label:function(n,i){var a;return a=e.currency||r.getCurrentDashboard().currency,"hide"!==a?t("mnoCurrency")(i.datasets[n.datasetIndex].data[n.index],a):i.datasets[n.datasetIndex].data[n.index]}}}})},this.lineChart=function(e,t,n){var i,r,a;return null==t&&(t={}),null==n&&(n=!1),o.setTooltipsTextLayout(t,!0),i=0,r=1===e.length,a=!1,e[0].labels.length<2&&(a=!0,e[0].labels.push(e[0].labels[0])),(e.length>1||null!=t.pointDot&&!t.pointDot||a)&&angular.merge(t,{elements:{point:{radius:1e-4},line:{tension:.3}}}),{type:"line",options:t,data:{labels:e[0].labels,datasets:_.map(e,function(e){var t;return a&&e.values.push(e.values[0]),t=n?0===i?o.getNegativeColor():o.getPositiveColor():o.getColor(i),i++,{label:e.title,data:e.values,fill:r,backgroundColor:h(t,.3),borderColor:t,pointBorderColor:t,pointBackgroundColor:t,pointHoverBackgroundColor:"rgb(255,255,255)"}})}}},this.barChart=function(e,t,n){var i,r,a,s,l,c;for(null==t&&(t={}),null==n&&(n=!0),o.setTooltipsTextLayout(t),a=0,i=[],l=e.values,r=0,s=l.length;r<s;r++)c=l[r],n&&(e.values[a]=Math.abs(c)),i.push(o.getColor(a)),a++;return{type:"bar",options:t,data:{labels:e.labels,datasets:[{backgroundColor:i,data:e.values}]}}},this.combinedBarChart=function(e,t,n,i){var r;return null==t&&(t={}),null==n&&(n=!0),null==i&&(i=!1),o.setTooltipsTextLayout(t,!0),r=0,{type:"bar",options:t,data:{labels:e.labels,datasets:_.map(e.datasets,function(e){var t,a,s,l,c;if(t=o.getColor(r),i&&(t=0===r?o.getNegativeColor():o.getPositiveColor()),r++,n)for(l=e.values,a=0,s=l.length;a<s;a++)c=l[a],c=Math.abs(c);return{label:e.title,data:e.values,backgroundColor:t}})}}},this.pieChart=function(e,t,n){var i,r,a,s,l,c;if(null==t&&(t={}),null==n&&(n=!1),o.setTooltipsTextLayout(t),a=0,i=[],n)for(i.push(o.getNegativeColor()),r=0,l=e.length;r<l;r++)e[r],0!==a&&i.push(o.getPositiveColor()),a++;else for(s=0,c=e.length;s<c;s++)e[s],i.push(o.getColor(a)),a++;return{type:"doughnut",options:t,data:{datasets:[{data:_.map(e,function(e){return Math.abs(e.value)}),backgroundColor:i}],labels:_.map(e,function(e){return e.label})}}}}])}.call(this),function(){angular.module("impac.services.dashboards",[]).service("ImpacDashboardsSvc",["$q","$http","$log","$timeout","ImpacMainSvc","ImpacRoutes","ImpacTheming","ImpacDeveloper","ImpacWidgetsTemplates",function(e,t,n,i,r,a,o,s,l){var c,u,d,h,p,f,g;return c=this,this.config={},this.config.dashboards=[],this.getDashboards=function(){return c.config.dashboards},this.config.currentDashboard={},this.getCurrentDashboard=function(){return c.config.currentDashboard},this.config.widgetsTemplates=[],this.getWidgetsTemplates=function(){return c.config.widgetsTemplates},this.config.userAccesses={},this.userAccesses=function(){return c.config.userAccesses},this.callbacks={},this.callbacks.dashboardChanged=e.defer(),this.dashboardChanged=function(){return c.callbacks.dashboardChanged.promise},this.callbacks.widgetAdded=e.defer(),this.widgetAdded=function(){return c.callbacks.widgetAdded.promise},this.callbacks.pdfModeEnabled=e.defer(),this.pdfModeEnabled=function(){return c.callbacks.pdfModeEnabled.promise},this.callbacks.pdfModeCanceled=e.defer(),this.pdfModeCanceled=function(){return c.callbacks.pdfModeCanceled.promise},this.togglePdfMode=function(e){return e?c.callbacks.pdfModeEnabled.notify():c.callbacks.pdfModeCanceled.notify()},this.callbacks.ticked=e.defer(),this.ticked=function(){return c.callbacks.ticked.promise},this.tick=function(){return c.callbacks.ticked.notify()},this.callbacks.dhbLoader=e.defer(),this.dhbLoader=function(){return c.callbacks.dhbLoader.promise},this.triggerDhbLoader=function(e){return null==e&&(e=!1),c.callbacks.dhbLoader.notify(e)},p=function(){return _.isEmpty(c.config.dashboards)||_.isEmpty(c.config.currentDashboard)},this.isThereADashboard=function(){return!_.isEmpty(c.config.currentDashboard)},this.areThereSeveralDashboards=function(){return c.config.dashboards.length>1},this.isCurrentDashboardEmpty=function(){return c.isThereADashboard()&&_.isEmpty(c.config.currentDashboard.widgets)},this.areKpisEnabled=function(){return o.get().dhbKpisConfig.enableKpis&&r.userIsKpiEnabled()},this.reload=function(t){var n;return null==t&&(t=!1),n=e.defer(),c.triggerDhbLoader(!0),c.load(t).then(function(){return n.resolve()},function(){return n.reject()}).finally(function(){return c.triggerDhbLoader(!1)}),n.promise},this.loadLocked=!1,this.load=function(o){var s;return null==o&&(o=!1),s=e.defer(),c.loadLocked?(n.warn("Impac! - DashboardsSvc: Load locked. Trying again in 1s"),i(function(){return c.load(o).then(function(e){return s.resolve(e)},function(e){return s.reject(e)})},1e3)):(c.loadLocked=!0,p()||o?r.load(o).then(function(i){var r,l,u;return l=i.currentOrganization.id,angular.merge(c.config.userAccesses,i.currentOrganization.acl.related),r=t.get(a.dashboards.index(l)).then(function(e){return c.setDashboards(e.data).then(function(){return c.setCurrentDashboard()})},function(e){return n.error("Impac! - DashboardsSvc: cannot retrieve dashboards list for org: "+l)}),u=d(),e.all([r,u]).then(function(e){return n.info("Impac! - DashboardsSvc: loaded (force="+o+")"),s.resolve(c.config)},function(e){return s.reject(e)}).finally(function(){return c.loadLocked=!1})},function(e){return n.error("Impac! - DashboardsSvc: cannot retrieve current organization"),c.loadLocked=!1,s.reject(e)}):(c.loadLocked=!1,s.resolve(c.config))),s.promise},d=function(){var i,r,o;return o={},r=a.bolts(),o.legacy=t.get(g()).then(function(e){return _.sortBy(e.data.widgets,"name")},function(){return n.error("Impac! - DashboardsSvc: cannot retrieve widgets templates",g())}),i=_.map(r,function(e){var i;return i=e.provider+"_"+e.name,o[i]=t.get(e.path+"/widgets").then(function(t){return _.map(t.data.widgets,function(t){return _.extend(t,{metadata:{bolt_path:e.path}})})},function(){return n.error("Impac! - DashboardsSvc: cannot retrieve widgets templates from bolt",e.path+"/widgets")}),i}),e.all(o).then(function(e){var t;return t=_.map(i,function(t){return e[t]}),c.setWidgetsTemplates(_.flattenDeep([e.legacy,t]))})},g=function(){var e;return o.get().dhbWidgetsConfig.templates.defaultToFinancialYear?(e=r.getFinancialYearEndMonth(),a.widgets.templates()+"?financial_year_end_month="+e):a.widgets.templates()},f=function(){return null!=c.config.dashboards&&c.config.dashboards.length>0?(n.info("Impac! - DashboardsSvc: first dashboard set as current by default"),r.override(c.config.currentDashboard,c.config.dashboards[0]),c.initializeActiveTabs(),c.callbacks.dashboardChanged.notify(c.config.currentDashboard),!0):(n.warn("Impac! - DashboardsSvc: cannot set default current dashboard"),r.override(c.config.currentDashboard,{}),c.callbacks.dashboardChanged.notify(!1),!1)},this.setCurrentDashboard=function(e){var t;return null==e&&(e=null),null!=e?(t=_.find(c.config.dashboards,function(t){return e===t.id}),_.isEmpty(t)?(n.error("Impac! - DashboardsSvc: Dashboard "+e+" not found in dashboards list"),f()):(r.override(c.config.currentDashboard,t),c.initializeActiveTabs(),c.callbacks.dashboardChanged.notify(c.config.currentDashboard),!0)):f()},u=function(e,t){return _.includes(_.pluck(e.data_sources,"id"),t.id)},this.setDashboards=function(e){return null==e&&(e=[]),r.loadOrganizations().then(function(t){var n,i,r,a,o;for(n=t.currentOrganization,_.remove(c.config.dashboards,function(){return!0}),o=[],r=0,a=e.length;r<a;r++)i=e[r],u(i,n)?o.push(c.config.dashboards.push(i)):o.push(void 0);return o},function(e){return n.error("Impac! - DashboardsSvc: Cannot load user's organizations")})},h=function(e){var t,n,i,r;if(i=o.get().widgetSelectorConfig,r=l.filename(e),t=_.get(e,"metadata.bolt_path"))n=_.find(a.bolts(),function(e){return e.path===t}),r=n.provider+"/"+n.name+"/"+e.endpoint;else if(!l.templatePath(e))return!1;return _.isEmpty(i.whitelist)?!!_.isEmpty(i.blacklist)||!_.includes(i.blacklist,r):_.includes(i.whitelist,r)},this.setWidgetsTemplates=function(e){var t,n,i,r;if(_.isEmpty(e))return!1;for(s.isEnabled()&&(e=s.stubWidgetsTemplates(e)),t=c.config.widgetsTemplates,t.length=0,n=0,i=e.length;n<i;n++)r=e[n],h(r)&&t.push(r);return t},this.initializeActiveTabs=function(){var e,t,n,i,r;for(i=c.config.dashboards,r=[],t=0,n=i.length;t<n;t++)e=i[t],r.push(_.merge(e,{active:c.config.currentDashboard.id===e.id}));return r},this.create=function(i){return c.load().then(function(){var o,s,l;return s=e.defer(),l=r.config.currentOrganization,null==i.currency&&(i.currency=l.currency||"USD"),o={dashboard:i},t.post(a.dashboards.create(l.id),o).then(function(e){return c.config.dashboards.push(e.data),c.setCurrentDashboard(e.data.id),s.resolve(e.data)},function(e){
return n.error("Impac! - DashboardsSvc: Cannot create dashboard with parameters: "+angular.toJson(i),e),s.reject(e)}),s.promise})},this.copy=function(i){var r;return i.id||e.reject("The dashboard you are trying to copy does not have an id"),r={dashboard:i},c.load().then(function(o){return t.post(a.dashboards.copy(i.id),r).then(function(t){var n;return n=t.data,c.config.dashboards.push(n),c.setCurrentDashboard(n.id),e.resolve(n)},function(t){return n.error("Impac! - DashboardsSvc: Cannot copy dashboard with parameters: "+angular.toJson(i),t),e.reject(t)})})},this.delete=function(i){var r;return r=e.defer(),t.delete(a.dashboards.delete(i)).then(function(e){return _.remove(c.config.dashboards,function(e){return i===e.id}),c.setCurrentDashboard(),r.resolve(e)},function(e){return n.error("Impac! - DashboardsSvc: Cannot delete dashboard: "+i),r.reject(e)}),r.promise},this.update=function(i,r){var o,s;return s=e.defer(),o={dashboard:r},t.put(a.dashboards.update(i),o).then(function(e){return angular.merge(_.find(c.config.dashboards,function(e){return i===e.id}),e.data),i===c.config.currentDashboard.id&&angular.merge(c.config.currentDashboard,e.data),s.resolve(e.data)},function(e){return n.error("Impac! - DashboardsSvc: Cannot update dashboard: "+i+" with parameters: "+angular.toJson(r)),s.reject(e)}),s.promise},c}])}.call(this),function(){angular.module("impac.services.developer",[]).provider("ImpacDeveloper",function(){var e,t,n;return n=this,t={status:!1,widgetsTemplates:[]},n.configure=function(e){return angular.extend(t,e)},e=function(e){var n,i;return n={endpoint:"endpoint"},i=this,i.isEnabled=function(){return t.status},i.stubWidgetsTemplates=function(e){return e.concat(t.widgetsTemplates)},i.findTemplate=function(e,i,r){var a;return null==i&&(i=["endpoint","metadata"]),null==r&&(r=["template"]),a=_.mapKeys(e,function(e,t){return null!=n[t]?n[t]:t}),a.metadata&&(a.metadata=_.pick(a.metadata,r)),_.find(t.widgetsTemplates,function(e){return _.isEqual(_.pick(a,i),_.pick(e,i))})},i.isWidgetStubbed=function(e){return!_.isEmpty(i.findTemplate(e))},i.createWidgetStub=function(t,n){var r;return r=angular.copy(i.findTemplate(t)),e.resolve({data:{id:Math.random().toString(36).substr(2,9)+"-stubbed",name:r.name,endpoint:r.endpoint,width:r.width,metadata:angular.merge(r.metadata,{organization_ids:_.map(n.data_sources,function(e){return e.uid}),currency:n.currency})}})},i.updateWidgetStub=function(t,n){var r;return r=angular.copy(i.findTemplate(t)),angular.merge(n.metadata,r.metadata),e.resolve({data:n})},i.deleteWidgetStub=function(){return e.resolve({success:!0})},i},e.$inject=["$q"],n.$get=e,n})}.call(this),function(){angular.module("impac.services.kpis",[]).service("ImpacKpisSvc",["$log","$http","$filter","$q","$timeout","ImpacRoutes","ImpacMainSvc","ImpacDashboardsSvc","ImpacDeveloper","ImpacAlerts","ImpacEvents","IMPAC_EVENTS","ImpacUtilities","ImpacTheming","toastr",function(e,t,n,i,r,a,o,s,l,c,u,d,h,p,f){var g,m,v;return g=this,this.getSsoSessionId=o.getSsoSessionId,this.getCurrentDashboard=s.getCurrentDashboard,this.config={kpisTemplates:[]},this.getKpisTemplates=function(){return g.config.kpisTemplates},this.getKpiTemplate=function(e,t){return _.find(g.getKpisTemplates(),function(n){return n.endpoint===e&&n.watchables[0]===t})},this.getAttachableKpis=function(e){var t;return t=i.defer(),g.load().then(function(){var n;return n=_.select(g.getKpisTemplates(),function(t){return!!_.isArray(t.attachables)&&_.includes(t.attachables,e)}),t.resolve(n)},function(){return t.reject()}),t.promise},this.getKpisDateRange=function(){return p.get().dhbKpisConfig.enableDatesPicker?g.load().then(function(){var e;return e=g.getCurrentDashboard().metadata.kpis_hist_parameters,!_.isEmpty(e)&&_.isObject(e)?e:o.load().then(function(e){var t,n;return n=parseInt(e.currentOrganization.financial_year_end_month)||6,t=h.financialYearDates(n),{from:t.start,to:moment().format("YYYY-MM-DD"),keepToday:!0}})}):i.reject("Kpis dates picker disabled")},u.registerCb(d.kpiTargetAlert,function(e){return g.refreshAll(!0)}),v=function(e,t,n,i){var r;return r=[e,t,n].join("/"),[r,decodeURIComponent($.param(i))].join("?")},this.locked=!1,this.load=function(t){return null==t&&(t=!1),g.locked?(e.warn("Impac! - KpisSvc: Load locked. Trying again in 1s"),r(function(){return g.load(t)},1e3)):(g.locked=!0,i.all([o.loadUserData(),s.load()]).then(function(n){var i,r,a;return i=_.pluck(g.getCurrentDashboard().data_sources,"uid"),a=n[0].sso_session,r={metadata:{organization_ids:i},opts:{refresh_cache:t}},a&&(r.sso_session=a),m(r).finally(function(){return g.locked=!1,e.info("Impac! - KpisSvc: loaded")})},function(t){return e.error("Impac! - KpisSvc: failed to load.",t)}).finally(function(){return g.locked=!1}))},this.massAssignAll=function(e){return g.load().then(function(){var t,n,i,r,a,o,s,l,c,u,d;for(l=g.getCurrentDashboard().kpis,t=0,a=l.length;t<a;t++)i=l[t],g.update(i,{metadata:e});for(c=g.getCurrentDashboard().widgets,n=0,o=c.length;n<o;n++)for(d=c[n],u=d.kpis,r=0,s=u.length;r<s;r++)i=u[r],g.update(i,{metadata:e},!1)})},this.isRefreshing=!1,this.refreshAll=function(t){if(null==t&&(t=!1),!g.isRefreshing)return g.isRefreshing=!0,g.load(t).then(function(){var n,i,r,a,o;for(a=g.getCurrentDashboard().kpis,o=[],n=0,r=a.length;n<r;n++)i=a[n],o.push(g.show(i,t).then(function(e){},function(t){return e.error("Unable to refresh all Kpis: "+t)}));return o}).finally(function(){return r(function(){return g.isRefreshing=!1},3e3)})},this.validateKpiTargets=function(e){return!_.isEmpty(e)&&_.every(e,function(e){return!_.isEmpty(e)&&_.every(e,function(e){return e.min||e.max})})},this.formatKpiName=function(e){var t;return t=_.find(g.getKpisTemplates(),function(t){return t.endpoint===e}),angular.copy(t.name)},this.formatKpiTarget=function(e,t,i){var r,a;return null==i&&(i=[]),e&&t?(a=_.keys(e)[0],r=_.find(i,function(e){return e.mode===a})||{},(r.label||a)+" "+n("mnoCurrency")(e[a],t,!1)):""},this.updateKpisOrder=function(e){var t,n;return t=g.getCurrentDashboard().id,n={metadata:{kpis_order:e}},s.update(t,n)},this.getKpiTargetPlaceholder=function(e,t){var n;return null!=(n=g.getKpiTemplate(e,t))&&null!=n.target_placeholders&&n.target_placeholders[t]||{}},this.buildKpiWatchables=function(e){if(e.element_watched)return e.watchables=[e.element_watched].concat(e.extra_watchables||[])},m=function(n){var r,o,s,l,c,u,d;for(l=[],c=[],s=[a.kpis.index(),decodeURIComponent($.param(n))].join("?"),c.push(t.get(s).then(function(e){var t,n,i,r,a;for(i=e.data.kpis,r=[],t=0,n=i.length;t<n;t++)a=i[t],a.source||(a.source="impac"),r.push(l.push(a));return r},function(t){return e.error("Impac! - KpisSvc: cannot retrieve kpis templates from Impac!")})),a.kpis.local()&&t.get(a.kpis.local()).then(function(e){var t,n,i,r,a;for(i=e.data.kpis,r=[],t=0,n=i.length;t<n;t++)a=i[t],a.source="local",r.push(g.config.kpisTemplates.push(a));return r},function(t){return e.error("Impac! - KpisSvc: cannot retrieve kpis templates from local",""+a.kpis.local())}),d=a.bolts(),o=0,u=d.length;o<u;o++)r=d[o],c.push(t.get(r.path+"/kpis").then(function(e){var t,n,i,a,o;for(i=e.data.kpis,a=[],t=0,n=i.length;t<n;t++)o=i[t],o.metadata||(o.metadata={}),o.metadata.bolt_path=r.path,a.push(l.push(o));return a},function(t){return e.error("Impac! - KpisSvc: cannot retrieve kpis templates from bolt",r.path+"/kpis")}));return i.all(c).then(function(){var e,t,n,i;for(_.remove(g.config.kpisTemplates,function(){return!0}),n=[],e=0,t=l.length;e<t;e++)i=l[e],n.push(g.config.kpisTemplates.push(i));return n})},this.show=function(n,r){return null==r&&(r=!1),n.isLoading=!0,g.load().then(function(){var o,s,l,c;switch(l=angular.copy(n.settings)||{},l.utc_offset||(l.utc_offset=moment().utcOffset()),s={opts:{refresh_cache:r}},g.getSsoSessionId()&&(s.sso_session=g.getSsoSessionId()),null!=n.targets&&(s.targets=n.targets),s.metadata=l,null!=n.extra_params&&(s.extra_params=n.extra_params),null!=n.extra_watchables&&(s.extra_watchables=n.extra_watchables),n.source){case"impac":o=a.kpis.show(g.getCurrentDashboard().id,n.id);break;case"local":o=a.kpis.local()}return c=v(o,n.endpoint,n.element_watched,s),t.get(c).then(function(e){var t,i,r;return t=e.data.kpi,n.data=t.calculation,r=t.configuration||{},i=_.select(["targets","extra_params"],function(e){return null==n[e]&&null!=r[e]}),angular.extend(n,_.pick(r,i)),n.layout=t.layout,n},function(t){return e.error("Impac! - KpisSvc: Could not retrieve KPI (show) at: "+n.endpoint,t),i.reject(t)})},function(){return e.error("Impac! - KpisSvc: Service not initialized"),i.reject({error:{message:"Impac! - KpisSvc: Service is not initialized"}})}).finally(function(){return n.isLoading=!1})},this.create=function(n,r,o,s){var l;return null==s&&(s={}),l=i.defer(),g.load().then(function(){var i;return i={source:n,endpoint:r,element_watched:o,metadata:{currency:g.getCurrentDashboard().currency}},g.getKpisDateRange().then(function(e){return null==i.metadata&&(i.metadata={}),i.metadata.hist_parameters=e}).finally(function(){var n;return angular.merge(i,s),n=a.kpis.create(g.getCurrentDashboard().id),t.post(n,{kpi:i}).then(function(e){var t;return u.notifyCallbacks(d.addOrRemoveAlerts),t=e.data,g.buildKpiWatchables(t),l.resolve(t)},function(t){return e.error("Impac! - KpisSvc: Unable to create kpi endpoint="+r,t),f.error("Unable to create KPI","Error"),l.reject(t)})})},function(){return l.reject({error:{message:"Impac! - KpisSvc: Service is not initialized"}})}),l.promise},this.update=function(n,r,o){return null==r&&(r={}),null==o&&(o=!0),n.isLoading=!0,g.load().then(function(){var s,l;if(s={},null!=r.name&&(s.name=r.name),null!=r.metadata&&(s.settings=r.metadata),null!=r.targets&&(s.targets=r.targets),null!=r.extra_params&&(s.extra_params=r.extra_params),l=a.kpis.update(g.getCurrentDashboard().id,n.id),!_.isEmpty(s))return t.put(l,{kpi:r}).then(function(e){return u.notifyCallbacks(d.addOrRemoveAlerts),angular.extend(n,e.data),g.buildKpiWatchables(n),o?g.show(n):n},function(t){return e.error("Impac! - KpisSvc: Unable to update KPI "+n.id,t),i.reject(t)})}).finally(function(){return n.isLoading=!1})},this.delete=function(n){return g.load().then(function(){var r;return r=a.kpis.delete(g.getCurrentDashboard().id,n.id),t.delete(r).then(function(e){return u.notifyCallbacks(d.addOrRemoveAlerts),e},function(t){return e.error("Impac! KpisSvc: Unable to delete KPI "+n.id,t),i.reject(t)})})},this.saveAlerts=function(e,t){var n,r,a,o,s,l,h,p,f,g,m,v;for(a=_.filter(t,function(t){return t.active&&!_.includes(_.map(e.alerts,function(e){return e.service}),t.service)}),o=_.filter(e.alerts,function(e){return!t[e.service].active}),s=_.filter(t,function(t){var n,i,r,a;return n=_.find(e.alerts,function(e){return e.service===t.service}),!("inapp"===t.service||!n||!t.recipients)&&(i=n.recipients.map(function(e){return e.id}).sort(),a=t.recipients.map(function(e){return e.id}).sort(),r=!1,a.length===i.length&&""+i==""+a||(r=!0),t.id=n.id,t.active&&r)}),v=[],l=0,f=a.length;l<f;l++)n=a[l],r={alert:_.pick(n,["service"])},"email"===n.service&&(r.alert.recipients=n.recipients),v.push(c.create(e.id,r));for(h=0,g=o.length;h<g;h++)n=o[h],v.push(c.delete(n.id));for(p=0,m=s.length;p<m;p++)n=s[p],v.push(c.update(n.id,{alert:_.pick(n,["service","recipients"])}));return i.all(v).then(function(t){var n,i,r;for(e.alerts||(e.alerts=[]),i=0,n=t.length;i<n;i++)r=t[i],r.data.deleted?_.remove(e.alerts,function(e){return e.service===r.data.deleted.service}):e.alerts.push(r.data);return u.notifyCallbacks(d.addOrRemoveAlerts)})},this}])}.call(this),function(){angular.module("impac.services.events",[]).service("ImpacEvents",["$log",function(e){var t,n;return t=this,n={},this.registerCb=function(t,i){return _.isFunction(i)?_.isString(t)?(n[t]||(n[t]=[]),n[t].push(i)):e.warn("Event must be a string"):e.warn("Callback must be a Function")},this.notifyCallbacks=function(t,i){return null==i&&(i=null),n[t]?_.forEach(n[t],function(e){return e(i)}):e.warn("No observableCallbacks event named '"+t+"' found.")},this.deregisterCb=function(e,t){if(_.remove(n[e],function(e){return t===e}),_.isEmpty(n[e]))return delete n[e]},this.unsubscribe=function(e){return delete n[e]},t}])}.call(this),function(){angular.module("impac.services.linking",[]).provider("ImpacLinking",function(){var e,t,n,i;return n=this,i={user:null,organizations:null},t={pusher_key:""},n.linkData=function(e){var t,r;for(t in i){if(i[t],null==(r=e[t]))throw new Error("impac-angular linking.svc: Missing core data ("+t+") to run impac-angular.");if("function"!=typeof r)throw new TypeError("impac-angular linking.svc: "+t+" should be a Function.");i[t]=r}return n.linkOptionalData(e,!1),!0},n.linkOptionalData=function(e,n){var i,r,a;null==n&&(n=!0),a={pusher_key:", Alerts are disabled!"};for(i in t)t[i],r=e[i],null==r?console.warn("impac-angular linking.svc: No "+i+" is configured"+a[i]||""):(t[i]=r,n&&console.log("impac-angular linking.svc: "+i+" successfully configured"));return!0},e=function(e){var n;return n=this,n.getUserData=function(){return i.user().then(function(e){return e},function(t){return e.reject(t)})},n.getOrganizations=function(){return i.organizations().then(function(e){return e},function(t){return e.reject(t)})},n.getPusherKey=function(){return t.pusher_key},n},e.$inject=["$q"],n.$get=e,n})}.call(this),function(){angular.module("impac.services.main",[]).service("ImpacMainSvc",["$q","$log","$timeout","ImpacLinking","ImpacNotifications",function(e,t,n,i,r){var a,o,s,l;return a=this,this.config={organizations:[],currentOrganization:{},userData:{},currencies:["USD","AUD","CAD","CNY","EUR","GBP","HKD","INR","JPY","NZD","SGD","PHP","AED","IDR","MMK"]},this.getSsoSessionId=function(){return a.config.userData.sso_session},this.getFinancialYearEndMonth=function(){return parseInt(a.config.currentOrganization.financial_year_end_month)},this.userIsKpiEnabled=function(){return a.config.userData.kpi_enabled},this.callbacks={},this.callbacks.organizationChanged=e.defer(),this.organizationChanged=function(){return a.callbacks.organizationChanged.promise},o=function(){return!(_.isEmpty(a.config.organizations)||_.isEmpty(a.config.currentOrganization||_.isEmpty(a.config.userData)))},this.load=function(n){var i;return null==n&&(n=!1),i=e.defer(),!o()||n?e.all([a.loadOrganizations(n),a.loadUserData(n)]).then(function(e){return r.load(),i.resolve(a.config),t.info("Impac! - MainSvc: loaded (force="+n+")")},function(e){return t.error("Impac! - MainSvc: failed to load configuration"),i.reject(e)}):i.resolve(a.config),i.promise},this.loadOrganizations=function(n){var r;return null==n&&(n=!1),r=e.defer(),_.isEmpty(a.config.organizations)||_.isEmpty(a.config.currentOrganization)||n?(a.config.organizations=[],a.config.currentOrganization={},a.config.currentOrgMembers=[],i.getOrganizations().then(function(e){return null!=e.organizations&&e.organizations.length>0?(a.config.organizations=e.organizations,a.config.currentOrgMembers=e.currentOrgMembers,a.setCurrentOrganization(e.currentOrgId),t.info("Impac! - MainSvc: Organizations loaded (force="+n+")")):t.info("Impac! - MainSvc: retrieved empty organizations list"),r.resolve(a.config)},function(e){return t.error("Impac! - MainSvc: cannot load organizations"),r.reject(e)})):r.resolve(a.config),r.promise},s=function(){return null!=a.config.organizations&&a.config.organizations.length>0?(a.config.currentOrganization=a.config.organizations[0],t.info("Impac! - MainSvc: first organization set as current by default"),a.callbacks.organizationChanged.notify(a.config.currentOrganization),!0):(t.error("Impac! - MainSvc: cannot set default current organization"),a.config.currentOrganization={},a.callbacks.organizationChanged.notify(!1),{error:{code:400,message:"cannot set default current organization"}})},this.setCurrentOrganization=function(e){var n;return null==e&&(e=null),null!=e?(n=_.find(a.config.organizations,function(t){return e===t.id}),_.isEmpty(n)?(t.error("Impac! - MainSvc: organization: "+e+" not found in organizations list"),s()):(a.config.currentOrganization=n,a.callbacks.organizationChanged.notify(a.config.currentOrganization),!0)):s()},l=!1,this.loadUserData=function(r){var o;return null==r&&(r=!1),o=e.defer(),l?(t.warn("Impac! - MainSvc: User data load locked. Trying again in 1s"),n(function(){return a.loadUserData(r).then(function(e){return o.resolve(e)},function(e){return o.reject(e)})},1e3)):(l=!0,_.isEmpty(a.config.userData)||r?(a.config.userData={},i.getUserData().then(function(e){return angular.extend(a.config.userData,e),t.info("Impac! - MainSvc: User data loaded (force="+r+") with sso_session "+a.config.userData.sso_session),o.resolve(a.config.userData)},function(e){return t.error("Impac! - MainSvc: cannot retrieve user data"),o.reject(e)}).finally(function(){return l=!1})):(l=!1,o.resolve(a.config.userData))),o.promise},this.override=function(e,t){var n,i;for(n in e)i=e[n],delete e[n];for(n in t)i=t[n],e[n]=i;return e},a}])}.call(this),function(){angular.module("impac.services.highcharts-factory",[]).factory("HighchartsFactory",["$filter",function(e){var t,n;return t={line:Object.freeze({chart:{type:"line",zoomType:"x",spacingTop:20},legend:{enabled:!0,layout:"vertical",align:"left",verticalAlign:"middle"},title:null,credits:{enabled:!1},yAxis:{title:null,startOnTick:!0,minPadding:0,buttons:[{type:"month",count:4,text:"def."},{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}]}})},n=moment().startOf("day").add(moment().utcOffset(),"minutes"),function(){function i(e,n,i){var r,a,o,s,l;this.id=e,this.series=null!=n?n:{},this.settings=null!=i?i:{},s=t[this.settings.chartType],r=this.formatters(this.settings.currency),l=this.todayMarker(this.settings.showToday,this.settings.markerColor),a=this.onClickCallbacks(this.settings.chartOnClickCallbacks),o={series:this.series},this.highChartOptions=angular.merge({},o,s,r,l,a)}return i.prototype.render=function(){return this.hc=Highcharts.stockChart(this.id,this.highChartOptions),this},i.prototype.formatters=function(t){return{xAxis:{labels:{formatter:function(){return moment.utc(this.value).format("Do MMM YYYY")}}},yAxis:{labels:{formatter:function(){return e("mnoCurrency")(this.value,t,!1,0)}}},tooltip:{shared:!1,formatter:function(){var i,r,a;return r=moment.utc(this.x).format("Do MMM YYYY"),i=e("mnoCurrency")(this.y,t,!1),a=this.series.name,moment(this.x)<n&&(a=_.startCase(_.trim(a.toLowerCase().replace(/\s*projected\s*/," ")))),"<strong>"+r+"</strong><br>"+a+": "+i}}}},i.prototype.todayMarker=function(e,t){return null==t&&(t="rgba(0, 85, 255, 0.2)"),e?{xAxis:{plotLines:[{color:t,value:1e3*n.unix(),width:1,label:{text:null,verticalAlign:"top",textAlign:"center",rotation:0,y:-5}}]}}:{}},i.prototype.addThreshold=function(e){var t,i,r,a,o;if(!_.isEmpty(this.hc)){for(t=angular.copy(this.series[0].data),i=0,r=t.length;i<r;i++)o=t[i],!e.fullLengthThresholds&&moment(o[0])<n?o[1]=null:o[1]=parseFloat(e.value);return a=angular.extend({data:t,showInLegend:!1,marker:{enabled:!1}},e),this.hc.addSeries(a)}},i.prototype.removeThreshold=function(e){var t;if(null!=(t=this.findThreshold(e)))return t.remove()},i.prototype.findThreshold=function(e){return _.find(this.hc.series,function(t){return t.options.kpiId===e})},i.prototype.addThresholdEvent=function(e,t,n){if(null!=e&&null!=t&&_.isFunction(n))return Highcharts.addEvent(e,t,function(t){return n(e)})},i.prototype.addCustomLegend=function(e,t,n){var i;return null==t&&(t=!0),null==n&&(n=!0),i={legend:{labelFormatter:e,useHTML:t,enabled:n}},angular.merge(this.highChartOptions,i)},i.prototype.removeLegend=function(){var e;return e={legend:{enabled:!1}},angular.merge(this.highChartOptions,e)},i.prototype.addSeriesEvent=function(e,t){var n,i;return n={},n[e]=t,i={plotOptions:{series:{events:n}}},angular.merge(this.highChartOptions,i)},i.prototype.onClickCallbacks=function(e){var t;return null==e&&(e=[]),this.settings.chartOnClickCallbacks=e,t=function(e){return _.each(this.settings.chartOnClickCallbacks,function(t){return t(e)})},{chart:{events:{click:t.bind(this)}}}},i.prototype.addOnClickCallback=function(e){return this.settings.chartOnClickCallbacks.push(e)},i.prototype.addXAxisOptions=function(e){var t,n;return n=null!=e?{events:{setExtremes:e.callback},max:_.get(e.defaults,"max"),min:_.get(e.defaults,"min")}:void 0,t={xAxis:n,rangeSelector:{selected:_.get(n,"min")?null:0}},angular.merge(this.highChartOptions,t)},i}()}])}.call(this),function(){angular.module("impac.services.message-bus",[]).service("MsgBus",function(){var e;e={dashboardGrid:{},controlBarFilter:{},controlBarQuickFilter:{},orgaSharingModal:{},appConnectModal:{},page:{},pane:{},errors:[],autostopQueue:[],notificationQueue:[],params:{}},this.publish=function(t,n){return e[t]=n},this.subscribe=function(t){return function(){return e[t]}}})}.call(this),function(){angular.module("impac.services.notifications",[]).service("ImpacNotifications",["$log","Pusher","ImpacTheming","ImpacEvents","IMPAC_EVENTS","toastr",function(e,t,n,i,r,a){var o,s;return s=this,i.registerCb(r.addOrRemoveAlerts,function(){return s.load()}),o={kpi_target_alert:function(e){var t;return t=e.data,a.warning(t.subject),i.notifyCallbacks(r.kpiTargetAlert,t)}},this.load=function(){if(n.get().alertsConfig.enableAlerts)return i.notifyCallbacks(r.impacNotificationsLoad,function(e){var n,i,r,a,s,l,c,u,d,h,p;for(u=t.init(),d=_.map(e,function(e){return"inapp"===e.service&&_.has(e.metadata,"pusher")?_.pick(e.metadata,["pusher"]):null}),d=_.uniq(_.compact(d)),r=_.uniq(_.map(d,function(e){return e.pusher.channel})),h=u.socket.allChannels(),a=0,l=h.length;a<l;a++)n=h[a],r.indexOf(n)<0?u.disconnectChannel(n.name):u.unbindAll(n.name);for(p=[],s=0,c=d.length;s<c;s++)i=d[s],p.push(u.bind(i.pusher.channel,i.pusher.event,o[i.pusher.event]));return p})},s}])}.call(this),function(){angular.module("impac.services.pusher",[]).service("Pusher",["$window","ImpacLinking",function(e,t){var n;return n=this,this.config={pusherOpts:{encrypted:!0}},this.init=function(i){return null==i&&(i=[]),n.socket||(n.socket=new e.Pusher(t.getPusherKey(),n.config.pusherOpts)),_.forEach(i,function(e){return n.socket.subscribe(e)}),n},this.bind=function(e,t,i){return n.socket||n.init(),n.socket.channel(e)||n.socket.subscribe(e),n.socket.channel(e).bind(t,i)},this.bindAll=function(e,t){return n.socket||n.init(),_.forEach(n.socket.allChannels(),function(n){return n.bind(e,t)})},this.unbind=function(e,t){if(n.socket&&n.socket.channel(e))return n.socket.channel(e).unbind(t)},this.unbindAll=function(e){if(n.socket&&n.socket.channel(e))return n.socket.channel(e).unbind()},this.disconnectChannel=function(e){if(n.socket)return n.socket.unsubscribe(e)},n}])}.call(this),function(){angular.module("impac.services.routes",[]).provider("ImpacRoutes",function(){var e,t,n,i,r;return r=this,n={mnoHub:"http://localhost:7000/mnoe/jpi/v1",impacApi:"http://localhost:4000/api",dashboards:{index:null,show:null,create:null,update:null,del:null,copy:null},dashboardTemplates:{index:null,create:null,update:null,del:null},widgets:{index:null,show:null,create:null,update:null,del:null,suggest:null},kpis:{index:null,show:null,create:null,update:null,del:null,local:null},alerts:{index:null,create:null,update:null,del:null},organizations:{appInstancesSync:null}},t={version:"v2",engines:[]},i=function(e){return e.provider||console.warn("Bolt has no provider",e),e.name||console.warn("Bolt has no name",e),e.category||console.warn("Bolt is not mapped to a category",e),Boolean(e.provider&&e.name&&e.category)},r.configureRoutes=function(e){return angular.extend(n,e)},r.configureBolts=function(e,n){var r,a,o;for(a=0,o=n.length;a<o;a++)if(r=n[a],!i(r))return console.warn("Default bolts will be used:",t),!1;return angular.extend(t,{version:e,engines:n})},e=function(){var e;return e=this,e.dashboards={index:function(e){return null==e&&(e=null),n.dashboards.index?n.dashboards.index.replace(":organization_id",e):n.mnoHub+"/impac/dashboards"},create:function(t){return null==t&&(t=null),n.dashboards.create?n.dashboards.create.replace(":organization_id",t):e.dashboards.index(t)},show:function(e){return n.dashboards.show?n.dashboards.show.replace(":id",e):n.mnoHub+"/impac/dashboards/"+e},update:function(t){return n.dashboards.update?n.dashboards.update.replace(":id",t):e.dashboards.show(t)},delete:function(t){return n.dashboards.del?n.dashboards.del.replace(":id",t):e.dashboards.show(t)},copy:function(t){return n.dashboards.copy?n.dashboards.copy.replace(":id",t):e.dashboards.show(t)+"/copy"}},e.dashboardTemplates={index:function(){return n.dashboardTemplates.index?n.dashboardTemplates.index:n.mnoHub+"/impac/dashboard_templates"}},e.widgets={index:function(e){return n.widgets.index?n.widgets.index.replace(":dashboard_id",e):n.mnoHub+"/impac/widgets"},show:function(e,t,i){return n.widgets.show?n.widgets.show.replace(":endpoint",e).replace(":dashboard_id",t).replace(":id",i):n.impacApi+"/v1/widgets/"+e},create:function(t){return n.widgets.create?n.widgets.create.replace(":dashboard_id",t):e.dashboards.show(t)+"/widgets"},update:function(t,i){return n.widgets.update?n.widgets.update.replace(":dashboard_id",t).replace(":id",i):e.widgets.index(t)+"/"+i},delete:function(t,i){return n.widgets.del?n.widgets.del.replace(":dashboard_id",t).replace(":id",i):e.widgets.index(t)+"/"+i},suggest:function(){return n.widgets.suggest},templates:function(){return n.impacApi+"/v1/widgets"}},e.kpis={index:function(e){return n.kpis.index?n.kpis.index.replace(":dashboard_id",e):n.impacApi+"/v1/kpis"},show:function(e,t){return n.kpis.show?n.kpis.show.replace(":dashboard_id",e).replace(":id",t):n.impacApi+"/v1/kpis"},create:function(t){return n.kpis.create?n.kpis.create.replace(":dashboard_id",t):e.dashboards.show(t)+"/kpis"},update:function(e,t){return n.kpis.update?n.kpis.update.replace(":dashboard_id",e).replace(":id",t):n.mnoHub+"/impac/kpis/"+t},delete:function(e,t){return n.kpis.del?n.kpis.del.replace(":dashboard_id",e).replace(":id",t):n.mnoHub+"/impac/kpis/"+t},local:function(){return n.kpis.local},alerts:{index:function(){return n.alerts.index?n.alerts.index:n.mnoHub+"/impac/alerts"},create:function(e){return n.alerts.create?n.alerts.create.replace(":kpi_id",e):n.mnoHub+"/impac/kpis/"+e+"/alerts"},update:function(e){return n.alerts.update?n.alerts.update.replace(":id",e):n.mnoHub+"/impac/alerts/"+e},delete:function(e){return n.alerts.del?n.alerts.del.replace(":id",e):n.mnoHub+"/impac/alerts/"+e}}},e.organizations={appInstancesSync:function(e){return n.organizations.appInstancesSync?n.organizations.appInstancesSync.replace(":uid",e):n.mnoHub+"/organizations/"+e+"/app_instances_sync"}},e.bolts=function(){return _.map(t.engines,function(e){return angular.extend(e,{path:n.impacApi+"/"+t.version+"/"+e.provider+"/"+e.name})})},e},e.$inject=[],r.$get=e,r})}.call(this),function(){angular.module("impac.services.theming",[]).provider("ImpacTheming",function(){var e,t,n;return n=this,t={chartColors:{positive:"#3FC4FF",negative:"#1DE9B6",array:["#1de9b6","#7c4dff","#ffc928","#3fc4ff","#ff8e01","#c6ff00","#d500fa","#ff6e41","#ffeb3c","#ff1844"]},dhbConfig:{showDhbHeading:!1,dhbHeadingText:"Impac!",multiCompany:!1,designerMode:{enabled:!1,dhbLabelName:"Template"}},dhbSelectorConfig:{selectorType:"dropdown",customTmplPath:null,accessibilityEnabled:!1,pdfModeEnabled:!1},dhbWidgetsConfig:{templates:{defaultToFinancialYear:!0}},dhbKpisConfig:{enableKpis:!0,parentElementId:"",enableDatesPicker:!0},alertsConfig:{enableAlerts:!0},dataNotFoundConfig:{content:{mainMessage:"impac.data_not_found_config.main_message",liveBMessage:"impac.data_not_found_config.live_b_message",linkMessage:"impac.data_not_found_config.link_message",liveBTitle:"impac.data_not_found_config.liveBTitle",title:"impac.data_not_found_config.title",seeExample:"impac.data_not_found_config.see_example",demoData:"impac.data_not_found_config.demo_data"},linkUrl:"/apps",linkTarget:"_blank",linkUrlCallback:null},dhbErrorsConfig:{firstTimeCreated:{first:"impac.widget.common.error_config.first_time_created.first",second:"impac.widget.common.error_config.first_time_created.second",note:"impac.widget.common.error_config.first_time_created.note"},empty:{first:"impac.widget.common.error_config.empty.first",second:"impac.widget.common.error_config.empty.second"},failed:{first:"impac.widget.common.error_config.failed.first",second:"impac.widget.common.error_config.failed.second"}},dhbSubMenuConfig:{myobMessage:{show:!0,appLink:{show:!0,url:"#/marketplace",text:"impac.widget.common.sub_menu_config.check_this_app"}}},widgetSelectorConfig:{path:null,whitelist:[],blacklist:[]},addChartTile:{show:!1,onClickOptions:{triggers:[]}},showNoWidgetMsg:{show:!0},dhbSettings:{inWidgetsContainer:!1,syncApps:{show:function(){return!0},productDescriptor:"Impac!"},currency:{locked:!1},createFromTemplateEnabled:!1},widgetSettings:{histModeChoser:{currentLabels:{bls:"impac.widget.theming.hist.bls",pnl:"impac.widget.theming.hist.pnl",default:"impac.widget.theming.hist.default"},todayPrefixes:{bls:"impac.widget.theming.hist.bls.prefix",pnl:"impac.widget.theming.hist.pnl.prefix",default:"impac.widget.theming.hist.default.prefix"}},timePeriod:{showSlider:!0},tagging:{enabled:!1}},dateFormatterSettings:{default:"L"}},n.configure=function(e){return angular.merge(t,e)},e=function(e,n){var i;return i=this,i.get=function(){return t},i.getDhbLabelName=function(){var e;return e=t.dhbConfig.designerMode,e.enabled?e.dhbLabelName:"Dashboard"},i.color={generateRandomShade:function(t){var i,r;return i=e.Color(t).hsl(),r=e.Color().hsl(i.h,n.getRandomInteger(40,100),n.getRandomInteger(50,85)).rgb(),"rgb("+r.r+", "+r.g+", "+r.b+")"},generateShadesPalette:function(t,n,i){var r,a,o,s,l;for(null==i&&(i={}),i.lightnessRange||(i.lightnessRange=[50,90]),r=e.Color(t).hsl(),o=i.lightnessRange.slice(0,2).reduce(function(e,t){return t-e})/n,s=[],a=0;a<n;)l=e.Color().hsl(r.h,r.s,i.lightnessRange[0]).rgb(),s.push("rgb("+l.r+", "+l.g+", "+l.b+")"),i.lightnessRange[0]+=o,a++;return s}},i},e.$inject=["$window","ImpacUtilities"],n.$get=e,n})}.call(this),function(){angular.module("impac.services.utilities",[]).service("ImpacUtilities",["$window","$templateCache","ImpacRoutes",function(e,t,n){var i,r,a;i=e._,a=e.moment,r=this,this.getDatesRange=function(e,t){var n,r;return null==t&&(t=!1),e&&e.length?(t||(e=e.concat([],a().toDate())),r=i.min(i.map(e,function(e){return a(e)})),n=i.max(i.map(e,function(e){return a(e)})),[r.startOf("day").toDate(),n.startOf("day").toDate()]):[]},this.getPeriodWord=function(e){if(!angular.isDefined(e))return"";switch(e.toLowerCase().slice(0,1)){case"d":return"day";case"w":return"week";case"m":return"month";case"q":return"quarter";case"y":return"year";case"f":return"financial year"}},this.formatPeriod=function(e,t){var n,i;return null==e&&(e=""),null==t&&(t=""),n="",i=""+r.getPeriodWord(t),e>1&&(n=""+e,i+="s"),[n,i].join(" ")},this.selectedTimeRange=function(e){var t,n,i,o,s;return o=a().format("YYYY-MM-DD"),t=a().startOf("year").format("YYYY-MM-DD"),e&&(e.to&&(o=e.to),e.from?t=e.from:e.time_range&&(n=e.time_range.match(/\d/g)&&parseInt(e.time_range.match(/\d/g).join("")),i=e.time_range.match(/[a-z]/)&&e.time_range.match(/[a-z]/)[0],s=r.getPeriodWord(i),t="w"===i?a().subtract(n,s).startOf("isoweek").format("YYYY-MM-DD"):a().subtract(n,s).startOf(s).format("YYYY-MM-DD"))),{from:t,to:o}},this.financialYearDates=function(e){var t,n,i;return i=a().year()-1,a().month()>=e&&(i=a().year()),n=a(i+"-"+(e+1)+"-01","YYYY-MM-DD"),t=angular.copy(n).add(1,"year").subtract(1,"day"),{start:n.format("YYYY-MM-DD"),end:t.format("YYYY-MM-DD")}},this.yearDates=function(){return{from:a().startOf("year").format("YYYY-MM-DD"),to:a().format("YYYY-MM-DD")}},this.processRailsError=function(e){var t;return t=[],e.status&&401===e.status?t.push("Sorry! You are not authorized to perform this action"):e.data&&" "!==e.data?angular.isArray(e.data)?i.each(e.data,function(e){var n;return n=e.charAt(0).toUpperCase()+e.slice(1),t.push(""+n)
}):angular.isObject(e.data)?i.each(e.data,function(e,n){var r;return r=(n.charAt(0).toUpperCase()+n.slice(1)).replace("_"," "),angular.isArray(e)?i.each(e,function(e){return r.match(/base/i)?t.push(e):t.push(r+" "+e)}):r.match(/base/i)?t.push(e):t.push(r+" "+e)}):angular.isString(e.data)?t.push(e.data):t.push("Potentially a system or communication error. Please retry later."):t.push("Potentially a system or communication error. Please retry later."),t},this.getRandomInteger=function(e,t){return Math.random()*(t-e)+e}}])}.call(this),function(){var e=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};angular.module("impac.services.widgets",[]).service("ImpacWidgetsSvc",["$q","$http","$log","$timeout","ImpacRoutes","ImpacMainSvc","ImpacDashboardsSvc","ImpacDeveloper","ImpacEvents","ImpacTheming","IMPAC_EVENTS",function(t,n,i,r,a,o,s,l,c,u,d){var h,p,f;return h=this,this.getSsoSessionId=o.getSsoSessionId,c.registerCb(d.kpiTargetAlert,function(e){return h.refreshAll(!0)}),this.load=function(){return null==h.getSsoSessionId()?t.all([o.loadUserData(),s.load()]):t.resolve()},f=function(e){var t;return t=s.getCurrentDashboard(),!_.isEmpty(t)&&!_.isEmpty(t.widgets)&&_.contains(_.pluck(t.widgets,"id"),e)},this.initWidgetSettings=function(e){var t,n,i,r;if(e.isEditMode=!1,!_.isEmpty(e.settings)){for(i=e.settings,t=0,n=i.length;t<n;t++)r=i[t],r.initialize();return!0}},this.updateWidgetSettings=function(e,t,n){var r,a;return null==t&&(t=!0),null==n&&(n=!1),e.isEditMode=!1,_.isEmpty(e.settings)?(i.warn("Impac! - WidgetsSvc: Tried to update widget: "+e.id+" with no settings",e),!1):(r=_.find(e.settings,function(e){return"dashboard"===e.reach}))&&!n?h.updateAllSimilarWidgets(s.getCurrentDashboard(),r):(a=_.reduce(_.map(e.settings,function(e){return e.toMetadata()}),function(e,t){return null==e&&(e={}),angular.merge(e,t)}),h.update(e,{metadata:a},t))},this.updateAllSimilarWidgets=function(n,i){var r;return r=_.keys(i.toMetadata())[0],angular.extend(n.metadata,i.toMetadata()),s.update(n.id,{metadata:n.metadata}).then(function(a){var o,s,l,c,u,d;for(l=[],c=n.widgets,o=0,s=c.length;o<s;o++)u=c[o],d=_.uniq(_.map(u.settings,function(e){return _.keys(e.toMetadata())[0]})),e.call(d,r)>=0?(angular.extend(u.metadata,i.toMetadata()),l.push(h.update(u,{metadata:u.metadata}))):l.push(t.resolve(u));return t.all(l)})},this.massAssignAll=function(e,n){return null==n&&(n=!1),_.isEmpty(e)?t.reject("undefined metadata"):h.load().then(function(r){var a,o,l,c,u,d,p;if(a=s.getCurrentDashboard(),u=[],null==a||null==a.widgets)return i.error("Impac! - WidgetsSvc: CurrentDhb.widgets is null",a),t.reject("undefined currentDhb or currentDhb.widgets");if(_.isEmpty(a.widgets))return t.resolve([]);for(d=a.widgets,o=0,l=d.length;o<l;o++)p=d[o],c=angular.merge({},p.metadata,e),_.isEqual(p.metadata,c)||u.push(h.update(p,{metadata:c},!1));return t.all(u).then(function(e){return h.refreshAll(n)})})},this.isRefreshing=!1,this.refreshAll=function(e){return null==e&&(e=!1),h.isRefreshing?t.resolve():(h.isRefreshing=!0,h.load().then(function(){var n,r,a,o,l,c;for(n=s.getCurrentDashboard(),o=[],l=n.widgets,r=0,a=l.length;r<a;r++)c=l[r],o.push(h.show(c,{refreshCache:e}).then(function(e){return t.resolve(e)},function(e){return null!=e.data&&e.data.error&&i.error(e.data.error),t.reject(e)}));return t.all(o)}).finally(function(){return r(function(){return h.isRefreshing=!1},3e3)}))},p=function(e){var t,n,i,r;if(angular.isDefined(e.initContext)&&e.initContext(),!_.isEmpty(e.settings))for(i=e.settings,t=0,n=i.length;t<n;t++)r=i[t],angular.isDefined(r.initialize)&&r.initialize();if(angular.isDefined(e.format))return e.format()},this.show=function(e,r){var o,l;return null==r&&(r={}),l=!!r.refreshCache,o=!!r.demo,e.isLoading=!0,h.load().then(function(r){var c,d,f,g,m,v,b,y;return m=angular.copy(e.metadata),m.utc_offset||(m.utc_offset=moment().utcOffset()),g=u.get().dhbConfig.designerMode.enabled||o,v={metadata:m,demo_data:g},l&&(v.refresh_cache=!0),b=e.metadata.bolt_path?e.metadata.bolt_path+"/widgets/"+e.endpoint:(f=s.getCurrentDashboard(),a.widgets.show(e.endpoint,f.id,e.id)),y=[b,decodeURIComponent($.param(v))].join("?"),c="Basic "+btoa(h.getSsoSessionId()),d={headers:{Authorization:c}},n.get(y,d).then(function(n){var r,a;return r=n.data.content||n.data[e.endpoint]||{},_.isEmpty(r)?g?(i.error("Impac! - WidgetsSvc: Cannot retrieve demo data for widget:",e),t.resolve(e)):h.show(e,{refreshCache:l,demo:!0}):(a=n.data.name,angular.extend(e,{content:r,originalName:a,demoData:g}),p(e),t.resolve(e))},function(n){return p(e),angular.isDefined(e.processError)&&null!=n.data&&n.data.error&&e.processError(n.data.error),t.reject(n)})},function(e){return i.error("Impac! - WidgetsSvc: Error while trying to load the service"),t.reject(e)}).finally(function(){return e.isLoading=!1})},this.create=function(e){return h.load().then(function(r){var o,c;return o=s.getCurrentDashboard(),c=l.isWidgetStubbed(e)?l.createWidgetStub(e,o):n.post(a.widgets.create(o.id),e),c.then(function(e){var n;return n=e.data,o.widgets.push(n),s.callbacks.widgetAdded.notify(n),t.resolve(n)},function(e){return i.error("Impac! - WidgetsSvc: Cannot create widget on dashboard "+o.id),t.reject(e)})},function(e){return i.error("Impac! - WidgetsSvc: Error while trying to load the service"),t.reject(e)})},this.update=function(e,r,o){return null==o&&(o=!0),e.isLoading=o,h.load().then(function(c){var u,d,p;return f(e.id)?(d={widget:r},u=s.getCurrentDashboard(),p=l.isWidgetStubbed(e)?l.updateWidgetStub(e,d.widget):n.put(a.widgets.update(u.id,e.id),d),p.then(function(n){return angular.extend(e,n.data),o?h.show(e):t.resolve(e)},function(n){return i.error("Impac! - WidgetsSvc: Cannot update widget: "+e.id),t.reject(n)})):(i.info("Impac! - WidgetsSvc: Trying to update a widget (id: "+e.id+") that is not in currentDashboard"),t.reject("trying to update a widget (id: "+e.id+") that is not in currentDashboard"))},function(e){return i.error("Impac! - WidgetsSvc: Error while trying to load the service"),t.reject(e)}).finally(function(){return e.isLoading=!1})},this.delete=function(e){return h.load().then(function(r){var o,c;return o=s.getCurrentDashboard(),c=l.isWidgetStubbed(e)?l.deleteWidgetStub(e):n.delete(a.widgets.delete(o.id,e.id)),c.then(function(n){return _.remove(o.widgets,function(t){return t.id===e.id}),t.resolve(n)},function(n){return i.error("Impac! - WidgetsSvc: Error while trying to delete widget: "+e.id),t.reject(n)})},function(e){return i.error("Impac! - WidgetsSvc: Error while trying to load the service"),t.reject(e)})},h}])}.call(this),function(){angular.module("impac.services.widgets-templates",[]).service("ImpacWidgetsTemplates",["$templateCache","ImpacRoutes",function(e,t){var n,i,r;n=this,this.filename=function(e){var n,i,r,a;return null!=(a=(r=_.get(e,"metadata.template"))?r.split("/").slice(0,2):e.endpoint&&(i=_.get(e,"metadata.bolt_path"))?(n=_.find(t.bolts(),function(e){return e.path===i}))&&[n.category,e.endpoint]:e.endpoint?e.endpoint.split("/").slice(0,2):void 0)&&_.kebabCase(a)},this.templatePath=function(e){return _.isEmpty(e.layouts)?r(e):i(e)},r=function(t){var i,r;return!!(i=n.filename(t))&&(r="widgets/"+i+".tmpl.html",e.get(r)&&r)},i=function(t){var i,r,a,o,s,l;for(l=t.layouts,r=0,o=l.length;r<o;r++){if(a=l[r],i="widgets-layouts/"+n.filename(t)+".tmpl.html",e.get(i))return i;if(s="widgets-layouts/"+_.kebabCase(a)+".tmpl.html",e.get(s))return s}return!1}}])}.call(this),function(){var e;e=angular.module("impac.components.common.delete-widget",[]),e.component("commonDeleteWidget",{templateUrl:"common/delete-widget.tmpl.html",bindings:{onDelete:"&",onDismiss:"&"},controller:function(){var e;return e=this,e.$onInit=function(){return e.loading=!1},e.deleteWidget=function(){return e.loading=!0,e.onDelete().finally(function(){return e.loading=!1})},e}})}.call(this),function(){var e;e=angular.module("impac.components.common.data-not-found",[]),e.directive("commonDataNotFound",["$templateCache","$location","ImpacTheming",function(e,t,n){return{restrict:"A",link:function(e,i){var r;return r=n.get().dataNotFoundConfig,e.content=r.content,e.designerMode=n.get().dhbConfig.designerMode.enabled,e.messageVisible=!0,e.hide=function(){return e.messageVisible=!1},e.goToMarketplace=function(){return null!=r.linkUrlCallback?r.linkUrlCallback():t.url(r.linkUrl)}},template:e.get("common/data-not-found.tmpl.html")}}])}.call(this),function(){var e;e=angular.module("impac.components.common.duplicate-transactions-list",[]),e.component("duplicateTransactionsList",{templateUrl:"common/duplicate-transactions-list.tmpl.html",bindings:{onHide:"&",onPageChanged:"&",onConfirmDuplication:"&",onChangeResources:"&",transactions:"<",currency:"<",resourcesType:"<"},controller:function(){var e;return e=this,e.$onInit=function(){return e.currentPage=1,e.itemsPerPage=30,e.formatTransactions()},e.formatTransactions=function(){var t,n,i,r,a;for(r=e.transactions,a=[],n=0,i=r.length;n<i;n++)t=r[n],t.origin=t.origin.data.attributes,t.forecast=t.forecast.data.attributes,t.origin=e.formatDates(t.origin),a.push(t.forecast=e.formatDates(t.forecast));return a},e.formatDates=function(e){return e.trxDateUTC=moment.utc(e.transaction_date).format("DD MMM YYYY"),e.dueDateUTC=moment.utc(e.due_date).format("DD MMM YYYY"),e.expectedPaymentDateUTC=moment.utc(e.expected_payment_date).format("DD MMM YYYY"),e.showReset=e.due_date!==e.expected_payment_date,e},e.changePage=function(){return e.onPageChanged({page:e.currentPage}).then(function(){return e.formatTransactions()})},e.showPaginationControl=function(){return e.totalRecords>=e.itemsPerPage},e}})}.call(this),function(){var e;e=angular.module("impac.components.common.transactions-add",[]),e.component("transactionsAdd",{templateUrl:"common/transactions-add.tmpl.html",bindings:{onHide:"&",onCreateTransaction:"&",resourcesType:"=",contacts:"="},controller:function(){var e;return e=this,e.$onInit=function(){return e.trx={datePicker:{opened:!1,date:new Date,toggle:function(){return this.opened=!this.opened}}},e.tempDate=moment().add(10,"weeks").toDate()},e.isValid=function(){return!_.isEmpty(e.trx.name)&&!isNaN(Number(e.trx.amount))&&0!==Number(e.trx.amount)&&e.trx.contact},e.createTransaction=function(){return e.onHide(),e.onCreateTransaction({trx:e.trx})},e}})}.call(this),function(){var e;e=angular.module("impac.components.common.transactions-list",[]),e.component("transactionsList",{templateUrl:"common/transactions-list.tmpl.html",bindings:{onHide:"&",onPageChanged:"&",onUpdateExpectedDate:"&",onChangeResources:"&",onDeleteTransaction:"&",transactions:"<",currency:"<",totalRecords:"<",resourcesType:"<",listOnly:"<"},controller:function(){var e;return e=this,e.$onInit=function(){return e.currentPage=1,e.itemsPerPage=30,e.totalAmount=0,e.totalBalance=0,e.formatTransactions()},e.formatTransactions=function(){var t,n,i,r,a,o;for(r=e.transactions,a=[],t=0,n=r.length;t<n;t++)o=r[t],e.totalAmount+=o.amount,e.totalBalance+=o.balance,o.trxDateUTC=moment.utc(o.transaction_date).format("DD MMM YYYY"),o.dueDateUTC=moment.utc(o.due_date).format("DD MMM YYYY"),o.showReset=o.due_date!==o.expected_payment_date,i=moment.utc(o.expected_payment_date),a.push(o.datePicker={opened:!1,date:new Date(i.year(),i.month(),i.date()),toggle:function(){return this.opened=!this.opened}});return a},e.changeResourcesType=function(){return e.onChangeResources({resourcesType:e.resourcesType}).then(function(){return e.$onInit()})},e.changePage=function(){return e.onPageChanged({page:e.currentPage}).then(function(){return e.formatTransactions()})},e.changeExpectedDate=function(t){return t.showReset=!0,e.onUpdateExpectedDate({trxId:t.id,date:t.datePicker.date})},e.resetExpectedDate=function(t){var n,i;return t.showReset=!1,i=moment.utc(t.due_date),n=new Date(i.year(),i.month(),i.date()),t.datePicker.date=n,e.onUpdateExpectedDate({trxId:t.id,date:t.datePicker.date})},e.showPaginationControl=function(){return e.totalRecords>=e.itemsPerPage},e}})}.call(this),function(){var e;e=angular.module("impac.components.dashboard-settings.currency",[]),e.directive("dashboardSettingCurrency",["$templateCache","$log","ImpacMainSvc","ImpacDashboardsSvc","ImpacWidgetsSvc","ImpacKpisSvc","ImpacTheming","toastr",function(e,t,n,i,r,a,o,s){return{restrict:"A",scope:{currency:"="},link:function(e,t,l){var c;return e.locked=o.get().dhbSettings.currency.locked,c=function(t){return e.currentDhb=t,e.data={currency:t.currency,savedCurrency:t.currency}},i.dashboardChanged().then(null,null,function(e){return c(e)}),n.load().then(function(t){return e.currencies=t.currencies,i.load().then(function(e){return c(e.currentDashboard)})}),e.massAssignCurrency=function(){var t;return t={currency:e.data.currency},i.update(e.currentDhb.id,t).then(function(){return e.data.savedCurrency=e.data.currency,r.massAssignAll(t),a.massAssignAll(t)},function(){return s.error("Unable to select currency '"+e.data.currency+"'","Error"),e.data.currency=e.data.savedCurrency})}},template:e.get("dashboard-settings/currency.tmpl.html")}}])}.call(this),function(){var e;e=angular.module("impac.components.dashboard-settings.pdf-mode",[]),e.directive("dashboardSettingsPdfMode",["$templateCache","$window","ImpacDashboardsSvc","ImpacTheming",function(e,t,n,i){return{restrict:"A",scope:{},template:e.get("dashboard-settings/pdf-mode.tmpl.html"),link:function(e,r,a){return e.enabled=i.get().dhbSelectorConfig.pdfModeEnabled,e.currentDhb=n.getCurrentDashboard(),e.pdfMode=!1,e.allNotTicked=!1,e.toggle=function(){return e.pdfMode=!e.pdfMode,n.togglePdfMode(e.pdfMode)},e.print=function(){return t.print()},n.ticked().then(null,null,function(){return e.allNotTicked=_.all(e.currentDhb.widgets,{ticked:!1})})}}}])}.call(this),function(){var e;e=angular.module("impac.components.dashboard-settings.sync-apps",[]),e.directive("dashboardSettingSyncApps",["$templateCache","$log","$http","$filter","$uibModal","$document","$timeout","ImpacMainSvc","ImpacRoutes","ImpacWidgetsSvc","ImpacKpisSvc","ImpacTheming","poller","$sce",function(e,t,n,i,r,a,o,s,l,c,u,d,h,p){return{restrict:"A",scope:{},template:e.get("dashboard-settings/sync-apps.tmpl.html"),link:function(e,t,a){var o,d,p,f,g,m,v;return e.isSyncing=!1,e.hasConnector=!1,e.hasError=!1,e.modalOpened=!1,p=function(){var e,t,n,i;return i=(new Date).getTimezoneOffset(),n=["+","00","00"],i<0||(n[0]="-"),e=""+Math.abs(Math.floor(i/60)),e.length<2?n[1]="0"+e:n[1]=e,t=""+Math.abs(i%60),t.length<2?n[2]="0"+t:n[2]=t,n.join("")},d=function(e){if(e.last_sync_date)return e.formatted_date=i("date")(e.last_sync_date,"h:mma, yyyy-MM-dd",p())},v=function(){if(c.refreshAll(!0),u.refreshAll(!0),_.any(e.connectors,function(e){return g(e)}))return e.triggerSyncAlertsModal()},m=function(t){var n,i,r,a,o;for(e.connectors=angular.copy(t.connectors)||[],e.hasRunningCube=t.has_running_cube||!1,o=e.isSyncing,e.isSyncing=e.connectors&&e.connectors.length>0&&_.any(e.connectors,function(e){return"PENDING"===e.status||"RUNNING"===e.status}),e.hasError=e.connectors&&e.connectors.length>0&&_.any(e.connectors,function(e){return g(e)}),e.hasConnectors=e.connectors.length>0,e.hasApps=e.hasConnectors||e.hasRunningCube,a=e.connectors,i=0,r=a.length;i<r;i++)n=a[i],d(n);if(o&&!e.isSyncing)return v()},g=function(e){switch(e.status){case"ERROR":case"FAILED":case"DISCONNECTED":case"UNKNOWN":return!0;default:return!1}},e.synchronize=function(){if(!e.isSyncing)return e.isSyncing=!0,n.post(l.organizations.appInstancesSync(e.orgUID)).then(function(e){return m(e.data)})},e.triggerSyncAlertsModal=function(){var t;if(!e.modalOpened&&!_.isEmpty(e.connectors))return t=r.open({animation:!0,size:"md",templateUrl:"alerts.tmpl.html",appendTo:angular.element("impac-dashboard"),openedClass:"sync-modal-opened",controller:["$scope","connectors",function(e,n){return e.connectors=n,e.expandListItemOnClick=function(e){if(e.message)return e.showMessage=!e.showMessage},e.ok=function(){return t.close()}}],resolve:{connectors:function(){return e.connectors}}}),t.opened.then(function(){return e.modalOpened=!0}),t.result.finally(function(){return e.modalOpened=!1})},f=function(){return o(),s.load().then(function(t){return e.orgUID=t.currentOrganization.uid,e.syncingPoller=h.get(l.organizations.appInstancesSync(e.orgUID),{delay:1e4,smart:!0}),e.syncingPoller.promise.then(null,null,function(e){return m(e.data)})})},o=function(){if(e.syncingPoller)return e.syncingPoller.stop()&&e.syncingPoller.remove()},f(),s.organizationChanged().then(null,null,function(e){if(e)return f()}),e.$on("$destroy",o)}}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets.accounts-accounting-values",[]),e.controller("WidgetAccountsAccountingValuesCtrl",["$scope","$q","ChartFormatterSvc","$filter","$translate",function(e,t,n,i,r){var a,o;return o=e.widget,e.orgDeferred=t.defer(),e.timePeriodDeferred=t.defer(),e.histModeDeferred=t.defer(),e.chartDeferred=t.defer(),a=[e.orgDeferred.promise,e.timePeriodDeferred.promise,e.histModeDeferred.promise,e.chartDeferred.promise],o.initContext=function(){return e.isDataFound=null!=o.content&&null!=o.content.accounting,e.getLegend(),e.getCurrency()},e.getCurrentPrice=function(){if(e.isDataFound)return o.content.accounting.total_period},e.getCurrency=function(){if(e.isDataFound)return null!=o.content.accounting.currency_key?r(o.content.accounting.currency_key).then(function(t){return e.currency=t,e.currency_unit=o.content.accounting.currency}):(e.currency=o.content.accounting.currency,e.currency_unit=o.content.accounting.currency)},e.getLegend=function(){if(e.isDataFound)return null!=o.content.accounting.legend_key?r(o.content.accounting.legend_key).then(function(t){return e.legend=t}):e.legend=o.content.accounting.legend},e.drawTrigger=t.defer(),o.format=function(){var t,r,a,s,l,c,u;if(e.isDataFound)return a=angular.copy(o.content.accounting),u=null,null!=o.metadata&&null!=o.metadata.hist_parameters&&(u=o.metadata.hist_parameters.period),s=_.map(a.dates,function(e){return i("momentDate")(e,u)}),l={labels:s,datasets:[{title:a.type,values:a.values}]},t=!0,angular.forEach(a.values,function(e){return t&&(t=e>=0)}),c={scaleBeginAtZero:t,showXLabels:!1,currency:a.currency},r=n.combinedBarChart(l,c,!1),e.drawTrigger.notify(r)},e.widgetDeferred.resolve(a)}]),e.directive("widgetAccountsAccountingValues",function(){return{restrict:"A",controller:"WidgetAccountsAccountingValuesCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.accounts-assets-liability-summary",[]),e.controller("WidgetAccountsAssetsLiabilitySummaryCtrl",["$scope","$q","ChartFormatterSvc","$translate",function(e,t,n,i){var r,a;return a=e.widget,e.orgDeferred=t.defer(),e.chartDeferred=t.defer(),e.paramSelectorDeferred=t.defer(),r=[e.orgDeferred.promise,e.chartDeferred.promise,e.paramSelectorDeferred.promise],a.initContext=function(){if(e.isDataFound=angular.isDefined(a.content)&&!_.isEmpty(a.content.summary),a.metadata.classification||(a.metadata.classification="ASSET"),i("impac.widget.acc_ass_liab_smry."+a.metadata.classification.toLowerCase()+".many").then(function(t){return e.classification=t}),i(["impac.widget.acc_ass_liab_smry.accounts.asset","impac.widget.acc_ass_liab_smry.accounts.liability"]).then(function(t){if(e.accountsOptions=[{label:t["impac.widget.acc_ass_liab_smry.accounts.asset"],value:"ASSET"},{label:t["impac.widget.acc_ass_liab_smry.accounts.liability"],value:"LIABILITY"}],!e.selectedAccountsOption)return e.selectedAccountsOption=angular.copy(_.find(e.accountsOptions,{value:a.metadata.classification}))}),e.isDataFound)return a.metadata.organization_ids.length>1?e.dataSource=a.content.repartition:e.dataSource=a.content.summary},e.getCurrency=function(){if(e.isDataFound)return a.content.currency},e.getAccountColor=function(t){if(e.isDataFound)return n.getColor(_.indexOf(e.dataSource,t))},e.drawTrigger=t.defer(),a.format=function(){var t,i,r;if(e.isDataFound)return i=_.map(e.dataSource,function(e){return{label:e.label,value:e.total}}),r={percentageInnerCutout:50,tooltipFontSize:12},t=n.pieChart(i,r),e.drawTrigger.notify(t)},e.widgetDeferred.resolve(r)}]),e.directive("widgetAccountsAssetsLiabilitySummary",function(){return{restrict:"A",controller:"WidgetAccountsAssetsLiabilitySummaryCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.accounts-assets-summary",[]),e.controller("WidgetAccountsAssetsSummaryCtrl",["$scope","$q","ChartFormatterSvc","$translate",function(e,t,n,i){var r,a;return a=e.widget,e.orgDeferred=t.defer(),e.chartDeferred=t.defer(),r=[e.orgDeferred.promise,e.chartDeferred.promise],a.initContext=function(){return e.isDataFound=angular.isDefined(a.content)&&!_.isEmpty(a.content.summary),e.isDataFound&&(a.metadata.organization_ids.length>1?e.dataSource=a.content.repartition:e.dataSource=a.content.summary),a.metadata.classification||(a.metadata.classification="ASSET"),i("impac.widget.acc_ass_smry."+a.metadata.classification.toLowerCase()+".many").then(function(t){return e.classification=t})},e.getCurrency=function(){if(e.isDataFound)return a.content.currency},e.getAccountColor=function(t){if(e.isDataFound)return n.getColor(_.indexOf(e.dataSource,t))},e.drawTrigger=t.defer(),a.format=function(){var t,i,r;if(e.isDataFound)return i=_.map(e.dataSource,function(e){return{label:e.label,value:e.total}}),r={percentageInnerCutout:50,tooltipFontSize:12},t=n.pieChart(i,r),e.drawTrigger.notify(t)},e.widgetDeferred.resolve(r)}]),e.directive("widgetAccountsAssetsSummary",function(){return{restrict:"A",controller:"WidgetAccountsAssetsSummaryCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.accounts-assets-vs-liabilities",[]),e.controller("WidgetAccountsAssetsVsLiabilitiesCtrl",["$scope","$q","ChartFormatterSvc","$filter","$translate",function(e,t,n,i,r){var a,o;return o=e.widget,e.orgDeferred=t.defer(),e.chartDeferred=t.defer(),a=[e.orgDeferred.promise,e.chartDeferred.promise],r(["impac.widget.acc_ass_vs_liab.asset.one","impac.widget.acc_ass_vs_liab.liability.one"]).then(function(t){return e.classificationTranslation={ASSET:t["impac.widget.acc_ass_vs_liab.asset.one"].toUpperCase(),LIABILITY:t["impac.widget.acc_ass_vs_liab.liability.one"].toUpperCase()}}),o.initContext=function(){var t;if(e.isDataFound=null!=o.content&&!_.isEmpty(o.content.summary)&&!_.isEmpty(o.content.companies),e.isDataFound)return t=0,e.companiesList=_.map(o.content.companies,function(e){var n,i,r;return n=_.find(o.content.summary,function(e){return"ASSET"===e.classification}),i=_.find(o.content.summary,function(e){return"LIABILITY"===e.classification}),r={company:e,assets:null!=n?n.totals[t]:0,liabilities:null!=i?i.totals[t]:0,currency:o.content.currency},t++,r}),e.titleTranslation},e.assetsColor=n.getColor(0),e.liabilitiesColor=n.getColor(1),e.drawTrigger=t.defer(),o.format=function(){var t,i,r,a;if(e.isDataFound)return i=_.map(o.content.summary,function(t){if(_.includes(["ASSET","LIABILITY"],t.classification))return{title:e.classificationTranslation[t.classification],values:t.totals}}),i=_.sortByOrder(i,["title"]),r={labels:o.content.companies,datasets:_.compact(i)},a={showTooltips:!1,showXLabels:!1,barValueSpacing:Math.max(8-o.content.companies.length,1)},t=n.combinedBarChart(r,a),e.drawTrigger.notify(t)},e.widgetDeferred.resolve(a)}]),e.directive("widgetAccountsAssetsVsLiabilities",function(){return{restrict:"A",controller:"WidgetAccountsAssetsVsLiabilitiesCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.accounts-balance",[]),e.controller("WidgetAccountsBalanceCtrl",["$scope","$q","ChartFormatterSvc","$filter",function(e,t,n,i){var r,a;return a=e.widget,e.orgDeferred=t.defer(),e.accountBackDeferred=t.defer(),e.accountFrontDeferred=t.defer(),e.timePeriodDeferred=t.defer(),e.histModeDeferred=t.defer(),e.chartDeferred=t.defer(),r=[e.orgDeferred.promise,e.accountBackDeferred,e.accountFrontDeferred,e.timePeriodDeferred.promise,e.histModeDeferred.promise,e.chartDeferred.promise],e.kpiExtraParams={},e.isDataFound=!0,a.initContext=function(){return e.isDataFound=null!=a.content&&!_.isEmpty(a.content.account_list)},e.getName=function(){if(null!=a.selectedAccount)return a.selectedAccount.name},e.getBehaviour=function(){return null!=a.selectedAccount&&a.selectedAccount.accounting_behaviour},e.getCurrentBalance=function(){return null!=a.selectedAccount?"pnl"===e.getBehaviour()?_.sum(a.selectedAccount.balances):_.last(a.selectedAccount.balances):0},e.getCurrency=function(){if(null!=a.selectedAccount)return a.selectedAccount.currency},e.displayAccount=function(){return e.updateSettings(!1).then(function(){return a.format()})},e.updateKpiExtraParams=function(t,n){return e.kpiExtraParams[t]=angular.copy(n)},e.drawTrigger=t.defer(),a.format=function(){var t,r,o,s,l,c,u,d,h;if(e.isDataFound&&null!=a.selectedAccount)return s=angular.copy(a.selectedAccount),c=s.dates||a.content.dates,h=null,null!=a.metadata&&null!=a.metadata.hist_parameters&&(h=a.metadata.hist_parameters.period),l=_.map(c,function(e){return i("momentDate")(e,h)}),u={title:s.name,labels:l,values:s.balances},r={labels:l,datasets:[{title:s.name,values:s.balances}]},t=!0,angular.forEach(s.balances,function(e){return t&&(t=e>=0)}),d={scaleBeginAtZero:t,showXLabels:!1},o=n.lineChart([u],d),"pnl"===e.getBehaviour()&&(o=n.combinedBarChart(r,d,!1)),e.drawTrigger.notify(o)},e.widgetDeferred.resolve(r)}]),e.directive("widgetAccountsBalance",function(){return{restrict:"A",controller:"WidgetAccountsBalanceCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.accounts-balance-sheet",[]),e.controller("WidgetAccountsBalanceSheetCtrl",["$scope","$q","ImpacWidgetsSvc","ImpacMainSvc","ImpacUtilities","$translate","ImpacTheming",function(e,t,n,i,r,a,o){var s,l,c,u,d,h,p;return p=e.widget,e.orgDeferred=t.defer(),e.datesPickerDeferred=t.defer(),e.tagFilterDeferred=t.defer(),l=[e.orgDeferred.promise,e.datesPickerDeferred.promise,e.tagFilterDeferred.promise],e.datesPickerTemplate='<div class="row text-right">\n  <div class="col-xs-6">\n    <to-date>\n  </div>\n  <div class="col-xs-6">\n    <from-date>\n  </div>\n</div>',e.ascending=!0,e.sortedColumn="account",e.filterTagsEnabled=o.get().widgetSettings.tagging.enabled,e.isReportFiltered=function(){return null!=p.metadata&&null!=p.metadata.filter_query&&Object.keys(p.metadata.filter_query).length>0},s=function(){return e.fromDate=p.metadata.hist_parameters.from,e.toDate=p.metadata.hist_parameters.to,e.keepToday=p.metadata.hist_parameters.keep_today},null==p.metadata||null==p.metadata.hist_parameters?(p.metadata||(p.metadata={}),p.metadata.hist_parameters={to:moment().format("YYYY-MM-DD"),keep_today:!0,period:"RANGE"},i.load().then(function(e){var t;return t=parseInt(e.currentOrganization.financial_year_end_month)||6,p.metadata.hist_parameters.from=moment(r.financialYearDates(t).end,"YYYY-MM-DD").subtract(1,"year").format("YYYY-MM-DD"),s()})):s(),p.initContext=function(){return(e.isDataFound=angular.isDefined(p.content)&&!_.isEmpty(p.content.summary)&&!_.isEmpty(p.content.dates))&&(e.dates=p.content.dates,e.unCollapsed=p.metadata.unCollapsed||[],d(Object.keys(p.content.summary)).then(function(t){return e.categories=t,u()})),s()},e.toggleCollapsed=function(t){if(null!=t)return _.find(e.unCollapsed,function(e){return t===e})?e.unCollapsed=_.reject(e.unCollapsed,function(e){return e===t}):e.unCollapsed.push(t),n.updateWidgetSettings(p,!1)},e.isCollapsed=function(t){if(null!=t)return!_.find(e.unCollapsed,function(e){return t===e})},d=function(e){var n;return n=_.map(e,function(e){return a("impac.widget.account_balance_sheets."+e.toLowerCase()).then(function(t){return{label:t,key:e}},function(){return{label:e.toLowerCase(),key:e}})}),t.all(n)},c=function(t){return angular.forEach(e.categories,function(n){var i;if(i=p.content.summary[n.key],i.accounts)return i.accounts.sort(function(n,i){var r;return r=t(n)>t(i)?1:t(n)<t(i)?-1:0,e.ascending||(r*=-1),r})})},u=function(){if(!_.isEmpty(e.categories))return"account"===e.sortedColumn?c(function(e){return e.name}):"total1"===e.sortedColumn?c(function(e){return e.totals[1]}):"total2"===e.sortedColumn?c(function(e){return e.totals[0]}):void 0},e.sort=function(t){return e.sortedColumn===t?e.ascending=!e.ascending:(e.ascending=!0,e.sortedColumn=t),u()},h={},h.initialized=!1,h.initialize=function(){return h.initialized=!0},h.toMetadata=function(){return{unCollapsed:e.unCollapsed}},p.settings.push(h),e.widgetDeferred.resolve(l)}]),e.directive("widgetAccountsBalanceSheet",function(){return{restrict:"A",controller:"WidgetAccountsBalanceSheetCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.accounts-cash-summary",[]),e.controller("WidgetAccountsCashSummaryCtrl",["$scope","$q","ChartFormatterSvc","$filter","ImpacWidgetsSvc","$translate",function(e,t,n,i,r,a){var o,s,l,c,u,d,h,p,f;return f=e.widget,e.orgDeferred=t.defer(),e.timePeriodDeferred=t.defer(),e.widthDeferred=t.defer(),e.chartDeferred=t.defer(),u=[e.orgDeferred.promise,e.timePeriodDeferred.promise,e.widthDeferred.promise,e.chartDeferred.promise],e.ascending=!0,e.sortedColumn="account",f.initContext=function(){if(e.isDataFound=angular.isDefined(f.content)&&!_.isEmpty(f.content.summary)&&!_.isEmpty(f.content.dates))return e.dates=f.content.dates,e.unCollapsed=f.metadata.unCollapsed||[],_.map(f.content.summary,function(e){if(null!=e.name)return a("impac.widget.account_cash_smry.summary."+e.name.toLowerCase()).then(function(t){return e.label=t})}),a("impac.widget.account_cash_smry.cash_flow."+e.widget.metadata.hist_parameters.period.toLowerCase()).then(function(t){return e.widget.metadata.hist_parameters.period_translation=t}),f.metadata.selectedElement&&(e.selectedElement=_.find(f.content.summary,function(e){return e.name===f.metadata.selectedElement}),e.selectedElement||(e.selectedElement=o(f.content.summary))),h()},e.getLastDate=function(){if(null!=e.dates)return e.dates[e.dates.length-1]},e.getPrevDate=function(){if(null!=e.dates)return e.dates[e.dates.length-2]},e.getLastValue=function(e){if(null!=e.cash_flows)return _.last(e.cash_flows)},e.formatVariance=function(e){return null!=e?e>0?"+"+e+" %":e+" %":"-"},e.getLastVariance=function(t){return null!=t.variances&&null!=_.last(t.variances)?e.formatVariance(_.last(t.variances)):"-"},e.getVarianceClassColor=function(e){return parseInt(e)>0?"positive":parseInt(e)<0?"negative":null},e.getName=function(e){if(null!=e&&null!=e.name)return e.name.replace(/_/g," ")},e.sort=function(t){return e.sortedColumn===t?e.ascending=!e.ascending:(e.ascending=!0,e.sortedColumn=t),h()},e.toggleSelectedElement=function(t,n){return null==n&&(n=null),e.isSelected(t,n)?(e.selectedElement=null,f.isExpanded()?f.toggleExpanded():r.updateWidgetSettings(f,!1)):(e.selectedElement=angular.copy(t),e.selectedElement.category=n,f.format(),f.isExpanded()?r.updateWidgetSettings(f,!1):f.toggleExpanded())},e.isSelected=function(t,n){return null==n&&(n=null),null!=t&&null!=e.selectedElement&&l(t,n,e.selectedElement)},e.toggleCollapsed=function(t){if(null!=t&&null!=t.name)return _.find(e.unCollapsed,function(e){return t.name===e})?e.unCollapsed=_.reject(e.unCollapsed,function(e){return e===t.name}):e.unCollapsed.push(t.name),r.updateWidgetSettings(f,!1)},e.isCollapsed=function(t){if(null!=t&&null!=t.name)return!_.find(e.unCollapsed,function(e){return t.name===e})},e.getSelectLineColor=function(e){return n.getColor(0)},o=function(e){var t,n,i,r;for(n=0,i=e.length;n<i;n++)if(r=e[n],null!=r.accounts&&null!=(t=_.find(r.accounts,function(e){return s(e,r.name)===f.metadata.selectedElement})))return t=angular.merge(angular.copy(t),{category:r.name})},l=function(e,t,n){return null==t&&(t=null),s(e,t)===s(n)},s=function(e,t){var n;return null==t&&(t=null),n=e.id||e.name,t||(t=e.category),t?t+"-"+n:n},d=function(t){return angular.forEach(f.content.summary,function(n){if(n.accounts)return n.accounts.sort(function(n,i){var r;return r=t(n)>t(i)?1:t(n)<t(i)?-1:0,e.ascending||(r*=-1),r})})},h=function(){return"account"===e.sortedColumn?d(function(e){return e.name
}):"total"===e.sortedColumn?d(function(t){return e.getLastValue(t)}):"variance"===e.sortedColumn?d(function(t){return e.getLastVariance(t)}):void 0},e.drawTrigger=t.defer(),f.format=function(){var t,r,a,o,s,l,c;if(e.isDataFound&&null!=e.selectedElement)return a=angular.copy(e.selectedElement),c=null,null!=f.metadata&&null!=f.metadata.hist_parameters&&(c=f.metadata.hist_parameters.period),o=_.map(f.content.dates,function(e){return i("momentDate")(e,c)}),s={labels:o,datasets:[{title:a.label,values:a.cash_flows}]},t=!0,angular.forEach(a.cash_flows,function(e){return t&&(t=e>=0)}),l={scaleBeginAtZero:t,showXLabels:!0},r=n.combinedBarChart(s,l),e.drawTrigger.notify(r)},p={},p.initialized=!1,p.initialize=function(){return p.initialized=!0},p.toMetadata=function(){return{unCollapsed:e.unCollapsed}},f.settings.push(p),c={},c.initialized=!1,c.initialize=function(){return c.initialized=!0},c.toMetadata=function(){return null==e.selectedElement?{selectedElement:null}:{selectedElement:s(e.selectedElement)}},f.settings.push(c),e.widgetDeferred.resolve(u)}]),e.directive("widgetAccountsCashSummary",function(){return{restrict:"A",controller:"WidgetAccountsCashSummaryCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.accounts-class-comparison",[]),e.controller("WidgetAccountsClassComparisonCtrl",["$scope","$q","$filter","ChartFormatterSvc","$translate",function(e,t,n,i,r){var a,o,s;return s=e.widget,e.orgDeferred=t.defer(),e.chartDeferred=t.defer(),e.paramSelectorDeferred=t.defer(),e.timePeriodDeferred=t.defer(),a=[e.orgDeferred.promise,e.chartDeferred.promise,e.paramSelectorDeferred.promise,e.timePeriodDeferred.promise],e.timePeriodInfoParams={accountingBehaviour:"pnl",histParams:{}},o=function(e){var t;return e=e.toLowerCase(),t=r.instant("impac.widget.account_class_comp.klass."+e),_.includes(t,"impac.widget.account_class_comp.klass")?_.capitalize(e):t},s.initContext=function(){if(e.isDataFound=angular.isDefined(s.content)&&!_.isEmpty(s.content.summary)&&!_.isEmpty(s.content.companies),e.isDataFound&&(e.timePeriodInfoParams.histParams=s.metadata&&s.metadata.hist_parameters,e.classifications=_.map(s.content.summary,function(e){var t;return t=e.classification,{label:o(t),labelTranslate:null!=e.classification_key?e.classification_key:void 0,value:t}}),!e.selectedClassification))return e.selectedClassification=angular.copy(_.find(e.classifications,{value:s.metadata.classification||e.classifications[0].value}))},e.getTotals=function(){return e.selectedClassification?_.find(s.content.summary,function(t){return t.classification===e.selectedClassification.value}).totals:[]},e.getAmount=function(t){var i;return i=e.getTotals()[t],n("mnoCurrency")(i,s.content.currency)},e.getAccountColor=function(e){return i.getColor(_.indexOf(s.content.companies,e))},e.drawTrigger=t.defer(),s.format=function(){var t,n,r;if(e.isDataFound)return n={},n.labels=s.content.companies,n.values=e.getTotals(),n.labels.length>15&&(n.labels.length=15),n.values.length>15&&(n.values.length=15),r={showTooltips:!1,showXLabels:!1,barValueSpacing:Math.max(8-s.content.companies.length,1)},t=i.barChart(n,r),e.drawTrigger.notify(t)},e.widgetDeferred.resolve(a)}]),e.directive("widgetAccountsClassComparison",function(){return{restrict:"A",controller:"WidgetAccountsClassComparisonCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.accounts-comparison",[]),e.controller("WidgetAccountsComparisonCtrl",["$scope","$q","ChartFormatterSvc","$filter","$timeout","$translate",function(e,t,n,i,r,a){var o,s,l,c;return c=e.widget,e.orgDeferred=t.defer(),e.accountsListDeferred=t.defer(),e.chartDeferred=t.defer(),e.paramsCheckboxesDeferred=t.defer(),e.timePeriodDeferred=t.defer(),l=[e.orgDeferred.promise,e.accountsListDeferred.promise,e.chartDeferred.promise,e.paramsCheckboxesDeferred.promise,e.timePeriodDeferred.promise],c.initContext=function(){return e.movedAccount=[],a("impac.widget.account_comp.compare_mode_opt").then(function(t){return e.comparisonModeOptions=[{id:"compare_accounts",label:t,value:!1,onChangeCallback:e.updateSettings}],angular.isDefined(c.metadata.comparison_mode)&&null!=c.metadata.organization_ids&&c.metadata.organization_ids.length>1&&angular.merge(e.comparisonModeOptions,c.metadata.comparison_mode),e.savedAccountsList=o(),e.isDataFound=null!=c.content&&!_.isEmpty(c.content.complete_list)||e.isComparisonMode(),e.noComparableAccounts=e.isComparisonMode()&&null!=c.content&&_.isEmpty(c.content.complete_list),e.canSelectComparisonMode=s()})},s=function(){return null!=c.content&&_.uniq(_.pluck(c.content.complete_list,"org_name")).length>1},e.isComparisonMode=function(){return _.result(_.find(e.comparisonModeOptions,"id","compare_accounts"),"value")||!1},e.hasAccountsSelected=function(){return c.selectedAccounts&&c.selectedAccounts.length>0},e.getAccountColor=function(t){return e.isComparisonMode()?n.getColor(_.indexOf(c.selectedAccounts[0].accounts,t)):n.getColor(_.indexOf(c.selectedAccounts,t))},e.addAccount=function(t){if(t)return c.moveAccountToAnotherList(t,c.remainingAccounts,c.selectedAccounts),e.savedAccountsList.push(t.uid),c.format()},e.removeAccount=function(t){if(t)return c.moveAccountToAnotherList(t,c.selectedAccounts,c.remainingAccounts),e.savedAccountsList.splice(e.savedAccountsList.indexOf(t.uid),1),c.format()},e.formatAmount=function(e){return i("mnoCurrency")(e.current_balance,e.currency)},o=function(){var t,n,i,r,a,o;if(a=c.metadata.accounts_list,_.isEmpty(a))return[];if(t=a[0].indexOf(":")>=0,!e.isComparisonMode()&&t)return _.flatten(_.map(a,function(e){return e.split(":")}));if(e.isComparisonMode()&&!t){for(i=0,r=a.length;i<r;i++)if(o=a[i],n=_.find(c.content.complete_list,function(e){return e.uid.indexOf(o)>=0}))return[n.uid];return[]}return a},e.drawTrigger=t.defer(),c.format=function(){var t;return t={labels:[],values:[]},r(function(){var i,r,a,o,s,l,u,d,h,p;for(h=c.selectedAccounts,o=0,l=h.length;o<l;o++)if(i=h[o],e.isComparisonMode())for(p=i.accounts,s=0,u=p.length;s<u;s++)a=p[s],t.labels.push(a.name),t.values.push(a.current_balance);else t.labels.push(i.name),t.values.push(i.current_balance);for(;t.values.length<15;)t.labels.push(""),t.values.push(null);return d={showTooltips:!1,showXLabels:!1,barDatasetSpacing:9},r=n.barChart(t,d),e.drawTrigger.notify(r)},500)},e.widgetDeferred.resolve(l)}]),e.directive("widgetAccountsComparison",function(){return{restrict:"A",controller:"WidgetAccountsComparisonCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.accounts-custom-calculation",[]),e.controller("WidgetAccountsCustomCalculationCtrl",["$scope","$timeout","$uibModal","$q","$templateCache","$filter","ImpacWidgetsSvc","ChartFormatterSvc",function(e,t,n,i,r,a,o,s){var l,c;return c=e.widget,e.orgDeferred=i.defer(),e.accountsListDeferred=i.defer(),e.formulaDeferred=i.defer(),e.histModeDeferred=i.defer(),e.chartDeferred=i.defer(),l=[e.orgDeferred.promise,e.accountsListDeferred.promise,e.formulaDeferred.promise,e.histModeDeferred.promise,e.chartDeferred.promise],c.initContext=function(){return e.movedAccount={},e.isDataFound=null!=c.content&&!_.isEmpty(c.content.complete_list)},e.drawTrigger=i.defer(),c.format=function(){return t(function(){var t,n,i,r,o,l,u;return t=!0,o=[],u=null,null!=c.metadata&&null!=c.metadata.hist_parameters&&(u=c.metadata.hist_parameters.period),r=_.map(c.content.dates,function(e){return a("momentDate")(e,u)}),i=_.map(c.content.dates,function(e,n){var i;return i=c.evaluatedFormula_History(n),t&&(t=i>=0),i}),o.push({title:"Test Data",labels:r,values:i}),l={scaleBeginAtZero:t,showXLabels:!1,datasetFill:!0,pointDot:!0},n=s.lineChart(o,l),e.drawTrigger.notify(n)},500)},e.addAccountToFormula=function(e){if(null!=e)return c.selectedAccounts.length>0?c.formula+=" + {"+(c.selectedAccounts.length+1)+"}":c.formula="{1}",c.moveAccountToAnotherList(e,c.remainingAccounts,c.selectedAccounts,!1)},e.removeAccountFromFormula=function(e){var t,n,i,r,a,o,s,l;for(s=_.map(c.selectedAccounts,function(e){return e.uid}),o=_.reject(s,function(t){return t===e.uid}),n=_.first(_.difference(s,o)),t=_.indexOf(s,n)+1,l=1===t?"{"+t+"\\}\\s*(-|\\*|\\/|\\+)*\\s*":"\\s*(-|\\*|\\/|\\+)*\\s*\\{"+t+"\\}",a=angular.copy(c.formula).replace(new RegExp(l,"g"),""),i=t+1;i<=s.length;)r="\\{"+i+"\\}",a=a.replace(new RegExp(r,"g"),"{"+(i-1)+"}"),i++;return c.formula=angular.copy(a),c.moveAccountToAnotherList(e,c.selectedAccounts,c.remainingAccounts,!1)},e.formulaModal=e.$new(),e.formulaModal.config={backdrop:"static",template:r.get("widgets/accounts-custom-calculation/formula.modal.html"),size:"lg",scope:e.formulaModal,keyboard:!1},e.formulaModal.open=function(){var t;return t=e.formulaModal,t.modalOrgDeferred=i.defer(),t.timePeriodDeferred=i.defer(),_.remove(c.settings,function(e){return"organizations"===e.key}),t.instance=n.open(t.config),i.all([t.modalOrgDeferred.promise,t.timePeriodDeferred.promise]).then(function(t){return e.initSettings()})},e.reloadAccountsLists=function(t){if(null!=t&&_.some(_.values(t)))return e.updateWidgetSettings()},e.updateWidgetSettings=function(){return o.updateWidgetSettings(c)},e.formulaModal.cancel=function(){return e.initSettings(),e.formulaModal.close()},e.formulaModal.proceed=function(){return o.updateWidgetSettings(c),e.formulaModal.close()},e.formulaModal.close=function(){return e.formulaModal.instance.close()},e.$watch(function(){return c.isEditMode},function(t,n){if(t&&!n)return e.formulaModal.open()}),e.widgetDeferred.resolve(l)}]),e.directive("widgetAccountsCustomCalculation",function(){return{restrict:"A",controller:"WidgetAccountsCustomCalculationCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.accounts-detailed-classifications",[]),e.controller("WidgetAccountsDetailedClassificationsCtrl",["$scope","$q","ImpacWidgetsSvc",function(e,t,n){var i,r,a,o,s;return s=e.widget,e.orgDeferred=t.defer(),e.timePeriodDeferred=t.defer(),i=[e.orgDeferred.promise,e.timePeriodDeferred.promise],e.timePeriodInfoParams={accountingBehaviour:"pnl",histParams:{}},e.ascending=!0,e.sortedColumn="account",s.initContext=function(){if(e.isDataFound=angular.isDefined(s.content)&&!_.isEmpty(s.content.companies),e.isDataFound)return e.timePeriodInfoParams.histParams=s.metadata&&s.metadata.hist_parameters,e.unCollapsed=s.metadata.unCollapsed||[],1===s.content.companies.length?(e.multiEntity=!1,e.dataSource=_.map(s.content.companies[0].classifications,function(e){return{label:e.name,value:e.total,currency:e.currency,entries:_.map(e.accounts,function(e){return{label:e.name,value:e.balance,currency:e.currency}})}})):(e.multiEntity=!0,e.dataSource=_.map(s.content.companies,function(e){return{label:e.name,entries:_.map(e.classifications,function(e){return{label:e.name,value:e.total,currency:e.currency}})}})),a()},e.toggleCollapsed=function(t){if(null!=t)return _.find(e.unCollapsed,function(e){return t===e})?e.unCollapsed=_.reject(e.unCollapsed,function(e){return e===t}):e.unCollapsed.push(t),n.updateWidgetSettings(s,!1)},e.isCollapsed=function(t){if(null!=t)return!_.find(e.unCollapsed,function(e){return t===e})},r=function(t){return angular.forEach(e.dataSource,function(n){if(n.entries)return n.entries.sort(function(n,i){var r;return r=t(n)>t(i)?1:t(n)<t(i)?-1:0,e.ascending||(r*=-1),r})})},a=function(){return"account"===e.sortedColumn?r(function(e){return e.label}):"total"===e.sortedColumn?r(function(e){return e.value}):void 0},e.sort=function(t){return e.sortedColumn===t?e.ascending=!e.ascending:(e.ascending=!0,e.sortedColumn=t),a()},o={},o.initialized=!1,o.initialize=function(){return o.initialized=!0},o.toMetadata=function(){return{unCollapsed:e.unCollapsed}},s.settings.push(o),e.widgetDeferred.resolve(i)}]),e.directive("widgetAccountsDetailedClassifications",function(){return{restrict:"A",controller:"WidgetAccountsDetailedClassificationsCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.accounts-expense-weight",[]),e.controller("WidgetAccountsExpenseWeightCtrl",["$scope","$q","ChartFormatterSvc","$filter","$translate","$timeout",function(e,t,n,i,r,a){var o,s;return s=e.widget,e.orgDeferred=t.defer(),e.timePeriodDeferred=t.defer(),e.accountBackDeferred=t.defer(),e.accountFrontDeferred=t.defer(),e.chartDeferred=t.defer(),e.histModeDeferred=t.defer(),o=[e.orgDeferred.promise,e.timePeriodDeferred,e.accountBackDeferred,e.accountFrontDeferred,e.chartDeferred.promise,e.histModeDeferred.promise],e.forwardParams={accountingBehaviour:"pnl"},s.initContext=function(){return e.isDataFound=null!=s.content&&!_.isEmpty(s.content.account_list),e.forwardParams.histParams=s.metadata&&s.metadata.hist_parameters},e.getName=function(){if(null!=s.selectedAccount)return s.selectedAccount.name},e.getComparator=function(){switch(s.metadata.comparator){case"turnover":return r.instant("impac.widget.account_expense_weight.comparator.turnover");default:return r.instant("impac.widget.account_expense_weight.comparator.total_exp")}},e.displayAccount=function(){return e.updateSettings(!1).then(function(){return a(function(){return s.format()})})},e.drawTrigger=t.defer(),s.format=function(){var t,r,a,o,l,c,u,d,h,p,f;if(e.isDataFound&&null!=s.content.summary)return s.isHistoryMode?(p=null,null!=s.metadata&&null!=s.metadata.hist_parameters&&(p=s.metadata.hist_parameters.period),l=_.map(s.content.dates,function(e){return i("momentDate")(e,p)}),o=_.map(s.content.summary,function(e){return{title:e.company,values:e.ratios}}),t=!0,angular.forEach(s.content.summary,function(e){return angular.forEach(e.ratios,function(e){return t&&(t=e>=0)})}),u={labels:l,datasets:o},d={scaleBeginAtZero:t,showXLabels:!1,currency:"(ratio)"},r=n.combinedBarChart(u,d,!1,!0)):(a=_.map(s.content.summary,function(e){return e.company}),f=_.map(s.content.summary,function(e){return e.ratio}),1===a.length&&(a.push(a[0]),f.push(f[0])),c={labels:a,values:f},h={scales:{yAxes:[{ticks:{suggestedMin:0,suggestedMax:100,maxTicksLimit:5}}]},showXLabels:!1,pointDot:!1,currency:"%"},r=n.lineChart([c],h)),e.drawTrigger.notify(r)},e.widgetDeferred.resolve(o)}]),e.directive("widgetAccountsExpenseWeight",function(){return{restrict:"A",controller:"WidgetAccountsExpenseWeightCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.accounts-expenses-revenue",[]),e.controller("WidgetAccountsExpensesRevenueCtrl",["$scope","$q","ChartFormatterSvc","$filter","$translate",function(e,t,n,i,r){var a,o;return o=e.widget,e.orgDeferred=t.defer(),e.timePeriodDeferred=t.defer(),e.histModeDeferred=t.defer(),e.chartDeferred=t.defer(),e.paramsCheckboxesDeferred=t.defer(),a=[e.orgDeferred.promise,e.timePeriodDeferred.promise,e.histModeDeferred.promise,e.chartDeferred.promise,e.paramsCheckboxesDeferred.promise],o.initContext=function(){return e.isDataFound=null!=o.content&&null!=o.content.values,e.displayOptions=[{id:"show_net_profit",label:r.instant("impac.widget.accounts_expenses_revenue.show_net_profit"),value:!1,onChangeCallback:e.toggleDisplayNetProfit}],angular.isDefined(null!=o.metadata&&null!=o.metadata.display)&&angular.merge(e.displayOptions,o.metadata.display),e.isNetProfitDisplayed=!!e.displayOptions[0].value},e.getCurrentRevenue=function(){if(e.isDataFound)return _.sum(o.content.values.revenue)},e.getCurrentExpenses=function(){if(e.isDataFound)return _.sum(o.content.values.expenses)},e.getCurrency=function(){if(e.isDataFound)return o.content.currency},e.toggleDisplayNetProfit=function(){return e.isNetProfitDisplayed=!!e.displayOptions[0].value,e.updateSettings(!1),o.format()},e.drawTrigger=t.defer(),o.format=function(){var t,a,s,l,c,u,d,h,p;if(e.isDataFound)return o.isHistoryMode?(d=null,null!=o.metadata&&null!=o.metadata.hist_parameters&&(d=o.metadata.hist_parameters.period),l=_.map(o.content.dates,function(e){return i("momentDate")(e,d)}),e.isNetProfitDisplayed?(s=[{title:r.instant("impac.widget.accounts_expenses_revenue.net_profit")+" ("+e.getCurrency()+")",values:o.content.values.net_profit}],t=!0,angular.forEach(o.content.values.net_profit,function(e){return t&&(t=e>=0)})):(s=[{title:r.instant("impac.widget.accounts_expenses_revenue.expenses")+" ("+e.getCurrency()+")",values:o.content.values.expenses},{title:r.instant("impac.widget.accounts_expenses_revenue.revenue")+" ("+e.getCurrency()+")",values:o.content.values.revenue}],t=!0,angular.forEach(o.content.values.expenses,function(e){return t&&(t=e>=0)}),angular.forEach(o.content.values.revenue,function(e){return t&&(t=e>=0)})),c={labels:l,datasets:s},u={scaleBeginAtZero:t,showXLabels:!1},a=n.combinedBarChart(c,u,!1,!0)):(h=[{label:r.instant("impac.widget.accounts_expenses_revenue.expenses")+" ("+e.getCurrency()+")",value:e.getCurrentExpenses()},{label:r.instant("impac.widget.accounts_expenses_revenue.revenue")+" ("+e.getCurrency()+")",value:e.getCurrentRevenue()}],p={tooltipFontSize:12,percentageInnerCutout:0},a=n.pieChart(h,p,!0)),e.drawTrigger.notify(a)},e.widgetDeferred.resolve(a)}]),e.directive("widgetAccountsExpensesRevenue",function(){return{restrict:"A",controller:"WidgetAccountsExpensesRevenueCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.accounts-invoices-list",[]),e.controller("WidgetAccountsInvoicesListCtrl",["$scope","$q","ImpacRoutes","BoltResources",function(e,t,n,i){var r,a,o,s;return s=e.widget,a=n.bolts(),r=_.find(a,{name:"finance",provider:"maestrano"}).path,e.trxList={display:!1,resources:"invoices",transactions:[],params:{}},e.orgDeferred=t.defer(),o=[e.orgDeferred.promise],e.trxList.show=function(){return e.trxList.display=!0},e.trxList.hide=function(){return e.trxList.display=!1},e.trxList.fetch=function(t){var n;return null==t&&(t=1),n=angular.merge(e.trxList.params,{metadata:_.pick(s.metadata,"organization_ids"),page:{number:t}}),i.index(r,e.trxList.resources,n).then(function(t){var n,i,r,a;for(_.remove(e.trxList.transactions,function(){return!0}),r=t.data.data,n=0,i=r.length;n<i;n++)a=r[n],a.attributes.trxDateUTC=moment.utc(a.transaction_date).format("DD MMM YYYY"),a.attributes.dueDateUTC=moment.utc(a.due_date).format("DD MMM YYYY"),e.trxList.transactions.push(angular.merge(a.attributes,{id:e.trxList.id}));return e.trxList.totalRecords=t.data.meta.record_count}).finally(function(){return e.trxList.show()})},e.trxList.changeResourcesType=function(t){if(t!==e.trxList.resources)return e.trxList.resources=t,e.trxList.fetch()},s.initContext=function(){return e.isDataFound=null!=s.content,e.trxList.fetch()},e.widgetDeferred.resolve(o)}]),e.directive("widgetAccountsInvoicesList",function(){return{restrict:"A",controller:"WidgetAccountsInvoicesListCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.accounts-live-balance",[]),e.controller("WidgetAccountsLiveBalanceCtrl",["$scope","$q","ChartFormatterSvc","$filter",function(e,t,n,i){var r,a;return a=e.widget,a.isLiveBalance=!0,e.orgDeferred=t.defer(),e.accountBackDeferred=t.defer(),r=[e.orgDeferred.promise,e.accountBackDeferred.promise],e.isDataFound=!0,a.initContext=function(){return e.isDataFound=null!=a.content},e.getName=function(){if(null!=a.selectedAccount)return a.selectedAccount.name},e.getTitle=function(){if(null!=a.content)return a.content.table.table_title},e.getOpeningBalance=function(){if(null!=a.content)return _.find(a.content.figure.metrics,function(e){return"opening"===e.label})},e.getClosingBalance=function(){if(null!=a.content)return _.find(a.content.figure.metrics,function(e){return"closing"===e.label})},e.getCurrency=function(){if(null!=a.selectedAccount)return a.selectedAccount.currency},e.getHeaders=function(){if(null!=a.content)return a.content.table.table_headers},e.getTotal=function(){var e;if(null!=a.content&&(e=_.find(a.content.table.tables,function(e){return"Bank Summary"===e.table_title})),null!=a.selectedAccount)return _.find(e.table_rows,function(e){var t;return t="All Accounts"===a.selectedAccount.name?"Total":a.selectedAccount.name,e.column_1===t})},e.getStatementBalance=function(){var e;if(null!=a.content&&(e=_.find(a.content.table.tables,function(e){return"Bank Statement"===e.table_title})),e)return _.find(e.table_rows,function(e){return"Closing Balance"===e.column_2})},e.displayAccount=function(){return e.updateSettings(!1).then(function(){return a.format()})},e.kpiExtraParams={},e.updateKpiExtraParams=function(t,n){return e.kpiExtraParams[t]=angular.copy(n)},e.drawTrigger=t.defer(),a.format=function(){},e.widgetDeferred.resolve(r)}]),e.directive("widgetAccountsLiveBalance",function(){return{restrict:"A",controller:"WidgetAccountsLiveBalanceCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.accounts-payable-receivable",[]),e.controller("WidgetAccountsPayableReceivableCtrl",["$scope","$q","ChartFormatterSvc","$filter","$translate",function(e,t,n,i,r){var a,o;return o=e.widget,e.orgDeferred=t.defer(),e.timePeriodDeferred=t.defer(),e.histModeDeferred=t.defer(),e.chartDeferred=t.defer(),a=[e.orgDeferred.promise,e.timePeriodDeferred.promise,e.histModeDeferred.promise,e.chartDeferred.promise],o.initContext=function(){return e.isDataFound=null!=o.content&&null!=o.content.values&&null!=o.content.live_values},e.getCurrentPayable=function(){return e.isDataFound?_.last(o.content.values.payables):0},e.getCurrentReceivable=function(){return e.isDataFound?_.last(o.content.values.receivables):0},e.getCurrency=function(){if(e.isDataFound)return o.content.currency},e.drawTrigger=t.defer(),o.format=function(){var t,a,s,l,c,u,d,h,p,f,g;if(e.isDataFound){for(h=null,null!=o.metadata&&null!=o.metadata.hist_parameters&&(h=o.metadata.hist_parameters.period),a=_.map(o.content.dates,function(e){return i("momentDate")(e,h)}),t=!0,p=o.content.values.payables,s=0,c=p.length;s<c;s++)g=p[s],t&&(t=g>=0);for(f=o.content.values.receivables,l=0,u=f.length;l<u;l++)g=f[l],t&&(t=g>=0);return d={scaleBeginAtZero:t,showXLabels:!1},r(["impac.widget.accounts_payable_receivable.payable","impac.widget.accounts_payable_receivable.receivable"]).then(function(t){var i,r;return r=[{title:t["impac.widget.accounts_payable_receivable.payable"],labels:a,values:o.content.values.payables},{title:t["impac.widget.accounts_payable_receivable.receivable"],labels:a,values:o.content.values.receivables}],i=n.lineChart(r,d,!0),e.drawTrigger.notify(i)})}},e.widgetDeferred.resolve(a)}]),e.directive("widgetAccountsPayableReceivable",function(){return{restrict:"A",controller:"WidgetAccountsPayableReceivableCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.accounts-profit-and-loss",[]),e.controller("WidgetAccountsProfitAndLossCtrl",["$scope","$q","ChartFormatterSvc","$filter","ImpacWidgetsSvc","ImpacUtilities","$translate","ImpacTheming",function(e,t,n,i,r,a,o,s){var l,c,u,d,h,p,f,g,m,v,b,y,w,x,k;return k=e.widget,e.orgDeferred=t.defer(),e.timePeriodDeferred=t.defer(),e.widthDeferred=t.defer(),e.chartDeferred=t.defer(),e.paramSelectorDeferred=t.defer(),e.tagFilterDeferred=t.defer(),b=[e.orgDeferred.promise,e.timePeriodDeferred.promise,e.widthDeferred.promise,e.chartDeferred.promise,e.paramSelectorDeferred.promise,e.tagFilterDeferred.promise],e.ascending=!0,e.sortedColumn="account",e.filterTagsEnabled=s.get().widgetSettings.tagging.enabled,v=function(){return e.amountDisplayed=angular.copy(_.find(e.amountDisplayedOptions,function(e){return k.metadata&&e.value===k.metadata.amount_displayed})||e.amountDisplayedOptions[1])},o(["impac.widget.accounts_profit_and_loss.last_period","impac.widget.accounts_profit_and_loss.total_for_period"]).then(function(t){return e.amountDisplayedOptions=[{label:t["impac.widget.accounts_profit_and_loss.last_period"],value:"last"},{label:t["impac.widget.accounts_profit_and_loss.total_for_period"],value:"total"}],v()}),g=(p=e.widget.metadata.hist_parameters)&&p.period?p.period.toLowerCase():"monthly",o("impac.widget.settings.time_period.period."+g).then(function(t){return e.period_translation=_.capitalize(t.toLowerCase())}),e.isReportFiltered=function(){return null!=k.metadata&&null!=k.metadata.filter_query&&Object.keys(k.metadata.filter_query).length>0},k.initContext=function(){var t,n,r,o,s,c,u,h,p;if(e.isDataFound=angular.isDefined(k.content)&&!_.isEmpty(k.content.summary)&&!_.isEmpty(k.content.dates)){if(e.dates=k.content.dates,e.unCollapsed=k.metadata.unCollapsed||[],k.metadata&&(o=k.metadata.hist_parameters)&&(t=a.selectedTimeRange(o),n=i("momentDate")(t.from,d()),c=i("momentDate")(t.to,d()),e.amountDisplayedOptions[1].label=n+" to "+c,e.amountDisplayedOptions[0].label=c),v(),!_.isEmpty(k.metadata.selectedElements))for(e.selectedElements=[],h=k.metadata.selectedElements,s=0,u=h.length;s<u;s++)p=h[s],r=_.find(k.content.summary,function(e){return e.name===p}),r||(r=l(k.content.summary,p)),r&&e.selectedElements.push(r);return _.any(e.selectedElements)||(k.width=6),w()}},e.getElementChartColor=function(e){return n.getColor(e)},d=function(){return null!=k.metadata&&null!=k.metadata.hist_parameters&&null!=k.metadata.hist_parameters.period?k.metadata.hist_parameters.period:"MONTHLY"},u=function(e){if(null!=e.totals)return _.last(e.totals)},h=function(e){if(null!=e.totals)return _.sum(e.totals)},e.getAmount=function(t){switch(e.amountDisplayed.value){case"total":return h(t);default:return u(t)}},e.getClassColor=function(e){return parseInt(e)>0?"positive":parseInt(e)<0?"negative":null},e.getName=function(e){if(null!=e&&null!=e.name)return e.name.replace(/_/g," ")},e.sort=function(t){return e.sortedColumn===t?e.ascending=!e.ascending:(e.ascending=!0,e.sortedColumn=t),w()},e.toggleSelectedElement=function(t,n){var i;return null==n&&(n=null),e.isSelected(t,n)?(e.selectedElements=_.reject(e.selectedElements,function(e){return f(t,n,e)}),k.format(),k.isExpanded()&&0===e.selectedElements.length?k.toggleExpanded():r.updateWidgetSettings(k,!1)):(i=angular.copy(t),i.category=n,e.selectedElements||(e.selectedElements=[]),e.selectedElements.push(i),k.format(),k.isExpanded()?r.updateWidgetSettings(k,!1):k.toggleExpanded())},e.isSelected=function(t,n){return null==n&&(n=null),null!=t&&_.any(e.selectedElements,function(e){return f(t,n,e)})},e.toggleCollapsed=function(t){if(null!=t&&null!=t.name)return _.find(e.unCollapsed,function(e){return t.name===e})?e.unCollapsed=_.reject(e.unCollapsed,function(e){return e===t.name}):e.unCollapsed.push(t.name),r.updateWidgetSettings(k,!1)},e.isCollapsed=function(t){if(null!=t&&null!=t.name)return!_.find(e.unCollapsed,function(e){return t.name===e})},e.getSelectLineColor=function(t,i){var r;if(null==i&&(i=null),r=_.find(e.selectedElements,function(e){return f(t,i,e)}),e.hasElements())return n.getColor(_.indexOf(e.selectedElements,r))},e.hasElements=function(){return null!=e.selectedElements&&e.selectedElements.length>0},f=function(e,t,n){return null==t&&(t=null),c(e,t)===c(n)},l=function(e,t){var n,i,r,a;for(i=0,r=e.length;i<r;i++)if(a=e[i],null!=a.accounts&&null!=(n=_.find(a.accounts,function(e){return c(e,a.name)===t})))return n=angular.merge(angular.copy(n),{category:a.name})},c=function(e,t){var n;return null==t&&(t=null),n=e.id||e.name,t||(t=e.category),t?t+"-"+n:n},y=function(t){return angular.forEach(k.content.summary,function(n){if(n.accounts)return n.accounts.sort(function(n,i){var r;return r=t(n)>t(i)?1:t(n)<t(i)?-1:0,e.ascending||(r*=-1),r})})},w=function(){return"account"===e.sortedColumn?y(function(e){return e.name}):"total"===e.sortedColumn?y(function(t){return e.getAmount(t)}):void 0},e.drawTrigger=t.defer(),k.format=function(){var t,r,a,o;if(e.isDataFound&&null!=e.selectedElements&&e.selectedElements.length>0)return t=!0,a=[],angular.forEach(e.selectedElements,function(e){var n,r,o;return n=angular.copy(e),o=null,null!=k.metadata&&null!=k.metadata.hist_parameters&&(o=k.metadata.hist_parameters.period),r=_.map(k.content.dates,function(e){return i("momentDate")(e,o)}),a.push({title:n.name,labels:r,values:n.totals}),angular.forEach(n.totals,function(e){return t&&(t=e>=0)})}),o={scaleBeginAtZero:t,showXLabels:!0,datasetFill:1===e.selectedElements.length,pointDot:1===e.selectedElements.length},r=n.lineChart(a,o),e.drawTrigger.notify(r)},x={},x.initialized=!1,x.initialize=function(){return x.initialized=!0},x.toMetadata=function(){return{unCollapsed:e.unCollapsed}},k.settings.push(x),m={},m.initialized=!1,m.initialize=function(){return m.initialized=!0},m.toMetadata=function(){var t;return t=_.map(e.selectedElements,function(e){return c(e)}),{selectedElements:t}},k.settings.push(m),e.widgetDeferred.resolve(b)}]),e.directive("widgetAccountsProfitAndLoss",function(){return{restrict:"A",controller:"WidgetAccountsProfitAndLossCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.accounts-ratios",[]),e.controller("WidgetAccountsRatiosCtrl",["$scope","$q","$filter","$translate","ChartFormatterSvc","ImpacTheming",function(e,t,n,i,r,a){var o,s,l;return l=e.widget,e.orgDeferred=t.defer(),e.chartDeferred=t.defer(),e.timePeriodDeferred=t.defer(),e.histModeDeferred=t.defer(),e.numeratorOffsetsDeferred=t.defer(),e.denominatorOffsetsDeferred=t.defer(),s=[e.orgDeferred.promise,e.chartDeferred.promise,e.timePeriodDeferred.promise,e.histModeDeferred.promise,e.numeratorOffsetsDeferred.promise,e.denominatorOffsetsDeferred.promise],e.totalRatio=0,e.totalNumerator=0,e.totalDenominator=0,e.calculatedNumerator=0,e.calculatedDenominator=0,e.simulationMode=!1,e.intervalsCount=0,e.isPnl=!1,e.periodInfoContext={},o=function(e){var t,n,r,o,s;return n=a.get().widgetSettings.histModeChoser.currentLabels,s=a.get().widgetSettings.histModeChoser.todayPrefixes,r=_.last(l.content.layout.dates)===moment().format("YYYY-MM-DD"),t=n[e],o=s[e],i([t,o]).then(function(e){return r?e[o]+" "+e[t]:e[t]})},l.initContext=function(){var t;if(e.isDataFound=!_.isEmpty(l.content),e.isDataFound)return e.intervalsCount=_.size(l.content.layout.dates),e.endDate=_.last(l.content.layout.dates),t=l.content.layout.accounting_behaviour,e.periodInfoContext.histParams=l.metadata.hist_parameters,e.periodInfoContext.accountingBehaviour=t,o(t).then(function(t){return e.periodInfoContext.injectBefore=t}),"pnl"===t?(e.totalRatio=l.content.calculation.ratio.average,e.totalNumerator=_.sum(l.content.calculation.numerator.totals),e.totalDenominator=_.sum(l.content.calculation.denominator.totals),e.calculatedNumerator=_.sum(l.content.calculation.numerator.values),e.calculatedDenominator=_.sum(l.content.calculation.denominator.values),e.isPnl=!0):(e.totalRatio=_.last(l.content.calculation.ratio.totals),e.totalNumerator=_.last(l.content.calculation.numerator.totals),e.totalDenominator=_.last(l.content.calculation.denominator.totals),e.calculatedNumerator=_.last(l.content.calculation.numerator.values),e.calculatedDenominator=_.last(l.content.calculation.denominator.values))},e.toggleSimulationMode=function(t){return null==t&&(t=!1),t&&e.initSettings(),e.simulationMode=!e.simulationMode},e.saveSimulation=function(){return e.updateSettings(),e.toggleSimulationMode()},e.drawTrigger=t.defer(),l.format=function(){var t,i,a,o,s,c;if(e.isDataFound)return i=angular.copy(l.content),c=null,null!=l.metadata&&null!=l.metadata.hist_parameters&&(c=l.metadata.hist_parameters.period),a=_.map(i.layout.dates,function(e){return n("momentDate")(e,c)}),o={labels:a,datasets:[{title:i.layout.ratio,values:i.calculation.ratio.totals}]},s={currency:"hide",showXLabels:!1},t=r.combinedBarChart(o,s,!1),e.drawTrigger.notify(t)},e.widgetDeferred.resolve(s)}]),e.directive("widgetAccountsRatios",function(){return{restrict:"A",controller:"WidgetAccountsRatiosCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.hr-employee-details",[]),e.controller("WidgetHrEmployeeDetailsCtrl",["$scope","$q","$filter","$translate",function(e,t,n,i){var r,a,o;return o=e.widget,e.orgDeferred=t.defer(),e.widthDeferred=t.defer(),e.paramSelectorDeferred1=t.defer(),e.paramSelectorDeferred2=t.defer(),a=[e.orgDeferred.promise,e.widthDeferred.promise,e.paramSelectorDeferred1.promise,e.paramSelectorDeferred2.promise],e.salaries=[],o.initContext=function(){var t;if(e.isDataFound=!_.isEmpty(o.content)&&!_.isEmpty(o.content.employees))return e.periodOptions=[{
label:_.capitalize(i.instant("impac.widget.settings.time_period.period.yearly")),value:"yearly"},{label:_.capitalize(i.instant("impac.widget.settings.time_period.period.monthly")),value:"monthly"},{label:_.capitalize(i.instant("impac.widget.settings.time_period.period.weekly")),value:"weekly"},{label:_.capitalize(i.instant("impac.widget.settings.time_period.period.daily")),value:"daily"}],o.metadata&&o.metadata.period?e.period=angular.copy(_.find(e.periodOptions,function(e){return e.value===o.metadata.period.toLowerCase()})||e.periodOptions[0]):e.period=angular.copy(e.periodOptions[0]),e.employeesOptions=_.map(o.content.employees,function(e){return{value:e.uid,label:e.lastname+" "+e.firstname}}),t=e.getEmployee(),e.selectedEmployee={value:t.uid,label:t.lastname+" "+t.firstname},r(t,e.salaries)},r=function(e,t){var n,i,r,a,o,s,l;for(_.remove(t,function(){return!0}),a=e.employee_salaries,o=[],i=0,r=a.length;i<r;i++)s=a[i],l=s.name,s.hours_per_week&&(l=s.name+" ("+s.hours_per_week+"h per week)"),(n=s.annual_salary)?o.push(t.push({amount:n,currency:s.currency,period:"Annual",tooltip:l})):(n=s.hourly_rate)?o.push(t.push({amount:n,currency:s.currency,period:"Hourly",tooltip:l})):o.push(void 0);return o},e.getSingleCompanyName=function(){var t,n;if(o.content&&o.content.organizations&&(n=o.content.organizations[0],null!=(t=_.find(e.parentDashboard.data_sources,function(e){return e.uid===n}))))return t.label},e.getEmployee=function(){var t;return!!e.isDataFound&&(t=o.metadata&&o.metadata.employee_uid?angular.copy(_.find(o.content.employees,function(e){return e.uid===o.metadata.employee_uid})||o.content.employees[0]):angular.copy(o.content.employees[0]),null!=t.salary&&(t.earnings=n("mnoCurrency")(t.salary.amount,t.salary.currency)),t)},e.formatAddress=function(e){if(angular.isDefined(e))return e.replace(/, /g,",\n")},e.widgetDeferred.resolve(a)}]),e.directive("widgetHrEmployeeDetails",function(){return{restrict:"A",controller:"WidgetHrEmployeeDetailsCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.hr-employees-list",[]),e.controller("WidgetHrEmployeesListCtrl",["$scope","$q","$filter","$translate",function(e,t,n,i){var r,a;return a=e.widget,e.orgDeferred=t.defer(),e.paramSelectorDeferred=t.defer(),r=[e.orgDeferred.promise,e.paramSelectorDeferred.promise],a.initContext=function(){if(e.isDataFound=!_.isEmpty(a.content)&&!_.isEmpty(a.content.total)&&!_.isEmpty(a.content.employees))return e.periodOptions=[{label:_.capitalize(i.instant("impac.widget.settings.time_period.period.yearly")),value:"yearly"},{label:_.capitalize(i.instant("impac.widget.settings.time_period.period.monthly")),value:"monthly"},{label:_.capitalize(i.instant("impac.widget.settings.time_period.period.weekly")),value:"weekly"},{label:_.capitalize(i.instant("impac.widget.settings.time_period.period.daily")),value:"daily"}],e.period=angular.copy(_.find(e.periodOptions,function(e){return e.value===a.content.total.period.toLowerCase()})||e.periodOptions[0])},e.getSingleCompanyName=function(){var t,n;if(a.content&&a.content.organizations)return n=a.content.organizations[0],t=_.find(e.parentDashboard.data_sources,function(e){return e.uid===n}),t.label},e.getEmployeeEarnings=function(e){return null!=e.salary?n("mnoCurrency")(e.salary.amount,a.content.total.currency):"-"},e.widgetDeferred.resolve(r)}]),e.directive("widgetHrEmployeesList",function(){return{restrict:"A",controller:"WidgetHrEmployeesListCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.hr-leaves-balance",[]),e.controller("WidgetHrLeavesBalanceCtrl",["$scope","$q","$translate",function(e,t,n){var i,r,a,o;return o=e.widget,e.orgDeferred=t.defer(),e.paramSelectorDeferred=t.defer(),a=[e.orgDeferred.promise,e.paramSelectorDeferred.promise],o.initContext=function(){if(e.isDataFound=!_.isEmpty(o.content)&&!_.isEmpty(o.content.employees))return e.employeesOptions=_.map(o.content.employees,function(e){return{value:e.uid,label:e.lastname+" "+e.firstname}}),e.selectedEmployee={value:e.getEmployee().uid,label:e.getEmployee().lastname+" "+e.getEmployee().firstname}},e.getEmployee=function(){var t;return!!e.isDataFound&&(t=o.content.employees[0],o.metadata&&o.metadata.employee_id&&(t=_.find(o.content.employees,function(e){return e.uid===o.metadata.employee_id})||o.content.employees[0]),angular.copy(t))},i=e.getEmployee(),r=i&&i.leaves[0].name,r?e.vacationLeaves_translation=r:n("impac.widget.hr_leaves_balance.vacation_leaves").then(function(t){return e.vacationLeaves_translation=t}),r=i&&i.leaves[1].name,r?e.sickLeaves_translation=r:n("impac.widget.hr_leaves_balance.sick_leaves").then(function(t){return e.sickLeaves_translation=t}),e.widgetDeferred.resolve(a)}]),e.directive("widgetHrLeavesBalance",function(){return{restrict:"A",controller:"WidgetHrLeavesBalanceCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.hr-leaves-schedule",[]),e.controller("WidgetHrLeavesScheduleCtrl",["$scope","$q","ChartFormatterSvc",function(e,t,n){var i,r;return r=e.widget,e.orgDeferred=t.defer(),i=[e.orgDeferred.promise],r.initContext=function(){var t;if(e.isDataFound=angular.isDefined(r.content)&&!_.isEmpty(r.content.summary))return t=[],angular.forEach(r.content.summary,function(e){return t.push({title:e.employee_name+" - "+e.title,start:e.start_date,end:e.end_date})}),e.eventSources=angular.copy(t)},e.widgetDeferred.resolve(i)}]),e.directive("widgetHrLeavesSchedule",function(){return{restrict:"A",controller:"WidgetHrLeavesScheduleCtrl"}}),e.directive("widgetComponentCalendar",["$tranlate",function(e){return{scope:{events:"=ngModel"},restrict:"A",link:function(t,n){var i,r;return t.eventSources=[],i={header:{left:e.instant("impac.common.action.calendar.left"),center:e.instant("impac.common.action.calendar.center"),right:e.instant("impac.common.action.calendar.right")},contentHeight:204},r=function(){return t.events},t.$watch(r,function(e){if(e.length>0)return n.fullCalendar("destroy"),angular.extend(i,{events:t.events}),n.fullCalendar(i)},!0)}}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets.hr-payroll-summary",[]),e.controller("WidgetHrPayrollSummaryCtrl",["$scope","$q","ChartFormatterSvc","$filter","ImpacWidgetsSvc","$translate",function(e,t,n,i,r,a){var o,s,l,c,u,d,h,p,f,g,m;return m=e.widget,e.orgDeferred=t.defer(),e.timePeriodDeferred=t.defer(),e.widthDeferred=t.defer(),e.histModeDeferred=t.defer(),e.chartDeferred=t.defer(),h=[e.orgDeferred.promise,e.timePeriodDeferred.promise,e.widthDeferred.promise,e.histModeDeferred.promise,e.chartDeferred.promise],e.ascending=!0,e.sortedColumn="employee",u=(l=e.widget.metadata.hist_parameters)&&l.period?l.period.toLowerCase():"monthly",e.periodTranslation=a.instant("impac.widget.settings.time_period.period."+u),m.initContext=function(){var t,n,i,r,a;if(e.isDataFound=angular.isDefined(m.content)&&!_.isEmpty(m.content.summary)&&!_.isEmpty(m.content.dates)){if(e.unCollapsed=m.metadata.unCollapsed||[],!_.isEmpty(m.metadata.selectedElements))for(e.selectedElements=[],r=m.metadata.selectedElements,n=0,i=r.length;n<i;n++)a=r[n],t=_.find(m.content.summary,function(e){return e.name===a}),t||(t=o(m.content.summary,a)),t&&e.selectedElements.push(t);return null!=e.selectedElements&&e.selectedElements.length>0||(m.width=6),p()}},e.getElementChartColor=function(e){return n.getColor(e)},e.getLastValue=function(e){return e.totals&&e.totals[e.totals.length-1]||0},e.getTotalSum=function(e){if(null!=e.totals)return _.reduce(e.totals,function(e,t){return e+t},0)},e.getName=function(e){if(null!=e&&null!=e.name)return"total_leaves"===e.name?a.instant("impac.widget.hr_payroll_summary.total_leaves"):"total_super"===e.name?a.instant("impac.widget.hr_payroll_summary.total_superannuation"):"total_reimbursement"===e.name?a.instant("impac.widget.hr_payroll_summary.total_reimbursements"):"total_tax"===e.name?a.instant("impac.widget.hr_payroll_summary.total_taxes"):"total_timeoff"===e.name?a.instant("impac.widget.hr_payroll_summary.total_time_off"):e.name.replace(/_/g," ")},e.getTrackedField=function(){var t,n;if(!_.isEmpty(e.selectedElements)&&null!=e.selectedElements[0].id)return n=e.selectedElements[0].id.split("-")[0],t=!0,angular.forEach(e.selectedElements,function(e){return t&&(t=e.id&&n===e.id.split("-")[0])}),t?e.getName({name:n}):null},e.formatDate=function(e){return null!=m.metadata&&null!=m.metadata.hist_parameters?i("momentDate")(e,m.metadata.hist_parameters.period):i("momentDate")(e,"default")},e.sort=function(t){return e.sortedColumn===t?e.ascending=!e.ascending:(e.ascending=!0,e.sortedColumn=t),p()},e.toggleSelectedElement=function(t,n){var i;return null==n&&(n=null),e.isSelected(t,n)?(e.selectedElements=_.reject(e.selectedElements,function(e){return c(t,n,e)}),m.format(),m.isExpanded()&&0===e.selectedElements.length?m.toggleExpanded():r.updateWidgetSettings(m,!1)):(i=angular.copy(t),i.category=n,e.selectedElements||(e.selectedElements=[]),e.selectedElements.push(i),m.format(),m.isExpanded()?r.updateWidgetSettings(m,!1):m.toggleExpanded())},e.isSelected=function(t,n){return null==n&&(n=null),null!=t&&_.any(e.selectedElements,function(e){return c(t,n,e)})},e.toggleCollapsed=function(t){if(null!=t&&null!=t.name)return _.find(e.unCollapsed,function(e){return t.name===e})?e.unCollapsed=_.reject(e.unCollapsed,function(e){return e===t.name}):e.unCollapsed.push(t.name),r.updateWidgetSettings(m,!1)},e.isCollapsed=function(t){if(null!=t&&null!=t.name)return!_.find(e.unCollapsed,function(e){return t.name===e})},e.hasElements=function(){return null!=e.selectedElements&&e.selectedElements.length>0},e.getSelectLineColor=function(t,i){var r;if(null==i&&(i=null),r=_.find(e.selectedElements,function(e){return c(t,i,e)}),e.hasElements())return n.getColor(_.indexOf(e.selectedElements,r))},c=function(e,t,n){return null==t&&(t=null),s(e,t)===s(n)},o=function(e,t){var n,i,r,a;for(i=0,r=e.length;i<r;i++)if(a=e[i],null!=a.employees&&null!=(n=_.find(a.employees,function(e){return s(e,a.name)===t})))return n=angular.merge(angular.copy(n),{category:a.name})},s=function(e,t){var n;return null==t&&(t=null),n=e.id||e.name,t||(t=e.category),t?t+"-"+n:n},f=function(t){return angular.forEach(m.content.summary,function(n){if(n.employees)return n.employees.sort(function(n,i){var r;return r=t(n)>t(i)?1:t(n)<t(i)?-1:0,e.ascending||(r*=-1),r})})},p=function(){return"employee"===e.sortedColumn?f(function(e){return e.name}):"total"===e.sortedColumn?f(function(t){return e.getLastValue(t)}):void 0},e.drawTrigger=t.defer(),m.format=function(){var t,r,a,o,s,l,c;if(e.isDataFound&&e.hasElements())return m.isHistoryMode?(t=!0,a=[],o=_.map(m.content.dates,function(e){return m.metadata.hist_parameters&&"YEARLY"===m.metadata.hist_parameters.period?i("momentDate")(e,"YEARLY"):m.metadata.hist_parameters&&"QUARTERLY"===m.metadata.hist_parameters.period?i("momentDate")(e,"QUARTERLY"):m.metadata.hist_parameters&&"MONTHLY"===m.metadata.hist_parameters.period?i("momentDate")(e,"MONTHLY"):m.metadata.hist_parameters&&"WEEKLY"===m.metadata.hist_parameters.period?i("momentDate")(e,"WEEKLY"):m.metadata.hist_parameters&&"DAILY"===m.metadata.hist_parameters.period?i("momentDate")(e,"DAILY"):i("momentDate")(e,"default")}),angular.forEach(e.selectedElements,function(e){var n;return n=angular.copy(e),a.push({title:n.name,labels:o,values:n.totals}),angular.forEach(n.totals,function(e){return t&&(t=e>=0)})}),s={scaleBeginAtZero:t,showXLabels:!0,datasetFill:1===e.selectedElements.length,pointDot:1===e.selectedElements.length,currency:"hide"},r=n.lineChart(a,s)):(l=_.map(e.selectedElements,function(t){return{label:i("titleize")(e.getName({name:t.name})),value:e.getLastValue(t)}}),c={showTooltips:!0,percentageInnerCutout:50,tooltipFontSize:12,currency:"hide"},r=n.pieChart(l,c)),e.drawTrigger.notify(r)},g={},g.initialized=!1,g.initialize=function(){return g.initialized=!0},g.toMetadata=function(){return{unCollapsed:e.unCollapsed}},m.settings.push(g),d={},d.initialized=!1,d.initialize=function(){return d.initialized=!0},d.toMetadata=function(){var t;return t=_.map(e.selectedElements,function(e){return s(e)}),{selectedElements:t}},m.settings.push(d),e.widgetDeferred.resolve(h)}]),e.directive("widgetHrPayrollSummary",function(){return{restrict:"A",controller:"WidgetHrPayrollSummaryCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.hr-payroll-taxes",[]),e.controller("WidgetHrPayrollTaxesCtrl",["$scope","$q","ChartFormatterSvc","$filter","$translate",function(e,t,n,i,r){var a,o;return o=e.widget,e.orgDeferred=t.defer(),e.timePeriodDeferred=t.defer(),e.histModeDeferred=t.defer(),e.chartDeferred=t.defer(),a=[e.orgDeferred.promise,e.timePeriodDeferred.promise,e.histModeDeferred.promise,e.chartDeferred.promise],o.initContext=function(){return e.isDataFound=null!=o.content&&!_.isEmpty(o.content.total_tax)&&!_.isEmpty(o.content.dates)},e.getCurrentPrice=function(){if(e.isDataFound)return _.last(o.content.total_tax)},e.getCurrency=function(){if(e.isDataFound)return o.content.currency||"USD"},e.getPeriod=function(){var t,n;if(e.isDataFound&&o.metadata&&o.metadata.hist_parameters)return n=o.metadata.hist_parameters.period||"MONTHLY",t="day","DAILY"!==n&&(t=n.substr(0,n.length-2).toLowerCase()),"(current "+t+")"},e.drawTrigger=t.defer(),o.format=function(){var t,a,s,l,c,u;if(e.isDataFound)return u=null,null!=o.metadata&&null!=o.metadata.hist_parameters&&(u=o.metadata.hist_parameters.period),s=_.map(o.content.dates,function(e){return i("momentDate")(e,u)}),l={title:r.instant("impac.widget.hr_payroll_taxes.payroll_taxes"),labels:s,values:o.content.total_tax},t=!0,angular.forEach(o.content.total_tax,function(e){return t&&(t=e>=0)}),c={scaleBeginAtZero:t,showXLabels:!1},a=n.lineChart([l],c),e.drawTrigger.notify(a)},e.widgetDeferred.resolve(a)}]),e.directive("widgetHrPayrollTaxes",function(){return{restrict:"A",controller:"WidgetHrPayrollTaxesCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.hr-salaries-summary",[]),e.controller("WidgetHrSalariesSummaryCtrl",["$scope","$q","ChartFormatterSvc","$translate",function(e,t,n,i){var r,a;return a=e.widget,e.orgDeferred=t.defer(),e.widthDeferred=t.defer(),e.paramSelectorDeferred1=t.defer(),e.paramSelectorDeferred2=t.defer(),e.chartDeferred=t.defer(),r=[e.orgDeferred.promise,e.widthDeferred.promise,e.paramSelectorDeferred1.promise,e.paramSelectorDeferred2.promise,e.chartDeferred.promise],a.initContext=function(){if(e.isDataFound=!_.isEmpty(a.content)&&null!=a.content.summary&&!_.isEmpty(a.content.summary.data),e.isDataFound)return e.periodOptions=[{label:_.capitalize(i.instant("impac.widget.settings.time_period.period.yearly").toLowerCase()),value:"yearly"},{label:_.capitalize(i.instant("impac.widget.settings.time_period.period.monthly").toLowerCase()),value:"monthly"},{label:_.capitalize(i.instant("impac.widget.settings.time_period.period.weekly").toLowerCase()),value:"weekly"},{label:_.capitalize(i.instant("impac.widget.settings.time_period.period.daily").toLowerCase()),value:"daily"}],e.filterOptions=[{label:i.instant("impac.common.label.gender"),value:"gender"},{label:i.instant("impac.common.label.age_range"),value:"age_range"},{label:i.instant("impac.common.label.job_title"),value:"job_title"}],e.period=angular.copy(_.find(e.periodOptions,function(e){return e.value===a.content.total.period.toLowerCase()})||e.periodOptions[0]),e.filter=angular.copy(_.find(e.filterOptions,function(e){return e.value===a.content.summary.filter})||e.filterOptions[0])},e.getColorByIndex=function(e){return n.getColor(e)},e.drawTrigger=t.defer(),a.format=function(){var t,i,r,o,s;if(e.isDataFound){if(t={labels:_.map(a.content.summary.data,function(e){return e.label}),values:_.map(a.content.summary.data,function(e){return e.value})},"gender"===e.filter.value)i={showTooltips:!1},r=n.barChart(t,i);else if("job_title"===e.filter.value)i={showTooltips:!1,showXLabels:!1,barDatasetSpacing:15},r=n.barChart(t,i);else{if("age_range"!==e.filter.value)return{error:{message:"wrong filter",code:400}};"unknown"===_.last(t.labels)&&(t.labels.pop(),t.values.pop()),o=[{title:"Average salary",labels:t.labels,values:t.values}],s={scaleBeginAtZero:!0,showXLabels:!1},r=n.lineChart(o,s)}return e.drawTrigger.notify(r)}},e.widgetDeferred.resolve(r)}]),e.directive("widgetHrSalariesSummary",function(){return{restrict:"A",controller:"WidgetHrSalariesSummaryCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.hr-superannuation-accruals",[]),e.controller("WidgetHrSuperannuationAccrualsCtrl",["$scope","$q",function(e,t){var n,i;return i=e.widget,e.orgDeferred=t.defer(),e.paramSelectorDeferred=t.defer(),n=[e.orgDeferred.promise,e.paramSelectorDeferred.promise],i.initContext=function(){if(e.isDataFound=!_.isEmpty(i.content)&&!_.isEmpty(i.content.employees))return e.employeesOptions=_.map(i.content.employees,function(e){return{value:e.uid,label:e.lastname+" "+e.firstname}}),e.selectedEmployee={value:e.getEmployee().uid,label:e.getEmployee().lastname+" "+e.getEmployee().firstname}},e.getEmployee=function(){var t;return!!e.isDataFound&&(t=i.content.employees[0],i.metadata&&i.metadata.employee_id&&(t=_.find(i.content.employees,function(e){return e.uid===i.metadata.employee_id})||i.content.employees[0]),angular.copy(t))},e.widgetDeferred.resolve(n)}]),e.directive("widgetHrSuperannuationAccruals",function(){return{restrict:"A",controller:"WidgetHrSuperannuationAccrualsCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.hr-timesheets",[]),e.controller("WidgetHrTimesheetsCtrl",["$scope","$q","ChartFormatterSvc","ImpacWidgetsSvc",function(e,t,n,i){var r,a,o;return o=e.widget,e.orgDeferred=t.defer(),e.timePeriodDeferred=t.defer(),e.paramSelectorDeferred=t.defer(),r=[e.orgDeferred.promise,e.timePeriodDeferred.promise,e.paramSelectorDeferred.promise],o.initContext=function(){if(e.isDataFound=angular.isDefined(o.content)&&!_.isEmpty(o.content.employees)&&!_.isEmpty(o.content.dates))return e.employeesOptions=_.map(o.content.employees,function(e){return{value:e.id,label:e.lastname+" "+e.firstname}}),e.selectedEmployee={value:e.getEmployee().id,label:e.getEmployee().lastname+" "+e.getEmployee().firstname},e.unCollapsed=o.metadata.unCollapsed||[]},e.toggleCollapsed=function(t){if(null!=t)return _.find(e.unCollapsed,function(e){return t===e})?e.unCollapsed=_.reject(e.unCollapsed,function(e){return e===t}):e.unCollapsed.push(t),i.updateWidgetSettings(o,!1)},e.isCollapsed=function(t){if(null!=t)return!_.find(e.unCollapsed,function(e){return t===e})},e.getEmployee=function(){return!!e.isDataFound&&(o.metadata&&o.metadata.employee_id?_.find(o.content.employees,function(e){return e.id===o.metadata.employee_id})||o.content.employees[0]:o.content.employees[0])},e.getEmployeeTimeWorked=function(){var t;if(t=e.getEmployee())return _.find(o.content.employees,function(e){return e.id===t.id}).total_time_worked},e.getEmployeeTimeOff=function(){var t;if(t=e.getEmployee())return _.find(o.content.employees,function(e){return e.id===t.id}).total_time_off},a={},a.initialized=!1,a.initialize=function(){return a.initialized=!0},a.toMetadata=function(){return{unCollapsed:e.unCollapsed}},o.settings.push(a),e.widgetDeferred.resolve(r)}]),e.directive("widgetHrTimesheets",function(){return{restrict:"A",controller:"WidgetHrTimesheetsCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.hr-workforce-summary",[]),e.controller("WidgetHrWorkforceSummaryCtrl",["$scope","$q","ChartFormatterSvc","$filter","$translate",function(e,t,n,i,r){var a,o;return o=e.widget,e.orgDeferred=t.defer(),e.widthDeferred=t.defer(),e.paramSelectorDeferred1=t.defer(),e.paramSelectorDeferred2=t.defer(),e.chartDeferred=t.defer(),a=[e.orgDeferred.promise,e.widthDeferred.promise,e.paramSelectorDeferred1.promise,e.paramSelectorDeferred2.promise,e.chartDeferred.promise],o.initContext=function(){if(e.isDataFound=!_.isEmpty(o.content)&&null!=o.content.summary&&!_.isEmpty(o.content.summary.data),e.isDataFound)return e.periodOptions=[{label:_.capitalize(r.instant("impac.widget.settings.time_period.period.yearly").toLowerCase()),value:"yearly"},{label:_.capitalize(r.instant("impac.widget.settings.time_period.period.monthly").toLowerCase()),value:"monthly"},{label:_.capitalize(r.instant("impac.widget.settings.time_period.period.weekly").toLowerCase()),value:"weekly"},{label:_.capitalize(r.instant("impac.widget.settings.time_period.period.daily").toLowerCase()),value:"daily"}],e.filterOptions=[{label:r.instant("impac.common.label.gender"),value:"gender"},{label:r.instant("impac.common.label.age_range"),value:"age_range"},{label:r.instant("impac.common.label.salary_range"),value:"salary_range"},{label:r.instant("impac.common.label.job_title"),value:"job_title"}],e.period=angular.copy(_.find(e.periodOptions,function(e){return e.value===o.content.total.period.toLowerCase()})||e.periodOptions[0]),e.filter=angular.copy(_.find(e.filterOptions,function(e){return e.value===o.content.summary.filter})||e.filterOptions[0])},e.getTotalWorkforce=function(){if(e.isDataFound)return o.content.total.amount},e.getNumberOfEmployees=function(){if(e.isDataFound)return o.content.total.employees},e.getCurrency=function(){if(e.isDataFound)return o.content.total.currency},e.formatSalaryRange=function(e){var t,n;return t=i("mnoCurrency")(e.label.split("-")[0],e.currency,!1),n=i("mnoCurrency")(e.label.split("-")[1],e.currency,!1),[t,n].join(" - ")},e.getColorByIndex=function(e){return n.getColor(e)},e.drawTrigger=t.defer(),o.format=function(){var t,i,r,a,s;if(e.isDataFound)return"salary_range"===e.filter.value?(t={labels:_.map(o.content.summary.data,function(t){return e.formatSalaryRange(t)}),values:_.map(o.content.summary.data,function(e){return e.value})},i={showTooltips:!1,showXLabels:!1,barDatasetSpacing:15},r=n.barChart(t,i)):(a=_.map(o.content.summary.data,function(e){return{label:e.label,value:e.value}}),s={showTooltips:!0,percentageInnerCutout:50,tooltipFontSize:12},r=n.pieChart(a,s)),e.drawTrigger.notify(r)},e.widgetDeferred.resolve(a)}]),e.directive("widgetHrWorkforceSummary",function(){return{restrict:"A",controller:"WidgetHrWorkforceSummaryCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.invoices-aged-payables-receivables",[]),e.controller("WidgetInvoicesAgedPayablesReceivablesCtrl",["$scope","$q","$log","$filter","ChartFormatterSvc","ImpacWidgetsSvc","$translate",function(e,t,n,i,r,a,o){var s,l,c,u,d,h,p,f,g,m,v,b,y;return y=e.widget,e.orgDeferred=t.defer(),e.timePeriodDeferred=t.defer(),e.widthDeferred=t.defer(),e.chartDeferred=t.defer(),f=[e.orgDeferred.promise,e.timePeriodDeferred.promise,e.widthDeferred.promise,e.chartDeferred.promise],e.ascending=!0,e.sortedColumn="customer",h=(l=e.widget.content)&&l.hist_parameters&&l.hist_parameters.period?l.hist_parameters.period.toLowerCase():"monthly",o("impac.widget.settings.time_period.period."+h).then(function(t){return e.period_translation=_.capitalize(t.toLowerCase())}),y.initContext=function(){var t,n,i,r,a,o;if(e.isDataFound=angular.isDefined(y.content)&&(!_.isEmpty(y.content.payables)||!_.isEmpty(y.content.receivables))&&!_.isEmpty(y.content.dates)){if(s(),e.ratesDate=moment.now(),e.payables=y.content.payables,e.receivables=y.content.receivables,e.unCollapsed=y.metadata.unCollapsed||[],!_.isEmpty(y.metadata.selectedElements))for(e.selectedElements=[],r=y.metadata.selectedElements,n=0,i=r.length;n<i;n++)a=r[n],o=[e.payables,e.receivables],t=_.find(o,function(e){return e.name===a}),t||(t=c(o,a)),t&&e.selectedElements.push(t);return null!=e.selectedElements&&e.selectedElements.length>0||(y.width=6),v()}},e.getElementChartColor=function(e){if(null!=e)return r.getColor(e)},e.getLastValue=function(e){if(null!=e&&null!=e.totals)return _.last(e.totals)},e.getTotalSum=function(e){if(null!=e&&null!=e.totals)return _.reduce(e.totals,function(e,t){return e+t},0)},e.getName=function(e){if(null!=e&&null!=e.name)return e.name.replace(/_/g," ")},e.getPeriod=function(){var t,n;return e.isDataFound&&y.metadata&&y.metadata.hist_parameters?(n=y.metadata.hist_parameters.period||"MONTHLY",t="day","DAILY"!==n&&(t=n.substr(0,n.length-2).toLowerCase()),"current "+t):"current month"},e.getOldestInvoice=function(e){var t;return t=_.findIndex(e.totals,function(e){return 0!==e}),y.content.dates[t]||null},e.sort=function(t){return e.sortedColumn===t?e.ascending=!e.ascending:(e.ascending=!0,e.sortedColumn=t),v()},e.toggleSelectedElement=function(t,n){return null==n&&(n=null),e.isSelected(t,n)?(e.selectedElements=_.reject(e.selectedElements,function(e){return d(t,n,e)}),y.format(),y.isExpanded()&&0===e.selectedElements.length?y.toggleExpanded():a.updateWidgetSettings(y,!1)):(e.selectedElements||(e.selectedElements=[]),n&&(t.category=n),e.selectedElements.push(t),y.format(),y.isExpanded()?a.updateWidgetSettings(y,!1):y.toggleExpanded())},e.isSelected=function(t,n){return null==n&&(n=null),null!=t&&_.any(e.selectedElements,function(e){return d(t,n,e)})},e.toggleCollapsed=function(t){if(null!=t&&null!=t.name)return _.find(e.unCollapsed,function(e){return t.name===e})?e.unCollapsed=_.reject(e.unCollapsed,function(e){return e===t.name}):e.unCollapsed.push(t.name),a.updateWidgetSettings(y,!1)},e.isCollapsed=function(t){if(null!=t&&null!=t.name)return!_.find(e.unCollapsed,function(e){return t.name===e})},e.getSelectLineColor=function(t,n){var i;if(null==n&&(n=null),i=_.find(e.selectedElements,function(e){return d(t,n,e)}),e.hasElements())return r.getColor(_.indexOf(e.selectedElements,i))},e.hasElements=function(){return null!=e.selectedElements&&e.selectedElements.length>0},d=function(e,t,n){return null==t&&(t=null),u(e,t)===u(n)},c=function(e,t){var n,i,r,a,o;for(r=0,a=e.length;r<a;r++)if(o=e[r],i=o.suppliers||o.customers,!_.isEmpty(i)&&null!=(n=_.find(i,function(e){return u(e,o.name)===t})))return n=angular.merge(angular.copy(n),{category:o.name})},u=function(e,t){var n;return null==t&&(t=null),n=e.id||e.name,t||(t=e.category),t?t+"-"+n:n},g=function(t,n){return t.sort(function(t,i){var r;return r=n(t)>n(i)?1:n(t)<n(i)?-1:0,e.ascending||(r*=-1),r})},m=function(t){var n;return n=e.getOldestInvoice(t),n&&_.isString(n)&&(n=n.match(/[^_\W]+\s?/g).join("")),new Date(n)},v=function(){return"customer"===e.sortedColumn?(g(y.content.payables.suppliers,function(e){return e.name}),g(y.content.receivables.customers,function(e){return e.name})):"total"===e.sortedColumn?(g(y.content.payables.suppliers,function(t){return e.getTotalSum(t)}),g(y.content.receivables.customers,function(t){return e.getTotalSum(t)})):"invoice"===e.sortedColumn?(g(y.content.payables.suppliers,m),g(y.content.receivables.customers,m)):void 0},s=function(){var e,t,n,i,r,a,o,s,l,c;for(s=_.union(y.content.payables.suppliers,y.content.receivables.customers),c=[],i=0,a=s.length;i<a;i++){for(e=s[i],t=[],l=e.fx_totals,r=0,o=l.length;r<o;r++)n=l[r],_.isEmpty(n)||_.mapKeys(n,function(e,n){if(n!==y.metadata.currency)return t.push({currency:n,amount:e.amount,rate:e.rate})});_.isEmpty(t)?c.push(void 0):c.push(e.formattedFxTotals=t)}return c},e.drawTrigger=t.defer(),y.format=function(){var t,n,a,o,s,l;if(e.isDataFound&&null!=e.selectedElements&&e.selectedElements.length>0)return t=!0,o=[],l=null,null!=y.metadata&&null!=y.metadata.hist_parameters&&(l=y.metadata.hist_parameters.period),a=_.map(y.content.dates,function(e,t){return i("momentDate")(e,l)}),angular.forEach(e.selectedElements,function(e){var n;return n=angular.copy(e),o.push({title:n.name,labels:a,values:n.totals}),angular.forEach(n.totals,function(e){return t&&(t=e>=0)})}),s={scaleBeginAtZero:t,showXLabels:!0,datasetFill:1===e.selectedElements.length,pointDot:1===e.selectedElements.length},n=r.lineChart(o,s),e.drawTrigger.notify(n)},b={},b.initialized=!1,b.initialize=function(){return b.initialized=!0},b.toMetadata=function(){return{unCollapsed:e.unCollapsed}},y.settings.push(b),p={},p.initialized=!1,p.initialize=function(){return p.initialized=!0},p.toMetadata=function(){var t;return t=_.map(e.selectedElements,function(e){return u(e)}),{selectedElements:t}},y.settings.push(p),e.widgetDeferred.resolve(f)}]),e.directive("widgetInvoicesAgedPayablesReceivables",function(){return{restrict:"A",controller:"WidgetInvoicesAgedPayablesReceivablesCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.invoices-list",[]),e.controller("WidgetInvoicesListCtrl",["$scope","$q","$sce","$filter","ImpacUtilities","$translate",function(e,t,n,i,r,a){var o,s,l,c;return c=e.widget,e.orgDeferred=t.defer(),e.limitEntriesDeferred=t.defer(),e.datesPickerDeferred=t.defer(),l=[e.orgDeferred.promise,e.limitEntriesDeferred.promise,e.datesPickerDeferred.promise],c.initContext=function(){var t,n;if(e.isDataFound=!_.isEmpty(c.content)&&!_.isEmpty(c.content.entities),e.isDataFound&&"due "===e.orderBy&&("suppliers"===e.entityType?e.limitEntriesLabel=a.instant("impac.widget.invoices_list.limit_entries_label.creditors"):e.limitEntriesLabel=a.instant("impac.widget.invoices_list.limit_entries_label.debtors")),null!=c.metadata&&null!=c.metadata.limit_entries&&(e.limitEntriesSelected=c.metadata.limit_entries),e.isDataFound)return t=_.flatten(_.map(c.content.entities,function(e){return _.map(e.invoices,function(e){return e.invoice_date})})),n=r.getDatesRange(t),e.defaultFrom=i("date")(n[0],"yyyy-MM-dd"),e.defaultTo=i("date")(n[1],"yyyy-MM-dd"),s(c.content.entities),o(),e.ratesDate=moment.now()},e.entityType=c.metadata.entity,e.entityTypeCap=_.capitalize(c.metadata.entity),_.isEmpty(c.metadata.order_by)||"name"===c.metadata.order_by||"total_invoiced"===c.metadata.order_by?e.orderBy="":e.orderBy=_.last(c.metadata.order_by.split("_")).concat(" "),e.invoiceTooltips={},s=function(t){return _.each(t,function(t){var r,a;return a=["<strong>"+t.name+"</strong>"],r=1,_.each(t.invoices,function(e){var t,n,o,s,l;return l=""!==e.transaction_no?" ("+e.transaction_no+")":"",s=Object.keys(e.fx_totals)[0],n=i("mnoCurrency")(e.fx_totals[s].invoiced,s,!0),"partially paid"===e.tooltip_status?(o=i("mnoCurrency")(e.fx_totals[s].paid,s,!0),t=" ("+o+" on "+n+")"):t=" ("+n+")",a.push("#"+r+l+" - "+e.tooltip_status+t),r++}),e.invoiceTooltips[t.id]=n.trustAsHtml(a.join("<br />"))})},o=function(){var e,t,n,i,r,a;for(r=c.content.entities,a=[],n=0,i=r.length;n<i;n++)e=r[n],t=[],_.mapKeys(e.fx_totals,function(e,n){if(n!==c.metadata.currency)return t.push({currency:n,amount:e.invoiced,rate:e.rate})}),_.isEmpty(t)?a.push(void 0):a.push(e.formattedFxTotals=t);return a},e.widgetDeferred.resolve(l)}]),e.directive("widgetInvoicesList",function(){return{restrict:"A",controller:"WidgetInvoicesListCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.invoices-summary",[]),e.controller("WidgetInvoicesSummaryCtrl",["$scope","$q","ChartFormatterSvc",function(e,t,n){var i,r;return r=e.widget,e.orgDeferred=t.defer(),e.chartFiltersDeferred=t.defer(),e.chartDeferred=t.defer(),e.datesPickerDeferred=t.defer(),i=[e.orgDeferred.promise,e.chartFiltersDeferred.promise,e.chartDeferred.promise,e.datesPickerDeferred.promise],e.defaultFrom=(new Date).getFullYear()-10+"-01-01",r.initContext=function(){return e.isDataFound=!_.isEmpty(r.content)&&!_.isEmpty(r.content.summary)},e.drawTrigger=t.defer(),r.format=function(){var t,i,a;if(e.isDataFound)return i=_.map(r.content.summary,function(e){return{label:e.name,value:e.total}}),a={percentageInnerCutout:50,tooltipFontSize:12},t=n.pieChart(i,a),e.drawTrigger.notify(t)},e.widgetDeferred.resolve(i)}]),e.directive("widgetInvoicesSummary",function(){return{restrict:"A",controller:"WidgetInvoicesSummaryCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.sales-aged",[]),e.controller("WidgetSalesAgedCtrl",["$scope","$q","ChartFormatterSvc","$filter","$translate",function(e,t,n,i,r){var a,o;return o=e.widget,e.orgDeferred=t.defer(),e.timePeriodDeferred=t.defer(),e.paramSelectorDeferred=t.defer(),e.chartDeferred=t.defer(),a=[e.orgDeferred.promise,e.timePeriodDeferred.promise,e.paramSelectorDeferred.promise,e.chartDeferred.promise],
o.initContext=function(){if(e.isDataFound=angular.isDefined(o.content)&&!_.isEmpty(o.content.aged_sales)&&!_.isEmpty(o.content.dates),e.isDataFound)return e.filterOptions=[{label:r.instant("impac.widget.sales_aged.value_sold_taxes"),value:"gross_value_sold"},{label:r.instant("impac.widget.sales_aged.value_sold_no_taxes"),value:"net_value_sold"},{label:r.instant("impac.widget.sales_aged.quantity_sold"),value:"quantity_sold"}],e.filter=angular.copy(_.find(e.filterOptions,function(e){return o.metadata&&o.metadata.filter===e.value})||e.filterOptions[0])},e.getTotal=function(t){if(e.isDataFound&&t>=0&&t<o.content.aged_sales[e.filter.value].length)return o.content.aged_sales[e.filter.value][t]},e.getLastDate=function(){if(e.isDataFound)return _.last(o.content.dates)},e.getClassColor=function(e,t){return t<e?"negative":t>e?"positive":null},e.drawTrigger=t.defer(),o.format=function(){var t,r,a,s,l,c;if(e.isDataFound)return t=!0,a=[],c=o.content.aged_sales[e.filter.value],l=null,null!=o.metadata&&null!=o.metadata.hist_parameters&&(l=o.metadata.hist_parameters.period),e.formattedDates=_.map(o.content.dates,function(e){return i("momentDate")(e,l)}),a.push({title:e.filter.label,labels:e.formattedDates,values:c}),angular.forEach(c,function(e){return t&&(t=e>=0)}),s={scaleBeginAtZero:t,showXLabels:!0,datasetFill:!0,pointDot:!0},e.filter.value.indexOf("quantity")>-1&&angular.merge(s,{currency:"hide"}),r=n.lineChart(a,s),e.drawTrigger.notify(r)},e.widgetDeferred.resolve(a)}]),e.directive("widgetSalesAged",function(){return{restrict:"A",controller:"WidgetSalesAgedCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.sales-break-even",[]),e.controller("WidgetSalesBreakEvenCtrl",["$scope","$q","ChartFormatterSvc","$filter",function(e,t,n,i){var r,a,o;return o=e.widget,e.orgDeferred=t.defer(),e.timePeriodDeferred=t.defer(),r=[e.orgDeferred.promise,e.timePeriodDeferred.promise],o.initContext=function(){return e.isDataFound=angular.isDefined(o.content)&&!_.isEmpty(o.content.sales),e.threshold=o.metadata.threshold},o.processError=function(t){if(404===t.code)return e.isDataFound=!1},e.getProjectedDate=function(){var t;if(e.isDataFound&&o.content.break_even)return(""+o.content.break_even.projected_date).match("After")?(t=angular.copy(o.content.break_even.projected_date).replace("After ",""),"> "+i("date")(t,"d-MM-yy")):o.content.break_even.projected_date},e.getOpportunitiesToClose=function(){if(e.isDataFound&&o.content.break_even)return(""+o.content.break_even.opportunities_to_close).match(">")?"> "+angular.copy(o.content.break_even.opportunities_to_close).replace(">",""):o.content.break_even.opportunities_to_close},e.isTargetMet=function(){if(e.isDataFound&&o.content.break_even)return o.content.break_even.variance<0},e.getVariance=function(){if(e.isDataFound&&o.content.break_even)return Math.abs(o.content.break_even.variance)},a={},a.initialized=!1,a.initialize=function(){return a.initialized=!0},a.toMetadata=function(){return{threshold:e.threshold}},o.settings.push(a),e.widgetDeferred.resolve(r)}]),e.directive("widgetSalesBreakEven",function(){return{restrict:"A",controller:"WidgetSalesBreakEvenCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.sales-comparison",[]),e.controller("WidgetSalesComparisonCtrl",["$scope","$q","$filter","ChartFormatterSvc","ImpacWidgetsSvc","$translate",function(e,t,n,i,r,a){var o,s,l,c,u,d,h,p,f,g;return g=e.widget,e.orgDeferred=t.defer(),e.timePeriodDeferred=t.defer(),e.widthDeferred=t.defer(),e.paramSelectorDeferred1=t.defer(),e.paramSelectorDeferred2=t.defer(),e.chartDeferred=t.defer(),d=[e.orgDeferred.promise,e.timePeriodDeferred.promise,e.widthDeferred.promise,e.paramSelectorDeferred1,e.paramSelectorDeferred2,e.chartDeferred.promise],e.ascending=!0,e.sortedColumn="sales",g.initContext=function(){var t,n,i,r,l;if(e.isDataFound=angular.isDefined(g.content)&&!_.isEmpty(g.content.sales_comparison)&&!_.isEmpty(g.content.dates),e.isDataFound){if(e.unCollapsed=g.metadata.unCollapsed||[],e.filterOptions=[{label:a.instant("impac.widget.sales_comparison.value_sold_taxes"),value:"gross_value_sold"},{label:a.instant("impac.widget.sales_comparison.value_sold_no_taxes"),value:"net_value_sold"},{label:a.instant("impac.widget.sales_comparison.quantity_sold"),value:"quantity_sold"}],e.filter=angular.copy(_.find(e.filterOptions,function(e){return g.metadata&&g.metadata.filter===e.value})||e.filterOptions[0]),e.criteriaOptions=[{label:a.instant("impac.widget.sales_comparison.criteria_options.products"),value:"default"},{label:a.instant("impac.widget.sales_comparison.criteria_options.locations"),value:"location"},{label:a.instant("impac.widget.sales_comparison.criteria_options.industries"),value:"industry"},{label:a.instant("impac.widget.sales_comparison.criteria_options.customers"),value:"customer"}],e.criteria=angular.copy(_.find(e.criteriaOptions,function(e){return g.metadata&&g.metadata.criteria===e.value})||e.criteriaOptions[0]),o(),e.ratesDate=moment.now(),!_.isEmpty(g.metadata.selectedElements))for(e.selectedElements=[],r=g.metadata.selectedElements,n=0,i=r.length;n<i;n++)l=r[n],t=_.find(g.content.sales_comparison,function(e){return e.name===l}),t||(t=s(g.content.sales_comparison,l)),t&&e.selectedElements.push(t);return p()}},e.getLastDate=function(){if(e.isDataFound)return _.last(g.content.dates)},e.getTotalForPeriod=function(t){if(null!=t.totals&&e.filter)return _.reduce(t.totals[e.filter.value],function(e,t){return e+t},0)},e.getElementChartColor=function(e){return i.getColor(e)},e.sort=function(t){return e.sortedColumn===t?e.ascending=!e.ascending:(e.ascending=!0,e.sortedColumn=t),p()},e.toggleSelectedElement=function(t,n){var i;return null==n&&(n=null),e.isSelected(t,n)?(e.selectedElements=_.reject(e.selectedElements,function(e){return c(t,n,e)}),g.format(),g.isExpanded()&&0===e.selectedElements.length?g.toggleExpanded():r.updateWidgetSettings(g,!1)):(i=angular.copy(t),i.category=n,e.selectedElements||(e.selectedElements=[]),e.selectedElements.push(i),g.format(),g.isExpanded()?r.updateWidgetSettings(g,!1):g.toggleExpanded())},e.isSelected=function(t,n){return null==n&&(n=null),null!=t&&_.any(e.selectedElements,function(e){return c(t,n,e)})},e.toggleCollapsed=function(t){if(null!=t&&null!=t.name)return _.find(e.unCollapsed,function(e){return t.name===e})?e.unCollapsed=_.reject(e.unCollapsed,function(e){return e===t.name}):e.unCollapsed.push(t.name),r.updateWidgetSettings(g,!1)},e.isCollapsed=function(t){if(null!=t&&null!=t.name)return!_.find(e.unCollapsed,function(e){return t.name===e})},e.hasElements=function(){return null!=e.selectedElements&&e.selectedElements.length>0},e.getSelectLineColor=function(t,n){var r;if(null==n&&(n=null),r=_.find(e.selectedElements,function(e){return c(t,n,e)}),e.hasElements())return i.getColor(_.indexOf(e.selectedElements,r))},c=function(e,t,n){return null==t&&(t=null),l(e,t)===l(n)},s=function(e,t){var n,i,r,a;for(i=0,r=e.length;i<r;i++)if(a=e[i],null!=a.sales&&null!=(n=_.find(a.sales,function(e){return l(e,a.name)===t})))return n=angular.merge(angular.copy(n),{category:a.name})},l=function(e,t){var n;return null==t&&(t=null),n=e.id||e.name,t||(t=e.category),t?t+"-"+n:n},h=function(t){return angular.forEach(g.content.sales_comparison,function(n){if(n.sales)return n.sales.sort(function(n,i){var r;return r=t(n)>t(i)?1:t(n)<t(i)?-1:0,e.ascending||(r*=-1),r})})},p=function(){return"sales"===e.sortedColumn?h(function(e){return e.name}):"total"===e.sortedColumn?h(function(t){return e.getTotalForPeriod(t)}):void 0},e.drawTrigger=t.defer(),g.format=function(){var t,r,a,o;if(e.isDataFound&&null!=e.selectedElements&&e.selectedElements.length>0)return t=!0,a=[],angular.forEach(e.selectedElements,function(i){var r,o,s;return r=angular.copy(i),s=null,null!=g.metadata&&null!=g.metadata.hist_parameters&&(s=g.metadata.hist_parameters.period),o=_.map(g.content.dates,function(e){return n("momentDate")(e,s)}),a.push({title:r.name,labels:o,values:r.totals[e.filter.value]}),angular.forEach(r.totals,function(e){return t&&(t=e>=0)})}),o={scaleBeginAtZero:t,showXLabels:!0,datasetFill:!1,pointDot:!1},e.filter.value.indexOf("quantity")>-1&&angular.merge(o,{currency:"hide"}),r=i.lineChart(a,o),e.drawTrigger.notify(r)},o=function(){var e,t,n,i,r,a,o,s;for(a=g.content.sales_comparison,o=[],n=0,i=a.length;n<i;n++)t=a[n],o.push(function(){var n,i,a,o;for(a=t.sales,o=[],n=0,i=a.length;n<i;n++)s=a[n],s.formattedFxTotals={},r=[],e=[],_.isEmpty(s.fx_totals)||_.mapKeys(s.fx_totals,function(t,n){var i,a,o,s,l,c,u,d,h;for(u=t.net_value_sold,a=0,s=u.length;a<s;a++)0!==(i=u[a])&&n!==g.metadata.currency&&r.push({currency:n,amount:i,rate:t.rate});for(d=t.gross_value_sold,h=[],o=0,l=d.length;o<l;o++)c=d[o],0!==c&&n!==g.metadata.currency?h.push(e.push({currency:n,amount:c,rate:t.rate})):h.push(void 0);return h}),_.isEmpty(r)||(s.formattedFxTotals.net_value_sold=r),_.isEmpty(e)?o.push(void 0):o.push(s.formattedFxTotals.gross_value_sold=e);return o}());return o},f={},f.initialized=!1,f.initialize=function(){return f.initialized=!0},f.toMetadata=function(){return{unCollapsed:e.unCollapsed}},g.settings.push(f),u={},u.initialized=!1,u.initialize=function(){return u.initialized=!0},u.toMetadata=function(){var t;return t=_.map(e.selectedElements,function(e){return l(e)}),{selectedElements:t}},g.settings.push(u),e.widgetDeferred.resolve(d)}]),e.directive("widgetSalesComparison",function(){return{restrict:"A",controller:"WidgetSalesComparisonCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.sales-customer-details",[]),e.controller("WidgetSalesCustomerDetailsCtrl",["$scope","$q",function(e,t){var n,i,r,a,o;return o=e.widget,e.orgDeferred=t.defer(),e.timePeriodDeferred=t.defer(),e.widthDeferred=t.defer(),e.paramSelectorDeferred=t.defer(),e.ratesDate=moment.now(),a=[e.orgDeferred.promise,e.timePeriodDeferred.promise,e.widthDeferred.promise,e.paramSelectorDeferred.promise],o.initContext=function(){if(e.isDataFound=null!=o.content&&!_.isEmpty(o.content.customers),e.isDataFound)return i(),e.customersOptions=_.map(o.content.customers,function(e){return{value:e.uid,label:e.name}})},e.formatAddress=function(e){if(angular.isDefined(e))return e.replace(/, /g,",\n")},e.getFromDate=function(){if(e.isDataFound)return o.content.from},e.getToDate=function(){if(e.isDataFound)return o.content.to},i=function(){var t;return!!e.isDataFound&&(o.metadata&&o.metadata.customer_uid&&(t=_.find(o.content.customers,function(e){return e.uid===o.metadata.customer_uid})),t||(t=o.content.customers[0]),e.selectedCustomer=angular.copy(t),r(),n())},r=function(){var t;return!!(t=e.selectedCustomer)&&(e.selectedCustomerId={value:t.uid,label:t.name})},n=function(){var t,n,i,r;return!!(t=e.selectedCustomer)&&(i=[],n=[],r=[],_.some(t.fx_totals,function(e,t){return t!==o.metadata.currency})&&(_.mapKeys(t.fx_totals,function(e,t){var a;if(a={rate:e.rate,currency:t},0!==e.invoiced&&i.push(angular.merge({amount:e.invoiced},a)),0!==e.paid&&r.push(angular.merge({amount:e.paid},a)),0!==e.due)return n.push(angular.merge({amount:e.due},a))}),_.isEmpty(i)||(t.invoicedFxTotals=i),_.isEmpty(r)||(t.paidFxTotals=r),!_.isEmpty(n))?t.dueFxTotals=n:void 0)},e.widgetDeferred.resolve(a)}]),e.directive("widgetSalesCustomerDetails",function(){return{restrict:"A",controller:"WidgetSalesCustomerDetailsCtrl"}})}.call(this),function(){var e,t=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};e=angular.module("impac.components.widgets.sales-cycle",[]),e.controller("WidgetSalesCycleCtrl",["$scope","$q","ChartFormatterSvc","$filter","ImpacWidgetsSvc","ImpacDashboardsSvc",function(e,n,i,r,a,o){var s,l;return l=e.widget,e.orgDeferred=n.defer(),e.paramsPickerDeferred=n.defer(),e.timePeriodDeferred=n.defer(),e.chartDeferred=n.defer(),s=[e.orgDeferred.promise,e.paramsPickerDeferred.promise,e.timePeriodDeferred.promise,e.chartDeferred.promise],l.initContext=function(){var n,i;if(n=o.getCurrentDashboard(),i=l.metadata.status_selection||n.metadata.status_selection||{values:[]},e.isDataFound=angular.isDefined(l.content)&&!_.isEmpty(l.content.status_average_durations))return _.remove(i.values,function(e){return t.call(_.keys(l.content.status_average_durations),e)<0}),e.hasReach=!0,e.statusOptions=[],angular.forEach(l.content.status_average_durations,function(n,r){var a;return a=_.isEmpty(i.values)||t.call(i.values,r)>=0,e.statusOptions.push({label:r,selected:a})})},l.processError=function(t){if(404===t.code)return e.isDataFound=!1},e.drawTrigger=n.defer(),l.format=function(){var t,n,a;if(e.isDataFound)return n=_.compact(_.map(e.statusOptions,function(t){var n;if(n=l.content.status_average_durations[t.label],t.selected&&angular.isDefined(n))return{label:r("titleize")(t.label)+": "+n+" "+e.unit,value:n}})),a={percentageInnerCutout:50,tooltipFontSize:12,currency:l.content.unit},t=i.pieChart(n,a),e.drawTrigger.notify(t)},e.widgetDeferred.resolve(s)}]),e.directive("widgetSalesCycle",function(){return{restrict:"A",controller:"WidgetSalesCycleCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.sales-forecast",[]),e.controller("WidgetSalesForecastCtrl",["$scope","$q","ChartFormatterSvc","$filter","$translate",function(e,t,n,i,r){var a,o;return o=e.widget,e.orgDeferred=t.defer(),e.chartDeferred=t.defer(),a=[e.orgDeferred.promise,e.chartDeferred.promise],o.initContext=function(){return e.isDataFound=angular.isDefined(o.content)&&!_.isEmpty(o.content.dates)&&!_.isEmpty(o.content.totals)},o.processError=function(t){if(404===t.code)return e.isDataFound=!1},e.getOpportunityAmount=function(t){if(e.isDataFound&&!_.isEmpty(t))return t.amount&&t.amount.amount?t.amount.amount:"-"},e.getOpportunityCurrency=function(t){if(e.isDataFound&&!_.isEmpty(t))return t.amount&&t.amount.currency?t.amount.currency:o.content.currency?o.content.currency:"AUD"},e.drawTrigger=t.defer(),o.format=function(){var t,a,s,l,c,u;if(e.isDataFound)return t=!0,u=null,null!=o.metadata&&null!=o.metadata.hist_parameters&&(u=o.metadata.hist_parameters.period),s=_.map(o.content.dates,function(e){return i("momentDate")(e,u)}),l=[{title:r.instant("impac.widget.sales_forecast.sales_performance"),labels:s,values:o.content.totals}],angular.forEach(o.content.totals,function(e){return t&&(t=e>=0)}),c={scaleBeginAtZero:t,showXLabels:!0,datasetFill:!0,pointDot:!1},a=n.lineChart(l,c),e.drawTrigger.notify(a)},e.widgetDeferred.resolve(a)}]),e.directive("widgetSalesForecast",function(){return{restrict:"A",controller:"WidgetSalesForecastCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.sales-growth",[]),e.controller("WidgetSalesGrowthCtrl",["$scope","$q","ChartFormatterSvc","$filter","$translate",function(e,t,n,i,r){var a,o,s,l;return l=e.widget,a=35,o=25,e.orgDeferred=t.defer(),e.timePeriodDeferred=t.defer(),e.paramSelectorDeferred1=t.defer(),e.paramSelectorDeferred2=t.defer(),e.chartDeferred=t.defer(),s=[e.orgDeferred.promise,e.timePeriodDeferred.promise,e.paramSelectorDeferred1.promise,e.paramSelectorDeferred2.promise,e.chartDeferred.promise],e.isDataQuantity=!0,l.initContext=function(){if(e.isDataFound=angular.isDefined(l.content)&&!_.isEmpty(l.content.summary)&&!_.isEmpty(l.content.dates))return e.productOptions=_.flatten(_.map(l.content.summary,function(t){return{label:e.getDisplayName(t,o),value:t.id}})),e.product=angular.copy(_.find(e.productOptions,function(e){return e.value===l.content.product})||{label:r.instant("impac.widget.sales_growth.select_product"),value:-1}),e.filterOptions=[{label:r.instant("impac.widget.sales_growth.value_sold_taxes"),value:"gross_value_sold"},{label:r.instant("impac.widget.sales_growth.value_sold_no_taxes"),value:"net_value_sold"},{label:r.instant("impac.widget.sales_growth.quantity_sold"),value:"quantity_sold"},{label:r.instant("impac.widget.sales_growth.value_purchased_taxes"),value:"gross_value_purchased"},{label:r.instant("impac.widget.sales_growth.value_purchased_no_taxes"),value:"net_value_purchased"},{label:r.instant("impac.widget.sales_growth.quantity_purchased"),value:"quantity_purchased"}],e.filter=angular.copy(_.find(e.filterOptions,function(e){return e.value===l.content.filter})||e.filterOptions[0]),e.isDataQuantity=e.filter.value.match("quantity")},e.getSelectedProduct=function(){var t;if(e.isDataFound)return t=_.find(l.content.summary,function(t){return t.id===e.product.value})||l.content.summary[0],_.extend(t,{displayName:e.getDisplayName(t,a)})},e.getCurrentValue=function(){if(null!=e.getSelectedProduct())return _.last(e.getSelectedProduct().totals)},e.getCurrentDate=function(){if(e.isDataFound)return _.last(l.content.dates)},e.getDisplayName=function(e,t){var n,i;return i=1===l.content.organizations.length?e.name:e.company+" - "+e.name,n=1===l.content.organizations.length?e.code:e.company+" - "+e.code,i.length>t?n:i},e.drawTrigger=t.defer(),l.format=function(){var t,r,a,o,s,c,u;if(e.isDataFound&&e.product&&(a=e.getSelectedProduct()))return u=null,null!=l.metadata&&null!=l.metadata.hist_parameters&&(u=l.metadata.hist_parameters.period),o=_.map(l.content.dates,function(e){return i("momentDate")(e,u)}),s={title:a.name,labels:o,values:a.totals},t=!0,angular.forEach(a.totals,function(e){return t&&(t=e>=0)}),c={scaleBeginAtZero:t,showXLabels:!1},e.filter.value.indexOf("quantity")>-1&&angular.merge(c,{currency:"hide"}),r=n.lineChart([s],c),e.drawTrigger.notify(r)},e.widgetDeferred.resolve(s)}]),e.directive("widgetSalesGrowth",function(){return{restrict:"A",controller:"WidgetSalesGrowthCtrl"}})}.call(this),function(){var e,t=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};e=angular.module("impac.components.widgets.sales-leads-funnel",[]),e.controller("WidgetSalesLeadsFunnelCtrl",["$scope","$q","ChartFormatterSvc","$filter","$sce","ImpacWidgetsSvc","ImpacDashboardsSvc","$translate",function(e,n,i,r,a,o,s,l){var c,u,d,h,p;return p=e.widget,e.orgDeferred=n.defer(),e.timePeriodDeferred=n.defer(),e.paramsPickerDeferred=n.defer(),e.widthDeferred=n.defer(),h=[e.orgDeferred.promise,e.timePeriodDeferred.promise,e.paramsPickerDeferred.promise,e.widthDeferred.promise],c=function(e){var t,n,i;return t=_.mapValues(e,function(e){return e.total}),i=_.compact(_.values(t)),null!=(n=_.reduce(i,function(e,t){return null==e&&(e=0),e+t}))&&n>0},p.initContext=function(){var n,i;if(n=s.getCurrentDashboard(),i=p.metadata.status_selection||n.metadata.status_selection||{values:[]},e.isDataFound=angular.isDefined(p.content)&&!_.isEmpty(p.content.leads_per_status)&&c(p.content.leads_per_status))return _.remove(i.values,function(e){return t.call(_.keys(p.content.leads_per_status),e)<0}),e.hasReach=!0,e.statusOptions=[],angular.forEach(p.content.leads_per_status,function(n,r){var a;return a=_.isEmpty(i.values)||t.call(i.values,r)>=0,e.statusOptions.push({label:r,selected:a})})},p.processError=function(t){if(404===t.code)return e.isDataFound=!1},e.getImpacColor=function(e){return i.getColor(e)},e.toggleSelectStatus=function(t){return e.selectedStatus&&e.selectedStatus===t?e.selectedStatus=null:(e.selectedStatus=t,e.setLeadTooltipsIsLocked=!1),!p.isExpanded()&&e.selectedStatus?p.toggleExpanded():o.updateWidgetSettings(p,!1,!0)},e.isSelected=function(t){return e.selectedStatus&&t===e.selectedStatus},e.getSelectedLeads=function(){var t;if(e.isDataFound&&e.selectedStatus)return t=p.content.leads_per_status[e.selectedStatus].leads,e.setLeadTooltipsIsLocked||d(t),t},e.leadDescriptionTooltips={},d=function(t){return e.leadDescriptionTooltips={},e.setLeadTooltipsIsLocked=!0,_.each(t,function(t,n){var i,o;return o=[],i=["<strong>"],t.first_name&&i.push(r("titleize")(t.first_name)),t.last_name&&i.push(r("titleize")(t.last_name)),i.push("</strong>"),o.push(i.join(" ")),o.push("Status: "+r("titleize")(t.lead_status)),t.organization&&o.push("Organization: "+r("titleize")(t.organization)),t.opportunities&&(o.push("<strong>Opportunities:</strong>"),_.each(t.opportunities,function(e){var t;return t=[],e.code&&t.push("#"+e.code),e.name&&t.push(""+e.name),e.amount&&t.push(r("mnoCurrency")(e.amount.total_amount,"USD",!1)),e.probability&&t.push(e.probability+"%"),e.sales_stage&&t.push(""+e.sales_stage),o.push(t.join(" - "))})),e.leadDescriptionTooltips[n]=a.trustAsHtml(o.join("<br />"))})},u={},u.initialized=!1,u.initialize=function(){return!_.isEmpty(p.content)&&angular.isDefined(p.content.leads_per_status[p.metadata.selected_status])&&(e.selectedStatus=p.metadata.selected_status),u.initialized=!0},u.toMetadata=function(){return{selected_status:e.selectedStatus}},p.settings.push(u),p.format=function(){var t;if(e.isDataFound&&(t=0,angular.forEach(e.statusOptions,function(e){var n;if(n=p.content.leads_per_status[e.label].total,e.selected&&angular.isDefined(n)&&n>t)return t=n}),t>0))return e.funnel=_.compact(_.map(e.statusOptions,function(e,n){var i,r,a;if(a=p.content.leads_per_status[e.label].total,i=(a/t*100-10).toFixed(),r=i<8?92:100-i,e.selected&&angular.isDefined(a))return{status:e.label,number:a,coloredWidth:{width:i+"%"},statusWidth:{width:r+"%"}}}))},e.widgetDeferred.resolve(h)}]),e.directive("widgetSalesLeadsFunnel",function(){return{restrict:"A",controller:"WidgetSalesLeadsFunnelCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.sales-leads-list",[]),e.controller("WidgetSalesLeadsListCtrl",["$scope","$q","ChartFormatterSvc","$filter","$sce","$translate",function(e,t,n,i,r,a){var o,s,l;return l=e.widget,e.orgDeferred=t.defer(),s=[e.orgDeferred.promise],e.ordering="last_name",l.initContext=function(){if(e.isDataFound=angular.isDefined(l.content)&&!_.isEmpty(l.content.leads),e.isDataFound)return o(l.content.leads)},l.processError=function(t){if(404===t.code)return e.isDataFound=!1},e.leadDescriptionTooltips={},o=function(t){return _.each(t,function(t,n){var a,o;return o=[],a=["<strong>"],t.first_name&&a.push(i("titleize")(t.first_name)),t.last_name&&a.push(i("titleize")(t.last_name)),a.push("</strong>"),o.push(a.join(" ")),o.push("Status: "+i("titleize")(t.lead_status)),t.organization&&o.push("Organization: "+i("titleize")(t.organization)),t.opportunities&&(o.push("<strong>Opportunities:</strong>"),_.each(t.opportunities,function(e){var t;return t=[],e.code&&t.push("#"+e.code),e.name&&t.push(""+e.name),e.amount&&t.push(i("mnoCurrency")(e.amount.total_amount,"USD",!1)),e.probability&&t.push(e.probability+"%"),e.sales_stage&&t.push(""+e.sales_stage),o.push(t.join(" - "))})),e.leadDescriptionTooltips[n]=r.trustAsHtml(o.join("<br />"))})},e.widgetDeferred.resolve(s)}]),e.directive("widgetSalesLeadsList",function(){return{restrict:"A",controller:"WidgetSalesLeadsListCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.sales-list",[]),e.controller("WidgetSalesListCtrl",["$scope","$q","ChartFormatterSvc","ImpacWidgetsSvc","$translate",function(e,t,n,i,r){var a,o,s,l,c,u;return u=e.widget,e.orgDeferred=t.defer(),e.paramSelectorDeferred=t.defer(),e.datesPickerDeferred=t.defer(),o=[e.orgDeferred.promise,e.paramSelectorDeferred.promise,e.datesPickerDeferred.promise],e.ascending=!0,e.sortedColumn="account",e.datesPickerTemplate="<span>"+r.instant("impac.widget.sales_list.from")+"<from-date> "+r.instant("impac.widget.sales_list.to")+" <to-date> <apply></span>",u.initContext=function(){if(e.isDataFound=angular.isDefined(u.content)&&!_.isEmpty(u.content.summary))return a(),e.ratesDate=moment.now(),e.filterOptions=[{label:r.instant("impac.widget.sales_list.value_sold_taxes"),value:"gross_value_sold"},{label:r.instant("impac.widget.sales_list.value_sold_no_taxes"),value:"net_value_sold"},{label:r.instant("impac.widget.sales_list.quantity_sold"),value:"quantity_sold"},{label:r.instant("impac.widget.sales_list.value_purchased_taxes"),value:"gross_value_purchased"},{label:r.instant("impac.widget.sales_list.value_purchased_no_taxes"),value:"net_value_purchased"},{label:r.instant("impac.widget.sales_list.quantity_purchased"),value:"quantity_purchased"}],e.filter=angular.copy(_.find(e.filterOptions,function(e){return e.value===u.metadata.filter})||e.filterOptions[0]),e.unCollapsed=u.metadata.unCollapsed||[],l()},e.toggleCollapsed=function(t){if(null!=t)return _.find(e.unCollapsed,function(e){return t===e})?e.unCollapsed=_.reject(e.unCollapsed,function(e){return e===t}):e.unCollapsed.push(t),i.updateWidgetSettings(u,!1)},e.isCollapsed=function(t){if(null!=t)return!_.find(e.unCollapsed,function(e){return t===e})},s=function(t){return angular.forEach(u.content.summary,function(n){if(n.products)return n.products.sort(function(n,i){var r;return r=t(n)>t(i)?1:t(n)<t(i)?-1:0,e.ascending||(r*=-1),r})})},l=function(){return"account"===e.sortedColumn?s(function(e){return e.name}):"total"===e.sortedColumn?s(function(e){return e.total}):void 0},e.sort=function(t){return e.sortedColumn===t?e.ascending=!e.ascending:(e.ascending=!0,e.sortedColumn=t),l()},a=function(){var e,t,n,i,r,a,o;for(i=u.content.summary,r=[],t=0,n=i.length;t<n;t++)e=i[t],r.push(function(){var t,n,i,r;for(i=e.products,r=[],t=0,n=i.length;t<n;t++)a=i[t],o=[],_.isEmpty(a.fx_totals)||_.mapKeys(a.fx_totals,function(e,t){var n;if(0!==(n=e.amount)&&t!==u.metadata.currency)return o.push({currency:t,amount:n,rate:e.rate})}),_.isEmpty(o)?r.push(void 0):r.push(a.formattedFxTotals=o);return r}());return r},c={},c.initialized=!1,c.initialize=function(){return c.initialized=!0},c.toMetadata=function(){return{unCollapsed:e.unCollapsed}},u.settings.push(c),e.widgetDeferred.resolve(o)}]),e.directive("widgetSalesList",function(){return{restrict:"A",controller:"WidgetSalesListCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.sales-margin",[]),e.controller("WidgetSalesMarginCtrl",["$scope","$q","ChartFormatterSvc","$filter","$translate",function(e,t,n,i,r){var a,o;return o=e.widget,e.orgDeferred=t.defer(),e.timePeriodDeferred=t.defer(),e.histModeDeferred=t.defer(),e.paramSelectorDeferred=t.defer(),e.chartDeferred=t.defer(),a=[e.orgDeferred.promise,e.timePeriodDeferred.promise,e.histModeDeferred.promise,e.paramSelectorDeferred.promise,e.chartDeferred.promise],o.initContext=function(){if(e.isDataFound=null!=o.content&&null!=o.content.margins&&null!=o.content.dates,e.isDataFound)return e.filterOptions=[{label:r.instant("impac.widget.sales_margin.including_taxes"),value:"gross_margin"},{label:r.instant("impac.widget.sales_margin.excluding_taxes"),value:"net_margin"}],null!=o.metadata&&"net_margin"===o.metadata.filter?e.filter=angular.copy(e.filterOptions[1]):e.filter=angular.copy(e.filterOptions[0])},e.getTotalMargin=function(){if(e.isDataFound)return null!=o.metadata&&"net_margin"===o.metadata.filter?_.reduce(o.content.margins.net,function(e,t){return e+t},0):_.reduce(o.content.margins.gross,function(e,t){return e+t},0)},e.getCurrency=function(){if(e.isDataFound)return o.content.currency||"USD"},e.drawTrigger=t.defer(),o.format=function(){var t,a,s,l,c,u,d;if(e.isDataFound)return d=null!=o.metadata&&"net_margin"===o.metadata.filter?o.content.margins.net:o.content.margins.gross,u=null,null!=o.metadata&&null!=o.metadata.hist_parameters&&(u=o.metadata.hist_parameters.period),s=_.map(o.content.dates,function(e){return i("momentDate")(e,u)}),l={title:r.instant("impac.widget.sales_margin.gross_margin"),labels:s,values:d},t=!0,angular.forEach(d,function(e){return t&&(t=e>=0)}),c={scaleBeginAtZero:t,showXLabels:!1},a=n.lineChart([l],c),e.drawTrigger.notify(a)},e.widgetDeferred.resolve(a)}]),e.directive("widgetSalesMargin",function(){return{restrict:"A",controller:"WidgetSalesMarginCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.sales-net-sales",[]),e.controller("WidgetSalesNetSalesCtrl",["$scope","$q","ChartFormatterSvc","$filter","$translate",function(e,t,n,i,r){var a,o;return o=e.widget,e.orgDeferred=t.defer(),e.paramSelector1Deferred=t.defer(),e.paramSelector2Deferred=t.defer(),a=[e.orgDeferred.promise,e.paramSelector1Deferred.promise,e.paramSelector2Deferred.promise],r(["impac.widget.sales_net_sales.total_amount","impac.widget.sales_net_sales.average_amount","impac.widget.sales_net_sales.volume"]).then(function(t){return e.displayOptions=[{label:t["impac.widget.sales_net_sales.total_amount"],value:"total"},{label:t["impac.widget.sales_net_sales.average_amount"],value:"average"},{label:t["impac.widget.sales_net_sales.volume"],value:"trans_count"}],e.displayType=angular.copy(_.find(e.displayOptions,function(e){return o.metadata&&e.value===o.metadata.display_type})||e.displayOptions[0])}),r(["impac.widget.sales_net_sales.tmpl.last_hours","impac.widget.sales_net_sales.tmpl.last_days"]).then(function(t){var n,i;return i=t["impac.widget.sales_net_sales.tmpl.last_hours"],n=t["impac.widget.sales_net_sales.tmpl.last_days"],e.timeRangeOptions=[{label:i.replace(":hours:",24),value:"-1d"},{label:n.replace(":days:",5),value:"-5d"},{label:n.replace(":days:",7),value:"-7d"},{label:n.replace(":days:",30),value:"-30d"},{label:n.replace(":days:",45),value:"-45d"},{label:n.replace(":days:",60),value:"-60d"},{label:n.replace(":days:",90),value:"-90d"}],e.timeRange=angular.copy(_.find(e.timeRangeOptions,function(e){return o.metadata&&e.value===o.metadata.time_range})||e.timeRangeOptions[6])}),o.initContext=function(){return e.isDataFound=null!=o.content&&null!=o.content.sales&&o.content.sales.length>0&&null!=o.content.sales[0].total},e.getCurrency=function(){if(e.isDataFound)return o.content.currency},e.getValue=function(t){if(null==o.content||!o.content[t])return 0;switch(e.displayType.value){case"total":return i("mnoCurrency")(o.content[t][0].total,e.getCurrency(),!1);case"average":return i("mnoCurrency")(o.content[t][0].avg,e.getCurrency(),!1);case"trans_count":return o.content[t][0].trans_count}},e.sign=function(t){return"average"===e.displayType.value?{minus:"~",equal:"=>"}[t]:"trans_count"===e.displayType.value?{minus:"+",equal:"="}[t]:{minus:"-",equal:"="}[t]},e.widgetDeferred.resolve(a)}]),e.directive("widgetSalesNetSales",function(){return{restrict:"A",controller:"WidgetSalesNetSalesCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.sales-new-vs-existing-customers",[]),e.controller("WidgetSalesNewVsExistingCustomersCtrl",["$scope","$q","ChartFormatterSvc","$filter","$translate",function(e,t,n,i,r){var a,o,s,l;return l=e.widget,e.orgDeferred=t.defer(),e.timeRangeParamSelectorDeferred=t.defer(),e.displayTypeParamSelectorDeferred=t.defer(),e.chartDeferred=t.defer(),s=[e.orgDeferred.promise,e.timeRangeParamSelectorDeferred.promise,e.displayTypeParamSelectorDeferred.promise,e.chartDeferred.promise],e.displayOptions=[{label:r.instant("impac.widget.sales_new_vs_existing.customers"),value:"customers_count"},{label:r.instant("impac.widget.sales_new_vs_existing.total_sales"),value:"total_sales"},{label:r.instant("impac.widget.sales_new_vs_existing.transactions"),value:"transactions_count"}],e.displayType=angular.copy(_.find(e.displayOptions,function(e){return l.metadata&&e.value===l.metadata.display_type})||e.displayOptions[0]),o=r.instant("impac.widget.sales_new_vs_existing.tmpl.last_hours"),a=r.instant("impac.widget.sales_new_vs_existing.tmpl.last_days"),e.timeRangeOptions=[{label:o.replace(":hours:",24),value:"-1d"},{label:a.replace(":days:",5),value:"-5d"},{label:a.replace(":days:",7),value:"-7d"},{label:a.replace(":days:",30),value:"-30d"},{label:a.replace(":days:",45),value:"-45d"},{label:a.replace(":days:",60),value:"-60d"},{label:a.replace(":days:",90),value:"-90d"}],e.timeRange=angular.copy(_.find(e.timeRangeOptions,function(e){return l.metadata&&e.value===l.metadata.time_range})||e.timeRangeOptions[6]),l.initContext=function(){return e.isDataFound=null!=l.content&&null!=l.content.summary&&null!=l.content.summary.customers_count&&null!=l.content.summary.customers_count.total&&l.content.summary.customers_count.total>0},e.displayTypeOnClick=function(){return e.updateSettings(!1),l.format()},e.getValue=function(t){var n,r;if(e.isDataFound)switch(r=e.displayType.value,n=l.content.summary[r][t],r){case"total_sales":
return i("mnoCurrency")(n,l.metadata.currency);default:return n}},e.shouldDisplayCurrency=function(){return e.isDataFound&&e.displayType.value.indexOf("count")<0},e.calculatePercentage=function(t){var n;return n={new:Math.abs(l.content.summary[e.displayType.value].new),existing:Math.abs(l.content.summary[e.displayType.value].existing)},n.totals=n.new+n.existing,Math.round(n[t]/n.totals*100)},e.drawTrigger=t.defer(),l.format=function(){var t,i,r;if(e.isDataFound)return i=[{label:"EXISTING "+e.calculatePercentage("existing")+"%",value:l.content.summary[e.displayType.value].existing},{label:"NEW "+e.calculatePercentage("new")+"%",value:l.content.summary[e.displayType.value].new}],r={percentageInnerCutout:50,tooltipFontSize:12},e.shouldDisplayCurrency()||angular.merge(r,{currency:"hide"}),t=n.pieChart(i,r,!0),e.drawTrigger.notify(t)},e.widgetDeferred.resolve(s)}]),e.directive("widgetSalesNewVsExistingCustomers",function(){return{restrict:"A",controller:"WidgetSalesNewVsExistingCustomersCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.sales-number-of-leads",[]),e.controller("WidgetSalesNumberOfLeadsCtrl",["$scope","$q","ChartFormatterSvc","$filter","$translate",function(e,t,n,i,r){var a,o,s;return s=e.widget,e.orgDeferred=t.defer(),e.paramSelectorDeferred=t.defer(),o=[e.orgDeferred.promise,e.paramSelectorDeferred.promise],s.initContext=function(){if(e.isDataFound=angular.isDefined(s.content)&&!_.isEmpty(s.content.number_of_leads))return r(["impac.widget.settings.time_period.period.year","impac.widget.settings.time_period.period.quarter","impac.widget.settings.time_period.period.month","impac.widget.settings.time_period.period.week","impac.widget.settings.time_period.period.day"]).then(function(t){return e.periodOptions=[{label:t["impac.widget.settings.time_period.period.year"],value:"YEARLY"},{label:t["impac.widget.settings.time_period.period.quarter"],value:"QUARTERLY"},{label:t["impac.widget.settings.time_period.period.month"],value:"monthly"},{label:t["impac.widget.settings.time_period.period.week"],value:"WEEKLY"},{label:t["impac.widget.settings.time_period.period.day"],value:"DAILY"}],e.period=angular.copy(_.find(e.periodOptions,function(e){return e.value===s.metadata.period})||e.periodOptions[3])})},s.processError=function(t){if(404===t.code)return e.isDataFound=!1},e.formatNumberOfLeads=function(t){var n,i,r,o,l,c;if(i=0,r="- %",!e.isDataFound)return{nominal:i,variation:r,color:""};if(o=angular.copy(s.content.number_of_leads),l=0,n="","new"===t&&o.total&&2===o.total.length)l=o.total[1]-o.total[0],c=a(o.total),c>0?n="green":c<0&&(n="red");else if("converted"===t&&o.converted&&2===o.converted.length)l=o.converted[1],c=a(o.converted),c>0?n="green":c<0&&(n="red");else{if("lost"!==t||!o.lost||2!==o.lost.length)return{nominal:i,variation:r,color:n};l=o.lost[1],c=a(o.lost),c<0?n="green":c>0&&(n="red")}return l>0?i="+"+l:l<0&&(i=l),c&&c>0?r="+"+c.toFixed(0)+"%":c&&c<0&&(r=c.toFixed(0)+"%"),{nominal:i,variation:r,color:n}},a=function(e){return 0!==e[0]?100*(e[1]/e[0]-1):"- "},e.widgetDeferred.resolve(o)}]),e.directive("widgetSalesNumberOfLeads",function(){return{restrict:"A",controller:"WidgetSalesNumberOfLeadsCtrl"}})}.call(this),function(){var e,t=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};e=angular.module("impac.components.widgets.sales-opportunities-funnel",[]),e.controller("WidgetSalesOpportunitiesFunnelCtrl",["$scope","$q","ChartFormatterSvc","$filter","ImpacWidgetsSvc","ImpacDashboardsSvc",function(e,n,i,r,a,o){var s,l,c,u,d,h,p,f;return f=e.widget,e.selectedOpportunities=[],e.collapsed=[],e.orgDeferred=n.defer(),e.paramsPickerDeferred1=n.defer(),e.paramsPickerDeferred2=n.defer(),e.widthDeferred=n.defer(),d=[e.orgDeferred.promise,e.paramsPickerDeferred1.promise,e.paramsPickerDeferred2.promise,e.widthDeferred.promise],e.ascending=!0,e.sortedColumn="group",c=function(e){var t,n,i;return t=_.mapValues(e,function(e){return e.total}),i=_.compact(_.values(t)),null!=(n=_.reduce(i,function(e,t){return null==e&&(e=0),e+t}))&&n>0},s=function(e,n){return _.reduce(e,function(e,i){var r;return null==e&&(e=0),r=i.assignee_id,t.call(n,r)>=0?e+1:e},0)},l=function(e){return _.map(_.filter(e,function(e){return e.selected}),"value")},f.initContext=function(){var n,i,r;if(i=o.getCurrentDashboard(),r=f.metadata.sales_stage_selection||i.metadata.sales_stage_selection||{values:[]},n=f.metadata.assignees_selection||i.metadata.assignees_selection||{values:[]},(e.isDataFound=angular.isDefined(f.content)&&!_.isEmpty(f.content.opps_per_sales_stage)&&c(f.content.opps_per_sales_stage))&&(_.remove(r.values,function(e){return t.call(_.keys(f.content.opps_per_sales_stage),e)<0}),e.hasReach=!0,e.statusOptions=[],angular.forEach(f.content.opps_per_sales_stage,function(n,i){var a;return a=_.isEmpty(r.values)||t.call(r.values,i)>=0,e.statusOptions.push({label:i,selected:a})}),!e.statusOptions[0]||_.any(e.statusOptions,"selected")||_.isEmpty(f.content.opps_per_sales_stage)||(e.statusOptions[0].selected=!0),e.assigneesOptions=[],angular.forEach(f.content.assignees,function(i,r){var a,o;return a=_.isEmpty(n.values)||(o=i.id,t.call(n.values,o)>=0),e.assigneesOptions.push({label:i.name,selected:a,value:i.id})}),e.assigneesOptions[0]&&!_.any(e.assigneesOptions,"selected")&&!_.isEmpty(f.content.assignees)))return e.assigneesOptions[0].selected=!0},f.processError=function(t){if(404===t.code)return e.isDataFound=!1},e.getImpacColor=function(e){return i.getColor(e)},e.toggleSelectStatus=function(t){return e.selectedStatus&&e.selectedStatus===t?e.selectedStatus=null:e.selectedStatus=t,e.updateRightView(),!f.isExpanded()&&e.selectedStatus?f.toggleExpanded():a.updateWidgetSettings(f,!1,!0)},e.isSelected=function(t){return e.selectedStatus&&t===e.selectedStatus},e.toggleCollapsed=function(t){if(null!=t&&null!=t.assigneeName)return _.find(e.collapsed,function(e){return t.assigneeName===e})?e.collapsed=_.reject(e.collapsed,function(e){return e===t.assigneeName}):e.collapsed.push(t.assigneeName)},e.isCollapsed=function(t){if(null!=t&&null!=t.assigneeName)return!!_.find(e.collapsed,function(e){return t.assigneeName===e})},e.getSelectedOpportunities=function(){var n,i,r,a;return e.isDataFound&&e.selectedStatus&&f.content.opps_per_sales_stage[e.selectedStatus]?(n=l(e.assigneesOptions),i=_.filter(f.content.opps_per_sales_stage[e.selectedStatus].opps,function(e){var i;return i=e.assignee_id,t.call(n,i)>=0}),r=_.groupBy(i,"assignee_id"),a=[],angular.forEach(e.assigneesOptions,function(e){var t;if(t=e.value,r[t])return a.push({assigneeName:e.label,opps:r[t]})}),a):[]},e.getOppDetails=function(e){var t;return t=[],e.amount&&t.push(r("mnoCurrency")(e.amount.amount,e.amount.currency||"AUD")),e.probability&&t.push("prob. "+e.probability+"%"),t.join(" / ")},e.getTotal=function(e){var t,n;return e.length>0?(n=_.sum(e,function(e){var t,n;return t=e.amount.amount||0,n=e.probability||0,t*(n/100)}),t=e[0].amount.currency||"AUD",r("mnoCurrency")(n,t)):""},p=function(t){return angular.forEach(e.selectedOpportunities,function(n){if(n.opps)return n.opps.sort(function(n,i){var r;return r=t(n)>t(i)?1:t(n)<t(i)?-1:0,e.ascending||(r*=-1),r})})},h=function(){return"group"===e.sortedColumn?p(function(e){return e.name}):"total"===e.sortedColumn?p(function(e){return e.amount.amount}):void 0},e.sort=function(t){return e.sortedColumn===t?e.ascending=!e.ascending:(e.ascending=!0,e.sortedColumn=t),h()},e.updateRightView=function(){return e.selectedOpportunities=e.getSelectedOpportunities(),e.collapsed=[],h()},u={},u.initialized=!1,u.initialize=function(){return!_.isEmpty(f.content)&&angular.isDefined(f.content.opps_per_sales_stage[f.metadata.selected_status])&&(e.selectedStatus=f.metadata.selected_status),u.initialized=!0,e.updateRightView()},u.toMetadata=function(){return{selected_status:e.selectedStatus}},f.settings.push(u),f.format=function(){var t,n;if(e.isDataFound)return n=0,t=l(e.assigneesOptions),angular.forEach(e.statusOptions,function(e){var i;if(i=s(f.content.opps_per_sales_stage[e.label].opps,t),e.selected&&angular.isDefined(i)&&i>n)return n=i}),n>0?e.funnel=_.compact(_.map(e.statusOptions,function(e,i){var r,a,o;if(o=s(f.content.opps_per_sales_stage[e.label].opps,t),r=(o/n*100-10).toFixed(),a=r<8?92:100-r,e.selected&&angular.isDefined(o)&&o>0)return{status:e.label,number:o,coloredWidth:{width:r+"%"},statusWidth:{width:a+"%"}}})):e.isDataFound=!1},e.widgetDeferred.resolve(d)}]),e.directive("widgetSalesOpportunitiesFunnel",function(){return{restrict:"A",controller:"WidgetSalesOpportunitiesFunnelCtrl"}})}.call(this),function(){var e,t=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};e=angular.module("impac.components.widgets.sales-performance",[]),e.controller("WidgetSalesPerformanceCtrl",["$scope","$q","$filter","ChartFormatterSvc","ImpacWidgetsSvc",function(e,n,i,r,a){var o,s,l,c,u,d;return d=e.widget,e.orgDeferred=n.defer(),e.paramsWinsPickerDeferred=n.defer(),e.paramsLostsPickerDeferred=n.defer(),e.timePeriodDeferred=n.defer(),e.widthDeferred=n.defer(),e.chartDeferred=n.defer(),u=[e.orgDeferred.promise,e.paramsWinsPickerDeferred,e.paramsLostsPickerDeferred,e.timePeriodDeferred,e.widthDeferred.promise,e.chartDeferred.promise],d.initContext=function(){var n,i,r,a,o;if(e.isDataFound=angular.isDefined(d.content)&&!_.isEmpty(d.content.assignees),e.isDataFound){if(!_.isEmpty(d.metadata.selectedElements))for(e.selectedElements=[],a=d.metadata.selectedElements,i=0,r=a.length;i<r;i++)o=a[i],(n=_.find(d.content.assignees,function(e){return s(e)===o}))&&e.selectedElements.push(n);return e.hasReach=!0,e.closedWonOptions=_.compact(_.map(d.content.sales_stages.won,function(e){return{label:e,selected:!0}})),angular.forEach(d.content.sales_stages.all,function(n){if(!(t.call(d.content.sales_stages.won,n)>=0))return e.closedWonOptions.push({label:n,selected:!1})}),e.closedLostOptions=_.compact(_.map(d.content.sales_stages.lost,function(e){return{label:e,selected:!0}})),angular.forEach(d.content.sales_stages.all,function(n){if(!(t.call(d.content.sales_stages.lost,n)>=0))return e.closedLostOptions.push({label:n,selected:!1})})}},d.processError=function(t){if(404===t.code)return e.isDataFound=!1},e.getChartTitle=function(t){if(e.selectedElements)return e.selectedElements.map(function(e){return e.name}).join(", ")},e.getTotalWon=function(t){return e.selectedElements?e.selectedElements.reduce(function(e,t){return e+t.total_won},0):0},o=function(e){var t;return t=null!=d.metadata&&null!=d.metadata.hist_parameters?d.metadata.hist_parameters.period:null,i("momentDate")(e,t)},e.getCloseDate=function(e){var t;if(null!=e&&null!=e.sales_stage_changes&&e.sales_stage_changes.length>0&&(t=e.sales_stage_changes[e.sales_stage_changes.length-1].updated_at,t.split(" ").length>0))return t=t.split(" ")[0],o(t)},e.getForecastCloseDate=function(e){var t;if(null!=e&&e.expected_close_date&&(t=e.expected_close_date,t.split(" ").length>0))return t=t.split(" ")[0],o(t)},e.getElementChartColor=function(e){return r.getColor(e)},e.no_sales_stages_selected=function(){return d.content&&d.content.sales_stages&&0===d.content.sales_stages.won.length&&0===d.content.sales_stages.lost.length},e.toggleSelectedElement=function(t){var n;return e.isSelected(t)?(e.selectedElements=_.reject(e.selectedElements,function(e){return l(t,e)}),d.format(),d.isExpanded()&&0===e.selectedElements.length?d.toggleExpanded():a.updateWidgetSettings(d,!1,!0)):(n=angular.copy(t),e.selectedElements||(e.selectedElements=[]),e.selectedElements.push(n),d.format(),d.isExpanded()?a.updateWidgetSettings(d,!1,!0):d.toggleExpanded())},e.isSelected=function(t){return null!=t&&_.any(e.selectedElements,function(e){return l(t,e)})},e.hasElements=function(){return null!=e.selectedElements&&e.selectedElements.length>0},e.getSelectLineColor=function(t){var n;if(n=_.find(e.selectedElements,function(e){return l(t,e)}),e.hasElements())return r.getColor(_.indexOf(e.selectedElements,n))},l=function(e,t){return s(e)===s(t)},s=function(e){return e.id||e.name},e.drawTrigger=n.defer(),d.format=function(){var t,n,a,o;if(e.isDataFound&&null!=e.selectedElements&&e.selectedElements.length>0)return a=[],t=!0,angular.forEach(e.selectedElements,function(e){var n,r,o;return n=angular.copy(e),o=null,null!=d.metadata&&null!=d.metadata.hist_parameters&&(o=d.metadata.hist_parameters.period),r=_.map(d.content.dates,function(e){return i("momentDate")(e,o)}),a.push({title:n.name,labels:r,values:n.totals}),angular.forEach(n.totals,function(e){return t&&(t=e>=0)})}),o={scaleBeginAtZero:t,showXLabels:!0,datasetFill:1===e.selectedElements.length,pointDot:1===e.selectedElements.length},n=r.lineChart(a,o),e.drawTrigger.notify(n)},c={initialized:!1},c.initialize=function(){return c.initialized=!0},c.toMetadata=function(){var t;return t=_.map(e.selectedElements,function(e){return s(e)}),{selectedElements:t}},d.settings.push(c),e.widgetDeferred.resolve(u)}]),e.directive("widgetSalesPerformance",function(){return{restrict:"A",controller:"WidgetSalesPerformanceCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.sales-segmented-turnover",[]),e.controller("WidgetSalesSegmentedTurnoverCtrl",["$scope","$q","$filter","ChartFormatterSvc","$translate",function(e,t,n,i,r){var a,o;return o=e.widget,e.orgDeferred=t.defer(),e.timePeriodDeferred=t.defer(),e.widthDeferred=t.defer(),e.paramSelectorDeferred=t.defer(),e.chartDeferred=t.defer(),a=[e.orgDeferred.promise,e.timePeriodDeferred.promise,e.widthDeferred.promise,e.paramSelectorDeferred.promise,e.chartDeferred.promise],o.initContext=function(){if(e.isDataFound=!_.isEmpty(o.content)&&!_.isEmpty(o.content.dates)&&!_.isEmpty(o.content.ranges))return e.filterOptions=[{label:r.instant("impac.widget.sales_turnover.gross_revenue"),value:"gross"},{label:r.instant("impac.widget.sales_turnover.net_revenue"),value:"net"}],e.filter=angular.copy(_.find(e.filterOptions,function(e){return e.value===o.content.filter})||e.filterOptions[0]),o.content.ranges[0].percentage+o.content.ranges[1].percentage>50?e.analysisTranslate=r.instant("impac.widget.sales_turnover.analysis.least"):o.content.ranges[3].percentage+o.content.ranges[4].percentage>50?e.analysisTranslate=r.instant("impac.widget.sales_turnover.analysis.most"):e.analysisTranslate=r.instant("impac.widget.sales_turnover.analysis.balanced")},e.getColorByIndex=function(e){return i.getColor(e)},e.getRangeLabel=function(e,t){var i;return null==t&&(t=!1),i=e.split("-"),_.map(i,function(e){return n("mnoCurrency")(e,o.content.currency,t)}).join(" - ")},e.getMaxRange=function(){var t,n;if(e.isDataFound)return t=0,n=o.content.ranges[0],angular.forEach(o.content.ranges,function(e){return e.percentage>t&&(n=angular.copy(e)),t=Math.max(t,e.percentage)}),n},e.drawTrigger=t.defer(),o.format=function(){var t,n,r;if(e.isDataFound)return t={labels:_.map(o.content.ranges,function(t){return e.getRangeLabel(t.label,!0)}),values:_.map(o.content.ranges,function(e){return e.value})},n={showTooltips:!1,showXLabels:!1,barDatasetSpacing:15},r=i.barChart(t,n),e.drawTrigger.notify(r)},e.widgetDeferred.resolve(a)}]),e.directive("widgetSalesSegmentedTurnover",function(){return{restrict:"A",controller:"WidgetSalesSegmentedTurnoverCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.sales-summary",[]),e.controller("WidgetSalesSummaryCtrl",["$scope","$q","ChartFormatterSvc","$translate",function(e,t,n,i){var r,a;return a=e.widget,e.orgDeferred=t.defer(),e.chartFiltersDeferred=t.defer(),e.paramSelectorDeferred=t.defer(),e.datesPickerDeferred=t.defer(),e.chartDeferred=t.defer(),r=[e.orgDeferred.promise,e.chartFiltersDeferred.promise,e.paramSelectorDeferred.promise,e.datesPickerDeferred.promise,e.chartDeferred.promise],e.datesPickerTemplate="<span><from-date>"+i.instant("impac.widget.sales_summary.to")+" <to-date> <apply></span>",a.initContext=function(){if(e.isDataFound=!_.isEmpty(a.content)&&!_.isEmpty(a.content.summary)&&_.sum(_.map(a.content.summary,function(e){return e.total}))>0,e.isDataFound)return e.filterOptions=[{label:i.instant("impac.widget.sales_summary.value_sold_taxes"),value:"gross_value_sold"},{label:i.instant("impac.widget.sales_summary.value_sold_no_taxes"),value:"net_value_sold"},{label:i.instant("impac.widget.sales_summary.quantity_sold"),value:"quantity_sold"},{label:i.instant("impac.widget.sales_summary.value_purchased_taxes"),value:"gross_value_purchased"},{label:i.instant("impac.widget.sales_summary.value_purchased_no_taxes"),value:"net_value_purchased"},{label:i.instant("impac.widget.sales_summary.quantity_purchased"),value:"quantity_purchased"}],"customer"===a.metadata.criteria&&(e.filterOptions=[e.filterOptions[0],e.filterOptions[1],e.filterOptions[2]]),e.filter=angular.copy(_.find(e.filterOptions,function(e){return e.value===a.metadata.filter})||e.filterOptions[0])},e.drawTrigger=t.defer(),a.format=function(){var t,i,r;if(e.isDataFound)return i=_.map(a.content.summary,function(e){var t;return t=e.company?(e.code||e.name||e.location||e.industry||e.customer)+" ("+e.company+")":e.code||e.name||e.location||e.industry||e.customer,{label:t,value:e.total}}),r={percentageInnerCutout:50,tooltipFontSize:12},e.filter.value.indexOf("quantity")>-1&&angular.merge(r,{currency:"hide"}),t=n.pieChart(i,r),e.drawTrigger.notify(t)},e.widgetDeferred.resolve(r)}]),e.directive("widgetSalesSummary",function(){return{restrict:"A",controller:"WidgetSalesSummaryCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.sales-top-customers",[]),e.controller("WidgetSalesTopCustomersCtrl",["$scope","$q","$filter","ImpacUtilities","$translate",function(e,t,n,i,r){var a,o,s,l,c;return c=e.widget,e.orgDeferred=t.defer(),e.datesPickerDeferred=t.defer(),e.paramSelectorDeferred=t.defer(),s=[e.orgDeferred.promise,e.datesPickerDeferred.promise,e.paramSelectorDeferred.promise],l=r.instant("impac.widget.sales_top_customers.top"),e.limitEntriesOptions=[{label:l.replace(":number:",5),value:5},{label:l.replace(":number:",10),value:10},{label:l.replace(":number:",25),value:25},{label:l.replace(":number:",50),value:50},{label:l.replace(":number:",100),value:100}],e.limitEntriesSelected=angular.copy(_.find(e.limitEntriesOptions,function(e){return null!=c.metadata&&e.value===c.metadata.limit_entries})||e.limitEntriesOptions[3]),e.headerOptions=[{label:r.instant("impac.widget.sales_top_customers.total_sales"),value:"total_sales",minified:"total"},{label:r.instant("impac.widget.sales_top_customers.transactions"),value:"transactions",minified:"# tr"},{label:r.instant("impac.widget.sales_top_customers.avg_sales"),value:"avg_sales",minified:"avg"},{label:r.instant("impac.widget.sales_top_customers.last_sale"),value:"last_sale",minified:"last"}],e.headerSelected=angular.copy(_.find(e.headerOptions,function(e){return null!=c.metadata&&c.metadata.header===e.value})||e.headerOptions[0]),c.initContext=function(){var t,r;if(e.isDataFound=!_.isEmpty(c.content)&&!_.isEmpty(c.content.entities))return t=_.flatten(_.map(c.content.entities,function(e){return _.map(e.invoices,function(e){return e.invoice_date})})),r=i.getDatesRange(t),e.defaultFrom=n("date")(r[0],"yyyy-MM-dd"),e.defaultTo=n("date")(r[1],"yyyy-MM-dd"),a(),e.ratesDate=moment.now()},o=[{label:"total",showCurrency:!0,getValue:function(e){return e.total_invoiced},getFormattedFxTotals:function(e){return e.formattedFxTotals}},{label:"# tr",showCurrency:!1,getValue:function(e){return e.invoices.length}},{label:"avg",showCurrency:!0,getValue:function(e){var t;return t=e.invoices.length,t>0?e.total_invoiced/e.invoices.length:0}},{label:"last",showCurrency:!0,getValue:function(e){var t;return t=e.invoices.length,t>0?e.invoices[e.invoices.length-1].invoiced:0}}],e.getHeaderField=function(){return _.find(o,function(t){return t.label===e.headerSelected.minified})},e.getRemainingFields=function(){return _.reject(o,function(t){return t.label===e.headerSelected.minified})},e.getEntities=function(){return e.isDataFound?n("orderBy")(c.content.entities,function(t){return e.getHeaderField().getValue(t)},!0):[]},a=function(){var e,t,n,i,r,a;for(r=c.content.entities,a=[],n=0,i=r.length;n<i;n++)e=r[n],t=[],_.mapKeys(e.fx_totals,function(e,n){if(n!==c.metadata.currency)return t.push({currency:n,amount:e.invoiced,rate:e.rate})}),_.isEmpty(t)?a.push(void 0):a.push(e.formattedFxTotals=t);return a},e.widgetDeferred.resolve(s)}]),e.directive("widgetSalesTopCustomers",function(){return{restrict:"A",controller:"WidgetSalesTopCustomersCtrl",link:function(e){return e.transactionsCollapsed=!1,e.toggleTransactions=function(){return e.transactionsCollapsed=!e.transactionsCollapsed}}}})}.call(this),function(){var e;e=angular.module("impac.components.widgets.sales-top-opportunities",[]),e.controller("WidgetSalesTopOpportunitiesCtrl",["$scope","$q","ChartFormatterSvc","$filter","$translate",function(e,t,n,i,r){var a,o;return o=e.widget,e.orgDeferred=t.defer(),a=[e.orgDeferred.promise],o.initContext=function(){return e.isDataFound=angular.isDefined(o.content)&&!_.isEmpty(o.content.opportunities)},o.processError=function(t){if(404===t.code)return e.isDataFound=!1},e.getOppDetails=function(e){var t;return t=[],e.amount&&t.push(i("mnoCurrency")(e.amount.amount,e.amount.currency||"AUD")),e.probability&&t.push(r.instant("impac.widget.sales_opportunities.proba")+" "+e.probability+"%"),e.sales_stage&&t.push(e.sales_stage),t.join(" / ")},e.getOppClass=function(e){switch(e){case 0:return"first";case 1:case 2:return"second";default:return""}},e.widgetDeferred.resolve(a)}]),e.directive("widgetSalesTopOpportunities",function(){return{restrict:"A",controller:"WidgetSalesTopOpportunitiesCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets-common.autofocus",[]),e.directive("autofocus",["$timeout",function(e){return{restrict:"A",link:function(t,n){return e(function(){return n[0].focus()})}}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-common.chart-threshold",[]),e.component("chartThreshold",{templateUrl:"widgets-common/chart-threshold.tmpl.html",bindings:{widget:"<",chartPromise:"<?",chartShrinkSize:"<?",disabled:"<?",kpiTargetMode:"<?",kpiCreateLabel:"<?",thresholdColor:"@",onComplete:"&?"},controller:["$timeout","$log","ImpacKpisSvc","toastr",function(e,t,n,i){var r,a,o,s,l,c,u,d,h,p,f,g;return a=this,a.$onInit=function(){if(a.kpi={},a.showPanel=!1,a.isEditingKpi=!1,a.loading=!1,a.draftTarget={value:""},a.chartShrinkSize||(a.chartShrinkSize=38),a.disabled||(a.disabled=!1),a.kpiTargetMode||(a.kpiTargetMode="min"),a.kpiCreateLabel||(a.kpiCreateLabel="Get alerted when the target threshold goes below"),a.thresholdColor||(a.thresholdColor="rgba(0, 0, 0, 0.7)"),n.getAttachableKpis(a.widget.endpoint).then(function(e){return _.isEmpty(e)||_.isEmpty(e[0].watchables)?o("No valid KPI Templates found"):angular.extend(a.kpi,angular.copy(e[0]))},function(){return o()}),null!=a.chartPromise&&_.isFunction(a.chartPromise.then))return a.chartPromise.then(null,null,d)},a.createKpi=function(e){a.disabled||e&&_.isEmpty(a.widget.kpis)&&_.isEmpty(a.draftTarget.value)&&(a.draftTarget.value=e,f())},a.editKpi=function(e){a.showPanel||a.disabled||_.isEmpty(a.widget.kpis)||(a.isEditingKpi=!0,angular.extend(a.draftTarget,e),f())},a.cancelCreateKpi=function(){f(),e(function(){return a.draftTarget.value="",a.isEditingKpi=!1,a.loading=!1},100)},c=function(){return i.error("Please choose a number one or greater.","Error"),a.loading=!1},a.saveKpi=function(){var e,t,i;if(!a.loading)return a.loading=!0,t={targets:{},metadata:{}},t.targets[a.kpi.watchables[0]]=[(e={},e[""+a.kpiTargetMode]=parseFloat(a.draftTarget.value),e)],n.validateKpiTargets(t.targets)?(i=a.isEditingKpi?n.update(s(),t,!1).then(function(e){return a.chart.removeThreshold(e.id),angular.extend(s(),e)}):(t.metadata.hist_parameters=a.widget.metadata.hist_parameters,t.widget_id=a.widget.id,n.create("impac",a.kpi.endpoint,a.kpi.watchables[0],t).then(function(e){return a.widget.kpis.push(e),e})),i.then(function(e){if(_.isFunction(a.onComplete))return a.onComplete({$event:{kpi:e}})}).finally(function(){return a.cancelCreateKpi()})):c()},a.deleteKpi=function(){var e,t;if(!a.loading)return a.loading=!0,t=a.widget.name+" "+(e=s()).element_watched,n.delete(e).then(function(){if(i.success("Deleted "+t+" KPI"),_.remove(a.widget.kpis,function(t){return t.id===e.id}),a.chart.removeThreshold(e.id),_.isFunction(a.onComplete))return a.onComplete({$event:{}})},function(){return i.error("Failed to delete "+t+" KPI","Error")}).finally(function(){return a.cancelCreateKpi()})},s=function(){return _.find(a.widget.kpis,function(e){return e.id===a.draftTarget.kpiId})},d=function(e){a.chart=e,g()&&(a.chart.addOnClickCallback(u),_.each(r(),function(e){var t;return t=a.chart.findThreshold(e.kpiId),null==t&&(t=a.chart.addThreshold(e)),a.chart.addThresholdEvent(t,"click",h)}))},u=function(e){var t;if((t=e.yAxis&&e.yAxis[0]&&e.yAxis[0].value)&&!_.isNaN(t))return t=t.toFixed(2),a.createKpi(t)},h=function(e){var t,n;return n=(t=e.options).data[t.data.length-1][1].toFixed(2),a.editKpi({kpiId:t.kpiId,value:n})},o=function(e){if(a.disabled=!0,i.warning("Chart threshold KPI disabled!",a.widget.name+" Widget"),e)return t.warn("Impac! - "+a.widget.name+" Widget: "+e)},f=function(){return e(function(){return a.showPanel?l():p(),a.showPanel=!a.showPanel})},p=function(){if(a.chart)return a.chart.hc.setSize(null,a.chart.hc.chartHeight-a.chartShrinkSize,!1),a.chart.hc.container.parentElement.style.height=a.chart.hc.chartHeight+"px"},l=function(){if(a.chart)return a.chart.hc.setSize(null,a.chart.hc.chartHeight+a.chartShrinkSize,!1),a.chart.hc.container.parentElement.style.height=a.chart.hc.chartHeight+"px"},g=function(){var e;return e=a.widget.metadata&&a.widget.metadata.hist_parameters,a.disabled=null!=e&&moment(e.to)<=moment.utc().startOf("day"),!a.disabled},r=function(){var e;return e=null!=a.widget.kpis&&a.widget.kpis[0]&&a.widget.kpis[0].targets,n.validateKpiTargets(e)?[{kpiId:a.widget.kpis[0].id,value:e.threshold[0].min,name:"Alert Threshold",color:a.thresholdColor}]:[]},a}]})}.call(this),function(){var e;e=angular.module("impac.components.widgets-common.currency-conversions",[]),e.directive("commonCurrencyConversions",["$templateCache","ImpacAssets","$filter",function(e,t,n){return{restrict:"A",scope:{fxAmounts:"=",baseCurrency:"=",ratesDate:"="},template:e.get("widgets-common/currency-conversions.tmpl.html"),link:function(i,r){return i.currencyConversionsIcon=t.get("currencyConversionsIcon"),i.popoverTemplateUrl=e.get("widgets-common/details-popover.html"),i.popoverTitle="Currency Conversions Info",i.formattedRatesDate=n("momentDate")(i.ratesDate,"currency-conversions")}}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-common.editable-title",[]),e.controller("CommonEditableTitleCtrl",["$scope","ImpacWidgetsSvc","ImpacDashboardsSvc","$translate",function(e,t,n,i){var r;return r=e.parentWidget,e.updateName=function(){return 0===r.name.length?(r.name=r.originalName,i.instant("impac.widget.editable_title.incorrect_name")):t.update(r,{name:r.name},!1)},e.getTooltip=function(){var t;return e.pdfMode?"":(t=i.instant("impac.widget.editable_title.tooltip_text"),r.name+" "+t)},n.pdfModeEnabled().then(null,null,function(){return e.pdfMode=!0}),n.pdfModeCanceled().then(null,null,function(){return e.pdfMode=!1})}]),e.directive("commonEditableTitle",["$templateCache",function(e){return{restrict:"A",scope:{parentWidget:"=",onToggle:"&",disabled:"="},template:e.get("widgets-common/editable-title.tmpl.html"),controller:"CommonEditableTitleCtrl"}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-common.info-panel",[]),e.directive("commonInfoPanel",["$templateCache","ImpacWidgetsTemplates",function(e,t){return{restrict:"A",scope:{parentWidget:"=",onClose:"&"},template:e.get("widgets-common/info-panel.tmpl.html"),link:function(e){var n;return n=e.parentWidget,e.hideInfoPanel=!0,e.toggleInfoPanel=function(){return e.hideInfoPanel=!e.hideInfoPanel,e.onClose()},e.getWidgetTemplateName=function(){var e,i,r,a;return(e=t.filename(n))?(i=e.split("-"),r=i.slice(0,1),a=i.slice(1,i.length).join(" "),r+" - "+a):""}}}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-common.time-period-info",[]),e.directive("commonTimePeriodInfo",["$templateCache","ImpacUtilities","$translate","$filter",function(e,t,n,i){return{restrict:"A",scope:{context:"="},template:e.get("widgets-common/time-period-info.tmpl.html"),link:function(e,r){var a,o,s,l,c;a=function(){return angular.isFunction(e.context.accountingBehaviour)?e.context.accountingBehaviour():e.context.accountingBehaviour},l=function(){return angular.isDefined(e.context.injectBefore)?angular.isFunction(e.context.injectBefore)?e.context.injectBefore():e.context.injectBefore:""},s=function(){return angular.isDefined(e.context.injectAfter)?angular.isFunction(e.context.injectAfter)?e.context.injectAfter():e.context.injectAfter:""},c=function(e){return l().length>0&&(e=e.toLowerCase()),[l(),e,s()].join(" ")},o=function(){var r;return r=t.selectedTimeRange(e.context.histParams),r.from=i("momentDate")(r.from,"time-period"),r.to=i("momentDate")(r.to,"time-period"),"bls"===a()?n("impac.widget.common.time_period_info.to",{dateTo:""+r.to}).then(function(t){return e.date=c(t)}):n("impac.widget.common.time_period_info.from_to",{dateFrom:""+r.from,dateTo:""+r.to}).then(function(t){return e.date=c(t)})},o(),e.$watch("context.histParams",function(e,t){if(!_.isEqual(e,t))return o()})}}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-common.top-buttons",[]),e.controller("CommonTopButtonsCtrl",["$scope","$rootScope","$log","ImpacWidgetsSvc","ImpacAssets",function(e,t,n,i,r){var a;return a=e.parentWidget,a.isEditMode=!1,e.toggleEditMode=function(){if(!a.isLoading)return a.isEditMode?(a.isEditMode=!1,i.initWidgetSettings(a)):a.isEditMode=!0},e.hasInfo=function(){return a&&null!=a.content&&null!=a.content.info&&a.content.info.length>0}}]),e.directive("commonTopButtons",["$templateCache",function(e){return{restrict:"A",scope:{parentWidget:"=",onRefresh:"=",onToggleInfoPanel:"&",onToggleDeleteWidget:"&",userAccesses:"="},template:e.get("widgets-common/top-buttons.tmpl.html"),controller:"CommonTopButtonsCtrl"}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-layouts.table",[]),e.controller("WidgetTableCtrl",["$scope","$q","$filter","ImpacWidgetsSvc",function(e,t,n,i){var r,a,o,s,l;return l=e.widget,e.orgDeferred=t.defer(),e.timePeriodDeferred=t.defer(),r=[e.orgDeferred.promise,e.timePeriodDeferred.promise],e.timePeriodInfoParams={accountingBehaviour:"pnl",histParams:{}},l.initContext=function(){e.table=_.get(l,"content.table",{}),_.isEmpty(e.table.rows)||(e.currency=_.get(l,"metadata.currency"),e.timePeriodInfoParams.histParams=_.get(l,"metadata.hist_parameters",{}),e.unCollapsed=_.get(l,"metadata.unCollapsed")||[],e.ascending=!0,e.sortedColumn=e.table.headers.cells[0],e.colSize=e.table.headers.cells.length,e.colWidth=100/e.colSize+"%")},e.cellValue=function(t){var i;return i=parseFloat(t),_.isNumber(i)&&!_.isNaN(i)?n("mnoCurrency")(t,e.currency):t},e.toggleCollapsed=function(t,n){var r;if(n.stopPropagation(),null!=(r=t.headers.id))return _.find(e.unCollapsed,function(e){return r===e})?e.unCollapsed=_.reject(e.unCollapsed,function(e){return e===r}):e.unCollapsed.push(r),i.updateWidgetSettings(l,!1)},e.isCollapsed=function(t){var n;if(null!=(n=t.headers.id))return!_.find(e.unCollapsed,function(e){return n===e})},e.sort=function(t,n){return e.sortedColumn===t?e.ascending=!e.ascending:(e.ascending=!0,e.sortedColumn=t),a(e.table.rows,n)},a=function(e,t){var n,i,r,s;if(e.single&&(e.single=o(e.single,t)),e.grouped)for(r=e.grouped,n=0,i=r.length;n<i;n++)s=r[n],a(s.rows,t)},o=function(t,n){return _.sortByOrder(t,function(e){return e.cells[n]},[e.ascending])},s={},s.initialized=!1,s.initialize=function(){return s.initialized=!0},s.toMetadata=function(){return{
unCollapsed:e.unCollapsed}},l.settings.push(s),e.widgetDeferred.resolve(r)}]),e.directive("widgetTable",function(){return{restrict:"A",controller:"WidgetTableCtrl"}}),e.directive("indentTableRow",function(){return{restrict:"A",link:function(e,t){var n,i;t.is(":first-child")&&(n=t.closest("table").parentsUntil("#table-layout","table"),i=n.get().length,t.is("td")&&i++,t.css({"padding-left":20*i+"px"}))}}})}.call(this),function(){var e;e=angular.module("impac.components.widgets-settings.account",[]),e.controller("SettingAccountCtrl",["$scope","$filter",function(e,t){var n,i,r;return r=e.parentWidget,i={},i.key="account",i.isInitialized=!1,i.initialize=function(){if(r.selectedAccount=r.selectedAccount||null,null!=r.content&&null!=r.content.account_list&&null!=r.metadata&&null!=r.metadata.account_uid)return r.selectedAccount=_.find(r.content.account_list,function(e){return e.uid===r.metadata.account_uid}),i.isInitialized=!0},i.toMetadata=function(){if(null!=r.selectedAccount)return{account_uid:r.selectedAccount.uid}},n=function(e){var n;return n=e.current_balance||e.balance||0,t("mnoCurrency")(n,e.currency)},e.formatLabel=function(e){return null!=e.company?e.company+" - "+e.name+" ("+n(e)+")":e.name+" ("+n(e)+")"},r.settings.push(i),e.deferred.resolve(e.parentWidget)}]),e.directive("settingAccount",["$templateCache","$translate",function(e,t){return{restrict:"A",scope:{parentWidget:"=",deferred:"=",label:"@",showLabel:"=?",onAccountSelected:"&"},link:function(e,n){if(!e.label)return e.label=t.instant("impac.widget.settings.account.label")},template:e.get("widgets-settings/account.tmpl.html"),controller:"SettingAccountCtrl"}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-settings.accounting-behaviour",[]),e.directive("settingAccountingBehaviour",["$templateCache","$timeout",function(e,t){return{restrict:"A",scope:{parentWidget:"=",deferred:"=",defaultBehaviour:"=?"},template:e.get("widgets-settings/accounting-behaviour.tmpl.html"),link:function(e){var n,i;return i=e.parentWidget,n={},n.key="accounting-behaviour",n.initialize=function(){return t(function(){return null!=e.defaultBehaviour&&"pnl"===e.defaultBehaviour?e.selectedBehaviour="pnl":e.selectedBehaviour="bls"})},n.toMetadata=function(){return{accounting_behaviour:e.selectedBehaviour}},i.settings.push(n),e.deferred.resolve(n)}}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-settings.accounts-list",[]),e.controller("SettingAccountsListCtrl",["$scope","$timeout","ImpacWidgetsSvc",function(e,t,n){var i,r,a;return a=e.parentWidget,a.moveAccountToAnotherList=function(e,t,i,r){if(null==r&&(r=!0),!_.isEmpty(t)&&!_.isEmpty(e))return i||(i=[]),_.remove(t,function(t){return e.uid===t.uid}),i.push(e),r&&n.updateWidgetSettings(a,!1),null},r={},r.key="accounts-list",r.initialize=function(){if(r.isInitialized=!1,a.remainingAccounts=[],a.selectedAccounts=[],null!=a.content&&!_.isEmpty(a.content.complete_list))return a.remainingAccounts=angular.copy(a.content.complete_list),t(function(){return i(),r.isInitialized=!0})},r.toMetadata=function(){if(r.isInitialized)return{accounts_list:_.map(a.selectedAccounts,function(e){return e.uid})}},i=function(){var t,n,i,r,o,s;if(!_.isEmpty(a.metadata.accounts_list)||!_.isEmpty(e.accountsList)){for(i=_.isEmpty(e.accountsList)?a.metadata.accounts_list:e.accountsList,s=[],r=0,o=i.length;r<o;r++)n=i[r],t=_.find(a.content.complete_list,function(e){return e.uid===n}),s.push(a.moveAccountToAnotherList(t,a.remainingAccounts,a.selectedAccounts,!1));return s}},a.settings.push(r),e.deferred.resolve(e.parentWidget)}]),e.directive("settingAccountsList",function(){return{restrict:"A",scope:{parentWidget:"=",deferred:"=",accountsList:"=?"},controller:"SettingAccountsListCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets-settings.attach-kpis",[]),e.directive("settingAttachKpis",["$templateCache","ImpacWidgetsSvc","ImpacKpisSvc","$translate",function(e,t,n,i){return{restrict:"A",scope:{parentWidget:"=",attachedKpis:"=?",widgetEngine:"=",widgetId:"=",extraParams:"=?",deferred:"=",showExtraParam:"=?"},template:e.get("widgets-settings/attach-kpis.tmpl.html"),controller:["$scope",function(e){var t,r,a;return a=e.parentWidget,r={},r.initialize=function(){return t()},r.toMetadata=function(){},a.settings.push(r),e.formatKpiName=function(e){return n.formatKpiName(e)},e.hasValidTarget=function(){return n.validateKpiTarget(e.kpi)},e.attachKpi=function(){var t,i,r,a,o;if(r={},e.hasValidTarget()){o={},o[e.kpi.limit.mode]=e.kpi.limit.value,r.targets={},r.targets[e.kpi.watchables[0]]=[o],r.widget_id=e.widgetId,a=e.extraParams;for(t in a)i=a[t],r.extra_params||(r.extra_params={}),r.extra_params[t]=i.uid;return console.log("attachKpis: ",e.kpi.endpoint,e.elementWatched,r),n.create("impac",e.kpi.endpoint,e.elementWatched,r).then(function(t){return console.log("attached KPI: ",t),e.attachedKpis.push(t)})}},e.deleteKpi=function(t){return n.delete(t,{widget_id:e.widgetId}).then(function(){return _.remove(e.attachedKpis,function(e){return e.id===t.id})})},e.formatAttachedKpiTitle=function(t){return t.data&&t.targets&&e.elementWatched?n.formatKpiTarget(t.targets[e.elementWatched][0],t.data[e.elementWatched].unit,e.possibleTargets):""},e.attachedKpis||(e.attachedKpis=[]),e.possibleTargets=[{label:i.instant("impac.widget.settings.attach_kpis.over"),mode:"min"},{label:i.instant("impac.widget.settings.attach_kpis.below"),mode:"max"}],e.kpi={limit:{mode:e.possibleTargets[0].mode}},n.getAttachableKpis(e.widgetEngine).then(function(t){return e.availableKpis=angular.copy(t),angular.extend(e.kpi,e.availableKpis[0]),e.selectedParam=_.keys(e.extraParams)[0],e.elementWatched=null!=e.kpi.watchables&&e.kpi.watchables[0]}),t=function(){},t(),e.deferred.resolve(e.parentWidget)}]}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-settings.bolt-account",[]),e.controller("SettingBoltAccountCtrl",["$scope","$filter",function(e,t){var n,i,r,a;return a=e.parentWidget,r={},r.key="bolt-account",r.isInitialized=!1,r.initialize=function(){if(0!==a.content.settings.selectors.length&&(a.accountList=n()),a.selectedAccount=i(),null!=a.content&&null!=a.accountList&&null!=a.metadata&&null!=a.metadata.account_uid)return a.selectedAccount=i(a.metadata.account_uid),r.isInitialized=!0},r.toMetadata=function(){if(null!=a.selectedAccount)return{account_uid:a.selectedAccount.account_id}},n=function(e){return null==e&&(e="account"),_.find(a.content.settings.selectors,function(t){return t.name===e}).options},i=function(e){return null==e&&(e="total_uid"),_.find(a.accountList,function(t){return t.account_id===e})},function(e){var n;return n=null,t("mnoCurrency")(n,e.currency)},e.formatLabel=function(e){return null!=e.currency?e.name+" ("+e.currency+")":""+e.name},a.settings.push(r),e.deferred.resolve(e.parentWidget)}]),e.directive("settingBoltAccount",["$templateCache","$translate",function(e,t){return{restrict:"A",scope:{parentWidget:"=",deferred:"=",label:"@",showLabel:"=?",onAccountSelected:"&"},link:function(e,n){if(!e.label)return e.label=t.instant("impac.widget.settings.bolt-account.label")},template:e.get("widgets-settings/bolt-account.tmpl.html"),controller:"SettingBoltAccountCtrl"}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-settings.chart-filters",[]),e.controller("SettingChartFiltersCtrl",["$scope",function(e){var t,n;return n=e.parentWidget,t={},t.key="chart-filters",t.isInitialized=!1,t.initialize=function(){if(null!=n.content&&null!=n.content.chart_filter&&(e.filterCriteria=n.content.chart_filter.criteria))return e.maxEntities=n.content.chart_filter.max,e.entityType=n.content.chart_filter.entity_type,e.filterLabel=n.content.chart_filter.filter_label.replace(/_/g," "),"number"===e.filterCriteria?(e.filterValuePercentage=80,e.filterValueNumber=n.content.chart_filter.value):(e.filterValuePercentage=n.content.chart_filter.value,e.filterValueNumber=Math.round(e.maxEntities/2)),t.isInitialized=!0},t.toMetadata=function(){var t;return null!=n.content&&null!=n.content.chart_filter?(t="percentage"===e.filterCriteria?e.filterValuePercentage:e.filterValueNumber,{chart_filter:{criteria:e.filterCriteria,value:t}}):{}},n.settings.push(t),e.deferred.resolve(e.parentWidget)}]),e.directive("settingChartFilters",["$templateCache",function(e){return{restrict:"A",scope:{parentWidget:"=",deferred:"="},template:e.get("widgets-settings/chart-filters.tmpl.html"),controller:"SettingChartFiltersCtrl"}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-settings.dates-picker",[]),e.directive("settingDatesPicker",["$templateCache","$filter","ImpacWidgetsSvc","$timeout","$compile",function(e,t,n,i,r){return{restrict:"A",scope:{parentWidget:"=?",deferred:"=",fromDate:"=from",toDate:"=to",keepToday:"=",onUse:"&?",onChangeCb:"&?onChange",minDate:"=?",updateOnPick:"=?",template:"=?",period:"=?"},template:e.get("widgets-settings/dates-picker.tmpl.html"),link:function(e,a){var o,s,l,c,u,d,h,p;return p=e.parentWidget,u={},u.key="dates-picker",e.setting=u,e.calendarFrom={opened:!1,value:new Date((new Date).getFullYear(),0,1),toggle:function(){return e.calendarFrom.opened=!e.calendarFrom.opened,e.calendarTo.opened=!1}},e.calendarTo={opened:!1,value:new Date,toggle:function(){return e.calendarFrom.opened=!1,e.calendarTo.opened=!e.calendarTo.opened}},e.template||(e.template='<div style="display: flex; flex-wrap: wrap;">\n  <div style="display: flex; flex-grow: 1; justify-content: space-around; margin: 2px 0px;">\n    <span class="sdp-from-label" style="padding-top: 3px; min-width: 32px; flex-grow: 1; text-align: center;" translate>impac.widget.settings.dates_picker.from</span> <from-date style="flex-grow: 2;">\n  </div>\n  <div style="display: flex; flex-grow: 1; justify-content: space-around; margin: 2px 0px;">\n    <span class="sdp-to-label" style="padding-top: 3px; min-width: 32px; flex-grow: 1; text-align: center;" translate>impac.widget.settings.dates_picker.to</span> <to-date style="flex-grow: 2;">\n  </div>\n</div>'),l='<div style="display: inline-block;">\n  <button class="btn btn-sm btn-default date-button" ng-click="calendarFrom.toggle()" uib-datepicker-popup ng-model="calendarFrom.value" is-open="calendarFrom.opened" ng-change="onChange()" min-date="minDate" max-date="calendarFrom.value" ng-focus="onUse()" ATTRS>\n    {{ calendarFrom.value | momentDate : setting.key }}\n  </button>\n</div>',h='<div style="display: inline-block;">\n  <button class="btn btn-sm btn-default date-button" ng-click="calendarTo.toggle()" uib-datepicker-popup ng-model="calendarTo.value" is-open="calendarTo.opened" ng-change="onChange()" min-date="calendarTo.value" ng-focus="onUse()" ATTRS>\n    {{ calendarTo.value | momentDate : setting.key }}\n  </button>\n</div>',o='<button class="btn btn-sm btn-success" uib-tooltip="{{\'impac.widget.settings.dates_picker.tooltip.apply_changes\' | translate}}" ng-show="changed && !parentWidget.isEditMode" ng-click="applyChanges()" ng-focus="onUse()" >\n  <i class="fa fa-check"/>\n</button>',e.template=e.template.replace(/>/," ng-click='onUse()'>"),e.template=e.template.replace(/<from-date([^>]*)>/g,""+l.replace("ATTRS","$1")),e.template=e.template.replace(/<to-date([^>]*)>/g,""+h.replace("ATTRS","$1")),e.template=e.template.replace(/<apply([^>]*)>/g,""+o.replace("ATTRS","$1")),d=a.find("#template-container"),d.html(e.template).show(),r(d.contents())(e),u.initialize=function(){return i(function(){var t,n,i,r,a;return e.changed=!1,Date.parse(e.fromDate)?(i=e.fromDate.split("-"),a=i[0],n=i[1]-1,t=i[2],e.calendarFrom.value=new Date(a,n,t)):e.calendarFrom.value=new Date((new Date).getFullYear(),0,1),Date.parse(e.toDate)&&!e.keepToday?(r=e.toDate.split("-"),a=r[0],n=r[1]-1,t=r[2],e.calendarTo.value=new Date(a,n,t)):e.calendarTo.value=new Date})},c=function(){return e.calendarTo.value.getFullYear()===(new Date).getFullYear()&&e.calendarTo.value.getMonth()===(new Date).getMonth()&&e.calendarTo.value.getDate()===(new Date).getDate()},u.toMetadata=function(){return{hist_parameters:{from:t("date")(e.calendarFrom.value,"yyyy-MM-dd"),to:t("date")(e.calendarTo.value,"yyyy-MM-dd"),period:e.period||"RANGE",keep_today:c()}}},e.onChange=function(){if(e.showApplyButton(),!_.isUndefined(e.onChangeCb))return e.onChangeCb()(s())},s=function(){return{from:t("date")(e.calendarFrom.value,"yyyy-MM-dd"),to:t("date")(e.calendarTo.value,"yyyy-MM-dd"),keepToday:c()}},e.showApplyButton=function(){return e.updateOnPick?e.applyChanges():e.changed=!0},e.applyChanges=function(){return n.updateWidgetSettings(p,!0),e.changed=!1},e.showTitle=function(){return a.hasClass("part")},p&&p.settings.push(u),e.deferred.resolve(u)}}}])}.call(this),function(){var module;module=angular.module("impac.components.widgets-settings.formula",[]),module.controller("SettingFormulaCtrl",["$scope","$filter","$timeout","$translate",function($scope,$filter,$timeout,$translate){var AUTHORIZED_REGEXP,evaluateFormula,formatFormula,getFormula,interpolateInFormula,isRatio,prepareFormula,setting,translateEvaluatedFormula,w;return w=$scope.parentWidget,w.formula="",AUTHORIZED_REGEXP=new RegExp("^(\\{|\\d|\\}|\\/|\\+|-|\\*|\\(|\\)|\\s|\\.)*$"),setting={},setting.key="formula",setting.isInitialized=!1,setting.initialize=function(){return null!=w.metadata&&null!=w.metadata.formula?(w.formula=w.metadata.formula,$timeout(function(){return prepareFormula(),setting.isInitialized=!0})):w.formula=""},setting.toMetadata=function(){return prepareFormula(),w.isFormulaCorrect?{formula:w.formula}:{formula:""}},getFormula=function(){return w.formula},w.formatAmount=function(e){return $filter("mnoCurrency")(e.current_balance,e.currency)},$scope.$watch(getFormula,function(e){return prepareFormula()}),prepareFormula=function(){var e,t;return t=interpolateInFormula(w.formula,w.selectedAccounts,"current_balance"),(e=evaluateFormula(t))?(w.evaluatedFormula=formatFormula(e,w.formula,w.selectedAccounts),w.legend=interpolateInFormula(w.formula,w.selectedAccounts,"name"),w.isFormulaCorrect=!0):(w.evaluatedFormula="invalid expression",w.legend="...",w.isFormulaCorrect=!1),w.evaluatedFormulaTranslate=translateEvaluatedFormula(w.evaluatedFormula)},w.evaluatedFormula_History=function(e){var t,n,i,r,a,o,s;for(i=w.formula,s=w.selectedAccounts,n=r=0,a=s.length;r<a;n=++r)t=s[n],o=new RegExp("\\{"+(n+1)+"\\}","g"),i=i.replace(o," "+t.balances[e]+" ");return evaluateFormula(i)},translateEvaluatedFormula=function(e){switch(e){case"invalid expression":return $translate.instant("impac.widget.formula.invalid_expression");case"Infinity":return $translate.instant("impac.widget.formula.infinity");case"-Infinity":return $translate.instant("impac.widget.formula.minus_infinity");default:return e}},interpolateInFormula=function(e,t,n){var i,r,a,o,s,l;if(a=e,_.isEmpty(t))return a;for(r=o=0,s=t.length;o<s;r=++o)i=t[r],l=new RegExp("\\{"+(r+1)+"\\}","g"),a=a.replace(l," "+i[n]+" ");return a},evaluateFormula=function(interpolatedFormula){var e,evaluation;if(!interpolatedFormula.match(AUTHORIZED_REGEXP))return!1;try{return evaluation=eval(interpolatedFormula).toFixed(2),!!isFinite(evaluation)&&evaluation}catch(t){return e=t,!1}},isRatio=function(e){return e.match(/\//g)},formatFormula=function(e,t,n){var i,r;return isRatio(t)||_.isEmpty(n)?e:(r=n[0],(i=r.currency)?$filter("mnoCurrency")(e,i):e)},w.settings.push(setting),$scope.deferred.resolve($scope.parentWidget)}]),module.directive("settingFormula",function(){return{restrict:"A",scope:{parentWidget:"=",deferred:"="},controller:"SettingFormulaCtrl"}})}.call(this),function(){var e,t=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};e=angular.module("impac.components.widgets-settings.hist-mode",[]),e.controller("SettingHistModeCtrl",["$scope","$translate","$timeout","ImpacWidgetsSvc","ImpacTheming",function(e,n,i,r,a){var o,s,l;return l=e.parentWidget,l.isHistoryMode=l.metadata&&l.metadata.hist_parameters&&"history"===l.metadata.hist_parameters.mode,e.forwardParams={accountingBehaviour:function(){return e.accountingBehaviour}},e.toggleHistMode=function(n){var i;if(!(l.isHistoryMode&&"history"===n||!l.isHistoryMode&&"current"===n))return l.isHistoryMode=!l.isHistoryMode,r.updateWidgetSettings(l,!1),i=e.onToggle(),t.call(angular.isDefined(e.onToggle),i)>=0},o=function(){var t,i,r,o;return i=a.get().widgetSettings.histModeChoser.currentLabels,null!=e.accountingBehaviour&&i[e.accountingBehaviour]?(r=!e.endDate||e.endDate===moment().format("YYYY-MM-DD"),t=i[e.accountingBehaviour],o=i[e.accountingBehaviour]+".prefix",n([o,t]).then(function(n){return e.currentLabel=r?n[o]+" "+n[t]:n[t]})):n(i.default).then(function(t){return e.currentLabel=t})},s={},s.key="hist-mode",s.isInitialized=!1,s.initialize=function(){return i(function(){var t;return null!=l.metadata&&null!=l.metadata.hist_parameters&&(t=l.metadata.hist_parameters.mode)&&(l.isHistoryMode="history"===t),o(),e.forwardParams.histParams=l.metadata&&l.metadata.hist_parameters,s.isInitialized=!0,e})},s.toMetadata=function(){var e;return e=l.isHistoryMode?"history":"current",{hist_parameters:{mode:e}}},l.settings.push(s),e.deferred.resolve(e.parentWidget)}]),e.directive("settingHistMode",["$templateCache",function(e){return{restrict:"A",scope:{parentWidget:"=",deferred:"=",onToggle:"&",accountingBehaviour:"@?",endDate:"=?"},template:e.get("widgets-settings/hist-mode.tmpl.html"),controller:"SettingHistModeCtrl"}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-settings.limit-entries",[]),e.controller("SettingLimitEntriesCtrl",["$scope",function(e){var t;return t={},t.key="limit-entries",t.initialize=function(){return!0},t.toMetadata=function(){return{limit_entries:e.selected}},e.parentWidget.settings.push(t),e.deferred.resolve(t)}]),e.directive("settingLimitEntries",["$templateCache","ImpacWidgetsSvc",function(e,t){return{restrict:"A",scope:{parentWidget:"=",deferred:"=",selected:"=",max:"=?",options:"=?",entriesLabel:"=?"},link:function(e,n,i){return null!=e.options&&e.options.length>0||(e.options=[5,15,50]),e.selectOption=function(n){return e.selected=n,t.updateWidgetSettings(e.parentWidget,!1)},e.isOptionValid=function(t){return null==e.max||t<e.max}},controller:"SettingLimitEntriesCtrl",template:e.get("widgets-settings/limit-entries.tmpl.html")}}])}.call(this),function(){var module;module=angular.module("impac.components.widgets-settings.offsets",[]),module.directive("settingOffsets",["$templateCache","ImpacUtilities",function($templateCache,ImpacUtilities){return{restrict:"A",scope:{parentWidget:"=",deferred:"=",offsetsKey:"@",initialOffsets:"=",currency:"=",intervalsCount:"=",period:"=",showIntervalsMult:"=",textPlaceholder:"@?"},template:$templateCache.get("widgets-settings/offsets.tmpl.html"),link:function(scope){var authorized_regex,computedFormula,placeholder,setting,w;return w=scope.parentWidget,authorized_regex=new RegExp("^(\\{|\\d|\\}|\\/|\\+|-|\\*|\\(|\\)|\\s|\\.)*$"),setting={key:"offsets-"+scope.offsetsKey},setting.initialize=function(){var e,t,n,i;for(scope.offsets=[],i=scope.initialOffsets||[],e=0,t=i.length;e<t;e++)n=i[e],scope.offsets.push(n);return scope.offsetFormula="",scope.periodWord=ImpacUtilities.getPeriodWord(scope.period),scope.placeholder=placeholder(scope.period||"MONTHLY")},setting.toMetadata=function(){var e;return e={offset:{}},e.offset[scope.offsetsKey]=scope.offsets,e},scope.addOffset=function(){var e;return e=computedFormula(),e&&scope.offsets.push(e),scope.offsetFormula=""},scope.removeOffset=function(e){return scope.offsets.splice(e,1)},scope.addOffsetOnEnter=function(e){if(13===e.keyCode)return scope.addOffset()},placeholder=function(e){return null!=scope.textPlaceholder?scope.textPlaceholder:e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()+" adjustment"},computedFormula=function(){if(scope.offsetFormula.match(authorized_regex))return eval(scope.offsetFormula)},w&&w.settings.push(setting),scope.deferred.resolve(setting)}}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-settings.organizations",[]),e.controller("SettingOrganizationsCtrl",["$scope","$log","ImpacDashboardsSvc","ImpacMainSvc","ImpacWidgetsSvc",function(e,t,n,i,r){var a,o,s;return s=e.parentWidget,s.selectedOrganizations={},e.mode||(e.mode="multiple"),e.multiOrgMode=function(){return"multiple"===e.mode},e.singleOrgMode=function(){return"single"===e.mode},a=function(){return s.selectedOrganizations=_.mapValues(s.selectedOrganizations,function(){return!1})},e.isOrganizationSelected=function(e){return!!s.selectedOrganizations[e]},e.toggleSelectOrganization=function(t){if(e.multiOrgMode()){if(s.selectedOrganizations[t]=!s.selectedOrganizations[t],angular.isDefined(e.onSelect))return e.onSelect({orgs:s.selectedOrganizations})}else if(e.singleOrgMode())return a(),s.selectedOrganizations[t]=!0},o={},o.key="organizations",o.isInitialized=!1,o.initialize=function(){return n.load().then(function(t){var n,l,c,u,d,h,p,f;if(n=t.currentDashboard,e.dashboardOrganizations=_.sortBy(n.data_sources,function(e){return e.label.toLowerCase()}),null!=s.metadata&&null!=s.metadata.organization_ids){if(f=s.metadata.organization_ids,e.singleOrgMode())a(),f.length>1?(l=i.config.currentOrganization,s.selectedOrganizations[l.uid]=!0,c=!0):s.selectedOrganizations[f[0]]=!0;else if(e.multiOrgMode())for(p=e.dashboardOrganizations,u=0,d=p.length;u<d;u++)h=p[u],s.selectedOrganizations[h.uid]=_.contains(f,h.uid);return o.isInitialized=!0,c?r.updateWidgetSettings(s,!0):void 0}})},o.toMetadata=function(){var t;return t=_.compact(_.map(s.selectedOrganizations,function(e,t){if(e)return t})),_.isEmpty(t)&&(t=[_.first(e.dashboardOrganizations).uid]),{organization_ids:t}},s.settings.push(o),e.deferred.resolve(e.parentWidget)}]),e.directive("settingOrganizations",["$templateCache",function(e){return{restrict:"A",scope:{parentWidget:"=",mode:"@?",deferred:"=",onSelect:"&?"},template:e.get("widgets-settings/organizations.tmpl.html"),controller:"SettingOrganizationsCtrl"}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-settings.param-selector",[]),e.controller("SettingParamSelectorCtrl",["$scope","ImpacWidgetsSvc",function(e,t){var n,i;return e.showOptions=!1,e.toggleShowOptions=function(){return e.showOptions=!e.showOptions},e.onInit=function(){return e.selectedOption={},angular.extend(e.selectedOption,e.selected)},e.selectOption=function(n){return n.value!==e.selected.value&&(angular.extend(e.selected,n),t.updateWidgetSettings(e.parentWidget,!e.noReload),angular.isDefined(e.onSelect)&&e.onSelect()),e.toggleShowOptions()},e.getTruncateValue=function(){return parseInt(e.truncateNo)||20},i=e.parentWidget,n={},n.key="param-selector",n.isInitialized=!1,n.initialize=function(){if(null!=i.content)return n.isInitialized=!0},n.toMetadata=function(){var t;return t={},_.isEmpty(e.selected)||(t[e.param]=e.selected.value),t},i.settings.push(n),e.deferred.resolve(e.parentWidget)}]),e.directive("settingParamSelector",["$templateCache",function(e){return{restrict:"A",scope:{parentWidget:"=",deferred:"=",param:"@",options:"=",selected:"=",truncateNo:"@",onSelect:"&"},link:function(e,t,n){return e.noReload=void 0!==n.noReload,e.truncateNo=n.truncateNo||20},template:function(t,n){return e.get(n.classic?"widgets-settings/param-selector-classic.tmpl.html":"widgets-settings/param-selector.tmpl.html")},controller:"SettingParamSelectorCtrl"}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-settings.params-checkboxes",[]),e.controller("SettingParamsCheckboxesCtrl",["$scope",function(e){var t,n;return n=e.parentWidget,t={},t.key="params-checkboxes",t.initialize=function(){},t.toMetadata=function(){var t;return t={},t[e.param]=_.map(e.options,function(e){return{id:e.id,value:e.value}}),t},n.settings.push(t),e.deferred.resolve(e.parentWidget)}]),e.directive("settingParamsCheckboxes",["$templateCache",function(e){return{restrict:"A",scope:{parentWidget:"=",deferred:"=",param:"@",options:"="},template:e.get("widgets-settings/params-checkboxes.tmpl.html"),controller:"SettingParamsCheckboxesCtrl"}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-settings.params-picker",[]),e.controller("SettingParamsPickerCtrl",["$scope",function(e){var t,n;return n=e.parentWidget,t={},t.key="params-picker",t.isInitialized=!1,t.initialize=function(){if(e.sortableOptions={"ui-floating":!0,tolerance:"pointer"},e.applyToDashboard=n.metadata[e.param]&&"dashboard"===n.metadata[e.param].reach,e.toggleReach=function(){return t.reach=e.applyToDashboard?"dashboard":"widget"},e.toggleReach(),_.isEmpty(e.options))return t.isInitialized=!0},t.toMetadata=function(){var n;return n={},n[e.param]={values:_.compact(_.map(e.options,function(e){if(e.selected)return e.value||e.label})),reach:t.reach},n},n.settings.push(t),e.deferred.resolve(e.parentWidget)}]),e.directive("settingParamsPicker",["$templateCache","$translate",function(e,t){return{restrict:"A",scope:{parentWidget:"=",deferred:"=",param:"@",options:"=",hasReach:"=",description:"@"},link:function(e,n,i){var r;if(r=t.instant("impac.widget.settings.params-picker."+e.param),e.formattedParam=_.includes(r,"impac.widget.settings.params-picker")?e.param.replace(/_/g," "):r,null==e.description)return e.description=t.instant("impac.widget.settings.params-picker.description")},template:e.get("widgets-settings/params-picker.tmpl.html"),controller:"SettingParamsPickerCtrl"}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-settings.tag-filter",["ngTagsInput"]),e.directive("settingTagFilter",["$templateCache","$timeout",function(e,t){return{restrict:"A",scope:{parentWidget:"=",deferred:"="},template:e.get("widgets-settings/tag-filter.tmpl.html"),link:function(e){var n,i,r,a,o,s;return s=e.parentWidget,o={},o.key="tag-filter",e.settingsTags=[],o.initialize=function(){return t(function(){return a(),r(),!0})},o.toMetadata=function(){var t,i;return i=[],t={condition:"OR",rules:i},angular.forEach(e.settingsTags,function(e){var t;if(t={condition:"AND",rules:[]},angular.forEach(e.tags,function(e){var i;return i=n(e,!0),t.rules.push(i)}),0!==e.tags.length)return i.push(t)}),0===t.rules.length&&(t={}),{filter_query:t}},i=function(e){var t;if(!_.isEmpty(e))return t=[],angular.forEach(e.rules,function(e){var i;return i={operator:"OR",tags:[]},angular.forEach(e.rules,function(e){var t,r;return e=n(e),r=_.compact([e.name,e.value]).join(":"),t={value:e.value,text:r},null!=e.name&&(t.name=e.name),i.tags.push(t)}),t.push(i)}),t},a=function(){if(!_.isEmpty(s.metadata.filter_query))return e.settingsTags=i(s.metadata.filter_query)},r=function(){var t,i,r,a;a=s.content.available_tags||[],t=[];for(i in a)r=a[i],angular.forEach(r.tag_references,function(e){return e=n(e),angular.forEach(e.tag_reference_values,function(i){var r,a;return i=n(i),a=_.compact([e.name,i.value]).join(":"),r={text:a,value:i.value},null!=e.name&&(r.name=e.name),t.push(r)})});return e.loadTagList=function(e){return _.filter(t,function(t){return t.text.toLowerCase().indexOf(e.toLowerCase())>-1})}},n=function(e,t){var n;return null==t&&(t=!1),n=t?encodeURIComponent:decodeURIComponent,_.inject(e,function(e,t,i){return _.isString(t)?(e[i]=n(t))&&e:(e[i]=t)&&e},{})},e.addRule=function(){return e.settingsTags.push({operator:"OR",tags:[]})},e.delRule=function(t){return e.settingsTags.splice(t,1)},s.settings.push(o),e.deferred.resolve(o)}}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-settings.time-period",[]),e.directive("settingTimePeriod",["$templateCache","$q","$log","$timeout","$filter","ImpacTheming","$translate",function(e,t,n,i,r,a,o){return{restrict:"A",scope:{parentWidget:"=",deferred:"=",histParams:"=?",hideChartInterval:"=?",applyChangesCallback:"&?"},template:e.get("widgets-settings/time-period.tmpl.html"),link:function(e){var n,s,l,c,u,d,h,p,f;return f=e.parentWidget,e.timePeriodSetting={key:"time-period",settings:[],isEditMode:!0},e.timeSliderDeferred=t.defer(),e.datesPickerDeferred=t.defer(),e.timePresetsDeferred=t.defer(),d=[e.timeSliderDeferred.promise,e.datesPickerDeferred.promise,e.timePresetsDeferred.promise],e.resetPreset=t.defer(),o(["impac.widget.settings.time_period.period.daily","impac.widget.settings.time_period.period.weekly","impac.widget.settings.time_period.period.monthly","impac.widget.settings.time_period.period.quarterly","impac.widget.settings.time_period.period.yearly","impac.widget.settings.time_period.period.days","impac.widget.settings.time_period.period.weeks","impac.widget.settings.time_period.period.months","impac.widget.settings.time_period.period.quarters","impac.widget.settings.time_period.period.years"]).then(function(t){return e.periods=[{label:t["impac.widget.settings.time_period.period.daily"],plural:"days",value:"DAILY"},{label:t["impac.widget.settings.time_period.period.weekly"],plural:"weeks",value:"WEEKLY"},{label:t["impac.widget.settings.time_period.period.monthly"],plural:"months",value:"MONTHLY"},{label:t["impac.widget.settings.time_period.period.quarterly"],plural:"quarters",value:"QUARTERLY"},{label:t["impac.widget.settings.time_period.period.yearly"],plural:"years",value:"YEARLY"}]}),e.maxNumberOfPeriods=20,null==a.get().widgetSettings||null==a.get().widgetSettings.timePeriod||_.isEmpty(a.get().widgetSettings.timePeriod.presets)||(e.presets=angular.copy(a.get().widgetSettings.timePeriod.presets)),e.applyPreset=function(e){return c(e),u(e)},e.timePeriodSetting.initialize=function(){return i(function(){return c(),s("time-presets").initialize(),e.showApplyButton=angular.isDefined(e.applyChangesCallback)})},e.timePeriodSetting.toMetadata=function(){var t,i;return i=s(l()),null!=i&&(t=i.toMetadata().hist_parameters),t.period=n(),null!=e.histParams&&null!=e.histParams.mode&&(t.mode=e.histParams.mode),{hist_parameters:t}},e.titleize=function(e){return"FYEARLY"!==e?""+e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase():"Yearly (financial)"},n=function(){return null!=e.timePeriodSetting.period?e.timePeriodSetting.period:c()},e.isTimeSliderUsed=function(){return"time-slider"===l()},e.isDatesPickerUsed=function(){return"dates-picker"===l()},l=function(){return null!=e.usedSetting?e.usedSetting:u()},s=function(t){return _.find(e.timePeriodSetting.settings,function(e){return e.key===t})},c=function(t){return null==t&&(t=null),null==t&&(t=e.histParams),null!=t&&null!=t.period&&_.find(e.periods,function(e){return e.value===t.period})?e.timePeriodSetting.period=angular.copy(t.period):e.timePeriodSetting.period="MONTHLY",e.timePeriodSetting.period},u=function(t){var n,i,r,a;return null==t&&(t=null),null==t&&(t=e.histParams),null!=t&&null!=t.from?(e.usedSetting="dates-picker",e.toDate=t.to,n=e.getMinDate(e.toDate),moment(t.from,"YYYY-MM-DD").isBefore(n)?e.fromDate=n:e.fromDate=t.from,e.keepToday=t.keep_today,s("dates-picker").initialize()):(e.usedSetting="time-slider",null!=t&&null!=t.time_range&&(a=t.time_range,r=/([a-z])/,i=r.exec(a)[1],e.timePeriodSetting.period=angular.copy(_.find(e.periods,function(e){return e.value.slice(0,1).toLowerCase()===i}).value),e.timePeriodSetting.timeRange=a),s("time-slider").initialize()),e.usedSetting},e.updateSettings=function(){return"time-slider"===e.usedSetting?e.resetPreset.notify("choose-period"):"dates-picker"===e.usedSetting&&e.resetPreset.notify("choose-dates"),p(),h()},p=function(){var t,i,r;return e.isTimeSliderUsed()&&(i=s("time-slider"),r=i.toMetadata().hist_parameters.time_range,t=n().slice(0,1).toLowerCase(),e.timePeriodSetting.timeRange=r.replace(/[a-z]/,t),i.initialize()),e.timePeriodSetting.timeRange},h=function(){var t,n,i,r;return e.isDatesPickerUsed()&&(i=s("dates-picker"),t=i.toMetadata().hist_parameters.from,r=i.toMetadata().hist_parameters.to,n=e.getMinDate(),moment(t,"YYYY-MM-DD").isBefore(n)&&(e.toDate=r,e.fromDate=n,i.initialize())),e.fromDate},e.useTimeSlider=function(){return e.usedSetting="time-slider",e.updateSettings()},e.useDatesPicker=function(){return e.usedSetting="dates-picker",e.updateSettings()},e.getMinDate=function(t){
var i,r,a,o;return null==t&&(t=void 0),o=moment(),null!=t?o=moment(t,"YYYY-MM-DD"):null!=e.usedSetting&&e.isDatesPickerUsed()&&(a=s("dates-picker"),o=moment(a.toMetadata().hist_parameters.to,"YYYY-MM-DD")),i=n(),r=_.find(e.periods,function(e){return i===e.value}).plural,o.subtract(e.maxNumberOfPeriods,r)},e.formattedMinDate=function(t){return null==t&&(t=void 0),r("momentDate")(e.getMinDate(t),"time-period")},f.settings.push(e.timePeriodSetting),t.all(d).then(function(){return e.deferred.resolve(e.timePeriodSetting)})}}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-settings.time-presets",[]),e.directive("settingTimePresets",["$templateCache","ImpacMainSvc","$timeout","ImpacUtilities","ImpacTheming","$translate",function(e,t,n,i,r,a){return{restrict:"A",scope:{parentWidget:"=",deferred:"=",presets:"=?",onSelect:"&?",onChooseDates:"&?",onChoosePeriod:"&?",histParams:"=?",resetPromise:"=?"},template:e.get("widgets-settings/time-presets.tmpl.html"),link:function(e){var n,o,s,l;return l=e.parentWidget,e.setting={},e.setting.key="time-presets",e.financialYearEndMonth=6,n=e.financialYearEndMonth,t.load().then(function(){return n=t.getFinancialYearEndMonth()}).finally(function(){var t,r,o,l;return t=i.financialYearDates(n).start,o=moment(i.financialYearDates(n).start,"YYYY-MM-DD").subtract(1,"year").format("YYYY-MM-DD"),r=moment(i.financialYearDates(n).end,"YYYY-MM-DD").subtract(1,"year").format("YYYY-MM-DD"),l=moment().format("YYYY-MM-DD"),a(["impac.common.period.preset_in_words.calendar_year_to_date","impac.common.period.preset_in_words.financial_year_to_date","impac.common.period.preset_in_words.previous_financial_year","impac.common.period.preset_in_words.last_6_months","impac.common.period.preset_in_words.last_4_quarters","impac.common.period.preset_in_words.last_4_weeks","impac.common.period.preset_in_words.choose_period","impac.common.period.preset_in_words.choose_dates"]).then(function(n){if(e.presets||(e.presets=[{label:n["impac.common.period.preset_in_words.calendar_year_to_date"],value:{from:moment().startOf("year").format("YYYY-MM-DD"),to:l,period:"MONTHLY"}},{label:n["impac.common.period.preset_in_words.financial_year_to_date"],value:{from:t,to:l,period:"MONTHLY"}},{label:n["impac.common.period.preset_in_words.previous_financial_year"],value:{from:o,to:r,period:"MONTHLY"}},{label:n["impac.common.period.preset_in_words.last_6_months"],value:{time_range:"-6m",to:l}},{label:n["impac.common.period.preset_in_words.last_4_quarters"],value:{time_range:"-4q",to:l}},{label:n["impac.common.period.preset_in_words.last_4_weeks"],value:{time_range:"-4w",to:l}}]),angular.isDefined(e.onChooseDates)&&s()&&e.presets.unshift({label:n["impac.common.period.preset_in_words.choose_period"],value:"choose-period"}),angular.isDefined(e.onChooseDates))return e.presets.unshift({label:n["impac.common.period.preset_in_words.choose_dates"],value:"choose-dates"})})}),null!=e.resetPromise&&e.resetPromise.then(null,null,function(t){return e.selectedPreset=_.find(e.presets,function(e){return e.value===t})}),s=function(){return null!=r.get().widgetSettings&&null!=r.get().widgetSettings.timePeriod&&r.get().widgetSettings.timePeriod.showSlider},o=function(){if(null!=e.histParams&&(e.selectedPreset=_.find(e.presets,function(t){return _.every(t.value,function(t,i){return e.histParams[i]===(angular.isFunction(t)?t(n):t)})}),null==e.selectedPreset&&null!=e.histParams.time_range&&s()&&(e.selectedPreset=e.presets[1])),null==e.selectedPreset)return e.selectedPreset=e.presets[0]},e.presetSelected=function(){return null!=e.selectedPreset&&"choose-dates"===e.selectedPreset.value?e.onChooseDates():null!=e.selectedPreset&&"choose-period"===e.selectedPreset.value?e.onChoosePeriod():e.onSelect({histParams:e.setting.toMetadata().hist_parameters})},e.setting.initialize=function(){return o(),e.presetSelected(),!0},e.setting.toMetadata=function(){var t;return t={},_.isEmpty(e.selectedPreset.value)||_.forEach(e.selectedPreset.value,function(e,i){return angular.isFunction(e)?t[i]=e(n):t[i]=e}),{hist_parameters:t}},l.settings.push(e.setting),e.deferred.resolve(e.setting)}}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-settings.time-slider",[]),e.directive("settingTimeSlider",["$templateCache","$timeout","ImpacMainSvc","ImpacUtilities","ImpacTheming",function(e,t,n,i,r){return{restrict:"A",scope:{parentWidget:"=",deferred:"=",timeRange:"=?",onUse:"&?"},template:e.get("widgets-settings/time-slider.tmpl.html"),link:function(e){var r,a,o,s,l,c,u,d,h,p;return p=e.parentWidget,h={},h.key="time-slider",r=["d","w","m","q","y","f"],h.initialize=function(){return t(function(){return u(),d(),c(),!0})},h.toMetadata=function(){var t;return t={to:e.toDate().format("YYYY-MM-DD"),time_range:l()},"f"===o()&&(t.from=e.fromDate().format("YYYY-MM-DD")),{hist_parameters:t}},u=function(){var t,n,i;return i=e.timeRange,e.numberOfPeriods=moment().month(),null==i?e.numberOfPeriods:(n=/^-?([0-9]{1,2})[a-z]?$/,t=n.exec(i),null!=t&&t[1]&&parseInt(t[1])&&(e.numberOfPeriods=parseInt(t[1])),e.numberOfPeriods)},d=function(){var t,n,i,a;return a=e.timeRange,e.period="m",null==a?"m":(n=/^-?[0-9]{0,2}([a-z])$/,t=n.exec(a),i=_.find(r,function(e){return null!=t&&t[1]===e}),null!=i&&(e.period=i),e.period)},c=function(){return e.financialYearEndMonth=6,n.load().then(function(t){if(null!=t&&null!=t.currentOrganization&&parseInt(t.currentOrganization.financial_year_end_month))return e.financialYearEndMonth=parseInt(t.currentOrganization.financial_year_end_month)})},o=function(){return null!=e.period?e.period:d()},s=function(){return i.getPeriodWord(o())},a=function(){return null!=e.numberOfPeriods?e.numberOfPeriods:u()},l=function(){var e,t;return e=a(),t=o(),"-"+e+t},e.formatPeriod=function(){return i.formatPeriod(a(),o())},e.fromDate=function(){var t,n,i;return n=a(),i=s(),"f"===i.slice(0,1)?(t=moment().year()-1,moment().month()>=6&&(t=moment().year()),t-=n,moment(t+"-"+(e.financialYearEndMonth+1)+"-01","YYYY-M-DD")):"w"===i.slice(0,1)?moment().subtract(n,i).startOf("isoweek"):moment().subtract(n,i).startOf(i)},e.toDate=function(){return moment()},p.settings.push(h),e.deferred.resolve(h)}}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-settings.width",[]),e.controller("SettingWidthCtrl",["$scope","$element","$timeout","$log","ImpacWidgetsSvc","ImpacDashboardsSvc",function(e,t,n,i,r,a){var o,s,l,c,u,d,h;for(h=e.parentWidget,d={},d.key="width",d.isInitialized=!1,u=t.parents(),l=0,c=u.length;l<c;l++)if(o=u[l],angular.element(o).hasClass("content")){e.contentElements=angular.element(o).children();break}return s=function(e){var t,i;if(e&&e.length>0){for(t=0,i=e.length;t<i;t++)o=e[t],angular.element(o).animate({opacity:0},0);return n(function(){var t,n,i;for(i=[],t=0,n=e.length;t<n;t++)o=e[t],i.push(angular.element(o).animate({opacity:1},200));return i},300)}},h.toggleExpanded=function(t){return null==t&&(t=!0),e.expanded=!e.expanded,t&&r.updateWidgetSettings(h,!1,!0),s(e.contentElements),e.expanded?h.width=parseInt(e.max):h.width=parseInt(e.min)},h.isExpanded=function(){return e.expanded},d.initialize=function(){if(null!=h.width)return e.expanded=h.width===parseInt(e.max),d.isInitialized=!0},d.toMetadata=function(){var t;return t=e.expanded?e.max:e.min,{width:parseInt(t)}},a.pdfModeEnabled().then(null,null,function(){if(e.pdfMode=!0,e.initiallyExpanded=!!e.expanded,!e.initiallyExpanded)return h.toggleExpanded(!1)}),a.pdfModeCanceled().then(null,null,function(){if(e.pdfMode=!1,!e.initiallyExpanded)return h.toggleExpanded(!1)}),h.settings.push(d),e.deferred.resolve(e.parentWidget)}]),e.directive("settingWidth",["$templateCache",function(e){return{restrict:"A",scope:{parentWidget:"=",deferred:"=",min:"@",max:"@"},template:e.get("widgets-settings/width.tmpl.html"),controller:"SettingWidthCtrl"}}])}.call(this),function(){var e;e=angular.module("impac.components.widgets-layouts.accounts-cash-balance",[]),e.controller("WidgetAccountsCashBalanceCtrl",["$scope","$q","$timeout","$filter","ImpacTheming","ImpacAssets","ImpacWidgetsSvc","HighchartsFactory",function(e,t,n,i,r,a,o,s){var l,c,u,d,h,p,f,g;return f=e.widget,e.orgDeferred=t.defer(),h=[e.orgDeferred.promise],l=function(){return null!=f.metadata&&null!=f.metadata.hist_parameters&&f.metadata.hist_parameters.period||"MONTHLY"},f.initContext=function(){var t;if(e.isDataFound=null!=f.content.chart,e.groupedTable=f.content.grouped_table,d(f.content.chart.series,{positive:"#3FC4FF",negative:"#e50228"}),t=f.metadata.hist_parameters)return e.fromDate=t.from,e.toDate=t.to},e.legendItemOnClick=function(t){var n,i;if(n=null!=e.chart&&null!=e.chart.hc&&c(e.chart.hc.series,t))return i=!n.visible,n.setVisible(i)},e.getLegendItemCheckBox=function(t){var n;return n=null!=e.chart&&null!=e.chart.hc&&c(e.chart.hc.series,t),n?n.visible?"fa-check-square-o":"fa-square-o":"fa-check-square-o"},e.getLegendItemIcon=function(t){var n;return n=null!=e.chart&&null!=e.chart.hc&&c(e.chart.hc.series,t),"area"===n.type?a.get("areaLegendIcon"):a.get("plotLineLegendIcon")},e.getLegendItemColor=function(t){var n;return n=null!=e.chart&&null!=e.chart.hc&&c(e.chart.hc.series,t),n?n.color:"#000"},c=function(e,t){return _.find(e,function(e){return(e.id||e.options&&e.options.id)===t.id})},d=function(e,t){var n,i,a,o,s,l;i=_.groupBy(e,function(e){return e.bias}),s=[];for(n in i)e=i[n],t[n]&&(o=r.color.generateShadesPalette(t[n],e.length),s.push(function(){var t,n,i;for(i=[],a=t=0,n=e.length;t<n;a=++t)l=e[a],i.push(l.color=o[a]);return i}()));return s},e.chartId=function(){return"cashBalanceChart-"+f.id},p=!1,g={},u=function(e){if(g=angular.merge(f.metadata,{xAxis:{max:e.max,min:e.min}}),!p)return p=!0,n(function(){return o.update(f,{metadata:g},!1).finally(function(){return p=!1})},1e3)},f.format=function(){return n(function(){var t;return t={chartType:"line",currency:f.metadata.currency,period:l(),showToday:!0,showLegend:!1},e.chart=new s(e.chartId(),f.content.chart.series,t),e.chart.addXAxisOptions({defaults:f.metadata.xAxis,callback:u}),e.chart.removeLegend(),e.chart.render()})},e.widgetDeferred.resolve(h)}]),e.directive("widgetAccountsCashBalance",function(){return{restrict:"A",controller:"WidgetAccountsCashBalanceCtrl"}})}.call(this),function(){var e;e=angular.module("impac.components.widgets-layouts.accounts-cash-projection",[]),e.controller("WidgetAccountsCashProjectionCtrl",["$scope","$q","$filter","$timeout","ImpacKpisSvc","ImpacWidgetsSvc","ImpacAssets","HighchartsFactory","BoltResources",function(e,t,n,i,r,a,o,s,l){var c,u,d,h,p,f,g,m,v,b,y,w,x,k;return x=e.widget,y=moment().startOf("day").add(moment().utcOffset(),"minutes"),w=!1,k={},x.metadata.ranges=["-60d","-30d"],c=function(e){var t;return t=moment.utc(e),t<=y?"lte "+t.format("YYYY-MM-DD"):t.format("YYYY-MM-DD")},d=function(e){return o.get(_.camelCase(e+"LegendIcon"))},h=function(e,t){return"<img src='"+e+"'><br>"+t},u=function(e,t){var n;return n=_.find(t,function(t){return t.id===e}),n.attributes.name},e.chartId=function(){return"cashProjectionChart-"+x.id},e.orgDeferred=t.defer(),b=[e.orgDeferred.promise],e.trxList={display:!1,updated:!1,transactions:[]},e.contacts=[],e.trxList.show=function(){return e.trxList.display=!0},e.trxList.hide=function(){if(e.trxList.display=!1,e.trxList.updated)return a.show(x).then(function(){return e.trxList.updated=!1})},e.trxList.fetch=function(t){var n;return null==t&&(t=1),n=angular.merge(e.trxList.params,{metadata:_.pick(x.metadata,"organization_ids"),page:{number:t},sort:"-expected_payment_date"}),l.index(x.metadata.bolt_path,e.trxList.resources,n).then(function(t){var n,i,r,a,o;for(_.remove(e.trxList.transactions,function(){return!0}),a=t.data.data,i=0,r=a.length;i<r;i++)o=a[i],o.relationships&&o.relationships.contact&&o.relationships.contact.data&&(n=u(o.relationships.contact.data.id,t.data.included)),e.trxList.transactions.push(angular.merge(o.attributes,{id:o.id,contact_name:n||null}));return e.trxList.totalRecords=t.data.meta.record_count}).finally(function(){return e.trxList.show()})},e.trxList.updateParams=function(t,n){return e.trxList.resources=t,e.trxList.params={include:"contact",fields:{contacts:"name"},filter:n}},e.trxList.showAll=function(t){var n;return null==t&&(t="invoices"),n={status:["AUTHORISED","APPROVED","SUBMITTED","FORECAST"]},e.trxList.updateParams(t,n),e.trxList.fetch()},e.trxList.updateExpectedDate=function(t,n){return l.update(x.metadata.bolt_path,e.trxList.resources,t,{expected_payment_date:moment(n).format("YYYY-MM-DD")}).then(function(){return e.trxList.updated=!0})},e.trxList.changeResourcesType=function(t){if(t!==e.trxList.resources)return e.trxList.resources=t,e.trxList.fetch()},e.trxList.deleteTransaction=function(t,n){return _.remove(e.trxList.transactions,function(e){return e.id===n}),l.destroy(x.metadata.bolt_path,t,n).then(function(){return e.trxList.updated=!0})},e.chartDeferred=t.defer(),e.chartPromise=e.chartDeferred.promise,e.chartThresholdOptions={label:"Get alerted when the cash projection goes below"},e.addForecastPopup={resourcesType:"invoices",display:!1,show:function(){return this.display=!0},hide:function(){return this.display=!1}},e.addForecastPopup.createTransaction=function(t){return l.create(x.metadata.bolt_path,this.resourcesType,{title:t.name,transaction_number:"FOR-"+Math.ceil(1e4*Math.random()),amount:t.amount,balance:t.amount,transaction_date:moment().format("YYYY-MM-DD"),due_date:moment(t.datePicker.date).format("YYYY-MM-DD"),status:"FORECAST",reconciliation_status:"reconciliated",currency:x.metadata.currency},{company:{data:{type:"companies",id:e.firstCompanyId}},contact:{data:{type:"contacts",id:t.contact.id}}}).then(function(){return a.show(x)})},e.dupTrxList={display:!1,updated:!1,transactions:[]},e.dupTrxList.show=function(){return e.dupTrxList.display=!0},e.dupTrxList.hide=function(){if(e.dupTrxList.display=!1,e.dupTrxList.updated)return a.show(x).then(function(){return e.dupTrxList.updated=!1})},e.dupTrxList.fetch=function(t){var n;return null==t&&(t=1),n=angular.merge(e.dupTrxList.params,{metadata:_.pick(x.metadata,"organization_ids"),page:{number:t}}),l.index(x.metadata.bolt_path,e.dupTrxList.resources,n).then(function(t){var n,i,r,a;for(_.remove(e.dupTrxList.transactions,function(){return!0}),r=t.data.data,n=0,i=r.length;n<i;n++)a=r[n],e.dupTrxList.transactions.push(angular.merge(a.attributes,{id:a.id}));return e.dupTrxList.totalRecords=t.data.meta.record_count}).finally(function(){return e.dupTrxList.show()})},e.dupTrxList.updateParams=function(t,n){return e.dupTrxList.resources=t,e.dupTrxList.params={filter:n}},e.dupTrxList.showAll=function(t){var n;return null==t&&(t="duplicate_transactions"),n={},e.dupTrxList.updateParams(t,n),e.dupTrxList.fetch()},e.dupTrxList.updateDuplicateTransaction=function(t,n){return _.remove(e.dupTrxList.transactions,function(e){return e.id===t}),l.update(x.metadata.bolt_path,e.dupTrxList.resources,t,{action:n}).then(function(){return e.dupTrxList.updated=!0})},g=function(t){var n,i,r;if(r=this,null!=(i=function(){switch(r.userOptions.stack){case"Payables":return"bills";case"Receivables":return"invoices"}}()))return n={expected_payment_date:c(t.point.x),status:["AUTHORISED","APPROVED","SUBMITTED","FORECAST"]},e.trxList.updateParams(i,n),e.trxList.fetch()},p=function(){var e;return e=this.name,"Projected cash"!==e?h(d(e),e):h(d(e),e)+"<br>"+h(d("cashFlow"),"Cash flow")},v=function(e){if(k=angular.merge(x.metadata,{xAxis:{max:e.max,min:e.min}}),!w)return w=!0,i(function(){return a.update(x,{metadata:k},!1).finally(function(){return w=!1})},1e3)},m=function(){var t,n,i,r,a,o;for(o=this,i=e.chart.hc.series,r=[],t=0,n=i.length;t<n;t++)a=i[t],a.userOptions.linkedTo===o.name&&(o.visible?r.push(a.hide()):r.push(a.show()));return r},f=function(){return l.index(x.metadata.bolt_path,"contacts",{metadata:_.pick(x.metadata,"organization_ids")}).then(function(t){return e.contacts=t.data.data})},x.initContext=function(){var t;return t=_.find(x.content.chart.series,function(e){return"Cash flow"===e.name}),t.data=[],t.type="area",t.showInLegend=!1,l.index(x.metadata.bolt_path,"companies",{metadata:_.pick(x.metadata,"organization_ids")}).then(function(t){return e.firstCompanyId=t.data.data[0].id,f()}),l.index(x.metadata.bolt_path,"contacts",{metadata:_.pick(x.metadata,"organization_ids")}).then(function(t){if(t.data.data[0])return e.firstContactId=t.data.data[0].id})},x.format=function(){var t;return t={chartType:"line",currency:x.metadata.currency,showToday:!0},e.chart=new s(e.chartId(),x.content.chart.series,t),e.chart.addCustomLegend(p),e.chart.addSeriesEvent("click",g),e.chart.addSeriesEvent("legendItemClick",m),e.chart.addXAxisOptions({defaults:x.metadata.xAxis,callback:v}),e.chart.render(),e.chartDeferred.notify(e.chart)},e.widgetDeferred.resolve(b)}]),e.directive("widgetAccountsCashProjection",function(){return{restrict:"A",controller:"WidgetAccountsCashProjectionCtrl"}})}.call(this)}.call(this),function e(t,n,i){function r(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(a)return a(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};t[o][0].call(u.exports,function(e){var n=t[o][1][e];return r(n||e)},u,u.exports,e,t,n,i)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,n){},{}],2:[function(e,t,n){function i(e){if(e){var t=/^#([a-fA-F0-9]{3})$/,n=/^#([a-fA-F0-9]{6})$/,i=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,r=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,a=/(\w+)/,o=[0,0,0],s=1,l=e.match(t);if(l){l=l[1];for(var c=0;c<o.length;c++)o[c]=parseInt(l[c]+l[c],16)}else if(l=e.match(n)){l=l[1];for(var c=0;c<o.length;c++)o[c]=parseInt(l.slice(2*c,2*c+2),16)}else if(l=e.match(i)){for(var c=0;c<o.length;c++)o[c]=parseInt(l[c+1]);s=parseFloat(l[4])}else if(l=e.match(r)){for(var c=0;c<o.length;c++)o[c]=Math.round(2.55*parseFloat(l[c+1]));s=parseFloat(l[4])}else if(l=e.match(a)){if("transparent"==l[1])return[0,0,0,0];if(!(o=w[l[1]]))return}for(var c=0;c<o.length;c++)o[c]=b(o[c],0,255);return s=s||0==s?b(s,0,1):1,o[3]=s,o}}function r(e){if(e){var t=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=e.match(t);if(n){var i=parseFloat(n[4]);return[b(parseInt(n[1]),0,360),b(parseFloat(n[2]),0,100),b(parseFloat(n[3]),0,100),b(isNaN(i)?1:i,0,1)]}}}function a(e){if(e){var t=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=e.match(t);if(n){var i=parseFloat(n[4]);return[b(parseInt(n[1]),0,360),b(parseFloat(n[2]),0,100),b(parseFloat(n[3]),0,100),b(isNaN(i)?1:i,0,1)]}}}function o(e){var t=i(e);return t&&t.slice(0,3)}function s(e){var t=r(e);return t&&t.slice(0,3)}function l(e){var t=i(e);return t?t[3]:(t=r(e))?t[3]:(t=a(e))?t[3]:void 0}function c(e){return"#"+y(e[0])+y(e[1])+y(e[2])}function u(e,t){return 1>t||e[3]&&e[3]<1?d(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"}function d(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function h(e,t){return 1>t||e[3]&&e[3]<1?p(e,t):"rgb("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%)"}function p(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function f(e,t){return 1>t||e[3]&&e[3]<1?g(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"}function g(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function m(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"}function v(e){return x[e.slice(0,3)]}function b(e,t,n){return Math.min(Math.max(t,e),n)}function y(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var w=e("color-name");t.exports={getRgba:i,getHsla:r,getRgb:o,getHsl:s,getHwb:a,getAlpha:l,hexString:c,rgbString:u,rgbaString:d,percentString:h,percentaString:p,hslString:f,hslaString:g,hwbString:m,keyword:v};var x={};for(var _ in w)x[w[_]]=_},{"color-name":6}],3:[function(e,t,n){var i=e("color-convert"),r=e("chartjs-color-string"),a=function(e){if(e instanceof a)return e;if(!(this instanceof a))return new a(e);this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var t;if("string"==typeof e)if(t=r.getRgba(e))this.setValues("rgb",t);else if(t=r.getHsla(e))this.setValues("hsl",t);else{if(!(t=r.getHwb(e)))throw new Error('Unable to parse color from string "'+e+'"');this.setValues("hwb",t)}else if("object"==typeof e)if(t=e,void 0!==t.r||void 0!==t.red)this.setValues("rgb",t);else if(void 0!==t.l||void 0!==t.lightness)this.setValues("hsl",t);else if(void 0!==t.v||void 0!==t.value)this.setValues("hsv",t);else if(void 0!==t.w||void 0!==t.whiteness)this.setValues("hwb",t);else{if(void 0===t.c&&void 0===t.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(e));this.setValues("cmyk",t)}};a.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e%=360,e=0>e?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return r.hexString(this.values.rgb)},rgbString:function(){return r.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return r.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return r.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return r.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return r.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return r.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return r.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var i=e[n]/255;t[n]=.03928>=i?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return 128>(299*e[0]+587*e[1]+114*e[2])/1e3},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;3>t;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=0>n?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=this,i=e,r=void 0===t?.5:t,a=2*r-1,o=n.alpha()-i.alpha(),s=((a*o==-1?a:(a+o)/(1+a*o))+1)/2,l=1-s;return this.rgb(s*n.red()+l*i.red(),s*n.green()+l*i.green(),s*n.blue()+l*i.blue()).alpha(n.alpha()*r+i.alpha()*(1-r))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n=new a,i=this.values,r=n.values;for(var o in i)i.hasOwnProperty(o)&&(e=i[o],t={}.toString.call(e),"[object Array]"===t?r[o]=e.slice(0):"[object Number]"===t?r[o]=e:console.error("unexpected color value:",e));return n}},a.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},a.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},a.prototype.getValues=function(e){for(var t=this.values,n={},i=0;i<e.length;i++)n[e.charAt(i)]=t[e][i];return 1!==t.alpha&&(n.a=t.alpha),n},a.prototype.setValues=function(e,t){var n,r=this.values,a=this.spaces,o=this.maxes,s=1;if("alpha"===e)s=t;else if(t.length)r[e]=t.slice(0,e.length),s=t[e.length];else if(void 0!==t[e.charAt(0)]){for(n=0;n<e.length;n++)r[e][n]=t[e.charAt(n)];s=t.a}else if(void 0!==t[a[e][0]]){var l=a[e];for(n=0;n<e.length;n++)r[e][n]=t[l[n]];s=t.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===s?r.alpha:s)),"alpha"===e)return!1;var c;for(n=0;n<e.length;n++)c=Math.max(0,Math.min(o[e][n],r[e][n])),r[e][n]=Math.round(c);for(var u in a)u!==e&&(r[u]=i[e][u](r[e]));return!0},a.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},a.prototype.setChannel=function(e,t,n){var i=this.values[e];return void 0===n?i[t]:n===i[t]?this:(i[t]=n,this.setValues(e,i),this)},"undefined"!=typeof window&&(window.Color=a),t.exports=a},{"chartjs-color-string":2,"color-convert":5}],4:[function(e,t,n){function i(e){var t,n,i,r=e[0]/255,a=e[1]/255,o=e[2]/255,s=Math.min(r,a,o),l=Math.max(r,a,o),c=l-s;return l==s?t=0:r==l?t=(a-o)/c:a==l?t=2+(o-r)/c:o==l&&(t=4+(r-a)/c),t=Math.min(60*t,360),0>t&&(t+=360),i=(s+l)/2,n=l==s?0:.5>=i?c/(l+s):c/(2-l-s),[t,100*n,100*i]}function a(e){var t,n,i,r=e[0],a=e[1],o=e[2],s=Math.min(r,a,o),l=Math.max(r,a,o),c=l-s;return n=0==l?0:c/l*1e3/10,l==s?t=0:r==l?t=(a-o)/c:a==l?t=2+(o-r)/c:o==l&&(t=4+(r-a)/c),t=Math.min(60*t,360),0>t&&(t+=360),i=l/255*1e3/10,[t,n,i]}function o(e){var t=e[0],n=e[1],r=e[2],a=i(e)[0],o=1/255*Math.min(t,Math.min(n,r)),r=1-1/255*Math.max(t,Math.max(n,r));return[a,100*o,100*r]}function s(e){var t,n,i,r,a=e[0]/255,o=e[1]/255,s=e[2]/255;return r=Math.min(1-a,1-o,1-s),t=(1-a-r)/(1-r)||0,n=(1-o-r)/(1-r)||0,i=(1-s-r)/(1-r)||0,[100*t,100*n,100*i,100*r]}function l(e){return J[JSON.stringify(e)]}function c(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255;return t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,[100*(.4124*t+.3576*n+.1805*i),100*(.2126*t+.7152*n+.0722*i),100*(.0193*t+.1192*n+.9505*i)]}function u(e){var t,n,i,r=c(e),a=r[0],o=r[1],s=r[2];return a/=95.047,o/=100,s/=108.883,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,t=116*o-16,n=500*(a-o),i=200*(o-s),[t,n,i]}function d(e){return F(u(e))}function h(e){var t,n,i,r,a,o=e[0]/360,s=e[1]/100,l=e[2]/100;if(0==s)return a=255*l,[a,a,a];n=.5>l?l*(1+s):l+s-l*s,t=2*l-n,r=[0,0,0];for(var c=0;3>c;c++)i=o+1/3*-(c-1),0>i&&i++,i>1&&i--,a=1>6*i?t+6*(n-t)*i:1>2*i?n:2>3*i?t+(n-t)*(2/3-i)*6:t,r[c]=255*a;return r}function p(e){var t,n,i=e[0],r=e[1]/100,a=e[2]/100;return 0===a?[0,0,0]:(a*=2,r*=1>=a?a:2-a,n=(a+r)/2,t=2*r/(a+r),[i,100*t,100*n])}function f(e){return o(h(e))}function m(e){return s(h(e))}function v(e){return l(h(e))}function y(e){var t=e[0]/60,n=e[1]/100,i=e[2]/100,r=Math.floor(t)%6,a=t-Math.floor(t),o=255*i*(1-n),s=255*i*(1-n*a),l=255*i*(1-n*(1-a)),i=255*i;switch(r){case 0:return[i,l,o];case 1:return[s,i,o];case 2:return[o,i,l];case 3:return[o,s,i];case 4:return[l,o,i];case 5:return[i,o,s]}}function w(e){var t,n,i=e[0],r=e[1]/100,a=e[2]/100;return n=(2-r)*a,t=r*a,t/=1>=n?n:2-n,t=t||0,n/=2,[i,100*t,100*n]}function x(e){return o(y(e))}function _(e){return s(y(e))}function k(e){return l(y(e))}function C(e){var t,n,i,a,o=e[0]/360,s=e[1]/100,l=e[2]/100,c=s+l;switch(c>1&&(s/=c,l/=c),t=Math.floor(6*o),n=1-l,i=6*o-t,0!=(1&t)&&(i=1-i),a=s+i*(n-s),t){default:case 6:case 0:r=n,g=a,b=s;break;case 1:r=a,g=n,b=s;break;case 2:r=s,g=n,b=a;break;case 3:r=s,g=a,b=n;break;case 4:r=a,g=s,b=n;break;case 5:r=n,g=s,b=a}return[255*r,255*g,255*b]}function S(e){return i(C(e))}function $(e){return a(C(e))}function D(e){return s(C(e))}function T(e){return l(C(e))}function E(e){var t,n,i,r=e[0]/100,a=e[1]/100,o=e[2]/100,s=e[3]/100;return t=1-Math.min(1,r*(1-s)+s),n=1-Math.min(1,a*(1-s)+s),i=1-Math.min(1,o*(1-s)+s),[255*t,255*n,255*i]}function M(e){return i(E(e))}function A(e){return a(E(e))}function O(e){return o(E(e))}function P(e){return l(E(e))}function I(e){var t,n,i,r=e[0]/100,a=e[1]/100,o=e[2]/100;return t=3.2406*r+-1.5372*a+-.4986*o,n=-.9689*r+1.8758*a+.0415*o,i=.0557*r+-.204*a+1.057*o,t=t>.0031308?1.055*Math.pow(t,1/2.4)-.055:t*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,t=Math.min(Math.max(0,t),1),n=Math.min(Math.max(0,n),1),i=Math.min(Math.max(0,i),1),[255*t,255*n,255*i]}function R(e){var t,n,i,r=e[0],a=e[1],o=e[2];return r/=95.047,a/=100,o/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,t=116*a-16,n=500*(r-a),i=200*(a-o),[t,n,i]}function N(e){return F(R(e))}function L(e){var t,n,i,r,a=e[0],o=e[1],s=e[2];return 8>=a?(n=100*a/903.3,r=n/100*7.787+16/116):(n=100*Math.pow((a+16)/116,3),r=Math.pow(n/100,1/3)),t=.008856>=t/95.047?t=95.047*(o/500+r-16/116)/7.787:95.047*Math.pow(o/500+r,3),i=.008859>=i/108.883?i=108.883*(r-s/200-16/116)/7.787:108.883*Math.pow(r-s/200,3),[t,n,i]}function F(e){var t,n,i,r=e[0],a=e[1],o=e[2];return t=Math.atan2(o,a),n=360*t/2/Math.PI,0>n&&(n+=360),i=Math.sqrt(a*a+o*o),[r,i,n]}function z(e){return I(L(e))}function j(e){var t,n,i,r=e[0],a=e[1];return i=e[2]/360*2*Math.PI,t=a*Math.cos(i),n=a*Math.sin(i),[r,t,n]}function H(e){return L(j(e))}function W(e){return z(j(e))}function B(e){return X[e]}function V(e){return i(B(e))}function U(e){return a(B(e))}function q(e){return o(B(e))}function Y(e){return s(B(e))}function K(e){return u(B(e))}function G(e){return c(B(e))}t.exports={rgb2hsl:i,rgb2hsv:a,rgb2hwb:o,rgb2cmyk:s,rgb2keyword:l,rgb2xyz:c,rgb2lab:u,rgb2lch:d,hsl2rgb:h,hsl2hsv:p,hsl2hwb:f,hsl2cmyk:m,hsl2keyword:v,hsv2rgb:y,hsv2hsl:w,hsv2hwb:x,hsv2cmyk:_,hsv2keyword:k,hwb2rgb:C,hwb2hsl:S,hwb2hsv:$,hwb2cmyk:D,hwb2keyword:T,cmyk2rgb:E,cmyk2hsl:M,cmyk2hsv:A,cmyk2hwb:O,cmyk2keyword:P,keyword2rgb:B,keyword2hsl:V,keyword2hsv:U,keyword2hwb:q,keyword2cmyk:Y,keyword2lab:K,keyword2xyz:G,xyz2rgb:I,xyz2lab:R,xyz2lch:N,lab2xyz:L,lab2rgb:z,lab2lch:F,
lch2lab:j,lch2xyz:H,lch2rgb:W};var X={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},J={};for(var Z in X)J[JSON.stringify(X[Z])]=Z},{}],5:[function(e,t,n){var i=e("./conversions"),r=function(){return new c};for(var a in i){r[a+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),i[e](t)}}(a);var o=/(\w+)2(\w+)/.exec(a),s=o[1],l=o[2];r[s]=r[s]||{},r[s][l]=r[a]=function(e){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var n=i[e](t);if("string"==typeof n||void 0===n)return n;for(var r=0;r<n.length;r++)n[r]=Math.round(n[r]);return n}}(a)}var c=function(){this.convs={}};c.prototype.routeSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n))},c.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},c.prototype.getValues=function(e){var t=this.convs[e];if(!t){var n=this.space,i=this.convs[n];t=r[n][e](i),this.convs[e]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){c.prototype[e]=function(t){return this.routeSpace(e,arguments)}}),t.exports=r},{"./conversions":4}],6:[function(e,t,n){t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],7:[function(e,t,n){var i=e("./core/core.js")();e("./core/core.helpers")(i),e("./core/core.element")(i),e("./core/core.animation")(i),e("./core/core.controller")(i),e("./core/core.datasetController")(i),e("./core/core.layoutService")(i),e("./core/core.legend")(i),e("./core/core.plugin.js")(i),e("./core/core.scale")(i),e("./core/core.scaleService")(i),e("./core/core.title")(i),e("./core/core.tooltip")(i),e("./elements/element.arc")(i),e("./elements/element.line")(i),e("./elements/element.point")(i),e("./elements/element.rectangle")(i),e("./scales/scale.category")(i),e("./scales/scale.linear")(i),e("./scales/scale.logarithmic")(i),e("./scales/scale.radialLinear")(i),e("./scales/scale.time")(i),e("./controllers/controller.bar")(i),e("./controllers/controller.bubble")(i),e("./controllers/controller.doughnut")(i),e("./controllers/controller.line")(i),e("./controllers/controller.polarArea")(i),e("./controllers/controller.radar")(i),e("./charts/Chart.Bar")(i),e("./charts/Chart.Bubble")(i),e("./charts/Chart.Doughnut")(i),e("./charts/Chart.Line")(i),e("./charts/Chart.PolarArea")(i),e("./charts/Chart.Radar")(i),e("./charts/Chart.Scatter")(i),window.Chart=t.exports=i},{"./charts/Chart.Bar":8,"./charts/Chart.Bubble":9,"./charts/Chart.Doughnut":10,"./charts/Chart.Line":11,"./charts/Chart.PolarArea":12,"./charts/Chart.Radar":13,"./charts/Chart.Scatter":14,"./controllers/controller.bar":15,"./controllers/controller.bubble":16,"./controllers/controller.doughnut":17,"./controllers/controller.line":18,"./controllers/controller.polarArea":19,"./controllers/controller.radar":20,"./core/core.animation":21,"./core/core.controller":22,"./core/core.datasetController":23,"./core/core.element":24,"./core/core.helpers":25,"./core/core.js":26,"./core/core.layoutService":27,"./core/core.legend":28,"./core/core.plugin.js":29,"./core/core.scale":30,"./core/core.scaleService":31,"./core/core.title":32,"./core/core.tooltip":33,"./elements/element.arc":34,"./elements/element.line":35,"./elements/element.point":36,"./elements/element.rectangle":37,"./scales/scale.category":38,"./scales/scale.linear":39,"./scales/scale.logarithmic":40,"./scales/scale.radialLinear":41,"./scales/scale.time":42}],8:[function(e,t,n){"use strict";t.exports=function(e){e.Bar=function(t,n){return n.type="bar",new e(t,n)}}},{}],9:[function(e,t,n){"use strict";t.exports=function(e){e.Bubble=function(t,n){return n.type="bubble",new e(t,n)}}},{}],10:[function(e,t,n){"use strict";t.exports=function(e){e.Doughnut=function(t,n){return n.type="doughnut",new e(t,n)}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e){e.Line=function(t,n){return n.type="line",new e(t,n)}}},{}],12:[function(e,t,n){"use strict";t.exports=function(e){e.PolarArea=function(t,n){return n.type="polarArea",new e(t,n)}}},{}],13:[function(e,t,n){"use strict";t.exports=function(e){e.Radar=function(t,n){return n.options=e.helpers.configMerge({aspectRatio:1},n.options),n.type="radar",new e(t,n)}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e){var t={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-1"}],yAxes:[{type:"linear",position:"left",id:"y-axis-1"}]},tooltips:{callbacks:{title:function(e,t){return""},label:function(e,t){return"("+e.xLabel+", "+e.yLabel+")"}}}};e.defaults.scatter=t,e.controllers.scatter=e.controllers.line,e.Scatter=function(t,n){return n.type="scatter",new e(t,n)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.bar={hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}},e.controllers.bar=e.DatasetController.extend({dataElementType:e.elements.Rectangle,initialize:function(t,n){e.DatasetController.prototype.initialize.call(this,t,n),this.getMeta().bar=!0},getBarCount:function(){var e=0;return t.each(this.chart.data.datasets,function(t,n){this.chart.getDatasetMeta(n).bar&&this.chart.isDatasetVisible(n)&&++e},this),e},update:function(e){t.each(this.getMeta().data,function(t,n){this.updateElement(t,n,e)},this)},updateElement:function(e,n,i){var r=this.getMeta(),a=this.getScaleForId(r.xAxisID),o=this.getScaleForId(r.yAxisID),s=o.getBasePixel(),l=this.chart.options.elements.rectangle,c=e.custom||{},u=this.getDataset();t.extend(e,{_xScale:a,_yScale:o,_datasetIndex:this.index,_index:n,_model:{x:this.calculateBarX(n,this.index),y:i?s:this.calculateBarY(n,this.index),label:this.chart.data.labels[n],datasetLabel:u.label,base:i?s:this.calculateBarBase(this.index,n),width:this.calculateBarWidth(n),backgroundColor:c.backgroundColor?c.backgroundColor:t.getValueAtIndexOrDefault(u.backgroundColor,n,l.backgroundColor),borderSkipped:c.borderSkipped?c.borderSkipped:l.borderSkipped,borderColor:c.borderColor?c.borderColor:t.getValueAtIndexOrDefault(u.borderColor,n,l.borderColor),borderWidth:c.borderWidth?c.borderWidth:t.getValueAtIndexOrDefault(u.borderWidth,n,l.borderWidth)}}),e.pivot()},calculateBarBase:function(e,t){var n=this.getMeta(),i=this.getScaleForId(n.yAxisID),r=0;if(i.options.stacked){var a=this.chart,o=a.data.datasets;if(0>o[e].data[t])for(var s=0;e>s;s++){var l=o[s],c=a.getDatasetMeta(s);c.bar&&c.yAxisID===i.id&&a.isDatasetVisible(s)&&(r+=l.data[t]<0?l.data[t]:0)}else for(var u=0;e>u;u++){var d=o[u],h=a.getDatasetMeta(u);h.bar&&h.yAxisID===i.id&&a.isDatasetVisible(u)&&(r+=d.data[t]>0?d.data[t]:0)}return i.getPixelForValue(r)}return i.getBasePixel()},getRuler:function(e){var t,n=this.getMeta(),i=this.getScaleForId(n.xAxisID),r=this.getBarCount();t="category"===i.options.type?i.getPixelForTick(e+1)-i.getPixelForTick(e):i.width/i.ticks.length;var a=t*i.options.categoryPercentage,o=(t-t*i.options.categoryPercentage)/2,s=a/r;if(i.ticks.length!==this.chart.data.labels.length){s*=i.ticks.length/this.chart.data.labels.length}return{datasetCount:r,tickWidth:t,categoryWidth:a,categorySpacing:o,fullBarWidth:s,barWidth:s*i.options.barPercentage,barSpacing:s-s*i.options.barPercentage}},calculateBarWidth:function(e){var t=this.getScaleForId(this.getMeta().xAxisID),n=this.getRuler(e);return t.options.stacked?n.categoryWidth:n.barWidth},getBarIndex:function(e){var t,n,i=0;for(n=0;e>n;++n)t=this.chart.getDatasetMeta(n),t.bar&&this.chart.isDatasetVisible(n)&&++i;return i},calculateBarX:function(e,t){var n=this.getMeta(),i=this.getScaleForId(n.xAxisID),r=this.getBarIndex(t),a=this.getRuler(e),o=i.getPixelForValue(null,e,t,this.chart.isCombo);return o-=this.chart.isCombo?a.tickWidth/2:0,i.options.stacked?o+a.categoryWidth/2+a.categorySpacing:o+a.barWidth/2+a.categorySpacing+a.barWidth*r+a.barSpacing/2+a.barSpacing*r},calculateBarY:function(e,t){var n=this.getMeta(),i=this.getScaleForId(n.yAxisID),r=this.getDataset().data[e];if(i.options.stacked){for(var a=0,o=0,s=0;t>s;s++){var l=this.chart.data.datasets[s],c=this.chart.getDatasetMeta(s);c.bar&&c.yAxisID===i.id&&this.chart.isDatasetVisible(s)&&(l.data[e]<0?o+=l.data[e]||0:a+=l.data[e]||0)}return 0>r?i.getPixelForValue(o+r):i.getPixelForValue(a+r)}return i.getPixelForValue(r)},draw:function(e){var n=e||1;t.each(this.getMeta().data,function(e,t){var i=this.getDataset().data[t];null===i||void 0===i||isNaN(i)||e.transition(n).draw()},this)},setHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e._index,r=e.custom||{},a=e._model;a.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:t.getValueAtIndexOrDefault(n.hoverBackgroundColor,i,t.getHoverColor(a.backgroundColor)),a.borderColor=r.hoverBorderColor?r.hoverBorderColor:t.getValueAtIndexOrDefault(n.hoverBorderColor,i,t.getHoverColor(a.borderColor)),a.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:t.getValueAtIndexOrDefault(n.hoverBorderWidth,i,a.borderWidth)},removeHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e._index,r=e.custom||{},a=e._model,o=this.chart.options.elements.rectangle;a.backgroundColor=r.backgroundColor?r.backgroundColor:t.getValueAtIndexOrDefault(n.backgroundColor,i,o.backgroundColor),a.borderColor=r.borderColor?r.borderColor:t.getValueAtIndexOrDefault(n.borderColor,i,o.borderColor),a.borderWidth=r.borderWidth?r.borderWidth:t.getValueAtIndexOrDefault(n.borderWidth,i,o.borderWidth)}}),e.defaults.horizontalBar={hover:{mode:"label"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(e,t){var n="";return e.length>0&&(e[0].yLabel?n=e[0].yLabel:t.labels.length>0&&e[0].index<t.labels.length&&(n=t.labels[e[0].index])),n},label:function(e,t){return(t.datasets[e.datasetIndex].label||"")+": "+e.xLabel}}}},e.controllers.horizontalBar=e.controllers.bar.extend({updateElement:function(e,n,i,r){var a=this.getMeta(),o=this.getScaleForId(a.xAxisID),s=this.getScaleForId(a.yAxisID),l=o.getBasePixel(),c=e.custom||{},u=this.getDataset(),d=this.chart.options.elements.rectangle;t.extend(e,{_xScale:o,_yScale:s,_datasetIndex:this.index,_index:n,_model:{x:i?l:this.calculateBarX(n,this.index),y:this.calculateBarY(n,this.index),label:this.chart.data.labels[n],datasetLabel:u.label,base:i?l:this.calculateBarBase(this.index,n),height:this.calculateBarHeight(n),backgroundColor:c.backgroundColor?c.backgroundColor:t.getValueAtIndexOrDefault(u.backgroundColor,n,d.backgroundColor),borderSkipped:c.borderSkipped?c.borderSkipped:d.borderSkipped,borderColor:c.borderColor?c.borderColor:t.getValueAtIndexOrDefault(u.borderColor,n,d.borderColor),borderWidth:c.borderWidth?c.borderWidth:t.getValueAtIndexOrDefault(u.borderWidth,n,d.borderWidth)},draw:function(){function e(e){return l[(u+e)%4]}var t=this._chart.ctx,n=this._view,i=n.height/2,r=n.y-i,a=n.y+i,o=n.base-(n.base-n.x),s=n.borderWidth/2;n.borderWidth&&(r+=s,a-=s,o+=s),t.beginPath(),t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth;var l=[[n.base,a],[n.base,r],[o,r],[o,a]],c=["bottom","left","top","right"],u=c.indexOf(n.borderSkipped,0);-1===u&&(u=0),t.moveTo.apply(t,e(0));for(var d=1;4>d;d++)t.lineTo.apply(t,e(d));t.fill(),n.borderWidth&&t.stroke()},inRange:function(e,t){var n=this._view,i=!1;return n&&(i=n.x<n.base?t>=n.y-n.height/2&&t<=n.y+n.height/2&&e>=n.x&&e<=n.base:t>=n.y-n.height/2&&t<=n.y+n.height/2&&e>=n.base&&e<=n.x),i}}),e.pivot()},calculateBarBase:function(e,t){var n=this.getMeta(),i=this.getScaleForId(n.xAxisID),r=0;if(i.options.stacked){if(0>this.chart.data.datasets[e].data[t])for(var a=0;e>a;a++){var o=this.chart.data.datasets[a],s=this.chart.getDatasetMeta(a);s.bar&&s.xAxisID===i.id&&this.chart.isDatasetVisible(a)&&(r+=o.data[t]<0?o.data[t]:0)}else for(var l=0;e>l;l++){var c=this.chart.data.datasets[l],u=this.chart.getDatasetMeta(l);u.bar&&u.xAxisID===i.id&&this.chart.isDatasetVisible(l)&&(r+=c.data[t]>0?c.data[t]:0)}return i.getPixelForValue(r)}return i.getBasePixel()},getRuler:function(e){var t,n=this.getMeta(),i=this.getScaleForId(n.yAxisID),r=this.getBarCount();t="category"===i.options.type?i.getPixelForTick(e+1)-i.getPixelForTick(e):i.width/i.ticks.length;var a=t*i.options.categoryPercentage,o=(t-t*i.options.categoryPercentage)/2,s=a/r;if(i.ticks.length!==this.chart.data.labels.length){s*=i.ticks.length/this.chart.data.labels.length}return{datasetCount:r,tickHeight:t,categoryHeight:a,categorySpacing:o,fullBarHeight:s,barHeight:s*i.options.barPercentage,barSpacing:s-s*i.options.barPercentage}},calculateBarHeight:function(e){var t=this.getScaleForId(this.getMeta().yAxisID),n=this.getRuler(e);return t.options.stacked?n.categoryHeight:n.barHeight},calculateBarX:function(e,t){var n=this.getMeta(),i=this.getScaleForId(n.xAxisID),r=this.getDataset().data[e];if(i.options.stacked){for(var a=0,o=0,s=0;t>s;s++){var l=this.chart.data.datasets[s],c=this.chart.getDatasetMeta(s);c.bar&&c.xAxisID===i.id&&this.chart.isDatasetVisible(s)&&(l.data[e]<0?o+=l.data[e]||0:a+=l.data[e]||0)}return 0>r?i.getPixelForValue(o+r):i.getPixelForValue(a+r)}return i.getPixelForValue(r)},calculateBarY:function(e,t){var n=this.getMeta(),i=this.getScaleForId(n.yAxisID),r=this.getBarIndex(t),a=this.getRuler(e),o=i.getPixelForValue(null,e,t,this.chart.isCombo);return o-=this.chart.isCombo?a.tickHeight/2:0,i.options.stacked?o+a.categoryHeight/2+a.categorySpacing:o+a.barHeight/2+a.categorySpacing+a.barHeight*r+a.barSpacing/2+a.barSpacing*r}})}},{}],16:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.bubble={hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(e,t){return""},label:function(e,t){var n=t.datasets[e.datasetIndex].label||"",i=t.datasets[e.datasetIndex].data[e.index];return n+": ("+i.x+", "+i.y+", "+i.r+")"}}}},e.controllers.bubble=e.DatasetController.extend({dataElementType:e.elements.Point,update:function(e){var n=this.getMeta(),i=n.data;t.each(i,function(t,n){this.updateElement(t,n,e)},this)},updateElement:function(e,n,i){var r=this.getMeta(),a=this.getScaleForId(r.xAxisID),o=this.getScaleForId(r.yAxisID),s=e.custom||{},l=this.getDataset(),c=l.data[n],u=this.chart.options.elements.point;t.extend(e,{_xScale:a,_yScale:o,_datasetIndex:this.index,_index:n,_model:{x:i?a.getPixelForDecimal(.5):a.getPixelForValue(c,n,this.index,this.chart.isCombo),y:i?o.getBasePixel():o.getPixelForValue(c,n,this.index),radius:i?0:s.radius?s.radius:this.getRadius(c),backgroundColor:s.backgroundColor?s.backgroundColor:t.getValueAtIndexOrDefault(l.backgroundColor,n,u.backgroundColor),borderColor:s.borderColor?s.borderColor:t.getValueAtIndexOrDefault(l.borderColor,n,u.borderColor),borderWidth:s.borderWidth?s.borderWidth:t.getValueAtIndexOrDefault(l.borderWidth,n,u.borderWidth),hitRadius:s.hitRadius?s.hitRadius:t.getValueAtIndexOrDefault(l.hitRadius,n,u.hitRadius)}});var d=e._model;d.skip=s.skip?s.skip:isNaN(d.x)||isNaN(d.y),e.pivot()},getRadius:function(e){return e.r||this.chart.options.elements.point.radius},setHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e._index,r=e.custom||{},a=e._model;a.radius=r.hoverRadius?r.hoverRadius:t.getValueAtIndexOrDefault(n.hoverRadius,i,this.chart.options.elements.point.hoverRadius)+this.getRadius(this.getDataset().data[e._index]),a.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:t.getValueAtIndexOrDefault(n.hoverBackgroundColor,i,t.getHoverColor(a.backgroundColor)),a.borderColor=r.hoverBorderColor?r.hoverBorderColor:t.getValueAtIndexOrDefault(n.hoverBorderColor,i,t.getHoverColor(a.borderColor)),a.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:t.getValueAtIndexOrDefault(n.hoverBorderWidth,i,a.borderWidth)},removeHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e._index,r=e.custom||{},a=e._model,o=this.chart.options.elements.point;a.radius=r.radius?r.radius:this.getRadius(n.data[e._index]),a.backgroundColor=r.backgroundColor?r.backgroundColor:t.getValueAtIndexOrDefault(n.backgroundColor,i,o.backgroundColor),a.borderColor=r.borderColor?r.borderColor:t.getValueAtIndexOrDefault(n.borderColor,i,o.borderColor),a.borderWidth=r.borderWidth?r.borderWidth:t.getValueAtIndexOrDefault(n.borderWidth,i,o.borderWidth)}})}},{}],17:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=e.defaults;n.doughnut={animation:{animateRotate:!0,animateScale:!1},aspectRatio:1,hover:{mode:"single"},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,i=n.datasets,r=n.labels;if(i.length)for(var a=0;a<i[0].data.length;++a)t.push('<li><span style="background-color:'+i[0].backgroundColor[a]+'"></span>'),r[a]&&t.push(r[a]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var n=e.data;return n.labels.length&&n.datasets.length?n.labels.map(function(i,r){var a=e.getDatasetMeta(0),o=n.datasets[0],s=a.data[r],l=s.custom||{},c=t.getValueAtIndexOrDefault,u=e.options.elements.arc;return{text:i,fillStyle:l.backgroundColor?l.backgroundColor:c(o.backgroundColor,r,u.backgroundColor),strokeStyle:l.borderColor?l.borderColor:c(o.borderColor,r,u.borderColor),lineWidth:l.borderWidth?l.borderWidth:c(o.borderWidth,r,u.borderWidth),hidden:isNaN(o.data[r])||a.data[r].hidden,index:r}}):[]}},onClick:function(e,t){var n,i,r,a=t.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;i>n;++n)r=o.getDatasetMeta(n),r.data[a].hidden=!r.data[a].hidden;o.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+t.datasets[e.datasetIndex].data[e.index]}}}},n.pie=t.clone(n.doughnut),t.extend(n.pie,{cutoutPercentage:0}),e.controllers.doughnut=e.controllers.pie=e.DatasetController.extend({dataElementType:e.elements.Arc,linkScales:t.noop,getRingIndex:function(e){for(var t=0,n=0;e>n;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var n=this,i=n.chart,r=i.chartArea,a=i.options,o=a.elements.arc,s=r.right-r.left-o.borderWidth,l=r.bottom-r.top-o.borderWidth,c=Math.min(s,l),u={x:0,y:0},d=n.getMeta(),h=a.cutoutPercentage,p=a.circumference;if(p<2*Math.PI){var f=a.rotation%(2*Math.PI);f+=2*Math.PI*(f>=Math.PI?-1:f<-Math.PI?1:0);var g=f+p,m={x:Math.cos(f),y:Math.sin(f)},v={x:Math.cos(g),y:Math.sin(g)},b=0>=f&&g>=0||f<=2*Math.PI&&2*Math.PI<=g,y=f<=.5*Math.PI&&.5*Math.PI<=g||f<=2.5*Math.PI&&2.5*Math.PI<=g,w=f<=-Math.PI&&-Math.PI<=g||f<=Math.PI&&Math.PI<=g,x=f<=.5*-Math.PI&&.5*-Math.PI<=g||f<=1.5*Math.PI&&1.5*Math.PI<=g,_=h/100,k={x:w?-1:Math.min(m.x*(m.x<0?1:_),v.x*(v.x<0?1:_)),y:x?-1:Math.min(m.y*(m.y<0?1:_),v.y*(v.y<0?1:_))},C={x:b?1:Math.max(m.x*(m.x>0?1:_),v.x*(v.x>0?1:_)),y:y?1:Math.max(m.y*(m.y>0?1:_),v.y*(v.y>0?1:_))},S={width:.5*(C.x-k.x),height:.5*(C.y-k.y)};c=Math.min(s/S.width,l/S.height),u={x:-.5*(C.x+k.x),y:-.5*(C.y+k.y)}}i.outerRadius=Math.max(c/2,0),i.innerRadius=Math.max(h?i.outerRadius/100*h:1,0),i.radiusLength=(i.outerRadius-i.innerRadius)/i.getVisibleDatasetCount(),i.offsetX=u.x*i.outerRadius,i.offsetY=u.y*i.outerRadius,d.total=n.calculateTotal(),n.outerRadius=i.outerRadius-i.radiusLength*n.getRingIndex(n.index),n.innerRadius=n.outerRadius-i.radiusLength,t.each(d.data,function(t,i){n.updateElement(t,i,e)})},updateElement:function(e,n,i){var r=this,a=r.chart,o=a.chartArea,s=a.options,l=s.animation,c=s.elements.arc,u=(o.left+o.right)/2,d=(o.top+o.bottom)/2,h=s.rotation,p=s.rotation,f=r.getDataset(),g=i&&l.animateRotate?0:e.hidden?0:r.calculateCircumference(f.data[n])*(s.circumference/(2*Math.PI)),m=i&&l.animateScale?0:r.innerRadius,v=i&&l.animateScale?0:r.outerRadius,b=e.custom||{},y=t.getValueAtIndexOrDefault;t.extend(e,{_datasetIndex:r.index,_index:n,_model:{x:u+a.offsetX,y:d+a.offsetY,startAngle:h,endAngle:p,circumference:g,outerRadius:v,innerRadius:m,label:y(f.label,n,a.data.labels[n])}});var w=e._model;w.backgroundColor=b.backgroundColor?b.backgroundColor:y(f.backgroundColor,n,c.backgroundColor),w.hoverBackgroundColor=b.hoverBackgroundColor?b.hoverBackgroundColor:y(f.hoverBackgroundColor,n,c.hoverBackgroundColor),w.borderWidth=b.borderWidth?b.borderWidth:y(f.borderWidth,n,c.borderWidth),w.borderColor=b.borderColor?b.borderColor:y(f.borderColor,n,c.borderColor),i&&l.animateRotate||(w.startAngle=0===n?s.rotation:r.getMeta().data[n-1]._model.endAngle,w.endAngle=w.startAngle+w.circumference),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},calculateTotal:function(){var e,n=this.getDataset(),i=this.getMeta(),r=0;return t.each(i.data,function(t,i){e=n.data[i],isNaN(e)||t.hidden||(r+=Math.abs(e))}),r},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?2*Math.PI*(e/t):0}})}},{}],18:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.line={showLines:!0,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}},e.controllers.line=e.DatasetController.extend({datasetElementType:e.elements.Line,dataElementType:e.elements.Point,addElementAndReset:function(t){var n=this,i=n.chart.options;e.DatasetController.prototype.addElementAndReset.call(n,t),i.showLines&&0!==i.elements.line.tension&&n.updateBezierControlPoints()},update:function(e){var n,i,r,a,o=this,s=o.getMeta(),l=s.dataset,c=s.data||[],u=o.chart.options,d=u.elements.line,h=o.getScaleForId(s.yAxisID);for(u.showLines&&(r=o.getDataset(),a=l.custom||{},void 0!==r.tension&&void 0===r.lineTension&&(r.lineTension=r.tension),l._scale=h,l._datasetIndex=o.index,l._children=c,l._model={tension:a.tension?a.tension:t.getValueOrDefault(r.lineTension,d.tension),backgroundColor:a.backgroundColor?a.backgroundColor:r.backgroundColor||d.backgroundColor,borderWidth:a.borderWidth?a.borderWidth:r.borderWidth||d.borderWidth,borderColor:a.borderColor?a.borderColor:r.borderColor||d.borderColor,borderCapStyle:a.borderCapStyle?a.borderCapStyle:r.borderCapStyle||d.borderCapStyle,borderDash:a.borderDash?a.borderDash:r.borderDash||d.borderDash,borderDashOffset:a.borderDashOffset?a.borderDashOffset:r.borderDashOffset||d.borderDashOffset,borderJoinStyle:a.borderJoinStyle?a.borderJoinStyle:r.borderJoinStyle||d.borderJoinStyle,fill:a.fill?a.fill:void 0!==r.fill?r.fill:d.fill,scaleTop:h.top,scaleBottom:h.bottom,scaleZero:h.getBasePixel()},l.pivot()),n=0,i=c.length;i>n;++n)o.updateElement(c[n],n,e);u.showLines&&0!==d.tension&&o.updateBezierControlPoints()},getPointBackgroundColor:function(e,n){var i=this.chart.options.elements.point.backgroundColor,r=this.getDataset(),a=e.custom||{};return a.backgroundColor?i=a.backgroundColor:r.pointBackgroundColor?i=t.getValueAtIndexOrDefault(r.pointBackgroundColor,n,i):r.backgroundColor&&(i=r.backgroundColor),i},getPointBorderColor:function(e,n){var i=this.chart.options.elements.point.borderColor,r=this.getDataset(),a=e.custom||{};return a.borderColor?i=a.borderColor:r.pointBorderColor?i=t.getValueAtIndexOrDefault(r.pointBorderColor,n,i):r.borderColor&&(i=r.borderColor),i},getPointBorderWidth:function(e,n){var i=this.chart.options.elements.point.borderWidth,r=this.getDataset(),a=e.custom||{};return a.borderWidth?i=a.borderWidth:r.pointBorderWidth?i=t.getValueAtIndexOrDefault(r.pointBorderWidth,n,i):r.borderWidth&&(i=r.borderWidth),i},updateElement:function(e,n,i){var r,a,o=this,s=o.getMeta(),l=e.custom||{},c=o.getDataset(),u=o.index,d=c.data[n],h=o.getScaleForId(s.yAxisID),p=o.getScaleForId(s.xAxisID),f=o.chart.options.elements.point;void 0!==c.radius&&void 0===c.pointRadius&&(c.pointRadius=c.radius),void 0!==c.hitRadius&&void 0===c.pointHitRadius&&(c.pointHitRadius=c.hitRadius),r=p.getPixelForValue(d,n,u,o.chart.isCombo),a=i?h.getBasePixel():o.calculatePointY(d,n,u,o.chart.isCombo),e._xScale=p,e._yScale=h,e._datasetIndex=u,e._index=n,e._model={x:r,y:a,skip:l.skip||isNaN(r)||isNaN(a),radius:l.radius||t.getValueAtIndexOrDefault(c.pointRadius,n,f.radius),pointStyle:l.pointStyle||t.getValueAtIndexOrDefault(c.pointStyle,n,f.pointStyle),backgroundColor:o.getPointBackgroundColor(e,n),borderColor:o.getPointBorderColor(e,n),borderWidth:o.getPointBorderWidth(e,n),tension:s.dataset._model?s.dataset._model.tension:0,hitRadius:l.hitRadius||t.getValueAtIndexOrDefault(c.pointHitRadius,n,f.hitRadius)}},calculatePointY:function(e,t,n,i){var r,a,o,s=this,l=s.chart,c=s.getMeta(),u=s.getScaleForId(c.yAxisID),d=0,h=0;if(u.options.stacked){for(r=0;n>r;r++)a=l.data.datasets[r],o=l.getDatasetMeta(r),"line"===o.type&&l.isDatasetVisible(r)&&(a.data[t]<0?h+=a.data[t]||0:d+=a.data[t]||0);return 0>e?u.getPixelForValue(h+e):u.getPixelForValue(d+e)}return u.getPixelForValue(e)},updateBezierControlPoints:function(){var e,n,i,r,a,o=this.getMeta(),s=this.chart.chartArea,l=o.data||[];for(e=0,n=l.length;n>e;++e)i=l[e],r=i._model,a=t.splineCurve(t.previousItem(l,e)._model,r,t.nextItem(l,e)._model,o.dataset._model.tension),r.controlPointPreviousX=Math.max(Math.min(a.previous.x,s.right),s.left),r.controlPointPreviousY=Math.max(Math.min(a.previous.y,s.bottom),s.top),
r.controlPointNextX=Math.max(Math.min(a.next.x,s.right),s.left),r.controlPointNextY=Math.max(Math.min(a.next.y,s.bottom),s.top),i.pivot()},draw:function(e){var t,n,i=this.getMeta(),r=i.data||[],a=e||1;for(t=0,n=r.length;n>t;++t)r[t].transition(a);for(this.chart.options.showLines&&i.dataset.transition(a).draw(),t=0,n=r.length;n>t;++t)r[t].draw()},setHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e._index,r=e.custom||{},a=e._model;a.radius=r.hoverRadius||t.getValueAtIndexOrDefault(n.pointHoverRadius,i,this.chart.options.elements.point.hoverRadius),a.backgroundColor=r.hoverBackgroundColor||t.getValueAtIndexOrDefault(n.pointHoverBackgroundColor,i,t.getHoverColor(a.backgroundColor)),a.borderColor=r.hoverBorderColor||t.getValueAtIndexOrDefault(n.pointHoverBorderColor,i,t.getHoverColor(a.borderColor)),a.borderWidth=r.hoverBorderWidth||t.getValueAtIndexOrDefault(n.pointHoverBorderWidth,i,a.borderWidth)},removeHoverStyle:function(e){var n=this,i=n.chart.data.datasets[e._datasetIndex],r=e._index,a=e.custom||{},o=e._model;void 0!==i.radius&&void 0===i.pointRadius&&(i.pointRadius=i.radius),o.radius=a.radius||t.getValueAtIndexOrDefault(i.pointRadius,r,n.chart.options.elements.point.radius),o.backgroundColor=n.getPointBackgroundColor(e,r),o.borderColor=n.getPointBorderColor(e,r),o.borderWidth=n.getPointBorderWidth(e,r)}})}},{}],19:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.polarArea={scale:{type:"radialLinear",lineArc:!0},animation:{animateRotate:!0,animateScale:!0},aspectRatio:1,legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,i=n.datasets,r=n.labels;if(i.length)for(var a=0;a<i[0].data.length;++a)t.push('<li><span style="background-color:'+i[0].backgroundColor[a]+'">'),r[a]&&t.push(r[a]),t.push("</span></li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var n=e.data;return n.labels.length&&n.datasets.length?n.labels.map(function(i,r){var a=e.getDatasetMeta(0),o=n.datasets[0],s=a.data[r],l=s.custom||{},c=t.getValueAtIndexOrDefault,u=e.options.elements.arc;return{text:i,fillStyle:l.backgroundColor?l.backgroundColor:c(o.backgroundColor,r,u.backgroundColor),strokeStyle:l.borderColor?l.borderColor:c(o.borderColor,r,u.borderColor),lineWidth:l.borderWidth?l.borderWidth:c(o.borderWidth,r,u.borderWidth),hidden:isNaN(o.data[r])||a.data[r].hidden,index:r}}):[]}},onClick:function(e,t){var n,i,r,a=t.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;i>n;++n)r=o.getDatasetMeta(n),r.data[a].hidden=!r.data[a].hidden;o.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}},e.controllers.polarArea=e.DatasetController.extend({dataElementType:e.elements.Arc,linkScales:t.noop,update:function(e){var n=this,i=n.chart,r=i.chartArea,a=this.getMeta(),o=i.options,s=o.elements.arc,l=Math.min(r.right-r.left,r.bottom-r.top);i.outerRadius=Math.max((l-s.borderWidth/2)/2,0),i.innerRadius=Math.max(o.cutoutPercentage?i.outerRadius/100*o.cutoutPercentage:1,0),i.radiusLength=(i.outerRadius-i.innerRadius)/i.getVisibleDatasetCount(),n.outerRadius=i.outerRadius-i.radiusLength*n.index,n.innerRadius=n.outerRadius-i.radiusLength,a.count=n.countVisibleElements(),t.each(a.data,function(t,i){n.updateElement(t,i,e)})},updateElement:function(e,n,i){for(var r=this,a=r.chart,o=a.chartArea,s=r.getDataset(),l=a.options,c=l.animation,u=l.elements.arc,d=e.custom||{},h=a.scale,p=t.getValueAtIndexOrDefault,f=a.data.labels,g=r.calculateCircumference(s.data[n]),m=(o.left+o.right)/2,v=(o.top+o.bottom)/2,b=0,y=r.getMeta(),w=0;n>w;++w)isNaN(s.data[w])||y.data[w].hidden||++b;var x=e.hidden?0:h.getDistanceFromCenterForValue(s.data[n]),_=-.5*Math.PI+g*b,k=_+(e.hidden?0:g),C={x:m,y:v,innerRadius:0,outerRadius:c.animateScale?0:h.getDistanceFromCenterForValue(s.data[n]),startAngle:c.animateRotate?-.5*Math.PI:_,endAngle:c.animateRotate?-.5*Math.PI:k,backgroundColor:d.backgroundColor?d.backgroundColor:p(s.backgroundColor,n,u.backgroundColor),borderWidth:d.borderWidth?d.borderWidth:p(s.borderWidth,n,u.borderWidth),borderColor:d.borderColor?d.borderColor:p(s.borderColor,n,u.borderColor),label:p(f,n,f[n])};t.extend(e,{_datasetIndex:r.index,_index:n,_scale:h,_model:i?C:{x:m,y:v,innerRadius:0,outerRadius:x,startAngle:_,endAngle:k,backgroundColor:d.backgroundColor?d.backgroundColor:p(s.backgroundColor,n,u.backgroundColor),borderWidth:d.borderWidth?d.borderWidth:p(s.borderWidth,n,u.borderWidth),borderColor:d.borderColor?d.borderColor:p(s.borderColor,n,u.borderColor),label:p(f,n,f[n])}}),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},countVisibleElements:function(){var e=this.getDataset(),n=this.getMeta(),i=0;return t.each(n.data,function(t,n){isNaN(e.data[n])||t.hidden||i++}),i},calculateCircumference:function(e){var t=this.getMeta().count;return t>0&&!isNaN(e)?2*Math.PI/t:0}})}},{}],20:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.radar={scale:{type:"radialLinear"},elements:{line:{tension:0}}},e.controllers.radar=e.DatasetController.extend({datasetElementType:e.elements.Line,dataElementType:e.elements.Point,linkScales:t.noop,addElementAndReset:function(t){e.DatasetController.prototype.addElementAndReset.call(this,t),this.updateBezierControlPoints()},update:function(e){var n=this.getMeta(),i=n.dataset,r=n.data,a=i.custom||{},o=this.getDataset(),s=this.chart.options.elements.line,l=this.chart.scale;void 0!==o.tension&&void 0===o.lineTension&&(o.lineTension=o.tension),t.extend(n.dataset,{_datasetIndex:this.index,_children:r,_loop:!0,_model:{tension:a.tension?a.tension:t.getValueOrDefault(o.lineTension,s.tension),backgroundColor:a.backgroundColor?a.backgroundColor:o.backgroundColor||s.backgroundColor,borderWidth:a.borderWidth?a.borderWidth:o.borderWidth||s.borderWidth,borderColor:a.borderColor?a.borderColor:o.borderColor||s.borderColor,fill:a.fill?a.fill:void 0!==o.fill?o.fill:s.fill,borderCapStyle:a.borderCapStyle?a.borderCapStyle:o.borderCapStyle||s.borderCapStyle,borderDash:a.borderDash?a.borderDash:o.borderDash||s.borderDash,borderDashOffset:a.borderDashOffset?a.borderDashOffset:o.borderDashOffset||s.borderDashOffset,borderJoinStyle:a.borderJoinStyle?a.borderJoinStyle:o.borderJoinStyle||s.borderJoinStyle,scaleTop:l.top,scaleBottom:l.bottom,scaleZero:l.getBasePosition()}}),n.dataset.pivot(),t.each(r,function(t,n){this.updateElement(t,n,e)},this),this.updateBezierControlPoints()},updateElement:function(e,n,i){var r=e.custom||{},a=this.getDataset(),o=this.chart.scale,s=this.chart.options.elements.point,l=o.getPointPositionForValue(n,a.data[n]);t.extend(e,{_datasetIndex:this.index,_index:n,_scale:o,_model:{x:i?o.xCenter:l.x,y:i?o.yCenter:l.y,tension:r.tension?r.tension:t.getValueOrDefault(a.tension,this.chart.options.elements.line.tension),radius:r.radius?r.radius:t.getValueAtIndexOrDefault(a.pointRadius,n,s.radius),backgroundColor:r.backgroundColor?r.backgroundColor:t.getValueAtIndexOrDefault(a.pointBackgroundColor,n,s.backgroundColor),borderColor:r.borderColor?r.borderColor:t.getValueAtIndexOrDefault(a.pointBorderColor,n,s.borderColor),borderWidth:r.borderWidth?r.borderWidth:t.getValueAtIndexOrDefault(a.pointBorderWidth,n,s.borderWidth),pointStyle:r.pointStyle?r.pointStyle:t.getValueAtIndexOrDefault(a.pointStyle,n,s.pointStyle),hitRadius:r.hitRadius?r.hitRadius:t.getValueAtIndexOrDefault(a.hitRadius,n,s.hitRadius)}}),e._model.skip=r.skip?r.skip:isNaN(e._model.x)||isNaN(e._model.y)},updateBezierControlPoints:function(){var e=this.chart.chartArea,n=this.getMeta();t.each(n.data,function(i,r){var a=i._model,o=t.splineCurve(t.previousItem(n.data,r,!0)._model,a,t.nextItem(n.data,r,!0)._model,a.tension);a.controlPointPreviousX=Math.max(Math.min(o.previous.x,e.right),e.left),a.controlPointPreviousY=Math.max(Math.min(o.previous.y,e.bottom),e.top),a.controlPointNextX=Math.max(Math.min(o.next.x,e.right),e.left),a.controlPointNextY=Math.max(Math.min(o.next.y,e.bottom),e.top),i.pivot()},this)},draw:function(e){var n=this.getMeta(),i=e||1;t.each(n.data,function(e,t){e.transition(i)}),n.dataset.transition(i).draw(),t.each(n.data,function(e){e.draw()})},setHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e.custom||{},r=e._index,a=e._model;a.radius=i.hoverRadius?i.hoverRadius:t.getValueAtIndexOrDefault(n.pointHoverRadius,r,this.chart.options.elements.point.hoverRadius),a.backgroundColor=i.hoverBackgroundColor?i.hoverBackgroundColor:t.getValueAtIndexOrDefault(n.pointHoverBackgroundColor,r,t.getHoverColor(a.backgroundColor)),a.borderColor=i.hoverBorderColor?i.hoverBorderColor:t.getValueAtIndexOrDefault(n.pointHoverBorderColor,r,t.getHoverColor(a.borderColor)),a.borderWidth=i.hoverBorderWidth?i.hoverBorderWidth:t.getValueAtIndexOrDefault(n.pointHoverBorderWidth,r,a.borderWidth)},removeHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e.custom||{},r=e._index,a=e._model,o=this.chart.options.elements.point;a.radius=i.radius?i.radius:t.getValueAtIndexOrDefault(n.radius,r,o.radius),a.backgroundColor=i.backgroundColor?i.backgroundColor:t.getValueAtIndexOrDefault(n.pointBackgroundColor,r,o.backgroundColor),a.borderColor=i.borderColor?i.borderColor:t.getValueAtIndexOrDefault(n.pointBorderColor,r,o.borderColor),a.borderWidth=i.borderWidth?i.borderWidth:t.getValueAtIndexOrDefault(n.pointBorderWidth,r,o.borderWidth)}})}},{}],21:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.global.animation={duration:1e3,easing:"easeOutQuart",onProgress:t.noop,onComplete:t.noop},e.Animation=e.Element.extend({currentStep:null,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),e.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(e,t,n,i){i||(e.animating=!0);for(var r=0;r<this.animations.length;++r)if(this.animations[r].chartInstance===e)return void(this.animations[r].animationObject=t);this.animations.push({chartInstance:e,animationObject:t}),1===this.animations.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var n=t.findIndex(this.animations,function(t){return t.chartInstance===e});-1!==n&&(this.animations.splice(n,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=t.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){var e=Date.now(),t=0;this.dropFrames>1&&(t=Math.floor(this.dropFrames),this.dropFrames=this.dropFrames%1);for(var n=0;n<this.animations.length;)null===this.animations[n].animationObject.currentStep&&(this.animations[n].animationObject.currentStep=0),this.animations[n].animationObject.currentStep+=1+t,this.animations[n].animationObject.currentStep>this.animations[n].animationObject.numSteps&&(this.animations[n].animationObject.currentStep=this.animations[n].animationObject.numSteps),this.animations[n].animationObject.render(this.animations[n].chartInstance,this.animations[n].animationObject),this.animations[n].animationObject.onAnimationProgress&&this.animations[n].animationObject.onAnimationProgress.call&&this.animations[n].animationObject.onAnimationProgress.call(this.animations[n].chartInstance,this.animations[n]),this.animations[n].animationObject.currentStep===this.animations[n].animationObject.numSteps?(this.animations[n].animationObject.onAnimationComplete&&this.animations[n].animationObject.onAnimationComplete.call&&this.animations[n].animationObject.onAnimationComplete.call(this.animations[n].chartInstance,this.animations[n]),this.animations[n].chartInstance.animating=!1,this.animations.splice(n,1)):++n;var i=Date.now(),r=(i-e)/this.frameDuration;this.dropFrames+=r,this.animations.length>0&&this.requestAnimationFrame()}}}},{}],22:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.types={},e.instances={},e.controllers={},e.Controller=function(n){return this.chart=n,this.config=n.config,this.options=this.config.options=t.configMerge(e.defaults.global,e.defaults[this.config.type],this.config.options||{}),this.id=t.uid(),Object.defineProperty(this,"data",{get:function(){return this.config.data}}),e.instances[this.id]=this,this.options.responsive&&this.resize(!0),this.initialize(),this},t.extend(e.Controller.prototype,{initialize:function(){return e.pluginService.notifyPlugins("beforeInit",[this]),this.bindEvents(),this.ensureScalesHaveIDs(),this.buildOrUpdateControllers(),this.buildScales(),this.buildSurroundingItems(),this.updateLayout(),this.resetElements(),this.initToolTip(),this.update(),e.pluginService.notifyPlugins("afterInit",[this]),this},clear:function(){return t.clear(this.chart),this},stop:function(){return e.animationService.cancelAnimation(this),this},resize:function(e){var n=this.chart.canvas,i=t.getMaximumWidth(this.chart.canvas),r=this.options.maintainAspectRatio&&!1===isNaN(this.chart.aspectRatio)&&isFinite(this.chart.aspectRatio)&&0!==this.chart.aspectRatio?i/this.chart.aspectRatio:t.getMaximumHeight(this.chart.canvas);return this.chart.width!==i||this.chart.height!==r?(n.width=this.chart.width=i,n.height=this.chart.height=r,t.retinaScale(this.chart),e||(this.stop(),this.update(this.options.responsiveAnimationDuration)),this):this},ensureScalesHaveIDs:function(){var e=this.options,n=e.scales||{},i=e.scale;t.each(n.xAxes,function(e,t){e.id=e.id||"x-axis-"+t}),t.each(n.yAxes,function(e,t){e.id=e.id||"y-axis-"+t}),i&&(i.id=i.id||"scale")},buildScales:function(){var n=this,i=n.options,r=n.scales={},a=[];i.scales&&(a=a.concat((i.scales.xAxes||[]).map(function(e){return{options:e,dtype:"category"}}),(i.scales.yAxes||[]).map(function(e){return{options:e,dtype:"linear"}}))),i.scale&&a.push({options:i.scale,dtype:"radialLinear",isDefault:!0}),t.each(a,function(i,a){var o=i.options,s=t.getValueOrDefault(o.type,i.dtype),l=e.scaleService.getScaleConstructor(s);if(l){var c=new l({id:o.id,options:o,ctx:n.chart.ctx,chart:n});r[c.id]=c,i.isDefault&&(n.scale=c)}}),e.scaleService.addScalesToLayout(this)},buildSurroundingItems:function(){this.options.title&&(this.titleBlock=new e.Title({ctx:this.chart.ctx,options:this.options.title,chart:this}),e.layoutService.addBox(this,this.titleBlock)),this.options.legend&&(this.legend=new e.Legend({ctx:this.chart.ctx,options:this.options.legend,chart:this}),e.layoutService.addBox(this,this.legend))},updateLayout:function(){e.layoutService.update(this,this.chart.width,this.chart.height)},buildOrUpdateControllers:function(){var n=[],i=[];if(t.each(this.data.datasets,function(t,r){var a=this.getDatasetMeta(r);a.type||(a.type=t.type||this.config.type),n.push(a.type),a.controller?a.controller.updateIndex(r):(a.controller=new e.controllers[a.type](this,r),i.push(a.controller))},this),n.length>1)for(var r=1;r<n.length;r++)if(n[r]!==n[r-1]){this.isCombo=!0;break}return i},resetElements:function(){t.each(this.data.datasets,function(e,t){this.getDatasetMeta(t).controller.reset()},this)},update:function(n,i){e.pluginService.notifyPlugins("beforeUpdate",[this]),this.tooltip._data=this.data;var r=this.buildOrUpdateControllers();t.each(this.data.datasets,function(e,t){this.getDatasetMeta(t).controller.buildOrUpdateElements()},this),e.layoutService.update(this,this.chart.width,this.chart.height),e.pluginService.notifyPlugins("afterScaleUpdate",[this]),t.each(r,function(e){e.reset()}),t.each(this.data.datasets,function(e,t){this.getDatasetMeta(t).controller.update()},this),e.pluginService.notifyPlugins("afterUpdate",[this]),this.render(n,i)},render:function(n,i){e.pluginService.notifyPlugins("beforeRender",[this]);var r=this.options.animation;if(r&&(void 0!==n&&0!==n||void 0===n&&0!==r.duration)){var a=new e.Animation;a.numSteps=(n||r.duration)/16.66,a.easing=r.easing,a.render=function(e,n){var i=t.easingEffects[n.easing],r=n.currentStep/n.numSteps,a=i(r);e.draw(a,r,n.currentStep)},a.onAnimationProgress=r.onProgress,a.onAnimationComplete=r.onComplete,e.animationService.addAnimation(this,a,n,i)}else this.draw(),r&&r.onComplete&&r.onComplete.call&&r.onComplete.call(this);return this},draw:function(n){var i=n||1;this.clear(),e.pluginService.notifyPlugins("beforeDraw",[this,i]),t.each(this.boxes,function(e){e.draw(this.chartArea)},this),this.scale&&this.scale.draw();var r=this.chart.ctx;r.save(),r.beginPath(),r.rect(this.chartArea.left,this.chartArea.top,this.chartArea.right-this.chartArea.left,this.chartArea.bottom-this.chartArea.top),r.clip(),t.each(this.data.datasets,function(e,t){this.isDatasetVisible(t)&&this.getDatasetMeta(t).controller.draw(n)},this,!0),r.restore(),this.tooltip.transition(i).draw(),e.pluginService.notifyPlugins("afterDraw",[this,i])},getElementAtEvent:function(e){var n=t.getRelativePosition(e,this.chart),i=[];return t.each(this.data.datasets,function(e,r){if(this.isDatasetVisible(r)){var a=this.getDatasetMeta(r);t.each(a.data,function(e,t){return e.inRange(n.x,n.y)?(i.push(e),i):void 0})}},this),i},getElementsAtEvent:function(e){var n=t.getRelativePosition(e,this.chart),i=[],r=function(){if(this.data.datasets)for(var e=0;e<this.data.datasets.length;e++){var t=this.getDatasetMeta(e);if(this.isDatasetVisible(e))for(var i=0;i<t.data.length;i++)if(t.data[i].inRange(n.x,n.y))return t.data[i]}}.call(this);return r?(t.each(this.data.datasets,function(e,t){if(this.isDatasetVisible(t)){var n=this.getDatasetMeta(t);i.push(n.data[r._index])}},this),i):i},getElementsAtEventForMode:function(e,t){var n=this;switch(t){case"single":return n.getElementAtEvent(e);case"label":return n.getElementsAtEvent(e);case"dataset":return n.getDatasetAtEvent(e);default:return e}},getDatasetAtEvent:function(e){var t=this.getElementAtEvent(e);return t.length>0&&(t=this.getDatasetMeta(t[0]._datasetIndex).data),t},getDatasetMeta:function(e){var t=this.data.datasets[e];t._meta||(t._meta={});var n=t._meta[this.id];return n||(n=t._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),n},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;n>t;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroy:function(){this.clear(),t.unbindEvents(this,this.events),t.removeResizeListener(this.chart.canvas.parentNode);var n=this.chart.canvas;n.width=this.chart.width,n.height=this.chart.height,void 0!==this.chart.originalDevicePixelRatio&&this.chart.ctx.scale(1/this.chart.originalDevicePixelRatio,1/this.chart.originalDevicePixelRatio),n.style.width=this.chart.originalCanvasStyleWidth,n.style.height=this.chart.originalCanvasStyleHeight,e.pluginService.notifyPlugins("destroy",[this]),delete e.instances[this.id]},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)},initToolTip:function(){this.tooltip=new e.Tooltip({_chart:this.chart,_chartInstance:this,_data:this.data,_options:this.options},this)},bindEvents:function(){t.bindEvents(this,this.options.events,function(e){this.eventHandler(e)})},updateHoverStyle:function(e,t,n){var i,r,a,o=n?"setHoverStyle":"removeHoverStyle";switch(t){case"single":e=[e[0]];break;case"label":case"dataset":break;default:return}for(r=0,a=e.length;a>r;++r)(i=e[r])&&this.getDatasetMeta(i._datasetIndex).controller[o](i)},eventHandler:function(e){var n=this,i=n.tooltip,r=n.options||{},a=r.hover,o=r.tooltips;return n.lastActive=n.lastActive||[],n.lastTooltipActive=n.lastTooltipActive||[],"mouseout"===e.type?(n.active=[],n.tooltipActive=[]):(n.active=n.getElementsAtEventForMode(e,a.mode),n.tooltipActive=n.getElementsAtEventForMode(e,o.mode)),a.onHover&&a.onHover.call(n,n.active),("mouseup"===e.type||"click"===e.type)&&(r.onClick&&r.onClick.call(n,e,n.active),n.legend&&n.legend.handleEvent&&n.legend.handleEvent(e)),n.lastActive.length&&n.updateHoverStyle(n.lastActive,a.mode,!1),n.active.length&&a.mode&&n.updateHoverStyle(n.active,a.mode,!0),(o.enabled||o.custom)&&(i.initialize(),i._active=n.tooltipActive,i.update(!0)),i.pivot(),n.animating||t.arrayEquals(n.active,n.lastActive)&&t.arrayEquals(n.tooltipActive,n.lastTooltipActive)||(n.stop(),(o.enabled||o.custom)&&i.update(!0),n.render(a.animationDuration,!0)),n.lastActive=n.active,n.lastTooltipActive=n.tooltipActive,n}})}},{}],23:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=t.noop;e.DatasetController=function(e,t){this.initialize.call(this,e,t)},t.extend(e.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(e,t){this.chart=e,this.index=t,this.linkScales(),this.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){var e=this.getMeta(),t=this.getDataset();null===e.xAxisID&&(e.xAxisID=t.xAxisID||this.chart.options.scales.xAxes[0].id),null===e.yAxisID&&(e.yAxisID=t.yAxisID||this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},reset:function(){this.update(!0)},createMetaDataset:function(){var e=this,t=e.datasetElementType;return t&&new t({_chart:e.chart.chart,_datasetIndex:e.index})},createMetaData:function(e){var t=this,n=t.dataElementType;return n&&new n({_chart:t.chart.chart,_datasetIndex:t.index,_index:e})},addElements:function(){var e,t,n=this,i=n.getMeta(),r=n.getDataset().data||[],a=i.data;for(e=0,t=r.length;t>e;++e)a[e]=a[e]||n.createMetaData(i,e);i.dataset=i.dataset||n.createMetaDataset()},addElementAndReset:function(e){var t=this,n=t.createMetaData(e);t.getMeta().data.splice(e,0,n),t.updateElement(n,e,!0)},buildOrUpdateElements:function(){var e=this.getMeta(),t=e.data,n=this.getDataset().data.length,i=t.length;if(i>n)t.splice(n,i-n);else if(n>i)for(var r=i;n>r;++r)this.addElementAndReset(r)},update:n,draw:function(e){var n=e||1;t.each(this.getMeta().data,function(e,t){e.transition(n).draw()})},removeHoverStyle:function(e,n){var i=this.chart.data.datasets[e._datasetIndex],r=e._index,a=e.custom||{},o=t.getValueAtIndexOrDefault,s=(t.color,e._model);s.backgroundColor=a.backgroundColor?a.backgroundColor:o(i.backgroundColor,r,n.backgroundColor),s.borderColor=a.borderColor?a.borderColor:o(i.borderColor,r,n.borderColor),s.borderWidth=a.borderWidth?a.borderWidth:o(i.borderWidth,r,n.borderWidth)},setHoverStyle:function(e){var n=this.chart.data.datasets[e._datasetIndex],i=e._index,r=e.custom||{},a=t.getValueAtIndexOrDefault,o=(t.color,t.getHoverColor),s=e._model;s.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:a(n.hoverBackgroundColor,i,o(s.backgroundColor)),s.borderColor=r.hoverBorderColor?r.hoverBorderColor:a(n.hoverBorderColor,i,o(s.borderColor)),s.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:a(n.hoverBorderWidth,i,s.borderWidth)}}),e.DatasetController.extend=t.inherits}},{}],24:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.elements={},e.Element=function(e){t.extend(this,e),this.initialize.apply(this,arguments)},t.extend(e.Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){return this._view||(this._view=t.clone(this._model)),this._start=t.clone(this._view),this},transition:function(e){return this._view||(this._view=t.clone(this._model)),1===e?(this._view=this._model,this._start=null,this):(this._start||this.pivot(),t.each(this._model,function(n,i){if("_"===i[0]);else if(this._view.hasOwnProperty(i))if(n===this._view[i]);else if("string"==typeof n)try{var r=t.color(this._model[i]).mix(t.color(this._start[i]),e);this._view[i]=r.rgbString()}catch(e){this._view[i]=n}else if("number"==typeof n){var a=void 0!==this._start[i]&&!1===isNaN(this._start[i])?this._start[i]:0;this._view[i]=(this._model[i]-a)*e+a}else this._view[i]=n;else"number"!=typeof n||isNaN(this._view[i])?this._view[i]=n:this._view[i]=n*e},this),this)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return t.isNumber(this._model.x)&&t.isNumber(this._model.y)}}),e.Element.extend=t.inherits}},{}],25:[function(e,t,n){"use strict";var i=e("chartjs-color");t.exports=function(e){function t(e,t,n){var i;return"string"==typeof e?(i=parseInt(e,10),-1!=e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}function n(e){return void 0!==e&&null!==e&&"none"!==e}function r(e,i,r){var a=document.defaultView,o=e.parentNode,s=a.getComputedStyle(e)[i],l=a.getComputedStyle(o)[i],c=n(s),u=n(l),d=Number.POSITIVE_INFINITY;return c||u?Math.min(c?t(s,e,r):d,u?t(l,o,r):d):"none"}var a=e.helpers={};a.each=function(e,t,n,i){var r,o;if(a.isArray(e))if(o=e.length,i)for(r=o-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;o>r;r++)t.call(n,e[r],r);else if("object"==typeof e){var s=Object.keys(e);for(o=s.length,r=0;o>r;r++)t.call(n,e[s[r]],s[r])}},a.clone=function(e){var t={};return a.each(e,function(e,n){a.isArray(e)?t[n]=e.slice(0):t[n]="object"==typeof e&&null!==e?a.clone(e):e}),t},a.extend=function(e){for(var t=arguments.length,n=[],i=1;t>i;i++)n.push(arguments[i]);return a.each(n,function(t){a.each(t,function(t,n){e[n]=t})}),e},a.configMerge=function(t){var n=a.clone(t);return a.each(Array.prototype.slice.call(arguments,1),function(t){a.each(t,function(t,i){if("scales"===i)n[i]=a.scaleMerge(n.hasOwnProperty(i)?n[i]:{},t);else if("scale"===i)n[i]=a.configMerge(n.hasOwnProperty(i)?n[i]:{},e.scaleService.getScaleDefaults(t.type),t);else if(n.hasOwnProperty(i)&&a.isArray(n[i])&&a.isArray(t)){var r=n[i];a.each(t,function(e,t){t<r.length?"object"==typeof r[t]&&null!==r[t]&&"object"==typeof e&&null!==e?r[t]=a.configMerge(r[t],e):r[t]=e:r.push(e)})}else n.hasOwnProperty(i)&&"object"==typeof n[i]&&null!==n[i]&&"object"==typeof t?n[i]=a.configMerge(n[i],t):n[i]=t})}),n},a.extendDeep=function(e){function t(e){return a.each(arguments,function(n){n!==e&&a.each(n,function(n,i){e[i]&&e[i].constructor&&e[i].constructor===Object?t(e[i],n):e[i]=n})}),e}return t.apply(this,arguments)},a.scaleMerge=function(t,n){var i=a.clone(t);return a.each(n,function(t,n){"xAxes"===n||"yAxes"===n?i.hasOwnProperty(n)?a.each(t,function(t,r){var o=a.getValueOrDefault(t.type,"xAxes"===n?"category":"linear"),s=e.scaleService.getScaleDefaults(o);r>=i[n].length||!i[n][r].type?i[n].push(a.configMerge(s,t)):t.type&&t.type!==i[n][r].type?i[n][r]=a.configMerge(i[n][r],s,t):i[n][r]=a.configMerge(i[n][r],t)}):(i[n]=[],a.each(t,function(t){var r=a.getValueOrDefault(t.type,"xAxes"===n?"category":"linear");i[n].push(a.configMerge(e.scaleService.getScaleDefaults(r),t))})):i.hasOwnProperty(n)&&"object"==typeof i[n]&&null!==i[n]&&"object"==typeof t?i[n]=a.configMerge(i[n],t):i[n]=t}),i},a.getValueAtIndexOrDefault=function(e,t,n){return void 0===e||null===e?n:a.isArray(e)?t<e.length?e[t]:n:e},a.getValueOrDefault=function(e,t){return void 0===e?t:e},a.indexOf=function(e,t){if(Array.prototype.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},a.where=function(e,t){if(a.isArray(e)&&Array.prototype.filter)return e.filter(t);var n=[];return a.each(e,function(e){t(e)&&n.push(e)}),n},a.findIndex=function(e,t,n){var i=-1;if(Array.prototype.findIndex)i=e.findIndex(t,n);else for(var r=0;r<e.length;++r)if(n=void 0!==n?n:e,t.call(n,e[r],r,e)){i=r;break}return i},a.findNextWhere=function(e,t,n){(void 0===n||null===n)&&(n=-1);for(var i=n+1;i<e.length;i++){var r=e[i];if(t(r))return r}},a.findPreviousWhere=function(e,t,n){(void 0===n||null===n)&&(n=e.length);for(var i=n-1;i>=0;i--){var r=e[i];if(t(r))return r}},a.inherits=function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=t.prototype,n.prototype=new i,n.extend=a.inherits,e&&a.extend(n.prototype,e),n.__super__=t.prototype,n},a.noop=function(){},a.uid=function(){var e=0;return function(){return e++}}(),a.warn=function(e){console&&"function"==typeof console.warn&&console.warn(e)},a.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},a.almostEquals=function(e,t,n){return Math.abs(e-t)<n},a.max=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.max(e,t)},Number.NEGATIVE_INFINITY)},a.min=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.min(e,t)},Number.POSITIVE_INFINITY)},a.sign=function(e){return Math.sign?Math.sign(e):(e=+e,0===e||isNaN(e)?e:e>0?1:-1)},a.log10=function(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10},a.toRadians=function(e){return e*(Math.PI/180)},a.toDegrees=function(e){return e*(180/Math.PI)},a.getAngleFromPoint=function(e,t){var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i),a=Math.atan2(i,n);return a<-.5*Math.PI&&(a+=2*Math.PI),{angle:a,distance:r}},a.aliasPixel=function(e){return e%2==0?0:.5},a.splineCurve=function(e,t,n,i){var r=e.skip?t:e,a=t,o=n.skip?t:n,s=Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2)),l=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),c=s/(s+l),u=l/(s+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;var d=i*c,h=i*u;return{previous:{x:a.x-d*(o.x-r.x),y:a.y-d*(o.y-r.y)},next:{x:a.x+h*(o.x-r.x),y:a.y+h*(o.y-r.y)}}},a.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},a.previousItem=function(e,t,n){return n?0>=t?e[e.length-1]:e[t-1]:0>=t?e[0]:e[t-1]},a.niceNum=function(e,t){var n=Math.floor(a.log10(e)),i=e/Math.pow(10,n);return(t?1.5>i?1:3>i?2:7>i?5:10:1>=i?1:2>=i?2:5>=i?5:10)*Math.pow(10,n)};var o=a.easingEffects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0===e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1===e?1:1*(1-Math.pow(2,-10*e/1))},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n))},easeOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1==(e/=1)?1:(n||(n=.3),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*e)*Math.sin((1*e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.3*1.5*1),i<Math.abs(1)?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),1>e?i*Math.pow(2,10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(e-=1))*Math.sin((1*e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-o.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e*1:2/2.75>e?1*(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},
easeInOutBounce:function(e){return.5>e?.5*o.easeInBounce(2*e):.5*o.easeOutBounce(2*e-1)+.5}};a.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),a.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return window.clearTimeout(e,1e3/60)}}(),a.getRelativePosition=function(e,t){var n,i,r=e.originalEvent||e,o=e.currentTarget||e.srcElement,s=o.getBoundingClientRect(),l=r.touches;l&&l.length>0?(n=l[0].clientX,i=l[0].clientY):(n=r.clientX,i=r.clientY);var c=parseFloat(a.getStyle(o,"padding-left")),u=parseFloat(a.getStyle(o,"padding-top")),d=parseFloat(a.getStyle(o,"padding-right")),h=parseFloat(a.getStyle(o,"padding-bottom")),p=s.right-s.left-c-d,f=s.bottom-s.top-u-h;return n=Math.round((n-s.left-c)/p*o.width/t.currentDevicePixelRatio),i=Math.round((i-s.top-u)/f*o.height/t.currentDevicePixelRatio),{x:n,y:i}},a.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},a.removeEvent=function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=a.noop},a.bindEvents=function(e,t,n){var i=e.events=e.events||{};a.each(t,function(t){i[t]=function(){n.apply(e,arguments)},a.addEvent(e.chart.canvas,t,i[t])})},a.unbindEvents=function(e,t){var n=e.chart.canvas;a.each(t,function(e,t){a.removeEvent(n,t,e)})},a.getConstraintWidth=function(e){return r(e,"max-width","clientWidth")},a.getConstraintHeight=function(e){return r(e,"max-height","clientHeight")},a.getMaximumWidth=function(e){var t=e.parentNode,n=parseInt(a.getStyle(t,"padding-left"))+parseInt(a.getStyle(t,"padding-right")),i=t.clientWidth-n,r=a.getConstraintWidth(e);return isNaN(r)?i:Math.min(i,r)},a.getMaximumHeight=function(e){var t=e.parentNode,n=parseInt(a.getStyle(t,"padding-top"))+parseInt(a.getStyle(t,"padding-bottom")),i=t.clientHeight-n,r=a.getConstraintHeight(e);return isNaN(r)?i:Math.min(i,r)},a.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},a.retinaScale=function(e){var t=e.ctx,n=e.canvas,i=n.width,r=n.height,a=e.currentDevicePixelRatio=window.devicePixelRatio||1;1!==a&&(n.height=r*a,n.width=i*a,t.scale(a,a),e.originalDevicePixelRatio=e.originalDevicePixelRatio||a),n.style.width=i+"px",n.style.height=r+"px"},a.clear=function(e){e.ctx.clearRect(0,0,e.width,e.height)},a.fontString=function(e,t,n){return t+" "+e+"px "+n},a.longestText=function(e,t,n,i){i=i||{};var r=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),e.font=t;var s=0;a.each(n,function(t){if(void 0!==t&&null!==t){var n=r[t];n||(n=r[t]=e.measureText(t).width,o.push(t)),n>s&&(s=n)}});var l=o.length/2;if(l>n.length){for(var c=0;l>c;c++)delete r[o[c]];o.splice(0,l)}return s},a.drawRoundedRectangle=function(e,t,n,i,r,a){e.beginPath(),e.moveTo(t+a,n),e.lineTo(t+i-a,n),e.quadraticCurveTo(t+i,n,t+i,n+a),e.lineTo(t+i,n+r-a),e.quadraticCurveTo(t+i,n+r,t+i-a,n+r),e.lineTo(t+a,n+r),e.quadraticCurveTo(t,n+r,t,n+r-a),e.lineTo(t,n+a),e.quadraticCurveTo(t,n,t+a,n),e.closePath()},a.color=function(t){return i?i(t instanceof CanvasGradient?e.defaults.global.defaultColor:t):(console.log("Color.js not found!"),t)},a.addResizeListener=function(e,t){var n=document.createElement("iframe"),i="chartjs-hidden-iframe";n.classlist?n.classlist.add(i):n.setAttribute("class",i);var r=n.style;r.width="100%",r.display="block",r.border=0,r.height=0,r.margin=0,r.position="absolute",r.left=0,r.right=0,r.top=0,r.bottom=0,e.insertBefore(n,e.firstChild),(n.contentWindow||n).onresize=function(){t&&t()}},a.removeResizeListener=function(e){var t=e.querySelector(".chartjs-hidden-iframe");t&&t.parentNode.removeChild(t)},a.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},a.arrayEquals=function(e,t){var n,i,r,o;if(!e||!t||e.length!=t.length)return!1;for(n=0,i=e.length;i>n;++n)if(r=e[n],o=t[n],r instanceof Array&&o instanceof Array){if(!a.arrayEquals(r,o))return!1}else if(r!=o)return!1;return!0},a.pushAllIfDefined=function(e,t){void 0!==e&&(a.isArray(e)?t.push.apply(t,e):t.push(e))},a.callCallback=function(e,t,n){e&&"function"==typeof e.call&&e.apply(n,t)},a.getHoverColor=function(e){return e instanceof CanvasPattern?e:a.color(e).saturate(.5).darken(.1).rgbString()}}},{"chartjs-color":3}],26:[function(e,t,n){"use strict";t.exports=function(){var e=function(t,n){this.config=n,t.length&&t[0].getContext&&(t=t[0]),t.getContext&&(t=t.getContext("2d")),this.ctx=t,this.canvas=t.canvas,this.width=t.canvas.width||parseInt(e.helpers.getStyle(t.canvas,"width"))||e.helpers.getMaximumWidth(t.canvas),this.height=t.canvas.height||parseInt(e.helpers.getStyle(t.canvas,"height"))||e.helpers.getMaximumHeight(t.canvas),this.aspectRatio=this.width/this.height,(isNaN(this.aspectRatio)||!1===isFinite(this.aspectRatio))&&(this.aspectRatio=void 0!==n.aspectRatio?n.aspectRatio:2),this.originalCanvasStyleWidth=t.canvas.style.width,this.originalCanvasStyleHeight=t.canvas.style.height,e.helpers.retinaScale(this),n&&(this.controller=new e.Controller(this));var i=this;return e.helpers.addResizeListener(t.canvas.parentNode,function(){i.controller&&i.controller.config.options.responsive&&i.controller.resize()}),this.controller?this.controller:this};return e.defaults={global:{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"single",animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');for(var n=0;n<e.data.datasets.length;n++)t.push('<li><span style="background-color:'+e.data.datasets[n].backgroundColor+'"></span>'),e.data.datasets[n].label&&t.push(e.data.datasets[n].label),t.push("</li>");return t.push("</ul>"),t.join("")}}},e}},{}],27:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.layoutService={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),e.boxes.push(t)},removeBox:function(e,t){e.boxes&&e.boxes.splice(e.boxes.indexOf(t),1)},update:function(e,n,i){function r(e){var t,n=e.isHorizontal();n?(t=e.update(e.options.fullWidth?f:w,y),x-=t.height):(t=e.update(b,v),w-=t.width),_.push({horizontal:n,minSize:t,box:e})}function a(e){var n=t.findNextWhere(_,function(t){return t.box===e});if(n)if(e.isHorizontal()){var i={left:k,right:C,top:0,bottom:0};e.update(e.options.fullWidth?f:w,g/2,i)}else e.update(n.minSize.width,x)}function o(e){var n=t.findNextWhere(_,function(t){return t.box===e}),i={left:0,right:0,top:S,bottom:$};n&&e.update(n.minSize.width,x,i)}function s(e){e.isHorizontal()?(e.left=e.options.fullWidth?l:k,e.right=e.options.fullWidth?n-l:k+w,e.top=M,e.bottom=M+e.height,M=e.bottom):(e.left=E,e.right=E+e.width,e.top=S,e.bottom=S+x,E=e.right)}if(e){var l=0,c=t.where(e.boxes,function(e){return"left"===e.options.position}),u=t.where(e.boxes,function(e){return"right"===e.options.position}),d=t.where(e.boxes,function(e){return"top"===e.options.position}),h=t.where(e.boxes,function(e){return"bottom"===e.options.position}),p=t.where(e.boxes,function(e){return"chartArea"===e.options.position});d.sort(function(e,t){return(t.options.fullWidth?1:0)-(e.options.fullWidth?1:0)}),h.sort(function(e,t){return(e.options.fullWidth?1:0)-(t.options.fullWidth?1:0)});var f=n-2*l,g=i-0,m=f/2,v=g/2,b=(n-m)/(c.length+u.length),y=(i-v)/(d.length+h.length),w=f,x=g,_=[];t.each(c.concat(u,d,h),r);var k=l,C=l,S=0,$=0;t.each(c.concat(u),a),t.each(c,function(e){k+=e.width}),t.each(u,function(e){C+=e.width}),t.each(d.concat(h),a),t.each(d,function(e){S+=e.height}),t.each(h,function(e){$+=e.height}),t.each(c.concat(u),o),k=l,C=l,S=0,$=0,t.each(c,function(e){k+=e.width}),t.each(u,function(e){C+=e.width}),t.each(d,function(e){S+=e.height}),t.each(h,function(e){$+=e.height});var D=i-S-$,T=n-k-C;(T!==w||D!==x)&&(t.each(c,function(e){e.height=D}),t.each(u,function(e){e.height=D}),t.each(d,function(e){e.options.fullWidth||(e.width=T)}),t.each(h,function(e){e.options.fullWidth||(e.width=T)}),x=D,w=T);var E=l,M=0;t.each(c.concat(d),s),E+=w,M+=x,t.each(u,s),t.each(h,s),e.chartArea={left:k,top:S,right:k+w,bottom:S+x},t.each(p,function(t){t.left=e.chartArea.left,t.top=e.chartArea.top,t.right=e.chartArea.right,t.bottom=e.chartArea.bottom,t.update(w,x)})}}}}},{}],28:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=t.noop;e.defaults.global.legend={display:!0,position:"top",fullWidth:!0,reverse:!1,onClick:function(e,t){var n=t.datasetIndex,i=this.chart,r=i.getDatasetMeta(n);r.hidden=null===r.hidden?!i.data.datasets[n].hidden:null,i.update()},labels:{boxWidth:40,padding:10,generateLabels:function(e){var n=e.data;return t.isArray(n.datasets)?n.datasets.map(function(t,n){return{text:t.label,fillStyle:t.backgroundColor,hidden:!e.isDatasetVisible(n),lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:t.borderWidth,strokeStyle:t.borderColor,datasetIndex:n}},this):[]}}},e.Legend=e.Element.extend({initialize:function(e){t.extend(this,e),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:n,update:function(e,t,n){return this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this.margins=n,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildLabels(),this.buildLabels(),this.afterBuildLabels(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:n,beforeSetDimensions:n,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0,this.minSize={width:0,height:0}},afterSetDimensions:n,beforeBuildLabels:n,buildLabels:function(){this.legendItems=this.options.labels.generateLabels.call(this,this.chart),this.options.reverse&&this.legendItems.reverse()},afterBuildLabels:n,beforeFit:n,fit:function(){var n=this.options,i=n.labels,r=n.display,a=this.ctx,o=e.defaults.global,s=t.getValueOrDefault,l=s(i.fontSize,o.defaultFontSize),c=s(i.fontStyle,o.defaultFontStyle),u=s(i.fontFamily,o.defaultFontFamily),d=t.fontString(l,c,u),h=this.legendHitBoxes=[],p=this.minSize,f=this.isHorizontal();if(f?(p.width=this.maxWidth,p.height=r?10:0):(p.width=r?10:0,p.height=this.maxHeight),r&&f){var g=this.lineWidths=[0],m=this.legendItems.length?l+i.padding:0;a.textAlign="left",a.textBaseline="top",a.font=d,t.each(this.legendItems,function(e,t){var n=i.boxWidth+l/2+a.measureText(e.text).width;g[g.length-1]+n+i.padding>=this.width&&(m+=l+i.padding,g[g.length]=this.left),h[t]={left:0,top:0,width:n,height:l},g[g.length-1]+=n+i.padding},this),p.height+=m}this.width=p.width,this.height=p.height},afterFit:n,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var n=this.options,i=n.labels,r=e.defaults.global,a=r.elements.line,o=this.width,s=this.lineWidths;if(n.display){var l=this.ctx,c={x:this.left+(o-s[0])/2,y:this.top+i.padding,line:0},u=t.getValueOrDefault,d=u(i.fontColor,r.defaultFontColor),h=u(i.fontSize,r.defaultFontSize),p=u(i.fontStyle,r.defaultFontStyle),f=u(i.fontFamily,r.defaultFontFamily),g=t.fontString(h,p,f);if(this.isHorizontal()){l.textAlign="left",l.textBaseline="top",l.lineWidth=.5,l.strokeStyle=d,l.fillStyle=d,l.font=g;var m=i.boxWidth,v=this.legendHitBoxes;t.each(this.legendItems,function(e,t){var n=l.measureText(e.text).width,d=m+h/2+n,p=c.x,f=c.y;p+d>=o&&(f=c.y+=h+i.padding,c.line++,p=c.x=this.left+(o-s[c.line])/2),l.save(),l.fillStyle=u(e.fillStyle,r.defaultColor),l.lineCap=u(e.lineCap,a.borderCapStyle),l.lineDashOffset=u(e.lineDashOffset,a.borderDashOffset),l.lineJoin=u(e.lineJoin,a.borderJoinStyle),l.lineWidth=u(e.lineWidth,a.borderWidth),l.strokeStyle=u(e.strokeStyle,r.defaultColor),l.setLineDash&&l.setLineDash(u(e.lineDash,a.borderDash)),l.strokeRect(p,f,m,h),l.fillRect(p,f,m,h),l.restore(),v[t].left=p,v[t].top=f,l.fillText(e.text,m+h/2+p,f),e.hidden&&(l.beginPath(),l.lineWidth=2,l.moveTo(m+h/2+p,f+h/2),l.lineTo(m+h/2+p+n,f+h/2),l.stroke()),c.x+=d+i.padding},this)}}},handleEvent:function(e){var n=t.getRelativePosition(e,this.chart.chart),i=n.x,r=n.y,a=this.options;if(i>=this.left&&i<=this.right&&r>=this.top&&r<=this.bottom)for(var o=this.legendHitBoxes,s=0;s<o.length;++s){var l=o[s];if(i>=l.left&&i<=l.left+l.width&&r>=l.top&&r<=l.top+l.height){a.onClick&&a.onClick.call(this,e,this.legendItems[s]);break}}}})}},{}],29:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.plugins=[],e.pluginService={register:function(t){var n=e.plugins;-1===n.indexOf(t)&&n.push(t)},remove:function(t){var n=e.plugins,i=n.indexOf(t);-1!==i&&n.splice(i,1)},notifyPlugins:function(n,i,r){t.each(e.plugins,function(e){e[n]&&"function"==typeof e[n]&&e[n].apply(r,i)},r)}};var n=t.noop;e.PluginBase=e.Element.extend({beforeInit:n,afterInit:n,beforeUpdate:n,afterUpdate:n,beforeDraw:n,afterDraw:n,destroy:n})}},{}],30:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.scale={display:!0,position:"left",gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",offsetGridLines:!1},scaleLabel:{labelString:"",display:!1},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:10,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:function(e){return""+e}}},e.Scale=e.Element.extend({beforeUpdate:function(){t.callCallback(this.options.beforeUpdate,[this])},update:function(e,n,i){return this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this.margins=t.extend({left:0,right:0,top:0,bottom:0},i),this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this.beforeBuildTicks(),this.buildTicks(),this.afterBuildTicks(),this.beforeTickToLabelConversion(),this.convertTicksToLabels(),this.afterTickToLabelConversion(),this.beforeCalculateTickRotation(),this.calculateTickRotation(),this.afterCalculateTickRotation(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:function(){t.callCallback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){t.callCallback(this.options.beforeSetDimensions,[this])},setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0},afterSetDimensions:function(){t.callCallback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){t.callCallback(this.options.beforeDataLimits,[this])},determineDataLimits:t.noop,afterDataLimits:function(){t.callCallback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){t.callCallback(this.options.beforeBuildTicks,[this])},buildTicks:t.noop,afterBuildTicks:function(){t.callCallback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){t.callCallback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){this.ticks=this.ticks.map(function(e,t,n){return this.options.ticks.userCallback?this.options.ticks.userCallback(e,t,n):this.options.ticks.callback(e,t,n)},this)},afterTickToLabelConversion:function(){t.callCallback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){t.callCallback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var n=this.ctx,i=e.defaults.global,r=this.options.ticks,a=t.getValueOrDefault(r.fontSize,i.defaultFontSize),o=t.getValueOrDefault(r.fontStyle,i.defaultFontStyle),s=t.getValueOrDefault(r.fontFamily,i.defaultFontFamily),l=t.fontString(a,o,s);n.font=l;var c,u=n.measureText(this.ticks[0]).width,d=n.measureText(this.ticks[this.ticks.length-1]).width;if(this.labelRotation=r.minRotation||0,this.paddingRight=0,this.paddingLeft=0,this.options.display&&this.isHorizontal()){this.paddingRight=d/2+3,this.paddingLeft=u/2+3,this.longestTextCache||(this.longestTextCache={});for(var h,p,f=t.longestText(n,l,this.ticks,this.longestTextCache),g=f,m=this.getPixelForTick(1)-this.getPixelForTick(0)-6;g>m&&this.labelRotation<r.maxRotation;){if(h=Math.cos(t.toRadians(this.labelRotation)),p=Math.sin(t.toRadians(this.labelRotation)),c=h*u,c+a/2>this.yLabelWidth&&(this.paddingLeft=c+a/2),this.paddingRight=a/2,p*f>this.maxHeight){this.labelRotation--;break}this.labelRotation++,g=h*f}}this.margins&&(this.paddingLeft=Math.max(this.paddingLeft-this.margins.left,0),this.paddingRight=Math.max(this.paddingRight-this.margins.right,0))},afterCalculateTickRotation:function(){t.callCallback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){t.callCallback(this.options.beforeFit,[this])},fit:function(){var n=this.minSize={width:0,height:0},i=this.options,r=e.defaults.global,a=i.ticks,o=i.scaleLabel,s=i.display,l=this.isHorizontal(),c=t.getValueOrDefault(a.fontSize,r.defaultFontSize),u=t.getValueOrDefault(a.fontStyle,r.defaultFontStyle),d=t.getValueOrDefault(a.fontFamily,r.defaultFontFamily),h=t.fontString(c,u,d),p=t.getValueOrDefault(o.fontSize,r.defaultFontSize),f=t.getValueOrDefault(o.fontStyle,r.defaultFontStyle),g=t.getValueOrDefault(o.fontFamily,r.defaultFontFamily),m=(t.fontString(p,f,g),i.gridLines.tickMarkLength);if(n.width=l?this.isFullWidth()?this.maxWidth-this.margins.left-this.margins.right:this.maxWidth:s?m:0,n.height=l?s?m:0:this.maxHeight,o.display&&s&&(l?n.height+=1.5*p:n.width+=1.5*p),a.display&&s){this.longestTextCache||(this.longestTextCache={});var v=t.longestText(this.ctx,h,this.ticks,this.longestTextCache);if(l){this.longestLabelWidth=v;var b=Math.sin(t.toRadians(this.labelRotation))*this.longestLabelWidth+1.5*c;n.height=Math.min(this.maxHeight,n.height+b),this.ctx.font=h;var y=this.ctx.measureText(this.ticks[0]).width,w=this.ctx.measureText(this.ticks[this.ticks.length-1]).width,x=Math.cos(t.toRadians(this.labelRotation)),_=Math.sin(t.toRadians(this.labelRotation));this.paddingLeft=0!==this.labelRotation?x*y+3:y/2+3,this.paddingRight=0!==this.labelRotation?_*(c/2)+3:w/2+3}else{var k=this.maxWidth-n.width;a.mirror?v=0:v+=this.options.ticks.padding,k>v?n.width+=v:n.width=this.maxWidth,this.paddingTop=c/2,this.paddingBottom=c/2}}this.margins&&(this.paddingLeft=Math.max(this.paddingLeft-this.margins.left,0),this.paddingTop=Math.max(this.paddingTop-this.margins.top,0),this.paddingRight=Math.max(this.paddingRight-this.margins.right,0),this.paddingBottom=Math.max(this.paddingBottom-this.margins.bottom,0)),this.width=n.width,this.height=n.height},afterFit:function(){t.callCallback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function e(t){return null===t||void 0===t?NaN:"number"==typeof t&&isNaN(t)?NaN:"object"==typeof t?t instanceof Date||t.isValid?t:e(this.isHorizontal()?t.x:t.y):t},getLabelForIndex:t.noop,getPixelForValue:t.noop,getValueForPixel:t.noop,getPixelForTick:function(e,t){if(this.isHorizontal()){var n=this.width-(this.paddingLeft+this.paddingRight),i=n/Math.max(this.ticks.length-(this.options.gridLines.offsetGridLines?0:1),1),r=i*e+this.paddingLeft;t&&(r+=i/2);var a=this.left+Math.round(r);return a+=this.isFullWidth()?this.margins.left:0}var o=this.height-(this.paddingTop+this.paddingBottom);return this.top+e*(o/(this.ticks.length-1))},getPixelForDecimal:function(e){if(this.isHorizontal()){var t=this.width-(this.paddingLeft+this.paddingRight),n=t*e+this.paddingLeft,i=this.left+Math.round(n);return i+=this.isFullWidth()?this.margins.left:0}return this.top+e*this.height},getBasePixel:function(){var e=this,t=e.min,n=e.max;return e.getPixelForValue(e.beginAtZero?0:0>t&&0>n?n:t>0&&n>0?t:0)},draw:function(n){var i=this.options;if(i.display){var r,a,o,s,l,c=this.ctx,u=e.defaults.global,d=i.ticks,h=i.gridLines,p=i.scaleLabel,f=0!==this.labelRotation,g=d.autoSkip;d.maxTicksLimit&&(l=d.maxTicksLimit);var m=t.getValueOrDefault(d.fontColor,u.defaultFontColor),v=t.getValueOrDefault(d.fontSize,u.defaultFontSize),b=t.getValueOrDefault(d.fontStyle,u.defaultFontStyle),y=t.getValueOrDefault(d.fontFamily,u.defaultFontFamily),w=t.fontString(v,b,y),x=h.tickMarkLength,_=t.getValueOrDefault(p.fontColor,u.defaultFontColor),k=t.getValueOrDefault(p.fontSize,u.defaultFontSize),C=t.getValueOrDefault(p.fontStyle,u.defaultFontStyle),S=t.getValueOrDefault(p.fontFamily,u.defaultFontFamily),$=t.fontString(k,C,S),D=t.toRadians(this.labelRotation),T=Math.cos(D),E=(Math.sin(D),this.longestLabelWidth*T);if(c.fillStyle=m,this.isHorizontal()){r=!0;var M="bottom"===i.position?this.top:this.bottom-x,A="bottom"===i.position?this.top+x:this.bottom;if(a=!1,f&&(E/=2),(E+d.autoSkipPadding)*this.ticks.length>this.width-(this.paddingLeft+this.paddingRight)&&(a=1+Math.floor((E+d.autoSkipPadding)*this.ticks.length/(this.width-(this.paddingLeft+this.paddingRight)))),l&&this.ticks.length>l)for(;!a||this.ticks.length/(a||1)>l;)a||(a=1),a+=1;g||(a=!1),t.each(this.ticks,function(e,o){var s=this.ticks.length===o+1;if((!(a>1&&o%a>0||o%a==0&&o+a>=this.ticks.length)||s)&&void 0!==e&&null!==e){var l=this.getPixelForTick(o),u=this.getPixelForTick(o,h.offsetGridLines);h.display&&(o===(void 0!==this.zeroLineIndex?this.zeroLineIndex:0)?(c.lineWidth=h.zeroLineWidth,c.strokeStyle=h.zeroLineColor,r=!0):r&&(c.lineWidth=h.lineWidth,c.strokeStyle=h.color,r=!1),l+=t.aliasPixel(c.lineWidth),c.beginPath(),h.drawTicks&&(c.moveTo(l,M),c.lineTo(l,A)),h.drawOnChartArea&&(c.moveTo(l,n.top),c.lineTo(l,n.bottom)),c.stroke()),d.display&&(c.save(),c.translate(u+d.labelOffset,f?this.top+12:"top"===i.position?this.bottom-x:this.top+x),c.rotate(-1*D),c.font=w,c.textAlign=f?"right":"center",c.textBaseline=f?"middle":"top"===i.position?"bottom":"top",c.fillText(e,0,0),c.restore())}},this),p.display&&(c.textAlign="center",c.textBaseline="middle",c.fillStyle=_,c.font=$,o=this.left+(this.right-this.left)/2,s="bottom"===i.position?this.bottom-k/2:this.top+k/2,c.fillText(p.labelString,o,s))}else{r=!0;var O="right"===i.position?this.left:this.right-5,P="right"===i.position?this.left+5:this.right;if(t.each(this.ticks,function(e,a){if(void 0!==e&&null!==e){var o=this.getPixelForTick(a);if(h.display&&(a===(void 0!==this.zeroLineIndex?this.zeroLineIndex:0)?(c.lineWidth=h.zeroLineWidth,c.strokeStyle=h.zeroLineColor,r=!0):r&&(c.lineWidth=h.lineWidth,c.strokeStyle=h.color,r=!1),o+=t.aliasPixel(c.lineWidth),c.beginPath(),h.drawTicks&&(c.moveTo(O,o),c.lineTo(P,o)),h.drawOnChartArea&&(c.moveTo(n.left,o),c.lineTo(n.right,o)),c.stroke()),d.display){var s,l=this.getPixelForTick(a,h.offsetGridLines);c.save(),"left"===i.position?d.mirror?(s=this.right+d.padding,c.textAlign="left"):(s=this.right-d.padding,c.textAlign="right"):d.mirror?(s=this.left-d.padding,c.textAlign="right"):(s=this.left+d.padding,c.textAlign="left"),c.translate(s,l+d.labelOffset),c.rotate(-1*D),c.font=w,c.textBaseline="middle",c.fillText(e,0,0),c.restore()}}},this),p.display){o="left"===i.position?this.left+k/2:this.right-k/2,s=this.top+(this.bottom-this.top)/2;var I="left"===i.position?-.5*Math.PI:.5*Math.PI;c.save(),c.translate(o,s),c.rotate(I),c.textAlign="center",c.fillStyle=_,c.font=$,c.textBaseline="middle",c.fillText(p.labelString,0,0),c.restore()}}if(h.drawBorder){c.lineWidth=h.lineWidth,c.strokeStyle=h.color;var R=this.left,N=this.right,L=this.top,F=this.bottom,z=t.aliasPixel(c.lineWidth);this.isHorizontal()?(L=F="top"===i.position?this.bottom:this.top,L+=z,F+=z):(R=N="left"===i.position?this.right:this.left,R+=z,N+=z),c.beginPath(),c.moveTo(R,L),c.lineTo(N,F),c.stroke()}}}})}},{}],31:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.scaleService={constructors:{},defaults:{},registerScaleType:function(e,n,i){this.constructors[e]=n,this.defaults[e]=t.clone(i)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(n){return this.defaults.hasOwnProperty(n)?t.scaleMerge(e.defaults.scale,this.defaults[n]):{}},updateScaleDefaults:function(e,n){var i=this.defaults;i.hasOwnProperty(e)&&(i[e]=t.extend(i[e],n))},addScalesToLayout:function(n){t.each(n.scales,function(t){e.layoutService.addBox(n,t)})}}}},{}],32:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers;e.defaults.global.title={display:!1,position:"top",fullWidth:!0,fontStyle:"bold",padding:10,text:""};var n=t.noop;e.Title=e.Element.extend({initialize:function(n){t.extend(this,n),this.options=t.configMerge(e.defaults.global.title,n.options),this.legendHitBoxes=[]},beforeUpdate:n,update:function(e,t,n){return this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this.margins=n,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this.beforeBuildLabels(),this.buildLabels(),this.afterBuildLabels(),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate(),this.minSize},afterUpdate:n,beforeSetDimensions:n,setDimensions:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0,this.minSize={width:0,height:0}},afterSetDimensions:n,beforeBuildLabels:n,buildLabels:n,afterBuildLabels:n,beforeFit:n,fit:function(){var n=this,i=(n.ctx,t.getValueOrDefault),r=n.options,a=e.defaults.global,o=r.display,s=i(r.fontSize,a.defaultFontSize),l=n.minSize;n.isHorizontal()?(l.width=n.maxWidth,l.height=o?s+2*r.padding:0):(l.width=o?s+2*r.padding:0,l.height=n.maxHeight),n.width=l.width,n.height=l.height},afterFit:n,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var n=this,i=n.ctx,r=t.getValueOrDefault,a=n.options,o=e.defaults.global;if(a.display){var s,l,c=r(a.fontSize,o.defaultFontSize),u=r(a.fontStyle,o.defaultFontStyle),d=r(a.fontFamily,o.defaultFontFamily),h=t.fontString(c,u,d),p=0,f=n.top,g=n.left,m=n.bottom,v=n.right;i.fillStyle=r(a.fontColor,o.defaultFontColor),i.font=h,n.isHorizontal()?(s=g+(v-g)/2,l=f+(m-f)/2):(s="left"===a.position?g+c/2:v-c/2,l=f+(m-f)/2,p=Math.PI*("left"===a.position?-.5:.5)),i.save(),i.translate(s,l),i.rotate(p),i.textAlign="center",i.textBaseline="middle",i.fillText(a.text,0,0),i.restore()}}})}},{}],33:[function(e,t,n){"use strict";t.exports=function(e){function t(e,t){return t&&(n.isArray(t)?e=e.concat(t):e.push(t)),e}var n=e.helpers;e.defaults.global.tooltips={enabled:!0,custom:null,mode:"single",backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleColor:"#fff",titleAlign:"left",bodySpacing:2,bodyColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,yAlign:"center",xAlign:"center",caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",callbacks:{beforeTitle:n.noop,title:function(e,t){var n="";return e.length>0&&(e[0].xLabel?n=e[0].xLabel:t.labels.length>0&&e[0].index<t.labels.length&&(n=t.labels[e[0].index])),n},afterTitle:n.noop,beforeBody:n.noop,beforeLabel:n.noop,label:function(e,t){return(t.datasets[e.datasetIndex].label||"")+": "+e.yLabel},afterLabel:n.noop,afterBody:n.noop,beforeFooter:n.noop,footer:n.noop,afterFooter:n.noop}},e.Tooltip=e.Element.extend({initialize:function(){var t=e.defaults.global,i=this._options,r=i.tooltips;n.extend(this,{_model:{xPadding:r.xPadding,yPadding:r.yPadding,xAlign:r.yAlign,yAlign:r.xAlign,bodyColor:r.bodyColor,_bodyFontFamily:n.getValueOrDefault(r.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:n.getValueOrDefault(r.bodyFontStyle,t.defaultFontStyle),_bodyAlign:r.bodyAlign,bodyFontSize:n.getValueOrDefault(r.bodyFontSize,t.defaultFontSize),bodySpacing:r.bodySpacing,titleColor:r.titleColor,_titleFontFamily:n.getValueOrDefault(r.titleFontFamily,t.defaultFontFamily),_titleFontStyle:n.getValueOrDefault(r.titleFontStyle,t.defaultFontStyle),titleFontSize:n.getValueOrDefault(r.titleFontSize,t.defaultFontSize),_titleAlign:r.titleAlign,titleSpacing:r.titleSpacing,titleMarginBottom:r.titleMarginBottom,footerColor:r.footerColor,_footerFontFamily:n.getValueOrDefault(r.footerFontFamily,t.defaultFontFamily),_footerFontStyle:n.getValueOrDefault(r.footerFontStyle,t.defaultFontStyle),footerFontSize:n.getValueOrDefault(r.footerFontSize,t.defaultFontSize),_footerAlign:r.footerAlign,footerSpacing:r.footerSpacing,footerMarginTop:r.footerMarginTop,caretSize:r.caretSize,cornerRadius:r.cornerRadius,backgroundColor:r.backgroundColor,opacity:0,legendColorBackground:r.multiKeyBackground}})},getTitle:function(){var e=this._options.tooltips.callbacks.beforeTitle.apply(this,arguments),n=this._options.tooltips.callbacks.title.apply(this,arguments),i=this._options.tooltips.callbacks.afterTitle.apply(this,arguments),r=[];return r=t(r,e),r=t(r,n),r=t(r,i)},getBeforeBody:function(){var e=this._options.tooltips.callbacks.beforeBody.apply(this,arguments);return n.isArray(e)?e:void 0!==e?[e]:[]},getBody:function(e,t){var i=[];return n.each(e,function(e){n.pushAllIfDefined(this._options.tooltips.callbacks.beforeLabel.call(this,e,t),i),n.pushAllIfDefined(this._options.tooltips.callbacks.label.call(this,e,t),i),n.pushAllIfDefined(this._options.tooltips.callbacks.afterLabel.call(this,e,t),i)},this),i},getAfterBody:function(){var e=this._options.tooltips.callbacks.afterBody.apply(this,arguments);return n.isArray(e)?e:void 0!==e?[e]:[]},getFooter:function(){var e=this._options.tooltips.callbacks.beforeFooter.apply(this,arguments),n=this._options.tooltips.callbacks.footer.apply(this,arguments),i=this._options.tooltips.callbacks.afterFooter.apply(this,arguments),r=[];return r=t(r,e),r=t(r,n),r=t(r,i)},getAveragePosition:function(e){if(!e.length)return!1;var t=[],i=[];n.each(e,function(e){if(e&&e.hasValue()){var n=e.tooltipPosition();t.push(n.x),i.push(n.y)}});for(var r=0,a=0,o=0;o<t.length;o++)r+=t[o],a+=i[o];return{x:Math.round(r/t.length),y:Math.round(a/t.length)}},update:function(e){if(this._active.length){this._model.opacity=1;var t,i=this._active[0],r=[],a=[];if("single"===this._options.tooltips.mode){var o=i._yScale||i._scale;a.push({xLabel:i._xScale?i._xScale.getLabelForIndex(i._index,i._datasetIndex):"",yLabel:o?o.getLabelForIndex(i._index,i._datasetIndex):"",index:i._index,datasetIndex:i._datasetIndex}),t=this.getAveragePosition(this._active)}else n.each(this._data.datasets,function(e,t){if(this._chartInstance.isDatasetVisible(t)){var n=this._chartInstance.getDatasetMeta(t),r=n.data[i._index];if(r){var o=i._yScale||i._scale;a.push({xLabel:r._xScale?r._xScale.getLabelForIndex(r._index,r._datasetIndex):"",yLabel:o?o.getLabelForIndex(r._index,r._datasetIndex):"",index:i._index,datasetIndex:t})}}},this),n.each(this._active,function(e){e&&r.push({borderColor:e._view.borderColor,backgroundColor:e._view.backgroundColor})},null),t=this.getAveragePosition(this._active);n.extend(this._model,{title:this.getTitle(a,this._data),beforeBody:this.getBeforeBody(a,this._data),body:this.getBody(a,this._data),afterBody:this.getAfterBody(a,this._data),footer:this.getFooter(a,this._data)}),n.extend(this._model,{x:Math.round(t.x),y:Math.round(t.y),caretPadding:n.getValueOrDefault(t.padding,2),labelColors:r})
;var s=this.getTooltipSize(this._model);this.determineAlignment(s),n.extend(this._model,this.getBackgroundPoint(this._model,s))}else this._model.opacity=0;return e&&this._options.tooltips.custom&&this._options.tooltips.custom.call(this,this._model),this},getTooltipSize:function(e){var t=this._chart.ctx,i={height:2*e.yPadding,width:0},r=e.body.length+e.beforeBody.length+e.afterBody.length;return i.height+=e.title.length*e.titleFontSize,i.height+=(e.title.length-1)*e.titleSpacing,i.height+=e.title.length?e.titleMarginBottom:0,i.height+=r*e.bodyFontSize,i.height+=r?(r-1)*e.bodySpacing:0,i.height+=e.footer.length?e.footerMarginTop:0,i.height+=e.footer.length*e.footerFontSize,i.height+=e.footer.length?(e.footer.length-1)*e.footerSpacing:0,t.font=n.fontString(e.titleFontSize,e._titleFontStyle,e._titleFontFamily),n.each(e.title,function(e){i.width=Math.max(i.width,t.measureText(e).width)}),t.font=n.fontString(e.bodyFontSize,e._bodyFontStyle,e._bodyFontFamily),n.each(e.beforeBody.concat(e.afterBody),function(e){i.width=Math.max(i.width,t.measureText(e).width)}),n.each(e.body,function(n){i.width=Math.max(i.width,t.measureText(n).width+("single"!==this._options.tooltips.mode?e.bodyFontSize+2:0))},this),t.font=n.fontString(e.footerFontSize,e._footerFontStyle,e._footerFontFamily),n.each(e.footer,function(e){i.width=Math.max(i.width,t.measureText(e).width)}),i.width+=2*e.xPadding,i},determineAlignment:function(e){this._model.y<e.height?this._model.yAlign="top":this._model.y>this._chart.height-e.height&&(this._model.yAlign="bottom");var t,n,i,r,a,o=this,s=(this._chartInstance.chartArea.left+this._chartInstance.chartArea.right)/2,l=(this._chartInstance.chartArea.top+this._chartInstance.chartArea.bottom)/2;"center"===this._model.yAlign?(t=function(e){return s>=e},n=function(e){return e>s}):(t=function(t){return t<=e.width/2},n=function(t){return t>=o._chart.width-e.width/2}),i=function(t){return t+e.width>o._chart.width},r=function(t){return t-e.width<0},a=function(e){return l>=e?"top":"bottom"},t(this._model.x)?(this._model.xAlign="left",i(this._model.x)&&(this._model.xAlign="center",this._model.yAlign=a(this._model.y))):n(this._model.x)&&(this._model.xAlign="right",r(this._model.x)&&(this._model.xAlign="center",this._model.yAlign=a(this._model.y)))},getBackgroundPoint:function(e,t){var n={x:e.x,y:e.y};return"right"===e.xAlign?n.x-=t.width:"center"===e.xAlign&&(n.x-=t.width/2),"top"===e.yAlign?n.y+=e.caretPadding+e.caretSize:"bottom"===e.yAlign?n.y-=t.height+e.caretPadding+e.caretSize:n.y-=t.height/2,"center"===e.yAlign?"left"===e.xAlign?n.x+=e.caretPadding+e.caretSize:"right"===e.xAlign&&(n.x-=e.caretPadding+e.caretSize):"left"===e.xAlign?n.x-=e.cornerRadius+e.caretPadding:"right"===e.xAlign&&(n.x+=e.cornerRadius+e.caretPadding),n},drawCaret:function(e,t,i,r){var a,o,s,l,c,u,d=this._view,h=this._chart.ctx;"center"===d.yAlign?("left"===d.xAlign?(a=e.x,o=a-d.caretSize,s=a):(a=e.x+t.width,o=a+d.caretSize,s=a),c=e.y+t.height/2,l=c-d.caretSize,u=c+d.caretSize):("left"===d.xAlign?(a=e.x+d.cornerRadius,o=a+d.caretSize,s=o+d.caretSize):"right"===d.xAlign?(a=e.x+t.width-d.cornerRadius,o=a-d.caretSize,s=o-d.caretSize):(o=e.x+t.width/2,a=o-d.caretSize,s=o+d.caretSize),"top"===d.yAlign?(l=e.y,c=l-d.caretSize,u=l):(l=e.y+t.height,c=l+d.caretSize,u=l));var p=n.color(d.backgroundColor);h.fillStyle=p.alpha(i*p.alpha()).rgbString(),h.beginPath(),h.moveTo(a,l),h.lineTo(o,c),h.lineTo(s,u),h.closePath(),h.fill()},drawTitle:function(e,t,i,r){if(t.title.length){i.textAlign=t._titleAlign,i.textBaseline="top";var a=n.color(t.titleColor);i.fillStyle=a.alpha(r*a.alpha()).rgbString(),i.font=n.fontString(t.titleFontSize,t._titleFontStyle,t._titleFontFamily),n.each(t.title,function(n,r){i.fillText(n,e.x,e.y),e.y+=t.titleFontSize+t.titleSpacing,r+1===t.title.length&&(e.y+=t.titleMarginBottom-t.titleSpacing)})}},drawBody:function(e,t,i,r){i.textAlign=t._bodyAlign,i.textBaseline="top";var a=n.color(t.bodyColor);i.fillStyle=a.alpha(r*a.alpha()).rgbString(),i.font=n.fontString(t.bodyFontSize,t._bodyFontStyle,t._bodyFontFamily),n.each(t.beforeBody,function(n){i.fillText(n,e.x,e.y),e.y+=t.bodyFontSize+t.bodySpacing}),n.each(t.body,function(a,o){"single"!==this._options.tooltips.mode&&(i.fillStyle=n.color(t.legendColorBackground).alpha(r).rgbaString(),i.fillRect(e.x,e.y,t.bodyFontSize,t.bodyFontSize),i.strokeStyle=n.color(t.labelColors[o].borderColor).alpha(r).rgbaString(),i.strokeRect(e.x,e.y,t.bodyFontSize,t.bodyFontSize),i.fillStyle=n.color(t.labelColors[o].backgroundColor).alpha(r).rgbaString(),i.fillRect(e.x+1,e.y+1,t.bodyFontSize-2,t.bodyFontSize-2),i.fillStyle=n.color(t.bodyColor).alpha(r).rgbaString()),i.fillText(a,e.x+("single"!==this._options.tooltips.mode?t.bodyFontSize+2:0),e.y),e.y+=t.bodyFontSize+t.bodySpacing},this),n.each(t.afterBody,function(n){i.fillText(n,e.x,e.y),e.y+=t.bodyFontSize}),e.y-=t.bodySpacing},drawFooter:function(e,t,i,r){if(t.footer.length){e.y+=t.footerMarginTop,i.textAlign=t._footerAlign,i.textBaseline="top";var a=n.color(t.footerColor);i.fillStyle=a.alpha(r*a.alpha()).rgbString(),i.font=n.fontString(t.footerFontSize,t._footerFontStyle,t._footerFontFamily),n.each(t.footer,function(n){i.fillText(n,e.x,e.y),e.y+=t.footerFontSize+t.footerSpacing})}},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var i=t.caretPadding,r=this.getTooltipSize(t),a={x:t.x,y:t.y},o=Math.abs(t.opacity<.001)?0:t.opacity;if(this._options.tooltips.enabled){var s=n.color(t.backgroundColor);e.fillStyle=s.alpha(o*s.alpha()).rgbString(),n.drawRoundedRectangle(e,a.x,a.y,r.width,r.height,t.cornerRadius),e.fill(),this.drawCaret(a,r,o,i),a.x+=t.xPadding,a.y+=t.yPadding,this.drawTitle(a,t,e,o),this.drawBody(a,t,e,o),this.drawFooter(a,t,e,o)}}}})}},{}],34:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.helpers,i=e.defaults.global;i.elements.arc={backgroundColor:i.defaultColor,borderColor:"#fff",borderWidth:2},e.elements.Arc=e.Element.extend({inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,t){var i=this._view;if(i){for(var r=n.getAngleFromPoint(i,{x:e,y:t}),a=r.angle,o=r.distance,s=i.startAngle,l=i.endAngle;s>l;)l+=2*Math.PI;for(;a>l;)a-=2*Math.PI;for(;s>a;)a+=2*Math.PI;var c=a>=s&&l>=a,u=o>=i.innerRadius&&o<=i.outerRadius;return c&&u}return!1},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e=this._chart.ctx,t=this._view,n=t.startAngle,i=t.endAngle;e.beginPath(),e.arc(t.x,t.y,t.outerRadius,n,i),e.arc(t.x,t.y,t.innerRadius,i,n,!0),e.closePath(),e.strokeStyle=t.borderColor,e.lineWidth=t.borderWidth,e.fillStyle=t.backgroundColor,e.fill(),e.lineJoin="bevel",t.borderWidth&&e.stroke()}})}},{}],35:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=e.defaults.global;e.defaults.global.elements.line={tension:.4,backgroundColor:n.defaultColor,borderWidth:3,borderColor:n.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",fill:!0},e.elements.Line=e.Element.extend({lineToNextPoint:function(e,t,n,i,r){var a=this._chart.ctx;t._view.skip?i.call(this,e,t,n):e._view.skip?r.call(this,e,t,n):0===t._view.tension?a.lineTo(t._view.x,t._view.y):a.bezierCurveTo(e._view.controlPointNextX,e._view.controlPointNextY,t._view.controlPointPreviousX,t._view.controlPointPreviousY,t._view.x,t._view.y)},draw:function(){function e(e){o._view.skip||s._view.skip?e&&a.lineTo(i._view.scaleZero.x,i._view.scaleZero.y):a.bezierCurveTo(s._view.controlPointNextX,s._view.controlPointNextY,o._view.controlPointPreviousX,o._view.controlPointPreviousY,o._view.x,o._view.y)}var i=this,r=this._view,a=this._chart.ctx,o=this._children[0],s=this._children[this._children.length-1];a.save(),this._children.length>0&&r.fill&&(a.beginPath(),t.each(this._children,function(e,n){var i=t.previousItem(this._children,n),o=t.nextItem(this._children,n);0===n?(this._loop?a.moveTo(r.scaleZero.x,r.scaleZero.y):a.moveTo(e._view.x,r.scaleZero),e._view.skip?this._loop||a.moveTo(o._view.x,this._view.scaleZero):a.lineTo(e._view.x,e._view.y)):this.lineToNextPoint(i,e,o,function(e,t,n){this._loop?a.lineTo(this._view.scaleZero.x,this._view.scaleZero.y):(a.lineTo(e._view.x,this._view.scaleZero),a.moveTo(n._view.x,this._view.scaleZero))},function(e,t){a.lineTo(t._view.x,t._view.y)})},this),this._loop?e(!0):(a.lineTo(this._children[this._children.length-1]._view.x,r.scaleZero),a.lineTo(this._children[0]._view.x,r.scaleZero)),a.fillStyle=r.backgroundColor||n.defaultColor,a.closePath(),a.fill());var l=n.elements.line;a.lineCap=r.borderCapStyle||l.borderCapStyle,a.setLineDash&&a.setLineDash(r.borderDash||l.borderDash),a.lineDashOffset=r.borderDashOffset||l.borderDashOffset,a.lineJoin=r.borderJoinStyle||l.borderJoinStyle,a.lineWidth=r.borderWidth||l.borderWidth,a.strokeStyle=r.borderColor||n.defaultColor,a.beginPath(),t.each(this._children,function(e,n){var i=t.previousItem(this._children,n),r=t.nextItem(this._children,n);0===n?a.moveTo(e._view.x,e._view.y):this.lineToNextPoint(i,e,r,function(e,t,n){a.moveTo(n._view.x,n._view.y)},function(e,t){a.moveTo(t._view.x,t._view.y)})},this),this._loop&&this._children.length>0&&e(),a.stroke(),a.restore()}})}},{}],36:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=e.defaults.global,i=n.defaultColor;n.elements.point={radius:3,pointStyle:"circle",backgroundColor:i,borderWidth:1,borderColor:i,hitRadius:1,hoverRadius:4,hoverBorderWidth:1},e.elements.Point=e.Element.extend({inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hitRadius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(){var e,r,a,o,s,l,c=this._view,u=this._chart.ctx,d=c.pointStyle,h=c.radius,p=c.x,f=c.y;if(!c.skip){if("object"==typeof d&&("[object HTMLImageElement]"===(e=d.toString())||"[object HTMLCanvasElement]"===e))return void u.drawImage(d,p-d.width/2,f-d.height/2);if(!(isNaN(h)||0>=h)){switch(u.strokeStyle=c.borderColor||i,u.lineWidth=t.getValueOrDefault(c.borderWidth,n.elements.point.borderWidth),u.fillStyle=c.backgroundColor||i,d){default:u.beginPath(),u.arc(p,f,h,0,2*Math.PI),u.closePath(),u.fill();break;case"triangle":u.beginPath(),r=3*h/Math.sqrt(3),s=r*Math.sqrt(3)/2,u.moveTo(p-r/2,f+s/3),u.lineTo(p+r/2,f+s/3),u.lineTo(p,f-2*s/3),u.closePath(),u.fill();break;case"rect":l=1/Math.SQRT2*h,u.fillRect(p-l,f-l,2*l,2*l),u.strokeRect(p-l,f-l,2*l,2*l);break;case"rectRot":u.translate(p,f),u.rotate(Math.PI/4),l=1/Math.SQRT2*h,u.fillRect(-l,-l,2*l,2*l),u.strokeRect(-l,-l,2*l,2*l),u.setTransform(1,0,0,1,0,0);break;case"cross":u.beginPath(),u.moveTo(p,f+h),u.lineTo(p,f-h),u.moveTo(p-h,f),u.lineTo(p+h,f),u.closePath();break;case"crossRot":u.beginPath(),a=Math.cos(Math.PI/4)*h,o=Math.sin(Math.PI/4)*h,u.moveTo(p-a,f-o),u.lineTo(p+a,f+o),u.moveTo(p-a,f+o),u.lineTo(p+a,f-o),u.closePath();break;case"star":u.beginPath(),u.moveTo(p,f+h),u.lineTo(p,f-h),u.moveTo(p-h,f),u.lineTo(p+h,f),a=Math.cos(Math.PI/4)*h,o=Math.sin(Math.PI/4)*h,u.moveTo(p-a,f-o),u.lineTo(p+a,f+o),u.moveTo(p-a,f+o),u.lineTo(p+a,f-o),u.closePath();break;case"line":u.beginPath(),u.moveTo(p-h,f),u.lineTo(p+h,f),u.closePath();break;case"dash":u.beginPath(),u.moveTo(p,f),u.lineTo(p+h,f),u.closePath()}u.stroke()}}}})}},{}],37:[function(e,t,n){"use strict";t.exports=function(e){var t=(e.helpers,e.defaults.global);t.elements.rectangle={backgroundColor:t.defaultColor,borderWidth:0,borderColor:t.defaultColor,borderSkipped:"bottom"},e.elements.Rectangle=e.Element.extend({draw:function(){function e(e){return l[(u+e)%4]}var t=this._chart.ctx,n=this._view,i=n.width/2,r=n.x-i,a=n.x+i,o=n.base-(n.base-n.y),s=n.borderWidth/2;n.borderWidth&&(r+=s,a-=s,o+=s),t.beginPath(),t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth;var l=[[r,n.base],[r,o],[a,o],[a,n.base]],c=["bottom","left","top","right"],u=c.indexOf(n.borderSkipped,0);-1===u&&(u=0),t.moveTo.apply(t,e(0));for(var d=1;4>d;d++)t.lineTo.apply(t,e(d));t.fill(),n.borderWidth&&t.stroke()},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){var n=this._view;return!!n&&(n.y<n.base?e>=n.x-n.width/2&&e<=n.x+n.width/2&&t>=n.y&&t<=n.base:e>=n.x-n.width/2&&e<=n.x+n.width/2&&t>=n.base&&t<=n.y)},inLabelRange:function(e){var t=this._view;return!!t&&(e>=t.x-t.width/2&&e<=t.x+t.width/2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}})}},{}],38:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n={position:"bottom"},i=e.Scale.extend({determineDataLimits:function(){this.minIndex=0,this.maxIndex=this.chart.data.labels.length-1;var e;void 0!==this.options.ticks.min&&(e=t.indexOf(this.chart.data.labels,this.options.ticks.min),this.minIndex=-1!==e?e:this.minIndex),void 0!==this.options.ticks.max&&(e=t.indexOf(this.chart.data.labels,this.options.ticks.max),this.maxIndex=-1!==e?e:this.maxIndex),this.min=this.chart.data.labels[this.minIndex],this.max=this.chart.data.labels[this.maxIndex]},buildTicks:function(e){this.ticks=0===this.minIndex&&this.maxIndex===this.chart.data.labels.length-1?this.chart.data.labels:this.chart.data.labels.slice(this.minIndex,this.maxIndex+1)},getLabelForIndex:function(e,t){return this.ticks[e]},getPixelForValue:function(e,t,n,i){var r=Math.max(this.maxIndex+1-this.minIndex-(this.options.gridLines.offsetGridLines?0:1),1);if(this.isHorizontal()){var a=this.width-(this.paddingLeft+this.paddingRight),o=a/r,s=o*(t-this.minIndex)+this.paddingLeft;return this.options.gridLines.offsetGridLines&&i&&(s+=o/2),this.left+Math.round(s)}var l=this.height-(this.paddingTop+this.paddingBottom),c=l/r,u=c*(t-this.minIndex)+this.paddingTop;return this.options.gridLines.offsetGridLines&&i&&(u+=c/2),this.top+Math.round(u)},getPixelForTick:function(e,t){return this.getPixelForValue(this.ticks[e],e+this.minIndex,null,t)},getValueForPixel:function(e){var t=Math.max(this.ticks.length-(this.options.gridLines.offsetGridLines?0:1),1),n=this.isHorizontal(),i=n?this.width-(this.paddingLeft+this.paddingRight):this.height-(this.paddingTop+this.paddingBottom),r=i/t;return this.options.gridLines.offsetGridLines&&(e-=r/2),e-=n?this.paddingLeft:this.paddingTop,0>=e?0:Math.round(e/r)}});e.scaleService.registerScaleType("category",i,n)}},{}],39:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n={position:"left",ticks:{callback:function(e,n,i){var r=i.length>3?i[2]-i[1]:i[1]-i[0];Math.abs(r)>1&&e!==Math.floor(e)&&(r=e-Math.floor(e));var a=t.log10(Math.abs(r)),o="";if(0!==e){var s=-1*Math.floor(a);s=Math.max(Math.min(s,20),0),o=e.toFixed(s)}else o="0";return o}}},i=e.Scale.extend({determineDataLimits:function(){function e(e){return l?e.xAxisID===n.id:e.yAxisID===n.id}var n=this,i=n.options,r=i.ticks,a=n.chart,o=a.data,s=o.datasets,l=n.isHorizontal();if(n.min=null,n.max=null,i.stacked){var c={},u=!1,d=!1;t.each(s,function(r,o){var s=a.getDatasetMeta(o);void 0===c[s.type]&&(c[s.type]={positiveValues:[],negativeValues:[]});var l=c[s.type].positiveValues,h=c[s.type].negativeValues;a.isDatasetVisible(o)&&e(s)&&t.each(r.data,function(e,t){var r=+n.getRightValue(e);isNaN(r)||s.data[t].hidden||(l[t]=l[t]||0,h[t]=h[t]||0,i.relativePoints?l[t]=100:0>r?(d=!0,h[t]+=r):(u=!0,l[t]+=r))})}),t.each(c,function(e){var i=e.positiveValues.concat(e.negativeValues),r=t.min(i),a=t.max(i);n.min=null===n.min?r:Math.min(n.min,r),n.max=null===n.max?a:Math.max(n.max,a)})}else t.each(s,function(i,r){var o=a.getDatasetMeta(r);a.isDatasetVisible(r)&&e(o)&&t.each(i.data,function(e,t){var i=+n.getRightValue(e);isNaN(i)||o.data[t].hidden||(null===n.min?n.min=i:i<n.min&&(n.min=i),null===n.max?n.max=i:i>n.max&&(n.max=i))})});if(r.beginAtZero){var h=t.sign(n.min),p=t.sign(n.max);0>h&&0>p?n.max=0:h>0&&p>0&&(n.min=0)}void 0!==r.min?n.min=r.min:void 0!==r.suggestedMin&&(n.min=Math.min(n.min,r.suggestedMin)),void 0!==r.max?n.max=r.max:void 0!==r.suggestedMax&&(n.max=Math.max(n.max,r.suggestedMax)),n.min===n.max&&(n.max++,r.beginAtZero||n.min--)},buildTicks:function(){var n,i=this,r=i.options,a=r.ticks,o=t.getValueOrDefault,s=i.isHorizontal(),l=i.ticks=[];if(s)n=Math.min(a.maxTicksLimit?a.maxTicksLimit:11,Math.ceil(i.width/50));else{var c=o(a.fontSize,e.defaults.global.defaultFontSize);n=Math.min(a.maxTicksLimit?a.maxTicksLimit:11,Math.ceil(i.height/(2*c)))}n=Math.max(2,n);var u;if(a.fixedStepSize&&a.fixedStepSize>0||a.stepSize&&a.stepSize>0)u=o(a.fixedStepSize,a.stepSize);else{var d=t.niceNum(i.max-i.min,!1);u=t.niceNum(d/(n-1),!0)}var h=Math.floor(i.min/u)*u,p=Math.ceil(i.max/u)*u,f=(p-h)/u;f=t.almostEquals(f,Math.round(f),u/1e3)?Math.round(f):Math.ceil(f),l.push(void 0!==a.min?a.min:h);for(var g=1;f>g;++g)l.push(h+g*u);l.push(void 0!==a.max?a.max:p),s||l.reverse(),i.max=t.max(l),i.min=t.min(l),a.reverse?(l.reverse(),i.start=i.max,i.end=i.min):(i.start=i.min,i.end=i.max)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),e.Scale.prototype.convertTicksToLabels.call(t)},getPixelForValue:function(e,t,n,i){var r,a,o=this,s=o.paddingLeft,l=o.paddingBottom,c=o.start,u=+o.getRightValue(e),d=o.end-c;return o.isHorizontal()?(a=o.width-(s+o.paddingRight),r=o.left+a/d*(u-c),Math.round(r+s)):(a=o.height-(o.paddingTop+l),r=o.bottom-l-a/d*(u-c),Math.round(r))},getValueForPixel:function(e){var t=this,n=t.isHorizontal(),i=t.paddingLeft,r=t.paddingBottom,a=n?t.width-(i+t.paddingRight):t.height-(t.paddingTop+r),o=(n?e-t.left-i:t.bottom-r-e)/a;return t.start+(t.end-t.start)*o},getPixelForTick:function(e,t){return this.getPixelForValue(this.ticksAsNumbers[e],null,null,t)}});e.scaleService.registerScaleType("linear",i,n)}},{}],40:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n={position:"left",ticks:{callback:function(e,n,i){var r=e/Math.pow(10,Math.floor(t.log10(e)));return 1===r||2===r||5===r||0===n||n===i.length-1?e.toExponential():""}}},i=e.Scale.extend({determineDataLimits:function(){function e(e){return c?e.xAxisID===n.id:e.yAxisID===n.id}var n=this,i=n.options,r=i.ticks,a=n.chart,o=a.data,s=o.datasets,l=t.getValueOrDefault,c=n.isHorizontal();if(n.min=null,n.max=null,i.stacked){var u={};t.each(s,function(r,o){var s=a.getDatasetMeta(o);a.isDatasetVisible(o)&&e(s)&&(void 0===u[s.type]&&(u[s.type]=[]),t.each(r.data,function(e,t){var r=u[s.type],a=+n.getRightValue(e);isNaN(a)||s.data[t].hidden||(r[t]=r[t]||0,i.relativePoints?r[t]=100:r[t]+=a)}))}),t.each(u,function(e){var i=t.min(e),r=t.max(e);n.min=null===n.min?i:Math.min(n.min,i),n.max=null===n.max?r:Math.max(n.max,r)})}else t.each(s,function(i,r){var o=a.getDatasetMeta(r);a.isDatasetVisible(r)&&e(o)&&t.each(i.data,function(e,t){var i=+n.getRightValue(e);isNaN(i)||o.data[t].hidden||(null===n.min?n.min=i:i<n.min&&(n.min=i),null===n.max?n.max=i:i>n.max&&(n.max=i))})});n.min=l(r.min,n.min),n.max=l(r.max,n.max),n.min===n.max&&(0!==n.min&&null!==n.min?(n.min=Math.pow(10,Math.floor(t.log10(n.min))-1),n.max=Math.pow(10,Math.floor(t.log10(n.max))+1)):(n.min=1,n.max=10))},buildTicks:function(){for(var e=this,n=e.options,i=n.ticks,r=t.getValueOrDefault,a=e.ticks=[],o=r(i.min,Math.pow(10,Math.floor(t.log10(e.min))));o<e.max;){a.push(o);var s=Math.floor(t.log10(o)),l=Math.floor(o/Math.pow(10,s))+1;10===l&&(l=1,++s),o=l*Math.pow(10,s)}var c=r(i.max,o);a.push(c),e.isHorizontal()||a.reverse(),e.max=t.max(a),e.min=t.min(a),i.reverse?(a.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),e.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e,t){return this.getPixelForValue(this.tickValues[e],null,null,t)},getPixelForValue:function(e,n,i,r){var a,o,s=this,l=s.start,c=+s.getRightValue(e),u=t.log10(s.end)-t.log10(l),d=s.paddingTop,h=s.paddingBottom,p=s.paddingLeft;return s.isHorizontal()?0===c?o=s.left+p:(a=s.width-(p+s.paddingRight),o=s.left+a/u*(t.log10(c)-t.log10(l)),o+=p):0===c?o=s.top+d:(a=s.height-(d+h),o=s.bottom-h-a/u*(t.log10(c)-t.log10(l))),o},getValueForPixel:function(e){var n,i,r=this,a=t.log10(r.end)-t.log10(r.start);return r.isHorizontal()?(i=r.width-(r.paddingLeft+r.paddingRight),n=r.start*Math.pow(10,(e-r.left-r.paddingLeft)*a/i)):(i=r.height-(r.paddingTop+r.paddingBottom),n=Math.pow(10,(r.bottom-r.paddingBottom-e)*a/i)/r.start),n}});e.scaleService.registerScaleType("logarithmic",i,n)}},{}],41:[function(e,t,n){"use strict";t.exports=function(e){var t=e.helpers,n=e.defaults.global,i={display:!0,animate:!0,lineArc:!1,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2},pointLabels:{fontSize:10,callback:function(e){return e}}},r=e.Scale.extend({getValueCount:function(){return this.chart.data.labels.length},setDimensions:function(){var e=this.options;this.width=this.maxWidth,this.height=this.maxHeight,this.xCenter=Math.round(this.width/2),this.yCenter=Math.round(this.height/2);var i=t.min([this.height,this.width]),r=t.getValueOrDefault(e.ticks.fontSize,n.defaultFontSize);this.drawingArea=e.display?i/2-(r/2+e.ticks.backdropPaddingY):i/2},determineDataLimits:function(){if(this.min=null,this.max=null,t.each(this.chart.data.datasets,function(e,n){if(this.chart.isDatasetVisible(n)){var i=this.chart.getDatasetMeta(n);t.each(e.data,function(e,t){var n=+this.getRightValue(e);isNaN(n)||i.data[t].hidden||(null===this.min?this.min=n:n<this.min&&(this.min=n),null===this.max?this.max=n:n>this.max&&(this.max=n))},this)}},this),this.options.ticks.beginAtZero){var e=t.sign(this.min),n=t.sign(this.max);0>e&&0>n?this.max=0:e>0&&n>0&&(this.min=0)}void 0!==this.options.ticks.min?this.min=this.options.ticks.min:void 0!==this.options.ticks.suggestedMin&&(this.min=Math.min(this.min,this.options.ticks.suggestedMin)),void 0!==this.options.ticks.max?this.max=this.options.ticks.max:void 0!==this.options.ticks.suggestedMax&&(this.max=Math.max(this.max,this.options.ticks.suggestedMax)),this.min===this.max&&(this.min--,this.max++)},buildTicks:function(){this.ticks=[];var e=t.getValueOrDefault(this.options.ticks.fontSize,n.defaultFontSize),i=Math.min(this.options.ticks.maxTicksLimit?this.options.ticks.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*e)));i=Math.max(2,i);var r=t.niceNum(this.max-this.min,!1),a=t.niceNum(r/(i-1),!0),o=Math.floor(this.min/a)*a,s=Math.ceil(this.max/a)*a,l=Math.ceil((s-o)/a);this.ticks.push(void 0!==this.options.ticks.min?this.options.ticks.min:o);for(var c=1;l>c;++c)this.ticks.push(o+c*a);this.ticks.push(void 0!==this.options.ticks.max?this.options.ticks.max:s),this.max=t.max(this.ticks),this.min=t.min(this.ticks),this.options.ticks.reverse?(this.ticks.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),this.zeroLineIndex=this.ticks.indexOf(0)},convertTicksToLabels:function(){e.Scale.prototype.convertTicksToLabels.call(this),this.pointLabels=this.chart.data.labels.map(this.options.pointLabels.callback,this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e,i,r,a,o,s,l,c,u,d,h,p,f=this.options.pointLabels,g=t.getValueOrDefault(f.fontSize,n.defaultFontSize),m=t.getValueOrDefault(f.fontStyle,n.defaultFontStyle),v=t.getValueOrDefault(f.fontFamily,n.defaultFontFamily),b=t.fontString(g,m,v),y=t.min([this.height/2-g-5,this.width/2]),w=this.width,x=0;for(this.ctx.font=b,i=0;i<this.getValueCount();i++)e=this.getPointPosition(i,y),r=this.ctx.measureText(this.pointLabels[i]?this.pointLabels[i]:"").width+5,0===i||i===this.getValueCount()/2?(a=r/2,e.x+a>w&&(w=e.x+a,o=i),e.x-a<x&&(x=e.x-a,l=i)):i<this.getValueCount()/2?e.x+r>w&&(w=e.x+r,o=i):i>this.getValueCount()/2&&e.x-r<x&&(x=e.x-r,l=i);u=x,d=Math.ceil(w-this.width),s=this.getIndexAngle(o),c=this.getIndexAngle(l),h=d/Math.sin(s+Math.PI/2),p=u/Math.sin(c+Math.PI/2),h=t.isNumber(h)?h:0,p=t.isNumber(p)?p:0,this.drawingArea=Math.round(y-(p+h)/2),this.setCenterPoint(p,h)},setCenterPoint:function(e,t){var n=this.width-t-this.drawingArea,i=e+this.drawingArea;this.xCenter=Math.round((i+n)/2+this.left),this.yCenter=Math.round(this.height/2+this.top)},getIndexAngle:function(e){return e*(2*Math.PI/this.getValueCount())-Math.PI/2},getDistanceFromCenterForValue:function(e){if(null===e)return 0;var t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t},getPointPosition:function(e,t){var n=this.getIndexAngle(e);return{x:Math.round(Math.cos(n)*t)+this.xCenter,y:Math.round(Math.sin(n)*t)+this.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(){var e=this,t=e.min,n=e.max;return e.getPointPositionForValue(0,e.beginAtZero?0:0>t&&0>n?n:t>0&&n>0?t:0)},draw:function(){if(this.options.display){var e=this.ctx;if(t.each(this.ticks,function(i,r){if(r>0||this.options.reverse){var a=this.getDistanceFromCenterForValue(this.ticks[r]),o=this.yCenter-a;if(this.options.gridLines.display)if(e.strokeStyle=this.options.gridLines.color,e.lineWidth=this.options.gridLines.lineWidth,this.options.lineArc)e.beginPath(),e.arc(this.xCenter,this.yCenter,a,0,2*Math.PI),e.closePath(),e.stroke();else{e.beginPath();for(var s=0;s<this.getValueCount();s++){var l=this.getPointPosition(s,this.getDistanceFromCenterForValue(this.ticks[r]));0===s?e.moveTo(l.x,l.y):e.lineTo(l.x,l.y)}e.closePath(),e.stroke()}if(this.options.ticks.display){var c=t.getValueOrDefault(this.options.ticks.fontColor,n.defaultFontColor),u=t.getValueOrDefault(this.options.ticks.fontSize,n.defaultFontSize),d=t.getValueOrDefault(this.options.ticks.fontStyle,n.defaultFontStyle),h=t.getValueOrDefault(this.options.ticks.fontFamily,n.defaultFontFamily),p=t.fontString(u,d,h);if(e.font=p,this.options.ticks.showLabelBackdrop){var f=e.measureText(i).width;e.fillStyle=this.options.ticks.backdropColor,e.fillRect(this.xCenter-f/2-this.options.ticks.backdropPaddingX,o-u/2-this.options.ticks.backdropPaddingY,f+2*this.options.ticks.backdropPaddingX,u+2*this.options.ticks.backdropPaddingY)}e.textAlign="center",e.textBaseline="middle",e.fillStyle=c,e.fillText(i,this.xCenter,o)}}},this),!this.options.lineArc){e.lineWidth=this.options.angleLines.lineWidth,e.strokeStyle=this.options.angleLines.color;for(var i=this.getValueCount()-1;i>=0;i--){if(this.options.angleLines.display){var r=this.getPointPosition(i,this.getDistanceFromCenterForValue(this.options.reverse?this.min:this.max));e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(r.x,r.y),e.stroke(),e.closePath()}var a=this.getPointPosition(i,this.getDistanceFromCenterForValue(this.options.reverse?this.min:this.max)+5),o=t.getValueOrDefault(this.options.pointLabels.fontColor,n.defaultFontColor),s=t.getValueOrDefault(this.options.pointLabels.fontSize,n.defaultFontSize),l=t.getValueOrDefault(this.options.pointLabels.fontStyle,n.defaultFontStyle),c=t.getValueOrDefault(this.options.pointLabels.fontFamily,n.defaultFontFamily),u=t.fontString(s,l,c);e.font=u,e.fillStyle=o;var d=this.pointLabels.length,h=this.pointLabels.length/2,p=h/2,f=p>i||i>d-p,g=i===p||i===d-p;e.textAlign=0===i?"center":i===h?"center":h>i?"left":"right",e.textBaseline=g?"middle":f?"bottom":"top",e.fillText(this.pointLabels[i]?this.pointLabels[i]:"",a.x,a.y)}}}}});e.scaleService.registerScaleType("radialLinear",r,i)}},{}],42:[function(e,t,n){"use strict";var i=e("moment");i="function"==typeof i?i:window.moment,t.exports=function(e){var t=e.helpers,n={units:[{name:"millisecond",steps:[1,2,5,10,20,50,100,250,500]},{name:"second",steps:[1,2,5,10,30]},{name:"minute",steps:[1,2,5,10,30]},{name:"hour",steps:[1,2,3,6,12]},{name:"day",steps:[1,2,5]},{name:"week",maxStep:4},{name:"month",maxStep:3},{name:"quarter",maxStep:4},{name:"year",maxStep:!1}]},r={position:"bottom",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm:ss a",hour:"MMM D, hA",day:"ll",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1}},a=e.Scale.extend({initialize:function(){if(!i)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");e.Scale.prototype.initialize.call(this)},getLabelMoment:function(e,t){return this.labelMoments[e][t]},getMomentStartOf:function(e){return"week"===this.options.time.unit&&!1!==this.options.time.isoWeekday?e.clone().startOf("isoWeek").isoWeekday(this.options.time.isoWeekday):e.clone().startOf(this.tickUnit)},determineDataLimits:function(){this.labelMoments=[];var e=[];this.chart.data.labels&&this.chart.data.labels.length>0?(t.each(this.chart.data.labels,function(t,n){var i=this.parseTime(t);i.isValid()&&(this.options.time.round&&i.startOf(this.options.time.round),e.push(i))},this),this.firstTick=i.min.call(this,e),this.lastTick=i.max.call(this,e)):(this.firstTick=null,this.lastTick=null),t.each(this.chart.data.datasets,function(n,r){var a=[],o=this.chart.isDatasetVisible(r);"object"==typeof n.data[0]&&null!==n.data[0]?t.each(n.data,function(e,t){var n=this.parseTime(this.getRightValue(e));n.isValid()&&(this.options.time.round&&n.startOf(this.options.time.round),a.push(n),o&&(this.firstTick=null!==this.firstTick?i.min(this.firstTick,n):n,this.lastTick=null!==this.lastTick?i.max(this.lastTick,n):n))},this):a=e,this.labelMoments.push(a)},this),this.options.time.min&&(this.firstTick=this.parseTime(this.options.time.min)),this.options.time.max&&(this.lastTick=this.parseTime(this.options.time.max)),this.firstTick=(this.firstTick||i()).clone(),this.lastTick=(this.lastTick||i()).clone()},buildTicks:function(i){this.ctx.save();var r=t.getValueOrDefault(this.options.ticks.fontSize,e.defaults.global.defaultFontSize),a=t.getValueOrDefault(this.options.ticks.fontStyle,e.defaults.global.defaultFontStyle),o=t.getValueOrDefault(this.options.ticks.fontFamily,e.defaults.global.defaultFontFamily),s=t.fontString(r,a,o);if(this.ctx.font=s,this.ticks=[],this.unitScale=1,this.scaleSizeInUnits=0,this.options.time.unit)this.tickUnit=this.options.time.unit||"day",this.displayFormat=this.options.time.displayFormats[this.tickUnit],this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0),this.unitScale=t.getValueOrDefault(this.options.time.unitStepSize,1);else{var l=this.isHorizontal()?this.width-(this.paddingLeft+this.paddingRight):this.height-(this.paddingTop+this.paddingBottom),c=this.tickFormatFunction(this.firstTick,0,[]),u=this.ctx.measureText(c).width;u=u*Math.cos(t.toRadians(this.options.ticks.maxRotation))+r*Math.sin(t.toRadians(this.options.ticks.maxRotation));var d=l/u;this.tickUnit="millisecond",this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0),this.displayFormat=this.options.time.displayFormats[this.tickUnit];for(var h=0,p=n.units[h];h<n.units.length;){if(this.unitScale=1,t.isArray(p.steps)&&Math.ceil(this.scaleSizeInUnits/d)<t.max(p.steps)){for(var f=0;f<p.steps.length;++f)if(p.steps[f]>=Math.ceil(this.scaleSizeInUnits/d)){this.unitScale=t.getValueOrDefault(this.options.time.unitStepSize,p.steps[f]);break}break}if(!1===p.maxStep||Math.ceil(this.scaleSizeInUnits/d)<p.maxStep){this.unitScale=t.getValueOrDefault(this.options.time.unitStepSize,Math.ceil(this.scaleSizeInUnits/d));break}++h,p=n.units[h],this.tickUnit=p.name;var g=this.firstTick.diff(this.getMomentStartOf(this.firstTick),this.tickUnit,!0),m=this.getMomentStartOf(this.lastTick.clone().add(1,this.tickUnit)).diff(this.lastTick,this.tickUnit,!0)
;this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0)+g+m,this.displayFormat=this.options.time.displayFormats[p.name]}}var v;if(this.options.time.min?v=this.getMomentStartOf(this.firstTick):(this.firstTick=this.getMomentStartOf(this.firstTick),v=this.firstTick),!this.options.time.max){0!==this.getMomentStartOf(this.lastTick).diff(this.lastTick,this.tickUnit,!0)&&(this.lastTick=this.getMomentStartOf(this.lastTick.add(1,this.tickUnit)))}this.smallestLabelSeparation=this.width,t.each(this.chart.data.datasets,function(e,t){for(var n=1;n<this.labelMoments[t].length;n++)this.smallestLabelSeparation=Math.min(this.smallestLabelSeparation,this.labelMoments[t][n].diff(this.labelMoments[t][n-1],this.tickUnit,!0))},this),this.options.time.displayFormat&&(this.displayFormat=this.options.time.displayFormat),this.ticks.push(this.firstTick.clone());for(var b=1;b<=this.scaleSizeInUnits;++b){var y=v.clone().add(b,this.tickUnit);if(this.options.time.max&&y.diff(this.lastTick,this.tickUnit,!0)>=0)break;b%this.unitScale==0&&this.ticks.push(y)}(0!==this.ticks[this.ticks.length-1].diff(this.lastTick,this.tickUnit)||0===this.scaleSizeInUnits)&&(this.options.time.max?(this.ticks.push(this.lastTick.clone()),this.scaleSizeInUnits=this.lastTick.diff(this.ticks[0],this.tickUnit,!0)):(this.ticks.push(this.lastTick.clone()),this.scaleSizeInUnits=this.lastTick.diff(this.firstTick,this.tickUnit,!0))),this.ctx.restore()},getLabelForIndex:function(e,t){var n=this.chart.data.labels&&e<this.chart.data.labels.length?this.chart.data.labels[e]:"";return"object"==typeof this.chart.data.datasets[t].data[0]&&(n=this.getRightValue(this.chart.data.datasets[t].data[e])),this.options.time.tooltipFormat&&(n=this.parseTime(n).format(this.options.time.tooltipFormat)),n},tickFormatFunction:function(e,n,i){var r=e.format(this.displayFormat),a=this.options.ticks,o=t.getValueOrDefault(a.callback,a.userCallback);return o?o(r,n,i):r},convertTicksToLabels:function(){this.tickMoments=this.ticks,this.ticks=this.ticks.map(this.tickFormatFunction,this)},getPixelForValue:function(e,t,n,i){var r=e&&e.isValid&&e.isValid()?e:this.getLabelMoment(n,t);if(r){var a=r.diff(this.firstTick,this.tickUnit,!0),o=a/this.scaleSizeInUnits;if(this.isHorizontal()){var s=this.width-(this.paddingLeft+this.paddingRight),l=(Math.max(this.ticks.length-1,1),s*o+this.paddingLeft);return this.left+Math.round(l)}var c=this.height-(this.paddingTop+this.paddingBottom),u=(Math.max(this.ticks.length-1,1),c*o+this.paddingTop);return this.top+Math.round(u)}},getPixelForTick:function(e,t){return this.getPixelForValue(this.tickMoments[e],null,null,t)},getValueForPixel:function(e){var t=this.isHorizontal()?this.width-(this.paddingLeft+this.paddingRight):this.height-(this.paddingTop+this.paddingBottom),n=(e-(this.isHorizontal()?this.left+this.paddingLeft:this.top+this.paddingTop))/t;return n*=this.scaleSizeInUnits,this.firstTick.clone().add(i.duration(n,this.tickUnit).asSeconds(),"seconds")},parseTime:function(e){return"string"==typeof this.options.time.parser?i(e,this.options.time.parser):"function"==typeof this.options.time.parser?this.options.time.parser(e):"function"==typeof e.getMonth||"number"==typeof e?i(e):e.isValid&&e.isValid()?e:"string"!=typeof this.options.time.format&&this.options.time.format.call?(console.warn("options.time.format is deprecated and replaced by options.time.parser. See http://nnnick.github.io/Chart.js/docs-v2/#scales-time-scale"),this.options.time.format(e)):i(e,this.options.time.format)}});e.scaleService.registerScaleType("time",a,r)}},{moment:1}]},{},[7]),function(){"use strict";var e={toggleBranchText:"click to expand",emptyValueText:"none",dateFormat:"yyyy-MM-dd HH:mm:ss"},t={is:function(e,t){return Object.prototype.toString.call(e).slice(8,-1)===t},whatClass:function(e){return Object.prototype.toString.call(e).slice(8,-1)},forKeys:function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&"function"!=typeof e[n]&&t(n,e[n]))break},unCamelCase:function(e){return"string"==typeof e?e.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/\b([A-Z]+)([A-Z])([a-z])/,"$1 $2$3").replace(/^./,function(e){return e.toUpperCase()}):e},isEmpty:function(e){if(null==e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;if("object"!=typeof e)return!0;for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0},includes:function(e,t){return e&&"string"==typeof e&&e.indexOf(t)>=0}};angular.module("user-friendly-angular-json-tree",["ajs.RecursiveDirectiveHelper"]).directive("userFriendlyJsonTree",[function(){return{restrict:"E",scope:{object:"=",startExpanded:"&?",rootName:"&?",options:"="},template:'<user-friendly-json-node key="rootName() || \'Object\'" value="object" start-expanded="startExpanded()"></user-friendly-json-node>',link:function(t,n,i){t.options&&(e=angular.extend(e,t.options))}}}]).directive("userFriendlyJsonNode",["ajsRecursiveDirectiveHelper","$filter",function(n,i){return{restrict:"E",scope:{key:"=",value:"=",startExpanded:"&?"},compile:function(e){return n.compile(e,this)},template:' <span class="key" ng-click="toggleExpanded()">{{formatedKey}}</span>       <span class="leaf-value" ng-if="!isExpandable">{{value ? value : options.emptyValueText}}</span>       <span class="branch-preview" ng-if="isExpandable" ng-show="!isExpanded" ng-click="toggleExpanded()">{{options.toggleBranchText}}</span>       <ul class="branch-value" ng-if="isExpandable && shouldRender" ng-show="isExpanded">           <li ng-repeat="(subkey,subval) in value">               <user-friendly-json-node key="subkey" value="subval"></user-friendly-json-node>           </li>       </ul>',pre:function(n,r,a){n.options=e,n.formatedKey=t.unCamelCase(n.key),r.addClass(t.whatClass(n.value).toLowerCase()),t.is(n.value,"Object")||t.is(n.value,"Array")?t.isEmpty(n.value)?(n.isExpandable=!1,n.value=n.options.emptyValueText):(n.isExpandable=!0,r.addClass("expandable"),n.startExpanded&&n.startExpanded()&&(n.shouldRender=!0,r.addClass("expanded")),n.isExpanded=!!n.startExpanded&&n.startExpanded(),n.toggleExpanded=function(){n.isExpanded=!n.isExpanded,n.isExpanded?r.addClass("expanded"):r.removeClass("expanded"),n.shouldRender=!0}):(n.isExpandable=!1,r.addClass("not-expandable"),t.includes(n.formatedKey,"Date")&&!isNaN(n.value)&&(n.value=i("date")(n.value,n.options.dateFormat)))}}}]),angular.module("ajs.RecursiveDirectiveHelper",[]).factory("ajsRecursiveDirectiveHelper",["$compile",function(e){return{compile:function(t,n){angular.isFunction(n)&&(n={post:n});var i,r=t.contents().remove();return{pre:n&&n.pre?n.pre:null,post:function(t,a){i||(i=e(r)),i(t,function(e){a.append(e)}),n&&n.post&&n.post.apply(null,arguments)}}}}}])}(),angular.module("jsonFormatter",["RecursionHelper"]).provider("JSONFormatterConfig",function(){var e=!1,t=100,n=5;return{get hoverPreviewEnabled(){return e},set hoverPreviewEnabled(t){e=!!t},get hoverPreviewArrayCount(){return t},set hoverPreviewArrayCount(e){t=parseInt(e,10)},get hoverPreviewFieldCount(){return n},set hoverPreviewFieldCount(e){n=parseInt(e,10)},$get:function(){return{hoverPreviewEnabled:e,hoverPreviewArrayCount:t,hoverPreviewFieldCount:n}}}}).directive("jsonFormatter",["RecursionHelper","JSONFormatterConfig",function(e,t){function n(e){return e.replace('"','"')}function i(e){if(void 0===e)return"";if(null===e)return"Object";if("object"==typeof e&&!e.constructor)return"Object";var t=/function (.{1,})\(/,n=t.exec(e.constructor.toString());return n&&n.length>1?n[1]:""}function r(e){return null===e?"null":typeof e}function a(e,t){var i=r(e);return"null"===i||"undefined"===i?i:("string"===i&&(t='"'+n(t)+'"'),"function"===i?e.toString().replace(/[\r\n]/g,"").replace(/\{.*\}/,"")+"{…}":t)}function o(e){var t="";return angular.isObject(e)?(t=i(e),angular.isArray(e)&&(t+="["+e.length+"]")):t=a(e,e),t}function s(e){e.isArray=function(){return angular.isArray(e.json)},e.isObject=function(){return angular.isObject(e.json)},e.getKeys=function(){if(e.isObject())return Object.keys(e.json).map(function(e){return""===e?'""':e})},e.type=r(e.json),e.hasKey=void 0!==e.key,e.getConstructorName=function(){return i(e.json)},"string"===e.type&&("Invalid Date"!==new Date(e.json).toString()&&(e.isDate=!0),0===e.json.indexOf("http")&&(e.isUrl=!0)),e.isEmptyObject=function(){return e.getKeys()&&!e.getKeys().length&&e.isOpen&&!e.isArray()},e.isOpen=!!e.open,e.toggleOpen=function(){e.isOpen=!e.isOpen},e.childrenOpen=function(){return e.open>1?e.open-1:0},e.openLink=function(t){t&&(window.location.href=e.json)},e.parseValue=function(t){return a(e.json,t)},e.showThumbnail=function(){return!!t.hoverPreviewEnabled&&e.isObject()&&!e.isOpen},e.getThumbnail=function(){if(e.isArray())return e.json.length>t.hoverPreviewArrayCount?"Array["+e.json.length+"]":"["+e.json.map(o).join(", ")+"]";var n=e.getKeys(),i=n.slice(0,t.hoverPreviewFieldCount),r=i.map(function(t){return t+":"+o(e.json[t])}),a=n.length>=5?"…":"";return"{"+r.join(", ")+a+"}"}}return{templateUrl:"json-formatter.html",restrict:"E",replace:!0,scope:{json:"=",key:"=",open:"="},compile:function(t){return e.compile(t,s)}}}]),"object"==typeof module&&(module.exports="jsonFormatter"),angular.module("RecursionHelper",[]).factory("RecursionHelper",["$compile",function(e){return{compile:function(t,n){angular.isFunction(n)&&(n={post:n});var i,r=t.contents().remove();return{pre:n&&n.pre?n.pre:null,post:function(t,a){i||(i=e(r)),i(t,function(e){a.append(e)}),n&&n.post&&n.post.apply(null,arguments)}}}}}]),angular.module("jsonFormatter").run(["$templateCache",function(e){e.put("json-formatter.html",'<div ng-init="isOpen = open && open > 0" class="json-formatter-row"><a ng-click="toggleOpen()"><span class="toggler {{isOpen ? \'open\' : \'\'}}" ng-if="isObject()"></span> <span class="key" ng-if="hasKey"><span class="key-text">{{key}}</span><span class="colon">:</span></span> <span class="value"><span ng-if="isObject()"><span class="constructor-name">{{getConstructorName(json)}}</span> <span ng-if="isArray()"><span class="bracket">[</span><span class="number">{{json.length}}</span><span class="bracket">]</span></span></span> <span ng-if="!isObject()" ng-click="openLink(isUrl)" class="{{type}}" ng-class="{date: isDate, url: isUrl}">{{parseValue(json)}}</span></span> <span ng-if="showThumbnail()" class="thumbnail-text">{{getThumbnail()}}</span></a><div class="children" ng-if="getKeys().length && isOpen"><json-formatter ng-repeat="key in getKeys() track by $index" json="json[key]" key="key" open="childrenOpen()"></json-formatter></div><div class="children empty object" ng-if="isEmptyObject()"></div><div class="children empty array" ng-if="getKeys() && !getKeys().length && isOpen && isArray()"></div></div>')}]),/*!
  * https://github.com/paulmillr/es6-shim
  * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
  *   and contributors,  MIT License
  * es6-shim: v0.35.1
  * see https://github.com/paulmillr/es6-shim/blob/0.35.1/LICENSE
  * Details and documentation:
  * https://github.com/paulmillr/es6-shim/
  */
function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.returnExports=t()}(this,function(){"use strict";var e,t=Function.call.bind(Function.apply),n=Function.call.bind(Function.call),i=Array.isArray,r=Object.keys,a=function(e){try{return e(),!1}catch(e){return!0}},o=function(e){try{return e()}catch(e){return!1}},s=function(e){return function(){return!t(e,this,arguments)}}(a),l=!!Object.defineProperty&&function(){return!a(function(){Object.defineProperty({},"x",{get:function(){}})})}(),c="foo"===function(){}.name,u=Function.call.bind(Array.prototype.forEach),d=Function.call.bind(Array.prototype.reduce),h=Function.call.bind(Array.prototype.filter),p=Function.call.bind(Array.prototype.some),f=function(e,t,n,i){!i&&t in e||(l?Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n}):e[t]=n)},g=function(e,t,n){u(r(t),function(i){var r=t[i];f(e,i,r,!!n)})},m=Function.call.bind(Object.prototype.toString),v="function"==typeof/abc/?function(e){return"function"==typeof e&&"[object Function]"===m(e)}:function(e){return"function"==typeof e},b={getter:function(e,t,n){if(!l)throw new TypeError("getters require true ES5 support");Object.defineProperty(e,t,{configurable:!0,enumerable:!1,get:n})},proxy:function(e,t,n){if(!l)throw new TypeError("getters require true ES5 support");var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,{configurable:i.configurable,enumerable:i.enumerable,get:function(){return e[t]},set:function(n){e[t]=n}})},redefine:function(e,t,n){if(l){var i=Object.getOwnPropertyDescriptor(e,t);i.value=n,Object.defineProperty(e,t,i)}else e[t]=n},defineByDescriptor:function(e,t,n){l?Object.defineProperty(e,t,n):"value"in n&&(e[t]=n.value)},preserveToString:function(e,t){t&&v(t.toString)&&f(e,"toString",t.toString.bind(t),!0)}},y=Object.create||function(e,t){var n=function(){};n.prototype=e;var i=new n;return void 0!==t&&r(t).forEach(function(e){b.defineByDescriptor(i,e,t[e])}),i},w=function(e,t){return!!Object.setPrototypeOf&&o(function(){var n=function t(n){var i=new e(n);return Object.setPrototypeOf(i,t.prototype),i};return Object.setPrototypeOf(n,e),n.prototype=y(e.prototype,{constructor:{value:n}}),t(n)})},x=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}(),_=x.isFinite,k=Function.call.bind(String.prototype.indexOf),C=Function.apply.bind(Array.prototype.indexOf),S=Function.call.bind(Array.prototype.concat),$=Function.call.bind(String.prototype.slice),D=Function.call.bind(Array.prototype.push),T=Function.apply.bind(Array.prototype.push),E=Function.call.bind(Array.prototype.shift),M=Math.max,A=Math.min,O=Math.floor,P=Math.abs,I=Math.exp,R=Math.log,N=Math.sqrt,L=Function.call.bind(Object.prototype.hasOwnProperty),F=function(){},z=x.Map,j=z&&z.prototype.delete,H=z&&z.prototype.get,W=z&&z.prototype.has,B=z&&z.prototype.set,V=x.Symbol||{},U=V.species||"@@species",q=Number.isNaN||function(e){return e!==e},Y=Number.isFinite||function(e){return"number"==typeof e&&_(e)},K=v(Math.sign)?Math.sign:function(e){var t=Number(e);return 0===t?t:q(t)?t:t<0?-1:1},G=function(e){return"[object Arguments]"===m(e)},X=function(e){return null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==m(e)&&"[object Function]"===m(e.callee)},J=G(arguments)?G:X,Z={primitive:function(e){return null===e||"function"!=typeof e&&"object"!=typeof e},string:function(e){return"[object String]"===m(e)},regex:function(e){return"[object RegExp]"===m(e)},symbol:function(e){return"function"==typeof x.Symbol&&"symbol"==typeof e}},Q=function(e,t,n){var i=e[t];f(e,t,n,!0),b.preserveToString(e[t],i)},ee="function"==typeof V&&"function"==typeof V.for&&Z.symbol(V()),te=Z.symbol(V.iterator)?V.iterator:"_es6-shim iterator_";x.Set&&"function"==typeof(new x.Set)["@@iterator"]&&(te="@@iterator"),x.Reflect||f(x,"Reflect",{},!0);var ne=x.Reflect,ie=String,re="undefined"!=typeof document&&document?document.all:null,ae=null==re?function(e){return null==e}:function(e){return null==e&&e!==re},oe={Call:function(e,n){var i=arguments.length>2?arguments[2]:[];if(!oe.IsCallable(e))throw new TypeError(e+" is not a function");return t(e,n,i)},RequireObjectCoercible:function(e,t){if(ae(e))throw new TypeError(t||"Cannot call method on "+e);return e},TypeIsObject:function(e){return void 0!==e&&null!==e&&!0!==e&&!1!==e&&("function"==typeof e||"object"==typeof e||e===re)},ToObject:function(e,t){return Object(oe.RequireObjectCoercible(e,t))},IsCallable:v,IsConstructor:function(e){return oe.IsCallable(e)},ToInt32:function(e){return oe.ToNumber(e)>>0},ToUint32:function(e){return oe.ToNumber(e)>>>0},ToNumber:function(e){if("[object Symbol]"===m(e))throw new TypeError("Cannot convert a Symbol value to a number");return+e},ToInteger:function(e){var t=oe.ToNumber(e);return q(t)?0:0!==t&&Y(t)?(t>0?1:-1)*O(P(t)):t},ToLength:function(e){var t=oe.ToInteger(e);return t<=0?0:t>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t},SameValue:function(e,t){return e===t?0!==e||1/e==1/t:q(e)&&q(t)},SameValueZero:function(e,t){return e===t||q(e)&&q(t)},IsIterable:function(e){return oe.TypeIsObject(e)&&(void 0!==e[te]||J(e))},GetIterator:function(t){if(J(t))return new e(t,"value");var n=oe.GetMethod(t,te);if(!oe.IsCallable(n))throw new TypeError("value is not an iterable");var i=oe.Call(n,t);if(!oe.TypeIsObject(i))throw new TypeError("bad iterator");return i},GetMethod:function(e,t){var n=oe.ToObject(e)[t];if(!ae(n)){if(!oe.IsCallable(n))throw new TypeError("Method not callable: "+t);return n}},IteratorComplete:function(e){return!!e.done},IteratorClose:function(e,t){var n=oe.GetMethod(e,"return");if(void 0!==n){var i,r;try{i=oe.Call(n,e)}catch(e){r=e}if(!t){if(r)throw r;if(!oe.TypeIsObject(i))throw new TypeError("Iterator's return method returned a non-object.")}}},IteratorNext:function(e){var t=arguments.length>1?e.next(arguments[1]):e.next();if(!oe.TypeIsObject(t))throw new TypeError("bad iterator");return t},IteratorStep:function(e){var t=oe.IteratorNext(e);return!oe.IteratorComplete(t)&&t},Construct:function(e,t,n,i){var r=void 0===n?e:n;if(!i&&ne.construct)return ne.construct(e,t,r);var a=r.prototype;oe.TypeIsObject(a)||(a=Object.prototype);var o=y(a),s=oe.Call(e,o,t);return oe.TypeIsObject(s)?s:o},SpeciesConstructor:function(e,t){var n=e.constructor;if(void 0===n)return t;if(!oe.TypeIsObject(n))throw new TypeError("Bad constructor");var i=n[U];if(ae(i))return t;if(!oe.IsConstructor(i))throw new TypeError("Bad @@species");return i},CreateHTML:function(e,t,n,i){var r=oe.ToString(e),a="<"+t;if(""!==n){a+=" "+n+'="'+oe.ToString(i).replace(/"/g,"&quot;")+'"'}return a+">"+r+"</"+t+">"},IsRegExp:function(e){if(!oe.TypeIsObject(e))return!1;var t=e[V.match];return void 0!==t?!!t:Z.regex(e)},ToString:function(e){return ie(e)}};if(l&&ee){var se=function(e){if(Z.symbol(V[e]))return V[e];var t=V.for("Symbol."+e);return Object.defineProperty(V,e,{configurable:!1,enumerable:!1,writable:!1,value:t}),t};if(!Z.symbol(V.search)){var le=se("search"),ce=String.prototype.search;f(RegExp.prototype,le,function(e){return oe.Call(ce,e,[this])});var ue=function(e){var t=oe.RequireObjectCoercible(this);if(!ae(e)){var n=oe.GetMethod(e,le);if(void 0!==n)return oe.Call(n,e,[t])}return oe.Call(ce,t,[oe.ToString(e)])};Q(String.prototype,"search",ue)}if(!Z.symbol(V.replace)){var de=se("replace"),he=String.prototype.replace;f(RegExp.prototype,de,function(e,t){return oe.Call(he,e,[this,t])});var pe=function(e,t){var n=oe.RequireObjectCoercible(this);if(!ae(e)){var i=oe.GetMethod(e,de);if(void 0!==i)return oe.Call(i,e,[n,t])}return oe.Call(he,n,[oe.ToString(e),t])};Q(String.prototype,"replace",pe)}if(!Z.symbol(V.split)){var fe=se("split"),ge=String.prototype.split;f(RegExp.prototype,fe,function(e,t){return oe.Call(ge,e,[this,t])});var me=function(e,t){var n=oe.RequireObjectCoercible(this);if(!ae(e)){var i=oe.GetMethod(e,fe);if(void 0!==i)return oe.Call(i,e,[n,t])}return oe.Call(ge,n,[oe.ToString(e),t])};Q(String.prototype,"split",me)}var ve=Z.symbol(V.match),be=ve&&function(){var e={};return e[V.match]=function(){return 42},42!=="a".match(e)}();if(!ve||be){var ye=se("match"),we=String.prototype.match;f(RegExp.prototype,ye,function(e){return oe.Call(we,e,[this])});var xe=function(e){var t=oe.RequireObjectCoercible(this);if(!ae(e)){var n=oe.GetMethod(e,ye);if(void 0!==n)return oe.Call(n,e,[t])}return oe.Call(we,t,[oe.ToString(e)])};Q(String.prototype,"match",xe)}}var _e=function(e,t,n){b.preserveToString(t,e),Object.setPrototypeOf&&Object.setPrototypeOf(e,t),l?u(Object.getOwnPropertyNames(e),function(i){i in F||n[i]||b.proxy(e,i,t)}):u(Object.keys(e),function(i){i in F||n[i]||(t[i]=e[i])}),t.prototype=e.prototype,b.redefine(e.prototype,"constructor",t)},ke=function(){return this},Ce=function(e){l&&!L(e,U)&&b.getter(e,U,ke)},Se=function(e,t){var n=t||function(){return this};f(e,te,n),!e[te]&&Z.symbol(te)&&(e[te]=n)},$e=function(e,t,n){l?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:n}):e[t]=n},De=function(e,t,n){if($e(e,t,n),!oe.SameValue(e[t],n))throw new TypeError("property is nonconfigurable")},Te=function(e,t,n,i){if(!oe.TypeIsObject(e))throw new TypeError("Constructor requires `new`: "+t.name);var r=t.prototype;oe.TypeIsObject(r)||(r=n);var a=y(r);for(var o in i)if(L(i,o)){var s=i[o];f(a,o,s,!0)}return a};if(String.fromCodePoint&&1!==String.fromCodePoint.length){var Ee=String.fromCodePoint;Q(String,"fromCodePoint",function(e){return oe.Call(Ee,this,arguments)})}var Me={fromCodePoint:function(e){for(var t,n=[],i=0,r=arguments.length;i<r;i++){if(t=Number(arguments[i]),!oe.SameValue(t,oe.ToInteger(t))||t<0||t>1114111)throw new RangeError("Invalid code point "+t);t<65536?D(n,String.fromCharCode(t)):(t-=65536,D(n,String.fromCharCode(55296+(t>>10))),D(n,String.fromCharCode(t%1024+56320)))}return n.join("")},raw:function(e){var t=oe.ToObject(e,"bad callSite"),n=oe.ToObject(t.raw,"bad raw value"),i=n.length,r=oe.ToLength(i);if(r<=0)return"";for(var a,o,s,l,c=[],u=0;u<r&&(a=oe.ToString(u),s=oe.ToString(n[a]),D(c,s),!(u+1>=r));)o=u+1<arguments.length?arguments[u+1]:"",l=oe.ToString(o),D(c,l),u+=1;return c.join("")}};String.raw&&"xy"!==String.raw({raw:{0:"x",1:"y",length:2}})&&Q(String,"raw",Me.raw),g(String,Me);var Ae=function e(t,n){if(n<1)return"";if(n%2)return e(t,n-1)+t;var i=e(t,n/2);return i+i},Oe={repeat:function(e){var t=oe.ToString(oe.RequireObjectCoercible(this)),n=oe.ToInteger(e);if(n<0||n>=1/0)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return Ae(t,n)},startsWith:function(e){var t=oe.ToString(oe.RequireObjectCoercible(this));if(oe.IsRegExp(e))throw new TypeError('Cannot call method "startsWith" with a regex');var n,i=oe.ToString(e);arguments.length>1&&(n=arguments[1]);var r=M(oe.ToInteger(n),0);return $(t,r,r+i.length)===i},endsWith:function(e){var t=oe.ToString(oe.RequireObjectCoercible(this));if(oe.IsRegExp(e))throw new TypeError('Cannot call method "endsWith" with a regex');var n,i=oe.ToString(e),r=t.length;arguments.length>1&&(n=arguments[1]);var a=void 0===n?r:oe.ToInteger(n),o=A(M(a,0),r);return $(t,o-i.length,o)===i},includes:function(e){if(oe.IsRegExp(e))throw new TypeError('"includes" does not accept a RegExp');var t,n=oe.ToString(e);return arguments.length>1&&(t=arguments[1]),-1!==k(this,n,t)},codePointAt:function(e){var t=oe.ToString(oe.RequireObjectCoercible(this)),n=oe.ToInteger(e),i=t.length;if(n>=0&&n<i){var r=t.charCodeAt(n),a=n+1===i;if(r<55296||r>56319||a)return r;var o=t.charCodeAt(n+1);return o<56320||o>57343?r:1024*(r-55296)+(o-56320)+65536}}};if(String.prototype.includes&&!1!=="a".includes("a",1/0)&&Q(String.prototype,"includes",Oe.includes),String.prototype.startsWith&&String.prototype.endsWith){var Pe=a(function(){"/a/".startsWith(/a/)}),Ie=o(function(){return!1==="abc".startsWith("a",1/0)});Pe&&Ie||(Q(String.prototype,"startsWith",Oe.startsWith),Q(String.prototype,"endsWith",Oe.endsWith))}if(ee){o(function(){var e=/a/;return e[V.match]=!1,"/a/".startsWith(e)})||Q(String.prototype,"startsWith",Oe.startsWith);o(function(){var e=/a/;return e[V.match]=!1,"/a/".endsWith(e)})||Q(String.prototype,"endsWith",Oe.endsWith);o(function(){var e=/a/;return e[V.match]=!1,"/a/".includes(e)})||Q(String.prototype,"includes",Oe.includes)}g(String.prototype,Oe);var Re=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),Ne=new RegExp("(^["+Re+"]+)|(["+Re+"]+$)","g"),Le=function(){return oe.ToString(oe.RequireObjectCoercible(this)).replace(Ne,"")},Fe=["","​","￾"].join(""),ze=new RegExp("["+Fe+"]","g"),je=/^[-+]0x[0-9a-f]+$/i,He=Fe.trim().length!==Fe.length;f(String.prototype,"trim",Le,He);var We=function(e){return{value:e,done:0===arguments.length}},Be=function(e){oe.RequireObjectCoercible(e),this._s=oe.ToString(e),this._i=0};Be.prototype.next=function(){var e=this._s,t=this._i;if(void 0===e||t>=e.length)return this._s=void 0,We();var n,i,r=e.charCodeAt(t);return r<55296||r>56319||t+1===e.length?i=1:(n=e.charCodeAt(t+1),i=n<56320||n>57343?1:2),this._i=t+i,We(e.substr(t,i))},Se(Be.prototype),Se(String.prototype,function(){return new Be(this)});var Ve={from:function(e){var t,i=this;arguments.length>1&&(t=arguments[1]);var r,a;if(void 0===t)r=!1;else{if(!oe.IsCallable(t))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(a=arguments[2]),r=!0}var o,s,l,c=void 0!==(J(e)||oe.GetMethod(e,te));if(c){s=oe.IsConstructor(i)?Object(new i):[];var u,d,h=oe.GetIterator(e);for(l=0;;){if(!1===(u=oe.IteratorStep(h)))break;d=u.value;try{r&&(d=void 0===a?t(d,l):n(t,a,d,l)),s[l]=d}catch(e){throw oe.IteratorClose(h,!0),e}l+=1}o=l}else{var p=oe.ToObject(e);o=oe.ToLength(p.length),s=oe.IsConstructor(i)?Object(new i(o)):new Array(o);var f;for(l=0;l<o;++l)f=p[l],r&&(f=void 0===a?t(f,l):n(t,a,f,l)),De(s,l,f)}return s.length=o,s},of:function(){for(var e=arguments.length,t=this,n=i(t)||!oe.IsCallable(t)?new Array(e):oe.Construct(t,[e]),r=0;r<e;++r)De(n,r,arguments[r]);return n.length=e,n}};g(Array,Ve),Ce(Array),e=function(e,t){this.i=0,this.array=e,this.kind=t},g(e.prototype,{next:function(){var t=this.i,n=this.array;if(!(this instanceof e))throw new TypeError("Not an ArrayIterator");if(void 0!==n)for(var i=oe.ToLength(n.length);t<i;t++){var r,a=this.kind;return"key"===a?r=t:"value"===a?r=n[t]:"entry"===a&&(r=[t,n[t]]),this.i=t+1,We(r)}return this.array=void 0,We()}}),Se(e.prototype),Array.of===Ve.of||function(){var e=function(e){this.length=e};e.prototype=[];var t=Array.of.apply(e,[1,2]);return t instanceof e&&2===t.length}()||Q(Array,"of",Ve.of);var Ue={copyWithin:function(e,t){var n,i=oe.ToObject(this),r=oe.ToLength(i.length),a=oe.ToInteger(e),o=oe.ToInteger(t),s=a<0?M(r+a,0):A(a,r),l=o<0?M(r+o,0):A(o,r);arguments.length>2&&(n=arguments[2]);var c=void 0===n?r:oe.ToInteger(n),u=c<0?M(r+c,0):A(c,r),d=A(u-l,r-s),h=1;for(l<s&&s<l+d&&(h=-1,l+=d-1,s+=d-1);d>0;)l in i?i[s]=i[l]:delete i[s],l+=h,s+=h,d-=1;return i},fill:function(e){var t;arguments.length>1&&(t=arguments[1]);var n;arguments.length>2&&(n=arguments[2]);var i=oe.ToObject(this),r=oe.ToLength(i.length);t=oe.ToInteger(void 0===t?0:t),n=oe.ToInteger(void 0===n?r:n);for(var a=t<0?M(r+t,0):A(t,r),o=n<0?r+n:n,s=a;s<r&&s<o;++s)i[s]=e;return i},find:function(e){var t=oe.ToObject(this),i=oe.ToLength(t.length);if(!oe.IsCallable(e))throw new TypeError("Array#find: predicate must be a function");for(var r,a=arguments.length>1?arguments[1]:null,o=0;o<i;o++)if(r=t[o],a){if(n(e,a,r,o,t))return r}else if(e(r,o,t))return r},findIndex:function(e){var t=oe.ToObject(this),i=oe.ToLength(t.length);if(!oe.IsCallable(e))throw new TypeError("Array#findIndex: predicate must be a function");for(var r=arguments.length>1?arguments[1]:null,a=0;a<i;a++)if(r){if(n(e,r,t[a],a,t))return a}else if(e(t[a],a,t))return a;return-1},keys:function(){return new e(this,"key")},values:function(){return new e(this,"value")},entries:function(){return new e(this,"entry")}};if(Array.prototype.keys&&!oe.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!oe.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[te]&&(g(Array.prototype,{values:Array.prototype[te]}),Z.symbol(V.unscopables)&&(Array.prototype[V.unscopables].values=!0)),c&&Array.prototype.values&&"values"!==Array.prototype.values.name){var qe=Array.prototype.values;Q(Array.prototype,"values",function(){return oe.Call(qe,this,arguments)}),f(Array.prototype,te,Array.prototype.values,!0)}g(Array.prototype,Ue),1/[!0].indexOf(!0,-0)<0&&f(Array.prototype,"indexOf",function(e){var t=C(this,arguments);return 0===t&&1/t<0?0:t},!0),Se(Array.prototype,function(){return this.values()}),Object.getPrototypeOf&&Se(Object.getPrototypeOf([].values()));var Ye=function(){return o(function(){return 0===Array.from({length:-1}).length})}(),Ke=function(){var e=Array.from([0].entries());return 1===e.length&&i(e[0])&&0===e[0][0]&&0===e[0][1]}();if(Ye&&Ke||Q(Array,"from",Ve.from),!function(){return o(function(){return Array.from([0],void 0)})}()){var Ge=Array.from;Q(Array,"from",function(e){return arguments.length>1&&void 0!==arguments[1]?oe.Call(Ge,this,arguments):n(Ge,this,e)})}var Xe=-(Math.pow(2,32)-1),Je=function(e,t){var i={length:Xe};return i[t?(i.length>>>0)-1:0]=!0,o(function(){return n(e,i,function(){throw new RangeError("should not reach here")},[]),!0})};if(!Je(Array.prototype.forEach)){var Ze=Array.prototype.forEach;Q(Array.prototype,"forEach",function(e){return oe.Call(Ze,this.length>=0?this:[],arguments)})}if(!Je(Array.prototype.map)){var Qe=Array.prototype.map;Q(Array.prototype,"map",function(e){return oe.Call(Qe,this.length>=0?this:[],arguments)})}if(!Je(Array.prototype.filter)){var et=Array.prototype.filter;Q(Array.prototype,"filter",function(e){return oe.Call(et,this.length>=0?this:[],arguments)})}if(!Je(Array.prototype.some)){var tt=Array.prototype.some;Q(Array.prototype,"some",function(e){return oe.Call(tt,this.length>=0?this:[],arguments)})}if(!Je(Array.prototype.every)){var nt=Array.prototype.every;Q(Array.prototype,"every",function(e){return oe.Call(nt,this.length>=0?this:[],arguments)})}if(!Je(Array.prototype.reduce)){var it=Array.prototype.reduce;Q(Array.prototype,"reduce",function(e){return oe.Call(it,this.length>=0?this:[],arguments)})}if(!Je(Array.prototype.reduceRight,!0)){var rt=Array.prototype.reduceRight;Q(Array.prototype,"reduceRight",function(e){return oe.Call(rt,this.length>=0?this:[],arguments)})}var at=8!==Number("0o10"),ot=2!==Number("0b10"),st=p(Fe,function(e){return 0===Number(e+0+e)});if(at||ot||st){var lt=Number,ct=/^0b[01]+$/i,ut=/^0o[0-7]+$/i,dt=ct.test.bind(ct),ht=ut.test.bind(ut),pt=function(e){var t;if("function"==typeof e.valueOf&&(t=e.valueOf(),Z.primitive(t)))return t;if("function"==typeof e.toString&&(t=e.toString(),Z.primitive(t)))return t;throw new TypeError("No default value")},ft=ze.test.bind(ze),gt=je.test.bind(je),mt=function(){var e=function(t){var n;"string"==typeof(n=arguments.length>0?Z.primitive(t)?t:pt(t):0)&&(n=oe.Call(Le,n),dt(n)?n=parseInt($(n,2),2):ht(n)?n=parseInt($(n,2),8):(ft(n)||gt(n))&&(n=NaN));var i=this,r=o(function(){return lt.prototype.valueOf.call(i),!0});return i instanceof e&&!r?new lt(n):lt(n)};return e}();_e(lt,mt,{}),g(mt,{NaN:lt.NaN,MAX_VALUE:lt.MAX_VALUE,MIN_VALUE:lt.MIN_VALUE,NEGATIVE_INFINITY:lt.NEGATIVE_INFINITY,POSITIVE_INFINITY:lt.POSITIVE_INFINITY}),Number=mt,b.redefine(x,"Number",mt)}var vt=Math.pow(2,53)-1;g(Number,{MAX_SAFE_INTEGER:vt,MIN_SAFE_INTEGER:-vt,EPSILON:2.220446049250313e-16,parseInt:x.parseInt,parseFloat:x.parseFloat,isFinite:Y,isInteger:function(e){return Y(e)&&oe.ToInteger(e)===e},isSafeInteger:function(e){return Number.isInteger(e)&&P(e)<=Number.MAX_SAFE_INTEGER},isNaN:q}),f(Number,"parseInt",x.parseInt,Number.parseInt!==x.parseInt),1===[,1].find(function(){return!0})&&Q(Array.prototype,"find",Ue.find),0!==[,1].findIndex(function(){return!0})&&Q(Array.prototype,"findIndex",Ue.findIndex);var bt=Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),yt=function(e,t){l&&bt(e,t)&&Object.defineProperty(e,t,{enumerable:!1})},wt=function(){for(var e=Number(this),t=arguments.length,n=t-e,i=new Array(n<0?0:n),r=e;r<t;++r)i[r-e]=arguments[r];return i},xt=function(e){return function(t,n){return t[n]=e[n],t}},_t=function(e,t){var n,i=r(Object(t));return oe.IsCallable(Object.getOwnPropertySymbols)&&(n=h(Object.getOwnPropertySymbols(Object(t)),bt(t))),d(S(i,n||[]),xt(t),e)},kt={assign:function(e,t){var n=oe.ToObject(e,"Cannot convert undefined or null to object");return d(oe.Call(wt,1,arguments),_t,n)},is:function(e,t){return oe.SameValue(e,t)}};if(Object.assign&&Object.preventExtensions&&function(){var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}}()&&Q(Object,"assign",kt.assign),g(Object,kt),l){var Ct={setPrototypeOf:function(e,t){var i,r=function(e,t){if(!oe.TypeIsObject(e))throw new TypeError("cannot set prototype on a non-object");if(null!==t&&!oe.TypeIsObject(t))throw new TypeError("can only set prototype to an object or null"+t)},a=function(e,t){return r(e,t),n(i,e,t),e};try{i=e.getOwnPropertyDescriptor(e.prototype,"__proto__").set,n(i,{},null)}catch(t){if(e.prototype!=={}.__proto__)return;i=function(e){this.__proto__=e},a.polyfill=a(a({},null),e.prototype)instanceof e}return a}(Object)};g(Object,Ct)}if(Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&function(){var e=Object.create(null),t=Object.getPrototypeOf,n=Object.setPrototypeOf;Object.getPrototypeOf=function(n){var i=t(n);return i===e?null:i},Object.setPrototypeOf=function(t,i){return n(t,null===i?e:i)},Object.setPrototypeOf.polyfill=!1}(),!!a(function(){Object.keys("foo")})){var St=Object.keys;Q(Object,"keys",function(e){return St(oe.ToObject(e))}),r=Object.keys}if(a(function(){Object.keys(/a/g)})){var $t=Object.keys;Q(Object,"keys",function(e){if(Z.regex(e)){var t=[];for(var n in e)L(e,n)&&D(t,n);return t}return $t(e)}),r=Object.keys}if(Object.getOwnPropertyNames){if(!!a(function(){Object.getOwnPropertyNames("foo")})){var Dt="object"==typeof window?Object.getOwnPropertyNames(window):[],Tt=Object.getOwnPropertyNames;Q(Object,"getOwnPropertyNames",function(e){var t=oe.ToObject(e);if("[object Window]"===m(t))try{return Tt(t)}catch(e){return S([],Dt)}return Tt(t)})}}if(Object.getOwnPropertyDescriptor){if(!!a(function(){Object.getOwnPropertyDescriptor("foo","bar")})){var Et=Object.getOwnPropertyDescriptor;Q(Object,"getOwnPropertyDescriptor",function(e,t){return Et(oe.ToObject(e),t)})}}if(Object.seal){if(!!a(function(){Object.seal("foo")})){var Mt=Object.seal;Q(Object,"seal",function(e){return oe.TypeIsObject(e)?Mt(e):e})}}if(Object.isSealed){if(!!a(function(){Object.isSealed("foo")})){var At=Object.isSealed;Q(Object,"isSealed",function(e){return!oe.TypeIsObject(e)||At(e)})}}if(Object.freeze){if(!!a(function(){Object.freeze("foo")})){var Ot=Object.freeze;Q(Object,"freeze",function(e){return oe.TypeIsObject(e)?Ot(e):e})}}if(Object.isFrozen){if(!!a(function(){Object.isFrozen("foo")})){var Pt=Object.isFrozen;Q(Object,"isFrozen",function(e){return!oe.TypeIsObject(e)||Pt(e)})}}if(Object.preventExtensions){if(!!a(function(){Object.preventExtensions("foo")})){var It=Object.preventExtensions;Q(Object,"preventExtensions",function(e){return oe.TypeIsObject(e)?It(e):e})}}if(Object.isExtensible){if(!!a(function(){Object.isExtensible("foo")})){var Rt=Object.isExtensible;Q(Object,"isExtensible",function(e){return!!oe.TypeIsObject(e)&&Rt(e)})}}if(Object.getPrototypeOf){if(!!a(function(){Object.getPrototypeOf("foo")})){var Nt=Object.getPrototypeOf;Q(Object,"getPrototypeOf",function(e){return Nt(oe.ToObject(e))})}}var Lt=l&&function(){var e=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags");return e&&oe.IsCallable(e.get)}();if(l&&!Lt){var Ft=function(){if(!oe.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e};b.getter(RegExp.prototype,"flags",Ft)}var zt=l&&o(function(){return"/a/i"===String(new RegExp(/a/g,"i"))}),jt=ee&&l&&function(){var e=/./;return e[V.match]=!1,RegExp(e)===e}(),Ht=o(function(){return"/abc/"===RegExp.prototype.toString.call({source:"abc"})}),Wt=Ht&&o(function(){return"/a/b"===RegExp.prototype.toString.call({source:"a",flags:"b"})});if(!Ht||!Wt){var Bt=RegExp.prototype.toString;f(RegExp.prototype,"toString",function(){var e=oe.RequireObjectCoercible(this);return Z.regex(e)?n(Bt,e):"/"+ie(e.source)+"/"+ie(e.flags)},!0),b.preserveToString(RegExp.prototype.toString,Bt)}if(l&&(!zt||jt)){var Vt=Object.getOwnPropertyDescriptor(RegExp.prototype,"flags").get,Ut=Object.getOwnPropertyDescriptor(RegExp.prototype,"source")||{},qt=function(){return this.source},Yt=oe.IsCallable(Ut.get)?Ut.get:qt,Kt=RegExp,Gt=function(){return function e(t,n){var i=oe.IsRegExp(t);if(!(this instanceof e)&&i&&void 0===n&&t.constructor===e)return t;var r=t,a=n;return Z.regex(t)?(r=oe.Call(Yt,t),a=void 0===n?oe.Call(Vt,t):n,new e(r,a)):(i&&(r=t.source,a=void 0===n?t.flags:n),new Kt(t,n))}}();_e(Kt,Gt,{$input:!0}),RegExp=Gt,b.redefine(x,"RegExp",Gt)}if(l){var Xt={input:"$_",lastMatch:"$&",lastParen:"$+",leftContext:"$`",rightContext:"$'"};u(r(Xt),function(e){e in RegExp&&!(Xt[e]in RegExp)&&b.getter(RegExp,Xt[e],function(){return RegExp[e]})})}Ce(RegExp);var Jt=1/Number.EPSILON,Zt=function(e){return e+Jt-Jt},Qt=Math.pow(2,-23),en=Math.pow(2,127)*(2-Qt),tn=Math.pow(2,-126),nn=Math.E,rn=Math.LOG2E,an=Math.LOG10E,on=Number.prototype.clz;delete Number.prototype.clz;var sn={acosh:function(e){var t=Number(e);return q(t)||e<1?NaN:1===t?0:t===1/0?t:R(t/nn+N(t+1)*N(t-1)/nn)+1},asinh:function e(t){var n=Number(t);return 0!==n&&_(n)?n<0?-e(-n):R(n+N(n*n+1)):n},atanh:function(e){var t=Number(e);return q(t)||t<-1||t>1?NaN:-1===t?-1/0:1===t?1/0:0===t?t:.5*R((1+t)/(1-t))},cbrt:function(e){var t=Number(e);if(0===t)return t;var n,i=t<0;return i&&(t=-t),t===1/0?n=1/0:(n=I(R(t)/3),n=(t/(n*n)+2*n)/3),i?-n:n},clz32:function(e){var t=Number(e),n=oe.ToUint32(t);return 0===n?32:on?oe.Call(on,n):31-O(R(n+.5)*rn)},cosh:function(e){var t=Number(e);return 0===t?1:q(t)?NaN:_(t)?(t<0&&(t=-t),t>21?I(t)/2:(I(t)+I(-t))/2):1/0},expm1:function(e){var t=Number(e);if(t===-1/0)return-1;if(!_(t)||0===t)return t;if(P(t)>.5)return I(t)-1;for(var n=t,i=0,r=1;i+n!==i;)i+=n,r+=1,n*=t/r;return i},hypot:function(e,t){for(var n=0,i=0,r=0;r<arguments.length;++r){var a=P(Number(arguments[r]));i<a?(n*=i/a*(i/a),n+=1,i=a):n+=a>0?a/i*(a/i):a}return i===1/0?1/0:i*N(n)},log2:function(e){return R(e)*rn},log10:function(e){return R(e)*an},log1p:function(e){var t=Number(e);return t<-1||q(t)?NaN:0===t||t===1/0?t:-1===t?-1/0:1+t-1==0?t:t*(R(1+t)/(1+t-1))},sign:K,sinh:function(e){var t=Number(e);return _(t)&&0!==t?P(t)<1?(Math.expm1(t)-Math.expm1(-t))/2:(I(t-1)-I(-t-1))*nn/2:t},tanh:function(e){var t=Number(e);return q(t)||0===t?t:t>=20?1:t<=-20?-1:(Math.expm1(t)-Math.expm1(-t))/(I(t)+I(-t))},trunc:function(e){var t=Number(e);return t<0?-O(-t):O(t)},imul:function(e,t){var n=oe.ToUint32(e),i=oe.ToUint32(t),r=n>>>16&65535,a=65535&n,o=i>>>16&65535,s=65535&i;return a*s+(r*s+a*o<<16>>>0)|0},fround:function(e){var t=Number(e);if(0===t||t===1/0||t===-1/0||q(t))return t;var n=K(t),i=P(t);if(i<tn)return n*Zt(i/tn/Qt)*tn*Qt;var r=(1+Qt/Number.EPSILON)*i,a=r-(r-i);return a>en||q(a)?n*(1/0):n*a}};g(Math,sn),f(Math,"log1p",sn.log1p,-1e-17!==Math.log1p(-1e-17)),f(Math,"asinh",sn.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7)),f(Math,"tanh",sn.tanh,-2e-17!==Math.tanh(-2e-17)),f(Math,"acosh",sn.acosh,Math.acosh(Number.MAX_VALUE)===1/0),f(Math,"cbrt",sn.cbrt,Math.abs(1-Math.cbrt(1e-300)/1e-100)/Number.EPSILON>8),f(Math,"sinh",sn.sinh,-2e-17!==Math.sinh(-2e-17));var ln=Math.expm1(10);f(Math,"expm1",sn.expm1,ln>22025.465794806718||ln<22025.465794806718);var cn=Math.round,un=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(Number.EPSILON/3.99-.5),dn=Jt+1,hn=2*Jt-1,pn=[dn,hn].every(function(e){return Math.round(e)===e});f(Math,"round",function(e){var t=O(e),n=-1===t?-0:t+1;return e-t<.5?t:n},!un||!pn),b.preserveToString(Math.round,cn);var fn=Math.imul;-5!==Math.imul(4294967295,5)&&(Math.imul=sn.imul,b.preserveToString(Math.imul,fn)),2!==Math.imul.length&&Q(Math,"imul",function(e,t){return oe.Call(fn,Math,arguments)});var gn=function(){var e=x.setTimeout;if("function"==typeof e||"object"==typeof e){oe.IsPromise=function(e){return!!oe.TypeIsObject(e)&&void 0!==e._promise};var t,i=function(e){if(!oe.IsConstructor(e))throw new TypeError("Bad promise constructor");var t=this,n=function(e,n){if(void 0!==t.resolve||void 0!==t.reject)throw new TypeError("Bad Promise implementation!");t.resolve=e,t.reject=n};if(t.resolve=void 0,t.reject=void 0,t.promise=new e(n),!oe.IsCallable(t.resolve)||!oe.IsCallable(t.reject))throw new TypeError("Bad promise constructor")};"undefined"!=typeof window&&oe.IsCallable(window.postMessage)&&(t=function(){var e=[],t=function(t){D(e,t),window.postMessage("zero-timeout-message","*")},n=function(t){if(t.source===window&&"zero-timeout-message"===t.data){if(t.stopPropagation(),0===e.length)return;E(e)()}};return window.addEventListener("message",n,!0),t});var r,a,o=oe.IsCallable(x.setImmediate)?x.setImmediate:"object"==typeof process&&process.nextTick?process.nextTick:function(){var e=x.Promise,t=e&&e.resolve&&e.resolve();return t&&function(e){return t.then(e)}}()||(oe.IsCallable(t)?t():function(t){e(t,0)}),s=function(e){return e},l=function(e){throw e},c={},u=function(e,t,n){o(function(){d(e,t,n)})},d=function(e,t,n){var i,r;if(t===c)return e(n);try{i=e(n),r=t.resolve}catch(e){i=e,r=t.reject}r(i)},h=function(e,t){var n=e._promise,i=n.reactionLength;if(i>0&&(u(n.fulfillReactionHandler0,n.reactionCapability0,t),n.fulfillReactionHandler0=void 0,n.rejectReactions0=void 0,n.reactionCapability0=void 0,i>1))for(var r=1,a=0;r<i;r++,a+=3)u(n[a+0],n[a+2],t),e[a+0]=void 0,e[a+1]=void 0,e[a+2]=void 0;n.result=t,n.state=1,n.reactionLength=0},p=function(e,t){var n=e._promise,i=n.reactionLength;if(i>0&&(u(n.rejectReactionHandler0,n.reactionCapability0,t),n.fulfillReactionHandler0=void 0,n.rejectReactions0=void 0,n.reactionCapability0=void 0,i>1))for(var r=1,a=0;r<i;r++,a+=3)u(n[a+1],n[a+2],t),e[a+0]=void 0,e[a+1]=void 0,e[a+2]=void 0;n.result=t,n.state=2,n.reactionLength=0},f=function(e){var t=!1;return{resolve:function(n){var i;if(!t){if(t=!0,n===e)return p(e,new TypeError("Self resolution"));if(!oe.TypeIsObject(n))return h(e,n);try{i=n.then}catch(t){return p(e,t)}if(!oe.IsCallable(i))return h(e,n);o(function(){v(e,n,i)})}},reject:function(n){if(!t)return t=!0,p(e,n)}}},m=function(e,t,i,r){e===a?n(e,t,i,r,c):n(e,t,i,r)},v=function(e,t,n){var i=f(e),r=i.resolve,a=i.reject;try{m(n,t,r,a)}catch(e){a(e)}},b=function(){var e=function(t){if(!(this instanceof e))throw new TypeError('Constructor Promise requires "new"');if(this&&this._promise)throw new TypeError("Bad construction");if(!oe.IsCallable(t))throw new TypeError("not a valid resolver");var n=Te(this,e,r,{_promise:{result:void 0,state:0,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}}),i=f(n),a=i.reject;try{t(i.resolve,a)}catch(e){a(e)}return n};return e}();r=b.prototype;var y=function(e,t,n,i){var r=!1;return function(a){if(!r&&(r=!0,t[e]=a,0==--i.count)){(0,n.resolve)(t)}}},w=function(e,t,n){for(var i,r,a=e.iterator,o=[],s={count:1},l=0;;){try{if(!1===(i=oe.IteratorStep(a))){e.done=!0;break}r=i.value}catch(t){throw e.done=!0,t}o[l]=void 0;var c=t.resolve(r),u=y(l,o,n,s);s.count+=1,m(c.then,c,u,n.reject),l+=1}if(0==--s.count){(0,n.resolve)(o)}return n.promise},_=function(e,t,n){for(var i,r,a,o=e.iterator;;){try{if(!1===(i=oe.IteratorStep(o))){
e.done=!0;break}r=i.value}catch(t){throw e.done=!0,t}a=t.resolve(r),m(a.then,a,n.resolve,n.reject)}return n.promise};return g(b,{all:function(e){var t=this;if(!oe.TypeIsObject(t))throw new TypeError("Promise is not object");var n,r,a=new i(t);try{return n=oe.GetIterator(e),r={iterator:n,done:!1},w(r,t,a)}catch(e){var o=e;if(r&&!r.done)try{oe.IteratorClose(n,!0)}catch(e){o=e}var s=a.reject;return s(o),a.promise}},race:function(e){var t=this;if(!oe.TypeIsObject(t))throw new TypeError("Promise is not object");var n,r,a=new i(t);try{return n=oe.GetIterator(e),r={iterator:n,done:!1},_(r,t,a)}catch(e){var o=e;if(r&&!r.done)try{oe.IteratorClose(n,!0)}catch(e){o=e}var s=a.reject;return s(o),a.promise}},reject:function(e){var t=this;if(!oe.TypeIsObject(t))throw new TypeError("Bad promise constructor");var n=new i(t);return(0,n.reject)(e),n.promise},resolve:function(e){var t=this;if(!oe.TypeIsObject(t))throw new TypeError("Bad promise constructor");if(oe.IsPromise(e)){var n=e.constructor;if(n===t)return e}var r=new i(t);return(0,r.resolve)(e),r.promise}}),g(r,{catch:function(e){return this.then(null,e)},then:function(e,t){var n=this;if(!oe.IsPromise(n))throw new TypeError("not a promise");var r,a=oe.SpeciesConstructor(n,b);r=arguments.length>2&&arguments[2]===c&&a===b?c:new i(a);var o,d=oe.IsCallable(e)?e:s,h=oe.IsCallable(t)?t:l,p=n._promise;if(0===p.state){if(0===p.reactionLength)p.fulfillReactionHandler0=d,p.rejectReactionHandler0=h,p.reactionCapability0=r;else{var f=3*(p.reactionLength-1);p[f+0]=d,p[f+1]=h,p[f+2]=r}p.reactionLength+=1}else if(1===p.state)o=p.result,u(d,r,o);else{if(2!==p.state)throw new TypeError("unexpected Promise state");o=p.result,u(h,r,o)}return r.promise}}),c=new i(b),a=r.then,b}}();if(x.Promise&&(delete x.Promise.accept,delete x.Promise.defer,delete x.Promise.prototype.chain),"function"==typeof gn){g(x,{Promise:gn});var mn=w(x.Promise,function(e){return e.resolve(42).then(function(){})instanceof e}),vn=!a(function(){x.Promise.reject(42).then(null,5).then(null,F)}),bn=a(function(){x.Promise.call(3,F)}),yn=function(e){var t=e.resolve(5);t.constructor={};var n=e.resolve(t);try{n.then(null,F).then(null,F)}catch(e){return!0}return t===n}(x.Promise),wn=l&&function(){var e=0,t=Object.defineProperty({},"then",{get:function(){e+=1}});return Promise.resolve(t),1===e}(),xn=function e(t){var n=new Promise(t);t(3,function(){}),this.then=n.then,this.constructor=e};xn.prototype=Promise.prototype,xn.all=Promise.all;var _n=o(function(){return!!xn.all([1,2])});if(mn&&vn&&bn&&!yn&&wn&&!_n||(Promise=gn,Q(x,"Promise",gn)),1!==Promise.all.length){var kn=Promise.all;Q(Promise,"all",function(e){return oe.Call(kn,this,arguments)})}if(1!==Promise.race.length){var Cn=Promise.race;Q(Promise,"race",function(e){return oe.Call(Cn,this,arguments)})}if(1!==Promise.resolve.length){var Sn=Promise.resolve;Q(Promise,"resolve",function(e){return oe.Call(Sn,this,arguments)})}if(1!==Promise.reject.length){var $n=Promise.reject;Q(Promise,"reject",function(e){return oe.Call($n,this,arguments)})}yt(Promise,"all"),yt(Promise,"race"),yt(Promise,"resolve"),yt(Promise,"reject"),Ce(Promise)}var Dn=function(e){var t=r(d(e,function(e,t){return e[t]=!0,e},{}));return e.join(":")===t.join(":")},Tn=Dn(["z","a","bb"]),En=Dn(["z",1,"a","3",2]);if(l){var Mn=function(e,t){return t||Tn?ae(e)?"^"+oe.ToString(e):"string"==typeof e?"$"+e:"number"==typeof e?En?e:"n"+e:"boolean"==typeof e?"b"+e:null:null},An=function(){return Object.create?Object.create(null):{}},On=function(e,t,r){if(i(r)||Z.string(r))u(r,function(e){if(!oe.TypeIsObject(e))throw new TypeError("Iterator value "+e+" is not an entry object");t.set(e[0],e[1])});else if(r instanceof e)n(e.prototype.forEach,r,function(e,n){t.set(n,e)});else{var a,o;if(!ae(r)){if(o=t.set,!oe.IsCallable(o))throw new TypeError("bad map");a=oe.GetIterator(r)}if(void 0!==a)for(;;){var s=oe.IteratorStep(a);if(!1===s)break;var l=s.value;try{if(!oe.TypeIsObject(l))throw new TypeError("Iterator value "+l+" is not an entry object");n(o,t,l[0],l[1])}catch(e){throw oe.IteratorClose(a,!0),e}}}},Pn=function(e,t,r){if(i(r)||Z.string(r))u(r,function(e){t.add(e)});else if(r instanceof e)n(e.prototype.forEach,r,function(e){t.add(e)});else{var a,o;if(!ae(r)){if(o=t.add,!oe.IsCallable(o))throw new TypeError("bad set");a=oe.GetIterator(r)}if(void 0!==a)for(;;){var s=oe.IteratorStep(a);if(!1===s)break;var l=s.value;try{n(o,t,l)}catch(e){throw oe.IteratorClose(a,!0),e}}}},In={Map:function(){var e={},t=function(e,t){this.key=e,this.value=t,this.next=null,this.prev=null};t.prototype.isRemoved=function(){return this.key===e};var i=function(e){return!!e._es6map},r=function(e,t){if(!oe.TypeIsObject(e)||!i(e))throw new TypeError("Method Map.prototype."+t+" called on incompatible receiver "+oe.ToString(e))},a=function(e,t){r(e,"[[MapIterator]]"),this.head=e._head,this.i=this.head,this.kind=t};a.prototype={next:function(){var e=this.i,t=this.kind,n=this.head;if(void 0===this.i)return We();for(;e.isRemoved()&&e!==n;)e=e.prev;for(var i;e.next!==n;)if(e=e.next,!e.isRemoved())return i="key"===t?e.key:"value"===t?e.value:[e.key,e.value],this.i=e,We(i);return this.i=void 0,We()}},Se(a.prototype);var o,s=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');if(this&&this._es6map)throw new TypeError("Bad construction");var n=Te(this,e,o,{_es6map:!0,_head:null,_map:z?new z:null,_size:0,_storage:An()}),i=new t(null,null);return i.next=i.prev=i,n._head=i,arguments.length>0&&On(e,n,arguments[0]),n};return o=s.prototype,b.getter(o,"size",function(){if(void 0===this._size)throw new TypeError("size method called on incompatible Map");return this._size}),g(o,{get:function(e){r(this,"get");var t,n=Mn(e,!0);if(null!==n)return t=this._storage[n],t?t.value:void 0;if(this._map)return t=H.call(this._map,e),t?t.value:void 0;for(var i=this._head,a=i;(a=a.next)!==i;)if(oe.SameValueZero(a.key,e))return a.value},has:function(e){r(this,"has");var t=Mn(e,!0);if(null!==t)return void 0!==this._storage[t];if(this._map)return W.call(this._map,e);for(var n=this._head,i=n;(i=i.next)!==n;)if(oe.SameValueZero(i.key,e))return!0;return!1},set:function(e,n){r(this,"set");var i,a=this._head,o=a,s=Mn(e,!0);if(null!==s){if(void 0!==this._storage[s])return this._storage[s].value=n,this;i=this._storage[s]=new t(e,n),o=a.prev}else this._map&&(W.call(this._map,e)?H.call(this._map,e).value=n:(i=new t(e,n),B.call(this._map,e,i),o=a.prev));for(;(o=o.next)!==a;)if(oe.SameValueZero(o.key,e))return o.value=n,this;return i=i||new t(e,n),oe.SameValue(-0,e)&&(i.key=0),i.next=this._head,i.prev=this._head.prev,i.prev.next=i,i.next.prev=i,this._size+=1,this},delete:function(t){r(this,"delete");var n=this._head,i=n,a=Mn(t,!0);if(null!==a){if(void 0===this._storage[a])return!1;i=this._storage[a].prev,delete this._storage[a]}else if(this._map){if(!W.call(this._map,t))return!1;i=H.call(this._map,t).prev,j.call(this._map,t)}for(;(i=i.next)!==n;)if(oe.SameValueZero(i.key,t))return i.key=e,i.value=e,i.prev.next=i.next,i.next.prev=i.prev,this._size-=1,!0;return!1},clear:function(){r(this,"clear"),this._map=z?new z:null,this._size=0,this._storage=An();for(var t=this._head,n=t,i=n.next;(n=i)!==t;)n.key=e,n.value=e,i=n.next,n.next=n.prev=t;t.next=t.prev=t},keys:function(){return r(this,"keys"),new a(this,"key")},values:function(){return r(this,"values"),new a(this,"value")},entries:function(){return r(this,"entries"),new a(this,"key+value")},forEach:function(e){r(this,"forEach");for(var t=arguments.length>1?arguments[1]:null,i=this.entries(),a=i.next();!a.done;a=i.next())t?n(e,t,a.value[1],a.value[0],this):e(a.value[1],a.value[0],this)}}),Se(o,o.entries),s}(),Set:function(){var e,t=function(e){return e._es6set&&void 0!==e._storage},i=function(e,n){if(!oe.TypeIsObject(e)||!t(e))throw new TypeError("Set.prototype."+n+" called on incompatible receiver "+oe.ToString(e))},a=function t(){if(!(this instanceof t))throw new TypeError('Constructor Set requires "new"');if(this&&this._es6set)throw new TypeError("Bad construction");var n=Te(this,t,e,{_es6set:!0,"[[SetData]]":null,_storage:An()});if(!n._es6set)throw new TypeError("bad set");return arguments.length>0&&Pn(t,n,arguments[0]),n};e=a.prototype;var o=function(e){var t=e;if("^null"===t)return null;if("^undefined"!==t){var n=t.charAt(0);return"$"===n?$(t,1):"n"===n?+$(t,1):"b"===n?"btrue"===t:+t}},s=function(e){if(!e["[[SetData]]"]){var t=new In.Map;e["[[SetData]]"]=t,u(r(e._storage),function(e){var n=o(e);t.set(n,n)}),e["[[SetData]]"]=t}e._storage=null};return b.getter(a.prototype,"size",function(){return i(this,"size"),this._storage?r(this._storage).length:(s(this),this["[[SetData]]"].size)}),g(a.prototype,{has:function(e){i(this,"has");var t;return this._storage&&null!==(t=Mn(e))?!!this._storage[t]:(s(this),this["[[SetData]]"].has(e))},add:function(e){i(this,"add");var t;return this._storage&&null!==(t=Mn(e))?(this._storage[t]=!0,this):(s(this),this["[[SetData]]"].set(e,e),this)},delete:function(e){i(this,"delete");var t;if(this._storage&&null!==(t=Mn(e))){var n=L(this._storage,t);return delete this._storage[t]&&n}return s(this),this["[[SetData]]"].delete(e)},clear:function(){i(this,"clear"),this._storage&&(this._storage=An()),this["[[SetData]]"]&&this["[[SetData]]"].clear()},values:function(){return i(this,"values"),s(this),this["[[SetData]]"].values()},entries:function(){return i(this,"entries"),s(this),this["[[SetData]]"].entries()},forEach:function(e){i(this,"forEach");var t=arguments.length>1?arguments[1]:null,r=this;s(r),this["[[SetData]]"].forEach(function(i,a){t?n(e,t,a,a,r):e(a,a,r)})}}),f(a.prototype,"keys",a.prototype.values,!0),Se(a.prototype,a.prototype.values),a}()};if(x.Map||x.Set){o(function(){return 2===new Map([[1,2]]).get(1)})||(x.Map=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');var t=new z;return arguments.length>0&&On(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,x.Map.prototype),t},x.Map.prototype=y(z.prototype),f(x.Map.prototype,"constructor",x.Map,!0),b.preserveToString(x.Map,z));var Rn=new Map,Nn=function(){var e=new Map([[1,0],[2,0],[3,0],[4,0]]);return e.set(-0,e),e.get(0)===e&&e.get(-0)===e&&e.has(0)&&e.has(-0)}(),Ln=Rn.set(1,2)===Rn;Nn&&Ln||Q(Map.prototype,"set",function(e,t){return n(B,this,0===e?0:e,t),this}),Nn||(g(Map.prototype,{get:function(e){return n(H,this,0===e?0:e)},has:function(e){return n(W,this,0===e?0:e)}},!0),b.preserveToString(Map.prototype.get,H),b.preserveToString(Map.prototype.has,W));var Fn=new Set,zn=function(e){return e.delete(0),e.add(-0),!e.has(0)}(Fn),jn=Fn.add(1)===Fn;if(!zn||!jn){var Hn=Set.prototype.add;Set.prototype.add=function(e){return n(Hn,this,0===e?0:e),this},b.preserveToString(Set.prototype.add,Hn)}if(!zn){var Wn=Set.prototype.has;Set.prototype.has=function(e){return n(Wn,this,0===e?0:e)},b.preserveToString(Set.prototype.has,Wn);var Bn=Set.prototype.delete;Set.prototype.delete=function(e){return n(Bn,this,0===e?0:e)},b.preserveToString(Set.prototype.delete,Bn)}var Vn=w(x.Map,function(e){var t=new e([]);return t.set(42,42),t instanceof e}),Un=Object.setPrototypeOf&&!Vn,qn=function(){try{return!(x.Map()instanceof x.Map)}catch(e){return e instanceof TypeError}}();0===x.Map.length&&!Un&&qn||(x.Map=function e(){if(!(this instanceof e))throw new TypeError('Constructor Map requires "new"');var t=new z;return arguments.length>0&&On(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,e.prototype),t},x.Map.prototype=z.prototype,f(x.Map.prototype,"constructor",x.Map,!0),b.preserveToString(x.Map,z));var Yn=w(x.Set,function(e){var t=new e([]);return t.add(42,42),t instanceof e}),Kn=Object.setPrototypeOf&&!Yn,Gn=function(){try{return!(x.Set()instanceof x.Set)}catch(e){return e instanceof TypeError}}();if(0!==x.Set.length||Kn||!Gn){var Xn=x.Set;x.Set=function e(){if(!(this instanceof e))throw new TypeError('Constructor Set requires "new"');var t=new Xn;return arguments.length>0&&Pn(e,t,arguments[0]),delete t.constructor,Object.setPrototypeOf(t,e.prototype),t},x.Set.prototype=Xn.prototype,f(x.Set.prototype,"constructor",x.Set,!0),b.preserveToString(x.Set,Xn)}var Jn=new x.Map,Zn=!o(function(){return Jn.keys().next().done});if(("function"!=typeof x.Map.prototype.clear||0!==(new x.Set).size||0!==Jn.size||"function"!=typeof x.Map.prototype.keys||"function"!=typeof x.Set.prototype.keys||"function"!=typeof x.Map.prototype.forEach||"function"!=typeof x.Set.prototype.forEach||s(x.Map)||s(x.Set)||"function"!=typeof Jn.keys().next||Zn||!Vn)&&g(x,{Map:In.Map,Set:In.Set},!0),x.Set.prototype.keys!==x.Set.prototype.values&&f(x.Set.prototype,"keys",x.Set.prototype.values,!0),Se(Object.getPrototypeOf((new x.Map).keys())),Se(Object.getPrototypeOf((new x.Set).keys())),c&&"has"!==x.Set.prototype.has.name){var Qn=x.Set.prototype.has;Q(x.Set.prototype,"has",function(e){return n(Qn,this,e)})}}g(x,In),Ce(x.Map),Ce(x.Set)}var ei=function(e){if(!oe.TypeIsObject(e))throw new TypeError("target must be an object")},ti={apply:function(){return oe.Call(oe.Call,null,arguments)},construct:function(e,t){if(!oe.IsConstructor(e))throw new TypeError("First argument must be a constructor.");var n=arguments.length>2?arguments[2]:e;if(!oe.IsConstructor(n))throw new TypeError("new.target must be a constructor.");return oe.Construct(e,t,n,"internal")},deleteProperty:function(e,t){if(ei(e),l){var n=Object.getOwnPropertyDescriptor(e,t);if(n&&!n.configurable)return!1}return delete e[t]},has:function(e,t){return ei(e),t in e}};Object.getOwnPropertyNames&&Object.assign(ti,{ownKeys:function(e){ei(e);var t=Object.getOwnPropertyNames(e);return oe.IsCallable(Object.getOwnPropertySymbols)&&T(t,Object.getOwnPropertySymbols(e)),t}});var ni=function(e){return!a(e)};if(Object.preventExtensions&&Object.assign(ti,{isExtensible:function(e){return ei(e),Object.isExtensible(e)},preventExtensions:function(e){return ei(e),ni(function(){Object.preventExtensions(e)})}}),l){var ii=function(e,t,n){var i=Object.getOwnPropertyDescriptor(e,t);if(!i){var r=Object.getPrototypeOf(e);if(null===r)return;return ii(r,t,n)}return"value"in i?i.value:i.get?oe.Call(i.get,n):void 0},ri=function(e,t,i,r){var a=Object.getOwnPropertyDescriptor(e,t);if(!a){var o=Object.getPrototypeOf(e);if(null!==o)return ri(o,t,i,r);a={value:void 0,writable:!0,enumerable:!0,configurable:!0}}if("value"in a){if(!a.writable)return!1;if(!oe.TypeIsObject(r))return!1;return Object.getOwnPropertyDescriptor(r,t)?ne.defineProperty(r,t,{value:i}):ne.defineProperty(r,t,{value:i,writable:!0,enumerable:!0,configurable:!0})}return!!a.set&&(n(a.set,r,i),!0)};Object.assign(ti,{defineProperty:function(e,t,n){return ei(e),ni(function(){Object.defineProperty(e,t,n)})},getOwnPropertyDescriptor:function(e,t){return ei(e),Object.getOwnPropertyDescriptor(e,t)},get:function(e,t){ei(e);var n=arguments.length>2?arguments[2]:e;return ii(e,t,n)},set:function(e,t,n){ei(e);var i=arguments.length>3?arguments[3]:e;return ri(e,t,n,i)}})}if(Object.getPrototypeOf){var ai=Object.getPrototypeOf;ti.getPrototypeOf=function(e){return ei(e),ai(e)}}if(Object.setPrototypeOf&&ti.getPrototypeOf){var oi=function(e,t){for(var n=t;n;){if(e===n)return!0;n=ti.getPrototypeOf(n)}return!1};Object.assign(ti,{setPrototypeOf:function(e,t){if(ei(e),null!==t&&!oe.TypeIsObject(t))throw new TypeError("proto must be an object or null");return t===ne.getPrototypeOf(e)||!(ne.isExtensible&&!ne.isExtensible(e))&&(!oi(e,t)&&(Object.setPrototypeOf(e,t),!0))}})}var si=function(e,t){if(oe.IsCallable(x.Reflect[e])){o(function(){return x.Reflect[e](1),x.Reflect[e](NaN),x.Reflect[e](!0),!0})&&Q(x.Reflect,e,t)}else f(x.Reflect,e,t)};Object.keys(ti).forEach(function(e){si(e,ti[e])});var li=x.Reflect.getPrototypeOf;if(c&&li&&"getPrototypeOf"!==li.name&&Q(x.Reflect,"getPrototypeOf",function(e){return n(li,x.Reflect,e)}),x.Reflect.setPrototypeOf&&o(function(){return x.Reflect.setPrototypeOf(1,{}),!0})&&Q(x.Reflect,"setPrototypeOf",ti.setPrototypeOf),x.Reflect.defineProperty&&(o(function(){var e=!x.Reflect.defineProperty(1,"test",{value:1}),t="function"!=typeof Object.preventExtensions||!x.Reflect.defineProperty(Object.preventExtensions({}),"test",{});return e&&t})||Q(x.Reflect,"defineProperty",ti.defineProperty)),x.Reflect.construct&&(o(function(){var e=function(){};return x.Reflect.construct(function(){},[],e)instanceof e})||Q(x.Reflect,"construct",ti.construct)),"Invalid Date"!==String(new Date(NaN))){var ci=Date.prototype.toString,ui=function(){var e=+this;return e!==e?"Invalid Date":oe.Call(ci,this)};Q(Date.prototype,"toString",ui)}var di={anchor:function(e){return oe.CreateHTML(this,"a","name",e)},big:function(){return oe.CreateHTML(this,"big","","")},blink:function(){return oe.CreateHTML(this,"blink","","")},bold:function(){return oe.CreateHTML(this,"b","","")},fixed:function(){return oe.CreateHTML(this,"tt","","")},fontcolor:function(e){return oe.CreateHTML(this,"font","color",e)},fontsize:function(e){return oe.CreateHTML(this,"font","size",e)},italics:function(){return oe.CreateHTML(this,"i","","")},link:function(e){return oe.CreateHTML(this,"a","href",e)},small:function(){return oe.CreateHTML(this,"small","","")},strike:function(){return oe.CreateHTML(this,"strike","","")},sub:function(){return oe.CreateHTML(this,"sub","","")},sup:function(){return oe.CreateHTML(this,"sup","","")}};u(Object.keys(di),function(e){var t=String.prototype[e],i=!1;if(oe.IsCallable(t)){var r=n(t,"",' " '),a=S([],r.match(/"/g)).length;i=r!==r.toLowerCase()||a>2}else i=!0;i&&Q(String.prototype,e,di[e])});var hi=function(){if(!ee)return!1;var e="object"==typeof JSON&&"function"==typeof JSON.stringify?JSON.stringify:null;if(!e)return!1;if(void 0!==e(V()))return!0;if("[null]"!==e([V()]))return!0;var t={a:V()};return t[V()]=!0,"{}"!==e(t)}(),pi=o(function(){return!ee||"{}"===JSON.stringify(Object(V()))&&"[{}]"===JSON.stringify([Object(V())])});if(hi||!pi){var fi=JSON.stringify;Q(JSON,"stringify",function(e){if("symbol"!=typeof e){var t;arguments.length>1&&(t=arguments[1]);var r=[e];if(i(t))r.push(t);else{var a=oe.IsCallable(t)?t:null,o=function(e,t){var i=a?n(a,this,e,t):t;if("symbol"!=typeof i)return Z.symbol(i)?xt({})(i):i};r.push(o)}return arguments.length>2&&r.push(arguments[2]),fi.apply(this,r)}})}return x});
//# sourceMappingURL=../maps/scripts/vendor-f6f3854261.js.map
