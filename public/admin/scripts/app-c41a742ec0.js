/**
 * mnoe-frontend-admin - MnoEnterprise Admin Panel
 * @version v2.0.0-dev
 * @git git@github.com:maestrano/mnoe-admin-panel.git
 */
(function(){this.App=angular.module("frontendAdmin",["mnoEnterprise.defaultConfiguration","mnoEnterprise.configuration","ngAnimate","ngAria","ngCookies","ngMessages","restangular","ui.router","ui.bootstrap","toastr","ncy-angular-breadcrumb","platanus.inflector","smart-table","angularMoment","duScroll","mnoUiElements","pascalprecht.translate","ngSanitize","schemaForm","angular.filter","ngFileUpload","angucomplete-alt","ui.toggle","textAngular","maestrano.impac","user-friendly-angular-json-tree","xeditable"])}).call(this),function(){angular.module("frontendAdmin").config(["ImpacRoutesProvider","IMPAC_CONFIG",function(n,e){var a,t;return t=e.paths.mnohub_api,a={mnoHub:t,impacApi:e.protocol+"://"+e.host+"/api",dashboards:{index:t+"/admin/impac/dashboard_templates",show:t+"/admin/impac/dashboard_templates/:id"},widgets:{update:t+"/admin/impac/widgets/:id",del:t+"/admin/impac/widgets/:id"},kpis:{index:t+"/impac/kpis",update:t+"/admin/impac/kpis/:id",del:t+"/admin/impac/kpis/:id"}},n.configureRoutes(a)}]).config(["ImpacThemingProvider",function(n){var e;return e={dataNotFoundConfig:{mainMessage:"mnoe_admin_panel.impac.data_not_found_config.custom_message",linkUrl:"#!/marketplace",linkTarget:"_self"},dhbConfig:{designerMode:{enabled:!0,dhbLabelName:"Template"}},dhbErrorsConfig:{firstTimeCreated:{note:""}},dhbSelectorConfig:{pdfModeEnabled:!1,addDhbEnabled:!1,deleteDhbEnabled:!1,selectorType:"dropdown"},dhbSettings:{syncApps:{show:function(){return!1}}},dhbKpisConfig:{enableKpis:!0},alertsConfig:{enableAlerts:!1}},n.configure(e)}]).config(["ImpacAssetsProvider",function(n){var e;return e={defaultImagesPath:"/dashboard/images",dataNotFound:"/dashboard/images/data_not_found"},n.configure(e)}]).run(["ImpacLinking","ImpacConfigSvc","IMPAC_CONFIG",function(n,e,a){var t;return t={user:e.getUserData,organizations:e.getOrganizations},null!=a.pusher&&null!=a.pusher.key&&(t.pusher_key=a.pusher.key),n.linkData(t)}])}.call(this),function(){this.App.config(["$logProvider","toastrConfig",function(n,e){return n.debugEnabled(!0),e.timeOut=3e3,e.positionClass="toast-top-right",e.preventDuplicates=!1,e.preventOpenDuplicates=!0,e.progressBar=!0}]).config(["$httpProvider",function(n){return n.interceptors.push(["$q","$window","$injector","$log","URI",function(n,e,a,t,s){return{responseError:function(i){var o,r;switch(r=a.get("toastr"),i.status){case 401:return o=window.encodeURIComponent(""+location.pathname+location.hash),e.location.href=s.login+"?return_to="+o,r.error("mnoe_admin_panel.errors."+i.status+".description"),t.error("User is not connected!");case 403:return i.data.error&&"Your password is expired. Please renew your password."===i.data.error?(t.info("[PasswordExpiredInterceptor] Password Expired!"),e.location.href="/mnoe/auth/users/password_expired"):(e.location.href="/",r.error("mnoe_admin_panel.errors."+i.status+".description"),t.error("Forbidden Access")),n.defer().promise;case 429:case 503:return r.error("mnoe_admin_panel.errors."+i.status+".description","mnoe_admin_panel.errors."+i.status+".title"),t.info("[MnoHubErrorInterceptor] MnoHub error, redirecting to error page"),e.location.href="/mnoe/errors/"+i.status,n.defer().promise;default:return n.reject(i)}}}}])}]).config(["$provide",function(n){return n.decorator("taOptions",["$delegate",function(n){return n.toolbar=[["h1","h2","h3","p","quote"],["bold","italics","underline","ul","ol"],["html"],["insertVideo","insertImage","insertLink"],["undo","redo","clear"],["wordcount","charcount"]],n}])}]).config(["$translateProvider","LOCALES",function(n,e){return n.useStaticFilesLoader({files:[{prefix:"locales/",suffix:".json"},{prefix:"locales/impac/",suffix:".json"}]}),n.preferredLanguage(e.preferredLanguage),n.fallbackLanguage(e.fallbackLanguage),n.useMissingTranslationHandlerLog(),n.useSanitizeValueStrategy("sanitize"),n.useMessageFormatInterpolation()}]).config(["$breadcrumbProvider",function(n){return n.setOptions({template:'<ol class="breadcrumb">\n  <li ng-repeat="step in steps" ng-class="{active: $last}" ng-switch="$last || !!step.abstract">\n    <a ng-switch-when="false" href="{{step.ncyBreadcrumbLink}}">{{step.ncyBreadcrumbLabel | translate}}</a>\n  <span ng-switch-when="true">{{step.ncyBreadcrumbLabel | translate}}</span>\n  </li>\n</ol>'})}])}.call(this),function(){this.App.constant("USER_ROLES",[{value:"Member",label:"mnoe_admin_panel.constants.user_roles.member"},{value:"Admin",label:"mnoe_admin_panel.constants.user_roles.admin"},{value:"Super Admin",label:"mnoe_admin_panel.constants.user_roles.super_admin"}]).constant("ADMIN_ROLES",[{value:"admin",label:"mnoe_admin_panel.constants.admin_roles.admin"},{value:"sub_tenant_admin",label:"mnoe_admin_panel.constants.admin_roles.sub_tenant_admin"},{value:"staff",label:"mnoe_admin_panel.constants.admin_roles.staff"}]).constant("STAFF_PAGE_AUTH",["admin","sub_tenant_admin"]).constant("OBS_KEYS",{userChanged:"userListChanged",staffChanged:"staffListChanged",staffAdded:"staffAdded",subTenantAdded:"subTenantAdded",subTenantChanged:"subTenantListChanged",marketplaceChanged:"marketplaceChanged"}).constant("LOCALES",{locales:[{id:"en-AU",name:"English (Australia)"}],preferredLanguage:"en-AU",fallbackLanguage:"en-AU"}).constant("CURRENCIES",{values:["USD","AUD","CAD","CNY","EUR","GBP","HKD","INR","JPY","NZD","SGD","PHP","AED"]}).constant("URI",{login:"/mnoe/auth/users/sign_in",logout:"/mnoe/auth/users/sign_out"}).constant("PRICING_TYPES",{unpriced:["free","payg"]})}.call(this),function(){this.App.controller("IndexController",["$scope","$sce","INTERCOM_ID","MnoeAdminConfig",function(n,e,a,t){"ngInject";t.isIntercomEnabled()&&(n.intercom=e.trustAsHtml('<script>\n  window.intercomSettings = {\n    app_id: "'+a+"\"\n  };\n<\/script>\n<script>(function(){var w=window;var ic=w.Intercom;if(typeof ic===\"function\"){ic('reattach_activator');\n  ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];\n  i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');\n  s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/"+a+"';\n  var x=d.getElementsByTagName('script')[0];\n  x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()\n<\/script>"))}])}.call(this),function(){angular.module("mnoEnterprise.defaultConfiguration",[]).constant("DASHBOARD_CONFIG",{}).constant("ADMIN_PANEL_CONFIG",{}).constant("QUESTIONS_CONFIG",{enabled:!1}).constant("DEVISE_CONFIG",{})}.call(this),function(){this.App.config(["$stateProvider","$urlRouterProvider","MnoeAdminConfigProvider","URI",function(n,e,a,t){"ngInject";var s;return n.state("dashboard",{abstract:!0,templateUrl:"app/views/dashboard.layout.html",controller:"DashboardController",controllerAs:"main"}).state("dashboard.home",{data:{pageTitle:"Home"},url:"/home",templateUrl:"app/views/home/home.html",controller:"HomeController",controllerAs:"vm",ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.home.title"}}).state("dashboard.reviews",{data:{pageTitle:"Reviews"},url:"/reviews",templateUrl:"app/views/reviews/reviews.html",controllerAs:"vm",ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.reviews.title"},resolve:{skip:["MnoeCurrentUser",function(n){return n.skipIfNotAdmin()}],skipCondition:["RoutingHelper","MnoeAdminConfig",function(n,e){return n.skipUnlessCondition(e.isReviewingEnabled())}]}}).state("dashboard.questions",{data:{pageTitle:"Questions"},url:"/questions",templateUrl:"app/views/questions/questions.html",controllerAs:"vm",ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.questions.title"},resolve:{skip:["MnoeCurrentUser",function(n){return n.skipIfNotAdmin()}],skipCondition:["RoutingHelper","MnoeAdminConfig",function(n,e){return n.skipUnlessCondition(e.areQuestionsEnabled())}]}}).state("dashboard.customers",{data:{pageTitle:"Customers"},url:"/customers",templateUrl:"app/views/customers/customers.html",controller:"CustomersController",controllerAs:"vm",ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.customers.title"}}).state("dashboard.customers.user",{data:{pageTitle:"User"},url:"^/user/:userId",views:{"@dashboard":{templateUrl:"app/views/user/user.html",controller:"UserController",controllerAs:"vm"}},ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.user.title"}}).state("dashboard.customers.organization",{data:{pageTitle:"Organization"},url:"^/organization/:orgId",views:{"@dashboard":{templateUrl:"app/views/organization/organization.html",controller:"OrganizationController",controllerAs:"vm"}},ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.organization.title"}}).state("dashboard.customers.connect-app",{url:"^/customers/:orgId/connect-apps",views:{"@dashboard":{templateUrl:"app/views/customers/connect-app/connect-app.html",controller:"ConnectAppController",controllerAs:"vm"}},ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.customers.connect_app.title"}}).state("logout",{url:"/logout",controller:["$window","$http","IntercomSvc",function(n,e,a){return e.delete(t.logout).then(function(){return a.logOut(),n.location.href=t.login})}]}),s=a.$get(),s.isDashboardTemplatesEnabled()&&n.state("dashboard.dashboard-templates",{url:"/dashboard-templates",templateUrl:"app/views/dashboard-templates/dashboard-templates.html",controller:"DashboardTemplatesController",controllerAs:"vm",ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.dashboard_templates.title"}}).state("dashboard.dashboard-templates-show",{url:"/dashboard-templates/:dashboardId",templateUrl:"app/views/impac/impac.html",controller:"ImpacController",controllerAs:"vm",ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.impac.title"}}),s.areSettingsEnabled()&&n.state("dashboard.settings-general",{data:{pageTitle:"Frontend Settings"},url:"/settings/general",templateUrl:"app/views/settings/general/general.html",controller:"SettingsGeneralController",controllerAs:"vm",ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.settings.title"},resolve:{skip:["MnoeCurrentUser",function(n){return n.skipIfNotAdmin()}]}}).state("dashboard.settings-apps",{data:{pageTitle:"Products Selection"},url:"/settings/apps",templateUrl:"app/views/settings/apps/apps.html",controller:"SettingsAppsController",controllerAs:"vm",ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.settings.apps.title"},resolve:{skip:["MnoeCurrentUser",function(n){return n.skipIfNotAdmin()}]}}).state("dashboard.settings-plugins",{data:{pageTitle:"Plugins Settings"},url:"/settings/plugins",templateUrl:"app/views/settings/plugins/plugins.html",controller:"SettingsPluginsController",controllerAs:"vm",ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.settings.plugins.title"},resolve:{skip:["MnoeCurrentUser",function(n){return n.skipIfNotAdmin()}]}}).state("dashboard.settings-domain",{data:{pageTitle:"Domain & SSL"},url:"/settings/domain",templateUrl:"app/views/settings/domain/domain.html",controller:"SettingsDomainController",controllerAs:"vm",ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.settings.domain.title"},resolve:{skip:["MnoeCurrentUser",function(n){return n.skipIfNotAdmin()}]}}),s.isAuditLogEnabled()&&n.state("dashboard.audit-log",{data:{pageTitle:"Audit Log"},url:"/audit-log",templateUrl:"app/views/audit-log/audit-log.html",controller:"AuditLogController",controllerAs:"vm",ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.audit_log.title"},resolve:{skip:["MnoeCurrentUser",function(n){return n.skipIfNotAdmin()}]}}),s.isFinanceEnabled()&&n.state("dashboard.finance",{data:{pageTitle:"Finance"},url:"/finance",templateUrl:"app/views/finance/finance.html",controller:"FinanceController",controllerAs:"vm",ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.finance.title"}}).state("dashboard.invoices",{data:{pageTitle:"Invoices"},url:"/invoices",templateUrl:"app/views/invoices/invoices.html",ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.invoices.title"}}).state("dashboard.invoice",{data:{pageTitle:"Invoice"},url:"^/invoice/:invoiceId",templateUrl:"app/views/invoices/invoice.html",controller:"InvoiceController",controllerAs:"vm",ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.invoice.title"}}),s.isStaffEnabled()&&n.state("dashboard.staffs",{data:{pageTitle:"Staffs"},url:"/staffs",templateUrl:"app/views/staffs/staffs.html",controller:"StaffsController",controllerAs:"vm",ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.staffs.title"},resolve:{skip:["MnoeCurrentUser",function(n){return n.skipIfNotAdminRole(["admin","sub_tenant_admin"])}]}}).state("dashboard.staff",{data:{pageTitle:"Division"},url:"^/staff/:staffId",views:{"@dashboard":{templateUrl:"app/views/staff/staff.html",controller:"StaffController",controllerAs:"vm"}},ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.staffs.title"},resolve:{skip:["MnoeCurrentUser",function(n){return n.skipIfNotAdminRole(["admin","sub_tenant_admin"])}]}}).state("dashboard.sub-tenants",{data:{pageTitle:"Divisions"},url:"/sub-tenants",templateUrl:"app/views/sub-tenants/sub-tenants.html",controller:"SubTenantsController",controllerAs:"vm",ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.sub_tenants.title"},resolve:{skip:["MnoeCurrentUser","MnoeAdminConfig",function(n,e){return n.skipIfNotAdminRole(["admin"])||!e.isSubTenantEnabled()}]}}).state("dashboard.sub-tenant",{data:{pageTitle:"Division"},url:"^/sub-tenant/:subTenantId",views:{"@dashboard":{templateUrl:"app/views/sub-tenant/sub-tenant.html",controller:"SubTenantController",controllerAs:"vm"}},ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.sub_tenant.title"}}),s.isOrganizationManagementEnabled()&&n.state("dashboard.customers.create-step-1",{url:"^/customers/create-customer",views:{"@dashboard":{templateUrl:"app/views/customers/create-step-1/create-step-1.html",controller:"CreateStep1Controller",controllerAs:"vm"}},ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.customers.create_customer.title"}}),s.isOrganizationManagementEnabled()&&s.isCustomerBatchImportEnabled()&&n.state("dashboard.customers.batch-upload",{url:"^/customers/batch-upload",views:{"@dashboard":{templateUrl:"app/views/customers/batch-upload/batch-upload.html",controller:"BatchUploadController",controllerAs:"vm"}},ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.customers.batch_upload.title"}}),s.isOrganizationManagementEnabled()&&s.isProvisioningEnabled()&&n.state("dashboard.provisioning",{abstract:!0,templateUrl:"app/views/provisioning/layout.html",url:"/provisioning"}).state("dashboard.provisioning.order",{data:{pageTitle:"Purchase - Order"},url:"/order/?nid&id&orgId",views:{"@dashboard.provisioning":{templateUrl:"app/views/provisioning/order.html",controller:"ProvisioningOrderCtrl",controllerAs:"vm"}},ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.provisioning.breadcrumb.order"}}).state("dashboard.provisioning.additional_details",{data:{pageTitle:"Purchase - Additional details"},url:"/details/?nid&id&orgId",views:{"@dashboard.provisioning":{templateUrl:"app/views/provisioning/details.html",controller:"ProvisioningDetailsCtrl",controllerAs:"vm"}},ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.provisioning.breadcrumb.additional_details"}}).state("dashboard.provisioning.confirm",{data:{pageTitle:"Purchase - Confirm"},url:"/confirm/?nid&id&orgId",views:{"@dashboard.provisioning":{templateUrl:"app/views/provisioning/confirm.html",controller:"ProvisioningConfirmCtrl",controllerAs:"vm"}},ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.provisioning.breadcrumb.confirm"}}).state("dashboard.provisioning.order_summary",{data:{pageTitle:"Purchase - Order summary"},url:"/summary/?orgId&subscriptionId",views:{"@dashboard.provisioning":{templateUrl:"app/views/provisioning/summary.html",controller:"ProvisioningSummaryCtrl",controllerAs:"vm"}},ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.provisioning.breadcrumb.order_summary"}}),s.isProductMarkupEnabled()&&n.state("dashboard.product-markups",{data:{pageTitle:"Price List"},url:"/product-markups",templateUrl:"app/views/product-markups/product-markups.html",controller:"ProductMarkupsController",controllerAs:"vm",ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.product_markups.title"},resolve:{skip:["MnoeCurrentUser",function(n){return n.skipIfNotAdmin()}]}}),s.isProvisioningEnabled()&&n.state("dashboard.orders",{data:{pageTitle:"Orders"},url:"/orders",templateUrl:"app/views/orders/orders.html",controller:"OrdersController",controllerAs:"vm",ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.orders.title"}}).state("dashboard.order",{data:{pageTitle:"Order"},url:"^/orders/?:orderId&:orgId",views:{"@dashboard":{templateUrl:"app/views/orders/order.html",controller:"OrderController",controllerAs:"vm"}},ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.order.title"}}),s.areLocalProductsEnabled()&&n.state("dashboard.products",{data:{pageTitle:"My Products"},url:"/products",views:{"@dashboard":{templateUrl:"app/views/products/products.html",controller:"ProductsController",controllerAs:"vm"}},ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.products.title"}}).state("dashboard.product",{data:{pageTitle:"Product"},url:"^/product/:productId",views:{"@dashboard":{templateUrl:"app/views/products/product.html",controller:"ProductController",controllerAs:"vm"}},ncyBreadcrumb:{label:"mnoe_admin_panel.dashboard.product.title"}}),e.otherwise("/home")}])}.call(this),function(){this.App.run(["$rootScope","APP_NAME",function(n,e){return n.app_name=e}]).run(["$rootScope","$log",function(n,e){return n.$on("$stateChangeStart",function(e,a,t,s,i){return n.pageTitle=a.data.pageTitle})}]).run(["$rootScope",function(n){return n.$on("$viewContentLoaded",function(){return window.scrollTo(0,0)})}]).run(["$templateCache",function(n){return n.put("directives/toast/toast.html",'<div class="{{toastClass}} {{toastType}}" ng-click="tapToast()">\n  <div ng-switch on="allowHtml">\n    <div ng-switch-default ng-if="title" class="{{titleClass}}" aria-label="{{title | translate}}">{{title | translate:extraData}}</div>\n    <div ng-switch-default class="{{messageClass}}" aria-label="{{message | translate:extraData}}">{{message | translate:extraData}}</div>\n    <div ng-switch-when="true" ng-if="title" class="{{titleClass}}" ng-bind-html="title | translate:extraData"></div>\n    <div ng-switch-when="true" class="{{messageClass}}" ng-bind-html="message | translate:extraData"></div>\n  </div>\n  <progress-bar ng-if="progressBar"></progress-bar>\n</div>')}]).run(["toastr","$location",function(n,e){var a,t;if(a=e.search().flash)return t=JSON.parse(a),n[t.type](t.msg,_.capitalize(t.type),{timeout:1e4}),e.search("flash",null)}]).run(["$rootScope","$timeout","IntercomSvc","MnoeCurrentUser",function(n,e,a,t){return e(function(){return t.getUser().then(function(n){return a.init(n)})}),n.$on("$stateChangeStart",function(){return a.update()})}]).run(["editableOptions",function(n){return n.theme="bs3"}])}.call(this),function(){console.info("MnoEnterprise Admin Panel - v2.0.0-dev"),window.mnoe={version:"2.0.0-dev"}}.call(),function(){this.App.directive("currencyCentsInput",function(){return{require:"ngModel",link:function(n,e,a,t){return t.$parsers.push(function(n){return parseInt(100*n)}),t.$formatters.push(function(n){return n/100})}}})}.call(this),function(){angular.module("frontendAdmin").directive("percentageInput",function(){return{require:"ngModel",link:function(n,e,a,t){return t.$parsers.push(function(n){return n/100}),t.$formatters.push(function(n){return 100*n})}}})}.call(this),function(){this.App.controller("DashboardController",["$scope","$cookies","$sce","MnoeMarketplace","MnoErrorsHandler","MnoeCurrentUser","MnoeAdminConfig","STAFF_PAGE_AUTH",function(n,e,a,t,s,i,o,r){"ngInject";var l;l=this,l.errorHandler=s,l.staffPageAuthorized=r,l.adminConfig=o,l.showProductManagement=o.areLocalProductsEnabled()||o.isProductMarkupEnabled()||o.areSettingsEnabled(),l.showWebstore=o.isStaffEnabled()||o.isSubTenantEnabled()||o.isFinanceEnabled()||o.isReviewingEnabled()||o.areQuestionsEnabled()||o.isDashboardTemplatesEnabled()||o.isAuditLogEnabled(),l.trustSrc=function(n){return a.trustAsResourceUrl(n)},i.getUser().then(function(n){return l.user=n,l.organizationAvailable=null!=n.organizations&&n.organizations.length>0}),l.exit=function(){return i.logout()}}])}.call(this),function(){this.App.service("IntercomSvc",["$window","INTERCOM_ID",function(n,e){return this.init=function(a){var t;if(n.Intercom)return t={app_id:e,user_id:a.id,email:a.email,admin_role:a.admin_role,name:a.name,surname:a.surname,created_at:a.created_at,widget:{activator:"#IntercomDefaultWidget"}},a.user_hash&&(t.user_hash=a.user_hash),n.Intercom("boot",t)},this.update=function(){if(n.Intercom)return n.Intercom("update")},this.logOut=function(){if(n.Intercom)return n.Intercom("shutdown")},this}])}.call(this),function(){this.App.directive("mnoAppFeatures",function(){return{restrict:"EA",templateUrl:"app/components/mno-app-features/mno-app-features.html",scope:{app:"="},controller:["$scope",function(n){n.isSingleBilling=!!n.app.single_billing,n.isDataSharing=!!n.app.is_connec_ready,n.isSingleSignOn=!!n.app.sso_enabled}]}})}.call(this),function(){this.App.service("MnoAppsInstances",function(){var n;return n=this,this.isConnected=function(e){return"cube"===e.stack||"cloud"===e.stack||n.isOauthConnected(e)},this.isOauthConnected=function(n){return"connector"===n.stack&&n.oauth_keys_valid},this.oAuthConnectPath=function(n,e){var a;return null==e&&(e=""),a=window.encodeURIComponent(""+location.pathname+location.hash),"/mnoe/webhook/oauth/"+n.uid+"/authorize?redirect_path="+a+"&"+e},this.canBeDataSynced=function(n){return"connector"===n.stack&&n.oauth_keys_valid},this.dataSyncPath=function(n){return"/mnoe/webhook/oauth/"+n.uid+"/sync"},this.canBeDisconnected=function(n){return"connector"===n.stack&&n.oauth_keys_valid},this.disconnectPath=function(n){return"/mnoe/webhook/oauth/"+n.uid+"/disconnect"},this})}.call(this),function(){this.App.service("MnoConfirm",["$q","$uibModal",function(n,e){var a,t,s;return a=this,s={closeButtonText:"mnoe_admin_panel.dashboard.mno_confirm.close",closeButtonTextExtraData:{},actionButtonText:"mnoe_admin_panel.dashboard.mno_confirm.ok",actionButtonTextExtraData:{},headerText:"mnoe_admin_panel.dashboard.mno_confirm.proceed",headerTextExtraData:{},bodyText:"mnoe_admin_panel.dashboard.mno_confirm.perform",bodyTextExtraData:{},inputTextEnabled:!1,inputTextValue:"",inputTextPlaceholder:"",actionCb:n.resolve,type:"primary"},t={backdrop:!0,keyboard:!0,modalFade:!0,templateUrl:"app/components/mno-confirm/mno-confirm.html"},this.showModal=function(n,e){return null==e&&(e=null),null==e&&(e={}),e.backdrop="static",a.show(n,e)},this.show=function(n,a){var i,o;return null==a&&(a=null),i={},o={},angular.extend(o,s,n),angular.extend(i,t,a),i.controller||(i.controller=["$scope","$uibModalInstance",function(n,e){"ngInject";return n.modalOptions=o,n.modalOptions.ok=function(){return n.modalOptions.isLoading=!0,n.modalOptions.actionCb(n.modalOptions.inputTextValue).then(function(n){return e.close(n)}).finally(function(){return n.modalOptions.isLoading=!1})},n.modalOptions.close=function(){return e.dismiss("cancel")}}]),e.open(i).result},this}])}.call(this),function(){this.App.service("MnoErrorsHandler",["$log",function(n){var e;return this,e=null,this.processServerError=function(a,t){var s;if(n.error("An error occurred:",a),t&&!_.startsWith(a.data,"<!DOCTYPE html>"))return 400<=(s=a.status)&&s<=499?(e=a,_.each(e.data,function(e,a){return _.each(e,function(){return null!=t[a]?t[a].$setValidity("server",!1):n.error("MnoErrorsHandler: cannot find field:"+a)})})):void 0},this.errorMessage=function(n){var a;return a=[],null!=e&&_.each(e.data[n],function(n){return a.push(n)}),a.join(", ")},this.resetErrors=function(n){if(null!=e)return _.each(e.data,function(e,a){return _.each(e,function(){if(null!=n[a])return n[a].$setValidity("server",null)})}),e=null},this.onlyServerError=function(n){return _.every(n.$error,function(n,e){return"server"===e})},this}])}.call(this),function(){this.App.component("mnoFileUploader",{bindings:{maxSize:"@",uploadUri:"@",fileTypes:"@",startCallback:"&",successCallback:"&",errorCallback:"&"},template:'<form name="$ctrl.form" novalidate>\n  <fieldset>\n    <input type="file" accept="{{$ctrl.fileTypes}}" ngf-select ng-model="$ctrl.file" name="file" ngf-max-size="{{$ctrl.maxSize}}" required ngf-model-invalid="errorFile">\n    <i ng-show="$ctrl.form.file.$error.maxSize">\n      <span translate>mnoe_admin_panel.components.mno-file-uploader.file_too_large</span> : {{errorFile.size / 1000000|number:1}}MB, max {{$ctrl.maxSize}}\n    </i>\n    <div class="top-buffer-1">\n      <button type="button" class="btn btn-primary" ng-disabled="!$ctrl.form.$valid || $ctrl.isUploading" ng-click="$ctrl.uploadFile()" translate>\n        mnoe_admin_panel.components.mno-file-uploader.submit\n      </button>\n      <span ng-show="$ctrl.isUploading"><i class="fa fa-spinner fa-pulse fa-fw"></i>&nbsp;</span>\n    </div>\n  </fieldset>\n  <div class="progress top-buffer-1" ng-show="$ctrl.file.progress >= 0">\n    <uib-progressbar value="$ctrl.file.progress" type="{{$ctrl.progressBarType}}">\n      <span ng-show="$ctrl.errors" translate>mnoe_admin_panel.components.mno-file-uploader.upload_failed</span>\n      <span ng-show="$ctrl.file.result" translate>mnoe_admin_panel.components.mno-file-uploader.upload_successful</span>\n      <span ng-show="!$ctrl.file.result && !$ctrl.errors">{{$ctrl.file.progress}}%</span>\n    </uib-progressbar>\n  </div>\n</form>',controller:["$timeout","Upload","MnoErrorsHandler",function(n,e,a){var t;t=this,t.uploadFile=function(){return t.startCallback(),t.progressBarType="primary",t.isUploading=!0,t.hasErrors=!1,t.file.upload=e.upload({headers:{Accept:"application/json"},url:t.uploadUri,data:{file:t.file}}),t.file.upload.then(function(e){return n(function(){return t.file.result=!0,t.form.$setPristine()}),n(function(){return t.file.progress=-1},3e3),t.successCallback({value:e})},function(n){return a.processServerError(n),t.hasErrors=!0,t.errorCallback({value:n}),t.progressBarType="danger"},function(n){return t.file.progress=parseInt(100*n.loaded/n.total)}).finally(function(){return t.isUploading=!1})}}]})}.call(this),function(){this.App.component("mnoImageManager",{bindings:{assets:"<",uploadUri:"<",fieldName:"<",deleteCb:"=",isDisabled:"<"},template:'<form name="vm.imageForm" class="form" novalidate>\n  <mno-image-selector ng-model="$ctrl.image"\n                      is-disabled="$ctrl.isDisabled"\n                      max-size="\'5MB\'">\n  </mno-image-selector>\n</form>\n\n<button class="btn btn-primary top-buffer-1"\n        ng-if="$ctrl.image"\n        ng-disabled="!$ctrl.image || $ctrl.isDisabled"\n        ng-click="$ctrl.uploadImage($ctrl.image)" translate>\n  Submit\n</button>\n\n\x3c!-- TODO: implement sortable --\x3e\n<ul ui-sortable="$ctrl.sortableOptions" ng-model="$ctrl.assets" class="assets-list top-buffer-1 not-sortable">\n  <li class="asset" ng-repeat="asset in $ctrl.assets" ng-class="{\'not-sortable\': $ctrl.isDisabled}">\n    <span class="asset-close" ng-click="$ctrl.deleteImage(asset)" ng-show="!$ctrl.isDisabled">\n      <i class="fa fa-close"></i>\n    </span>\n    <img ng-src="{{asset.url}}" class="img-thumbnail">\n  </li>\n</ul>',controller:["$timeout","orderByFilter","Upload","MnoErrorsHandler",function(n,e,a,t){var s;s=this,s.$onInit=function(){return s.assets=e(s.assets,"position")},s.sortableOptions={cancel:".not-sortable",stop:function(n,e){var a,t,i;i=[];for(t in s.assets)a=s.assets[t],t=parseInt(t),a.attributes.position!==t?(a.attributes.position=t,i.push(a.patch({position:t}))):i.push(void 0);return i}},s.uploadImage=function(){var e;return e=a.upload({url:s.uploadUri,data:{field_name:s.fieldName,content:s.image}}),e.then(function(e){return console.log("### DEBUG response",e),s.assets.push(e.data),n(function(){return s.image.result=!0})},function(n){if(t.processServerError(n),n.status>0)return s.image.error=!0},function(n){return s.image.progress=parseInt(100*n.loaded/n.total)}).finally(function(){return n(function(){return s.image=null},1e3)})},s.deleteImage=function(n){return s.deleteCb(n).then(function(){return _.remove(s.assets,n)})}}]})}.call(this),function(){this.App.directive("mnoOffersList",["$translate","PricingHelper",function(n,e){return{restrict:"AE",scope:{offers:"=",markup:"="},templateUrl:"app/components/mno-offers-list/mno-offers-list.html",link:function(a,t,s){return a.formatPrice=function(n){return e.formatPrice(n.price_cents,n.currency)},a.formatFinalPrice=function(n){return e.formatFinalPrice(n.price_cents,n.currency,a.markup)},a.pricingType=function(e){switch(e.pricing_type){case"recurring":return e.per_unit+" / "+e.per_duration;case"payg":return n.instant("mnoe_admin_panel.dashboard.product_markups.offers.modal.usage_based");case"one_off":return n.instant("mnoe_admin_panel.dashboard.product_markups.offers.modal.one_off")}}}}}])}.call(this),function(){this.App.constant("ITEMS_PER_PAGE",[10,20,50]),this.App.directive("mnoPagination",["ITEMS_PER_PAGE",function(n){return{restrict:"AE",scope:{totalItems:"=",onChangeCb:"&",nbItemsValues:"=?",nbItems:"=",page:"=",isLoading:"=?"},templateUrl:"app/components/mno-pagination/mno-pagination.html",link:function(e){return e.pagination={maxPages:7},e.nbItemsValues||(e.nbItemsValues=n),e.onPageChange=function(){return e.onChangeCb({nbItems:e.nbItems,page:e.page})}}}}])}.call(this),function(){var n=[].indexOf||function(n){for(var e=0,a=this.length;e<a;e++)if(e in this&&this[e]===n)return e;return-1};this.App.component("mnoProductSelectorModal",{bindings:{resolve:"<",close:"&",dismiss:"&"},templateUrl:"app/components/mno-product-selector/mno-product-selector.html",controller:["$window","$q","orderByFilter","MnoeProducts","MnoeApps","MnoeProvisioning",function(e,a,t,s,i,o){"ngInject";var r,l;r=this,l=function(){var n;switch(n=a.defer(),r.flag){case"organization-create-order":s.get(r.selectedProducts[0].id).then(function(e){return n.resolve(e.data)});break;case"settings-add-new-app":n.resolve(r.selectedProducts)}return n.promise},r.$onInit=function(){return r.flag=r.resolve.dataFlag,r.resolveProducts(),r.multiple=r.resolve.multiple,r.modalHeight=e.innerHeight-200+"px",r.selectedProducts=[],r.selectedCategory="",r.searchTerm="",r.headerText=r.resolve.headerText||"mnoe_admin_panel.components.mno-product-selector.title",r.actionButtonText=r.resolve.actionButtonText||"mnoe_admin_panel.components.mno-product-selector.create_order"},r.resolveProducts=function(){var n,e;return r.isLoadingProducts=!0,n={skip_dependencies:!0,includes:["categories"],fields:{products:["name, logo, categories"],categories:["name"]},"where[active]":!0},r.isLoadingProducts=!0,e=function(){switch(r.flag){case"organization-create-order":return s.products(_,_,_,n);case"settings-add-new-app":return i.list().then(function(n){var e,a,t;return e=r.resolve.enabledApps,t=angular.copy(n),a=_.map(e,"id"),_.remove(t.data,function(n){return _.includes(a,n.id)}),t})}}(),e.then(function(n){var e,a,s;return e=function(){var e,t,s,i;for(s=n.data,i=[],e=0,t=s.length;e<t;e++)a=s[e],i.push(a.categories);return i}(),r.categories=_.uniq((s=[]).concat.apply(s,e)),r.products=t(n.data,"name"),r.filteredProducts=r.products}).finally(function(){return r.isLoadingProducts=!1})},r.onSearchChange=function(){var n,e;return r.selectedCategory="",e=r.searchTerm.toLowerCase(),r.filteredProducts=function(){var a,t,s,i;for(s=r.products,i=[],a=0,t=s.length;a<t;a++)n=s[a],-1!==n.name.toLowerCase().indexOf(e)&&i.push(n);return i}()},r.onCategoryChange=function(){var e,a;return r.searchTerm="",(null!=(a=r.selectedCategory)?a.length:void 0)>0?r.filteredProducts=function(){var a,t,s,i,o;for(s=r.products,o=[],a=0,t=s.length;a<t;a++)e=s[a],i=r.selectedCategory,n.call(e.categories,i)>=0&&o.push(e);return o}():r.filteredProducts=r.products},r.toggleProduct=function(n){if(n.checked)_.remove(r.selectedProducts,n);else{if(!r.multiple&&r.selectedProducts.length>0)return;r.selectedProducts.push(n)}return n.checked=!n.checked},r.closeModal=function(){var n;return r.isLoadingProducts=!0,
o.setSubscription({}),n=l(),n.then(function(n){return r.close({$value:n})}).finally(function(){return r.isLoadingProducts=!1})},r.dismissModal=function(){return r.dismiss()}}]})}.call(this),function(){this.App.factory("MnoeApiSvc",["$log","Restangular","inflector",function(n,e,a){return e.withConfig(function(n){return n.setBaseUrl("/mnoe/jpi/v1"),n.setDefaultHeaders({Accept:"application/json"}),n.setFullResponse(!0),n.addResponseInterceptor(function(n,e,t,s,i,o){var r;return _.startsWith(t,"/")?n:(r=null,"getList"===e?r=n[t]:"get"===e||"put"===e||"post"===e?(t=a.singularize(t),r=n[t]):r=n,r)})})}])}.call(this),function(){this.App.service("MnoeMarketplace",["MnoeApiSvc","MnoeObservables","OBS_KEYS",function(n,e,a){var t,s,i,o;return t=this,s=n.oneUrl("/marketplace"),i=null,o=function(){return i=null,t.getApps()},this.getApps=function(){return null!=i?i:i=s.get()},e.registerCb(a.marketplaceChanged,o),this}])}.call(this),function(){this.App.directive("mnoeAppMetricsList",["$filter","$log","$translate","MnoeAppMetrics","MnoeAdminConfig",function(n,e,a,t,s){return{restrict:"E",scope:{},templateUrl:"app/components/mnoe-app-metrics-list/mno-app-metrics-list.html",link:function(a,i,o){var r,l,d,c,m;return a.state=o.view,a.apps={search:"",nbItems:10,page:1,pageChangedCb:function(n,e){var t;return a.apps.nbItems=n,a.apps.page=e,t=(e-1)*n,l(n,t)}},a.isFinanceEnabled=s.isFinanceEnabled(),l=function(n,e,s){return null==s&&(s="name"),a.apps.loading=!0,t.list(n,e,s).then(function(n){return a.apps.totalItems=n.headers("x-total-count"),a.apps.list=n.data[0].app_metrics}).finally(function(){return a.apps.loading=!1})},a.switchState=function(){return a.state=o.view="all"===o.view?"last":"all",r()},r=function(){return"all"===o.view?(d(),l(a.apps.nbItems,0)):"last"===o.view?(c(),l(a.apps.nbItems,0,"running_instances_count.desc")):e.error('Value of attribute view can only be "all" or "last"')},d=function(){return a.apps.widgetTitle="mnoe_admin_panel.dashboard.apps.widget.list.all_apps.title",a.apps.switchLinkTitle="mnoe_admin_panel.dashboard.apps.widget.list.all_apps.switch_link_title"},c=function(){return a.apps.widgetTitle="mnoe_admin_panel.dashboard.apps.widget.list.last_apps.title",a.apps.switchLinkTitle="mnoe_admin_panel.dashboard.apps.widget.list.last_apps.switch_link_title"},a.searchChange=function(){return a.apps.search.length>=3?(a.searchMode=!0,m(a.apps.search)):a.searchMode?(a.searchMode=!1,r()):void 0},m=function(e){var s;return a.apps.loading=!0,a.apps.widgetTitle="mnoe_admin_panel.dashboard.apps.widget.list.search_apps.title",delete a.apps.switchLinkTitle,e=a.apps.search.toLowerCase(),s={"name.like":e+"%"},t.search(s).then(function(e){return a.apps.totalItems=e.headers("x-total-count"),a.apps.list=n("orderBy")(e.data[0].app_metrics,"name")}).finally(function(){return a.apps.loading=!1})},r()}}}])}.call(this),function(){this.App.component("mnoeAuditEventsList",{templateUrl:"app/components/mnoe-audit-events-list/mnoe-audit-events-list.html",bindings:{},controller:["$log","MnoeAuditEvents",function(n,e){var a,t,s;s=this,s.events={search:{},sort:"created_at.desc",nbItems:20,offset:0,page:1,list:[],pageChangedCb:function(n,e){return s.events.nbItems=n,s.events.page=e,s.events.offset=(e-1)*n,a(n,s.events.offset)}},s.callServer=function(n){return s.events.sort=t(n.sort),a(s.events.nbItems,s.events.offset,s.events.sort)},t=function(n){var e;return null==n&&(n={}),e="created_at.desc",n.predicate&&(e=n.predicate,n.reverse?e+=".desc":e+=".asc"),e},a=function(n,a,t){return null==t&&(t=s.events.sort),s.events.loading=!0,e.list(n,a,t).then(function(n){return s.events.totalItems=n.headers("x-total-count"),s.events.list=n.data}).finally(function(){return s.events.loading=!1})}}]})}.call(this),function(){this.App.factory("MnoeAdminConfig",["$log","ADMIN_ROLES","ADMIN_PANEL_CONFIG","DASHBOARD_CONFIG","INTERCOM_ID",function(n,e,a,t,s){var i;return i=this,this.adminRoles=function(){return i.isSubTenantEnabled()?e:_.reject(e,function(n){return"sub_tenant_admin"===n.value})},this.isAccountManagerEnabled=function(){return null!=a.account_manager&&a.account_manager.enabled},this.isAppManagementEnabled=function(){var n;return null==(null!=(n=a.apps_management)?n.enabled:void 0)||a.apps_management.enabled},this.isAuditLogEnabled=function(){var n;return null==(null!=(n=a.audit_log)?n.enabled:void 0)||a.audit_log.enabled},this.isCustomerBatchImportEnabled=function(){var n;return null!=(null!=(n=a.customer_batch_import)?n.enabled:void 0)&&a.customer_batch_import.enabled},this.isDashboardTemplatesEnabled=function(){var n;return null!=(null!=(n=a.dashboard_templates)?n.enabled:void 0)&&a.dashboard_templates.enabled},this.isFinanceEnabled=function(){var n;return null==(null!=(n=a.finance)?n.enabled:void 0)||a.finance.enabled},this.isIntercomEnabled=function(){return null!=a.intercom&&(a.intercom.enabled&&null!=s)},this.isImpersonationEnabled=function(){var n;return null==(null!=(n=a.impersonation)?n.enabled:void 0)||a.impersonation.enabled},this.isImpersonationConsentRequired=function(){var n;return null!=(null!=(n=a.impersonation)?n.consent_required:void 0)&&a.impersonation.consent_required},this.isOrganizationManagementEnabled=function(){var n,e;if(null!=(null!=(n=a.customer_management)&&null!=(e=n.organization)?e.enabled:void 0))return a.customer_management.organization.enabled},this.areLocalProductsEnabled=function(){var e;return null!=(null!=(e=t.marketplace)?e.local_products:void 0)?t.marketplace.local_products:(n.debug("DASHBOARD_CONFIG.marketplace.local_products"),!1)},this.isProductMarkupEnabled=function(){var e;return null!=(null!=(e=t.marketplace)?e.product_markup:void 0)?t.marketplace.product_markup:(n.debug("DASHBOARD_CONFIG.marketplace.provisioning"),!0)},this.isProvisioningEnabled=function(){var e;return null!=(null!=(e=t.marketplace)?e.provisioning:void 0)?t.marketplace.provisioning:(n.debug("DASHBOARD_CONFIG.marketplace.provisioning"),!1)},this.isPaymentEnabled=function(){var n,e,a;return e=null!=t.payment&&!t.payment.enabled,n=null!=(null!=(a=t.organization_management)?a.billing:void 0)&&!t.organization_management.billing.enabled,!(e||n)},this.areQuestionsEnabled=function(){var n,e;return null!=(null!=(n=t.marketplace)&&null!=(e=n.questions)?e.enabled:void 0)&&t.marketplace.questions.enabled},this.isRegistrationEnabled=function(){var n;return null==(null!=(n=t.registration)?n.enabled:void 0)||t.registration.enabled},this.isReviewingEnabled=function(){var n,e;return null!=(null!=(n=t.marketplace)&&null!=(e=n.reviews)?e.enabled:void 0)&&t.marketplace.reviews.enabled},this.isStaffEnabled=function(){var n;return null==(null!=(n=a.staff)?n.enabled:void 0)||a.staff.enabled},this.areSettingsEnabled=function(){var n;return null==(null!=(n=a.settings)?n.enabled:void 0)||a.settings.enabled},this.isSubTenantEnabled=function(){var n;return null!=(null!=(n=a.sub_tenant)?n.enabled:void 0)&&a.sub_tenant.enabled},this.isUserManagementEnabled=function(){var n,e;return null==(null!=(n=a.customer_management)&&null!=(e=n.user)?e.enabled:void 0)||a.customer_management.user.enabled},this.marketplaceCurrency=function(){var e,a;return null!=(null!=(e=t.marketplace)&&null!=(a=e.pricing)?a.currency:void 0)?t.marketplace.pricing.currency:(n.debug("DASHBOARD_CONFIG.marketplace.pricing.currency missing"),"AUD")},this.availableBillingCurrencies=function(){return null!=a.available_billing_currencies?a.available_billing_currencies:(n.debug("ADMIN_PANEL_CONFIG.billing_currencies missing"),["AED","AUD","CAD","EUR","GBP","HKD","JPY","NZD","SGD","USD"])},this.dashboardTemplatesDatesFormat=function(){return null!=a.dashboard_templates&&a.dashboard_templates.dates_format||"L"},this}])}.call(this),function(){this.App.component("mnoeDashboardTemplatesList",{templateUrl:"app/components/mnoe-dashboard-templates-list/mnoe-dashboard-templates-list.html",controller:["$uibModal","toastr","MnoeDashboardTemplates","MnoeAdminConfig",function(n,e,a,t){var s,i,o,r;r=this,r.datesFormat=t.dashboardTemplatesDatesFormat(),r.dashboardTemplates={search:{},sort:"name",nbItems:10,page:1,pageChangedCb:function(n,e){var a;return r.dashboardTemplates.nbItems=n,r.dashboardTemplates.page=e,a=(e-1)*n,s(n,a)}},r.callServer=function(n){var e,a;return a=o(n.sort),e=i(n.search),s(r.dashboardTemplates.nbItems,r.dashboardTemplates.offset,a,e)},o=function(n){var e;return null==n&&(n={}),e="name",n.predicate&&(e=n.predicate,n.reverse?e+=".desc":e+=".asc"),r.dashboardTemplates.sort=e},i=function(n){var e,a,t,s;if(null==n&&(n={}),t={},n.predicateObject){a=n.predicateObject;for(e in a)s=a[e],t["where["+e+".like]"]=s+"%"}return r.dashboardTemplates.search=t},r.openDeleteModal=function(e){var a;return a=n.open({templateUrl:"app/views/dashboard-templates/modals/delete-dashboard-template-modal.html",controller:"deleteDashboardTemplateCtrl",size:"lg",resolve:{dashboardTemplateId:e}}),a.result.then(function(n){if(n)return s()})},s=function(n,e,t,s){return null==t&&(t=r.dashboardTemplates.sort),null==s&&(s=r.dashboardTemplates.search),r.dashboardTemplates.loading=!0,a.templates(n,e,t,s).then(function(n){return r.dashboardTemplates.totalItems=n.headers("x-total-count"),r.dashboardTemplates.list=n.data}).finally(function(){return r.dashboardTemplates.loading=!1})},r.toggleTemplatePublished=function(n){return a.toggleTemplatePublished(n)}}]})}.call(this),function(){this.App.component("mnoeImpersonateButton",{templateUrl:"app/components/mnoe-impersonate-button/mnoe-impersonate-button.html",bindings:{organizationId:"<",wrapperClassNames:"@",btnClassNames:"@",classNames:"@",user:"<"},controllerAs:"vm",controller:["$window","toastr","MnoErrorsHandler","MnoeAdminConfig","MnoeUsers","MnoConfirm",function(n,e,a,t,s,i){var o;o=this,o.isImpersonationEnabled=t.isImpersonationEnabled(),o.impersonationStatus=function(){if(o.user.admin_role)return"disabled";if(!t.isImpersonationConsentRequired())return"approved";switch(o.user.access_request_status){case"approved":return"approved";case"never_requested":case"expired":case"denied":case"revoked":return"requestable";case"requested":return"requested"}},o.impersonateUser=function(){var e,a;return e=window.encodeURIComponent(""+location.pathname+location.hash),a="/mnoe/impersonate/user/"+o.user.id+"?redirect_path="+e,o.organizationId&&(a=a+"&dhbRefId="+o.organizationId),n.location.href=a},o.openRequestModal=function(){var n;return n={closeButtonText:"mnoe_admin_panel.dashboard.users.widget.local_list.modal.cancel",actionButtonText:"mnoe_admin_panel.dashboard.users.widget.local_list.request_access",headerText:"mnoe_admin_panel.dashboard.users.widget.local_list.modal.request_access_title",bodyText:"mnoe_admin_panel.dashboard.users.widget.local_list.modal.body",actionCb:function(){return s.requestAccess(o.user).then(function(){return e.success("mnoe_admin_panel.dashboard.users.widget.local_list.request_access.toastr_success",{extraData:{username:o.user.name+" "+o.user.surname}}),o.user.access_request_status="requested"},function(n){return e.error("mnoe_admin_panel.dashboard.users.widget.local_list.request_access.toastr_error",{extraData:{username:o.user.name+" "+o.user.surname}}),a.processServerError(n)})}},i.showModal(n)}}]})}.call(this),function(){this.App.component("mnoeInvoicesList",{templateUrl:"app/components/mnoe-invoices-list/mnoe-invoices-list.html",controller:["$state","$window","MnoeAdminConfig","MnoeInvoices","DatesHelper",function(n,e,a,t,s){var i,o,r;i=this,i.isPaymentEnabled=a.isPaymentEnabled(),i.invoices={list:[],nbItems:10,search:{},offset:0,page:1,pageChangedCb:function(n,e){return i.invoices.nbItems=n,i.invoices.page=e,i.invoices.offset=(e-1)*n,o(n,i.invoices.offset)}},i.callServer=function(n){return r(n.search),o(i.invoices.nbItems,i.invoices.offset)},o=function(n,e,a){return null==a&&(a=i.invoices.search),i.invoices.loading=!0,t.list(n,e,a).then(function(n){return i.invoices.totalItems=n.headers("x-total-count"),i.invoices.list=n.data}).finally(function(){return i.invoices.loading=!1})},r=function(n){var e,a,t,s;if(null==n&&(n={}),t={},n.predicateObject){a=n.predicateObject;for(e in a)s=a[e],t["where["+e+".like]"]=s+"%"}return i.invoices.search=t,t},i.expectedPaymentDate=function(n){return s.expectedPaymentDate(n)},i.goToInvoice=function(e){return n.go("dashboard.invoice",{invoiceId:e})},i.downloadInvoice=function(n,a){return e.open("/mnoe/admin/invoices/"+n,"_blank"),a.stopPropagation()}}]})}.call(this),function(){angular.module("frontendAdmin").controller("CommentEditModal",["$scope","$uibModalInstance","review",function(n,e,a){n.review=a,n.closeModal=function(){return e.dismiss()},n.submitIteraction=function(){return e.close(a)}}])}.call(this),function(){angular.module("frontendAdmin").controller("CommentModal",["$scope","$uibModalInstance",function(n,e){n.commentText="",n.closeModal=function(){return e.dismiss()},n.submitIteraction=function(){return e.dismiss()}}])}.call(this),function(){angular.module("frontendAdmin").controller("FeedbackReplyModal",["$scope","$uibModalInstance",function(n,e){n.replyText="",n.closeModal=function(){return e.dismiss()},n.submitIteraction=function(){return e.close(n.replyText)}}])}.call(this),function(){angular.module("frontendAdmin").controller("QuestionReplyModal",["$scope","$uibModalInstance",function(n,e){n.replyText="",n.closeModal=function(){return e.dismiss()},n.submitIteraction=function(){return e.close(n.replyText)}}])}.call(this),function(){this.App.component("mnoeOrdersList",{templateUrl:"app/components/mnoe-orders-list/mnoe-orders-list.html",bindings:{view:"@"},controller:function(){var n,e;e=this,e.listOfOrders=[],e.callServer=function(n){},e.orders={editmode:[],search:{},nbItems:10,page:1,pageChangedCb:function(a,t){var s;return e.orders.nbItems=a,e.orders.page=t,s=(t-1)*a,n(a,s)}},(n=function(n,a,t,s){return null==t&&(t=e.orders.sort),null==s&&(s=e.orders.search),e.orders.loading=!0,e.listOfOrders=[],e.orders.loading=!1})(e.orders.nbItems,0)}})}.call(this),function(){this.App.directive("mnoeOrganizationsList",["$filter","$translate","MnoeOrganizations","MnoeAdminConfig","MnoeCurrentUser",function(n,e,a,t,s){return{restrict:"E",scope:{list:"="},templateUrl:"app/components/mnoe-organizations-list/mnoe-organizations-list.html",link:function(i,o){var r,l,d,c;return i.organizations={search:"",sortAttr:"created_at",nbItems:10,page:1,pageChangedCb:function(n,e){var a;return i.organizations.nbItems=n,i.organizations.page=e,a=(e-1)*n,l(n,a,i.organizations.sortAttr)}},e(["mnoe_admin_panel.dashboard.organization.account_frozen_state","mnoe_admin_panel.dashboard.organization.widget.list.table.creation","mnoe_admin_panel.dashboard.organization.widget.list.table.name","mnoe_admin_panel.dashboard.organization.widget.list.table.revenue","mnoe_admin_panel.dashboard.organization.widget.list.table.margin","mnoe_admin_panel.dashboard.organization.widget.list.table.currency"]).then(function(n){var e;return e=[{header:n["mnoe_admin_panel.dashboard.organization.widget.list.table.name"],attr:"name",skip_natural:!0,render:function(n){return{template:'<a ui-sref="dashboard.customers.organization({orgId: organization.id})">\n  {{::organization.name}}\n  <em ng-show="organization.account_frozen" class="text-muted" translate>\n  mnoe_admin_panel.dashboard.organization.account_frozen_state</em>\n  <em ng-show="organization.demo_account" class="text-muted" translate>\n  mnoe_admin_panel.dashboard.organization.demo_account_state</em>\n</a>',scope:{organization:n}}}},{header:n["mnoe_admin_panel.dashboard.organization.widget.list.table.creation"],style:{width:"110px"},attr:"created_at",sort_default:"reverse",skip_natural:!0,render:function(n){return{template:"<span>{{::organization.created_at | date: 'dd/MM/yyyy'}}</span>",scope:{organization:n}}}}],i.organizations.fields=t.isFinanceEnabled()?e.concat([{header:n["mnoe_admin_panel.dashboard.organization.widget.list.table.revenue"],attr:"financial_metrics.revenue",doNotSort:!0,style:{width:"110px"}},{header:n["mnoe_admin_panel.dashboard.organization.widget.list.table.margin"],attr:"financial_metrics.margin",doNotSort:!0,style:{width:"110px"}},{header:n["mnoe_admin_panel.dashboard.organization.widget.list.table.currency"],attr:"financial_metrics.currency",doNotSort:!0,style:{width:"110px"}}]):e}),i.pipe=function(n){return i.organizations.page=1,i.organizations.sortAttr=n.sort.predicate,n.sort.reverse&&(i.organizations.sortAttr+=".desc"),l(i.organizations.nbItems,0,i.organizations.sortAttr)},l=function(n,e,o){return null==o&&(o="created_at"),i.organizations.loading=!0,s.getUser().then(function(){var r;return r=t.isAccountManagerEnabled()?{sub_tenant_id:s.user.mnoe_sub_tenant_id,account_manager_id:s.user.id}:{},a.list(n,e,o,r).then(function(n){return i.organizations.totalItems=n.headers("x-total-count"),i.organizations.list=n.data}).finally(function(){return i.organizations.loading=!1})})},r=function(){return d(),l(i.organizations.nbItems,0,i.organizations.sortAttr)},d=function(){return i.organizations.widgetTitle="mnoe_admin_panel.dashboard.organization.widget.list.all_organizations.title",i.organizations.switchLinkTitle="mnoe_admin_panel.dashboard.organization.widget.list.all_users.switch_link_title"},i.searchChange=function(){return i.organizations.search.length>=3?(i.searchMode=!0,c(i.organizations.search)):i.searchMode?(i.searchMode=!1,r()):void 0},c=function(e){var t;return i.organizations.loading=!0,i.organizations.widgetTitle="mnoe_admin_panel.dashboard.organization.widget.list.search_users.title",delete i.organizations.switchLinkTitle,e=i.organizations.search.toLowerCase(),t={"name.like":"%"+e+"%"},a.search(t).then(function(e){return i.organizations.totalItems=e.headers("x-total-count"),i.organizations.list=n("orderBy")(e.data,"name")}).finally(function(){return i.organizations.loading=!1})},r()}}}])}.call(this),function(){this.App.directive("mnoeOrganizationsLocalList",["$translate","$filter","$log","toastr","UserRoles","MnoeUsers",function(n,e,a,t,s,i){return{restrict:"E",scope:{list:"=",user:"="},templateUrl:"app/components/mnoe-organizations-local-list/mnoe-organizations-local-list.html",link:function(o,r,l){var d,c,m,p;return o.userContext=null!=l.user,o.userRoles=s,o.organizations={displayList:[],widgetTitle:"mnoe_admin_panel.dashboard.organization.widget.local_list.loading_orgs.title",search:""},c=function(){return o.organizations.widgetTitle="mnoe_admin_panel.dashboard.organization.widget.local_list.all_organizations.title",o.organizations.switchLinkTitle="mnoe_admin_panel.dashboard.organization.widget.local_list.all_organizations.switch_link_title",o.organizations.displayList=e("orderBy")(o.list,"email")},m=function(){return o.organizations.widgetTitle="mnoe_admin_panel.dashboard.organization.widget.local_list.last_organizations.title",o.organizations.switchLinkTitle="mnoe_admin_panel.dashboard.organization.widget.local_list.last_organizations.switch_link_title",o.organizations.displayList=e("orderBy")(o.list,"-created_at"),o.organizations.displayList=e("limitTo")(o.organizations.displayList,10)},p=function(){var n;return o.organizations.widgetTitle="mnoe_admin_panel.dashboard.organization.widget.local_list.search_organizations.title",delete o.organizations.switchLinkTitle,n=o.organizations.search.toLowerCase(),o.organizations.displayList=_.filter(o.list,function(e){var a,t,s;return e.email&&(a=_.contains(e.email.toLowerCase(),n)),e.name&&(t=_.contains(e.name.toLowerCase(),n)),e.surname&&(s=_.contains(e.surname.toLowerCase(),n)),a||t||s}),o.organizations.displayList=e("orderBy")(o.organizations.displayList,"email")},d=function(){return"all"===l.view?c():"last"===l.view?m():a.error('Value of attribute view can only be "all" or "last"')},o.switchState=function(){return"all"===l.view?l.view="last":l.view="all",d()},o.searchChange=function(){return""===o.organizations.search?d():p()},o.editRole=function(n){return n.beforeEditRole=n.role,n.editMode=!0},o.exitEditRole=function(n){return n.role=n.beforeEditRole,n.editMode=!1},o.updateUserRole=function(e,a){return a.isUpdatingRole=!0,a.role=e.role,i.updateUserRole(e,a).then(function(){return n(s.keyFromRole(a.role)).then(function(n){return t.success("mnoe_admin_panel.dashboard.users.widget.local_list.role_update_success",{extraData:{user:""+a.email,role:n}})})},function(n){return e.role=e.beforeEditRole,t.error("mnoe_admin_panel.dashboard.users.widget.local_list.role_update_error"),MnoErrorsHandler.processServerError(n)}).finally(function(){return e.beforeEditRole=null,e.isUpdatingRole=!1,e.editMode=!1})},o.$watch("list",function(n){if(n)return d()},!0)}}}])}.call(this),function(){this.App.component("mnoeProductMarkupsList",{templateUrl:"app/components/mnoe-product-markups-list/mnoe-product-markups-list.html",bindings:{view:"@",customerOrg:"<"},controller:["$filter","$log","$translate","MnoeProductMarkups","MnoeCurrentUser","MnoConfirm","MnoeObservables","OBS_KEYS","toastr",function(n,e,a,t,s,i,o,r,l){var d,c,m,p,u,g;g=this,g.markups={editmode:[],search:{},sort:"product.name",nbItems:10,offset:0,page:1,list:[],widgetTitle:"mnoe_admin_panel.dashboard.product_markups.widget.list.title",pageChangedCb:function(n,e){var a;return g.markups.nbItems=n,g.markups.page=e,a=(e-1)*n,d(n,a)}},g.readOnlyView=!1,g.callServer=function(n){var e,a;return a=u(n.sort),e=p(n.search),d(g.markups.nbItems,g.markups.offset,a,e)},u=function(n){var e;return null==n&&(n={}),e="product.name",n.predicate&&(e=n.predicate,n.reverse?e+=".desc":e+=".asc"),g.markups.sort=e,e},p=function(n){var e,a,t,s;if(null==n&&(n={}),t={},n.predicateObject){a=n.predicateObject;for(e in a)s=a[e],_.isObject(s)?t["where["+e+"."+_.keys(s)[0]+".like]"]=_.values(s)[0]+"%":t["where["+e+".like]"]=s+"%"}return g.markups.search=t,t},d=function(n,e,a,s){return null==a&&(a=g.markups.sort),null==s&&(s=g.markups.search),g.markups.loading=!0,g.customerOrg&&(g.readOnlyView=!0,s["where[for_organization]"]=g.customerOrg.id),t.markups(n,e,a,s).then(function(n){return g.markups.totalItems=n.headers("x-total-count"),g.markups.list=n.data}).finally(function(){return g.markups.loading=!1})},g.update=function(n){return n.isSaving=!0,t.updateProductMarkup(n).then(function(e){return u(),p(),delete g.editmode[n.id]},function(n){return e.error("Error while saving product markup",n),l.error("mnoe_admin_panel.dashboard.product_markups.add_markup.modal.toastr_error")}).finally(function(){return n.isSaving=!1})},g.remove=function(n){var e;return e={closeButtonText:"mnoe_admin_panel.dashboard.product_markups.modal.remove_product_markup.cancel",actionButtonText:"mnoe_admin_panel.dashboard.product_markups.modal.remove_product_markup.delete",headerText:"mnoe_admin_panel.dashboard.product_markups.modal.remove_product_markup.proceed",bodyText:"mnoe_admin_panel.dashboard.product_markups.modal.remove_product_markup.perform"},i.showModal(e).then(function(){return n.isSaving=!0,t.deleteProductMarkup(n).then(function(){return u(),p(),l.success("mnoe_admin_panel.dashboard.product_markups.modal.remove_product_markup.toastr_success")}).finally(function(){return n.isSaving=!1})})},g.showOrgName=function(n){return n?g.readOnlyView?a.instant("mnoe_admin_panel.dashboard.product_markups.add_markup.modal.customer_specific"):n:a.instant("mnoe_admin_panel.dashboard.product_markups.add_markup.modal.all_companies")},g.customerHeader=function(){return g.readOnlyView?"mnoe_admin_panel.dashboard.product_markups.widget.list.table.markup_type":"mnoe_admin_panel.dashboard.product_markups.widget.list.table.customer"},c=function(){return d(g.markups.nbItems,g.markups.offset)},m=function(){return d(g.markups.nbItems,g.markups.offset)},o.registerCb(r.markupAdded,c),o.registerCb(r.markupChanged,m),this.$onDestroy=function(){return o.unsubscribe(r.markupAdded,c),o.unsubscribe(r.markupChanged,m)}}]})}.call(this),function(){this.App.component("mnoeProductsList",{templateUrl:"app/components/mnoe-products-list/mnoe-products-list.html",bindings:{},controller:["$state","$uibModal","MnoeProducts","MnoeProvisioning","toastr",function(n,e,a,t,s){var i,o,r,l;l=this,l.products={search:{},sort:"name",nbItems:10,page:1,pageChangedCb:function(n,e){var a;return l.products.nbItems=n,l.products.page=e,a=(e-1)*n,i(n,a)}},l.callServer=function(n){var e,a;return a=r(n.sort),e=o(n.search),i(l.products.nbItems,l.products.offset,a,e)},r=function(n){var e;return null==n&&(n={}),e="name",n.predicate&&(e=n.predicate,n.reverse?e+=".desc":e+=".asc"),l.products.sort=e,e},o=function(n){var e,a;return null==n&&(n={}),e={},n.predicateObject&&(a=n.predicateObject.name,e["where[name.like]"]=a+"%"),l.products.search=e,e},l.confirmDeletion=function(n){var a;return a=e.open({templateUrl:"app/views/products/modals/delete-product-modal.html",controller:"DeleteProductController",controllerAs:"vm",resolve:{product:n}}),a.result.then(function(n){if(n)return i(l.products.nbItems,0)})},i=function(n,e,t,s){return null==t&&(t=l.products.sort),null==s&&(s=l.products.search),l.products.loading=!0,a.localProducts(n,e,t,s).then(function(n){return l.products.totalItems=n.headers("x-total-count"),l.products.list=n.data}).then(function(){return l.products.loading=!1})}}]})}.call(this),function(){this.App.directive("mnoeQuestionsList",["$filter","$log","$uibModal","MnoeReviews",function(n,e,a,t){return{restric:"E",scope:{},templateUrl:"app/components/mnoe-questions-list/mnoe-questions-list.html",link:function(n){var e;n.editmode=[],n.listOfQuestions=[],n.statuses=[{value:"approved",label:"mnoe_admin_panel.dashboard.questions_list.status_label.approved"},{value:"rejected",label:"mnoe_admin_panel.dashboard.questions_list.status_label.rejected"}],n.openCommentModal=function(){return a.open({templateUrl:"app/components/mnoe-modals/comment-modal.html",controller:"CommentModal"})},n.openEditModal=function(n){return a.open({templateUrl:"app/components/mnoe-modals/question-edit-modal.html",controller:"CommentEditModal",resolve:{review:n}}).result.then(function(n){return t.updateDescription(n)})},n.openEditAnswerModal=function(n){return a.open({templateUrl:"app/components/mnoe-modals/answer-edit-modal.html",controller:"CommentEditModal",resolve:{review:n}}).result.then(function(n){return t.updateDescription(n)})},n.openQuestionReplyModal=function(n){return a.open({templateUrl:"app/components/mnoe-modals/question-reply-modal.html",controller:"QuestionReplyModal"}).result.then(function(e){return t.replyQuestion(n.id,e).then(function(e){return n.answers.unshift(e.data.app_answer)})})},e=function(){return t.listQuestions().then(function(e){return n.listOfQuestions=e.data})},n.update=function(e){return t.updateRating(e).then(function(a){return delete n.editmode[e.id]})},e()}}}])}.call(this),function(){this.App.directive("mnoeReviewsList",["$filter","$log","$uibModal","MnoeReviews",function(n,e,a,t){return{restric:"E",scope:{},templateUrl:"app/components/mnoe-reviews-list/mnoe-reviews-list.html",link:function(n){var e;n.editmode=[],n.listOfReviews=[],n.statuses=[{value:"approved",label:"mnoe_admin_panel.dashboard.reviews_list.status_label.approved"},{value:"rejected",label:"mnoe_admin_panel.dashboard.reviews_list.status_label.rejected"}],n.openCommentModal=function(){return a.open({templateUrl:"app/components/mnoe-modals/comment-modal.html",controller:"CommentModal"})},n.openEditModal=function(n){var e;return e=n,a.open({templateUrl:"app/components/mnoe-modals/comment-edit-modal.html",controller:"CommentEditModal",resolve:{review:angular.copy(n)}}).result.then(function(n){return t.updateDescription(n).then(function(n){var a;return a=n.data.app_review,e.description=a.description})})},n.openFeedbackReplyModal=function(n){return a.open({templateUrl:"app/components/mnoe-modals/feedback-reply-modal.html",controller:"FeedbackReplyModal"}).result.then(function(e){return t.replyFeedback(n.id,e).then(function(e){return n.comments.unshift(e.data.app_comment)})})},e=function(){return t.listFeedbacks().then(function(e){return n.listOfReviews=e.data})},n.update=function(e){return t.updateRating(e).then(function(a){return delete n.editmode[e.id]})},e()}}}])}.call(this),function(){this.App.component("mnoeStaffsList",{templateUrl:"app/components/mnoe-staffs-list/mnoe-staffs-list.html",bindings:{view:"@"},controller:["$filter","$log","MnoeAdminConfig","MnoeUsers","MnoeCurrentUser","MnoConfirm","MnoeObservables","OBS_KEYS","toastr",function(n,e,a,t,s,i,o,r,l){var d,c,m,p,u,g;g=this,g.listOfStaff=[],g.callServer=function(n){var e,a;return a=u(n.sort),e=p(n.search),d(g.staff.nbItems,g.staff.offset,a,e)},u=function(n){var e;return null==n&&(n={}),e="surname",n.predicate&&(e=n.predicate,n.reverse?e+=".desc":e+=".asc"),g.staff.sort=e,e},p=function(n){var e,a,t,s;if(null==n&&(n={}),t={},n.predicateObject){a=n.predicateObject;for(e in a)s=a[e],"admin_role"===e?t["where[admin_role.in]"]=s:t["where["+e+".like]"]=s+"%"}return g.staff.search=t,t},g.getAdminRoleLabel=function(n){return _.find(g.staff.roles,function(e){return e.value===n}).label},g.staff={editmode:[],search:{},sort:"surname",nbItems:10,page:1,roles:a.adminRoles(),pageChangedCb:function(n,e){var a;return g.staff.nbItems=n,g.staff.page=e,a=(e-1)*n,d(n,a)},update:function(n){return t.updateStaff(n).then(function(e){return u(),p(),delete g.staff.editmode[n.id],s.refreshUser()},function(n){return e.error("Error while saving user",n),l.error("mnoe_admin_panel.dashboard.staffs.widget.list.toastr_error")})},remove:function(n){var a;return a={closeButtonText:"mnoe_admin_panel.dashboard.staffs.modal.remove_staff.cancel",actionButtonText:"mnoe_admin_panel.dashboard.staffs.modal.remove_staff.delete",headerText:"mnoe_admin_panel.dashboard.staffs.modal.remove_staff.proceed",headerTextExtraData:{staff_name:n.name+" "+n.surname},bodyText:"mnoe_admin_panel.dashboard.staffs.modal.remove_staff.perform"},i.showModal(a).then(function(){return t.removeStaff(n.id).then(function(){return l.success("mnoe_admin_panel.dashboard.staffs.widget.list.toastr_success",{extraData:{staff_name:n.name+" "+n.surname}})}),function(n){return e.error("Error while removing user",n),l.error("mnoe_admin_panel.dashboard.staff.modal.remove_staff.toastr_error")}})}},d=function(n,e,a,i){return null==a&&(a=g.staff.sort),null==i&&(i=g.staff.search),g.staff.loading=!0,"sub_tenant_admin"===s.user.admin_role&&(i["where[mnoe_sub_tenant_id]"]=s.user.mnoe_sub_tenant_id),t.staffs(n,e,a,i).then(function(n){return g.staff.totalItems=n.headers("x-total-count"),g.listOfStaff=n.data,g.staff.oneAdminLeft=1===_.filter(n.data,{admin_role:"admin"}).length}).finally(function(){return g.staff.loading=!1})},c=function(){return d(g.staff.nbItems,g.staff.offset)},m=function(){return d(g.staff.nbItems,g.staff.offset)},o.registerCb(r.staffAdded,c),o.registerCb(r.staffChanged,m),this.$onDestroy=function(){return o.unsubscribe(r.staffAdded,c),o.unsubscribe(r.staffChanged,m)}}]})}.call(this),function(){this.App.directive("mnoeStaffsLocalList",["MnoeAdminConfig",function(n){return{restrict:"E",scope:{list:"="},templateUrl:"app/components/mnoe-staffs-local-list/mnoe-staffs-local-list.html",link:function(e,a,t){return e.getAdminRoleLabel=function(e){return _.find(n.adminRoles(),function(n){return n.value===e.admin_role}).label}}}}])}.call(this),function(){this.App.component("mnoeSubTenantsList",{templateUrl:"app/components/mnoe-sub-tenants-list/mnoe-sub-tenants-list.html",bindings:{view:"@"},controller:["$filter","$log","toastr","MnoeSubTenants","MnoConfirm","MnoeObservables","OBS_KEYS",function(n,e,a,t,s,i,o){var r,l,d;d=this,d.listOfSubTenant=[],d.callServer=function(n){var e;return e=l(n.sort),r(d.subTenant.nbItems,d.subTenant.offset,e)},l=function(n){var e;return null==n&&(n={}),e="name",n.predicate&&(e=n.predicate,n.reverse?e+=".desc":e+=".asc"),d.subTenant.sort=e,e},d.subTenant={editmode:[],search:{},sort:"name",nbItems:10,page:1,pageChangedCb:function(n,e){var a;return d.subTenant.nbItems=n,d.subTenant.page=e,a=(e-1)*n,r(n,a)},update:function(n){return t.update(n).then(function(){return a.success("mnoe_admin_panel.dashboard.sub_tenants.update_sub_tenant.toastr_success",{extraData:{sub_tenant_name:n.name}}),
delete d.subTenant.editmode[n.id]},function(n){return e.error("Error while updating subTenant",n),a.error("mnoe_admin_panel.dashboard.sub_tenants.update_sub_tenant.toastr_error")})},remove:function(n){var i;return i={closeButtonText:"mnoe_admin_panel.dashboard.sub_tenants.remove_sub_tenant.cancel",actionButtonText:"mnoe_admin_panel.dashboard.sub_tenants.remove_sub_tenant.delete",headerText:"mnoe_admin_panel.dashboard.sub_tenants.remove_sub_tenant.proceed",headerTextExtraData:{sub_tenant_name:n.name},bodyText:"mnoe_admin_panel.dashboard.sub_tenants.remove_sub_tenant.perform"},s.showModal(i).then(function(){return t.delete(n.id).then(function(){return a.success("mnoe_admin_panel.dashboard.sub_tenants.remove_sub_tenant.toastr_success",{extraData:{sub_tenant_name:n.name}})}),function(n){return e.error("Error while deleting subTenant",n),a.error("mnoe_admin_panel.dashboard.sub_tenants.remove_sub_tenant.toastr_success")}})}},r=function(n,e,a){return null==a&&(a=d.subTenant.sort),d.subTenant.loading=!0,t.list(n,e,a).then(function(n){return d.subTenant.totalItems=n.headers("x-total-count"),d.listOfSubTenant=n.data}).finally(function(){return d.subTenant.loading=!1})},i.registerCb(o.subTenantAdded,function(){return r(d.subTenant.nbItems,d.subTenant.offset)}),i.registerCb(o.subTenantChanged,function(){return r(d.subTenant.nbItems,d.subTenant.offset)})}]})}.call(this),function(){this.App.component("mnoeSubscriptionsList",{templateUrl:"app/components/mnoe-subscriptions-list/mnoe-subscriptions-list.html",bindings:{all:"<",organization:"<",filters:"<",titleKey:"@"},controller:["$state","$filter","$log","$uibModal","toastr","MnoeUsers","MnoeCurrentUser","MnoConfirm","MnoeProvisioning",function(n,e,a,t,s,i,o,r,l){var d,c,m;d=this,d.editSubscription=function(e){return l.setSubscription({}),n.go("dashboard.provisioning.order",{id:e.id,orgId:e.organization_id})},d.subscriptions={list:[],sort:"created_at.desc",nbItems:10,offset:0,page:1,pageChangedCb:function(n,e){return d.subscriptions.nbItems=n,d.subscriptions.page=e,d.subscriptions.offset=(e-1)*n,c(n,d.subscriptions.offset)},approve:function(n){var e;return e={closeButtonText:"mnoe_admin_panel.dashboard.subscriptions.modal.approve_subscriptions.close",actionButtonText:"mnoe_admin_panel.dashboard.subscriptions.modal.approve_subscriptions.cancel",headerText:"mnoe_admin_panel.dashboard.subscriptions.modal.approve_subscriptions.proceed",bodyText:"mnoe_admin_panel.dashboard.subscriptions.modal.approve_subscriptions.perform",bodyTextExtraData:{subscription_name:n.product.name},type:"danger",actionCb:function(){return l.approveSubscription({organization_id:n.organization.id,id:n.id}).then(function(e){return angular.copy(e.data.subscription,n),s.success("mnoe_admin_panel.dashboard.subscriptions.modal.approve_subscriptions.toastr_success",{extraData:{subscription_name:n.product.name}})},function(){return s.error("mnoe_admin_panel.dashboard.subscriptions.modal.approve_subscriptions.toastr_error",{extraData:{subscription_name:n.product.name}})})}},r.showModal(e)},cancel:function(n){var e;return e={closeButtonText:"mnoe_admin_panel.dashboard.subscriptions.modal.cancel_subscriptions.close",actionButtonText:"mnoe_admin_panel.dashboard.subscriptions.modal.cancel_subscriptions.cancel",headerText:"mnoe_admin_panel.dashboard.subscriptions.modal.cancel_subscriptions.proceed",bodyText:"mnoe_admin_panel.dashboard.subscriptions.modal.cancel_subscriptions.perform",bodyTextExtraData:{subscription_name:n.product.name},type:"danger",actionCb:function(){return l.cancelSubscription(n).then(function(e){return angular.copy(e.data.subscription,n),s.success("mnoe_admin_panel.dashboard.subscriptions.widget.list.toastr_success",{extraData:{subscription_name:n.product.name}})},function(){return s.error("mnoe_admin_panel.dashboard.subscriptions.widget.list.toastr_error",{extraData:{subscription_name:n.product.name}})})}},r.showModal(e)}},d.$onInit=function(){return d.titleText="mnoe_admin_panel.dashboard.subscriptions.widget.list."+(d.titleKey||"title")},d.$onChanges=function(){if(d.all||angular.isDefined(d.organization))return c(d.subscriptions.nbItems,d.subscriptions.offset)},d.callServer=function(n){var e;if(d.all||angular.isDefined(d.organization))return e=m(n.sort),c(d.subscriptions.nbItems,d.subscriptions.offset,e)},m=function(n){var e;return null==n&&(n={}),e="created_at",n.predicate&&(e=n.predicate,n.reverse?e+=".desc":e+=".asc"),d.subscriptions.sort=e,e},c=function(n,e,a){var t,s;return null==a&&(a=d.subscriptions.sort),d.subscriptions.loading=!0,t=d.filters||{},l.getSubscriptions(n,e,a,null!=(s=d.organization)?s.id:void 0,t).then(function(n){return d.subscriptions.totalItems=n.headers("x-total-count"),d.subscriptions.list=n.data,d.subscriptions.oneAdminLeft=1===_.filter(n.data,{admin_role:"admin"}).length}).finally(function(){return d.subscriptions.loading=!1})},d.displayInfoTooltip=function(n){return"aborted"===n.status},d.displayStatusInfo=function(){return t.open({templateUrl:"app/views/orders/order-status-info-modal/order-status-info.html",controller:"OrderInfoController",controllerAs:"vm"})}}]})}.call(this),function(){this.App.component("mnoeTeamsList",{templateUrl:"app/components/mnoe-teams-list/mnoe-teams-list.html",bindings:{organization:"<"},controller:["$filter","MnoeTeams",function(n,e){var a,t,s,i;a=this,i={},a.isTeamsLoading=!0,a.teams={list:[],search:"",sort:"name",nbItems:10,offset:0,page:1,pageChangedCb:function(n,e){var s;return a.teams.nbItems=n,a.teams.page=e,s=(e-1)*n,t(n,s)}},s=function(t){var s;return a.isTeamsLoading=!0,t=a.teams.search.toLowerCase(),s={"name.like":"%"+t+"%"},e.search(a.organization.id,s).then(function(e){return a.teams.totalItems=e.headers("x-total-count"),a.teams.list=n("orderBy")(e.data,"name")}).finally(function(){return a.isTeamsLoading=!1})},a.searchChange=function(){return s(a.teams.search)},a.$onChanges=function(n){if(n.organization&&!_.isEmpty(a.organization))return t(a.teams.nbItems,a.teams.offset,a.teams.sort)},a.hasApps=function(n){return n.length>0},a.hasUsers=function(n){return n.length>0},a.toggleTeam=function(n){return i.id===n.id?i.expanded=!i.expanded:(i.expanded=!1,i=_.find(a.teams.list,function(e){return e.id===n.id}),i.expanded=!0)},t=function(n,t,s){return null==s&&(s=a.teams.sort),a.isTeamsLoading=!0,e.list(a.organization.id,n,t,s).then(function(n){return a.teams.list=n.data,a.teams.totalItems=n.headers("x-total-count"),a.isTeamsLoading=!1})}}]})}.call(this),function(){this.App.directive("mnoeUsersList",["$filter","$translate","MnoeAdminConfig","MnoeUsers","MnoeCurrentUser",function(n,e,a,t,s){return{restrict:"E",scope:{},templateUrl:"app/components/mnoe-users-list/mno-users-list.html",link:function(i,o){var r,l,d,c;return i.users={search:"",sortAttr:"created_at",nbItems:10,page:1,pageChangedCb:function(n,e){var a;return i.users.nbItems=n,i.users.page=e,a=(e-1)*n,l(n,a,i.users.sortAttr)}},e(["mnoe_admin_panel.dashboard.users.widget.list.table.created_at","mnoe_admin_panel.dashboard.users.widget.list.table.username","mnoe_admin_panel.dashboard.users.widget.list.never","mnoe_admin_panel.dashboard.users.widget.list.table.last_login"]).then(function(n){return i.users.fields=[{header:n["mnoe_admin_panel.dashboard.users.widget.list.table.username"],attr:"surname",render:function(n){return{template:'<a ui-sref="dashboard.customers.user({userId: user.id})">\n  <div>\n    <span ng-show="user.name && user.surname">{{::user.name }} {{::user.surname}}</span>\n    <span ng-show="!user.name && !user.surname">nc</span>\n    <i title="{{ mnoe_admin_panel.dashboard.users.widget.list.table.lock | translate }}" ng-show="user.access_locked" class="fa fa-lock"></i>\n  </div>\n  <small>{{::user.email}}</small>\n</a>',scope:{user:n}}},skip_natural:!0},{header:n["mnoe_admin_panel.dashboard.users.widget.list.table.last_login"],attr:"last_sign_in_at",style:{width:"130px"},render:function(n){return{template:"<span data-toggle=\"tooltip\" title=\"{{::user.last_sign_in_at | date: 'H:m - dd/MM/yyyy'}}\">\n  {{(user.last_sign_in_at | amTimeAgo) || ('mnoe_admin_panel.dashboard.users.widget.list.never' | translate)}}\n</span>",scope:{user:n}}},skip_natural:!0},{header:n["mnoe_admin_panel.dashboard.users.widget.list.table.created_at"],style:{width:"130px"},attr:"created_at",sort_default:"reverse",skip_natural:!0,render:function(n){return{template:"<span>{{::user.created_at | date: 'dd/MM/yyyy'}}</span>",scope:{user:n}}}}]}),i.pipe=function(n){return i.users.page=1,i.users.sortAttr=n.sort.predicate,n.sort.reverse&&(i.users.sortAttr+=".desc"),l(i.users.nbItems,0,i.users.sortAttr)},l=function(n,e,o){return null==o&&(o="surname"),i.users.loading=!0,s.getUser().then(function(){var r;return r=a.isAccountManagerEnabled()?{sub_tenant_id:s.user.mnoe_sub_tenant_id,account_manager_id:s.user.id}:{},t.list(n,e,o,r).then(function(n){return i.users.totalItems=n.headers("x-total-count"),i.users.list=n.data}).finally(function(){return i.users.loading=!1})})},r=function(){return d(),l(i.users.nbItems,0,i.users.sortAttr)},d=function(){return i.users.widgetTitle="mnoe_admin_panel.dashboard.users.widget.list.all_users.title",i.users.switchLinkTitle="mnoe_admin_panel.dashboard.users.widget.list.all_users.switch_link_title"},i.searchChange=function(){return i.users.search.length>=3?(i.searchMode=!0,c(i.users.search)):i.searchMode?(i.searchMode=!1,r()):void 0},c=function(e){var a;return i.users.loading=!0,i.users.widgetTitle="mnoe_admin_panel.dashboard.users.widget.list.search_users.title",delete i.users.switchLinkTitle,e=i.users.search.toLowerCase(),a={"surname.like":e+"%","name.like":e+"%","email.like":"%"+e+"%"},t.search(a).then(function(e){return i.users.totalItems=e.headers("x-total-count"),i.users.list=n("orderBy")(e.data,"email")}).finally(function(){return i.users.loading=!1})},r()}}}])}.call(this),function(){this.App.directive("mnoeUsersLocalList",["$filter","$log","$translate","toastr","MnoeAdminConfig","MnoeUsers","MnoErrorsHandler","MnoConfirm","UserRoles",function(n,e,a,t,s,i,o,r,l){return{restrict:"E",scope:{list:"=",organization:"="},templateUrl:"app/components/mnoe-users-local-list/mnoe-users-local-list.html",link:function(d,c,m){var p,u,g,h;return d.isImpersonationEnabled=s.isImpersonationEnabled(),d.organizationContext=null!=m.organization,d.userRoles=l,d.editMode=!1,d.users={displayList:[],widgetTitle:"mnoe_admin_panel.dashboard.users.widget.local_list.loading_users.title",search:""},u=function(){return d.users.widgetTitle="mnoe_admin_panel.dashboard.users.widget.local_list.all_users.title",d.users.switchLinkTitle="mnoe_admin_panel.dashboard.users.widget.local_list.all_users.switch_link_title",d.users.displayList=n("orderBy")(d.list,"email")},g=function(){return d.users.widgetTitle="mnoe_admin_panel.dashboard.users.widget.local_list.last_users.title",d.users.switchLinkTitle="mnoe_admin_panel.dashboard.users.widget.local_list.last_users.switch_link_title",d.users.displayList=n("orderBy")(d.list,"-created_at"),d.users.displayList=n("limitTo")(d.users.displayList,10)},h=function(){var e;return d.users.widgetTitle="mnoe_admin_panel.dashboard.users.widget.local_list.search_users.title",delete d.users.switchLinkTitle,e=d.users.search.toLowerCase(),d.users.displayList=_.filter(d.list,function(n){var a,t,s;return n.email&&(a=_.contains(n.email.toLowerCase(),e)),n.name&&(t=_.contains(n.name.toLowerCase(),e)),n.surname&&(s=_.contains(n.surname.toLowerCase(),e)),a||t||s}),d.users.displayList=n("orderBy")(d.users.displayList,"email")},p=function(){return"all"===m.view?u():"last"===m.view?g():e.error('Value of attribute view can only be "all" or "last"')},d.switchState=function(){return"all"===m.view?m.view="last":m.view="all",p()},d.searchChange=function(){return""===d.users.search?p():h()},d.editRole=function(n){return n.beforeEditRole=n.role,n.editMode=!0},d.exitEditRole=function(n){return n.role=n.beforeEditRole,n.editMode=!1},d.sendInvitation=function(n){return n.isSendingInvite=!0,i.inviteUser(d.organization,n).then(function(e){return t.success("mnoe_admin_panel.dashboard.users.widget.local_list.toastr_success",{extraData:{username:n.name+" "+n.surname}}),n.status=e.data.user.status},function(e){return t.error("mnoe_admin_panel.dashboard.users.widget.local_list.toastr_error",{extraData:{username:n.name+" "+n.surname}}),o.processServerError(e)}).finally(function(){return n.isSendingInvite=!1})},d.updateUserMail=function(n){return n.isUpdatingEmail=!0,i.updateStaff(n).then(function(){return t.success("mnoe_admin_panel.dashboard.users.widget.local_list.email_update_sent",{extraData:{email:n.email}})},function(n){return t.error("mnoe_admin_panel.dashboard.users.widget.local_list.email_update_error"),o.processServerError(n)}).finally(function(){return n.isUpdatingEmail=!1})},d.updateUserRole=function(n){return n.isUpdatingRole=!0,i.updateUserRole(d.organization,n).then(function(){return a(l.keyFromRole(n.role)).then(function(e){return t.success("mnoe_admin_panel.dashboard.users.widget.local_list.role_update_success",{extraData:{user:""+n.email,role:e}})})},function(e){return n.role=n.beforeEditRole,t.error("mnoe_admin_panel.dashboard.users.widget.local_list.role_update_error"),o.processServerError(e)}).finally(function(){return n.beforeEditRole=null,n.isUpdatingRole=!1,n.editMode=!1})},d.removeUserFromOrganization=function(n){var e;return e={closeButtonText:"mnoe_admin_panel.dashboard.users.widget.local_list.remove_member.cancel",actionButtonText:"mnoe_admin_panel.dashboard.users.widget.local_list.remove_member.delete",headerText:"mnoe_admin_panel.dashboard.users.widget.local_list.remove_member.proceed",bodyText:"mnoe_admin_panel.dashboard.users.widget.local_list.remove_member.perform",bodyTextExtraData:{email:n.email},type:"danger"},r.showModal(e).then(function(){return i.removeUserFromOrganization(d.organization,n).then(function(){return _.remove(d.users.displayList,n),t.success("mnoe_admin_panel.dashboard.users.widget.local_list.remove_member.success",{extraData:{email:n.email}})},function(e){return t.error("mnoe_admin_panel.dashboard.users.widget.local_list.remove_member.error",{extraData:{email:n.email}}),o.processServerError(e)})})},d.$watch("list",function(n){if(n)return p()},!0)}}}])}.call(this),function(){this.App.service("DatesHelper",function(){this.expectedPaymentDate=function(n){var e,a;return e=moment(n,"YYYY-M-D"),a=moment(e,"YYYY-M-D").startOf("month").add(1,"day"),e<a?a:moment(e,"YYYY-M-D").startOf("month").add(1,"month").add(1,"day")}})}.call(this),function(){this.App.service("ImpacConfigSvc",["$log","$q","MnoeCurrentUser","MnoeOrganizations",function(n,e,a,t){this.getUserData=function(){return a.getUser()},this.getOrganizations=function(){return a.getUser().then(function(a){var t,s,i;return i=a.organizations,_.isEmpty(i)?(n.error(t={message:"Unable to retrieve user organizations"}),e.reject(t)):(s=i[0].id,e.resolve({organizations:i,currentOrgId:s}))})}}])}.call(this),function(){this.App.service("MnoeObservables",function(){var n;n={},this.registerCb=function(e,a){return _.isEmpty(n[e])&&(n[e]=[]),n[e].push(a)},this.notifyObservers=function(e,a){return _.forEach(n[e],function(n){return n(a)})},this.unsubscribe=function(e,a){if(_.pull(n[e],a),_.isEmpty(n[e]))return delete n[e]}})}.call(this),function(){this.App.service("PricingHelper",["$filter",function(n){var e;e=this,this.formatPrice=function(n,a){return n?a+" "+e.inDollars(n):"-"},this.formatFinalPrice=function(a,t,s){var i;return s&&a?(i=e.inDollars(a)+e.inDollars(a)*s,t+" "+n("number")(i,2)):e.formatPrice(a,t)},this.inDollars=function(n){return parseInt(n)/100}}])}.call(this),function(){var n=[].indexOf||function(n){for(var e=0,a=this.length;e<a;e++)if(e in this&&this[e]===n)return e;return-1};this.App.service("ProvisioningHelper",["PRICING_TYPES",function(e){return this,this.pricedPlan=function(a){var t;return t=null!=a?a.pricing_type:void 0,n.call(e.unpriced,t)<0},this}])}.call(this),function(){this.App.service("RoutingHelper",["$state","$q",function(n,e){return this,this.skipUnlessCondition=function(a){return a?e.resolve():($timeout(function(){return n.go("dashboard.home")}),e.reject())},this}])}.call(this),function(){this.App.service("UserRoles",["USER_ROLES","$translate",function(n,e){return this,this.availableRoles=_.map(n,"value"),this.availableRolesForOptions=_.map(n,function(n){return{value:n.value,translatedLabel:e.instant(n.label)}}),this.keyFromRole=function(e){return _.find(n,"value",e).label},this}])}.call(this),function(){this.App.controller("AuditLogController",function(){"ngInject"})}.call(this),function(){this.App.controller("CustomersController",["$scope","$uibModal","MnoeAdminConfig","MnoeUsers","MnoeOrganizations","MnoeObservables","OBS_KEYS",function(n,e,a,t,s,i,o){"ngInject";var r,l;l=this,l.users={},l.organizations={},l.invoices={},l.isRegistrationEnabled=a.isRegistrationEnabled(),l.isCustomerBatchImportEnabled=a.isCustomerBatchImportEnabled(),l.inviteUserModal=function(){return e.open({templateUrl:"app/views/customers/invite-user-modal/invite-user.html",controller:"InviteUserController",controllerAs:"vm"})},r=function(n){l.users.totalCount=n.headers("x-total-count")},i.registerCb(o.userChanged,r),s.registerListChangeCb(function(n){return n.then(function(n){return l.organizations.totalCount=n.headers("x-total-count")})}),n.$on("$destroy",function(){return i.unsubscribe(o.userChanged,r)})}])}.call(this),function(){this.App.controller("DashboardTemplatesController",["$state","ImpacDashboardsSvc",function(n,e){"ngInject";var a;a=this,a.createDashboard=function(a){return angular.merge(a,{published:!1}),e.create(a).then(function(e){return n.go("dashboard.dashboard-templates-show",{dashboardId:e.id})})}}])}.call(this),function(){this.App.controller("FinanceController",["$filter","MnoeInvoices","MnoeTenantInvoices","MnoeOrganizations",function(n,e,a,t){"ngInject";var s;s=this,s.invoices={},s.organizations={},e.currentBillingAmount().then(function(n){return s.invoices.currentBillingAmount=n.data}),e.lastInvoicingAmount().then(function(n){return s.invoices.lastInvoicingAmount=n.data}),e.lastPortfolioAmount().then(function(n){return s.invoices.lastPortfolioAmount=n.data}),e.lastCommissionAmount().then(function(n){return s.invoices.lastCommissionAmount=n.data}),a.list().then(function(e){return s.invoices.tenantInvoices=e.data,s.invoices.tenantInvoices=n("orderBy")(s.invoices.tenantInvoices,"-started_at")}),t.inArrears().then(function(e){return s.organizations.inArrears=e.data,_.forEach(s.organizations.inArrears,function(n){return n.category=_.capitalize(n.category.replace("_"," "))}),s.organizations.inArrears=n("orderBy")(s.organizations.inArrears,"-started_at")})}])}.call(this),function(){this.App.controller("HomeController",["moment","MnoeUsers","MnoeOrganizations","MnoeInvoices","MnoeAdminConfig",function(n,e,a,t,s){"ngInject";var i;i=this,i.users={},i.organizations={},i.invoices={},s.isPaymentEnabled()?i.organisationKpiLocale="mnoe_admin_panel.dashboard.home.kpi.organizations.finance_text":i.organisationKpiLocale="mnoe_admin_panel.dashboard.home.kpi.organizations.link_text",e.metrics().then(function(n){return i.users.metrics=n.data.metrics}),a.count().then(function(n){return i.organizations.kpi=n.data}),s.isFinanceEnabled()&&t.lastInvoicingAmount().then(function(n){return i.invoices.lastInvoicingAmount=n.data}),s.isFinanceEnabled()&&t.outstandingAmount().then(function(n){return i.invoices.outstandingAmount=n.data})}])}.call(this),function(){this.App.controller("ImpacController",["$rootScope","$stateParams","MnoeDashboardTemplates","ImpacDashboardsSvc",function(n,e,a,t){"ngInject";var s;s=this,s.dashboardLoaded=!1,n.$watch(function(){return s.dashboardLoaded},function(n){var a;if(n)return a=parseInt(e.dashboardId),t.setCurrentDashboard(a),s.currentDashboard=t.getCurrentDashboard()}),s.callbackRegistered||(t.dashboardChanged().then(null,null,function(){return s.dashboardLoaded=!0}),s.callbackRegistered=!0),s.toggleTemplatePublished=function(n){return a.toggleTemplatePublished(n)}}])}.call(this),function(){this.App.controller("InvoiceController",["$stateParams","$uibModal","$window","$state","$log","toastr","MnoeAdminConfig","MnoeInvoices","DatesHelper","MnoConfirm",function(n,e,a,t,s,i,o,r,l,d){"ngInject";var c;c=this,c.isPaymentEnabled=o.isPaymentEnabled(),c.isLoading=!0,c.invoice={},r.get(n.invoiceId).then(function(n){if(c.invoice=n.data.plain().invoice,c.isInvoiceEditedPaid=angular.copy(c.invoice.paid_at),null==c.invoice.adjustments)return c.invoice.adjustments=[]}).finally(function(){return c.isLoading=!1}),c.downloadInvoice=function(n,e){return a.open("/mnoe/admin/invoices/"+n,"_blank"),e.stopPropagation()},c.expectedPaymentDate=function(n){return l.expectedPaymentDate(n)},c.changeInvoiceStatus=function(){return c.invoice.paid_at=moment().toISOString()},c.update=function(){return c.isLoading=!0,r.update(c.invoice).then(function(){return i.success("mnoe_admin_panel.dashboard.invoice.details.updated")}).finally(function(){return c.isLoading=!1}),t.go("dashboard.invoices")},c.openAddAdjustmentModal=function(){var n;return n=e.open({templateUrl:"app/views/invoices/modals/adjustment-modal.html",controller:"CreateAdjustmentController",controllerAs:"vm",resolve:{invoice:c.invoice}}),n.result.then(function(n){return c.invoice.adjustments.push(n.adjustment),c.invoice.price=n.invoice.price})},c.openDeleteAdjustmentModal=function(n){var e;return e={headerText:"mnoe_admin_panel.dashboard.invoice.delete_adjustments.are_you_sure",bodyText:"mnoe_admin_panel.dashboard.invoice.delete_adjustments.you_will_not",closeButtonText:"mnoe_admin_panel.dashboard.invoice.delete_adjustments.cancel",actionButtonText:"mnoe_admin_panel.dashboard.invoice.delete_adjustments.delete",type:"danger"},d.showModal(e).then(function(){return r.deleteAdjustment(c.invoice.id,n.id).then(function(e){var a;return a=c.invoice.adjustments.indexOf(n),c.invoice.adjustments.splice(a,1),i.success("mnoe_admin_panel.dashboard.invoice.delete_adjustments.toastr_success"),c.invoice.price=e.data.invoice.price},function(n){return s.error("Error while deleting adjustment",n),i.error("mnoe_admin_panel.dashboard.invoice.delete_adjustments.toastr_error")})})},c.sendInvoiceToCustomer=function(){return r.sendInvoiceToCustomer(c.invoice.id).then(function(){return function(n){return s.error("Error while sending email",n),i.error("mnoe_admin_panel.dashboard.invoice.send_invoice.toastr_error")}})}}])}.call(this),function(){this.App.controller("OrderController",["$filter","$state","$stateParams","$uibModal","toastr","MnoeProvisioning","MnoeOrganizations","MnoeUsers","MnoConfirm",function(n,e,a,t,s,i,o,r,l){"ngInject";var d,c;return c=this,c.orderId=a.orderId,c.orgId=a.orgId,c.order={},c.rootName=n("translate")("mnoe_admin_panel.dashboard.order.root_name"),c.organization={},c.user={},c.isLoading=!0,c.fulfillment_status=[{value:"Y",text:"mnoe_admin_panel.dashboard.order.fulfillment_yes"},{value:"N",text:"mnoe_admin_panel.dashboard.order.fulfillment_no"}],c.jsonTreeSettings={toggleBranchText:n("translate")("mnoe_admin_panel.dashboard.order.click_to_expand"),emptyValueText:n("translate")("mnoe_admin_panel.dashboard.order.no_data"),dateFormat:"yyyy-MM-dd HH:mm:ss"},i.fetchSubscription(c.orderId,c.orgId).then(function(n){if(c.order=n.data.plain(),c.getInfo(),null!=c.order.custom_data)return i.findProduct({id:c.order.product_id}).then(function(n){return c.schema=n.custom_schema?JSON.parse(n.custom_schema):{},c.form=n.asf_options?JSON.parse(n.asf_options):["*"]})}).finally(function(){return c.isLoading=!1}),d=function(){return i.getSubscriptionEvents(c.orderId,c.orgId).then(function(n){return c.subscriptionEvents=n.data.subscription_events})},d(),c.getInfo=function(){if(o.get(c.orgId).then(function(n){return c.organization=n.data.plain()}),null!=c.order.user_id)return r.get(c.order.user_id).then(function(n){return c.user=n.data.plain()})},c.displayApproval=function(){return"requested"===c.order.status||c.order.externally_provisioned},c.displayFulfillApproval=function(){return!c.displayApproval()},c.displayInfoTooltip=function(){return"aborted"===c.order.status},c.disableApproval=function(){return"requested"!==c.order.status},c.disableFulfillApproval=function(){return!c.displayFulfillApproval()||"cancelled"===c.order.status||"fulfilled"===c.order.status},c.disableCancel=function(){return"requested"!==c.order.status},c.orderWorkflowExplanation=function(){return c.displayFulfillApproval()&&c.disableFulfillApproval()?"mnoe_admin_panel.dashboard.subscriptions.modal.fulfill_disabled":c.displayApproval()&&c.disableApproval()?"mnoe_admin_panel.dashboard.subscriptions.modal.approve_disabled":void 0},c.approveOrder=function(){var n;return n={closeButtonText:"mnoe_admin_panel.dashboard.subscriptions.modal.approve_subscriptions.close",actionButtonText:"mnoe_admin_panel.dashboard.subscriptions.modal.approve_subscriptions.cancel",headerText:"mnoe_admin_panel.dashboard.subscriptions.modal.approve_subscriptions.proceed",bodyText:"mnoe_admin_panel.dashboard.subscriptions.modal.approve_subscriptions.perform",bodyTextExtraData:{subscription_name:c.order.product.name},type:"danger",actionCb:function(){return i.approveSubscription({organization_id:c.orgId,id:c.orderId}).then(function(n){return angular.copy(n.data.subscription,c.order),s.success("mnoe_admin_panel.dashboard.subscriptions.modal.approve_subscriptions.toastr_success",{extraData:{subscription_name:c.order.product.name}})},function(){return s.error("mnoe_admin_panel.dashboard.subscriptions.modal.approve_subscriptions.toastr_error",{extraData:{subscription_name:c.order.product.name}})}).finally(function(){return d()})}},l.showModal(n)},c.fulfillOrder=function(){var n;return n={closeButtonText:"mnoe_admin_panel.dashboard.subscriptions.modal.fulfill_subscriptions.close",actionButtonText:"mnoe_admin_panel.dashboard.subscriptions.modal.fulfill_subscriptions.cancel",headerText:"mnoe_admin_panel.dashboard.subscriptions.modal.fulfill_subscriptions.proceed",bodyText:"mnoe_admin_panel.dashboard.subscriptions.modal.fulfill_subscriptions.perform",bodyTextExtraData:{subscription_name:c.order.product.name},type:"danger",actionCb:function(){return i.fulfillSubscription({organization_id:c.orgId,id:c.orderId}).then(function(n){return angular.copy(n.data.subscription,c.order),s.success("mnoe_admin_panel.dashboard.subscriptions.modal.fulfill_subscriptions.toastr_success",{extraData:{subscription_name:c.order.product.name}})},function(){return s.error("mnoe_admin_panel.dashboard.subscriptions.modal.fulfill_subscriptions.toastr_error",{extraData:{subscription_name:c.order.product.name}})}).finally(function(){return d()})}},l.showModal(n)},c.cancelOrder=function(){var n;return n={closeButtonText:"mnoe_admin_panel.dashboard.subscriptions.modal.cancel_subscriptions.close",actionButtonText:"mnoe_admin_panel.dashboard.subscriptions.modal.cancel_subscriptions.cancel",headerText:"mnoe_admin_panel.dashboard.subscriptions.modal.cancel_subscriptions.proceed",bodyText:"mnoe_admin_panel.dashboard.subscriptions.modal.cancel_subscriptions.perform",bodyTextExtraData:{subscription_name:c.order.product.name},type:"danger",actionCb:function(){return i.cancelSubscription({organization_id:c.orgId,id:c.orderId}).then(function(n){return angular.copy(n.data.subscription,c.order),s.success("mnoe_admin_panel.dashboard.subscriptions.widget.list.toastr_success",{extraData:{subscription_name:c.order.product.name}})},function(){return s.error("mnoe_admin_panel.dashboard.subscriptions.widget.list.toastr_error",{extraData:{subscription_name:c.order.product.name}})}).finally(function(){return d()})}},l.showModal(n)},c.displayStatusInfo=function(){return t.open({templateUrl:"app/views/orders/order-status-info-modal/order-status-info.html",controller:"OrderInfoController",controllerAs:"vm"})},c}])}.call(this),function(){this.App.controller("OrdersController",function(){"ngInject"})}.call(this),function(){this.App.controller("OrganizationController",["$filter","$state","$stateParams","$uibModal","toastr","MnoeAdminConfig","MnoeOrganizations","MnoeUsers","MnoAppsInstances",function(n,e,a,t,s,i,o,r,l){"ngInject";var d;return d=this,d.orgId=a.orgId,d.users={},d.hasDisconnectedApps=!1,d.status={},d.isLoading=!0,d.availableBillingCurrencies=i.availableBillingCurrencies(),d.managementAndProvisioningEnabled=i.isProvisioningEnabled()&&i.isAppManagementEnabled(),d.users.createUserModal=function(){var n;return n=t.open({templateUrl:"app/views/organization/create-user-modal/create-user.html",controller:"CreateUserController",controllerAs:"vm",resolve:{organization:d.organization}}),n.result.then(function(n){return d.organization.members.push(n)})},o.get(a.orgId).then(function(e){return d.organization=e.data.plain(),d.organization.invoices=n("orderBy")(d.organization.invoices,"-started_at"),d.updateStatus()}).finally(function(){return d.isLoading=!1}),d.freezeOrganization=function(){return o.freeze(d.organization).then(function(n){return s.success("mnoe_admin_panel.dashboard.organization.update_organization.toastr_success",{extraData:{name:d.organization.name}}),angular.copy(n.data.plain().organization,d.organization)},function(n){return s.error("mnoe_admin_panel.dashboard.organization.update_organization.toastr_error"),$log.error("An error occurred:",n)})},d.unfreezeOrganization=function(){return o.unfreeze(d.organization).then(function(n){return s.success("mnoe_admin_panel.dashboard.organization.update_organization.toastr_success",{extraData:{name:d.organization.name}}),angular.copy(n.data.plain().organization,d.organization)},function(n){return s.error("mnoe_admin_panel.dashboard.organization.update_organization.toastr_error"),$log.error("An error occurred:",n)})},d.updateStatus=function(){return d.status={},_.map(d.organization.active_apps,function(n){return d.status[n.nid]=l.isConnected(n)}),d.hasDisconnectedApps=!1 in _.countBy(d.status)},d.updateOrganization=function(){return d.editmode=!1,d.isSaving=!0,o.update(d.organization).then(function(n){return s.success("mnoe_admin_panel.dashboard.organization.update_organization.toastr_success",{extraData:{name:d.organization.name}}),d.organization=n.data.organization},function(n){return s.error("mnoe_admin_panel.dashboard.organization.update_organization.toastr_error"),$log.error("An error occurred while updating staff:",n)}).finally(function(){return d.isSaving=!1})},d.resetBillingCurrency=function(){return d.organization.billing_currency=null,d.updateOrganization()},d.openSelectProductModal=function(){var n;return n=t.open({component:"mnoProductSelectorModal",backdrop:"static",size:"lg",resolve:{dataFlag:function(){return"organization-create-order"},multiple:function(){return!1}}}),n.result.then(function(n){return e.go("dashboard.provisioning.order",{nid:n.nid,orgId:d.organization.id})})},d.openRemoveAppModal=function(n,e){var a;return a=t.open({templateUrl:"app/views/organization/remove-app-modal/remove-app-modal.html",controller:"RemoveAppModalCtrl",controllerAs:"vm",backdrop:"static",windowClass:"remove-app-modal",size:"md",resolve:{app:n}}),a.result.then(function(n){if(n)return d.organization.active_apps.splice(e,1),d.updateStatus()})},d}])}.call(this),function(){this.App.controller("ProductMarkupsController",["$filter","$stateParams","$uibModal",function(n,e,a){"ngInject";var t;t=this,t.markup={createModal:function(){return a.open({templateUrl:"app/views/product-markups/create-markup-modal/create-markup.html",controller:"CreateMarkupController",controllerAs:"vm",size:"lg"})},displayInfo:function(){return a.open({templateUrl:"app/views/product-markups/markup-info-modal/markup-info.html",controller:"MarkupInfoController",controllerAs:"vm"})}}}])}.call(this),function(){this.App.controller("ProductController",["$stateParams","$state","$timeout","$document","Upload","MnoeProducts","toastr","MnoErrorsHandler","CURRENCIES",function(n,e,a,t,s,i,o,r,l){"ngInject";var d,c;c=this,c.product={},c.product.pricing_plans=[],c.currencies=_.clone(l.values),c.isLoading=!0,i.get(n.productId).then(function(n){return c.product=n.data,
c.product.values_display=[],_.each(c.product.values_attributes,function(n){return c.product.values_display[n.name]=n.data})}).finally(function(){return c.isLoading=!1}),c.updateStatus=function(){return d(["active"])},c.updateProduct=function(){return c.componentsCommand="submit",c.isLoadingProduct=!0,a(function(){return d(["name","values_attributes"]).finally(function(){return c.componentsCommand="",c.isLoadingProduct=!1})})},c.saveFreeTrial=function(){return d(["free_trial_enabled","free_trial_duration","free_trial_unit"])},c.addPricingPlan=function(){return c.pricingPlan={name:"",description:"",free_trial_enabled:null,free_trial_duration:0,pricing_type:"recurring",per_duration:"",per_unit:"",prices:[]},c.currencies=_.clone(l.values),c.product.product_pricings.push(c.pricingPlan)},c.editPricingPlan=function(n){if(!c.currentPricingPlanId)return c.currentPricingPlanId=n.id,c.currencies=_.difference(l.values,_.map(n.prices,"currency"))},c.updateProductPricing=function(n){var e;return n&&!c.priceForm.$invalid&&(e={currency:c.priceForm.currency.$modelValue,price_cents:c.priceForm.price_cents.$modelValue},c.addPrice(e,n)),d(["product_pricings"]).then(function(n){return angular.copy(n.data.product.product_pricings,c.product.product_pricings),c.currentPricingPlanId=null})},c.cancelPricingPlan=function(n){return c.currentPricingPlanId=null,null==n.id&&_.pull(c.product.product_pricings,n),c.currencies=_.clone(l.values)},c.deletePricingPlan=function(n){var e;return e=c.product.product_pricings.indexOf(n),c.product.product_pricings.splice(e,1),c.updateProductPricing()},c.isCurrentPricingPlan=function(n){return!n.id||n.id===c.currentPricingPlanId},c.addPrice=function(n,e){return null==e.prices&&(e.prices=[]),e.prices.push(_.clone(n)),_.remove(c.currencies,function(e){return e===n.currency}),n.currency=null,n.price_cents=null},c.removePrice=function(n,e){return _.remove(e.prices,n),c.currencies.push(n.currency)},c.uploadLogo=function(n,e){return n.upload=s.upload({headers:{Accept:"application/json"},url:"/mnoe/jpi/v1/admin/products/"+c.product.id+"/upload_logo",data:{id:c.product.id,image:n}}),n.upload.then(function(t){return a(function(){return n.result=!0,e.$setPristine()}),a(function(){n.progress=-1},3e3)},function(e){if(r.processServerError(e),e.status>0)return n.error=!0},function(e){return n.progress=parseInt(100*e.loaded/e.total)})},c.deleteLogo=function(n){return i.deleteAsset(n)},d=function(n){return c.product.values_attributes=_.map(_.keys(c.product.values_display),function(n){return{name:n,data:c.product.values_display[n]}}),c.product.patch(_.pick(c.product,n)).then(function(n){return o.success("mnoe_admin_panel.dashboard.product.success",{extraData:{product:c.product.name}}),n},function(n){return o.error("mnoe_admin_panel.dashboard.edit_product.error",{extraData:{organization_name:c.organization.name}}),r.processServerError(n,c.form)})}}])}.call(this),function(){this.App.controller("ProductsController",["$state","MnoeProducts","MnoeProvisioning","MnoConfirm",function(n,e,a,t){"ngInject";var s;return s=this,s.product={},s.createProduct=function(){var a;return a={headerText:"mnoe_admin_panel.dashboard.product.create_product_modal.title",bodyText:"mnoe_admin_panel.dashboard.product.create_product_modal.body",inputTextEnabled:!0,inputTextPlaceholder:"Product title",closeButtonText:"mnoe_admin_panel.dashboard.product.create_product_modal.cancel",actionButtonText:"mnoe_admin_panel.dashboard.product.create_product_modal.create",actionCb:function(a){return s.product.name=a,e.create(s.product).then(function(e){return e=e.data.plain(),s.productId=e.product.id,n.go("dashboard.product",{productId:s.productId})},function(){return toastr.error("mnoe_admin_panel.dashboard.product.create_product_modal.create_error")})},type:"primary"},t.showModal(a)},s}])}.call(this),function(){this.App.controller("ProvisioningConfirmCtrl",["$q","$scope","$state","$stateParams","MnoeOrganizations","MnoeProvisioning","MnoeAdminConfig","ProvisioningHelper",function(n,e,a,t,s,i,o,r){var l,d;d=this,d.isLoading=!0,l=s.get(t.orgId),d.subscription=i.getSubscription(),d.singleBilling=d.subscription.product.single_billing_enabled,d.billedLocally=d.subscription.product.billed_locally,_.isEmpty(d.subscription)&&a.go("dashboard.provisioning.order",{orgId:t.orgId,id:t.id,nid:t.nid},{reload:!0}),n.all({organization:l}).then(function(n){return d.orgCurrency=n.organization.data.billing_currency||o.marketplaceCurrency()}).finally(function(){return d.isLoading=!1}),d.validate=function(){return d.isLoading=!0,i.saveSubscription(d.subscription).then(function(n){return a.go("dashboard.provisioning.order_summary",{orgId:t.orgId,subscriptionId:n.id})}).finally(function(){return d.isLoading=!1})},d.pricedPlan=r.pricedPlan,d.editOrder=function(){return a.go("dashboard.provisioning.order",{nid:t.nid,orgId:t.orgId,id:t.id})},e.$on("$stateChangeStart",function(n,e){switch(e.name){case"dashboard.provisioning.order":case"dashboard.provisioning.order_summary":case"dashboard.provisioning.additional_details":return null;default:return i.setSubscription({})}})}])}.call(this),function(){this.App.controller("ProvisioningDetailsCtrl",["$scope","$state","$stateParams","MnoeProvisioning","schemaForm",function(n,e,a,t,s){var i;i=this,i.subscription=t.getSubscription(),_.isEmpty(i.subscription)&&e.go("dashboard.provisioning.order",{orgId:a.orgId,id:a.id,nid:a.nid},{reload:!0}),i.isEditMode=!_.isEmpty(i.subscription.custom_data),i.model=i.subscription.custom_data||{},i.model.calculateEndDate=function(n,e){return n&&e?moment(n).add(e.split("Months")[0],"M").format("YYYY-MM-DD"):null},t.findProduct({id:i.subscription.product.id}).then(function(n){return i.form=n.asf_options?JSON.parse(n.asf_options):["*"],n.custom_schema?JSON.parse(n.custom_schema):{}}).then(function(n){return s.jsonref(n)}).then(function(n){return s.jsonref(n)}).then(function(n){return i.schema=n}),i.submit=function(s){if(n.$broadcast("schemaFormValidate"),s.$valid)return i.subscription.custom_data=i.model,t.setSubscription(i.subscription),e.go("dashboard.provisioning.confirm",{orgId:a.orgId,id:a.id,nid:a.nid})},n.$on("$stateChangeStart",function(n,e){switch(e.name){case"dashboard.provisioning.order":case"dashboard.provisioning.order_summary":case"dashboard.provisioning.confirm":return null;default:return t.setSubscription({})}})}])}.call(this),function(){this.App.controller("ProvisioningOrderCtrl",["$scope","$q","$state","$stateParams","MnoeOrganizations","MnoeProvisioning","MnoeAdminConfig","ProvisioningHelper",function(n,e,a,t,s,i,o,r){var l,d,c,m;m=this,m.isLoading=!0,m.product=null,d=s.get(t.orgId),c=i.getProducts(),l=i.initSubscription({productNid:t.nid,subscriptionId:t.id,orgId:t.orgId}),m.pricedPlan=r.pricedPlan,e.all({organization:d,products:c,subscription:l}).then(function(n){var e;return m.orgCurrency=n.organization.data.billing_currency||o.marketplaceCurrency(),m.subscription=n.subscription,m.subscription.organization_id=n.organization.data.id,i.findProduct({id:null!=(e=m.subscription.product)?e.id:void 0,nid:t.nid}).then(function(n){return m.subscription.product=n,m.skipPriceSelection(m.subscription.product)&&m.next(m.subscription),m.subscription.product.product_pricings=_.filter(m.subscription.product.product_pricings,function(n){return!m.pricedPlan(n)||_.some(n.prices,function(n){return n.currency===m.orgCurrency})}),i.setSubscription(m.subscription)})}).finally(function(){return m.isLoading=!1}),m.next=function(n){return i.setSubscription(n),null!=m.subscription.product.custom_schema?a.go("dashboard.provisioning.additional_details",{orgId:t.orgId,id:t.id,nid:t.nid}):a.go("dashboard.provisioning.confirm",{orgId:t.orgId,id:t.id,nid:t.nid})},n.$on("$stateChangeStart",function(n,e){switch(e.name){case"dashboard.provisioning.confirm":case"dashboard.provisioning.order_summary":case"dashboard.provisioning.additional_details":return null;default:return i.setSubscription({})}}),m.skipPriceSelection=function(n){return!("application"!==n.product_type||n.single_billing_enabled&&n.billed_locally)}}])}.call(this),function(){this.App.controller("ProvisioningSummaryCtrl",["$q","$scope","$stateParams","MnoeOrganizations","MnoeProvisioning","MnoeAdminConfig","ProvisioningHelper",function(n,e,a,t,s,i,o){var r,l,d,c;c=this,r=t.get(a.orgId),d=s.getSubscription(),l=_.isEmpty(c.subscription)?s.initSubscription({orgId:a.orgId,subscriptionId:a.subscriptionId}):n.resolve(d),c.pricedPlan=o.pricedPlan,c.isLoading=!0,n.all({organization:r,subscription:l}).then(function(n){return c.orgCurrency=n.organization.data.billing_currency||i.marketplaceCurrency(),c.subscription=n.subscription}).finally(function(){return c.isLoading=!1}),e.$on("$stateChangeStart",function(n,e){return s.setSubscription({})})}])}.call(this),function(){this.App.controller("StaffController",["$log","$stateParams","$window","$uibModal","toastr","MnoConfirm","MnoeAdminConfig","MnoeCurrentUser","MnoeUsers","MnoeSubTenants",function(n,e,a,t,s,i,o,r,l,d){"ngInject";var c;c=this,c.isSaving=!1,c.adminRoles=o.adminRoles(),r.getUser().then(function(){return c.isAdmin="admin"===r.user.admin_role}),c.isSubTenantEnabled=o.isSubTenantEnabled(),c.isAccountManagerEnabled=o.isAccountManagerEnabled(),l.get(e.staffId).then(function(n){if(c.staff=n.data,c.staff.admin_role_was=c.staff.admin_role,c.staff.subTenantName=function(){return _.find(c.subTenants,function(n){return n.id===c.staff.mnoe_sub_tenant_id}).name},c.staff.adminRoleName=function(){return _.find(c.adminRoles,function(n){return n.value===c.staff.admin_role}).label},c.staff.mnoe_sub_tenant_id)return d.get(c.staff.mnoe_sub_tenant_id).then(function(n){return c.staff.subTenants=n.data.sub_tenants})}),d.list(null,null,null).then(function(n){return c.subTenants=n.data}),c.updateStaff=function(){var e,a;return c.isSaving=!0,a=function(){return l.updateStaff(c.staff).then(function(n){return c.staff=n.data.user,c.staff.admin_role_was=c.staff.admin_role,s.success("mnoe_admin_panel.dashboard.staff.update_staff.toastr_success",{extraData:{staff_name:c.staff.name+" "+c.staff.surname}})},function(e){return s.error("mnoe_admin_panel.dashboard.staff.update_staff.toastr_error",{extraData:{staff_name:c.staff.name+" "+c.staff.surname}}),n.error("An error occurred while updating staff:",e)}).finally(function(){return c.isSaving=!1})},"staff"===c.staff.admin_role_was&&"staff"!==c.staff.admin_role&&c.staff.client_ids.length?(e={closeButtonText:"mnoe_admin_panel.dashboard.staff.update_staff_role.cancel",actionButtonText:"mnoe_admin_panel.dashboard.staff.update_staff_role.action",headerText:"mnoe_admin_panel.dashboard.staff.update_staff_role.proceed",bodyText:"mnoe_admin_panel.dashboard.staff.update_staff_role.perform"},i.showModal(e).then(a).finally(function(){return c.isSaving=!1})):a()},c.updateClientsModal=function(){var n;return n=t.open({templateUrl:"app/views/staff/update-staff-clients-modal/update-staff-clients.html",controller:"UpdateStaffClientsController",controllerAs:"vm",resolve:{staff:function(){return c.staff}}}),n.result.then(function(n){return c.staff=n})}}])}.call(this),function(){this.App.controller("StaffsController",["$filter","$stateParams","$uibModal",function(n,e,a){"ngInject";var t;return t=this,t.staff={createModal:function(){return a.open({templateUrl:"app/views/staffs/create-staff-modal/create-staff.html",controller:"CreateStaffController",controllerAs:"vm"})}},t}])}.call(this),function(){this.App.controller("SubTenantController",["$stateParams","$window","$uibModal","MnoeSubTenants",function(n,e,a,t){"ngInject";var s;s=this,t.get(n.subTenantId).then(function(n){return s.subTenant=n.data}),s.updateClientsModal=function(){var n;return n=a.open({templateUrl:"app/views/sub-tenant/update-clients-modal/update-clients.html",controller:"UpdateClientsController",controllerAs:"vm",resolve:{subTenant:function(){return s.subTenant}}}),n.result.then(function(n){return s.subTenant.clients=n})},s.updateAccountManagerModal=function(){var n;return n=a.open({templateUrl:"app/views/sub-tenant/update-account-managers-modal/update-account-managers.html",controller:"UpdateAccountManagersController",controllerAs:"vm",resolve:{subTenant:function(){return s.subTenant}}}),n.result.then(function(n){return s.subTenant.account_managers=n})}}])}.call(this),function(){this.App.controller("SubTenantsController",["$stateParams","$window","$uibModal","MnoeSubTenants",function(n,e,a,t){"ngInject";var s;s=this,s.createModal=function(){return a.open({templateUrl:"app/views/sub-tenants/create-sub-tenant-modal/create-sub-tenant.html",controller:"CreateSubTenantController",controllerAs:"vm"})},t.get(n.subTenantId).then(function(n){return s.subTenant=n.data})}])}.call(this),function(){this.App.controller("UserController",["$stateParams","MnoeUsers",function(n,e){"ngInject";var a;a=this,e.get(n.userId).then(function(n){var e,t;if(a.user=n.data,e=a.user.phone_country_code,(t=a.user.phone)&&e)return a.user.phone="+"+e+t})}])}.call(this),function(){this.App.factory("MnoeAdminApiSvc",["MnoeApiSvc",function(n){return n.all("admin")}])}.call(this),function(){this.App.service("MnoeAppInstances",["MnoeAdminApiSvc","toastr",function(n,e){return this,this.terminate=function(a){return n.one("app_instances",a).remove().then(function(n){},function(n){return e.error("mnoe_admin_panel.dashboard.organization.remove_app.toastr_error")})},this}])}.call(this),function(){this.App.service("MnoeAppMetrics",["$q","$log","MnoeAdminApiSvc","MnoeObservables","OBS_KEYS",function(n,e,a,t,s){return this,this.list=function(n,e,i){return a.all("app_metrics").getList({order_by:i,limit:n,offset:e}).then(function(n){return t.notifyObservers(s.appChanged,n),n})},this.search=function(n){return a.all("app_metrics").getList({terms:n})},this.get=function(n){return a.one("app_metrics",n).get()},this}])}.call(this),function(){this.App.service("MnoeApps",["$q","toastr","MnoeAdminApiSvc","MnoeObservables","OBS_KEYS",function(n,e,a,t,s){var i,o;return i=this,o=null,this.list=function(){return null!=o?o:o=a.all("apps").getList().catch(function(a){return e.error("mnoe_admin_panel.dashboard.settings.apps.retrieve.error"),MnoErrorsHandler.processServerError(a),n.reject(a)})},this.disable=function(n){return a.one("apps",n).customPATCH(null,"disable").then(function(){return t.notifyObservers(s.marketplaceChanged,null)})},this.enable=function(n){return a.one("apps",n).customPATCH(null,"enable").then(function(){return t.notifyObservers(s.marketplaceChanged,null)})},this.enableMultiple=function(e){return e.length>=1?1===e.length?i.enable(e[0]):a.all("apps").customPATCH({ids:e},"enable").then(function(){return t.notifyObservers(s.marketplaceChanged,null)}):n.reject("no apps specified")},this}])}.call(this),function(){this.App.service("MnoeAuditEvents",["MnoeAdminApiSvc",function(n){var e,a;return this,this.list=function(a,t,s){var i;return i=n.all("audit_events").getList({order_by:s,limit:a,offset:t}).then(function(n){return e(i),n})},a=[],this.registerListChangeCb=function(n){return a.push(n)},e=function(n){return _.forEach(a,function(e){return e(n)})},this}])}.call(this),function(){var n=[].indexOf||function(n){for(var e=0,a=this.length;e<a;e++)if(e in this&&this[e]===n)return e;return-1};this.App.service("MnoeCurrentUser",["$window","$state","$q","$timeout","IntercomSvc","MnoeApiSvc",function(e,a,t,s,i,o){var r,l;return r=this,l=null,this.user={},this.getUser=function(){return null!=l?l:l=o.one("current_user").get().then(function(n){return angular.copy(n.data,r.user),n.data})},this.skipIfNotAdmin=function(){return this.skipIfNotAdminRole(["admin"])},this.skipIfNotAdminRole=function(e){var i;return i=t.defer(),r.getUser().then(function(){var t;return null!=r.user.admin_role&&(t=r.user.admin_role,n.call(e,t)>=0)?i.resolve():(s(function(){return a.go("dashboard.home")}),i.reject())}),i},this.logout=function(){return i.logOut(),r.getUser().then(function(n){return null!=n.organizations&&n.organizations.length>0?e.location.assign("/dashboard/"):e.location.assign("/dashboard/#!/logout")})},this.refreshUser=function(){return l=null,r.getUser().then(function(){return r.skipIfNotAdmin()})},this}])}.call(this),function(){this.App.service("MnoeDashboardTemplates",["MnoeAdminApiSvc","ImpacDashboardsSvc",function(n,e){var a;return this,this.list=function(e,a,t){return n.all("/impac/dashboard_templates").getList({order_by:t,limit:e,offset:a})},this.templates=function(e,a,t,s){return null==s&&(s={}),s.order_by=t,s.limit=e,s.offset=a,n.all("/impac/dashboard_templates").getList(s)},this.delete=function(e){return n.one("/impac/dashboard_templates",e).remove()},this.search=function(e){return n.all("/impac/dashboard_templates").getList({terms:e})},a=function(n){var a;if(null!=(a=_.find(e.getDashboards(),function(e){return e.id===n})))return e.update(n,{published:!a.published})},this.toggleTemplatePublished=function(n){return angular.isDefined(e.getDashboards())?e.load().then(function(){return a(n)}):a(n)},this}])}.call(this),function(){this.App.service("MnoeInvoices",["MnoeAdminApiSvc",function(n){return this,this.list=function(e,a,t){return null==t&&(t={}),t.limit=e,t.offset=a,n.all("invoices").getList(t)},this.get=function(e){return n.one("/invoices",e).get()},this.update=function(e){return n.one("/invoices",e.id).patch({invoice:e})},this.addAdjustment=function(e,a){return n.one("/invoices",e).all("/adjustments").post({adjustment:a})},this.sendInvoiceToCustomer=function(e){return n.one("/invoices",e).post("send_to_customer").catch(function(n){return MnoErrorsHandler.processServerError(n),$q.reject(n)})},this.deleteAdjustment=function(e,a){return n.one("/invoices",e).one("/adjustments",a).remove()},this.currentBillingAmount=function(){return n.all("invoices").customGET("current_billing_amount")},this.lastInvoicingAmount=function(){return n.all("invoices").customGET("last_invoicing_amount")},this.outstandingAmount=function(){return n.all("invoices").customGET("outstanding_amount")},this.lastPortfolioAmount=function(){return n.all("invoices").customGET("last_portfolio_amount")},this.lastCommissionAmount=function(){return n.all("invoices").customGET("last_commission_amount")},this}])}.call(this),function(){this.App.service("MnoeOrganizations",["MnoeAdminApiSvc",function(n){var e,a;return this,this.list=function(a,t,s,i){var o;return null==i&&(i={}),i.order_by=s,i.limit=a,i.offset=t,o=n.all("organizations").getList(i).then(function(n){return e(o),n})},a=[],this.registerListChangeCb=function(n){return a.push(n)},e=function(n){return _.forEach(a,function(e){return e(n)})},this.organizations=function(e,a,t,s){return null==s&&(s={}),s.order_by=t,s.limit=e,s.offset=a,n.all("organizations").getList(s)},this.search=function(e){return n.all("organizations").getList({terms:e})},this.inArrears=function(){return n.all("organizations").all("in_arrears").getList()},this.get=function(e){return n.one("organizations",e).get()},this.count=function(){return n.all("organizations").customGET("count")},this.create=function(e){return n.all("/organizations").post(e)},this.update=function(e){return n.one("/organizations",e.id).patch(e)},this.freeze=function(e){return n.one("organizations",e.id).customPUT(null,"/freeze")},this.unfreeze=function(e){return n.one("organizations",e.id).customPUT(null,"/unfreeze")},this}])}.call(this),function(){this.App.service("MnoeProductMarkups",["$q","$log","MnoeAdminApiSvc","MnoeObservables","OBS_KEYS",function(n,e,a,t,s){return this,this.list=function(n,e,i){return a.all("product_markups").getList({order_by:i,limit:n,offset:e}).then(function(n){return t.notifyObservers(s.markupChanged,n),n})},this.markups=function(n,e,t,s){return null==s&&(s={}),s.order_by=t,s.limit=n,s.offset=e,a.all("product_markups").getList(s)},this.search=function(n){return a.all("product_markups").getList({terms:n})},this.get=function(n){return a.one("product_markups",n).get()},this.search=function(n){return a.all("product_markups").getList({terms:n})},this.addProductMarkup=function(n){var e;return e=a.all("product_markups").post({product_markup:n}).then(function(n){return t.notifyObservers(s.markupAdded,e),n})},this.updateProductMarkup=function(n){var e;return e=a.one("product_markups",n.id).patch({product_markup:n}).then(function(n){return t.notifyObservers(s.markupChanged,e),n})},this.deleteProductMarkup=function(n){var e;return e=a.one("product_markups",n.id).remove().then(function(n){return t.notifyObservers(s.markupChanged,e),n})},this}])}.call(this),function(){this.App.service("MnoeProducts",["$q","toastr","MnoeAdminApiSvc","MnoErrorsHandler",function(n,e,a,t){var s;return this.list=function(s,i,o){return a.all("products").getList({order_by:o,limit:s,offset:i}).catch(function(a){return e.error("mnoe_admin_panel.dashboard.product.retrieve.error"),t.processServerError(a),n.reject(a)})},this.products=function(n,e,a,t){return null==t&&(t={}),s(n,e,a,t)},this.localProducts=function(n,e,a,t){return null==t&&(t={}),t["where[local]"]="true",s(n,e,a,t)},s=function(e,s,i,o){return null==o&&(o={}),o.order_by=i,o.limit=e,o.offset=s,a.all("products").getList(o).catch(function(e){return t.processServerError(e),n.reject(e)})},this.get=function(e){return a.one("products",e).get().catch(function(e){return t.processServerError(e),n.reject(e)})},this.create=function(e){return a.all("/products").post(e).catch(function(e){return t.processServerError(e),n.reject(e)})},this.update=function(e){return a.one("/products",e.id).patch(e).catch(function(e){return t.processServerError(e),n.reject(e)})},this.remove=function(s){return a.one("products",s).remove().then(function(n){return e.success("mnoe_admin_panel.dashboard.product.delete.success")},function(a){return t.processServerError(a),e.error("mnoe_admin_panel.dashboard.product.delete.error"),n.reject(a)})},this.deleteAsset=function(e){return a.one("assets",e.id).remove().catch(function(e){return t.processServerError(e),n.reject(e)})},this}])}.call(this),function(){this.App.service("MnoeProvisioning",["$q","$log","MnoeAdminApiSvc","MnoeOrganizations","MnoErrorsHandler",function(n,e,a,t,s){var i,o,r,l,d,c,m,p,u;i=this,p=function(n){return null!=n?a.one("organizations",n).all("subscriptions"):a.all("subscriptions")},l=a.oneUrl("/products"),d=null,c=null,m={},r={id:null,product:null,product_pricing:null,organization:null,custom_data:{}},this.getProducts=function(){return null!=d?d:d=l.get().then(function(n){return c=n.data.plain(),n},function(e){return s.processServerError(e),n.reject(e)})},this.findProduct=function(n){var e,a,t,s;return e=null!=(t=n.id)?t:null,a=null!=(s=n.nid)?s:null,i.getProducts().then(function(){return _.find(c.products,function(n){return n.id===e||n.nid===a})})},this.setSubscription=function(n){return m=n},this.getSubscription=function(){return m},this.initSubscription=function(e){var a,t,s,o,l,d,c;return s=null!=(o=e.productNid)?o:null,c=null!=(l=e.subscriptionId)?l:null,t=null!=(d=e.orgId)?d:null,a=n.defer(),_.isEmpty(m)?null!=c?i.fetchSubscription(c,t).then(function(n){return angular.copy(n.data,m),a.resolve(m)}):null!=s?(angular.copy(r,m),a.resolve(m)):a.resolve({}):a.resolve(m),a.promise},o=function(n){var e;return p(n.organization_id).post({subscription:{product_id:n.product.id,product_pricing_id:null!=(e=n.product_pricing)?e.id:void 0,custom_data:n.custom_data}}).catch(function(n){return s.processServerError(n)})},u=function(n){var e;return m.patch({subscription:{product_id:n.product.id,product_pricing_id:null!=(e=n.product_pricing)?e.id:void 0,custom_data:n.custom_data}}).catch(function(n){return s.processServerError(n)})},this.saveSubscription=function(n){return n.id?u(n).then(function(n){return i.setSubscription(n.data.subscription),n.data.subscription}):o(n).then(function(n){return i.setSubscription(n.data),n.data})},this.fetchSubscription=function(e,t){return a.one("/organizations",t).one("subscriptions",e).get().catch(function(e){return s.processServerError(e),n.reject(e)})},this.getSubscriptions=function(e,a,t,i,o){return null==i&&(i=null),null==o&&(o={}),o.order_by=t,o.limit=e,o.offset=a,p(i).getList(o).catch(function(e){return s.processServerError(e),n.reject(e)})},this.cancelSubscription=function(e){return a.one("organizations",e.organization_id).one("subscriptions",e.id).post("/cancel").catch(function(e){return s.processServerError(e),n.reject(e)})},this.approveSubscription=function(e){return a.one("organizations",e.organization_id).one("subscriptions",e.id).post("/approve").catch(function(e){return s.processServerError(e),n.reject(e)})},this.fulfillSubscription=function(e){return a.one("organizations",e.organization_id).one("subscriptions",e.id).post("/fulfill").catch(function(e){return s.processServerError(e),n.reject(e)})},this.getSubscriptionEvents=function(e,t){return a.one("organizations",t).one("subscriptions",e).customGET("/subscription_events").catch(function(e){return s.processServerError(e),n.reject(e)})}}])}.call(this),function(){this.App.service("MnoeReviews",["MnoeAdminApiSvc","MnoeApiSvc","$log","toastr",function(n,e,a,t){return this,this.listFeedbacks=function(){return n.all("app_feedbacks").getList().catch(function(n){return a.error("Error while fetching reviews",n),t.error("mnoe_admin_panel.dashboard.reviews_list.toastr_error")})},this.listQuestions=function(){return n.all("app_questions").getList().catch(function(n){return a.error("Error while fetching questions",n),t.error("mnoe_admin_panel.dashboard.questions_list.toastr_error")})},this.updateRating=function(e){return n.one("app_reviews",e.id).patch({status:e.status}).catch(function(n){return a.error("Error while updating review",n),t.error("mnoe_admin_panel.dashboard.feedback.toastr_error")})},this.updateDescription=function(e){return n.one("app_reviews",e.id).patch({description:e.description}).catch(function(n){return a.error("Error while updating review",n),t.error("mnoe_admin_panel.dashboard.feedback.toastr_error")})},this.replyQuestion=function(e,s){return n.all("/app_answers").post({question_id:e,app_answer:{description:s}}).catch(function(n){return a.error("Error while updating review",n),t.error("mnoe_admin_panel.dashboard.questions_reply_modal.toastr_error")})},this.replyFeedback=function(e,s){return n.all("/app_comments").post({feedback_id:e,app_comment:{description:s}}).catch(function(n){return a.error("Error while updating review",n),t.error("mnoe_admin_panel.dashboard.comment_edit.toastr_error")})},this}])}.call(this),function(){this.App.service("MnoeSubTenants",["$log","MnoErrorsHandler","MnoeAdminApiSvc","MnoeObservables","OBS_KEYS",function(n,e,a,t,s){return this.list=function(n,e,t){return a.all("sub_tenants").getList({order_by:t,limit:n,offset:e})},this.get=function(n){return a.one("sub_tenants",n).get()},this.create=function(n){var i;return i=a.all("sub_tenants").post(n).then(function(n){return t.notifyObservers(s.subTenantAdded,i),n},function(n){return e.processServerError(n)})},this.update=function(n){var i,o;return i={sub_tenant:_.pick(n,["name","client_ids","account_manager_ids"])},o=a.one("sub_tenants",n.id).patch(i).then(function(n){return t.notifyObservers(s.subTenantChanged,o),n},function(n){return e.processServerError(n)})},this.delete=function(n){var i;return i=a.one("sub_tenants",n).doDELETE().then(function(){return t.notifyObservers(s.subTenantChanged,i)},function(n){return e.processServerError(n)})},this}])}.call(this),function(){this.App.service("MnoeTeams",["$q","MnoeAdminApiSvc","toastr","MnoErrorsHandler",function(n,e,a,t){var s;return this.list=function(e,i,o,r){var l;return l={order_by:r,limit:i,offset:o},s(e).getList(l).catch(function(e){return a.error("mnoe_admin_panel.dashboard.teams_list.toastr_error"),t.processServerError(e),n.reject(e)})},this.search=function(n,e){return s(n).getList({terms:e})},s=function(n){return e.one("organizations",n).all("teams")},this}])}.call(this),function(){this.App.service("MnoeTenantInvoices",["MnoeAdminApiSvc",function(n){return this,this.list=function(){return n.all("tenant_invoices").getList()},this}])}.call(this),function(){this.App.service("MnoeTenant",["MnoeAdminApiSvc",function(n){return this,this.get=function(){return n.one("tenant").get()},this.update=function(e){return n.one("tenant").patch({tenant:{frontend_config:e}})},this.updatePluginsConfig=function(e){return n.one("tenant").patch({tenant:{plugins_config:e}})},this.updateDomain=function(e){return n.one("tenant").one("domain").patch({tenant:e})},this.addSSLCerts=function(e){return n.one("tenant").all("ssl_certificates").post({tenant:e})},this}])}.call(this),function(){this.App.service("MnoeUsers",["$q","$log","MnoeAdminApiSvc","MnoeObservables","OBS_KEYS",function(n,e,a,t,s){var i;return this,this.list=function(n,e,i,o){return null==o&&(o={}),o.order_by=i,o.limit=n,o.offset=e,a.all("users").getList(o).then(function(n){return t.notifyObservers(s.userChanged,n),n})},this.staffs=function(n,e,a,t){return null==t&&(t={}),t["where[admin_role.in]"]||(t["where[admin_role.not]"]=""),i(n,e,a,t)},this.search=function(n){return a.all("users").getList({terms:n})},this.get=function(n){return a.one("users",n).get()},this.metrics=function(){return a.all("users").customGET("/metrics")},this.addUser=function(n,e){return a.one("organizations",n.id).all("/users").post({user:e})},this.addStaff=function(n){var e;return e=a.all("users").post({user:n}).then(function(n){return t.notifyObservers(s.staffAdded,e),n})},this.updateStaff=function(n){var e;return e=a.one("users",n.id).patch({user:n}).then(function(n){return t.notifyObservers(s.staffChanged,e),n})},this.removeStaff=function(n){var e;return e=a.one("users",n).patch({admin_role:null}).then(function(n){return t.notifyObservers(s.staffChanged,e),n})},this.inviteUser=function(n,e){return a.one("organizations",n.id).one("users",e.id).doPOST({},"/invites")},this.requestAccess=function(n){return a.one("users",n.id).doPOST({},"user_access_requests")},this.sendSignupEmail=function(n){return a.all("/users").doPOST({user:{email:n}},"signup_email")},this.updateUserRole=function(n,e){return a.one("/organizations",n.id).customPUT({member:e},"/update_member")},this.removeUserFromOrganization=function(n,e){var t;return t={member:e},a.one("organizations",n.id).doPUT(t,"/remove_member")},i=function(n,e,t,s){return null==s&&(s={}),s.order_by=t,s.limit=n,s.offset=e,a.all("users").getList(s)},this}])}.call(this),function(){this.App.controller("ConnectMyobModalCtrl",["$window","$httpParamSerializer","$uibModalInstance","MnoAppsInstances","app",function(n,e,a,t,s){"ngInject";var i;i=this,i.app=s,i.form={perform:!0,version:"essentials"},i.versions=[{label:"mnoe_admin_panel.dashboard.customers.connect_app.myob.version_type.right_live",value:"account_right"},{label:"mnoe_admin_panel.dashboard.customers.connect_app.myob.version_type.essentials",value:"essentials"}],i.connect=function(a){return n.location.href=t.oAuthConnectPath(s,e(a))},i.close=function(){return a.close()}}])}.call(this),function(){this.App.controller("ConnectXeroModalCtrl",["$window","$httpParamSerializer","$uibModalInstance","MnoAppsInstances","app",function(n,e,a,t,s){"ngInject";var i;i=this,i.app=s,i.form={perform:!0,xero_country:"AU"},i.countries=[{label:"mnoe_admin_panel.constants.countries.australia",value:"AU"},{label:"mnoe_admin_panel.constants.countries.usa",value:"US"}],i.connect=function(a){return i.payroll&&(a["extra_params[]"]="payroll"),n.location.href=t.oAuthConnectPath(s,e(a))},i.close=function(){return a.close()}}])}.call(this),function(){this.App.controller("BatchUploadController",["$window","toastr","URI","MnoeCurrentUser",function(n,e,a,t){"ngInject";var s;s=this,t.getUser().then(function(){var s,i;if(i=t.user,null==i.id)return s=window.encodeURIComponent(""+location.pathname+location.hash),n.location.href=a.login+"?return_to="+s,e.error("mnoe_admin_panel.errors.401.description"),$log.error("User is not connected!")}),s.downloadExample=function(){return n.open("/mnoe/jpi/v1/admin/organizations/download_batch_example","_blank")},s.onUploadStart=function(){return s.errors=null,s.report=null},s.onUploadSuccess=function(n){return s.report=n.data},
s.onUploadError=function(n){return s.errors=n.data}}])}.call(this),function(){this.App.controller("ConnectAppController",["$stateParams","$window","$uibModal","MnoeOrganizations","MnoAppsInstances",function(n,e,a,t,s){"ngInject";var i;i=this,i.mnoAppInstances=s,i.orgId=n.orgId,i.isLoading=!0,t.get(n.orgId).then(function(n){return i.organization=n.data}).finally(function(){return i.isLoading=!1}),i.connectAppInstance=function(n){var t;switch(n.nid){case"xero":t={template:"app/views/customers/app-connect-modal/app-connect-modal-xero.html",controller:"ConnectXeroModalCtrl"};break;case"myob":t={template:"app/views/customers/app-connect-modal/app-connect-modal-myob.html",controller:"ConnectMyobModalCtrl"};break;default:return void(e.location.href=s.oAuthConnectPath(n))}return a.open({templateUrl:t.template,controller:t.controller,controllerAs:"vm",resolve:{app:function(){return n}}})}}])}.call(this),function(){this.App.controller("CreateStep1Controller",["$scope","$document","$state","toastr","MnoeAdminConfig","MnoeOrganizations","MnoeMarketplace","MnoErrorsHandler","MnoAppsInstances",function(n,e,a,t,s,i,o,r,l){"ngInject";var d;d=this,d.organization={},d.appSearch="",d.toggleApp=function(n){return n.checked=!n.checked},d.hasDisconnectedApps=function(n){return!_.every(n,function(n){return l.isConnected(n)})},d.submitOrganisation=function(){var n;return d.form.$invalid&&!r.onlyServerError(d.form)?(n=angular.element(document.getElementById("org-form")),void e.scrollToElementAnimated(n)):(d.isLoading=!0,r.resetErrors(d.form),s.isAppManagementEnabled()&&(d.organization.app_nids=_.map(_.filter(d.marketplace.apps,{checked:!0}),"nid")),i.create(d.organization).then(function(n){return t.success("mnoe_admin_panel.dashboard.customers.create_customer.toastr_success",{extraData:{organization_name:d.organization.name}}),n=n.data.plain(),_.isEmpty(n.organization.active_apps)||!d.hasDisconnectedApps(n.organization.active_apps)?a.go("dashboard.customers.organization",{orgId:n.organization.id}):a.go("dashboard.customers.connect-app",{orgId:n.organization.id})},function(n){return e.scrollTopAnimated(0),t.error("mnoe_admin_panel.dashboard.customers.create_customer.toastr_error",{extraData:{organization_name:d.organization.name}}),r.processServerError(n,d.form)}).finally(function(){return d.isLoading=!1}))},s.isAppManagementEnabled()&&o.getApps().then(function(n){return d.marketplace=angular.copy(n.data)})}])}.call(this),function(){this.App.controller("InviteUserController",["$filter","$stateParams","$uibModalInstance","toastr","MnoeUsers","MnoErrorsHandler","USER_ROLES",function(n,e,a,t,s,i,o){"ngInject";var r;r=this,r.USER_ROLES=o,r.onSubmit=function(){return r.isLoading=!0,s.sendSignupEmail(r.user.email).then(function(n){return t.success("mnoe_admin_panel.dashboard.customers.invite_user_modal.toastr_success",{extraData:{email:r.user.email}}),a.close(r.user.email)},function(n){return t.error("mnoe_admin_panel.dashboard.customers.invite_user_modal.toastr_error",{extraData:{email:r.user.email}}),i.processServerError(n)}).finally(function(){return r.isLoading=!1})},r.onCancel=function(){return a.dismiss("cancel")}}])}.call(this),function(){this.App.controller("deleteDashboardTemplateCtrl",["$scope","$uibModalInstance","dashboardTemplateId","MnoeDashboardTemplates","toastr",function(n,e,a,t,s){"ngInject";n.close=function(){return e.close(!1)},n.delete=function(){return n.isLoading=!0,t.delete(a).then(function(n){return s.success("mnoe_admin_panel.dashboard.dashboard_templates.widget.list.toastr.deleted.successfully")},function(n){return s.error("mnoe_admin_panel.dashboard.dashboard_templates.widget.list.toastr.deleted.error")}).finally(function(){return n.isLoading=!1,e.close(!0)})}}])}.call(this),function(){this.App.controller("CreateAdjustmentController",["$uibModalInstance","MnoeInvoices","toastr","invoice",function(n,e,a,t){"ngInject";var s;s=this,s.adjustment={currency:t.price.currency.iso_code},s.closeModal=function(){return n.dismiss("cancel")},s.addAdjustment=function(){return e.addAdjustment(t.id,s.adjustment).then(function(e){return s.adjustment.id=e.data.id,s.adjustment.end_user_price_cents=s.adjustment.price_cents,a.success("mnoe_admin_panel.dashboard.invoice.create_adjustments.toastr_success",{preventDuplicates:!1}),n.close({adjustment:s.adjustment,invoice:e.data.invoice})},function(e){return a.error("mnoe_admin_panel.dashboard.invoice.create_adjustments.toastr_error",{preventDuplicates:!1}),$log.error("An error occurred:",e),n.close(s.adjustment)})}}])}.call(this),function(){this.App.controller("OrderInfoController",["$filter","$stateParams","$log","$uibModalInstance",function(n,e,a,t){"ngInject";var s;s=this,s.onCancel=function(){return t.dismiss("cancel")}}])}.call(this),function(){this.App.controller("AddAppModalCtrl",["$scope","$uibModalInstance","$window","MnoeMarketplace","MnoeOrganizations","organization","toastr",function(n,e,a,t,s,i,o){"ngInject";var r;r=this,r.modal_height=a.innerHeight-200+"px",r.selectedApp={},r.organization=angular.copy(i),r.loading={modal:!0,apps:!1},r.displayError=!1,t.getApps().then(function(n){var e;return r.marketplace=angular.copy(n.data.plain()),e=_.map(i.active_apps,"nid"),r.marketplace.filtered_apps=_.filter(r.marketplace.apps,function(n){if(!_.includes(e,n.nid))return n})}).finally(function(){return r.loading.modal=!1}),r.toggleApp=function(n){return n.checked=!n.checked},r.closeError=function(){return r.displayError=!1},r.addApps=function(){return r.loading.apps=!0,r.appNidsToAdd=_.map(_.filter(r.marketplace.apps,{checked:!0}),"nid"),r.organization.app_nids=_.union(r.appNidsToAdd,_.map(i.active_apps,"nid")),0===r.appNidsToAdd.length?void r.closeModal():s.update(r.organization).then(function(n){var e,a,t;return a=n.data.plain().organization.active_apps.length,t=r.organization.app_nids.length,r.organization=n.data.plain().organization,a===t?r.closeModal():(r.displayError=!0,e="undefined"!=typeof active_apps&&null!==active_apps?_.map(active_apps,"nid"):[],_.map(_.intersection(r.appNidsToAdd,e),function(n){return _.remove(r.marketplace.filtered_apps,{nid:n})}),r.arrayOfApps=_.map(_.difference(r.appNidsToAdd,e),function(n){return _.find(r.marketplace.filtered_apps,{nid:n}).name}),r.ListOfApps=r.arrayOfApps.join(", "))},function(n){return o.error("mnoe_admin_panel.dashboard.organization.add_app.toastr_error",{preventDuplicates:!1})}).finally(function(){return r.loading.apps=!1})},r.closeModal=function(){return e.close(r.organization)}}])}.call(this),function(){this.App.controller("CreateUserController",["$filter","$stateParams","$uibModalInstance","toastr","MnoeUsers","MnoErrorsHandler","USER_ROLES","organization",function(n,e,a,t,s,i,o,r){"ngInject";var l;l=this,l.USER_ROLES=o,l.onSubmit=function(){return l.isLoading=!0,s.addUser(r,l.user).then(function(n){return t.success("mnoe_admin_panel.dashboard.organization.create_user.toastr_success",{extraData:{username:l.user.name+" "+l.user.surname}}),a.close(n.data.user)},function(n){return t.error("mnoe_admin_panel.dashboard.organization.create_user.toastr_error",{extraData:{username:l.user.name+" "+l.user.surname}}),i.processServerError(n)}).finally(function(){return l.isLoading=!1})},l.onCancel=function(){return a.dismiss("cancel")}}])}.call(this),function(){this.App.controller("RemoveAppModalCtrl",["$scope","$uibModalInstance","MnoeAppInstances","app",function(n,e,a,t){"ngInject";var s;s=this,s.app=t,s.modal={loading:!1},s.deleteApp=function(){return s.modal.loading=!0,a.terminate(s.app.id).then(function(n){return s.errors=null,e.close(!0)}).finally(function(){return s.modal.loading=!1})},s.closeModal=function(){return e.close(!1)}}])}.call(this),function(){this.App.controller("CreateMarkupController",["$scope","$filter","$stateParams","$log","$uibModalInstance","toastr","MnoeProductMarkups","MnoeProducts","MnoeOrganizations","MnoErrorsHandler",function(n,e,a,t,s,i,o,r,l,d){"ngInject";var c;c=this,c.nbItems=10,c.debounce_time=100,c.markup={},c.products=[],c.companies=[],c.markup.product_id=null,c.markup.organization_id=null,c.selectedProdPricing=null,c.isPricing=!1,c.onSubmit=function(){return c.isLoading=!0,c.productMarkupExist().then(function(n){return n?(s.close(),i.error("mnoe_admin_panel.dashboard.product_markups.add_markup.modal.already_exists",{preventDuplicates:!1})):o.addProductMarkup(c.markup).then(function(n){return i.success("mnoe_admin_panel.dashboard.product_markups.add_markup.modal.toastr_success",{preventDuplicates:!1}),s.close(n.data)},function(n){return i.error("mnoe_admin_panel.dashboard.product_markups.add_markup.modal.toastr_error",{preventDuplicates:!1}),t.error("An error occurred:",n)}).finally(function(){return c.isLoading=!1})})},c.onCancel=function(){return s.dismiss("cancel")},c.searchProducts=function(n,e){return r.products(c.nbItems,0,"name",{"where[name.like]":n+"%"})},c.searchCompanies=function(n,e){return l.organizations(c.nbItems,0,"name",{"where[name.like]":n+"%"})},c.toggleProductFilter=function(n){if(c.markup.product_id=null,c.isPricing=!1,n&&n.originalObject&&(c.markup.product_id=n.originalObject.id,c.selectedProdPricings=n.originalObject.product_pricings,c.selectedProdPricings))return c.isPricing=!0},c.toggleCompanyFilter=function(n){return c.markup.organization_id=n.originalObject.id},c.productMarkupExist=function(){return o.search(_.pick({"product.id":c.markup.product_id,"organization.id":c.markup.organization_id},_.identity)).then(function(n){var e;if(e=!1,n.data.length>0){if(null!=c.markup.product_id&&null!=c.markup.organization_id)return!0;_.each(n.data,function(n){var a,t;if(null!=c.markup.product_id||n.product||(null!=(a=n.organization)?a.id:void 0)!==c.markup.organization_id||(e=!0),null!=c.markup.organization_id||n.organization||(null!=(t=n.product)?t.id:void 0)!==c.markup.product_id||(e=!0),null==c.markup.product_id&&null==c.markup.organization_id&&!n.product&&!n.organization)return e=!0})}return e},function(n){return!1})}}])}.call(this),function(){this.App.controller("MarkupInfoController",["$filter","$stateParams","$log","$uibModalInstance",function(n,e,a,t){"ngInject";var s;s=this,s.onCancel=function(){return t.dismiss("cancel")}}])}.call(this),function(){this.App.controller("DeleteProductController",["$uibModalInstance","MnoeProducts","product",function(n,e,a){"ngInject";var t;return t=this,t.product=a,t.modal={},t.close=function(){return n.close()},t.delete=function(){return t.modal.loading=!0,e.remove(t.product.id).then(function(e){return n.close(!0)}).finally(function(){return t.modal.loading=!1})},t}])}.call(this),function(){var n=[].indexOf||function(n){for(var e=0,a=this.length;e<a;e++)if(e in this&&this[e]===n)return e;return-1};this.App.controller("SettingsAppsController",["$uibModal","MnoeMarketplace","MnoeApps","MnoeTenant","MnoConfirm",function(e,a,t,s,i){"ngInject";var o,r;r=this,r.enabledApps=[],r.filteredApps=[],r.selectedCategory="",r.searchTerm="",r.tenantManagement=!1,r.onSearchChange=function(){var n,e;return r.selectedCategory="",e=r.searchTerm.toLowerCase(),r.filteredApps=function(){var a,t,s,i;for(s=r.enabledApps,i=[],a=0,t=s.length;a<t;a++)n=s[a],-1!==n.name.toLowerCase().indexOf(e)&&i.push(n);return i}()},r.onCategoryChange=function(){var e,a;return r.searchTerm="",(null!=(a=r.selectedCategory)?a.length:void 0)>0?r.filteredApps=function(){var a,t,s,i,o;for(s=r.enabledApps,o=[],a=0,t=s.length;a<t;a++)e=s[a],i=r.selectedCategory,n.call(e.categories,i)>=0&&o.push(e);return o}():r.filteredApps=r.enabledApps},r.openRemoveAppModal=function(n,e){return i.showModal({headerText:"mnoe_admin_panel.dashboard.settings.apps.modal.remove_app.proceed",bodyText:"mnoe_admin_panel.dashboard.settings.apps.modal.remove_app.perform",bodyTextExtraData:{app_name:n.name},type:"danger",actionCb:function(){return t.disable(n.id).then(function(){return r.enabledApps.splice(e,1)})}})},r.openInfoModal=function(n){return e.open({templateUrl:"app/views/settings/apps/modals/app-infos.html",controller:"appInfoCtrl",controllerAs:"vm",size:"lg",resolve:{app:n}})},r.openAddAppModal=function(){var n;return n=e.open({component:"mnoProductSelectorModal",backdrop:"static",size:"lg",resolve:{dataFlag:function(){return"settings-add-new-app"},enabledApps:function(){return r.enabledApps},multiple:function(){return!0},headerText:function(){return"mnoe_admin_panel.dashboard.settings.apps.modal.add_app.title"},actionButtonText:function(){return"mnoe_admin_panel.dashboard.settings.apps.modal.add_app.add"}}}),n.result.then(function(n){return t.enableMultiple(_.map(n,"id")).then(function(){return a.getApps().then(function(n){return r.enabledApps=angular.copy(n.data.apps)})})})},(o=function(){return a.getApps().then(function(n){return r.enabledApps=angular.copy(n.data.apps),r.filteredApps=r.enabledApps,r.categories=angular.copy(n.data.categories),r.displayCategories=r.categories.length>1}),s.get().then(function(n){return r.tenantManagement="tenant"===n.data.app_management})})()}])}.call(this),function(){this.App.controller("SettingsDomainController",["$translate","$scope","$window","toastr","MnoConfirm","MnoeTenant",function(n,e,a,t,s,i){"ngInject";var o,r,l;l=this,l.tenant={},l.originalTenant={},l.ssl={},l.originalSsl={},l.isLoading=!0,i.get().then(function(n){return l.tenant=n.data,l.originalTenant=angular.copy(l.tenant)}).finally(function(){return l.isLoading=!1}),l.showConfirmModal=function(){return s.showModal({headerText:"mnoe_admin_panel.dashboard.settings.modal.confirm.proceed",bodyText:"mnoe_admin_panel.dashboard.settings.modal.confirm.perform",type:"danger"})},l.uploadCerts=function(){return l.showConfirmModal().then(function(){return l.isCertSaving=!0,i.addSSLCerts(l.ssl).then(function(){return l.originalSsl=angular.copy(l.ssl),t.success("mnoe_admin_panel.dashboard.settings.ssl.save.toastr_success")},function(){return t.error("mnoe_admin_panel.dashboard.settings.ssl.save.toastr_error")}).finally(function(){return l.isCertSaving=!1})})},l.updateDomain=function(){return l.showConfirmModal().then(function(){return l.isDomainSaving=!0,i.updateDomain(_.pick(l.tenant,"domain")).then(function(){return l.originalTenant=angular.copy(l.tenant),t.success("mnoe_admin_panel.dashboard.settings.domain.save.toastr_success")},function(){return t.error("mnoe_admin_panel.dashboard.settings.domain.save.toastr_error")}).finally(function(){return l.isDomainSaving=!1})})},o=function(){return!(angular.equals(l.originalTenant,l.tenant)&&angular.equals(l.originalSsl,l.ssl))},r=e.$on("$stateChangeStart",function(e){if(o()&&!confirm(n.instant("mnoe_admin_panel.dashboard.settings.modal.confirm.unsaved")))return e.preventDefault()}),a.onbeforeunload=function(n){return!!o()||void 0},e.$on("$destroy",function(){return a.onbeforeunload=void 0,r()})}])}.call(this),function(){this.App.controller("SettingsGeneralController",["$translate","$scope","$window","$q","toastr","MnoConfirm","MnoeTenant","MnoeMarketplace",function(n,e,a,t,s,i,o,r){"ngInject";var l,d,c,m,p;p=this,p.settingsModel={},p.originalSettings={},p.settingsSchema={},n(["mnoe_admin_panel.dashboard.settings.general.tabs.system","mnoe_admin_panel.dashboard.settings.general.tabs.dashboard","mnoe_admin_panel.dashboard.settings.general.tabs.admin_panel"]).then(function(n){return p.settingsForm=[{type:"tabs",tabs:[{title:n["mnoe_admin_panel.dashboard.settings.general.tabs.system"],items:["system"]},{title:n["mnoe_admin_panel.dashboard.settings.general.tabs.dashboard"],items:["dashboard"]},{title:n["mnoe_admin_panel.dashboard.settings.general.tabs.admin_panel"],items:["admin_panel"]}]}]}),m=function(n,e){var a,t,s;if(null!=(null!=(t=p.settingsModel)&&null!=(s=t.dashboard)?s.public_pages:void 0))return a=p.settingsModel.dashboard.public_pages,a.applications=_.intersection(a.applications,n),a.highlighted_applications=_.intersection(a.highlighted_applications,n),a.local_products=_.intersection(a.local_products,e),a.highlighted_local_products=_.intersection(a.highlighted_local_products,e)},d=function(){return p.isLoading=!0,t.all({tenant:o.get(),marketplace:r.getApps()}).then(function(n){return p.settingsModel=n.tenant.data.frontend_config,p.originalSettings=angular.copy(p.settingsModel),p.settingsSchema=n.tenant.data.config_schema,m(_.map(n.marketplace.data.apps,"nid"),_.map(_.filter(n.marketplace.data.products,"local"),"nid"))}).finally(function(){return p.isLoading=!1})},d(),p.cancel=function(n){return p.settingsModel={},n.$setPristine(),d()},p.saveSettings=function(){return i.showModal({headerText:"mnoe_admin_panel.dashboard.settings.modal.confirm.proceed",bodyText:"mnoe_admin_panel.dashboard.settings.modal.confirm.perform",type:"danger"}).then(function(){return p.isLoading=!0,o.update(p.settingsModel).then(function(){return p.originalSettings=angular.copy(p.settingsModel),s.success("mnoe_admin_panel.dashboard.settings.save.toastr_success")},function(){return s.error("mnoe_admin_panel.dashboard.settings.save.toastr_error")}).finally(function(){return p.isLoading=!1})})},l=function(){return!angular.equals(p.settingsModel,p.originalSettings)},c=e.$on("$stateChangeStart",function(e){if(l()&&!confirm(n.instant("mnoe_admin_panel.dashboard.settings.modal.confirm.unsaved")))return e.preventDefault()}),a.onbeforeunload=function(n){return!!l()||void 0},e.$on("$destroy",function(){return a.onbeforeunload=void 0,c()})}])}.call(this),function(){this.App.controller("SettingsPluginsController",["$translate","$scope","$window","toastr","MnoeTenant",function(n,e,a,t,s){var i,o,r,l;l=this,l.schema={},l.model={},l.originalModel={},l.form=[{type:"fieldset",title:"Payment Gateways",items:[{type:"help",helpvalue:"To setup a custom payment gateway, simply add a new one below."},{key:"payment_gateways",type:"tabarray",tabType:"top",title:"{{ value.name || 'Gateway '+$index }}",add:"New",remove:"Delete",style:{remove:"btn-danger"},startEmpty:!0,items:["payment_gateways[].name","payment_gateways[].provider.adapter",{type:"conditional",condition:'vm.model.payment_gateways[arrayIndex].provider.adapter == "braintree"',items:[{key:"payment_gateways[].provider.config.merchant_id",required:!0},{key:"payment_gateways[].provider.config.public_key",required:!0},{key:"payment_gateways[].provider.config.private_key",required:!0}]},{type:"conditional",condition:'vm.model.payment_gateways[arrayIndex].provider.adapter == "eway"',items:[{key:"payment_gateways[].provider.config.login",required:!0},{key:"payment_gateways[].provider.config.username",required:!0},{key:"payment_gateways[].provider.config.password",required:!0}]},"payment_gateways[].accounts"]}]}],o=function(){return s.get().then(function(n){return l.model=n.data.plugins_config,l.originalModel=angular.copy(l.model),l.schema=n.data.plugins_config_schema})},o(),l.cancel=function(n){return l.model={},n.$setPristine(),o()},l.saveSettings=function(){return l.isLoading=!0,s.updatePluginsConfig(l.model).then(function(){return t.success("mnoe_admin_panel.dashboard.settings.save.toastr_success")},function(){return t.error("mnoe_admin_panel.dashboard.settings.save.toastr_error")}).finally(function(){return l.isLoading=!1})},i=function(){return!angular.equals(l.model,l.originalModel)},r=e.$on("$stateChangeStart",function(e){if(i()&&!confirm(n.instant("mnoe_admin_panel.dashboard.settings.modal.confirm.unsaved")))return e.preventDefault()}),a.onbeforeunload=function(n){return!!i()||void 0},e.$on("$destroy",function(){return a.onbeforeunload=void 0,r()})}])}.call(this),function(){this.App.controller("UpdateStaffClientsController",["staff","$filter","$stateParams","$log","$uibModalInstance","toastr","MnoeUsers","MnoErrorsHandler","MnoeOrganizations",function(n,e,a,t,s,i,o,r,l){"ngInject";var d,c,m,p,u,g,h,f,b;for(b=this,b.selectedOrganizations={},g=n.client_ids,m=0,u=g.length;m<u;m++)p=g[m],b.selectedOrganizations[p]=!0;b.organizations={search:"",nbItems:10,page:1,pageChangedCb:function(n,e){var a;return b.organizations.nbItems=n,b.organizations.page=e,a=(e-1)*n,c(n,a)}},c=function(e,a,t){var s;return null==t&&(t="name"),b.organizations.loading=!0,s={sub_tenant_id:n.mnoe_sub_tenant_id},l.list(e,a,t,s).then(function(n){return b.organizations.totalItems=n.headers("x-total-count"),b.organizations.list=n.data}).then(function(){return b.organizations.loading=!1})},d=function(){return h(),c(b.organizations.nbItems,0)},h=function(){return b.organizations.widgetTitle="All organisations"},b.searchChange=function(){return b.organizations.search.length>=3?(b.searchMode=!0,f(b.organizations.search)):b.searchMode?(b.searchMode=!1,d()):void 0},f=function(n){var a;return b.organizations.loading=!0,b.organizations.widgetTitle="Search result",n=b.organizations.search.toLowerCase(),a={"name.like":"%"+n+"%"},l.search(a).then(function(n){return b.organizations.totalItems=n.headers("x-total-count"),b.organizations.list=e("orderBy")(n.data,"name")}).finally(function(){return b.organizations.loading=!1})},d(),b.onSubmit=function(){var e,a;return b.isLoading=!0,n.client_ids=function(){var n,t;n=b.selectedOrganizations,t=[];for(e in n)(a=n[e])&&t.push(e);return t}(),o.updateStaff(n).then(function(e){return n=e.data.user,n.admin_role_was=n.admin_role,s.close(n),i.success("mnoe_admin_panel.dashboard.staff.update_staff.toastr_success",{extraData:{staff_name:n.name+" "+n.surname}})},function(e){return i.error("mnoe_admin_panel.dashboard.staff.add_staff.modal.toastr_error",{extraData:{staff_name:n.name+" "+n.surname}}),t.error("An error occurred while updating staff:",e)}).finally(function(){return b.isLoading=!1})},b.onCancel=function(){return s.dismiss("cancel")}}])}.call(this),function(){this.App.controller("CreateStaffController",["$filter","$stateParams","$log","$uibModalInstance","toastr","MnoeUsers","MnoErrorsHandler","MnoeAdminConfig",function(n,e,a,t,s,i,o,r){"ngInject";var l;l=this,l.admin_roles=r.adminRoles(),l.onSubmit=function(){return l.isLoading=!0,i.addStaff(l.user).then(function(n){return s.success("mnoe_admin_panel.dashboard.staffs.add_staff.modal.toastr_success",{extraData:{staff_name:l.user.name+" "+l.user.surname}}),t.close(n.data)},function(n){return s.error("mnoe_admin_panel.dashboard.staffs.add_staff.modal.toastr_error",{extraData:{staff_name:l.user.name+" "+l.user.surname}}),a.error("An error occurred:",n)}).finally(function(){return l.isLoading=!1})},l.onCancel=function(){return t.dismiss("cancel")}}])}.call(this),function(){this.App.controller("UpdateAccountManagersController",["$filter","$stateParams","$log","$uibModalInstance","toastr","MnoeSubTenants","MnoeUsers","MnoErrorsHandler","MnoeAdminConfig","subTenant",function(n,e,a,t,s,i,o,r,l,d){"ngInject";var c,m,p,u;u=this,u.selectedUsers={},_.each(d.account_manager_ids,function(n){return u.selectedUsers[n]=!0}),u=this,u.staff_roles=l.adminRoles(),u.getAdminRoleLabel=function(n){return _.find(u.staff_roles,function(e){return e.value===n}).label},u.callServer=function(n){var e,a;return a=p(n.sort),e=m(n.search),c(u.staff.nbItems,u.staff.offset,a,e)},p=function(n){var e;return null==n&&(n={}),e="surname",n.predicate&&(e=n.predicate,n.reverse?e+=".desc":e+=".asc"),u.staff.sort=e,e},m=function(n){var e,a,t,s;if(null==n&&(n={}),t={},n.predicateObject){a=n.predicateObject;for(e in a)s=a[e],"admin_role"===e?t["where[admin_role]"]=s:t["where["+e+".like]"]=s+"%"}return u.staff.search=t,t},u.staff={search:{},sort:"surname",nbItems:10,page:1,pageChangedCb:function(n,e){var a;return u.staff.nbItems=n,u.staff.page=e,a=(e-1)*n,c(n,a)}},c=function(n,e,a,t){return null==a&&(a=u.staff.sort),null==t&&(t=u.staff.search),u.staff.loading=!0,o.staffs(n,e,a,t).then(function(n){return u.staff.totalItems=n.headers("x-total-count"),u.listOfStaff=n.data}).finally(function(){return u.staff.loading=!1})},u.onSubmit=function(){var n,e;return u.isLoading=!0,d.account_manager_ids=function(){var a,t;a=u.selectedUsers,t=[];for(n in a)(e=a[n])&&t.push(n);return t}(),i.update(d).then(function(n){return t.close(n.data.sub_tenant.account_managers),s.success("mnoe_admin_panel.dashboard.sub_tenant.select_account_managers.modal.toastr_success",{extraData:{sub_tenant_name:d.name}})},function(n){return s.error("mnoe_admin_panel.dashboard.sub_tenant.select_account_managers.modal.toastr_error",{extraData:{sub_tenant_name:d.name}}),a.error("An error occurred while updating account managers of "+d.name+".",n)}).finally(function(){return u.isLoading=!1})},u.onCancel=function(){return t.dismiss("cancel")}}])}.call(this),function(){this.App.controller("UpdateClientsController",["$filter","$stateParams","$log","$uibModalInstance","toastr","MnoeSubTenants","MnoErrorsHandler","MnoeOrganizations","subTenant",function(n,e,a,t,s,i,o,r,l){"ngInject";var d,c,m,p,u,g,h,f,b;for(b=this,b.selectedOrganizations={},g=l.client_ids,m=0,u=g.length;m<u;m++)p=g[m],b.selectedOrganizations[p]=!0;b.organizations={search:"",nbItems:10,page:1,pageChangedCb:function(n,e){var a;return b.organizations.nbItems=n,b.organizations.page=e,a=(e-1)*n,c(n,a)}},c=function(n,e,a){return null==a&&(a="name"),b.organizations.loading=!0,r.list(n,e,a).then(function(n){return b.organizations.totalItems=n.headers("x-total-count"),b.organizations.list=n.data}).then(function(){return b.organizations.loading=!1})},d=function(){return h(),c(b.organizations.nbItems,0)},h=function(){return b.organizations.widgetTitle="All organisations"},b.searchChange=function(){return b.organizations.search.length>=3?(b.searchMode=!0,f(b.organizations.search)):b.searchMode?(b.searchMode=!1,d()):void 0},f=function(e){var a;return b.organizations.loading=!0,b.organizations.widgetTitle="Search result",e=b.organizations.search.toLowerCase(),a={"name.like":"%"+e+"%"},r.search(a).then(function(e){return b.organizations.totalItems=e.headers("x-total-count"),b.organizations.list=n("orderBy")(e.data,"name")}).finally(function(){return b.organizations.loading=!1})},d(),b.onSubmit=function(){var n,e;return b.isLoading=!0,l.client_ids=function(){var a,t;a=b.selectedOrganizations,t=[];for(n in a)(e=a[n])&&t.push(n);return t}(),i.update(l).then(function(n){return s.success("mnoe_admin_panel.dashboard.sub_tenant.select_clients.modal.toastr_success",{extraData:{sub_tenant_name:l.name}}),t.close(n.data.sub_tenant.clients)},function(n){return s.error("mnoe_admin_panel.dashboard.sub_tenant.select_clients.modal.toastr_error",{extraData:{sub_tenant_name:l.name}}),a.error("An error occurred while updating account managers of "+l.name+".",n)}).finally(function(){return b.isLoading=!1})},b.onCancel=function(){return t.dismiss("cancel")}}])}.call(this),function(){this.App.controller("CreateSubTenantController",["$filter","$stateParams","$log","$uibModalInstance","toastr","MnoeSubTenants","MnoErrorsHandler",function(n,e,a,t,s,i,o){"ngInject";var r;r=this,r.onSubmit=function(){return r.isLoading=!0,i.create(r.subTenant).then(function(n){return s.success("mnoe_admin_panel.dashboard.sub_tenants.create_sub_tenant.toastr_success",{extraData:{sub_tenant_name:r.subTenant.name}}),t.close(n.data)},function(n){return s.error("mnoe_admin_panel.dashboard.sub_tenants.create_sub_tenant.toastr_error",{extraData:{sub_tenant_name:r.subTenant.name}}),a.error("An error occurred:",n)}).finally(function(){return r.isLoading=!1})},r.onCancel=function(){return t.dismiss("cancel")}}])}.call(this),function(){this.App.controller("appInfoCtrl",["$uibModalInstance","MnoeAdminConfig","app",function(n,e,a){var t,s,i;i=this,i.app=a,s=i.app.pricing_plans,t=e.marketplaceCurrency(),i.pricing_plans=s[t]||s.AUD||s.default,i.close=function(){return n.close()}}])}.call(this),angular.module("frontendAdmin").run(["$templateCache",function(n){
n.put("app/views/dashboard.layout.html",'<mno-admin hide-footer="true" name="{{\'mnoe_admin_panel.dashboard.layout.sidebar.title\' | translate}}">\n  <mno-admin-header>\n    <div class="header">\n      <div class="header-container">\n        <div class="meta">\n          <img class="logo" src="images/main-logo.png">\n          <div class="title-wrapper">\n            <div class="page">\n              {{\'mnoe_admin_panel.dashboard.layout.title\' | translate}}\n            </div>\n            <div class="breadcrumb-links">\n              <div ncy-breadcrumb></div>\n            </div>\n          </div>\n        </div>\n\n        <div class="user">\n          <div class="item" uib-dropdown>\n            <a href="#" uib-dropdown-toggle>\n              <span class="name">{{ main.user.name }} {{ main.user.surname }}</span>\n              <img src="images/avatar.png">\n            </a>\n            <ul class="dropdown-menu dropdown-menu-right">\n              <li class="link">\n                <a ng-click="main.exit()" ng-show="main.organizationAvailable" href="">\n                  {{\'mnoe_admin_panel.dashboard.layout.company_view\' | translate}}\n                </a>\n                <a ui-sref="logout" class="default-link">\n                  <span>{{ \'mnoe_admin_panel.dashboard.layout.logout\' | translate }}</span>\n                </a>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  </mno-admin-header>\n\n  <mno-admin-nav>\n    <li class="sidebar-list" ui-sref-active="active">\n      <a ui-sref="dashboard.home">{{\'mnoe_admin_panel.dashboard.layout.sidebar.home\' | translate}}<span class="menu-icon fa fa-tachometer"></span></a>\n    </li>\n    <li class="sidebar-title"><span>{{\'mnoe_admin_panel.dashboard.layout.sidebar.customer-management\' | translate}}</span></li>\n    <li class="sidebar-list" ui-sref-active="active">\n      <a ui-sref="dashboard.customers">{{\'mnoe_admin_panel.dashboard.layout.sidebar.customers\' | translate}}<span class="menu-icon fa fa-users"></span></a>\n    </li>\n    <li class="sidebar-list" ui-sref-active="active" ng-if="::main.adminConfig.isFinanceEnabled()">\n      <a ui-sref="dashboard.invoices">{{\'mnoe_admin_panel.dashboard.layout.sidebar.invoices\' | translate}}<span class="menu-icon fa fa-usd"></span></a>\n    </li>\n    <li class="sidebar-list" ng-if="::main.adminConfig.isProvisioningEnabled()" ui-sref-active="active">\n      <a ui-sref="dashboard.orders">{{\'mnoe_admin_panel.dashboard.layout.sidebar.orders\' | translate}}<span class="menu-icon fa fa-shopping-basket"></span></a>\n    </li>\n    <li class="sidebar-title" ng-if="main.showProductManagement"><span>{{\'mnoe_admin_panel.dashboard.layout.sidebar.product-management\' | translate}}</span></li>\n    <div ng-if="::main.adminConfig.areSettingsEnabled()" ng-show="main.user.admin_role == \'admin\'">\n      <li class="sidebar-list" ui-sref-active="active">\n        <a ui-sref="dashboard.settings-apps">{{\'mnoe_admin_panel.dashboard.layout.sidebar.settings-apps\' | translate}}<span class="menu-icon fa fa-th-large"></span></a>\n      </li>\n    </div>\n    <li class="sidebar-list" ng-if="::main.adminConfig.areLocalProductsEnabled()" ui-sref-active="active">\n      <a ui-sref="dashboard.products">{{\'mnoe_admin_panel.dashboard.layout.sidebar.products\' | translate}}<span class="menu-icon fa fa-tag"></span></a>\n    </li>\n    <li class="sidebar-list" ng-if="::main.adminConfig.isProductMarkupEnabled()" ng-show="main.staffPageAuthorized.indexOf(main.user.admin_role)!=-1" ui-sref-active="active">\n      <a ui-sref="dashboard.product-markups">{{\'mnoe_admin_panel.dashboard.layout.sidebar.product_markups\' | translate}}<span class="menu-icon fa fa-percent"></span></a>\n    </li>\n    <li class="sidebar-title" ng-if="main.showWebstore"><span>{{\'mnoe_admin_panel.dashboard.layout.sidebar.webstore\' | translate}}</span></li>\n    <li class="sidebar-list" ng-show="main.staffPageAuthorized.indexOf(main.user.admin_role)!=-1" ng-if="::main.adminConfig.isStaffEnabled()" ui-sref-active="active">\n      <a ui-sref="dashboard.staffs">{{\'mnoe_admin_panel.dashboard.layout.sidebar.staffs\' | translate}}<span class="menu-icon fa fa-wrench"></span></a>\n    </li>\n    <li class="sidebar-list" ng-show="main.user.admin_role == \'admin\'" ng-if="::main.adminConfig.isSubTenantEnabled()">\n      <a ui-sref="dashboard.sub-tenants">{{\'mnoe_admin_panel.dashboard.layout.sidebar.sub_tenants\' | translate}}<span class="menu-icon fa fa-institution"></span></a>\n    </li>\n    <li class="sidebar-list" ng-if="::main.adminConfig.isFinanceEnabled()" ui-sref-active="active">\n      <a ui-sref="dashboard.finance">{{\'mnoe_admin_panel.dashboard.layout.sidebar.finance\' | translate}}<span class="menu-icon fa fa-money"></span></a>\n    </li>\n    <li class="sidebar-list" ng-show="main.staffPageAuthorized.indexOf(main.user.admin_role)!=-1" ng-if="::main.adminConfig.isReviewingEnabled()" ui-sref-active="active">\n      <a ui-sref="dashboard.reviews">{{\'mnoe_admin_panel.dashboard.layout.sidebar.reviews\' | translate}}<span class="menu-icon fa fa-star-half-o"></span></a>\n    </li>\n    <li class="sidebar-list" ng-show="main.staffPageAuthorized.indexOf(main.user.admin_role)!=-1" ng-if="::main.adminConfig.areQuestionsEnabled()" ui-sref-active="active">\n      <a ui-sref="dashboard.questions">{{\'mnoe_admin_panel.dashboard.layout.sidebar.questions\' | translate}}<span class="menu-icon fa fa-question-circle"></span></a>\n    </li>\n    <li class="sidebar-list" ng-if="::main.adminConfig.isDashboardTemplatesEnabled()" ui-sref-active="active">\n      <a ui-sref="dashboard.dashboard-templates">{{\'mnoe_admin_panel.dashboard.layout.sidebar.dashboard_templates\' | translate}}<span class="menu-icon fa fa-bar-chart"></span></a>\n    </li>\n    <li class="sidebar-list" ng-show="main.user.admin_role == \'admin\'" ng-if="::main.adminConfig.isAuditLogEnabled()" ui-sref-active="active">\n      <a ui-sref="dashboard.audit-log">{{\'mnoe_admin_panel.dashboard.layout.sidebar.audit_log\' | translate}}<span class="menu-icon fa fa-book"></span></a>\n    </li>\n    <div ng-if="::main.adminConfig.areSettingsEnabled()" ng-show="main.user.admin_role == \'admin\'">\n      <li class="sidebar-title"><span>{{\'mnoe_admin_panel.dashboard.layout.sidebar.settings\' | translate}}</span></li>\n      <li class="sidebar-list" ui-sref-active="active">\n        <a ui-sref="dashboard.settings-general">{{\'mnoe_admin_panel.dashboard.layout.sidebar.settings-general\' | translate}}<span class="menu-icon fa fa-cogs"></span></a>\n      </li>\n      <li class="sidebar-list" ui-sref-active="active">\n        <a ui-sref="dashboard.settings-plugins">{{\'mnoe_admin_panel.dashboard.layout.sidebar.settings-plugins\' | translate}}<span class="menu-icon fa fa-puzzle-piece"></span></a>\n      </li>\n      <li class="sidebar-list" ui-sref-active="active">\n        <a ui-sref="dashboard.settings-domain">{{\'mnoe_admin_panel.dashboard.layout.sidebar.settings-domain\' | translate}}<span class="menu-icon fa fa-shield"></span></a>\n      </li>\n    </div>\n  </mno-admin-nav>\n\n  <mno-admin-content>\n      \x3c!-- Main Content --\x3e\n      <div ui-view></div>\n  </mno-admin-content>\n</mno-admin>\n'),n.put("app/components/mno-app-features/mno-app-features.html",'<div id="app-features">\n  <div class="top-buffer-1 center-element">\n    <span class="glyphicon" ng-class="isSingleSignOn ? \'fa fa-check-square-o fa-lg\' : \'fa fa-square-o fa-lg\'"></span>\n    <span class="content">{{ \'mno_enterprise.templates.settings.apps.app_feature.single_sign_on\' | translate }}</span>\n  </div>\n  <div class="center-element">\n    <span class="glyphicon" ng-class="isSingleBilling ? \'fa fa-check-square-o fa-lg\' : \'fa fa-square-o fa-lg\'"></span>\n    <span class="content">{{ \'mno_enterprise.templates.settings.apps.app_feature.single_billing\' | translate }}</span>\n  </div>\n  <div class="center-element">\n    <span class="glyphicon" ng-class="isDataSharing ? \'fa fa-check-square-o fa-lg\' : \'fa fa-square-o fa-lg\'"></span>\n    <span class="content">{{ \'mno_enterprise.templates.settings.apps.app_feature.data_sharing\' | translate }}</span>\n  </div>\n</div>\n'),n.put("app/components/mno-confirm/mno-confirm.html",'<div class="modal-header">\n  <button type="button" class="close" aria-label="{{\'mnoe_admin_panel.dashboard.mno_confirm.close\' | translate}}" ng-click="modalOptions.close()"><span aria-hidden="true">&times;</span></button>\n  <h4 class="modal-title" translate translate-values="::modalOptions.headerTextExtraData">{{modalOptions.headerText}}</h4>\n</div>\n<div class="modal-body">\n  <p translate translate-values="::modalOptions.bodyTextExtraData">{{modalOptions.bodyText}}</p>\n  <input ng-if="modalOptions.inputTextEnabled" ng-model="modalOptions.inputTextValue" type="text" class="form-control" placeholder="{{modalOptions.inputTextPlaceholder}}">\n</div>\n<div class="modal-footer">\n  <button type="button" class="btn btn-default" ng-click="modalOptions.close()">{{modalOptions.closeButtonText | translate:modalOptions.closeButtonTextExtraData}}</button>\n  <button type="button" class="btn btn-{{modalOptions.type}}" ng-click="modalOptions.ok()" ng-disabled="modalOptions.isLoading || (modalOptions.inputTextEnabled && modalOptions.inputTextValue === \'\')">\n    <span ng-show="modalOptions.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>\n    {{modalOptions.actionButtonText | translate:modalOptions.actionButtonTextExtraData}}\n  </button>\n</div>\n'),n.put("app/components/mno-offers-list/mno-offers-list.html",'<table class="table table-striped">\n  <thead>\n    <tr>\n      <th class="col-sm-3" translate>\n      mnoe_admin_panel.dashboard.product_markups.offers.modal.table_headers.offer</th>\n      <th class="col-sm-3" translate>\n      mnoe_admin_panel.dashboard.product_markups.offers.modal.table_headers.pricing_type</th>\n      <th class="col-sm-3" translate>\n      mnoe_admin_panel.dashboard.product_markups.offers.modal.table_headers.original_prices</th>\n      <th class="col-sm-3" translate>\n      mnoe_admin_panel.dashboard.product_markups.offers.modal.table_headers.final_prices</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="offer in offers">\n      <td>{{offer.name}}</td>\n      <td>{{pricingType(offer)}}</td>\n      <td ng-if="offer.prices">\n        <div ng-repeat="priceHash in offer.prices">\n          {{formatPrice(priceHash)}}\n        </div>\n      </td>\n      <td ng-if="!offer.prices">-</td>\n      <td ng-if="offer.prices">\n        <div ng-repeat="priceHash in offer.prices">\n          {{formatFinalPrice(priceHash)}}\n        </div>\n      </td>\n      <td ng-if="!offer.prices">-</td>\n    </tr>\n  </tbody>\n</table>\n'),n.put("app/components/mno-pagination/mno-pagination.html",'<div class="nb-items-col">\n  <label translate>mnoe_admin_panel.dashboard.mno_pagination.number_of_items</label>\n  <select class="items-per-page-select form-control" ng-model="nbItems" ng-change="onPageChange()" ng-options="i for i in nbItemsValues" ng-disabled="isLoading">\n  </select>\n</div>\n\n<ul uib-pagination ng-model="page" ng-show="totalItems > nbItems" total-items="totalItems" items-per-page="nbItems" ng-change="onPageChange()" max-size="pagination.maxPages" rotate="false" ng-disabled="isLoading">\n</ul>\n'),n.put("app/components/mno-product-selector/mno-product-selector.html",'<div id="mno-product-selector">\n  \x3c!-- Modal Header --\x3e\n  <div class="modal-header">\n    <h3 class="modal-title">{{$ctrl.headerText | translate}}</h3>\n    <div class="close" type="button" ng-click="$ctrl.dismissModal()"></div>\n  </div>\n  \x3c!-- Modal Body --\x3e\n  <div class="modal-body" style="max-height:{{$ctrl.modalHeight}};">\n    <div class="products-search">\n      <input type="search" placeholder="{{ \'mnoe_admin_panel.components.mno-product-selector.search\' | translate }}" ng-model="$ctrl.searchTerm" ng-change="$ctrl.onSearchChange()">\n      <div class="col-sm-4">\n        <select class="form-control" ng-model="$ctrl.selectedCategory" ng-options="c for c in $ctrl.categories" ng-change="$ctrl.onCategoryChange()">\n          <option value="">{{ \'mnoe_admin_panel.components.mno-product-selector.categories.select_all\' | translate }}</option>\n        </select>\n      </div>\n    </div>\n    <div class="products-container">\n      <div class="product-icon" ng-repeat="product in $ctrl.filteredProducts">\n        <div class="product-icon-wrapper" ng-click="$ctrl.toggleProduct(product)" uib-tooltip="{{::product.name}}">\n          <div class="checked" ng-show="product.checked">\n            <i class="fa fa-check fa-5x"></i>\n          </div>\n          <img class="product-logo img-thumbnail" ng-src="{{product.logo}}" alt="{{::product.name}} logo" title="{{::product.tiny_description}}">\n        </div>\n        <div class="product-title" uib-tooltip="{{::product.name}}">\n          {{::product.name}}\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- Modal Footer --\x3e\n  <div class="modal-footer">\n    <div class="row">\n      <div class="col-md-12">\n        <button ng-click="$ctrl.dismissModal()" class="btn btn-default" translate>\n          mnoe_admin_panel.components.mno-product-selector.cancel\n        </button>\n        <button ng-click="$ctrl.closeModal()" ng-disabled="$ctrl.selectedProducts.length === 0 || $ctrl.isLoadingProducts" class="btn btn-primary arrow">\n          <span ng-show="$ctrl.isLoadingProducts"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>\n          {{$ctrl.actionButtonText | translate}}\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n'),n.put("app/components/mnoe-app-metrics-list/mno-app-metrics-list.html",'<mno-widget icon="fa-plus-circle" heading="{{apps.widgetTitle | translate:{\'nbItems\': apps.nbItems} }}" is-loading="apps.loading">\n  <mno-widget-header>\n    &nbsp;<a href="" ng-click="switchState()" ng-show="apps.list && apps.switchLinkTitle" ng-class="{\'disabled\': apps.loading}" translate>{{apps.switchLinkTitle}}</a>\n    <input type="text" ng-model="apps.search" ng-change="searchChange()" ng-model-options="{ debounce: 1000 }" placeholder="{{\'mnoe_admin_panel.dashboard.apps.widget.list.search_apps.placeholder.search_all\' | translate}}" class="form-control input-sm search-bar">\n  </mno-widget-header>\n  <mno-widget-body class="large-auto-height no-padding">\n    <table class="table table-layout-fixed">\n      <thead>\n        <tr>\n          <th translate>mnoe_admin_panel.dashboard.apps.widget.list.table.appname</th>\n          <th style="width: 100px;" translate>mnoe_admin_panel.dashboard.apps.widget.list.table.count</th>\n          <th style="width: 100px;" ng-if="isFinanceEnabled" translate>mnoe_admin_panel.dashboard.apps.widget.list.table.revenue</th>\n          <th style="width: 100px;" ng-if="isFinanceEnabled" translate>mnoe_admin_panel.dashboard.apps.widget.list.table.margin</th>\n          <th style="width: 100px;" ng-if="isFinanceEnabled" translate>mnoe_admin_panel.dashboard.apps.widget.list.table.currency</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-repeat="app in apps.list">\n          <td>\n            <span>\n              <div ng-show="app.name">{{::app.name}}</div>\n              <div ng-show="!app.name">nc</div>\n            </span>\n          </td>\n          <td>{{::app.running_instances_count}}</td>\n          <td ng-if="isFinanceEnabled">\n            <span>\n              <div ng-show="app.revenue">{{::app.revenue}}</div>\n              <div ng-show="!app.revenue">nc</div>\n            </span>\n          </td>\n          <td ng-if="isFinanceEnabled">\n            <span>\n              <div ng-show="app.margin">{{::app.margin}}</div>\n              <div ng-show="!app.margin">nc</div>\n            </span>\n          </td>\n          <td ng-if="isFinanceEnabled">\n            <span>\n              <div ng-show="app.currency">{{::app.currency}}</div>\n              <div ng-show="!app.currency">nc</div>\n            </span>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </mno-widget-body>\n  <mno-widget-footer ng-show="apps.list && state == \'all\' && !searchMode">\n    <mno-pagination page="apps.page" nb-items="apps.nbItems" total-items="apps.totalItems" on-change-cb="apps.pageChangedCb(nbItems, page)" is-loading="apps.loading">\n    </mno-pagination>\n  </mno-widget-footer>\n</mno-widget>\n'),n.put("app/components/mnoe-audit-events-list/mnoe-audit-events-list.html",'<mno-widget icon="fa-file-text-o" heading="{{$ctrl.events.widgetTitle}}" is-loading="events.loading">\n  <mno-widget-header>\n    &nbsp;{{ \'mnoe_admin_panel.dashboard.audit_log.widget.list.title\' | translate}}\n  </mno-widget-header>\n  <mno-widget-body class="no-padding">\n    <div>\n      \x3c!--<table class="class" st-pipe="$ctrl.callServer" st-table="$ctrl.displayed">--\x3e\n      <table st-pipe="$ctrl.callServer" st-table="$ctrl.events.list" class="table table-striped">\n        <thead>\n          <tr>\n            <th st-sort="created_at" class="col-lg-2" translate>mnoe_admin_panel.dashboard.audit_log.widget.list.table.date</th>\n            <th class="col-lg-2" translate>mnoe_admin_panel.dashboard.audit_log.widget.list.table.user</th>\n            <th class="col-lg-2" translate>mnoe_admin_panel.dashboard.audit_log.widget.list.table.organization</th>\n            <th st-sort="key" class="col-lg-2" translate>mnoe_admin_panel.dashboard.audit_log.widget.list.table.action</th>\n            <th st-sort="description" class="col-lg-2" translate>mnoe_admin_panel.dashboard.audit_log.widget.list.table.description</th>\n          </tr>\n        </thead>\n        <tbody ng-show="$ctrl.events.loading">\n          <tr>\n            <td colspan="6" class="text-center" translate>mnoe_admin_panel.dashboard.audit_log.widget.list.loading_events</td>\n          </tr>\n        </tbody>\n        <tbody ng-show="!$ctrl.events.loading">\n          <tr ng-repeat="event in $ctrl.events.list">\n            <td title="{{ event.created_at | amDateFormat: \'DD/MM/YYYY, h:mm:ss a\' }}">\n              {{event.created_at | amCalendar }}\n            </td>\n            <td title="{{event.user.email}}">\n              {{event.user.name}} {{event.user.surname}}\n            </td>\n            <td>{{event.organization.name || "-" }}</td>\n            <td>{{event.description}}</td>\n            <td>{{event.details || \'-\'}}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </mno-widget-body>\n  <mno-widget-footer ng-show="$ctrl.events.list">\n    <mno-pagination page="$ctrl.events.page" nb-items="$ctrl.events.nbItems" total-items="$ctrl.events.totalItems" on-change-cb="$ctrl.events.pageChangedCb(nbItems, page)" is-loading="$ctrl.events.loading">\n    </mno-pagination>\n  </mno-widget-footer>\n</mno-widget>\n'),n.put("app/components/mnoe-dashboard-templates-list/mnoe-dashboard-templates-list.html",'<mno-widget icon="fa-bar-chart" is-loading="$ctrl.dashboardTemplates.loading">\n  <mno-widget-header>\n    &nbsp;{{ \'mnoe_admin_panel.dashboard.dashboard_templates.widget.list.title\' | translate}}\n  </mno-widget-header>\n  <mno-widget-body class="no-padding">\n    <div>\n      <table st-pipe="$ctrl.callServer" class="table table-striped" st-table="$ctrl.dasboardTemplates.list">\n        <thead>\n          <tr>\n            <th st-sort="name" class="col-lg-4" translate>mnoe_admin_panel.dashboard.dashboard_templates.widget.list.template_name</th>\n            <th class="col-lg-2" translate>mnoe_admin_panel.dashboard.dashboard_templates.widget.list.status</th>\n            <th class="col-lg-2" translate>mnoe_admin_panel.dashboard.dashboard_templates.widget.list.created</th>\n            <th class="col-lg-2" translate>mnoe_admin_panel.dashboard.dashboard_templates.widget.list.updated</th>\n            <th class="col-lg-2"></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-repeat="dashboardTemplate in $ctrl.dashboardTemplates.list">\n            <td title="{{ dashboardTemplate.full_name }}">{{ dashboardTemplate.name }}</td>\n            <td><toggle size="btn-sm" ng-model="dashboardTemplate.published" ng-change="$ctrl.toggleTemplatePublished(dashboardTemplate.id)" uib-tooltip="{{ \'mnoe_admin_panel.dashboard.dashboard_templates.published_state_tooltip\' | translate }}"></toggle></td>\n            <td>{{ dashboardTemplate.created_at | amDateFormat:$ctrl.datesFormat }}</td>\n            <td>{{ dashboardTemplate.updated_at | amDateFormat:$ctrl.datesFormat }}</td>\n            <td>\n              <div class="pull-right">\n                <div class="btn-group">\n                  <a type="button" class="btn btn-primary" ui-sref="dashboard.dashboard-templates-show({ dashboardId: dashboardTemplate.id })">\n                    <i class="fa fa-pencil" aria-hidden="true"></i>\n                  </a>\n                </div>\n                <div class="btn-group" ng-click="$ctrl.openDeleteModal(dashboardTemplate.id)">\n                  <a type="button" class="btn btn-primary">\n                    <i class="fa fa-trash-o" aria-hidden="true"></i>\n                  </a>\n                </div>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </mno-widget-body>\n  <mno-widget-footer ng-show="$ctrl.dashboardTemplates.list">\n    <mno-pagination page="$ctrl.dashboardTemplates.page" nb-items="$ctrl.dashboardTemplates.nbItems" total-items="$ctrl.dashboardTemplates.totalItems" on-change-cb="$ctrl.dashboardTemplates.pageChangedCb(nbItems, page)" is-loading="$ctrl.dashboardTemplates.loading">\n    </mno-pagination>\n  </mno-widget-footer>\n</mno-widget>\n'),n.put("app/components/mnoe-impersonate-button/mnoe-impersonate-button.html",'<div ng-if="vm.user && vm.isImpersonationEnabled" class="{{vm.wrapperClassNames}}" ng-switch on="vm.impersonationStatus()">\n  <button ng-switch-when="approved" ng-click="vm.impersonateUser()" class="{{vm.btnClassNames}}" translate>mnoe_admin_panel.dashboard.users.widget.local_list.login_as</button>\n  <button ng-switch-when="requestable" ng-click="vm.openRequestModal()" class="{{vm.btnClassNames}}" translate>mnoe_admin_panel.dashboard.users.widget.local_list.request_access</button>\n  <button disabled="disabled" ng-switch-when="requested" class="{{vm.btnClassNames}}" translate>mnoe_admin_panel.dashboard.users.widget.local_list.access_requested</button>\n  <div ng-switch-when="disabled" uib-tooltip="{{ \'mnoe_admin_panel.dashboard.users.widget.local_list.disabled_tooltip\' | translate }}" tooltip-enable="vm.user" style="display:inline-block; cursor: not-allowed;">\n    <button disabled="disabled" class="{{vm.btnClassNames}}" style="pointer-events: none;" translate>mnoe_admin_panel.dashboard.users.widget.local_list.login_as</button>\n  </div>\n</div>\n'),n.put("app/components/mnoe-invoices-list/mnoe-invoices-list.html",'<div id="invoices-list">\n  <mno-widget icon="fa-file-text-o" heading="{{\'mnoe_admin_panel.dashboard.invoices.widget.list.title\' | translate}}" is-loading="$ctrl.invoices.loading">\n    <mno-widget-header>\n    </mno-widget-header>\n    <mno-widget-body class="large no-padding">\n      <table st-pipe="$ctrl.callServer" st-table="$ctrl.invoices.list" class="table table-striped table-responsive">\n        <thead>\n          <tr>\n            <th translate>mnoe_admin_panel.dashboard.invoices.widget.list.table.reference</th>\n            <th translate>mnoe_admin_panel.dashboard.invoices.widget.list.table.customer</th>\n            <th translate>mnoe_admin_panel.dashboard.invoices.widget.list.table.period</th>\n            <th ng-if="$ctrl.isPaymentEnabled" translate>mnoe_admin_panel.dashboard.invoices.widget.list.table.expected_payment_date</th>\n            <th translate>mnoe_admin_panel.dashboard.invoices.widget.list.table.amount</th>\n            <th translate>mnoe_admin_panel.dashboard.invoices.widget.list.table.status</th>\n            <th></th>\n          </tr>\n          <tr>\n            <th>\n              <input ng-show="!$ctrl.invoices.loading" st-search="slug" placeholder="{{\'mnoe_admin_panel.dashboard.invoices.search_reference\' | translate}}" class="form-control input-sm search-bar" type="text">\n            </th>\n            <th></th>\n            <th></th>\n            <th ng-if="$ctrl.isPaymentEnabled"></th>\n            <th></th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody ng-show="!$ctrl.invoices.loading">\n          <tr ng-repeat="invoice in $ctrl.invoices.list" ng-click="$ctrl.goToInvoice(invoice.id)">\n            <td>{{invoice.slug}}</td>\n            <td><a href="">{{invoice.organization.name}}</a></td>\n            <td>{{invoice.started_at | amCalendar}} - {{invoice.ended_at | amCalendar}}</td>\n            <td ng-if="$ctrl.isPaymentEnabled">{{$ctrl.expectedPaymentDate(invoice.ended_at) | amCalendar }}</td>\n            <td>{{invoice.price.currency.iso_code}} {{invoice.price.fractional/100}}</td>\n            <td>\n              <span ng-show="invoice.paid_at" translate>mnoe_admin_panel.dashboard.invoices.paid</span>\n              <span ng-show="!invoice.paid_at" translate>mnoe_admin_panel.dashboard.invoices.awaiting</span>\n            </td>\n            <td>\n              <span class="pull-right center-cloud">\n                <a ng-click="$ctrl.downloadInvoice(invoice.slug, $event)"><i class="fa fa-cloud-download"></i></a>\n              </span>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </mno-widget-body>\n    <mno-widget-footer>\n      <mno-pagination page="$ctrl.invoices.page" nb-items="$ctrl.invoices.nbItems" total-items="$ctrl.invoices.totalItems" on-change-cb="$ctrl.invoices.pageChangedCb(nbItems, page)" is-loading="$ctrl.invoices.loading">\n      </mno-pagination>\n    </mno-widget-footer>\n  </mno-widget>\n</div>\n'),n.put("app/components/mnoe-modals/answer-edit-modal.html",'<div class="modal-header">\n  <div class="close" type="button" ng-click="closeModal()"></div>\n  <h3 translate>mnoe_admin_panel.dashboard.answer_edit.title</h3>\n</div>\n\n<div class="modal-body">\n  <div class="main-area comment-input">\n    <textarea ng-model="review.description" rows="8" cols="40"></textarea>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <div class="row">\n    <div class="col-md-12">\n      <button class="btn btn-default" ng-click="closeModal()" translate>\n        mnoe_admin_panel.dashboard.answer_edit.cancel\n      </button>\n      <button class="btn btn-default" ng-click="submitIteraction()" translate>\n        mnoe_admin_panel.dashboard.answer_edit.submit\n      </button>\n    </div>\n  </div>\n</div>\n'),n.put("app/components/mnoe-modals/comment-edit-modal.html",'<div class="modal-header">\n  <div class="close" type="button" ng-click="closeModal()"></div>\n  <h3 translate>mnoe_admin_panel.dashboard.comment_edit.title</h3>\n</div>\n\n<div class="modal-body">\n  <div class="main-area comment-input">\n    <textarea ng-model="review.description" rows="8" cols="40"></textarea>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <div class="row">\n    <div class="col-md-12">\n      <button class="btn btn-default" ng-click="closeModal()" translate>\n        mnoe_admin_panel.dashboard.comment_edit.cancel\n      </button>\n      <button class="btn btn-default" ng-click="submitIteraction()" translate>\n        mnoe_admin_panel.dashboard.comment_edit.submit\n      </button>\n    </div>\n  </div>\n</div>\n'),n.put("app/components/mnoe-modals/comment-modal.html",'<div class="modal-header">\n  <div class="close" type="button" ng-click="closeModal()"></div>\n  <h3 translate>mnoe_admin_panel.dashboard.comment_modal.title</h3>\n</div>\n\n<div class="modal-body">\n  <div class="main-area comment-input">\n    <textarea ng-model="commentText" rows="8" cols="40"></textarea>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <div class="row">\n    <div class="col-md-12">\n      <button class="btn btn-default" ng-click="closeModal()" translate>\n        mnoe_admin_panel.dashboard.comment_modal.cancel\n      </button>\n      <button class="btn btn-default" ng-click="submitIteraction()" translate>\n        mnoe_admin_panel.dashboard.comment_modal.submit\n      </button>\n    </div>\n  </div>\n</div>\n'),n.put("app/components/mnoe-modals/feedback-reply-modal.html",'<div class="modal-header">\n  <div class="close" type="button" ng-click="closeModal()"></div>\n  <h3 translate>mnoe_admin_panel.dashboard.feedback.title</h3>\n</div>\n\n<div class="modal-body">\n  <div class="main-area comment-input">\n    <textarea ng-model="replyText" rows="8" cols="40"></textarea>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <div class="row">\n    <div class="col-md-12">\n      <button class="btn btn-default" ng-click="closeModal()" translate>\n        mnoe_admin_panel.dashboard.feedback.cancel\n      </button>\n      <button class="btn btn-default" ng-click="submitIteraction()" translate>\n        mnoe_admin_panel.dashboard.feedback.submit\n      </button>\n    </div>\n  </div>\n</div>\n'),n.put("app/components/mnoe-modals/question-edit-modal.html",'<div class="modal-header">\n  <div class="close" type="button" ng-click="closeModal()"></div>\n  <h3 translate>mnoe_admin_panel.dashboard.question_edit.title</h3>\n</div>\n\n<div class="modal-body">\n  <div class="main-area comment-input">\n    <textarea ng-model="review.description" rows="8" cols="40"></textarea>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <div class="row">\n    <div class="col-md-12">\n      <button class="btn btn-default" ng-click="closeModal()" translate>\n        mnoe_admin_panel.dashboard.question_edit.cancel\n      </button>\n      <button class="btn btn-default" ng-click="submitIteraction()" translate>\n        mnoe_admin_panel.dashboard.question_edit.submit\n      </button>\n    </div>\n  </div>\n</div>\n'),n.put("app/components/mnoe-modals/question-reply-modal.html",'<div class="modal-header">\n  <div class="close" type="button" ng-click="closeModal()"></div>\n  <h3 translate>mnoe_admin_panel.dashboard.questions_reply_modal.title</h3>\n</div>\n\n<div class="modal-body">\n  <div class="main-area comment-input">\n    <textarea ng-model="replyText" rows="8" cols="40"></textarea>\n  </div>\n</div>\n\n<div class="modal-footer">\n  <div class="row">\n    <div class="col-md-12">\n      <button class="btn btn-default" ng-click="closeModal()" translate>\n        mnoe_admin_panel.dashboard.questions_reply_modal.cancel\n      </button>\n      <button class="btn btn-default" ng-click="submitIteraction()" translate>\n        mnoe_admin_panel.dashboard.questions_reply_modal.submit\n      </button>\n    </div>\n  </div>\n</div>\n'),
n.put("app/components/mnoe-orders-list/mnoe-orders-list.html",'<mno-widget icon="fa-shopping-basket" heading="{{$ctrl.orders.widgetTitle}}" is-loading="orders.loading">\n  <mno-widget-header>\n    &nbsp;{{ \'mnoe_admin_panel.dashboard.orders.widget.list.title\' | translate}}\n  </mno-widget-header>\n  <mno-widget-body class="large-auto-height no-padding">\n    <div>\n      <table class="table" st-pipe="$ctrl.callServer" st-table="$ctrl.displayed">\n      <table st-pipe="$ctrl.callServer" st-table="$ctrl.listOfOrders" class="table table-striped">\n        <thead>\n          <tr>\n            <th st-sort="order" class="col-lg-1" translate>mnoe_admin_panel.dashboard.orders.widget.list.table.order</th>\n            <th st-sort="date" class="col-lg-1" translate>mnoe_admin_panel.dashboard.orders.widget.list.table.date</th>\n            <th st-sort="product" class="col-lg-3" translate>mnoe_admin_panel.dashboard.orders.widget.list.table.product</th>\n            <th st-sort="catalog" class="col-lg-2" translate>mnoe_admin_panel.dashboard.orders.widget.list.table.catalog</th>\n            <th st-sort="customer" class="col-lg-2" translate>mnoe_admin_panel.dashboard.orders.widget.list.table.customer</th>\n            <th st-sort="status" class="col-lg-1" translate>mnoe_admin_panel.dashboard.orders.widget.list.table.payment</th>\n            <th st-sort="amount" class="col-lg-1" translate>mnoe_admin_panel.dashboard.orders.widget.list.table.amount</th>\n          </tr>\n          <tr>\n          </tr>\n        </thead>\n        <tbody ng-show="">\n          <tr>\n            <td colspan="6" class="text-center" translate>mnoe_admin_panel.dashboard.orders.widget.list.loading_orders</td>\n          </tr>\n        </tbody>\n        <tbody ng-show="!$ctrl.orders.loading">\n          <tr ng-repeat="order in $ctrl.listOfOrders">\n            <td>\n              <a ui-sref="dashboard.order({orderId: order.id})">{{order.reference}}\n            </a></td>\n            <td>{{order.date | date: \'dd/MM/yyyy\'}}</td>\n            <td>{{order.product}}</td>\n            <td>{{order.catalog}}</td>\n            <td>{{order.customer}}</td>\n            <td>{{order.payment_status}}</td>\n            <td>{{order.amount}}</td>\n          </tr>\n        </tbody>\n      </table>\n    </table></div>\n  </mno-widget-body>\n  <mno-widget-footer ng-show="$ctrl.orders.loading">\n    <mno-pagination page="$ctrl.orders.page" nb-items="$ctrl.orders.nbItems" total-items="$ctrl.orders.totalItems" on-change-cb="$ctrl.orders.pageChangedCb(nbItems, page)" is-loading="$ctrl.orders.loading">\n    </mno-pagination>\n  </mno-widget-footer>\n</mno-widget>\n'),n.put("app/components/mnoe-organizations-list/mnoe-organizations-list.html",'<mno-widget icon="fa-sitemap" heading="{{organizations.widgetTitle | translate}}" is-loading="organizations.loading">\n  <mno-widget-header>\n    <input type="text" ng-model="organizations.search" ng-change="searchChange()" ng-model-options="{ debounce: 1000 }" placeholder="{{\'mnoe_admin_panel.dashboard.organization.widget.list.search_users.placeholder.search_all\' | translate}}" class="form-control input-sm search-bar">\n  </mno-widget-header>\n  <mno-widget-body class="large-auto-height no-padding">\n    <mno-sortable-table row-collection="organizations.list" is-loading="organizations.loading" fields="organizations.fields" pipe="pipe(tableState)">\n    </mno-sortable-table>\n  </mno-widget-body>\n  <mno-widget-footer ng-show="organizations.list && !searchMode">\n    <mno-pagination page="organizations.page" nb-items="organizations.nbItems" total-items="organizations.totalItems" on-change-cb="organizations.pageChangedCb(nbItems, page)" is-loading="organizations.loading">\n    </mno-pagination>\n  </mno-widget-footer>\n</mno-widget>\n'),n.put("app/components/mnoe-organizations-local-list/mnoe-organizations-local-list.html",'<mno-widget icon="fa-sitemap" heading="{{organizations.widgetTitle | translate:{length: list.length} }}" is-loading="!list">\n  <mno-widget-header>\n    &nbsp;<a href="" ng-click="switchState()" ng-show="list && organizations.switchLinkTitle" translate>{{organizations.switchLinkTitle}}</a>\n    <input type="text" ng-model="organizations.search" ng-change="searchChange()" placeholder="{{\'mnoe_admin_panel.dashboard.organization.widget.local_list.search_organizations.placeholder.search_all\' | translate}}" class="form-control input-sm search-bar">\n  </mno-widget-header>\n  <mno-widget-body class="large-auto-height no-padding">\n    <table class="table table-layout-fixed">\n      <thead>\n        <tr>\n          <th translate>mnoe_admin_panel.dashboard.organization.widget.local_list.search_organizations.table.name</th>\n          <th translate>mnoe_admin_panel.dashboard.organization.uid</th>\n          <th style="width: 100px;" translate>mnoe_admin_panel.dashboard.organization.widget.local_list.search_organizations.table.created_at</th>\n          <th style="width: 130px;" ng-if="userContext" translate>mnoe_admin_panel.dashboard.organization.widget.local_list.search_organizations.table.role</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-repeat="organization in organizations.displayList">\n          <td>\n            <a ui-sref="dashboard.customers.organization({orgId: organization.id})">\n              {{::organization.name}}\n              <em ng-show="organization.account_frozen" class="text-muted" translate>mnoe_admin_panel.dashboard.organization.account_frozen_state</em>\n              <em ng-show="organization.demo_account" class="text-muted" translate>mnoe_admin_panel.dashboard.organization.demo_account_state</em>\n            </a>\n          </td>\n          <td>{{organization.uid}}</td>\n          <td>{{organization.created_at | date: \'dd/MM/yyyy\'}}</td>\n          <td ng-if="userContext">\n            <select ng-show="organization.editMode" ng-model="organization.role" ng-options="role.value as role.translatedLabel for role in userRoles.availableRolesForOptions"></select>\n            <span ng-show="organization.isUpdatingRole"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>\n            <span ng-click="editRole(organization)" ng-hide="organization.editMode">{{ userRoles.keyFromRole(organization.role) | translate }}</span>\n            <a class="role_edit_link" ng-hide="organization.editMode" ng-click="editRole(organization)"><i class="fa fa-pencil"></i></a>\n            <a class="role_edit_link" ng-show="organization.editMode" ng-click="updateUserRole(organization, user)"><i class="fa fa-check"></i></a>\n            <a class="role_edit_link" ng-show="organization.editMode" ng-click="exitEditRole(organization)"><i class="fa fa-times"></i></a>\n            <span ng-show="vm.isSaving"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </mno-widget-body>\n</mno-widget>\n'),n.put("app/components/mnoe-product-markups-list/mnoe-product-markups-list.html",'<mno-widget icon="fa-percent" heading="{{$ctrl.markups.widgetTitle | translate}}" is-loading="markups.loading">\n  <mno-widget-header>\n    \x3c!--{{ \'mnoe_admin_panel.dashboard.product_markups.widget.list.title\' | translate}}--\x3e\n  </mno-widget-header>\n  <mno-widget-body class="large-auto-height no-padding">\n    <div>\n      <table st-pipe="$ctrl.callServer" st-table="$ctrl.markups.list" class="table table-striped">\n        <thead>\n        <tr>\n          <th></th>\n          <th st-sort="product.name" ng-class="$ctrl.readOnlyView ? \'col-sm-5\' : \'col-sm-4\'" translate>mnoe_admin_panel.dashboard.product_markups.widget.list.table.product</th>\n          <th st-sort="organization.name" ng-class="$ctrl.readOnlyView ? \'col-sm-5\' : \'col-sm-4\'" translate>{{ $ctrl.customerHeader() }}</th>\n          <th st-sort="percentage" class="col-sm-2 text-center" translate>mnoe_admin_panel.dashboard.product_markups.widget.list.table.percentage</th>\n          <th ng-if="!$ctrl.readOnlyView" class="col-sm-1"></th>\n          <th ng-if="!$ctrl.readOnlyView" class="col-sm-1"></th>\n        </tr>\n        <tr>\n          <th></th>\n          <th>\n            <input st-search="product.name" placeholder="{{\'mnoe_admin_panel.dashboard.product_markups.widget.list.placeholder.search_product\' | translate}}" class="form-control input-sm search-bar col-sm-4" type="text">\n          </th>\n          <th>\n            <input ng-if="!$ctrl.readOnlyView" st-search="organization.name" placeholder="{{\'mnoe_admin_panel.dashboard.product_markups.widget.list.placeholder.search_customer\' | translate}}" class="form-control input-sm search-bar col-sm-4" type="text">\n          </th>\n          <th></th>\n          <th></th>\n          <th></th>\n        </tr>\n        </thead>\n        <tbody ng-show="$ctrl.markups.loading">\n        <tr>\n          <td colspan="6" class="text-center" translate>mnoe_admin_panel.dashboard.product_markups.widget.list.loading_product_markups</td>\n        </tr>\n        </tbody>\n        <tbody ng-show="!$ctrl.markups.loading">\n        <tr ng-repeat-start="pmElem in $ctrl.markups.list">\n          <td>\n            <div class="offers-listing" ng-click="pmElem.expanded = !pmElem.expanded" ng-if="pmElem.product.id">\n              <span>\n                <i class="fa fa-2x" ng-class="{ \'fa-caret-right\': !pmElem.expanded, \'fa-caret-down\': pmElem.expanded }"></i>\n              </span>\n            </div>\n          </td>\n          <td>{{ pmElem.product.name || (\'mnoe_admin_panel.dashboard.product_markups.add_markup.modal.all_products\' | translate) }}</td>\n          <td>{{ $ctrl.showOrgName(pmElem.organization.name) }}</td>\n          <td class="text-center">\n            <span ng-show="!$ctrl.editmode[pmElem.id]">{{pmElem.percentage*100 | number:2}}%</span>\n            <input ng-disabled="pmElem.isSaving" ng-show="$ctrl.editmode[pmElem.id]" type="number" class="form-control input-sm" percentage-input ng-model="pmElem.percentage" placeholder="{{\'mnoe_admin_panel.dashboard.product_markups.add_markup.modal.placeholder.percentage\' | translate}}" aria-label="{{\'mnoe_admin_panel.dashboard.product_markups.add_markup.modal.placeholder.percentage\' | translate}}" required>\n          </td>\n          <td ng-if="!$ctrl.readOnlyView">\n            <a href="" ng-hide="$ctrl.editmode[pmElem.id] || pmElem.isSaving" ng-click="$ctrl.editmode[pmElem.id] = true"><i class="fa fa-pencil"></i></a>\n          </td>\n          <td ng-if="!$ctrl.readOnlyView">\n            <a href="" ng-hide="$ctrl.editmode[pmElem.id] || pmElem.isSaving" ng-click="$ctrl.remove(pmElem)"><i class="fa fa-times"></i></a>\n            <a href="" ng-show="$ctrl.editmode[pmElem.id] && !pmElem.isSaving" ng-click="$ctrl.update(pmElem)"><i class="fa fa-check"></i></a>\n            <span ng-show="pmElem.isSaving"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>\n          </td>\n        </tr>\n\n        <tr ng-show="pmElem.expanded" ng-repeat-end>\n          <td></td>\n          <td colspan="4">\n            <div mno-offers-list offers="pmElem.product.product_pricings" markup="pmElem.percentage"></div>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n  </mno-widget-body>\n  <mno-widget-footer ng-show="$ctrl.markups.list ">\n    <mno-pagination page="$ctrl.markups.page" nb-items="$ctrl.markups.nbItems" total-items="$ctrl.markups.totalItems" on-change-cb="$ctrl.markups.pageChangedCb(nbItems, page)" is-loading="$ctrl.markups.loading">\n    </mno-pagination>\n  </mno-widget-footer>\n</mno-widget>\n'),n.put("app/components/mnoe-products-list/mnoe-products-list.html",'<mno-widget icon="fa-tag" heading="{{ \'mnoe_admin_panel.dashboard.products.widget.list.title\' | translate}}" is-loading="$ctrl.products.loading">\n  <mno-widget-header>\n    <input st-search="name" placeholder="{{\'mnoe_admin_panel.dashboard.product.widget.list.placeholder.search_product\' | translate}}" class="form-control input-sm search-bar">\n  </mno-widget-header>\n  <mno-widget-body class="large no-padding">\n    <div>\n      <table st-pipe="$ctrl.callServer" st-table="$ctrl.products.list" class="table table-striped">\n        <thead>\n          <tr>\n            <th st-sort="name" class="col-lg-4" translate>mnoe_admin_panel.dashboard.products.widget.list.table.name</th>\n            <th st-sort="active" class="col-lg-2" translate>mnoe_admin_panel.dashboard.products.widget.list.table.status</th>\n            <th st-sort="created_at" class="col-lg-2" translate>mnoe_admin_panel.dashboard.products.widget.list.table.created</th>\n            <th st-sort="updated_at" class="col-lg-2" translate>mnoe_admin_panel.dashboard.products.widget.list.table.updated</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td colspan="6" class="text-center" ng-show="$ctrl.areProducts()" translate>mnoe_admin_panel.dashboard.products.widget.list.no_products</td>\n          </tr>\n        </tbody>\n        <tbody ng-show="!$ctrl.products.loading">\n          <tr ng-repeat="product in $ctrl.products.list">\n            <td>\n              <a ui-sref="dashboard.product({productId: product.id})">{{product.name}}\n            </a></td>\n            <td>\n              <span ng-if="product.active" translate>mnoe_admin_panel.dashboard.products.widget.list.table.published</span>\n              <span ng-if="!product.active" translate>mnoe_admin_panel.dashboard.products.widget.list.table.draft</span>\n            </td>\n            <td>{{product.created_at | date: \'dd/MM/yyyy\'}}</td>\n            <td>{{product.updated_at | date: \'dd/MM/yyyy\'}}</td>\n            <td>\n              <div class="pull-right">\n                <div class="btn-group">\n                  <a type="button" class="btn btn-link btn-link-warning" ui-sref="dashboard.product({productId: product.id})">\n                    <i class="fa fa-pencil" aria-hidden="true"></i>\n                  </a>\n                </div>\n                <div class="btn-group" ng-click="$ctrl.confirmDeletion(product)">\n                  <a type="button" class="btn btn-link btn-link-danger">\n                    <i class="fa fa-trash-o" aria-hidden="true"></i>\n                  </a>\n                </div>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </mno-widget-body>\n  <mno-widget-footer ng-show="$ctrl.products.list">\n    <mno-pagination page="$ctrl.products.page" nb-items="$ctrl.products.nbItems" total-items="$ctrl.products.totalItems" on-change-cb="$ctrl.products.pageChangedCb(nbItems, page)" is-loading="$ctrl.products.loading">\n    </mno-pagination>\n  </mno-widget-footer>\n</mno-widget>\n<td>\n</td>'),n.put("app/components/mnoe-questions-list/mnoe-questions-list.html",'<mno-widget icon="fa-question-circle" heading="All questions">\n  <mno-widget-header></mno-widget-header>\n  <mno-widget-body class="large no-padding widget-comments">\n    <div id="admin-question-list">\n      <table class="table">\n        <thead>\n          <tr>\n            <th translate>mnoe_admin_panel.dashboard.questions_list.author</th>\n            <th translate>mnoe_admin_panel.dashboard.questions_list.company</th>\n            <th translate>mnoe_admin_panel.dashboard.questions_list.app</th>\n            <th translate>mnoe_admin_panel.dashboard.questions_list.type</th>\n            <th translate>mnoe_admin_panel.dashboard.questions_list.message</th>\n            <th translate>mnoe_admin_panel.dashboard.questions_list.date</th>\n            <th translate>mnoe_admin_panel.dashboard.questions_list.answers</th>\n            <th translate>mnoe_admin_panel.dashboard.questions_list.status</th>\n          </tr>\n        </thead>\n        <tbody ng-repeat="question in listOfQuestions">\n          <tr class="question">\n            <td>\n              {{question.user_name}}\n            </td>\n            <td>\n              {{question.organization_name}}\n            </td>\n            <td>\n              {{question.app_name}}\n            </td>\n            <td>\n              {{\'mnoe_admin_panel.dashboard.questions_list.question\' | translate}}\n            </td>\n            <td>\n              <p>{{question.description}}</p>\n              <div class="text-right">\n                <button type="button" name="button" ng-click="openQuestionReplyModal(question)" translate>mnoe_admin_panel.dashboard.questions_list.button.reply</button>\n                <button type="button" name="button" ng-click="openEditModal(question)" translate>mnoe_admin_panel.dashboard.questions_list.button.edit</button>\n              </div>\n            </td>\n            <td>\n              {{question.created_at | date: \'dd/MM/yyyy\' }}\n            </td>\n            <td>\n              <a href="" ng-hide="question.showAnswers || question.answers.length == 0" ng-click="question.showAnswers = true">{{\'mnoe_admin_panel.dashboard.questions_list.answers.show\' | translate}}&nbsp;({{question.answers.length}})</a>\n              <a href="" ng-show="question.showAnswers" ng-click="question.showAnswers = false">{{\'mnoe_admin_panel.dashboard.questions_list.answers.hide\' | translate}}</a>\n            </td>\n            <td>\n              <span ng-show="!editmode[question.id]">{{question.status}}</span>\n              <select ng-model="question.status" ng-show="editmode[question.id]">\n                <option ng-repeat="status in statuses" value="{{status.value}}" translate>{{status.label}}</option>\n              </select>\n              <div class="pull-right">\n                <a href="" ng-hide="editmode[question.id]" ng-click="editmode[question.id] = true"><i class="fa fa-pencil"></i></a>\n                <a href="" ng-show="editmode[question.id]" ng-click="update(question)"><i class="fa fa-check"></i></a>\n              </div>\n            </td>\n          </tr>\n          <tr class="answer" ng-show="question.showAnswers" ng-repeat="answer in question.answers">\n            <td>\n              {{answer.user_name}}\n            </td>\n            <td>\n              {{answer.organization_name}}\n            </td>\n            <td>\n              {{answer.app_name}}\n            </td>\n            <td>\n              {{\'mnoe_admin_panel.dashboard.questions_list.answer\' | translate}}\n            </td>\n            <td>\n              <p>{{answer.description}}</p>\n              <div class="text-right">\n                <button type="button" name="button" ng-click="openEditAnswerModal(answer)" translate>mnoe_admin_panel.dashboard.questions_list.button.edit</button>\n              </div>\n            </td>\n            <td>\n              {{answer.created_at | date: \'dd/MM/yyyy\' }}\n            </td>\n            <td>\n              {{\'mnoe_admin_panel.dashboard.questions_list.not_applicable\' | translate}}\n            </td>\n            <td>\n              <span ng-show="!editmode[answer.id]">{{answer.status}}</span>\n              <select ng-model="answer.status" ng-show="editmode[answer.id]">\n                <option ng-repeat="status in statuses" value="{{status.value}}" translate>{{status.label}}</option>\n              </select>\n              <div class="pull-right">\n                <a href="" ng-hide="editmode[answer.id]" ng-click="editmode[answer.id] = true"><i class="fa fa-pencil"></i></a>\n                <a href="" ng-show="editmode[answer.id]" ng-click="update(answer)"><i class="fa fa-check"></i></a>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </mno-widget-body>\n</mno-widget>\n'),n.put("app/components/mnoe-reviews-list/mnoe-reviews-list.html",'<mno-widget icon="fa-star-half-o" heading="{{ \'mnoe_admin_panel.dashboard.reviews_list.title\' | translate}}">\n  <mno-widget-header></mno-widget-header>\n  <mno-widget-body class="large no-padding widget-comments">\n    <div id="admin-review-list">\n      <table class="table">\n        <thead>\n          <tr>\n            <th translate>mnoe_admin_panel.dashboard.reviews_list.author</th>\n            <th translate>mnoe_admin_panel.dashboard.reviews_list.company</th>\n            <th translate>mnoe_admin_panel.dashboard.reviews_list.app</th>\n            <th translate>mnoe_admin_panel.dashboard.reviews_list.type</th>\n            <th translate>mnoe_admin_panel.dashboard.reviews_list.message</th>\n            <th translate>mnoe_admin_panel.dashboard.reviews_list.rating</th>\n            <th translate>mnoe_admin_panel.dashboard.reviews_list.date</th>\n            <th translate>mnoe_admin_panel.dashboard.reviews_list.comments</th>\n            <th translate>mnoe_admin_panel.dashboard.reviews_list.status</th>\n          </tr>\n        </thead>\n        <tbody ng-repeat="review in listOfReviews">\n          <tr class="feedback">\n            <td>\n              {{review.user_name}}\n            </td>\n            <td>\n              {{review.organization_name}}\n            </td>\n            <td>\n              {{review.app_name}}\n            </td>\n            <td>\n              {{\'mnoe_admin_panel.dashboard.reviews_list.feedback\' | translate}}\n            </td>\n            <td>\n              <p>{{review.description}}</p>\n              <div class="text-right">\n                <button type="button" name="button" ng-click="openFeedbackReplyModal(review)" translate>mnoe_admin_panel.dashboard.reviews_list.button.comment</button>\n                <button type="button" name="button" ng-click="openEditModal(review)" translate>mnoe_admin_panel.dashboard.reviews_list.button.edit</button>\n              </div>\n            </td>\n            <td>\n              {{review.rating}}\n            </td>\n            <td>\n              {{review.created_at | date: \'dd/MM/yyyy\' }}\n            </td>\n            <td>\n              <a href="" ng-hide="review.showComments || review.comments.length == 0" ng-click="review.showComments = true">{{\'mnoe_admin_panel.dashboard.reviews_list.comments.show\' | translate}}&nbsp;({{review.comments.length}})</a>\n              <a href="" ng-show="review.showComments" ng-click="review.showComments = false">{{\'mnoe_admin_panel.dashboard.reviews_list.comments.hide\' | translate}}</a>\n            </td>\n            <td>\n              <span ng-show="!editmode[review.id]">{{review.status}}</span>\n              <select ng-model="review.status" ng-show="editmode[review.id]">\n                <option ng-repeat="status in statuses" value="{{status.value}}" translate>{{status.label}}</option>\n              </select>\n              <div class="pull-right">\n                <a href="" ng-hide="editmode[review.id]" ng-click="editmode[review.id] = true"><i class="fa fa-pencil"></i></a>\n                <a href="" ng-show="editmode[review.id]" ng-click="update(review)"><i class="fa fa-check"></i></a>\n              </div>\n            </td>\n          </tr>\n          <tr class="comment" ng-show="review.showComments" ng-repeat="comment in review.comments">\n            <td>\n              {{comment.user_name}}\n            </td>\n            <td>\n              {{comment.organization_name}}\n            </td>\n            <td>\n              {{comment.app_name}}\n            </td>\n            <td>\n              {{\'mnoe_admin_panel.dashboard.reviews_list.comment\' | translate}}\n            </td>\n            <td>\n              <p>{{comment.description}}</p>\n              <div class="text-right">\n                <button type="button" name="button" ng-click="openEditModal(comment)" translate>mnoe_admin_panel.dashboard.reviews_list.button.edit</button>\n              </div>\n            </td>\n            <td>\n              {{\'mnoe_admin_panel.dashboard.reviews_list.not_applicable\' | translate}}\n            </td>\n            <td>\n              {{comment.created_at | date: \'dd/MM/yyyy\' }}\n            </td>\n            <td>\n              {{\'mnoe_admin_panel.dashboard.reviews_list.not_applicable\' | translate}}\n            </td>\n            <td>\n              <span ng-show="!editmode[comment.id]">{{comment.status}}</span>\n              <select ng-model="comment.status" ng-show="editmode[comment.id]">\n                <option ng-repeat="status in statuses" value="{{status.value}}" translate>{{status.label}}</option>\n              </select>\n              <div class="pull-right">\n                <a href="" ng-hide="editmode[comment.id]" ng-click="editmode[comment.id] = true"><i class="fa fa-pencil"></i></a>\n                <a href="" ng-show="editmode[comment.id]" ng-click="update(comment)"><i class="fa fa-check"></i></a>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </mno-widget-body>\n</mno-widget>\n'),n.put("app/components/mnoe-staffs-list/mnoe-staffs-list.html",'<mno-widget icon="fa-wrench" heading="{{$ctrl.staff.widgetTitle}}" is-loading="staff.loading">\n  <mno-widget-header>\n    &nbsp;{{ \'mnoe_admin_panel.dashboard.staffs.widget.list.title\' | translate}}\n  </mno-widget-header>\n  <mno-widget-body class="large-auto-height no-padding">\n    <div>\n      <table st-pipe="$ctrl.callServer" st-table="$ctrl.listOfStaff" class="table table-striped">\n        <thead>\n          <tr>\n            <th st-sort="name" class="col-lg-2" translate>mnoe_admin_panel.dashboard.staffs.widget.list.table.first_name</th>\n            <th st-sort="surname" class="col-lg-2" translate>mnoe_admin_panel.dashboard.staffs.widget.list.table.last_name</th>\n            <th st-sort="email" class="col-lg-3" translate>mnoe_admin_panel.dashboard.staffs.widget.list.table.email</th>\n            <th st-sort="created_at" class="col-lg-2" translate>mnoe_admin_panel.dashboard.staffs.widget.list.table.created_at</th>\n            <th st-sort="admin_role" class="col-lg-3" translate>mnoe_admin_panel.dashboard.staffs.widget.list.table.role</th>\n            <th></th>\n            <th></th>\n        \t</tr>\n        \t<tr>\n            <th>\n                <input st-search="name" placeholder="{{\'mnoe_admin_panel.dashboard.staffs.widget.list.placeholder.search_name\' | translate}}" class="form-control input-sm search-bar" type="text">\n            </th>\n            <th>\n                <input st-search="surname" placeholder="{{\'mnoe_admin_panel.dashboard.staffs.widget.list.placeholder.search_surname\' | translate}}" class="form-control input-sm search-bar" type="text">\n            </th>\n            <th>\n              <input st-search="email" placeholder="{{\'mnoe_admin_panel.dashboard.staffs.widget.list.placeholder.search_email\' | translate}}" class="form-control input-sm search-bar" type="text">\n            </th>\n            <th></th>\n            <th>\n              <select st-search="admin_role" class="form-control input-sm">\n                <option value="" selected="selected" translate>mnoe_admin_panel.dashboard.staffs.widget.list.table.admin_role.all</option>\n                <option value="{{role.value}}" ng-repeat="role in $ctrl.staff.roles">{{ role.label | translate }}</option>\n              </select>\n            </th>\n            <th></th>\n            <th></th>\n        \t</tr>\n      \t</thead>\n        <tbody ng-show="$ctrl.staff.loading">\n          <tr>\n            <td colspan="6" class="text-center" translate>mnoe_admin_panel.dashboard.staffs.widget.list.loading_staff</td>\n          </tr>\n        </tbody>\n      \t<tbody ng-show="!$ctrl.staff.loading">\n          <tr ng-repeat="staffElem in $ctrl.listOfStaff">\n            <td><a ui-sref="dashboard.staff({staffId: staffElem.id})">{{staffElem.name}}</a></td>\n            <td>{{staffElem.surname}}</td>\n            <td>{{staffElem.email}}</td>\n            <td>{{staffElem.created_at | date: \'dd/MM/yyyy\'}}</td>\n            <td><span ng-show="!$ctrl.staff.editmode[staffElem.id]" translate>{{$ctrl.getAdminRoleLabel(staffElem.admin_role)}}</span>\n              <select ng-model="staffElem.admin_role" ng-show="$ctrl.staff.editmode[staffElem.id]" class="user-role-select form-control input-sm">\n                <option ng-repeat="role in $ctrl.staff.roles" value="{{role.value}}">{{role.label | translate}}</option>\n              </select>\n            </td>\n            <td>\n              <div ng-hide="$ctrl.staff.oneAdminLeft && staffElem.admin_role == \'admin\'">\n                <a href="" ng-hide="$ctrl.staff.editmode[staffElem.id]" ng-click="$ctrl.staff.editmode[staffElem.id] = true"><i class="fa fa-pencil"></i></a>\n              </div>\n            </td>\n            <td>\n              <div ng-hide="$ctrl.staff.oneAdminLeft && staffElem.admin_role == \'admin\'">\n                <a href="" ng-hide="$ctrl.staff.editmode[staffElem.id]" ng-click="$ctrl.staff.remove(staffElem)"><i class="fa fa-times"></i></a>\n              </div>\n              <a href="" ng-show="$ctrl.staff.editmode[staffElem.id]" ng-click="$ctrl.staff.update(staffElem)"><i class="fa fa-check"></i></a>\n            </td>\n          </tr>\n      \t</tbody>\n      </table>\n    </div>\n  </mno-widget-body>\n  <mno-widget-footer ng-show="$ctrl.listOfStaff && !searchMode">\n    <mno-pagination page="$ctrl.staff.page" nb-items="$ctrl.staff.nbItems" total-items="$ctrl.staff.totalItems" on-change-cb="$ctrl.staff.pageChangedCb(nbItems, page)" is-loading="$ctrl.staff.loading">\n    </mno-pagination>\n  </mno-widget-footer>\n</mno-widget>\n'),n.put("app/components/mnoe-staffs-local-list/mnoe-staffs-local-list.html",'<mno-widget icon="fa-wrench" heading="{{$ctrl.staff.widgetTitle}}" is-loading="staff.loading">\n  <mno-widget-header>\n    &nbsp;{{ \'mnoe_admin_panel.dashboard.staffs.widget.list.title\' | translate}}\n  </mno-widget-header>\n  <mno-widget-body class="large-auto-height no-padding">\n    <div>\n      <table class="table table-striped">\n        <thead>\n          <tr>\n            <th class="col-lg-2" translate>mnoe_admin_panel.dashboard.staffs.widget.list.table.first_name</th>\n            <th class="col-lg-2" translate>mnoe_admin_panel.dashboard.staffs.widget.list.table.last_name</th>\n            <th class="col-lg-3" translate>mnoe_admin_panel.dashboard.staffs.widget.list.table.email</th>\n            <th class="col-lg-3" translate>mnoe_admin_panel.dashboard.staffs.widget.list.table.role</th>\n        \t</tr>\n      \t</thead>\n      \t<tbody>\n          <tr ng-repeat="staffElem in list">\n            <td><a ui-sref="dashboard.staff({staffId: staffElem.id})">{{staffElem.name}}</a></td>\n            <td>{{staffElem.surname}}</td>\n            <td>{{staffElem.email}}</td>\n            <td><span translate>{{ getAdminRoleLabel(staffElem) }}</span></td>\n          </tr>\n      \t</tbody>\n      </table>\n    </div>\n  </mno-widget-body>\n</mno-widget>\n'),
n.put("app/components/mnoe-sub-tenants-list/mnoe-sub-tenants-list.html",'<mno-widget icon="fa-wrench" heading="{{$ctrl.subTenant.widgetTitle}}" is-loading="subTenant.loading">\n  <mno-widget-header translate>\n    &nbsp;mnoe_admin_panel.dashboard.sub_tenants.widget.list.title\n  </mno-widget-header>\n  <mno-widget-body classes="large no-padding">\n    <div>\n      <table st-pipe="$ctrl.callServer" st-table="$ctrl.listOfSubTenant" class="table table-striped">\n        <thead>\n        <tr>\n          <th st-sort="name" class="col-lg-2" translate>mnoe_admin_panel.dashboard.sub_tenants.widget.list.table.name</th>\n          <th st-sort="created_at" class="col-lg-2" translate>mnoe_admin_panel.dashboard.sub_tenants.widget.list.table.created_at</th>\n          <th st-sort="update_at" class="col-lg-2" translate>mnoe_admin_panel.dashboard.sub_tenants.widget.list.table.updated_at</th>\n        </tr>\n        </thead>\n        <tbody ng-show="$ctrl.subTenant.loading">\n        <tr>\n          <td colspan="6" class="text-center" translate>mnoe_admin_panel.dashboard.sub_tenants.widget.list.loading</td>\n        </tr>\n        </tbody>\n        <tbody ng-show="!$ctrl.subTenant.loading">\n        <tr ng-repeat="subTenantElem in $ctrl.listOfSubTenant">\n          <td><a ng-show="!$ctrl.subTenant.editmode[subTenantElem.id]" ui-sref="dashboard.sub-tenant({subTenantId: subTenantElem.id})">{{subTenantElem.name}}</a>\n            <input ng-show="$ctrl.subTenant.editmode[subTenantElem.id]" name="name" type="text" ng-model="subTenantElem.name" class="form-control" required>\n          </td>\n\n          <td>{{subTenantElem.created_at | date: \'dd/MM/yyyy\'}}</td>\n          <td>{{subTenantElem.updated_at | date: \'dd/MM/yyyy\'}}</td>\n          <td>\n            <a href="" ng-hide="$ctrl.subTenant.editmode[subTenantElem.id]" ng-click="$ctrl.subTenant.editmode[subTenantElem.id] = true"><i class="fa fa-pencil"></i></a></td>\n          <td>\n          </td><td>\n            <a href="" ng-hide="$ctrl.subTenant.editmode[subTenantElem.id]" ng-click="$ctrl.subTenant.remove(subTenantElem)"><i class="fa fa-times"></i></a>\n            <a href="" ng-show="$ctrl.subTenant.editmode[subTenantElem.id]" ng-click="$ctrl.subTenant.update(subTenantElem)"><i class="fa fa-check"></i></a>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </div>\n  </mno-widget-body>\n  <mno-widget-footer ng-show="$ctrl.listOfSubTenant">\n    <mno-pagination page="$ctrl.subTenant.page" nb-items="$ctrl.subTenant.nbItems" total-items="$ctrl.subTenant.totalItems" on-change-cb="$ctrl.subTenant.pageChangedCb(nbItems, page)" is-loading="$ctrl.subTenant.loading">\n    </mno-pagination>\n  </mno-widget-footer>\n</mno-widget>\n'),n.put("app/components/mnoe-subscriptions-list/mnoe-subscriptions-list.html",'<div id="mnoe-subscriptions-list">\n  <mno-widget icon="fa-shopping-basket" heading="{{$ctrl.subscriptions.widgetTitle}}" is-loading="$ctrl.subscriptions.loading">\n    <mno-widget-header>\n      &nbsp;{{ $ctrl.titleText | translate}}\n    </mno-widget-header>\n    <mno-widget-body class="large-auto-height no-padding">\n      <div>\n        <table st-pipe="$ctrl.callServer" st-table="$ctrl.subscriptions.list" class="table table-striped table-responsive">\n          <thead>\n            <tr>\n              \x3c!--TODO: sub-object attributes sort (eg. st-sort="organization.name")--\x3e\n              <th st-sort="start_date" class="col-lg-2" translate>mnoe_admin_panel.dashboard.subscriptions.widget.list.table.start_date</th>\n              <th ng-if="$ctrl.all" class="col-lg-2" translate>mnoe_admin_panel.dashboard.subscriptions.widget.list.table.organization</th>\n              <th class="col-lg-2" translate>mnoe_admin_panel.dashboard.subscriptions.widget.list.table.product</th>\n              <th class="col-lg-2" translate>mnoe_admin_panel.dashboard.subscriptions.widget.list.table.subscription</th>\n              <th st-sort="status" class="col-lg-2" translate>mnoe_admin_panel.dashboard.subscriptions.widget.list.table.status</th>\n              <th class="col-lg-2"></th>\n            </tr>\n          </thead>\n          <tbody ng-show="!$ctrl.subscriptions.loading">\n            <tr ng-repeat="item in $ctrl.subscriptions.list">\n              <td>{{item.start_date | amDateFormat:\'L\'}}</td>\n              <td ng-if="$ctrl.all"><a ui-sref="dashboard.order({orderId : item.id, orgId: item.organization_id})">{{item.organization.name}}</a></td>\n              <td><a ui-sref="dashboard.order({orderId : item.id, orgId: item.organization_id})">{{item.product.name}}</a></td>\n              <td>{{item.product_pricing.name}}</td>\n              <td>\n                <div>\n                  {{item.status}}\n                  <span><a href="" class="tooltip_link" ng-hide="!$ctrl.displayInfoTooltip(item)" ng-click="$ctrl.displayStatusInfo()"><i class="fa fa-info-circle"></i></a></span>\n                </div>\n              </td>\n              <td>\n                <span style="display: flex;" ng-if="item.status !== \'cancelled\'">\n                  <a ng-click="$ctrl.subscriptions.approve(item)" class="btn btn-link btn-link-success" ng-if="item.status == \'requested\' || item.externally_provisioned" uib-tooltip="{{ \'mnoe_admin_panel.dashboard.subscriptions.widget.list.table.approve_tooltip\' | translate }}" tooltip-append-to-body="true">\n                    <i class="fa fa-check"></i>\n                  </a>\n                  <a ng-click="$ctrl.editSubscription(item)" class="btn btn-link btn-link-warning" uib-tooltip="{{ \'mnoe_admin_panel.dashboard.subscriptions.widget.list.table.modify_tooltip\' | translate }}" tooltip-append-to-body="true">\n                    <i class="fa fa-pencil-square-o"></i>\n                  </a>\n                  <a ng-click="$ctrl.subscriptions.cancel(item)" class="btn btn-link btn-link-danger" uib-tooltip="{{ \'mnoe_admin_panel.dashboard.subscriptions.widget.list.table.cancel_tooltip\' | translate }}" tooltip-append-to-body="true">\n                    <i class="fa fa-remove"></i>\n                  </a>\n                </span>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </mno-widget-body>\n    <mno-widget-footer ng-show="$ctrl.subscriptions.list">\n      <mno-pagination page="$ctrl.subscriptions.page" nb-items="$ctrl.subscriptions.nbItems" total-items="$ctrl.subscriptions.totalItems" on-change-cb="$ctrl.subscriptions.pageChangedCb(nbItems, page)" is-loading="$ctrl.subscriptions.loading">\n      </mno-pagination>\n    </mno-widget-footer>\n  </mno-widget>\n</div>\n'),n.put("app/components/mnoe-teams-list/mnoe-teams-list.html",'<mno-widget id="teams" icon="fa-users" heading="Teams" is-loading="$ctrl.isTeamsLoading">\n  <mno-widget-header>\n    <input type="text" ng-model="$ctrl.teams.search" ng-change="$ctrl.searchChange()" placeholder="{{\'mnoe_admin_panel.dashboard.teams.widget.list.table.search\' | translate}}" class="form-control input-sm search-bar">\n  </mno-widget-header>\n  <mno-widget-body class="large no-padding">\n    <div>\n      <table st-table="$ctrl.teams.list" class="table table-layout-fixed">\n        <thead>\n          <tr>\n            <th class="col-xs-2" translate>mnoe_admin_panel.dashboard.teams.widget.list.table.team_name</th>\n            <th class="col-xs-1"></th>\n            <th class="col-xs-8 text-center" translate>mnoe_admin_panel.dashboard.teams.widget.list.table.apps</th>\n            <th class="col-xs-1"></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr ng-click="$ctrl.toggleTeam(team)" ng-if="!$ctrl.isTeamsLoading" ng-repeat-start="team in $ctrl.teams.list">\n            <td>{{team.name}}</td>\n            <td class="text-mute"><span class="badge badge-colour">{{ \'mnoe_admin_panel.dashboard.teams.widget.list.table.show_users\' | translate: { QTY: team.users.length} }}</span>\n            </td>\n            <td>\n              <div class="bs-row row apps-box">\n                <div ng-if="$ctrl.hasApps(team.app_instances)" class="app-wrapper col-xs-3 col-sm-2 col-md-1" ng-repeat="app in team.app_instances">\n                  <div uib-tooltip="{{ ::app.name }}" class="small-app-card ellipsis">\n                    <img ng-src="{{::app.logo}}" width="60">\n                  </div>\n                </div>\n              </div>\n              <div class="text-center" ng-if="!$ctrl.hasApps(team.app_instances)" translate>\n                mnoe_admin_panel.dashboard.teams.widget.list.table.no_apps\n              </div>\n            </td>\n            <td ng-if="!team.expanded"><span class="glyphicon glyphicon-chevron-right pull-right icon-colour"></span></td>\n            <td ng-if="team.expanded"><span class="glyphicon glyphicon-chevron-down pull-right icon-colour"></span></td>\n          </tr>\n          <tr ng-if="!$ctrl.isTeamsLoading && team.expanded" id="sub-table" ng-repeat-end>\n            <td colspan="12">\n              <table class="table table-striped table-responsive no-margin-bottom">\n                <thead>\n                  <tr ng-if="!$ctrl.hasUsers(team.users)">\n                    <th class="col-xs-12 text-center" translate>mnoe_admin_panel.dashboard.teams.widget.list.table.no_users</th>\n                  </tr>\n                  <tr ng-if="$ctrl.hasUsers(team.users)">\n                    <th class="col-xs-2" translate>mnoe_admin_panel.dashboard.teams.widget.list.table.name</th>\n                    <th class="col-xs-2" translate>mnoe_admin_panel.dashboard.teams.widget.list.table.surname</th>\n                    <th class="col-xs-5" translate>mnoe_admin_panel.dashboard.teams.widget.list.table.email</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr ng-if="$ctrl.hasUsers(team.users)" ng-repeat="user in team.users">\n                    <td><a ui-sref="dashboard.customers.user({userId: user.id})">{{user.name}}</a></td>\n                    <td><a ui-sref="dashboard.customers.user({userId: user.id})">{{user.surname}}</a></td>\n                    <td>{{user.email}}</td>\n                  </tr>\n              </tbody></table>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </mno-widget-body>\n  <mno-widget-footer ng-if="!$ctrl.isTeamsLoading && $ctrl.teams.list">\n    <mno-pagination page="$ctrl.teams.page" nb-items="$ctrl.teams.nbItems" total-items="$ctrl.teams.totalItems" on-change-cb="$ctrl.teams.pageChangedCb(nbItems, page)" is-loading="$ctrl.isTeamsLoading">\n    </mno-pagination>\n  </mno-widget-footer>\n</mno-widget>\n'),n.put("app/components/mnoe-users-list/mno-users-list.html",'<mno-widget icon="fa-users" heading="{{users.widgetTitle | translate}}" is-loading="users.loading">\n  <mno-widget-header>\n    <input type="text" ng-model="users.search" ng-change="searchChange()" ng-model-options="{ debounce: 1000 }" placeholder="{{\'mnoe_admin_panel.dashboard.users.widget.list.search_users.placeholder.search_all\' | translate}}" class="form-control input-sm search-bar">\n  </mno-widget-header>\n  <mno-widget-body class="large-auto-height no-padding">\n    <mno-sortable-table row-collection="users.list" is-loading="users.loading" fields="users.fields" pipe="pipe(tableState)">\n    </mno-sortable-table>\n  </mno-widget-body>\n  <mno-widget-footer ng-show="users.list && !searchMode">\n    <mno-pagination page="users.page" nb-items="users.nbItems" total-items="users.totalItems" on-change-cb="users.pageChangedCb(nbItems, page)" is-loading="users.loading">\n    </mno-pagination>\n  </mno-widget-footer>\n</mno-widget>\n'),n.put("app/components/mnoe-users-local-list/mnoe-users-local-list.html",'<mno-widget icon="fa-user" heading="{{users.widgetTitle | translate:{length: list.length} }}" is-loading="!list">\n  <mno-widget-header>\n    &nbsp;<a href="" ng-click="switchState()" ng-show="list && users.switchLinkTitle" translate>{{users.switchLinkTitle}}</a>\n    <input type="text" ng-model="users.search" ng-change="searchChange()" placeholder="{{ \'mnoe_admin_panel.dashboard.users.widget.local_list.search_users.placeholder.search_all\' | translate}}" class="form-control input-sm search-bar">\n  </mno-widget-header>\n  <mno-widget-body class="large-auto-height no-padding">\n    <table class="table table-layout-fixed">\n      <thead>\n        <tr>\n          <th style="width: 20%;" translate>mnoe_admin_panel.dashboard.users.widget.local_list.table.username</th>\n          <th style="width: 10%;" translate>mnoe_admin_panel.dashboard.users.widget.local_list.table.user_uid</th>\n          <th style="width: 10%;" translate>mnoe_admin_panel.dashboard.users.widget.local_list.table.created_at</th>\n          <th style="width: 10%;" translate>mnoe_admin_panel.dashboard.users.widget.local_list.table.last_login</th>\n          <th style="width: 10%;" ng-if="organizationContext" translate>mnoe_admin_panel.dashboard.users.widget.local_list.table.status</th>\n          <th style="width: 10%;" ng-if="organizationContext" translate>mnoe_admin_panel.dashboard.users.widget.local_list.table.role</th>\n          <th style="width: 10%;" ng-if="isImpersonationEnabled && organizationContext" translate>mnoe_admin_panel.dashboard.users.widget.local_list.table.access</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr ng-repeat="user in users.displayList">\n          <td>\n            <a ui-sref="dashboard.customers.user({userId: user.id})">\n              <div ng-show="user.name && user.surname">{{::user.name}} {{::user.surname}}</div>\n              <div ng-show="!user.name && !user.surname">nc</div>\n            </a>\n            <small editable-text="user.email" onaftersave="updateUserMail(user)" e-form="emailForm">{{user.email}}</small>\n            <a href class="email_edit_link" ng-hide="user.isUpdatingEmail || emailForm.$visible" ng-click="emailForm.$show()"><i class="fa fa-pencil-square-o fa-1"></i></a>\n            <span ng-show="user.isUpdatingEmail"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>\n          </td>\n          <td>{{user.uid}}</td>\n          <td>{{user.created_at | date: \'dd/MM/yyyy\'}}</td>\n          <td>{{(user.last_sign_in_at | date: \'dd/MM/yyyy\') || (\'mnoe_admin_panel.dashboard.users.widget.local_list.last_login.never\' | translate)}}</td>\n          <td ng-if="organizationContext">\n            <button ng-show="user.status === \'pending\'" ng-click="sendInvitation(user)" class="btn btn-xs btn-warning" ng-disabled="user.isSendingInvite">\n              <span ng-show="user.isSendingInvite"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>\n              {{\'mnoe_admin_panel.dashboard.users.widget.local_list.invite\' | translate}}\n            </button>\n            <button ng-show="user.status === \'invited\'" ng-click="sendInvitation(user)" class="btn btn-xs btn-default" ng-disabled="user.isSendingInvite">\n              <span ng-show="user.isSendingInvite"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>\n              {{\'mnoe_admin_panel.dashboard.users.widget.local_list.resend_invite\' | translate}}\n            </button>\n            <span ng-show="user.status === \'active\'" translate>mnoe_admin_panel.dashboard.users.widget.local_list.active</span>\n            <span ng-show="user.status === \'pending\'" ng-click="removeUserFromOrganization(user)" uib-tooltip="{{\'mnoe_admin_panel.dashboard.users.widget.local_list.cancel_adding_user\' | translate}}"><i class="fa fa-close fa-1"></i></span>\n            <span ng-show="user.status === \'invited\'" ng-click="removeUserFromOrganization(user)" uib-tooltip="{{\'mnoe_admin_panel.dashboard.users.widget.local_list.cancel_invite\' | translate}}"><i class="fa fa-close fa-1"></i></span>\n          </td>\n          <td ng-if="organizationContext">\n            <select ng-show="user.editMode" ng-model="user.role" ng-options="role.value as role.translatedLabel for role in userRoles.availableRolesForOptions"></select>\n            <span ng-show="user.isUpdatingRole"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>\n            <span ng-click="editRole(user)" ng-hide="user.editMode">{{ userRoles.keyFromRole(user.role) | translate }}</span>\n            <a class="role_edit_link" ng-hide="user.editMode" ng-click="editRole(user)"><i class="fa fa-pencil"></i></a>\n            <a class="role_edit_link" ng-show="user.editMode" ng-click="updateUserRole(user, user.role)"><i class="fa fa-check"></i></a>\n            <a class="role_edit_link" ng-show="user.editMode" ng-click="exitEditRole(user)"><i class="fa fa-times"></i></a>\n            <span ng-show="vm.isSaving"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>\n          </td>\n          <td ng-if="isImpersonationEnabled && organizationContext">\n            <mnoe-impersonate-button btn-class-names="btn btn-xs btn-default" user="user" organization-id="organization.id"></mnoe-impersonate-button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </mno-widget-body>\n</mno-widget>\n'),n.put("app/views/audit-log/audit-log.html",'<div id="audit-log" class="row">\n  <div class="col-lg-10 col-lg-offset-1 col-md-12">\n    <div class="btn-group pull-right top-buffer-1">\n      <a type="button" class="btn btn-primary" href="/mnoe/jpi/v1/admin/audit_events.csv">\n        <i class="fa fa-download"></i>\n        {{\'mnoe_admin_panel.dashboard.audit_log.main.export\' | translate}}\n      </a>\n    </div>\n  </div>\n  <div class="col-lg-10 col-lg-offset-1 col-md-12">\n    <mnoe-audit-events-list></mnoe-audit-events-list>\n  </div>\n</div>\n'),n.put("app/views/customers/customers.html",'<div id="customers">\n  <div class="row">\n    <div class="col-lg-3 col-md-6 col-xs-12">\n      <mno-kpi class="kpi-color-1" description="{{\'mnoe_admin_panel.dashboard.customers.main.kpi_users\' | translate}}" icon="fa-users" value="{{vm.users.totalCount}}" loading="!vm.users.totalCount"></mno-kpi>\n    </div>\n\n    <div class="col-lg-3 col-md-6 col-xs-12">\n      <mno-kpi class="kpi-color-2" description="{{\'mnoe_admin_panel.dashboard.customers.main.kpi_organizations\' | translate}}" icon="fa-sitemap" value="{{vm.organizations.totalCount}}" loading="!vm.organizations.totalCount"></mno-kpi>\n\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-xs-12" ng-if="::main.adminConfig.isOrganizationManagementEnabled()">\n      <div class="btn-group pull-right top-buffer-1" uib-dropdown keyboard-nav>\n        <button id="simple-btn-keyboard-nav" type="button" class="btn btn-primary" uib-dropdown-toggle>\n          {{\'mnoe_admin_panel.dashboard.customers.main.new_customer\' | translate}} &nbsp;<span class="caret"></span>\n        </button>\n        <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="simple-btn-keyboard-nav">\n          <li role="menuitem" ng-if="::vm.isRegistrationEnabled"><a href="" ng-click="vm.inviteUserModal()" translate>mnoe_admin_panel.dashboard.customers.main.invite_customer</a></li>\n          <li role="menuitem"><a ui-sref="dashboard.customers.create-step-1" translate>mnoe_admin_panel.dashboard.customers.main.create_customer</a></li>\n          <li role="menuitem" ng-if="::vm.isCustomerBatchImportEnabled"><a ui-sref="dashboard.customers.batch-upload" translate>mnoe_admin_panel.dashboard.customers.main.batch_upload</a></li>\n        </ul>\n      </div>\n    </div>\n    <div class="col-xs-12">\n      <mnoe-organizations-list></mnoe-organizations-list>\n    </div>\n    <div class="col-xs-12">\n      <mnoe-users-list></mnoe-users-list>\n    </div>\n  </div>\n</div>\n'),n.put("app/views/dashboard-templates/dashboard-templates.html",'<div class="row dashboard-templates">\n  <div class="col-lg-10 col-lg-offset-1 col-md-12">\n    <div class="btn-group pull-right top-buffer-1">\n      <impac-dashboard-create on-create-dashboard="vm.createDashboard(dashboard)" btn-class="btn-primary">\n    </div>\n  </div>\n  <div class="col-lg-10 col-lg-offset-1 col-md-12">\n    <mnoe-dashboard-templates-list></mnoe-dashboard-templates-list>\n  </div>\n</div>\n'),n.put("app/views/finance/finance.html",'<div id="finance" class="row">\n  <div class="col-lg-3 col-md-6 col-xs-12">\n    <mno-kpi class="kpi-color-1" description="{{\'mnoe_admin_panel.dashboard.finance.current_billing\' | translate}}" icon="fa-file-text-o" value="{{vm.invoices.currentBillingAmount.amount}}" unit="{{vm.invoices.currentBillingAmount.currency}}" loading="!vm.invoices.currentBillingAmount">\n    </mno-kpi>\n  </div>\n  <div class="col-lg-3 col-md-6 col-xs-12">\n    <mno-kpi class="kpi-color-2" description="{{\'mnoe_admin_panel.dashboard.finance.last_customer_invoicing\' | translate}}" icon="fa-file-text-o" value="{{vm.invoices.lastInvoicingAmount.amount}}" unit="{{vm.invoices.lastInvoicingAmount.currency}}" loading="!vm.invoices.lastInvoicingAmount">\n    </mno-kpi>\n  </div>\n  <div class="col-lg-3 col-md-6 col-xs-12">\n    <mno-kpi class="kpi-color-3" description="{{\'mnoe_admin_panel.dashboard.finance.last_revenue\' | translate}}" icon="fa-file-text-o" value="{{vm.invoices.lastPortfolioAmount.amount}}" unit="{{vm.invoices.lastPortfolioAmount.currency}}" loading="!vm.invoices.lastPortfolioAmount">\n    </mno-kpi>\n  </div>\n  <div class="col-lg-3 col-md-6 col-xs-12">\n    <mno-kpi class="kpi-color-4" description="{{\'mnoe_admin_panel.dashboard.finance.last_commission\' | translate}}" icon="fa-file-text-o" value="{{vm.invoices.lastCommissionAmount.amount}}" unit="{{vm.invoices.lastCommissionAmount.currency}}" loading="!vm.invoices.lastCommissionAmount">\n    </mno-kpi>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-lg-6">\n    <mno-widget icon="fa-exclamation-circle" heading="{{\'mnoe_admin_panel.dashboard.finance.customer_accounts_in_arrears\' | translate}}">\n      <mno-widget-header></mno-widget-header>\n      <mno-widget-body class="large no-padding">\n        <div class="table-responsive">\n          <table class="table">\n            <thead>\n              <tr>\n                <th translate>mnoe_admin_panel.dashboard.finance.table.organization</th>\n                <th translate>mnoe_admin_panel.dashboard.finance.table.amount</th>\n                <th translate>mnoe_admin_panel.dashboard.finance.table.reason</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr ng-repeat="arrear in vm.organizations.inArrears">\n                <td>{{arrear.name}}</td>\n                <td ng-if="arrear.amount">{{arrear.amount.options.iso_code}} {{arrear.amount.value}}</td>\n                <td ng-if="!arrear.amount">-</td>\n                <td>{{arrear.category}}</td>\n              </tr>\n              \x3c!-- <tr ng-repeat="orgaInArrear in vm.invoices.organizationsInArrears">\n                <td><a ui-sref="dashboard.customers.organization({orgId: orgaInArrear.id})">{{orgaInArrear.name}}</a></td>\n                <td>AUD 56.00</td>\n              </tr> --\x3e\n            </tbody>\n          </table>\n        </div>\n      </mno-widget-body>\n    </mno-widget>\n  </div>\n  <div class="col-lg-6">\n    <mno-widget icon="fa-file-text-o" heading="{{\'mnoe_admin_panel.dashboard.finance.current_billing.your+partner_report\' | translate}}" is-loading="!vm.invoices.tenantInvoices">\n      <mno-widget-header></mno-widget-header>\n      <mno-widget-body class="large no-padding">\n        <div class="table-responsive">\n          <table class="table">\n            <thead>\n              <tr>\n                <th translate>mnoe_admin_panel.dashboard.finance.table.start</th>\n                <th translate>mnoe_admin_panel.dashboard.finance.table.end</th>\n                <th translate>mnoe_admin_panel.dashboard.finance.table.revenue</th>\n                <th translate>mnoe_admin_panel.dashboard.finance.table.commission</th>\n                <th class="text-center" translate>mnoe_admin_panel.dashboard.finance.table.paid</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr ng-repeat="invoice in vm.invoices.tenantInvoices">\n                <td>{{invoice.started_at | date: \'dd/MM/yyyy\'}}</td>\n                <td>{{invoice.ended_at | date: \'dd/MM/yyyy\'}}</td>\n                <td>{{invoice.total_portfolio_amount.options.iso_code}} {{invoice.total_portfolio_amount.value}}</td>\n                <td>{{invoice.total_commission_amount.options.iso_code}} {{invoice.total_commission_amount.value}}</td>\n                <td class="text-center">\n                  <span ng-if="invoice.paid_at" class="text-success" translate>mnoe_admin_panel.dashboard.finance.table.yes</span>\n                  <span ng-if="!invoice.paid_at" class="text-danger" translate>mnoe_admin_panel.dashboard.finance.table.no</span>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </mno-widget-body>\n    </mno-widget>\n  </div>\n</div>\n'),n.put("app/views/home/home.html",'<div id="home" class="row">\n  <div class="col-lg-3 col-md-6 col-xs-12">\n    <mno-kpi class="kpi-color-1" description="{{\'mnoe_admin_panel.dashboard.home.kpi.users\' | translate}}" icon="fa-users" value="{{vm.users.metrics.total_count}}" loading="!vm.users.metrics" mno-ui-sref="dashboard.customers" link-text="{{\'mnoe_admin_panel.dashboard.home.kpi.users.link_text\' | translate:{\'quantity\': vm.users.metrics.new_month_count} }}"></mno-kpi>\n  </div>\n\n  <div class="col-lg-3 col-md-6 col-xs-12">\n    <mno-kpi class="kpi-color-1" description="{{\'mnoe_admin_panel.dashboard.home.kpi.active_users\' | translate}}" icon="fa-users" value="{{vm.users.metrics.active_users_count}}" loading="!vm.users.metrics" mno-ui-sref="dashboard.customers" link-text="{{\'mnoe_admin_panel.dashboard.home.kpi.active_users.link_text\' | translate }}"></mno-kpi>\n  </div>\n\n  <div class="col-lg-3 col-md-6 col-xs-12">\n    <mno-kpi class="kpi-color-1" description="{{\'mnoe_admin_panel.dashboard.home.kpi.user_churn\' | translate}}" icon="fa-users" value="{{(vm.users.metrics.monthly_churn_rate*100) | number:0}}% " loading="!vm.users.metrics" mno-ui-sref="dashboard.customers" link-text="{{\'mnoe_admin_panel.dashboard.home.kpi.user_churn.link_text\' | translate }}"></mno-kpi>\n  </div>\n\n  <div class="col-lg-3 col-md-6 col-xs-12">\n    <mno-kpi class="kpi-color-2" description="{{\'mnoe_admin_panel.dashboard.home.kpi.organizations\' | translate}}" icon="fa-sitemap" value="{{vm.organizations.kpi.total_count}}" loading="!vm.organizations.kpi" mno-ui-sref="dashboard.customers" link-text="{{vm.organisationKpiLocale | translate:{\'quantity\': vm.organizations.kpi.with_cc_count} }}"></mno-kpi>\n  </div>\n\n  <div class="col-lg-3 col-md-6 col-xs-12" ng-if="::main.adminConfig.isFinanceEnabled()">\n    <mno-kpi class="kpi-color-3" description="{{\'mnoe_admin_panel.dashboard.home.kpi.last_customer_invoicing\' | translate}}" icon="fa-file-text-o" value="{{vm.invoices.lastInvoicingAmount.amount}}" unit="{{vm.invoices.lastInvoicingAmount.currency}}" loading="!vm.invoices.lastInvoicingAmount" mno-ui-sref="dashboard.finance" link-text="{{\'mnoe_admin_panel.dashboard.home.kpi.last_customer_invoicing.link_text\' | translate}}"></mno-kpi>\n  </div>\n\n  <div class="col-lg-3 col-md-6 col-xs-12" ng-if="::main.adminConfig.isFinanceEnabled()">\n    <mno-kpi class="kpi-color-4" description="{{\'mnoe_admin_panel.dashboard.home.kpi.to_be_paid\' | translate}}" icon="fa-money" value="{{vm.invoices.outstandingAmount.amount}}" unit="{{vm.invoices.outstandingAmount.currency}}" loading="!vm.invoices.outstandingAmount" mno-ui-sref="dashboard.finance" link-text="{{\'mnoe_admin_panel.dashboard.home.kpi.to_be_paid.link_text\' | translate}}"></mno-kpi>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-md-12">\n    <mnoe-organizations-list></mnoe-organizations-list>\n  </div>\n</div>\n<div class="row">\n  <div class="col-md-12">\n    <mnoe-app-metrics-list view="last"></mnoe-app-metrics-list>\n  </div>\n</div>\n<div class="row">\n  <div class="col-md-12">\n    <mnoe-users-list></mnoe-users-list>\n  </div>\n</div>\n'),n.put("app/views/impac/impac.html",'<div id="impac">\n  <div class="top-navigation">\n    <a class="back" ui-sref="dashboard.dashboard-templates">\n      &lt;&lt; {{ \'mnoe_admin_panel.dashboard.dashboard_templates.back_link\' | translate }}\n    </a>\n    <toggle class="pull-right" ng-show="vm.currentDashboard" ng-model="vm.currentDashboard.published" ng-change="vm.toggleTemplatePublished(vm.currentDashboard.id)" on="{{ \'mnoe_admin_panel.dashboard.dashboard_templates.published\' | translate }}" off="{{ \'mnoe_admin_panel.dashboard.dashboard_templates.draft\' | translate }}" uib-tooltip="{{ \'mnoe_admin_panel.dashboard.dashboard_templates.published_state_tooltip\' | translate }}"></toggle>\n  </div>\n\n  <impac-dashboard>\n</div>\n'),
n.put("app/views/invoices/invoice.html",'<h1 translate>mnoe_admin_panel.dashboard.invoice.invoice_info</h1>\n<a ui-sref="dashboard.invoices" class="text-muted">\n  <i class="fa fa-chevron-left"></i><span translate>mnoe_admin_panel.dashboard.invoice.back</span>\n</a>\n\x3c!-- invoice summary --\x3e\n<div id="single-invoice">\n  <mno-widget is-loading="vm.isLoading" icon="fa-file-text-o" heading="{{\'mnoe_admin_panel.dashboard.invoice.summary.widget.list.title\' | translate}}">\n    <mno-widget-header>\n    </mno-widget-header>\n    <mno-widget-body class="large no-padding">\n      <table class="table table-responsive">\n        <thead>\n          <tr>\n            <th translate>mnoe_admin_panel.dashboard.invoice.reference</th>\n            <th translate>mnoe_admin_panel.dashboard.invoice.customer</th>\n            <th translate>mnoe_admin_panel.dashboard.invoice.period</th>\n            <th ng-if="vm.isPaymentEnabled" translate>mnoe_admin_panel.dashboard.invoice.expected_payment_date</th>\n            <th translate>mnoe_admin_panel.dashboard.invoice.amount</th>\n            <th translate>mnoe_admin_panel.dashboard.invoice.status</th>\n            <th></th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>{{vm.invoice.slug}}</td>\n            <td>{{vm.invoice.organization.name}}</td>\n            <td>{{vm.invoice.started_at | amCalendar}} - {{vm.invoice.ended_at | amCalendar}}</td>\n            <td ng-if="vm.isPaymentEnabled">{{vm.expectedPaymentDate(vm.invoice.ended_at) | amCalendar }}</td>\n            <td>{{vm.invoice.price.currency.iso_code}} {{vm.invoice.price.fractional / 100}}</td>\n            <td>\n              <span ng-if="vm.invoice.paid_at" translate>mnoe_admin_panel.dashboard.invoices.paid</span>\n              <div class="btn-group" ng-if="!vm.invoice.paid_at" uib-dropdown dropdown-append-to-body>\n                <button id="btn-append-to-body" type="button" class="btn btn-primary" uib-dropdown-toggle>\n                  <span translate>mnoe_admin_panel.dashboard.invoices.awaiting</span>&nbsp;<i class="fa fa-caret-down"></i>\n                </button>\n                <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="btn-append-to-body">\n                  <li role="menuitem"><a href ng-click="vm.changeInvoiceStatus()" translate>mnoe_admin_panel.dashboard.invoices.paid</a></li>\n                </ul>\n              </div>\n            </td>\n            <td>\n              <span class="pull-right center-cloud">\n                <a ng-click="vm.downloadInvoice(vm.invoice.slug, $event)" target="_blank"><i class="fa fa-cloud-download"></i></a>\n              </span>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </mno-widget-body>\n  </mno-widget>\n</div>\n\x3c!-- Details --\x3e\n<mno-widget is-loading="vm.isLoading" heading="{{\'mnoe_admin_panel.dashboard.invoice.details.widget.list.title\' | translate}}">\n  <mno-widget-header>\n  </mno-widget-header>\n  <mno-widget-body class="no-padding">\n    <table class="table table-striped table-responsive">\n      <thead>\n        <tr>\n          <th translate>mnoe_admin_panel.dashboard.invoice.details.product</th>\n          <th translate>mnoe_admin_panel.dashboard.invoice.details.description</th>\n          <th translate>mnoe_admin_panel.dashboard.invoice.details.price</th>\n        </tr>\n      </thead>\n      <tbody ng-show="!vm.isLoading">\n        <tr ng-repeat="bill in vm.invoice.bills">\n          <td>{{bill.billing_group}}</td>\n          <td>{{bill.description}}</td>\n          <td>{{bill.currency}} {{bill.end_user_price_cents/100}}</td>\n        </tr>\n      </tbody>\n    </table>\n  </mno-widget-body>\n</mno-widget>\n\x3c!-- adjustments --\x3e\n<div id="single-invoice-adjustments">\n  <div class="row">\n    <div class="col-xs-12">\n      <div class="pull-right top-buffer-1" ng-if="!vm.invoice.paid_at">\n        <button role="button" ng-click="vm.openAddAdjustmentModal()" class="btn btn-primary" translate>\n          mnoe_admin_panel.dashboard.invoice.add_adjustment\n        </button>\n      </div>\n    </div>\n  </div>\n  <mno-widget is-loading="vm.isLoading" heading="{{\'mnoe_admin_panel.dashboard.invoice.adjustments.adjustments\' | translate}}">\n    <mno-widget-header>\n    </mno-widget-header>\n    <mno-widget-body class="no-padding">\n      <span class="text-center" ng-show="!vm.invoice.adjustments">\n        <h4 translate>mnoe_admin_panel.dashboard.invoice.adjustments.no_adjustments</h4>\n      </span>\n      <table ng-show="vm.invoice.adjustments" class="table table-striped table-responsive">\n        <thead>\n          <tr>\n            <th translate>mnoe_admin_panel.dashboard.invoice.adjustments.adjustment_name</th>\n            <th translate>mnoe_admin_panel.dashboard.invoice.adjustments.adjustment_amount</th>\n            <th style="width: 10%;"></th>\n          </tr>\n        </thead>\n        <tbody ng-show="!vm.isLoading">\n          <tr ng-repeat="adjustment in vm.invoice.adjustments">\n            <td>{{adjustment.description}}</td>\n            <td>{{adjustment.currency}} {{adjustment.end_user_price_cents / 100}}</td>\n            <td>\n              <div ng-if="!vm.invoice.paid_at">\n                <button ng-click="vm.openDeleteAdjustmentModal(adjustment)" class="btn btn-primary">\n                  <i class="fa fa-trash-o"></i>\n                </button>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </mno-widget-body>\n  </mno-widget>\n  <div class="row button-footer">\n    <div class="col-xs-12">\n      <div class="btn-group pull-right">\n        <div class="top-buffer-1" ng-if="!vm.isInvoiceEditedPaid">\n          <button ui-sref="dashboard.invoices" class="btn btn-default" translate>mnoe_admin_panel.dashboard.invoice.adjustments.cancel</button>\n          <button ng-click="vm.update()" class="btn btn-primary" translate>mnoe_admin_panel.dashboard.invoice.adjustments.update</button>\n          <button ng-click="vm.sendInvoiceToCustomer()" class="btn btn-primary" translate>mnoe_admin_panel.dashboard.invoice.adjustments.send_to_customer</button>\n        </div>\n        <div class="top-buffer-1" ng-if="vm.isInvoiceEditedPaid">\n          <button ui-sref="dashboard.invoices" class="btn btn-default" translate>back</button>\n          <button ng-click="vm.sendInvoiceToCustomer()" class="btn btn-primary" translate>mnoe_admin_panel.dashboard.invoice.adjustments.send_to_customer</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n'),n.put("app/views/invoices/invoices.html",'<div class="row">\n  <div class="col-lg-10 col-lg-offset-1 col-md-12">\n    <mnoe-invoices-list></mnoe-invoices-list>\n  </div>\n</div>\n'),n.put("app/views/orders/order.html",'<div id="order" class="top-buffer-1">\n  <a ui-sref="dashboard.orders" class="text-muted">\n    <i class="fa fa-chevron-left"></i>&nbsp;<span translate>mnoe_admin_panel.dashboard.order.back</span>\n  </a>\n  <div class="row">\n    <div class="col-xs-6">\n      <mno-widget icon="fa-shopping-basket" heading="{{\'mnoe_admin_panel.dashboard.order.order_info\' | translate}}" is-loading="vm.isLoading">\n        <mno-widget-header></mno-widget-header>\n        <mno-widget-body class="medium">\n          <div class="row">\n            <div class="col-xs-6">\n              <div class="label-cell" translate>mnoe_admin_panel.dashboard.order.reference</div>\n            </div>\n            <div class="col-xs-6">\n              {{vm.order.external_id}}\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-xs-6">\n              <div class="label-cell" translate>mnoe_admin_panel.dashboard.order.date</div>\n            </div>\n            <div class="col-xs-6">\n              {{vm.order.start_date | date: \'dd/MM/yyyy\'}}\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-xs-6">\n              <div class="label-cell" translate>mnoe_admin_panel.dashboard.order.end_date</div>\n            </div>\n            <div class="col-xs-6">\n              {{vm.order.end_date | date: \'dd/MM/yyyy\'}}\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-xs-6">\n              <div class="label-cell" translate>mnoe_admin_panel.dashboard.order.product</div>\n            </div>\n            <div class="col-xs-6">\n              {{vm.order.product.name}}\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-xs-6">\n              <div class="label-cell" translate>mnoe_admin_panel.dashboard.order.pricing_plan</div>\n            </div>\n            <div class="col-xs-6">\n              {{vm.order.product_pricing.name}}\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-xs-6">\n              <div class="label-cell" translate>mnoe_admin_panel.dashboard.order.status</div>\n            </div>\n            <div class="col-xs-6">\n              {{vm.order.status}}\n              <a class="label-cell" href="" ng-hide="!vm.displayInfoTooltip()" ng-click="vm.displayStatusInfo()"><i class="fa fa-info-circle"></i></a>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-xs-6">\n              <div class="label-cell" translate>mnoe_admin_panel.dashboard.order.approval</div>\n            </div>\n            <div class="col-xs-3" ng-hide="!vm.displayApproval()">\n              <button role="button" ng-click="vm.approveOrder()" ng-disabled="vm.disableApproval()" class="btn btn-primary btn-xs" translate>\n                mnoe_admin_panel.dashboard.order.approve\n              </button>\n            </div>\n            <div class="col-xs-3" ng-hide="!vm.displayFulfillApproval()">\n              <button role="button" ng-click="vm.fulfillOrder()" ng-disabled="vm.disableFulfillApproval()" class="btn btn-primary btn-xs" translate>\n                mnoe_admin_panel.dashboard.order.fulfill\n              </button>\n            </div>\n            <div class="col-xs-3">\n              <button role="button" ng-click="vm.cancelOrder()" ng-disabled="vm.disableCancel()" class="btn btn-primary btn-xs" translate>\n                mnoe_admin_panel.dashboard.order.reject\n              </button>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-xs-6">\n            </div>\n            <div class="col-xs-6">\n              {{vm.orderWorkflowExplanation() | translate}}\n            </div>\n          </div>\n        </mno-widget-body>\n      </mno-widget>\n    </div>\n    <div class="col-xs-6">\n      <mno-widget icon="fa-user-o" heading="{{\'mnoe_admin_panel.dashboard.order.customer\' | translate}}" is-loading="vm.isLoading">\n        <mno-widget-header></mno-widget-header>\n        <mno-widget-body class="medium">\n          <div class="row">\n            <div class="col-xs-4">\n              <div class="label-cell" translate>mnoe_admin_panel.dashboard.order.name</div>\n            </div>\n            <div class="col-xs-6">\n              {{vm.user.name}} {{vm.user.surname}}\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-xs-4">\n              <div class="label-cell" translate>mnoe_admin_panel.dashboard.order.email</div>\n            </div>\n            <div class="col-xs-6">\n              {{vm.user.email}}\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-xs-4">\n              <div class="label-cell" translate>mnoe_admin_panel.dashboard.order.organization</div>\n            </div>\n            <div class="col-xs-6">\n              {{vm.organization.name}}\n            </div>\n          </div>\n        </mno-widget-body>\n      </mno-widget>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-6">\n      <mno-widget icon="fa-info-circle" heading="{{\'mnoe_admin_panel.dashboard.order.provisioning_data\' | translate}}" is-loading="vm.isLoading">\n        <mno-widget-header></mno-widget-header>\n        <mno-widget-body>\n          <span ng-if="!vm.order.provisioning_data" translate>mnoe_admin_panel.dashboard.order.no_provisioning_data</span>\n          <user-friendly-json-tree ng-if="vm.order.provisioning_data" start-expanded="true" object="vm.order.provisioning_data" options="vm.jsonTreeSettings" root-name="vm.rootName"></user-friendly-json-tree>\n        </mno-widget-body>\n      </mno-widget>\n    </div>\n    <div class="col-xs-6">\n      <mno-widget icon="fa-info-circle" heading="{{\'mnoe_admin_panel.dashboard.order.custom_data\' | translate}}" is-loading="vm.isLoading">\n        <mno-widget-header></mno-widget-header>\n        <mno-widget-body>\n          <span ng-show="!vm.order.custom_data" translate>mnoe_admin_panel.dashboard.order.no_custom_data</span>\n          <form ng-show="vm.order.custom_data" name="vm.detailsForm" sf-schema="vm.schema" sf-form="vm.form" sf-model="vm.order.custom_data" sf-options="{ formDefaults: { readonly: { true } }}"></form>\n        </mno-widget-body>\n      </mno-widget>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-xs-6">\n      <mno-widget icon="fa-info-circle" heading="{{\'mnoe_admin_panel.dashboard.orders.provision.subscription.events\' | translate}}" is-loading="vm.isLoading">\n        <mno-widget-header></mno-widget-header>\n        <mno-widget-body>\n          <span ng-show="!vm.subscriptionEvents" translate>\n            mnoe_admin_panel.dashboard.orders.provision.subscription.no_events\n          </span>\n          <div ng-repeat="subscriptionEvent in vm.subscriptionEvents">\n            <div class="row subscription-event">\n              <div class="col-sm-2">{{ subscriptionEvent.created_at | amDateFormat: \'L\' }}</div>\n              <div class="col-sm-2">{{ subscriptionEvent.event_type }}</div>\n              <div class="col-sm-2">{{ subscriptionEvent.status }}</div>\n              <div class="col-sm-6">{{ subscriptionEvent.message }}</div>\n            </div>\n\n            <div class="row subscription-event-provisioning-data" ng-if="subscriptionEvent.provisioning_data">\n              <div class="col-sm-10 col-sm-offset-2">\n                <user-friendly-json-tree start-expanded="false" object="subscriptionEvent.provisioning_data" options="vm.jsonTreeSettings" root-name="vm.rootName"></user-friendly-json-tree>\n              </div>\n            </div>\n          </div>\n        </mno-widget-body>\n      </mno-widget>\n    </div>\n  </div>\n</div>\n'),n.put("app/views/orders/orders.html",'<div class="row">\n  <div class="col-lg-10 col-lg-offset-1 col-md-12">\n    <mnoe-subscriptions-list all="true" title-key="title_with_action" filters="{ \'where[status.in]\': \'requested,approved\' }"></mnoe-subscriptions-list>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-lg-10 col-lg-offset-1 col-md-12">\n    <mnoe-subscriptions-list all="true" title-key="title_with_history" filters="{ \'where[status.nin]\': \'requested,approved\' }"></mnoe-subscriptions-list>\n  </div>\n</div>\n'),n.put("app/views/organization/organization.html",'<div id="organization">\n  <div class="row">\n    <div class="col-xs-12">\n      <h1 translate>mnoe_admin_panel.dashboard.organization.organization_info</h1>\n\n      <div class="row">\n        <div class="col-xs-12 top-buffer-1 text-right">\n          <button ng-if="::main.adminConfig.isUserManagementEnabled()" ng-click="vm.users.createUserModal()" ng-disabled="!vm.organization" class="btn btn-primary" translate>\n            mnoe_admin_panel.dashboard.organization.add_a_user\n          </button>\n          <button ng-if="::vm.managementAndProvisioningEnabled" ng-click="vm.openSelectProductModal()" ng-disabled="!vm.organization || vm.isLoadingProducts" class="btn btn-primary">\n            <span translate>mnoe_admin_panel.dashboard.organization.create_an_order</span>\n          </button>\n        </div>\n      </div>\n      <div class="row">\n        <div ng-class="::vm.managementAndProvisioningEnabled ? \'col-md-6\' : \'col-md-12\'">\n          <mno-widget is-loading="!vm.organization.invoices" icon="fa-sitemap" heading="{{vm.organization.name}}">\n            <mno-widget-header></mno-widget-header>\n            <mno-widget-body class="large">\n              <div class="row">\n                <div class="col-xs-6">\n                  <div class="label-cell" translate>mnoe_admin_panel.dashboard.organization.uid</div>\n                </div>\n                <div class="col-xs-6">\n                  {{vm.organization.uid}}\n                </div>\n              </div>\n              <div class="row" ng-if="vm.organization.external_id">\n                <div class="col-xs-6">\n                  <div class="label-cell" translate>mnoe_admin_panel.dashboard.organization.external_id</div>\n                </div>\n                <div class="col-xs-6">\n                  {{vm.organization.external_id}}\n                </div>\n              </div>\n              \x3c!-- <div class="row">\n                <div class="col-xs-6">\n                  <div class="label-cell" translate>mnoe_admin_panel.dashboard.organization.account_frozen</div>\n                </div>\n                <div class="col-xs-6">\n                  <span ng-if="vm.organization.account_frozen" role="button" uib-tooltip="{{ \'mnoe_admin_panel.dashboard.organization.account_frozen.tooltip\' | translate }}" translate>mnoe_admin_panel.dashboard.organization.account_frozen.yes</span>\n                  <span ng-if="!vm.organization.account_frozen" translate>mnoe_admin_panel.dashboard.organization.account_frozen.no</span>\n                  <a href="" ng-hide="vm.organization.account_frozen" ng-click="vm.freezeOrganization()"><i class="fa fa-ban"></i></a>\n                  <a href="" ng-show="vm.organization.account_frozen" ng-click="vm.unfreezeOrganization()"><i class="fa fa-check"></i></a>\n                </div>\n              </div> --\x3e\n              <div class="row">\n                <div class="col-xs-6">\n                  <div class="label-cell" translate>mnoe_admin_panel.dashboard.organization.demo_account</div>\n                </div>\n                <div class="col-xs-6">\n                  <span ng-if="vm.organization.demo_account" translate>mnoe_admin_panel.dashboard.organization.demo_account.yes</span>\n                  <span ng-if="!vm.organization.demo_account" translate>mnoe_admin_panel.dashboard.organization.demo_account.no</span>\n                  <span ng-show="vm.organization.demo_account" class="text-muted">({{vm.organization.demo_account}})</span>\n                </div>\n              </div>\n              <div class="row" ng-if="::main.adminConfig.isPaymentEnabled()">\n                <div class="col-xs-6">\n                  <div class="label-cell" translate>mnoe_admin_panel.dashboard.organization.credit_card</div>\n                </div>\n                <div class="col-xs-6">\n                  <span ng-if="vm.organization.credit_card.presence" class="text-success" translate>mnoe_admin_panel.dashboard.organization.credit_card.presence.yes</span>\n                  <span ng-if="!vm.organization.credit_card.presence" class="text-danger" translate>mnoe_admin_panel.dashboard.organization.credit_card.presence.no</span>\n                </div>\n              </div>\n              <div class="row">\n                <div class="col-xs-6">\n                  <div class="label-cell" translate>mnoe_admin_panel.dashboard.organization.billing_currency</div>\n                </div>\n                <div class="col-xs-5">\n                  <select ng-model="vm.organization.billing_currency" ng-show="vm.editmode">\n                    <option ng-repeat="currency in vm.availableBillingCurrencies" value="{{currency}}">{{currency}}</option>\n                  </select>\n                  <span ng-click="vm.editmode = true" ng-hide="vm.editmode">{{vm.organization.billing_currency}}</span>\n                  <a href="" ng-hide="vm.editmode" ng-click="vm.editmode = true"><i class="fa fa-pencil"></i></a>\n                  <a href="" ng-show="vm.editmode" ng-click="vm.updateOrganization()"><i class="fa fa-check"></i></a>\n                  <a href="" ng-show="vm.editmode" ng-click="vm.resetBillingCurrency()"><i class="fa fa-eraser"></i></a>\n                  <span ng-show="vm.isSaving"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>\n                </div>\n              </div>\n              <div class="row">\n                <div class="col-xs-6">\n                  <div class="label-cell" translate>mnoe_admin_panel.dashboard.organization.created_at</div>\n                </div>\n                <div class="col-xs-6">\n                  {{vm.organization.created_at | date: \'dd/MM/yyyy\'}}\n                </div>\n              </div>\n              <div class="row">\n                <div class="col-xs-6">\n                  <div class="label-cell" translate>mnoe_admin_panel.dashboard.organization.credit_card_updated</div>\n                </div>\n                <div class="col-xs-6">\n                  {{(vm.organization.credit_card.updated_at | date: \'dd/MM/yyyy\') || (\'mnoe_admin_panel.dashboard.organization.credit_card_updated.never\' | translate)}}\n                </div>\n              </div>\n              <div class="row">\n                <div class="col-sm-6">\n                  <div class="label-cell">{{\'mnoe_admin_panel.dashboard.organization.active_apps\' | translate}}\n                    <a ng-if="vm.organization.active_apps.length > 0 && vm.hasDisconnectedApps" ui-sref="dashboard.customers.connect-app({orgId: vm.organization.id})" translate>mnoe_admin_panel.dashboard.organization.connect_apps</a>\n                  </div>\n                </div>\n                <div ng-class="::vm.managementAndProvisioningEnabled ? \'col-sm-12\' : \'col-sm-6\'">\n                  <div class="row apps-box">\n                    <div class="app-wrapper col-xs-6 col-sm-4 col-md-3" ng-repeat="app in vm.organization.active_apps">\n                      <div class="small-app-card ellipsis" uib-tooltip="{{app.app_name}}">\n                        <i ng-if="::vm.managementAndProvisioningEnabled" class="fa fa-trash app-remove" ng-click="vm.openRemoveAppModal(app, $index)" uib-tooltip="{{\'mnoe_admin_panel.dashboard.organization.remove_app\' | translate:{\'app_name\': app.app_name} }}" tooltip-append-to-body="true"></i>\n                        <i ng-show="vm.status[app.nid]" class="fa fa-check-circle app-state state-success" uib-tooltip="{{\'mnoe_admin_panel.dashboard.organization.app_connected\' | translate:{\'app_name\': app.app_name} }}" tooltip-append-to-body="true"></i>\n                        <i ng-show="!vm.status[app.nid]" class="fa fa-exclamation-circle app-state state-warning" uib-tooltip="{{\'mnoe_admin_panel.dashboard.organization.app_not_connected\' | translate:{\'app_name\': app.app_name} }}" tooltip-append-to-body="true"></i>\n                        <img ng-src="{{::app.app_logo}}" width="60">\n                        <span>{{::app.app_name}}</span>\n                      </div>\n                    </div>\n                    <div class="app-wrapper col-xs-6 col-sm-4 col-md-3" ng-if="::vm.managementAndProvisioningEnabled">\n                      <div class="small-app-card ellipsis add-app" ng-click="vm.openSelectProductModal()">\n                        <span>{{\'mnoe_admin_panel.dashboard.organization.add_an_app\' | translate}}<i class="fa fa-plus"></i></span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </mno-widget-body>\n          </mno-widget>\n        </div>\n        <div class="col-md-6" ng-if="::vm.managementAndProvisioningEnabled">\n          <mnoe-subscriptions-list organization="vm.organization"></mnoe-subscriptions-list>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-12 bottom-buffer-1">\n      <mnoe-users-local-list list="vm.organization.members" organization="vm.organization" view="all"></mnoe-users-local-list>\n    </div>\n    <div class="col-md-12 bottom-buffer-1" ng-if="::main.adminConfig.isFinanceEnabled()">\n      <mno-widget icon="fa-file-text-o" heading="{{\'mnoe_admin_panel.dashboard.organization.invoices.title\' | translate}}" is-loading="!vm.organization.invoices">\n        <mno-widget-header></mno-widget-header>\n        <mno-widget-body class="medium no-padding">\n          <div class="table-responsive">\n            <table class="table">\n              <thead>\n                <tr>\n                  <th translate>mnoe_admin_panel.dashboard.organization.invoices.table.start</th>\n                  <th translate>mnoe_admin_panel.dashboard.organization.invoices.table.end</th>\n                  <th translate>mnoe_admin_panel.dashboard.organization.invoices.table.amount</th>\n                  <th class="text-center" translate>mnoe_admin_panel.dashboard.organization.invoices.table.paid</th>\n                  <th class="text-center"></th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr ng-repeat="invoice in vm.organization.invoices">\n                  <td>{{invoice.started_at | date: \'dd/MM/yyyy\'}}</td>\n                  <td>{{invoice.ended_at | date: \'dd/MM/yyyy\'}}</td>\n                  <td>{{invoice.amount.options.iso_code}} {{invoice.amount.value}}</td>\n                  <td class="text-center">\n                    <span ng-if="invoice.paid" class="text-success" translate>mnoe_admin_panel.dashboard.organization.invoices.table.yes</span>\n                    <span ng-if="!invoice.paid" class="text-danger" translate>mnoe_admin_panel.dashboard.organization.invoices.table.no</span>\n                  </td>\n                  <td class="text-center">\n                    <a ng-if="invoice.link" ng-href="{{invoice.link}}" target="_blank">\n                      <i class="fa fa-cloud-download"></i>\n                    </a>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </mno-widget-body>\n      </mno-widget>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-12">\n      <mnoe-teams-list organization="vm.organization"></mnoe-teams-list>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-md-12 bottom-buffer-1">\n      <mnoe-product-markups-list ng-if="!vm.isLoading" customer-org="vm.organization" view="all"></mnoe-product-markups-list>\n    </div>\n  </div>\n</div>\n'),n.put("app/views/product-markups/product-markups.html",'<div id="product-markups">\n  <div class="row">\n    <div class="col-xs-6">\n      <h1><span translate>mnoe_admin_panel.dashboard.product_markups.title</span>\n      <a href="" ng-click="vm.markup.displayInfo()"><i class="fa fa-info-circle"></i></a></h1>\n    </div>\n\n    <div class="col-xs-6 top-buffer-1">\n      <button role="button" ng-click="vm.markup.createModal()" class="btn btn-primary pull-right" translate>\n        mnoe_admin_panel.dashboard.product_markups.add_product_markup\n      </button>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-md-12">\n      <mnoe-product-markups-list view="all"></mnoe-product-markups-list>\n    </div>\n  </div>\n</div>\n'),
n.put("app/views/products/product.html",'<div id="product" class="top-buffer-1">\n  <div class="clearfix bottom-buffer-1">\n    <a ui-sref="dashboard.products" class="text-muted">\n      <i class="fa fa-chevron-left"></i>&nbsp;<span translate>mnoe_admin_panel.dashboard.product.back</span>\n    </a>\n\n    <toggle ng-model="vm.product.active" ng-change="vm.updateStatus()" on="Published" off="Draft" class="pull-right" ng-show="!vm.isLoading"></toggle>\n  </div>\n\n  \x3c!-- description section --\x3e\n  <mno-widget icon="fa-tag" heading="{{\'mnoe_admin_panel.dashboard.product.product_description\' | translate}}" is-loading="vm.isLoading">\n    <mno-widget-header></mno-widget-header>\n    <mno-widget-body>\n      <form name="vm.form.product.description">\n        <mno-section heading="{{\'mnoe_admin_panel.dashboard.product.name\' | translate}}">\n          <input ng-model="vm.product.name" class="form-control" required>\n        </mno-section>\n\n        <mno-section heading="{{\'mnoe_admin_panel.dashboard.product.supplier\' | translate}}">\n          <input ng-model="vm.product.values_display[\'Supplier\']" class="form-control">\n        </mno-section>\n\n        <mno-section heading="{{\'mnoe_admin_panel.dashboard.product.tiny_description\' | translate}}">\n          <input ng-model="vm.product.values_display[\'Tiny description\']" class="form-control">\n        </mno-section>\n\n        <mno-section heading="{{\'mnoe_admin_panel.dashboard.product.key_benefits\' | translate}}">\n          <mno-multiple-string-field ng-model="vm.product.values_display[\'Key benefits\']" command="vm.componentsCommand"></mno-multiple-string-field>\n        </mno-section>\n\n        <mno-section heading="{{\'mnoe_admin_panel.dashboard.product.getting_started\' | translate}}">\n          <text-angular ng-model="vm.product.values_display[\'Getting started\']"></text-angular>\n        </mno-section>\n\n        <mno-section class="btn-box">\n          <button class="btn btn-primary top-buffer-1" ng-click="vm.updateProduct()" ng-disabled="vm.isLoadingProduct" translate>\n            mnoe_admin_panel.dashboard.product.submit\n          </button>\n        </mno-section>\n      </form>\n    </mno-widget-body>\n  </mno-widget>\n\n  \x3c!-- Pricing section --\x3e\n  <mno-widget icon="fa-tag" heading="{{\'mnoe_admin_panel.dashboard.product.product_pricing\' | translate}}" is-loading="vm.isLoading">\n    <mno-widget-header></mno-widget-header>\n    <mno-widget-body>\n      <mno-section heading="{{\'mnoe_admin_panel.dashboard.product.free_trial\' | translate}}">\n        <form name="vm.formFreeTrial">\n          <div class="input-group input-group-sm">\n            <span class="input-group-addon">\n              <input type="checkbox" ng-model="vm.product.free_trial_enabled">\n            </span>\n            <input type="number" ng-model="vm.product.free_trial_duration" min="0" class="form-control" placeholder="{{\'mnoe_admin_panel.dashboard.product.free_trial_duration\' | translate}}" ng-disabled="!vm.product.free_trial_enabled">\n            <span class="input-group-addon select">\n              <select ng-model="vm.product.free_trial_unit" ng-disabled="!vm.product.free_trial_enabled">\n                <option value="days">{{\'mnoe_admin_panel.dashboard.pricing.freetrial.unit_day\' | translate}}</option>\n                <option value="weeks">{{\'mnoe_admin_panel.dashboard.pricing.freetrial.unit_week\' | translate}}</option>\n                <option value="months">{{\'mnoe_admin_panel.dashboard.pricing.freetrial.unit_month\' | translate}}</option>\n                <option value="years">{{\'mnoe_admin_panel.dashboard.pricing.freetrial.unit_year\' | translate}}</option>\n              </select>\n            </span>\n          </div>\n\n          <button class="btn btn-sm btn-primary top-buffer-1" ng-click="vm.saveFreeTrial()" ng-disabled="vm.formFreeTrial.$pristine">\n            {{\'mnoe_admin_panel.dashboard.pricing.freetrial.save\' | translate}}\n          </button>\n        </form>\n      </mno-section>\n\n      <mno-section id="plans" heading="{{\'mnoe_admin_panel.dashboard.product.pricing_plans\' | translate}}">\n        <button class="btn btn-link bottom-buffer-1" ng-click="vm.addPricingPlan()">\n          <i class="fa fa-plus"></i> {{\'mnoe_admin_panel.dashboard.product.add_pricing_plan\' | translate}}\n        </button>\n        <ul class="list-group" ng-model="vm.product.product_pricings">\n          <li id="pricing-plans-list" class="list-group-item" ng-repeat="pricingPlan in vm.product.product_pricings">\n            <div class="pricing-plan" ng-if="!vm.isCurrentPricingPlan(pricingPlan)">\n              <span class="close">\n                <i class="fa fa-edit" ng-click="vm.editPricingPlan(pricingPlan)"></i>\n                <i class="fa fa-times" ng-click="vm.deletePricingPlan(pricingPlan)"></i>\n              </span>\n              <span>\n                <h4>{{pricingPlan.name}}</h4>\n                <p>{{pricingPlan.description}}</p>\n                <div ng-switch on="pricingPlan.pricing_type">\n                  <p ng-switch-when="recurring">\n                    <span class="badge">\n                      <span ng-repeat="price in pricingPlan.prices" class="price">\n                        {{price.currency}} {{price.price_cents / 100}}\n                      </span>\n                    </span>\n                    <strong>&nbsp;/&nbsp;{{pricingPlan.per_unit}}&nbsp;/&nbsp;{{pricingPlan.per_duration}}</strong>\n                  </p>\n                  <p ng-switch-when="one_off">\n                    <span class="badge">\n                      <span ng-repeat="price in pricingPlan.prices" class="price">\n                        {{price.currency}} {{price.price_cents / 100}}\n                      </span>\n                    </span>\n                    <strong>{{\'mnoe_admin_panel.dashboard.pricing.pricing_plans.edition.one_off\' | translate}}</strong>\n                  </p>\n                  <p ng-switch-when="payg">\n                    <span class="badge">\n                      {{\'mnoe_admin_panel.dashboard.pricing.pricing_plans.edition.usage_based\' | translate}}\n                    </span>\n                  </p>\n                </div>\n              </span>\n            </div>\n            <div class="pricing-plan-edition" ng-if="vm.isCurrentPricingPlan(pricingPlan)">\n              <form name="vm.pricingPlanForm" class="form" novalidate>\n                <div class="form-group">\n                  <label class="control-label top-buffer-1">Name</label>\n                  <input name="name" ng-model="pricingPlan.name" class="form-control" placeholder="name" required>\n                </div>\n                <div class="form-group">\n                  <label class="control-label top-buffer-1">Description</label>\n                  <input name="description" ng-model="pricingPlan.description" class="form-control" placeholder="description">\n                </div>\n                <div class="form-group">\n                  <label class="control-label top-buffer-1">{{\'mnoe_admin_panel.dashboard.pricing.pricing_plans.pricing_type\' | translate}}</label>\n                  <select class="form-control" ng-model="pricingPlan.pricing_type" required>\n                    <option value="recurring">{{\'mnoe_admin_panel.dashboard.pricing.pricing_plans.pricing_type.recurring\' | translate}}</option>\n                    <option value="one_off">{{\'mnoe_admin_panel.dashboard.pricing.pricing_plans.pricing_type.one_off\' | translate}}</option>\n                    <option value="payg">{{\'mnoe_admin_panel.dashboard.pricing.pricing_plans.pricing_type.payg\' | translate}}</option>\n                  </select>\n                </div>\n                <div class="row pricing-plan-edition-recurring" ng-show="pricingPlan.pricing_type == \'recurring\'">\n                  <div class="form-group col-md-6">\n                    <label class="control-label top-buffer-1">{{\'mnoe_admin_panel.dashboard.pricing.pricing_plans.edition.unit\' | translate}}</label>\n                    <select class="form-control" ng-model="pricingPlan.per_unit" required>\n                      <option value="" disabled="disabled" selected="selected" hidden>{{\'mnoe_admin_panel.dashboard.pricing.pricing_plans.edition.unit\' | translate}}</option>\n                      <option value="organization">Organization</option>\n                      <option value="user">User</option>\n                    </select>\n                  </div>\n                  <div class="form-group col-md-6">\n                    <label class="control-label top-buffer-1">{{\'mnoe_admin_panel.dashboard.pricing.pricing_plans.edition.duration\' | translate}}</label>\n                    <select class="form-control" ng-model="pricingPlan.per_duration" required>\n                      <option value="" disabled="disabled" selected="selected" hidden>{{\'mnoe_admin_panel.dashboard.pricing.pricing_plans.edition.duration\' | translate}}</option>\n                      <option value="hour">Hour</option>\n                      <option value="day">Day</option>\n                      <option value="week">Week</option>\n                      <option value="month">Month</option>\n                      <option value="years">Year</option>\n                    </select>\n                  </div>\n                </div>\n              </form>\n\n              <div class="form-group" ng-show="pricingPlan.pricing_type == \'recurring\' || pricingPlan.pricing_type == \'one_off\'">\n                <label class="control-label">{{\'mnoe_admin_panel.dashboard.pricing.pricing_plans.edition.prices\' | translate}}</label>\n                <ul id="prices-list" class="list-group">\n                  \x3c!-- Prices list --\x3e\n                  <li class="list-group-item price" ng-repeat="price in pricingPlan.prices | orderBy:\'currency\' track by $index">\n                    <input type="text" name="price_currency" ng-model="price.currency" class="form-control newprice-price" disabled="disabled">\n                    <input type="number" min="0.01" step="0.01" name="price_price_cents" ng-model="price.price_cents" currency-cents-input class="form-control newprice-price" placeholder="{{\'mnoe_admin_panel.dashboard.pricing.pricing_plans.edition.prices.price_placeholder\' | translate}}">\n                    <button class="btn btn-sm btn-default" type="button" ng-click="vm.removePrice(price, pricingPlan)">\n                      <i class="fa fa-times"></i>\n                    </button>\n                  </li>\n                  \x3c!-- Price form --\x3e\n                  <li class="list-group-item">\n                    <ng-form name="vm.priceForm" class="price">\n                      <select class="form-control newprice-currency" name="currency" ng-model="new_price.currency" ng-options="v for v in vm.currencies" required>\n                        <option value="" disabled="disabled" selected="selected" hidden>{{\'mnoe_admin_panel.dashboard.pricing.pricing_plans.edition.prices.currency_placeholder\' | translate}}</option>\n                      </select>\n                      <input type="number" min="0.01" step="0.01" name="price_cents" ng-model="new_price.price_cents" currency-cents-input class="form-control newprice-price" placeholder="{{\'mnoe_admin_panel.dashboard.pricing.pricing_plans.edition.prices.price_placeholder\' | translate}}" required>\n                      <button class="btn btn-sm btn-default" type="button" ng-click="vm.addPrice(new_price, pricingPlan)" ng-disabled="vm.priceForm.$invalid">\n                        <i class="fa fa-plus"></i>\n                      </button>\n                    </ng-form>\n                  </li>\n                </ul>\n              </div>\n\n              <div class="form-group top-buffer-1">\n                <button class="btn btn-primary" type="button" ng-click="vm.updateProductPricing(pricingPlan)" ng-disabled="vm.isLoading || vm.pricing_plan_form.$invalid">\n                  save\n                </button>\n                <button class="btn btn-default" ng-click="vm.cancelPricingPlan(pricingPlan)" ng-disabled="">\n                  cancel\n                </button>\n              </div>\n            </div>\n          </li>\n        </ul>\n      </mno-section>\n    </mno-widget-body>\n  </mno-widget>\n\n  \x3c!-- File upload section --\x3e\n  <mno-widget icon="fa-tag" heading="{{\'mnoe_admin_panel.dashboard.product.file_upload\' | translate}}" is-loading="vm.isLoading">\n    <mno-widget-header></mno-widget-header>\n    <mno-widget-body>\n      \x3c!-- Logo upload --\x3e\n      <mno-section heading="{{\'mnoe_admin_panel.dashboard.product.logo_upload\' | translate}}">\n        <form name="vm.formLogo">\n          <mno-image-selector ng-model="vm.product.logo" default-preview="{{vm.product.logo.url}}" max-size="\'5MB\'">\n            <a href ng-click="vm.deleteLogo()" class="close" ng-show="vm.product.logo">\n              <i class="fa fa-times"></i>\n            </a>\n          </mno-image-selector>\n          <button class="btn btn-primary top-buffer-1" ng-click="vm.uploadLogo(vm.product.logo, vm.formLogo)" ng-show="vm.formLogo.$dirty" translate>mnoe_admin_panel.dashboard.product.submit\n          </button>\n        </form>\n      </mno-section>\n\n      \x3c!-- Screenshots upload --\x3e\n      <mno-section heading="{{\'mnoe_admin_panel.dashboard.product.screenshots_upload\' | translate}}">\n        <mno-image-manager assets="vm.product.assets_attributes" field-name="\'Screenshots\'" upload-uri="\'/mnoe/jpi/v1/admin/products/\' + vm.product.id + \'/assets\'" delete-cb="vm.deleteLogo">\n        </mno-image-manager>\n      </mno-section>\n    </mno-widget-body>\n  </mno-widget>\n</div>\n'),n.put("app/views/products/products.html",'<div class="row">\n  <div class="col-xs-8 col-lg-offset-1 top-buffer-1">\n    <a class="btn btn-large btn-primary" ng-click="vm.createProduct()" translate>mnoe_admin_panel.dashboard.products.create_new_product</a>\n  </div>\n</div>\n<div class="row">\n  <div class="col-lg-10 col-lg-offset-1 col-md-12">\n    <mnoe-products-list></mnoe-products-list>\n  </div>\n</div>\n'),n.put("app/views/provisioning/confirm.html",'<div id="provisioning-confirm">\n  <mno-widget is-loading="vm.isLoading" icon="fa-sitemap" heading="{{\'mnoe_admin_panel.dashboard.provisioning.confirm.title\' | translate}}">\n    <mno-widget-header>\n      <div class="breadcrumb-info">\n        <ol class="breadcrumb">\n          <li class="breadcrumb-item active">- {{ vm.subscription.product.name }}</li>\n          <li class="breadcrumb-item active">{{ vm.subscription.product_pricing.name }}</li>\n        </ol>\n      </div>\n    </mno-widget-header>\n    <mno-widget-body class="no-padding">\n      <table class="table table-striped" ng-show="(vm.singleBilling && vm.billedLocally) || vm.subscription.product.product_type != \'application\'">\n        <thead>\n        <tr>\n          <th>{{ \'mnoe_admin_panel.dashboard.provisioning.confirm.name\' | translate }}</th>\n          <th>{{ \'mnoe_admin_panel.dashboard.provisioning.confirm.description\' | translate }}</th>\n          <th style="width: 25%">{{ \'mnoe_admin_panel.dashboard.provisioning.confirm.price\' | translate }}</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr>\n          <td>{{ vm.subscription.product_pricing.name }}</td>\n          <td>{{ vm.subscription.product_pricing.description }}</td>\n          <td>\n            <span ng-show="vm.pricedPlan(vm.subscription.product_pricing)" ng-repeat="price in vm.subscription.product_pricing.prices | filterBy: [\'currency\']: vm.orgCurrency" class="badge">\n              {{ price.currency }} {{ price.price_cents / 100 }}\n            </span>\n            <span ng-show="vm.subscription.product_pricing.pricing_type == \'recurring\'">\n              / {{ vm.subscription.product_pricing.per_unit }} / {{ vm.subscription.product_pricing.per_duration }}\n            </span>\n            <span ng-show="vm.subscription.product_pricing.pricing_type == \'payg\'">\n              {{ \'mnoe_admin_panel.dashboard.provisioning.order.pricing_type.payg\' | translate }}\n            </span>\n            <span ng-show="vm.subscription.product_pricing.pricing_type == \'free\'">\n              {{ \'mnoe_admin_panel.dashboard.provisioning.order.pricing_type.free\' | translate }}\n            </span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n\n      <table class="table table-striped" ng-show="vm.subscription.product.product_type == \'application\'">\n        <thead>\n        <tr>\n          <th>{{ \'mnoe_admin_panel.dashboard.provisioning.confirm.pricing_info.title\' | translate }}</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr>\n          <td>\n            <span ng-hide="vm.singleBilling">\n              {{ \'mnoe_admin_panel.dashboard.provisioning.confirm.pricing_info.single_billing_disabled\' | translate }}\n            </span>\n            <span ng-show="vm.singleBilling && !vm.billedLocally">\n              {{ \'mnoe_admin_panel.dashboard.provisioning.confirm.pricing_info.externally_managed\' | translate }}\n            </span>\n            <span ng-show="vm.singleBilling && vm.billedLocally">\n              {{ \'mnoe_admin_panel.dashboard.provisioning.confirm.pricing_info.billed_locally\' | translate }}\n            </span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </mno-widget-body>\n  </mno-widget>\n\n  <span class="pull-right top-buffer-1">\n    <button class="btn btn-primary" ng-click="vm.editOrder()" translate>\n      mnoe_admin_panel.dashboard.provisioning.confirm.edit_order\n    </button>\n    <button class="btn btn-warning" ng-click="vm.validate()" ng-disabled="vm.isLoading">\n      <span ng-show="vm.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>\n      <span translate>mnoe_admin_panel.dashboard.provisioning.confirm.validate</span>\n    </button>\n  </span>\n</div>\n'),n.put("app/views/provisioning/details.html",'<div id="provisioning-details">\n  <mno-widget is-loading="vm.isLoading" icon="fa-sitemap" heading="{{\'mnoe_admin_panel.dashboard.provisioning.details.title\' | translate}}">\n    <mno-widget-header>\n      <div class="breadcrumb-info">\n        <ol class="breadcrumb">\n          <li class="breadcrumb-item active">- {{ vm.subscription.product.name }}</li>\n          <li class="breadcrumb-item active">{{ vm.subscription.product_pricing.name }}</li>\n        </ol>\n      </div>\n    </mno-widget-header>\n    <mno-widget-body>\n      <form name="vm.detailsForm" ng-submit="vm.submit(vm.detailsForm)" sf-schema="vm.schema" sf-form="vm.form" sf-model="vm.model"></form>\n    </mno-widget-body>\n  </mno-widget>\n\n  <button ng-click="vm.submit(vm.detailsForm)" ng-disabled="(vm.detailsForm.$pristine && !vm.isEditMode) || vm.detailsForm.$invalid" class="btn btn-primary pull-right top-buffer-1 bottom-buffer-1" translate>\n    mnoe_admin_panel.dashboard.provisioning.details.next\n  </button>\n</div>\n'),n.put("app/views/provisioning/layout.html",'<div id="provisioning-layout">\n  <nav>\n    <a class="breadcrumb-item" ui-sref="dashboard.provisioning.order" ui-sref-active="active">\n      <span class="badge">1</span>\n      <span class="title" translate>mnoe_admin_panel.dashboard.provisioning.breadcrumb.order</span>\n    </a>\n    <a class="breadcrumb-item" ui-sref="dashboard.provisioning.additional_details" ui-sref-active="active">\n      <span class="badge">2</span>\n      <span class="title" translate>mnoe_admin_panel.dashboard.provisioning.breadcrumb.additional_details</span>\n    </a>\n    <a class="breadcrumb-item" ui-sref="dashboard.provisioning.confirm" ui-sref-active="active">\n      <span class="badge">3</span>\n      <span class="title" translate>mnoe_admin_panel.dashboard.provisioning.breadcrumb.confirm</span>\n    </a>\n    <a class="breadcrumb-item" ui-sref="dashboard.provisioning.order_summary" ui-sref-active="active">\n      <span class="badge">4</span>\n      <span class="title" translate>mnoe_admin_panel.dashboard.provisioning.breadcrumb.order_summary</span>\n    </a>\n  </nav>\n\n  <div class="container-provisioning" ui-view></div>\n</div>\n'),n.put("app/views/provisioning/order.html",'<div id="provisioning-order">\n  <mno-widget is-loading="vm.isLoading" icon="fa-sitemap" heading="{{\'mnoe_admin_panel.dashboard.provisioning.order.title\' | translate}}">\n    <mno-widget-header>\n      <div class="breadcrumb-info">\n        <ol class="breadcrumb">\n          <li class="breadcrumb-item active">- {{ vm.subscription.product.name }}</li>\n        </ol>\n      </div>\n    </mno-widget-header>\n    <mno-widget-body class="no-padding">\n      <table class="table table-striped">\n        <thead>\n        <tr>\n          <th></th>\n          <th>{{ \'mnoe_admin_panel.dashboard.provisioning.order.name\' | translate }}</th>\n          <th>{{ \'mnoe_admin_panel.dashboard.provisioning.order.description\' | translate }}</th>\n          <th style="width: 25%">{{ \'mnoe_admin_panel.dashboard.provisioning.order.price\' | translate }}</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr ng-if="vm.subscription.product.product_pricings.length === 0">\n          <td colspan="4" class="text-center">{{ \'mnoe_admin_panel.dashboard.provisioning.order.no_pricing_found\' | translate }}</td>\n        </tr>\n        <tr ng-repeat="pricingPlan in vm.subscription.product.product_pricings" ng-click="vm.subscription.product_pricing = pricingPlan">\n          <td><input type="radio" name="optradio" ng-model="vm.subscription.product_pricing.id" ng-value="pricingPlan.id"></td>\n          <td>{{ pricingPlan.name }}</td>\n          <td>{{ pricingPlan.description }}</td>\n          <td>\n            <span ng-show="vm.pricedPlan(pricingPlan)" ng-repeat="price in pricingPlan.prices | filterBy: [\'currency\']: vm.orgCurrency" class="badge">\n              {{ price.currency }} {{ price.price_cents / 100 }}\n            </span>\n            <span ng-show="pricingPlan.pricing_type == \'recurring\'">\n              / {{ pricingPlan.per_unit }} / {{ pricingPlan.per_duration }}\n            </span>\n            <span ng-show="pricingPlan.pricing_type == \'payg\'">\n              {{ \'mnoe_admin_panel.dashboard.provisioning.order.pricing_type.payg\' | translate }}\n            </span>\n            <span ng-show="pricingPlan.pricing_type == \'free\'">\n              {{ \'mnoe_admin_panel.dashboard.provisioning.order.pricing_type.free\' | translate }}\n            </span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </mno-widget-body>\n  </mno-widget>\n\n  <button class="btn btn-primary top-buffer-1 pull-right" ng-click="vm.next(vm.subscription)" ng-hide="vm.isLoading" ng-disabled="!vm.subscription.product_pricing" translate>\n    mnoe_admin_panel.dashboard.provisioning.order.next\n  </button>\n</div>\n'),n.put("app/views/provisioning/summary.html",'<div id="provisioning-summary">\n  <mno-widget is-loading="vm.isLoading" icon="fa-sitemap" heading="{{\'mnoe_admin_panel.dashboard.provisioning.summary.title\' | translate}}">\n    <mno-widget-header>\n      <div class="breadcrumb-info">\n        <ol class="breadcrumb">\n          <li class="breadcrumb-item active">- {{ vm.subscription.product.name }}</li>\n          <li class="breadcrumb-item active">{{ vm.subscription.product_pricing.name }}</li>\n        </ol>\n      </div>\n    </mno-widget-header>\n    <mno-widget-body class="no-padding">\n      <table class="table table-striped" ng-show="vm.subscription.product_pricing">\n        <thead>\n        <tr>\n          <th>{{ \'mnoe_admin_panel.dashboard.provisioning.summary.name\' | translate }}</th>\n          <th>{{ \'mnoe_admin_panel.dashboard.provisioning.summary.description\' | translate }}</th>\n          <th style="width: 25%">{{ \'mnoe_admin_panel.dashboard.provisioning.summary.price\' | translate }}</th>\n        </tr>\n        </thead>\n        <tbody>\n        <tr>\n          <td>{{ vm.subscription.product_pricing.name }}</td>\n          <td>{{ vm.subscription.product_pricing.description }}</td>\n          <td>\n            <span ng-show="vm.pricedPlan(vm.subscription.product_pricing)" ng-repeat="price in vm.subscription.product_pricing.prices | filterBy: [\'currency\']: vm.orgCurrency" class="badge">\n              {{ price.currency }} {{ price.price_cents / 100 }}\n            </span>\n            <span ng-show="vm.subscription.product_pricing.pricing_type == \'recurring\'">\n              / {{ vm.subscription.product_pricing.per_unit }} / {{ vm.subscription.product_pricing.per_duration }}\n            </span>\n            <span ng-show="vm.subscription.product_pricing.pricing_type == \'payg\'">\n              {{ \'mnoe_admin_panel.dashboard.provisioning.order.pricing_type.payg\' | translate }}\n            </span>\n            <span ng-show="vm.subscription.product_pricing.pricing_type == \'free\'">\n              {{ \'mnoe_admin_panel.dashboard.provisioning.order.pricing_type.free\' | translate }}\n            </span>\n          </td>\n        </tr>\n        </tbody>\n      </table>\n    </mno-widget-body>\n  </mno-widget>\n\n  <button class="btn btn-primary pull-right top-buffer-1" ui-sref="dashboard.customers.organization({orgId: vm.subscription.organization_id})" translate>\n    mnoe_admin_panel.dashboard.provisioning.summary.back_to_organization\n  </button>\n</div>\n'),n.put("app/views/questions/questions.html",'<div class="row">\n  <div class="col-lg-10 col-lg-offset-1 col-md-12">\n    <mnoe-questions-list></mnoe-questions-list>\n  </div>\n</div>'),n.put("app/views/reviews/reviews.html",'<div class="row">\n  <div class="col-lg-10 col-lg-offset-1 col-md-12">\n    <mnoe-reviews-list></mnoe-reviews-list>\n  </div>\n</div>\n'),n.put("app/views/staff/staff.html",'<div class="row">\n  <div class="col-xs-12">\n    <h1 translate><i class="fa fa-user"></i>mnoe_admin_panel.dashboard.staff.staff_info</h1>\n    <mno-widget is-loading="!vm.staff" icon="fa-users" heading="{{vm.staff.name + \' \' + vm.staff.surname}}">\n      <mno-widget-header></mno-widget-header>\n      <mno-widget-body>\n        <div class="row">\n          <div class="col-md-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.staff.uid</div></div>\n          <div class="col-md-3">{{vm.staff.uid}}</div>\n        </div>\n        <div class="row">\n          <div class="col-md-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.staff.name</div></div>\n          <div class="col-md-3">\n            <input type="text" class="form-control input-sm" ng-model="vm.staff.name" required>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-md-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.staff.surname</div></div>\n          <div class="col-md-3">\n            <input type="text" class="form-control input-sm" ng-model="vm.staff.surname" required>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-md-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.staff.email</div></div>\n          <div class="col-md-3">{{vm.staff.email}}</div>\n        </div>\n        <div class="row">\n          <div class="col-sm-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.staff.admin_role</div></div>\n          <div class="col-md-3">\n            <span ng-if="!vm.isAdmin">{{vm.staff.adminRoleName() | translate}}</span>\n            <select ng-model="vm.staff.admin_role" ng-if="vm.isAdmin" class="form-control input-sm">\n              <option value="{{role.value}}" ng-repeat="role in vm.adminRoles">{{ role.label | translate }}</option>\n            </select>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-sm-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.staff.created_at</div></div>\n          <div class="col-sm-3">{{vm.staff.created_at | amCalendar }}</div>\n        </div>\n        <div class="row">\n          <div class="col-sm-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.staff.updated_at</div></div>\n          <div class="col-sm-3">{{vm.staff.updated_at | amCalendar }}</div>\n        </div>\n        <div class="row" ng-if="vm.isSubTenantEnabled">\n          <div class="col-sm-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.staff.sub_tenant</div></div>\n          <div class="col-sm-3" ng-show="vm.subTenants">\n            <span ng-if="!vm.isAdmin">{{vm.staff.subTenantName()}}</span>\n\n            <select ng-if="vm.isAdmin" ng-options="subtenant.id as subtenant.name for subtenant in vm.subTenants" class="form-control input-sm" ng-model="vm.staff.mnoe_sub_tenant_id">\n              <option value=""></option>\n            </select>\n          </div>\n        </div>\n        <div class="row">\n          <div class="col-sm-3">\n            <button class="btn btn-primary" ng-show="vm.staff" ng-disabled="vm.isSaving" ng-click="vm.updateStaff()" translate>\n              <span ng-show="vm.isSaving"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>\n              mnoe_admin_panel.dashboard.staff.update_staff\n            </button>\n          </div>\n        </div>\n      </mno-widget-body>\n    </mno-widget>\n\n    <div class="bs-row" ng-if="vm.staff && vm.staff.admin_role_was ==\'staff\' && vm.isAccountManagerEnabled">\n      <div class="col-sm-12">\n        <h2><i class="fa fa-users"></i> Clients</h2>\n        <button class="btn btn-primary center-block" ng-show="vm.staff" ng-click="vm.updateClientsModal()" translate>mnoe_admin_panel.dashboard.staff.add_remove_clients</button>\n        <mnoe-organizations-local-list list="vm.staff.clients" view="all"></mnoe-organizations-local-list>\n      </div>\n    </div>\n  </div>\n</div>\n'),n.put("app/views/staffs/staffs.html",'<div class="row">\n  <div class="col-xs-8 col-lg-offset-1 top-buffer-1">\n    <button role="button" ng-click="vm.staff.createModal()" class="btn btn-primary" translate>\n      mnoe_admin_panel.dashboard.staffs.add_staff\n    </button>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-lg-10 col-lg-offset-1 col-md-12">\n    <mnoe-staffs-list view="all"></mnoe-staffs-list>\n  </div>\n</div>\n'),
n.put("app/views/sub-tenant/sub-tenant.html",'<div class="row">\n  <div class="col-xs-12">\n    <h1 translate><i class="fa fa-institution"></i>mnoe_admin_panel.dashboard.sub_tenant.sub_tenant_info</h1>\n    <mno-widget is-loading="!vm.subTenant" icon="fa-sitemap" heading="{{vm.subTenant.name}}">\n      <mno-widget-header></mno-widget-header>\n      <mno-widget-body>\n        <div class="row">\n          <div class="col-md-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.sub_tenant.name</div></div>\n          <div class="col-md-3">{{::vm.subTenant.name}}</div>\n        </div>\n        <div class="row">\n          <div class="col-sm-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.sub_tenant.created_at</div></div>\n          <div class="col-sm-3">{{vm.subTenant.created_at | amCalendar }}</div>\n        </div>\n        <div class="row">\n          <div class="col-sm-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.sub_tenant.updated_at</div></div>\n          <div class="col-sm-3">{{vm.subTenant.updated_at | amCalendar}}</div>\n        </div>\n      </mno-widget-body>\n    </mno-widget>\n\n    <div class="bs-row">\n      <div class="col-sm-6">\n        <h2 translate><i class="fa fa-users"></i>mnoe_admin_panel.dashboard.sub_tenant.clients</h2>\n        <button class="btn btn-primary center-block" ng-show="vm.subTenant" ng-click="vm.updateClientsModal()" translate>mnoe_admin_panel.dashboard.sub_tenant.add_remove_clients</button>\n        <mnoe-organizations-local-list list="vm.subTenant.clients" view="all"></mnoe-organizations-local-list>\n      </div>\n      <div class="col-sm-6"><h2 translate><i class="fa fa-users"></i> mnoe_admin_panel.dashboard.sub_tenant.account_managers</h2>\n        <button class="btn btn-primary center-block" ng-show="vm.subTenant" ng-click="vm.updateAccountManagerModal()" translate>mnoe_admin_panel.dashboard.sub_tenant.add_remove_account_managers</button>\n        <mnoe-staffs-local-list list="vm.subTenant.account_managers" view="all"></mnoe-staffs-local-list>\n      </div>\n    </div>\n\n  </div>\n</div>\n'),n.put("app/views/sub-tenants/sub-tenants.html",'<div class="row">\n  <div class="col-xs-8 col-lg-offset-1 top-buffer-1">\n    <button role="button" ng-click="vm.createModal()" class="btn btn-primary" translate>\n      mnoe_admin_panel.dashboard.sub_tenants.create_sub_tenant.title\n    </button>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-lg-10 col-lg-offset-1 col-md-12">\n    <mnoe-sub-tenants-list></mnoe-sub-tenants-list>\n  </div>\n</div>\n'),n.put("app/views/user/user.html",'<div class="row">\n  <div class="col-xs-12">\n    <h1><i class="fa fa-users"></i>{{\'mnoe_admin_panel.dashboard.user.subtitle\' | translate}}</h1>\n    <div class="panel-group">\n      <div class="panel panel-default top-buffer-2">\n        <div class="panel-heading" ng-show="vm.user">\n          <h3 ng-show="vm.user.name && vm.user.surname" class="panel-title">{{::vm.user.name}} {{::vm.user.surname}}</h3>\n          <h3 ng-show="!vm.user.name && !vm.user.surname" class="panel-title">{{::vm.user.email}}</h3>\n        </div>\n        <div class="panel-body">\n          <mno-loading-ellipsis ng-show="!vm.user"></mno-loading-ellipsis>\n          <div ng-show="vm.user">\n            <div class="row">\n              <div class="col-md-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.user.table.email</div></div>\n              <div class="col-md-3">{{::vm.user.email}}</div>\n            </div>\n            <div class="row">\n              <div class="col-md-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.user.table.uid</div></div>\n              <div class="col-md-3">{{::vm.user.uid}}</div>\n            </div>\n            <div class="row">\n              <div class="col-md-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.user.table.phone</div></div>\n              <div class="col-md-3">{{vm.user.phone || (\'mnoe_admin_panel.dashboard.user.table.phone.none\' | translate)}}</div>\n            </div>\n            <div class="row">\n              <div class="col-sm-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.user.table.created_at</div></div>\n              <div class="col-sm-3">{{vm.user.created_at | amCalendar }}</div>\n            </div>\n            <div class="row">\n              <div class="col-sm-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.user.table.confirmed</div></div>\n              <div class="col-sm-3">{{(vm.user.confirmed_at | amCalendar) || (\'mnoe_admin_panel.dashboard.user.table.never_confirmed\' | translate)}}</div>\n            </div>\n            <div class="row">\n              <div class="col-sm-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.user.table.last_sign_in</div></div>\n              <div class="col-sm-3">{{(vm.user.last_sign_in_at | amCalendar) || (\'mnoe_admin_panel.dashboard.user.table.last_sign_in.never\' | translate)}}</div>\n            </div>\n            <div class="row">\n              <div class="col-sm-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.user.table.number_of_sign_in</div></div>\n              <div class="col-sm-3">{{vm.user.sign_in_count}}</div>\n            </div>\n            <div class="row">\n              <div class="col-sm-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.user.table.failed_attempts</div></div>\n              <div class="col-sm-3">{{vm.user.failed_attempts || (\'mnoe_admin_panel.dashboard.user.table.failed_attempts.none\' | translate)}}</div>\n            </div>\n            <div class="row">\n              <div class="col-sm-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.user.table.password_changed_at</div></div>\n              <div class="col-sm-3">{{vm.user.password_changed_at || (\'mnoe_admin_panel.dashboard.user.table.password_changed_at.never\' | translate)}}</div>\n            </div>\n            <div class="row" ng-show="vm.user.access_locked">\n              <div class="col-sm-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.user.table.locked_at</div></div>\n              <div class="col-sm-3">{{vm.user.locked_at |date: \'dd/MM/yyyy hh:mm\'}}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="panel panel-default">\n        <div class="panel-heading" ng-show="vm.user">\n          <h3 class="panel-title">{{\'mnoe_admin_panel.dashboard.user.geo_information_title\' | translate}}   <i class="fa fa-question-circle" uib-tooltip="{{ \'mnoe_admin_panel.dashboard.user.geo_information.tooltip\' | translate }}"></i></h3>\n        </div>\n        <div class="panel-body">\n          <mno-loading-ellipsis ng-show="!vm.user"></mno-loading-ellipsis>\n          <div ng-show="vm.user">\n            <div class="row">\n              <div class="col-md-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.user.geo_country_code</div></div>\n              <div class="col-md-3">{{vm.user.geo_country_code || (\'mnoe_admin_panel.dashboard.user.geo_country_code.none\' | translate)}}</div>\n            </div>\n            <div class="row">\n              <div class="col-md-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.user.geo_state_code</div></div>\n              <div class="col-md-3">{{vm.user.geo_state_code || (\'mnoe_admin_panel.dashboard.user.geo_state_code.none\' | translate)}}</div>\n            </div>\n            <div class="row">\n              <div class="col-md-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.user.geo_city</div></div>\n              <div class="col-md-3">{{vm.user.geo_city || (\'mnoe_admin_panel.dashboard.user.geo_city.none\' | translate)}}</div>\n            </div>\n            <div class="row">\n              <div class="col-md-3"><div class="label-cell" translate>mnoe_admin_panel.dashboard.user.geo_tz</div></div>\n              <div class="col-md-3">{{vm.user.geo_tz || (\'mnoe_admin_panel.dashboard.user.geo_tz.none\' | translate)}}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="bs-row">\n      <mnoe-impersonate-button wrapper-class-names="col-sm-4 col-sm-offset-4" btn-class-names="btn btn-primary center-block" user="vm.user"></mnoe-impersonate-button>\n      <div class="col-sm-12 top-buffer-2">\n        <mnoe-organizations-local-list list="vm.user.organizations" user="vm.user" view="all"></mnoe-organizations-local-list>\n      </div>\n    </div>\n  </div>\n</div>\n'),n.put("app/views/customers/app-connect-modal/app-connect-modal-myob.html",'<div id="app-connect-modal">\n  <div class="modal-header">\n    <div class="close" type="button" aria-label="{{\'mnoe_admin_panel.dashboard.customers.connect_app.myob.close\' | translate }}" ng-click="vm.close()"></div>\n    <h3 class="modal-title" translate-values="{app_name: vm.app.name}" translate>mnoe_admin_panel.dashboard.customers.connect_app.myob.title</h3>\n  </div>\n  <div class="modal-body">\n    <h4 class="text-center" translate>mnoe_admin_panel.dashboard.customers.connect_app.myob.version.title</h4>\n    <div class="top-buffer-2"></div>\n\n    <form>\n      <input type="hidden" ng-model="vm.form.perform">\n      <div class="top-buffer-1"></div>\n\n      <div class="form-group text-center">\n        <label translate>mnoe_admin_panel.dashboard.customers.connect_app.myob.version.label</label>\n        <select ng-model="vm.form.version" name="version" ng-options="version.value as version.label | translate for version in vm.versions"></select>\n      </div>\n    </form>\n  </div>\n\n  <div class="modal-footer">\n    <button type="submit" class="btn btn-primary" ng-click="vm.connect(vm.form)" translate>mnoe_admin_panel.dashboard.customers.connect_app.myob.connect</button>\n    <button class="btn btn-default" ng-click="vm.close()" translate>mnoe_admin_panel.dashboard.customers.connect_app.myob.cancel</button>\n  </div>\n</div>\n'),n.put("app/views/customers/app-connect-modal/app-connect-modal-xero.html",'<div id="app-connect-modal">\n  <div class="modal-header">\n    <div class="close" type="button" aria-label="{{\'mnoe_admin_panel.dashboard.customers.connect_app.xero.close\' | translate}}" ng-click="vm.close()"></div>\n    <h3 class="modal-title" translate-values="{app_name: vm.app.name}" translate>mnoe_admin_panel.dashboard.customers.connect_app.xero.title</h3>\n  </div>\n\n  <div class="modal-body">\n    <h4 class="text-center" translate>mnoe_admin_panel.dashboard.customers.connect_app.xero.description</h4>\n    <div class="top-buffer-1"></div>\n\n    <form>\n      <input type="hidden" ng-model="vm.form.perform">\n      <div class="top-buffer-2"></div>\n      <div class="form-group text-center">\n        <h5 translate>mnoe_admin_panel.dashboard.customers.connect_app.xero.payroll_description</h5>\n        <label translate>mnoe_admin_panel.dashboard.customers.connect_app.xero.payroll</label>\n        <input type="checkbox" ng-model="vm.payroll" name="extra_params[]">\n      </div>\n      <div class="form-group text-center" ng-if="vm.payroll" ng-cloak="true">\n        <h5 translate>mnoe_admin_panel.dashboard.customers.connect_app.xero.country</h5>\n        <select ng-model="vm.form.xero_country" name="xero_country" ng-options="country.value as country.label | translate for country in vm.countries"></select>\n      </div>\n    </form>\n  </div>\n\n  <div class="modal-footer">\n    <button type="submit" class="btn btn-primary" ng-click="vm.connect(vm.form)" translate>mnoe_admin_panel.dashboard.customers.connect_app.xero.connect</button>\n    <button class="btn btn-default" ng-click="vm.close()" translate>mnoe_admin_panel.dashboard.customers.connect_app.xero.cancel</button>\n  </div>\n</div>\n'),n.put("app/views/customers/batch-upload/batch-upload.html",'<div id="batch-upload" class="top-buffer-1">\n  <div class="row">\n    <div class="col-xs-12">\n      <h1 translate>mnoe_admin_panel.dashboard.customers.batch_upload.batch_upload</h1>\n      <a ui-sref="dashboard.customers" class="text-muted">\n        <i class="fa fa-chevron-left"></i>&nbsp;<span translate>mnoe_admin_panel.dashboard.customers.batch_upload.back</span>\n      </a>\n      \x3c!-- File upload section --\x3e\n      <mno-widget icon="fa-upload" heading="{{\'mnoe_admin_panel.dashboard.customers.batch_upload.file_upload\' | translate}}">\n        <mno-widget-header></mno-widget-header>\n        <mno-widget-body>\n          <div class="row">\n            <div class="col-sm-12">\n              <p translate>mnoe_admin_panel.dashboard.customers.batch_upload.description</p>\n              <button type="button" class="btn btn-secondary" ng-click="vm.downloadExample()" translate>\n                mnoe_admin_panel.dashboard.customers.batch_upload.download_example\n              </button>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-sm-12 top-buffer-1">\n              <p translate>mnoe_admin_panel.dashboard.customers.batch_upload.rules</p>\n              <ul>\n                <li translate>mnoe_admin_panel.dashboard.customers.batch_upload.rule1</li>\n                <li translate>mnoe_admin_panel.dashboard.customers.batch_upload.rule2</li>\n                <li translate>mnoe_admin_panel.dashboard.customers.batch_upload.rule3</li>\n                <li translate>mnoe_admin_panel.dashboard.customers.batch_upload.rule4</li>\n              </ul>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-sm-12 top-buffer-1">\n              <p translate>mnoe_admin_panel.dashboard.customers.batch_upload.select_file</p>\n              <mno-file-uploader max-size="20MB" file-types=".csv" upload-uri="/mnoe/jpi/v1/admin/organizations/batch_import" start-callback="vm.onUploadStart()" success-callback="vm.onUploadSuccess(value)" error-callback="vm.onUploadError(value)">\n              </mno-file-uploader>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-sm-6">\n              <div ng-show="vm.report.organizations.added.length > 0">\n                <h3 translate>mnoe_admin_panel.dashboard.customers.batch_upload.added_organizations</h3>\n                <mnoe-organizations-local-list list="vm.report.organizations.added" view="all"></mnoe-organizations-local-list>\n              </div>\n              <div ng-show="vm.report.organizations.updated.length > 0">\n                <h3 translate>mnoe_admin_panel.dashboard.customers.batch_upload.updated_organizations</h3>\n                <mnoe-organizations-local-list list="vm.report.organizations.updated" view="all"></mnoe-organizations-local-list>\n              </div>\n            </div>\n            <div class="col-sm-6">\n              <div ng-show="vm.report.users.added.length > 0">\n                <h3 translate>mnoe_admin_panel.dashboard.customers.batch_upload.added_users</h3>\n                <mnoe-users-local-list list="vm.report.users.added" view="all"></mnoe-users-local-list>\n              </div>\n              <div ng-show="vm.report.users.updated.length > 0">\n                <h3 translate>mnoe_admin_panel.dashboard.customers.batch_upload.updated_users</h3>\n                <mnoe-users-local-list list="vm.report.users.updated" view="all"></mnoe-users-local-list>\n              </div>\n            </div>\n          </div>\n          <div ng-show="vm.errors" class="col-sm-12">\n            <h3 translate>mnoe_admin_panel.dashboard.customers.batch_upload.errors</h3>\n            <p translate>mnoe_admin_panel.dashboard.customers.batch_upload.errors_description</p>\n            <ul ng-repeat="e in vm.errors">\n              <li>{{e}}</li>\n            </ul>\n          </div>\n        </mno-widget-body>\n      </mno-widget>\n    </div>\n  </div>\n</div>\n'),n.put("app/views/customers/connect-app/connect-app.html",'<div id="create-step-1">\n  <div class="row">\n    <div class="col-xs-12">\n      <h1 translate>mnoe_admin_panel.dashboard.customers.connect_app.connect_your_customer_apps</h1>\n\n      <mno-widget class="top-buffer-2" is-loading="vm.isLoading" icon="fa-plug fa-cloud" heading="{{\'mnoe_admin_panel.dashboard.customers.connect_app.organization_name_cloud_apps\' | translate:{\'organization_name\': vm.organization.name} }}">\n        <mno-widget-header></mno-widget-header>\n        <mno-widget-body class="no-padding">\n          <table class="table table-layout-fixed">\n            <thead>\n              <tr>\n                <th translate>mnoe_admin_panel.dashboard.customers.connect_app.app</th>\n                <th style="width: 33%;" translate>mnoe_admin_panel.dashboard.customers.connect_app.state</th>\n                <th style="width: 75px;" translate>mnoe_admin_panel.dashboard.customers.connect_app.action</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr ng-repeat="app in vm.organization.active_apps | filter : {stack: \'connector\'}">\n                <td class="nowrap">\n                  <img class="small-app-logo" ng-src="{{::main.trustSrc(app.app_logo)}}" alt="{{ \'mnoe_admin_panel.dashboard.customers.connect_app.alt_app_logo\' | translate:{\'app_name\': app.name} }}">\n                  <span class="app-name">{{::app.name}}</span>\n                </td>\n                <td>\n                  <div ng-show="!vm.mnoAppInstances.isOauthConnected(app)">\n                    <i class="fa fa-exclamation-triangle text-danger"></i>\n                    <span translate>mnoe_admin_panel.dashboard.customers.connect_app.not_connected</span>\n                  </div>\n                  <div ng-show="vm.mnoAppInstances.isOauthConnected(app)">\n                    <i class="fa fa-check-square-o text-success"></i>\n                    <span translate>mnoe_admin_panel.dashboard.customers.connect_app.connected</span>\n                  </div>\n                </td>\n                <td>\n                  <a class="btn-connect" href="" ng-show="!vm.mnoAppInstances.isOauthConnected(app)" ng-click="vm.connectAppInstance(app)" translate>mnoe_admin_panel.dashboard.customers.connect_app.connect</a>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </mno-widget-body>\n      </mno-widget>\n\n      <button type="button" class="btn btn-primary pull-right top-buffer-2" ui-sref="dashboard.customers.organization({ orgId: vm.orgId })">\n        {{\'mnoe_admin_panel.dashboard.customers.connect_app.next\' | translate}} &nbsp;<i class="fa fa-chevron-right"></i>\n      </button>\n    </div>\n  </div>\n</div>\n'),n.put("app/views/customers/create-step-1/create-step-1.html",'<div id="create-step-1">\n  <div class="row">\n    <div class="col-xs-12">\n      <h1 translate>mnoe_admin_panel.dashboard.customers.create_customer.create_customer</h1>\n\n      <form name="vm.form" novalidate>\n        <mno-widget id="org-form" icon="fa-sitemap" heading="{{\'mnoe_admin_panel.dashboard.customers.create_customer.organization_details\' | translate}}" class="top-buffer-2">\n          <mno-widget-header></mno-widget-header>\n          <mno-widget-body>\n            <div class="flex-container flex-center">\n              <div class="form-group flex-50">\n                <label class="control-label" for="organization-name" translate>mnoe_admin_panel.dashboard.customers.create_customer.organization_name</label>\n                <input id="organization-name" name="{{\'mnoe_admin_panel.dashboard.customers.create_customer.name\' | translate}}" type="text" ng-model="vm.organization.name" class="form-control" required>\n                <div ng-messages="vm.form.name.$error" role="alert" ng-if="vm.form.name.$dirty || vm.form.$submitted">\n                  <p ng-message="required" class="text-danger" translate>mnoe_admin_panel.dashboard.customers.create_customer.required.name</p>\n                  <p ng-message="server" class="help-block" translate-value-error="{{ main.errorHandler.errorMessage(\'name\') }}" translate>mnoe_admin_panel.dashboard.customers.create_customer.error.name</p>\n                </div>\n              </div>\n            </div>\n          </mno-widget-body>\n        </mno-widget>\n\n        <mno-widget ng-if="::main.adminConfig.isAppManagementEnabled()" class="top-buffer-2" is-loading="!vm.marketplace" icon="fa-rocket" heading="{{\'mnoe_admin_panel.dashboard.customers.create_customer.select_your_app\' | translate}}">\n          <mno-widget-header>\n            <input type="text" ng-model="vm.appSearch" placeholder="{{\'mnoe_admin_panel.dashboard.customers.create_customer.search\' | translate}}" class="form-control input-sm search-bar">\n          </mno-widget-header>\n          <mno-widget-body>\n            <div class="apps-container">\n              <div class="app-icon" ng-repeat="app in vm.marketplace.apps | filter:{name: vm.appSearch}">\n                <div class="app-icon-wrapper" ng-click="vm.toggleApp(app)">\n                  <div class="checked" ng-show="app.checked">\n                    <i class="fa fa-check fa-5x"></i>\n                  </div>\n                  <img class="app-logo img-thumbnail" ng-src="{{::main.trustSrc(app.logo)}}" alt="{{\'mnoe_admin_panel.dashboard.customers.create_customer.app_logo\' | translate:{\'app\': app.name} }}" title="{{::app.tiny_description}}">\n                </div>\n                <div class="app-title">\n                  {{::app.name}}\n                </div>\n              </div>\n            </div>\n          </mno-widget-body>\n        </mno-widget>\n\n        <button type="submit" class="btn btn-danger pull-right top-buffer-2" ng-click="vm.submitOrganisation()" ng-disabled="vm.isLoading">\n          <span ng-show="vm.isLoading">\n            <i class="fa fa-spinner fa-pulse fa-fw"></i>\n          </span>\n          {{\'mnoe_admin_panel.dashboard.customers.create_customer.create\' | translate}}\n        </button>\n      </form>\n    </div>\n  </div>\n</div>\n'),n.put("app/views/customers/invite-user-modal/invite-user.html",'<div id="create-user">\n  <div class="modal-header">\n    <h3 class="modal-title" translate>mnoe_admin_panel.dashboard.customers.invite_user_modal.invite_a_user</h3>\n  </div>\n\n  <form name="vm.form.user" novalidate>\n    <div class="modal-body">\n      <div class="row">\n        <div class="col-sm-6 col-sm-offset-3">\n          <input type="email" class="form-control input-sm" id="user-email" ng-model="vm.user.email" placeholder="{{\'mnoe_admin_panel.dashboard.customers.invite_user_modal.email\' | translate}}" aria-label="{{\'mnoe_admin_panel.dashboard.customers.invite_user_modal.email\' | translate}}" required>\n        </div>\n      </div>\n    </div>\n  </form>\n\n  <div class="modal-footer">\n    <div class="row actions">\n      <div class="col-xs-12">\n        <button type="button" ng-click="vm.onSubmit()" ng-disabled="vm.isLoading || vm.form.user.$invalid" class="btn btn-primary">\n          <span ng-show="vm.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>\n          {{\'mnoe_admin_panel.dashboard.customers.invite_user_modal.send\' | translate}}\n        </button>\n        <a href="" ng-click="vm.onCancel()"><i class="fa fa-times"></i>{{\'mnoe_admin_panel.dashboard.customers.invite_user_modal.cancel\' | translate}}</a>\n      </div>\n    </div>\n  </div>\n</div>\n'),n.put("app/views/dashboard-templates/modals/delete-dashboard-template-modal.html",'<div id="delete-dashboard-template-modal">\n  <div class="close center" type="button" ng-click="close()"></div>\n  <div class="modal-header">\n    <h3>{{ \'mnoe_admin_panel.dashboard.dashboard_templates.modal.delete_dashboard\' | translate }}</h3>\n  </div>\n  <div class="modal-body">\n    <p>{{ \'mnoe_admin_panel.dashboard.dashboard_templates.modal.are_you_sure\' | translate }}</p>\n  </div>\n  <div class="modal-footer">\n    <div class="row">\n      <div class="col-sm-12">\n        <button class="btn btn-shaded" ng-click="close()" ng-hide="isLoading" ng-disabled="isLoading">{{ \'mnoe_admin_panel.dashboard.dashboard_templates.modal.cancel\' | translate }}</button>\n        <button class="btn btn-danger" ng-click="delete()" ng-disabled="isLoading">\n          <i class="fa fa-spinner fa-pulse loader" ng-if="isLoading"></i>\n          {{ \'mnoe_admin_panel.dashboard.dashboard_templates.modal.delete\' | translate }}\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n'),n.put("app/views/invoices/modals/adjustment-modal.html",'<div class="adjustment-modal">\n  <div class="modal-header">\n    <h3 class="modal-title" translate>mnoe_admin_panel.dashboard.invoice.create_adjustments.create_adjustment</h3>\n  </div>\n  <form name="vm.form.adjustment" novalidate>\n    <div class="modal-body">\n      <div class="row">\n        <div class="col-sm-6">\n          <input type="text" class="form-control input-sm" ng-model="vm.adjustment.description" placeholder="{{\'mnoe_admin_panel.dashboard.invoice.create_adjustments.adjustment_name\' | translate}}" aria-label="name" required>\n        </div>\n        <div class="col-sm-5">\n          <input type="number" currency-cents-input class="form-control input-sm" ng-model="vm.adjustment.price_cents" placeholder="{{\'mnoe_admin_panel.dashboard.invoice.create_adjustments.adjustment_amount\' | translate}}" aria-label="amount" required>\n        </div>\n        <div class="col-sm-1 nopadding text-left">{{vm.adjustment.currency}}</div>\n      </div>\n    </div>\n  </form>\n  <div class="modal-footer">\n    <div class="row actions">\n      <div class="col-xs-12">\n        <button type="button" ng-click="vm.closeModal()" class="btn btn-default">\n          {{ \'mnoe_admin_panel.dashboard.invoice.create_adjustments.cancel\' | translate }}\n        </button>\n        <button type="button" ng-click="vm.addAdjustment()" ng-disabled="vm.isLoading || vm.form.adjustment.$invalid" class="btn btn-primary">\n          <span ng-show="vm.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>\n          {{ \'mnoe_admin_panel.dashboard.invoice.create_adjustments.save\' | translate }}\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n'),n.put("app/views/orders/order-status-info-modal/order-status-info.html",'<div id="order-info">\n  <div class="modal-header">\n    <div class="close" type="button" ng-click="vm.onCancel()"></div>\n    <h3 translate>mnoe_admin_panel.dashboard.provisioning.order.status.info.body.header</h3>\n  </div>\n  <div class="modal-body" translate>mnoe_admin_panel.dashboard.provisioning.order.status.info.body.aborted</div>\n  <div class="modal-footer">\n    <div class="row actions">\n      <div class="col-xs-12">\n        <a href="" ng-click="vm.onCancel()"><i class="fa fa-times"></i>&nbsp;{{ \'mnoe_admin_panel.dashboard.provisioning.order.status.info.close\' | translate}}</a>\n      </div>\n    </div>\n  </div>\n</div>\n'),n.put("app/views/organization/add-app-modal/add-app-modal.html",'<div id="add-app-modal">\n  \x3c!-- Modal Header --\x3e\n  <div class="modal-header">\n    <h3 class="modal-title" translate>mnoe_admin_panel.dashboard.organization.add_app.title</h3>\n    <div class="close" type="button" ng-click="vm.closeModal()"></div>\n  </div>\n  \x3c!-- Modal Body --\x3e\n  <div class="modal-body" style="max-height:{{vm.modal_height}};">\n    <div class="alert alert-danger modal-error" ng-if="vm.displayError">\n      <div class="close" type="button" ng-click="vm.closeError()"></div>\n        <strong translate>mnoe_admin_panel.dashboard.organization.add_app.error</strong>\n        {{\'mnoe_admin_panel.dashboard.organization.add_app.error_message\' | translate:{\'app_list\': vm.ListOfApps} }}\n      </div>\n    <div class="apps-search" ng-if="!vm.loading.modal">\n      <input type="search" ng-model="vm.appSearch" placeholder="{{\'mnoe_admin_panel.dashboard.organization.add_app.search\' | translate}}">\n    </div>\n    <div class="apps-container">\n      <div class="app-loader" ng-if="vm.loading.modal">\n        <i class="fa fa-pulse fa-spinner"></i>\n      </div>\n      <div class="app-icon" ng-repeat="app in vm.marketplace.filtered_apps | filter:{name: vm.appSearch}">\n        <div class="app-icon-wrapper" ng-click="vm.toggleApp(app)" uib-tooltip="{{::app.name}}">\n          <div class="checked" ng-show="app.checked">\n            <i class="fa fa-check fa-5x"></i>\n          </div>\n          <img class="app-logo img-thumbnail" ng-src="{{app.logo}}" alt="{{::app.name}} logo" title="{{::app.tiny_description}}">\n        </div>\n        <div class="app-title" uib-tooltip="{{::app.name}}">\n          {{::app.name}}\n        </div>\n      </div>\n    </div>\n  </div>\n  \x3c!-- Modal Footer --\x3e\n  <div class="modal-footer">\n    <div class="row">\n      <div class="col-md-12">\n        <button ng-click="vm.addApps()" ng-disabled="vm.loading.apps" class="btn btn-primary arrow">\n          <span ng-show="vm.loading.apps"><i class="fa fa-pulse fa-spinner"></i></span>\n          {{\'mnoe_admin_panel.dashboard.organization.add_app.add\' | translate}}\n        </button>\n        <button ng-click="vm.closeModal()" class="btn btn-default" translate>\n          mnoe_admin_panel.dashboard.organization.add_app.cancel\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n'),
n.put("app/views/organization/create-user-modal/create-user.html",'<div id="create-user">\n  <div class="modal-header">\n    <h3 class="modal-title" translate>mnoe_admin_panel.dashboard.organization.create_user.add</h3>\n  </div>\n\n  <form name="vm.form.user" novalidate>\n    <div class="modal-body">\n      <div class="row">\n        <div class="col-sm-6">\n          <input type="text" class="form-control input-sm" id="user-first-name" ng-model="vm.user.name" placeholder="{{\'mnoe_admin_panel.dashboard.organization.create_user.form.first_name\' | translate}}" aria-label="{{\'mnoe_admin_panel.dashboard.organization.create_user.form.first_name\' | translate}}" required>\n        </div>\n        <div class="col-sm-6">\n          <input type="text" class="form-control input-sm" id="user-last-name" ng-model="vm.user.surname" placeholder="{{\'mnoe_admin_panel.dashboard.organization.create_user.form.last_name\' | translate}}" aria-label="{{\'mnoe_admin_panel.dashboard.organization.create_user.form.last_name\' | translate}}" required>\n        </div>\n      </div>\n\n      <div class="row top-buffer-1">\n        <div class="col-sm-6">\n          <input type="phone" class="form-control input-sm" id="user-phone" ng-model="vm.user.phone" placeholder="{{\'mnoe_admin_panel.dashboard.organization.create_user.form.phone\' | translate}}" aria-label="{{\'mnoe_admin_panel.dashboard.organization.create_user.form.phone\' | translate}}">\n        </div>\n\n        <div class="col-sm-6">\n          <input type="email" class="form-control input-sm" id="user-email" ng-model="vm.user.email" placeholder="{{\'mnoe_admin_panel.dashboard.organization.create_user.form.email\' | translate}}" aria-label="{{\'mnoe_admin_panel.dashboard.organization.create_user.form.email\' | translate}}" required>\n        </div>\n      </div>\n\n      <div class="row">\n        <div class="col-sm-6 col-sm-offset-3">\n          <select ng-model="vm.user.role" class="form-control input-sm top-buffer-1" ng-options="role.value as role.label | translate for role in vm.USER_ROLES" required>\n            <option value="" disabled="disabled" selected="selected" style="display: none;" translate>mnoe_admin_panel.dashboard.organization.create_user.form.role</option>\n          </select>\n        </div>\n      </div>\n    </div>\n  </form>\n\n  <div class="modal-footer">\n    <div class="row actions">\n      <div class="col-xs-12">\n        <button type="button" ng-click="vm.onSubmit()" ng-disabled="vm.isLoading || vm.form.user.$invalid" class="btn btn-primary">\n          <span ng-show="vm.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>\n          {{\'mnoe_admin_panel.dashboard.organization.create_user.save\' | translate}}\n        </button>\n        <a href="" ng-click="vm.onCancel()"><i class="fa fa-times"></i>{{\'mnoe_admin_panel.dashboard.organization.create_user.cancel\' | translate}}</a>\n      </div>\n    </div>\n  </div>\n</div>\n'),n.put("app/views/organization/remove-app-modal/remove-app-modal.html",'<div id="remove-app-modal">\n  \x3c!-- Modal Header --\x3e\n  <div class="modal-header">\n    <h3 class="modal-title" translate translate-values="{ app_name: vm.app.name}">mnoe_admin_panel.dashboard.organization.remove_app.title</h3>\n    <div class="close" type="button" ng-click="vm.closeModal()"></div>\n  </div>\n  \x3c!-- Modal Body --\x3e\n  <div class="modal-body">\n    <p translate>mnoe_admin_panel.dashboard.organization.remove_app.description</p>\n  </div>\n  \x3c!-- Modal Footer --\x3e\n  <div class="modal-footer">\n    <div class="row">\n      <div class="col-md-12">\n        <button ng-click="vm.deleteApp()" class="btn btn-danger arrow" ng-disabled="vm.modal.loading">\n          <span ng-show="vm.modal.loading">\n            <i class="fa fa-pulse fa-spinner"></i>\n          </span>\n          {{\'mnoe_admin_panel.dashboard.organization.remove_app.yes\' | translate}}\n        </button>\n        <button ng-click="vm.closeModal()" class="btn btn-default" translate>\n          mnoe_admin_panel.dashboard.organization.remove_app.no\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n'),n.put("app/views/product-markups/create-markup-modal/create-markup.html",'<div id="create-markup">\n  <div class="modal-header">\n    <h3 class="modal-title" translate>mnoe_admin_panel.dashboard.product_markups.add_markup.modal.title</h3>\n  </div>\n\n  <form name="vm.form.markup">\n    <div class="modal-body">\n      <div class="row">\n        <angucomplete-alt id="product-selector" placeholder="{{\'mnoe_admin_panel.dashboard.product_markups.add_markup.modal.search_product\' | translate}}" pause="200" text-searching="{{\'mnoe_admin_panel.dashboard.product_markups.add_markup.modal.search_loading\' | translate}}" selected-object="vm.toggleProductFilter" remote-api-handler="vm.searchProducts" search-fields="name" title-field="name" minlength="1" input-class="form-control form-control-small" class="col-sm-4"></angucomplete-alt>\n\n        <angucomplete-alt id="company-selector" placeholder="{{\'mnoe_admin_panel.dashboard.product_markups.add_markup.modal.search_company\' | translate}}" pause="200" text-searching="{{\'mnoe_admin_panel.dashboard.product_markups.add_markup.modal.search_loading\' | translate}}" selected-object="vm.toggleCompanyFilter" remote-api-handler="vm.searchCompanies" search-fields="name" title-field="name" minlength="1" input-class="form-control form-control-small" class="col-sm-4"></angucomplete-alt>\n        <div class="col-sm-2">\n          <label class="control-label">{{\'mnoe_admin_panel.dashboard.product_markups.add_markup.modal.label.percentage\'|translate}}</label>\n        </div>\n        <div class="col-sm-2">\n          <input type="number" class="form-control input-sm" percentage-input ng-model="vm.markup.percentage" placeholder="{{\'mnoe_admin_panel.dashboard.product_markups.add_markup.modal.placeholder.percentage\' | translate}}" aria-label="{{\'mnoe_admin_panel.dashboard.product_markups.add_markup.modal.placeholder.percentage\' | translate}}" required>\n        </div>\n      </div>\n    </div>\n  </form>\n\n  <div class="modal-footer">\n    <div class="row actions">\n      <div class="col-xs-12">\n        <mno-widget ng-if="vm.isPricing" heading="Offers">\n          <mno-widget-header></mno-widget-header>\n          <mno-widget-body class="no-padding">\n            <div mno-offers-list offers="vm.selectedProdPricings" markup="vm.markup.percentage" class="text-left"></div>\n          </mno-widget-body>\n        </mno-widget>\n        <div ng-class="{ \'top-buffer-4\': vm.isPricing }">\n          <button type="button" class="btn btn-default" ng-click="vm.onCancel()">{{ \'mnoe_admin_panel.dashboard.product_markups.add_markup.modal.cancel\' | translate}}</button>\n          <button type="button" class="btn btn-primary" ng-click="vm.onSubmit()" ng-disabled="vm.isLoading || vm.form.markup.$invalid" class="btn btn-primary">\n            <span ng-show="vm.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>\n            {{\'mnoe_admin_panel.dashboard.product_markups.add_markup.modal.save\' | translate}}\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'),n.put("app/views/product-markups/markup-info-modal/markup-info.html",'<div id="markup-info">\n  <div class="modal-header">\n    <h3 class="modal-title" translate>mnoe_admin_panel.dashboard.product_markups.markup_info.modal.title</h3>\n  </div>\n  <div class="modal-body">\n    <p>Prices are managed through markups: A markup is a monetary amount added to the existing price of a product to calculate what price is shown to a customer.</p>\n    <p>\n      A markup can be added through the following scenarios:\n      - The entire application marketplace - All products and customers\n      - An individual customer - Any product for a single customer\n      - An individual product: A single product for all customers</p>\n    <p>- A combination of product and customers: A specific customer purchasing a specific product\n\n      A markup is never placed atop another markup, to avoid complex pricing.\n\n      Markups are applied as follows:\u2028</p>\n    <p>\n      <b>1. A markup applied to specific products and customers take first priority:</b>\n      When a markup is applied to a specific product and customer, activated during purchase, all other markups impacting the specified product will be ignored. (Case 2, 3 &amp; 4)</p>\n    <p>\n      <b>2. Markups applied to a specific customer are second in priority</b>\n      When no markup is specified for a customer + product (As in Case 1), but a markup is specified for a particular customer, it will be applied to all purchases by this customer. Any other markups impacting the customer or product will be ignored (Case 3 &amp; 4).</p>\n    <p>\n      <b>3. Markups applied to a specific product are third in priority</b></p>\n    <p>When a markup is specified for a particular product, it will be applied for any customers purchasing it who dont already have a customer specific markup (Case 1 &amp; 2). General markups, as shown in case 4, will be ignored.</p>\n    <p>\n      <b>4. General markups have the lowest priority</b>\n      When no markups are specified on a customer or product level, any markups attached to the entire marketplace will be applied to customers purchasing any product.\n    </p>\n  </div>\n  <div class="modal-footer">\n    <div class="row actions">\n      <div class="col-xs-12">\n        <a href="" ng-click="vm.onCancel()"><i class="fa fa-times"></i>{{ \'mnoe_admin_panel.dashboard.product_markups.add_markup.modal.close\' | translate}}</a>\n      </div>\n    </div>\n  </div>\n\n</div>\n'),n.put("app/views/products/modals/delete-product-modal.html",'<div class="modal-header">\n  <div class="close" type="button" ng-click="vm.close()"></div>\n  <h3 class="modal-title" translate>mnoe_admin_panel.dashboard.product.delete.deletion</h3>\n</div>\n<div class="modal-body">\n  <h4 class="text-center">{{ \'mnoe_admin_panel.dashboard.product.delete.are_you_sure\' | translate:{\'product\': vm.product.name} }}</h4>\n  <div class="top-buffer-2"></div>\n</div>\n<div class="modal-footer">\n  <button class="btn btn-default" ng-click="vm.close()" translate>mnoe_admin_panel.dashboard.product.delete.cancel</button>\n  <button class="btn btn-primary" ng-click="vm.delete()" translate>mnoe_admin_panel.dashboard.product.delete.delete</button>\n</div>\n'),n.put("app/views/settings/apps/apps.html",'<div id="settings-apps">\n  <div class="row">\n    <div class="col-xs-12">\n      <mno-widget icon="fa-th-large" heading="{{\'mnoe_admin_panel.dashboard.settings.apps.available_apps\' | translate}}">\n        <mno-widget-header>\n          <div class="pull-right">\n            <div class="apps-filter col-sm-6">\n              <input type="search" ng-model="vm.searchTerm" placeholder="{{\'mnoe_admin_panel.dashboard.settings.apps.search\' | translate}}" ng-change="vm.onSearchChange()">\n            </div>\n            <div ng-if="vm.displayCategories" class="apps-filter col-sm-6">\n              <select class="form-control" ng-model="vm.selectedCategory" ng-options="c for c in vm.categories" ng-change="vm.onCategoryChange(vm.selectedCategory)">\n                <option value="">{{ \'mnoe_admin_panel.dashboard.settings.apps.select_all\' | translate }}</option>\n              </select>\n            </div>\n            \n          </div>\n        </mno-widget-header>\n        <mno-widget-body>\n          <div class="row">\n            <div class="col-sm-12">\n              <div class="row apps-box">\n                <div class="app-wrapper col-xs-3 col-sm-2 col-md-2" ng-repeat="app in vm.filteredApps">\n                  <div class="small-app-card ellipsis" uib-tooltip="{{::app.name}}">\n                    <i class="fa fa-trash app-remove" ng-if="vm.tenantManagement" ng-click="vm.openRemoveAppModal(app, $index)" uib-tooltip="{{\'mnoe_admin_panel.dashboard.organization.remove_app\' | translate:{\'app_name\': app.name} }}" tooltip-append-to-body="true"></i>\n                    <img ng-src="{{::app.logo}}" width="60" class="app-info-modal" ng-click="vm.openInfoModal(app)">\n                    <span>{{::app.name}}</span>\n                  </div>\n                </div>\n                <div ng-if="vm.tenantManagement" class="app-wrapper col-xs-3 col-sm-2 col-md-2">\n                  <div class="small-app-card ellipsis add-app" ng-click="vm.openAddAppModal()">\n                    <span>{{\'mnoe_admin_panel.dashboard.organization.add_an_app\' | translate}}<i class="fa fa-plus"></i></span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </mno-widget-body>\n      </mno-widget>\n    </div>\n  </div>\n</div>\n'),n.put("app/views/settings/domain/domain.html",'<div id="settings-domain">\n  <div class="row">\n    <div class="col-xs-12">\n      <h1 translate>mnoe_admin_panel.dashboard.settings.domain.title</h1>\n\n      <mno-widget id="domain-form" icon="fa-globe" heading="{{\'mnoe_admin_panel.dashboard.settings.domain.domain_name\' | translate}}">\n        <mno-widget-header></mno-widget-header>\n        <mno-widget-body>\n          <form name="vm.form.domain">\n            <div class="alert alert-info">\n              <span><i class="fa fa-info-circle"></i></span>\n              {{\'mnoe_admin_panel.dashboard.settings.domain.notice\' | translate}}\n            </div>\n            <div class="flex-container flex-center">\n              <div class="form-group flex-50">\n                <label class="control-label" for="domain" translate>mnoe_admin_panel.dashboard.settings.domain.domain_name</label>\n                <input id="domain" type="text" ng-model="vm.tenant.domain" class="form-control" required>\n                <div ng-messages="vm.form.domain.$error" role="alert" ng-if="vm.form.domain.$dirty || vm.form.domain.$submitted">\n                  <p ng-message="required" class="text-danger" translate>mnoe_admin_panel.dashboard.settings.domain.required.domain_name</p>\n                </div>\n              </div>\n            </div>\n            <div class="form-group">\n              <button type="submit" class="btn btn-danger top-buffer-2" ng-click="vm.updateDomain()" ng-disabled="vm.isDomainSaving || vm.isLoading || vm.form.domain.$invalid">\n                <span ng-show="vm.isDomainSaving || vm.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>\n                {{\'mnoe_admin_panel.dashboard.settings.domain.save\' | translate}}\n              </button>\n            </div>\n          </form>\n        </mno-widget-body>\n      </mno-widget>\n\n      <mno-widget id="domain-form" icon="fa-lock" heading="{{\'mnoe_admin_panel.dashboard.settings.ssl.title\' | translate}}">\n        <mno-widget-header></mno-widget-header>\n        <mno-widget-body>\n          <form name="vm.form.ssl">\n            <div class="alert alert-warning">\n              <span><i class="fa fa-warning"></i></span>\n              {{\'mnoe_admin_panel.dashboard.settings.ssl.notice\' | translate}}\n            </div>\n            <div class="form-group">\n              <label class="control-label" for="cert-domain" translate>mnoe_admin_panel.dashboard.settings.ssl.domain.title</label>\n              <input id="cert-domain" name="domain" type="text" ng-model="vm.ssl.domain" class="form-control" required>\n              <div ng-messages="vm.form.ssl.domain.$error" role="alert" ng-if="vm.form.ssl.domain.$dirty || vm.form.ssl.$submitted">\n                <p ng-message="required" class="text-danger" translate>mnoe_admin_panel.dashboard.settings.ssl.required.domain</p>\n              </div>\n              <span id="helpBlock" class="help-block" translate>mnoe_admin_panel.dashboard.settings.ssl.domain.help</span>\n            </div>\n            <div class="form-group">\n              <label class="control-label" for="ssl-certificate" translate>mnoe_admin_panel.dashboard.settings.ssl.certificate.title</label>\n              <textarea id="ssl-certificate" name="certificate" class="form-control" ng-model="vm.ssl.certificate" rows="5" required></textarea>\n              <div ng-messages="vm.form.ssl.certificate.$error" role="alert" ng-if="vm.form.ssl.certificate.$dirty || vm.form.ssl.$submitted">\n                <p ng-message="required" class="text-danger" translate>mnoe_admin_panel.dashboard.settings.ssl.required.certificate</p>\n              </div>\n              <span id="helpBlock" class="help-block" translate>mnoe_admin_panel.dashboard.settings.ssl.certificate.help</span>\n            </div>\n            <div class="form-group">\n              <label class="control-label" for="ssl-private-key" translate>mnoe_admin_panel.dashboard.settings.ssl.private_key.title</label>\n              <textarea id="ssl-private-key" name="private_key" class="form-control" ng-model="vm.ssl.private_key" rows="5" required></textarea>\n              <div ng-messages="vm.form.ssl.private_key.$error" role="alert" ng-if="vm.form.ssl.private_key.$dirty || vm.form.ssl.$submitted">\n                <p ng-message="required" class="text-danger" translate>mnoe_admin_panel.dashboard.settings.ssl.required.private_key</p>\n              </div>\n              <span id="helpBlock" class="help-block" translate>mnoe_admin_panel.dashboard.settings.ssl.private_key.help</span>\n            </div>\n            <div class="form-group">\n              <label class="control-label" for="ssl-ca-bundle" translate>mnoe_admin_panel.dashboard.settings.ssl.ca_bundle.title</label>\n              <textarea id="ssl-private-ca-bundle" name="ca_bundle" class="form-control" ng-model="vm.ssl.ca_bundle" rows="5" required></textarea>\n              <div ng-messages="vm.form.ssl.ca_bundle.$error" role="alert" ng-if="vm.form.ssl.ca_bundle.$dirty || vm.form.ssl.$submitted">\n                <p ng-message="required" class="text-danger" translate>mnoe_admin_panel.dashboard.settings.ssl.required.ca_bundle</p>\n              </div>\n              <span id="helpBlock" class="help-block" translate>mnoe_admin_panel.dashboard.settings.ssl.ca_bundle.help</span>\n            </div>\n            <div class="form-group">\n              <button type="submit" class="btn btn-danger top-buffer-2" ng-click="vm.uploadCerts()" ng-disabled="vm.isCertSaving || vm.isLoading || vm.form.ssl.$invalid">\n                <span ng-show="vm.isCertSaving || vm.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>\n                {{\'mnoe_admin_panel.dashboard.settings.ssl.save\' | translate}}\n              </button>\n            </div>\n          </form>\n        </mno-widget-body>\n      </mno-widget>\n    </div>\n  </div>\n</div>\n'),n.put("app/views/settings/general/general.html",'<div id="settings" class="row">\n  <div class="col-lg-10 col-lg-offset-1 col-md-12 top-buffer-1">\n    <a href="/dashboard/theme-previewer.html" target="_self" class="theme-previewer-link pull-right">\n      <i class="fa fa-external-link"></i>\n      {{\'mnoe_admin_panel.dashboard.settings.general.theme_previewer\' | translate}}\n    </a>\n\n    <form name="settingsForm" sf-schema="vm.settingsSchema" sf-form="vm.settingsForm" sf-model="vm.settingsModel" ng-submit="vm.saveSettings()"></form>\n\n    <div class="btn-group bottom-buffer-1">\n      <button ng-repeat-end="" class="btn btn-danger" type="button" ng-disabled="vm.isLoading" ng-click="vm.cancel(settingsForm)">\n        Cancel\n      </button>\n      <button type="button" class="btn btn-primary" ng-click="vm.saveSettings()" ng-disabled="vm.isLoading">\n        <span ng-show="vm.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span> Save\n      </button>\n    </div>\n\n    \x3c!--<div ng-show="settingsForm.$valid">--\x3e\n      \x3c!--<em>Form is valid</em>--\x3e\n    \x3c!--</div>--\x3e\n\n    \x3c!--<div ng-show="settingsForm.$dirty">--\x3e\n      \x3c!--<em>Settings changed</em>--\x3e\n    \x3c!--</div>--\x3e\n\n    \x3c!--<div class="col-md-12 top-buffer-1">--\x3e\n      \x3c!--<pre>{{vm.settingsModel | json : 1}}</pre>--\x3e\n    \x3c!--</div>--\x3e\n  </div>\n</div>\n'),n.put("app/views/settings/plugins/plugins.html",'<div id="settings-plugins" class="row">\n  <div class="col-lg-10 col-lg-offset-1 col-md-12 top-buffer-1">\n\n    <form name="pluginsForm" sf-schema="vm.schema" sf-form="vm.form" sf-model="vm.model">\n    </form>\n\n    <div class="btn-group bottom-buffer-1">\n      <button ng-repeat-end="" class="btn btn-danger" type="button" ng-disabled="vm.isLoading" ng-click="vm.cancel(settingsForm)">\n        Cancel\n      </button>\n      <button type="button" class="btn btn-primary" ng-click="vm.saveSettings()" ng-disabled="vm.isLoading">\n        <span ng-show="vm.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span> Save\n      </button>\n    </div>\n  </div>\n</div>\n'),n.put("app/views/staff/update-staff-clients-modal/update-staff-clients.html",'<div id="sub-tenant-modal">\n  <div class="modal-header">\n    <h3 class="modal-title" translate>mnoe_admin_panel.dashboard.staff.update_staff_clients.title</h3>\n  </div>\n\n  <div class="modal-body">\n    <mno-widget icon="fa-sitemap" heading="{{$ctrl.events.widgetTitle}}" is-loading="vm.organizations.loading">\n      <mno-widget-header>\n        {{ \'mnoe_admin_panel.dashboard.staff.update_staff_clients.title\' | translate}}\n        <input type="text" ng-model="vm.organizations.search" ng-change="vm.searchChange()" placeholder="Search all" class="form-control input-sm search-bar">\n      </mno-widget-header>\n      <mno-widget-body class="no-padding">\n        <table class="table table-layout-fixed">\n          <thead>\n          <tr>\n            <th>Uid</th>\n            <th>Name</th>\n          </tr>\n          </thead>\n          <tbody>\n          <tr ng-repeat="organization in vm.organizations.list">\n            <td>{{::organization.uid}}</td>\n            <td>{{organization.name}}</td>\n            <td><input type="checkbox" ng-model="vm.selectedOrganizations[organization.id]"></td>\n          </tr>\n          </tbody>\n        </table>\n      </mno-widget-body>\n    </mno-widget>\n  </div>\n  <div class="modal-footer">\n    <div class="row actions">\n      <div class="col-xs-12">\n        <button type="button" ng-click="vm.onSubmit()" ng-disabled="vm.isLoading" class="btn btn-primary">\n          <span ng-show="vm.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>\n          Save\n        </button>\n        <a href="" ng-click="vm.onCancel()"><i class="fa fa-times"></i> cancel</a>\n      </div>\n    </div>\n  </div>\n</div>\n'),n.put("app/views/staffs/create-staff-modal/create-staff.html",'<div id="staff-user-modal">\n  <div class="modal-header">\n    <h3 class="modal-title" translate>mnoe_admin_panel.dashboard.staffs.add_staff.modal.title</h3>\n  </div>\n\n  <form name="vm.form.user" novalidate>\n    <div class="modal-body">\n      <div class="row">\n        <div class="col-sm-6">\n          <input type="text" class="form-control input-sm" id="user-first-name" ng-model="vm.user.name" placeholder="{{\'mnoe_admin_panel.dashboard.staffs.add_staff.modal.placeholder.name\' | translate}}" aria-label="{{\'mnoe_admin_panel.dashboard.staffs.add_staff.modal.placeholder.name\' | translate}}" required>\n        </div>\n        <div class="col-sm-6">\n          <input type="text" class="form-control input-sm" id="user-last-name" ng-model="vm.user.surname" placeholder="{{\'mnoe_admin_panel.dashboard.staffs.add_staff.modal.placeholder.surname\' | translate}}" aria-label="{{\'mnoe_admin_panel.dashboard.staffs.add_staff.modal.placeholder.surname\' | translate}}" required>\n        </div>\n      </div>\n\n      <div class="row top-buffer-1">\n        <div class="col-sm-6">\n          <input type="email" class="form-control input-sm" id="user-email" ng-model="vm.user.email" placeholder="{{\'mnoe_admin_panel.dashboard.staffs.add_staff.modal.placeholder.email\' | translate}}" aria-label="{{\'mnoe_admin_panel.dashboard.staffs.add_staff.modal.placeholder.email\' | translate}}" required>\n        </div>\n        <div class="col-sm-6">\n          <select ng-model="vm.user.admin_role" class="form-control input-sm" ng-options="role.value as role.label | translate for role in vm.admin_roles" required>\n            <option value="" disabled="disabled" selected="selected" translate>mnoe_admin_panel.dashboard.staffs.add_staff.modal.placeholder.role</option>\n          </select>\n        </div>\n      </div>\n    </div>\n  </form>\n\n  <div class="modal-footer">\n    <div class="row actions">\n      <div class="col-xs-12">\n        <button type="button" ng-click="vm.onSubmit()" ng-disabled="vm.isLoading || vm.form.user.$invalid" class="btn btn-primary">\n          <span ng-show="vm.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>\n          {{\'mnoe_admin_panel.dashboard.staffs.add_staff.modal.save\' | translate}}\n        </button>\n        <a href="" ng-click="vm.onCancel()"><i class="fa fa-times"></i>{{ \'mnoe_admin_panel.dashboard.staffs.add_staff.modal.cancel\' | translate}}</a>\n      </div>\n    </div>\n  </div>\n</div>\n'),n.put("app/views/sub-tenant/update-account-managers-modal/update-account-managers.html",'<div id="sub-tenant-modal">\n  <div class="modal-header">\n    <h3 class="modal-title" translate>mnoe_admin_panel.dashboard.sub_tenant.select_account_managers.modal.title</h3>\n  </div>\n\n  <div class="modal-body">\n    <rd-widget-body classes="large no-padding"> \x3c!-- loading="staff.loading"  --\x3e\n      <div>\n          <table st-pipe="vm.callServer" st-table="vm.listOfStaff" class="table table-striped">\n            <thead>\n            <tr>\n              <th st-sort="name" class="col-lg-2">Name</th>\n              <th st-sort="surname" class="col-lg-3">Surname</th>\n              <th st-sort="created_at" class="col-lg-3">Creation</th>\n              <th st-sort="admin_role" class="col-lg-3">Role</th>\n            </tr>\n            <tr>\n              <th>\n                <input st-search="name" placeholder="Search for name" class="form-control input-sm search-bar" type="text">\n              </th>\n              <th>\n                <input st-search="surname" placeholder="Search for surname" class="form-control input-sm search-bar" type="text">\n              </th>\n              <th></th>\n              <th>\n                <select st-search="admin_role" class="form-control input-sm">\n                  <option value="" selected="selected" translate>mnoe_admin_panel.dashboard.staffs.widget.list.table.admin_role.all</option>\n                  <option value="{{role.value}}" ng-repeat="role in vm.staff_roles">{{ role.label | translate }}</option>\n                </select>\n              </th>\n            </tr>\n            </thead>\n            <tbody ng-show="vm.staff.loading">\n            <tr>\n              <td colspan="6" class="text-center">Loading ...</td>\n            </tr>\n            </tbody>\n            <tbody ng-show="!vm.staff.loading">\n            <tr ng-repeat="staffElem in vm.listOfStaff">\n              <td>{{staffElem.name}}</td>\n              <td>{{staffElem.surname}}</td>\n              <td>{{staffElem.created_at | date: \'dd/MM/yyyy\'}}</td>\n              <td translate>{{vm.getAdminRoleLabel(staffElem.admin_role)}}</td>\n              <td><input type="checkbox" ng-model="vm.selectedUsers[staffElem.id]"></td>\n            </tr>\n            </tbody>\n          </table>\n      </div>\n    </rd-widget-body>\n  </div>\n\n  <div class="modal-footer">\n    <div class="row actions">\n      <div class="col-xs-12">\n        <button type="button" ng-click="vm.onSubmit()" ng-disabled="vm.isLoading" class="btn btn-primary">\n          <span ng-show="vm.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>\n          Save\n        </button>\n        <a href="" ng-click="vm.onCancel()"><i class="fa fa-times"></i> cancel</a>\n      </div>\n    </div>\n  </div>\n</div>\n'),n.put("app/views/sub-tenant/update-clients-modal/update-clients.html",'<div id="sub-tenant-modal">\n  <div class="modal-header">\n    <h3 class="modal-title" translate>mnoe_admin_panel.dashboard.sub_tenant.select_clients.modal.title</h3>\n  </div>\n\n  <div class="modal-body">\n    <rd-widget>\n      <rd-widget-header icon="fa-sitemap" title="Select Organization">&nbsp;\n        <input type="text" ng-model="vm.organizations.search" ng-change="vm.searchChange()" placeholder="Search all" class="form-control input-sm search-bar">\n      </rd-widget-header>\n      <rd-widget-body loading="vm.organizations.loading" classes="large no-padding">\n        <table class="table table-layout-fixed">\n          <thead>\n          <tr>\n            <th>Uid</th>\n            <th>Name</th>\n          </tr>\n          </thead>\n          <tbody>\n          <tr ng-repeat="organization in vm.organizations.list">\n            <td>{{::organization.uid}}</td>\n            <td>{{organization.name}}</td>\n            <td><input type="checkbox" ng-model="vm.selectedOrganizations[organization.id]"></td>\n          </tr>\n          </tbody>\n        </table>\n      </rd-widget-body>\n    </rd-widget>\n  </div>\n\n  <div class="modal-footer">\n    <div class="row actions">\n      <div class="col-xs-12">\n        <button type="button" ng-click="vm.onSubmit()" ng-disabled="vm.isLoading" class="btn btn-primary">\n          <span ng-show="vm.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>\n          Save\n        </button>\n        <a href="" ng-click="vm.onCancel()"><i class="fa fa-times"></i> cancel</a>\n      </div>\n    </div>\n  </div>\n</div>\n'),n.put("app/views/sub-tenants/create-sub-tenant-modal/create-sub-tenant.html",'<div id="sub-tenant-modal">\n  <div class="modal-header">\n    <h3 class="modal-title" translate>mnoe_admin_panel.dashboard.sub_tenants.create_sub_tenant.title</h3>\n  </div>\n\n  <form name="vm.form.sub-tenant" novalidate>\n    <div class="modal-body">\n      <div class="row">\n        <div class="col-sm-12">\n          <input type="text" class="form-control input-sm" id="sub-tenant-first-name" ng-model="vm.subTenant.name" placeholder="{{\'mnoe_admin_panel.dashboard.sub_tenants.create_sub_tenant.placeholder.name\' | translate}}" aria-label="{{\'mnoe_admin_panel.dashboard.sub_tenants.create_sub_tenant.placeholder.name\' | translate}}" required>\n        </div>\n      </div>\n    </div>\n  </form>\n\n  <div class="modal-footer">\n    <div class="row actions">\n      <div class="col-xs-12">\n        <button type="button" ng-click="vm.onSubmit()" ng-disabled="vm.isLoading || vm.form.subTenant.$invalid" class="btn btn-primary">\n          <span ng-show="vm.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>\n          Save\n        </button>\n        <a href="" ng-click="vm.onCancel()"><i class="fa fa-times"></i> cancel</a>\n      </div>\n    </div>\n  </div>\n</div>\n'),
n.put("app/views/settings/apps/modals/app-infos.html",'<div id="app-info">\n  <div class="close" type="button" aria-label="Close" ng-click="vm.close()"></div>\n  <div class="modal-header">\n    <div class="flex-container top-buffer-1">\n      <div><img class="pull-left" ng-src="{{vm.app.logo}}"></div>\n      <div>\n        <h1 class="app-name">{{vm.app.name}}</h1></div>\n        <mno-app-features app="vm.app"></mno-app-features>\n    </div>\n  </div>\n</div>\n\n<div class="modal-body">\n\n  \x3c!-- Description --\x3e\n  <h4 translate translate-value-name="{{vm.app.name}}">mno_enterprise.templates.settings.apps.modal.app_infos.description</h4>\n  <div class="well top-buffer-1" ng-bind-html="vm.app.description"></div>\n\n  \x3c!-- Screenshots --\x3e\n  <div ng-hide="vm.app.pictures.length == 0" class="well top-buffer-1">\n    <div class="well carousel">\n      <div uib-carousel interval="3000" active="0">\n        <div uib-slide ng-repeat="picture in vm.app.pictures" class="screenshot" index="$index">\n          <img ng-src="{{picture}} " alt="picture">\n        </div>\n      </div>\n    </div>\n  </div>\n\n  \x3c!-- Pricing --\x3e\n  <h4>{{ \'mno_enterprise.templates.settings.apps.modal.app_infos.pricing\' | translate }}</h4>\n  <div class="well top-buffer-1" ng-switch="vm.app.pricing_plans">\n    <ul>\n      <li ng-if="vm.app.free_trial_duration > 0">\n        <b>{{ \'mno_enterprise.templates.settings.apps.modal.app_infos.free_trial_duration\' | translate }}</b>: {{vm.app.free_trial_duration}} {{vm.app.free_trial_unit}}\n      </li>\n      <li ng-repeat="plan in vm.pricing_plans">\n        <b>{{plan.name}}</b>: {{plan.description}}<br>\n        <div ng-hide="PRICING_TYPES[\'unpriced\'].indexOf(plan.pricing_type) == -1">\n          <span>{{plan.currency}}</span>\n          <span ng-show="plan.price.value">{{plan.price.value}}</span>\n          <span ng-hide="plan.price.value">{{plan.price}}</span>\n          <span ng-show="plan.pricing_type == \'recurring\'">{{plan.factor}}</span>\n        </div>\n        <div ng-show="plan.pricing_type == \'payg\'">\n          <span>{{ \'mno_enterprise.templates.settings.apps.modal.app_infos.payg\' | translate }}</span>\n        </div>\n      </li>\n    </ul>\n    <div ng-bind-html="vm.app.pricing_text"></div>\n  </div>\n\n  \x3c!-- Shared Entities --\x3e\n  <h4>{{ \'mno_enterprise.templates.settings.apps.modal.app_infos.shared_entities_title\' | translate }}</h4>\n  <div class="well top-buffer-1">\n    <div class="datasharing-wrapper">\n      <ul ng-if="vm.app.app_shared_entities" class="connec-entities row">\n        <li class="connec-entity col-md-3" ng-repeat="shared_entity in vm.app.app_shared_entities">\n          {{shared_entity.shared_entity_name}}\n          <div class="permission-icons">\n            <span>\n                <i class="fa fa-book">\n                  <i class="fa" ng-class="shared_entity.read ? \'fa-check text-success\' : \'fa-close text-danger \'"></i>\n                </i>\n              </span>\n            <span>\n                <i class="fa fa-pencil">\n                  <i class="fa" ng-class="shared_entity.write ? \'fa-check text-success\' : \'fa-close text-danger \'"></i>\n                </i>\n              </span>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n\n</div>\n')}]);
//# sourceMappingURL=../maps/scripts/app-c41a742ec0.js.map
