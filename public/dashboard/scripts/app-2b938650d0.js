/**
 * mno-enterprise-angular - MnoEnterprise AngularJS Frontend
 * @version v1.1.3
 * @git git@github.com:maestrano/mno-enterprise-angular.git
 */
(function(){angular.module("mnoEnterpriseAngular",["mnoEnterprise.defaultConfiguration","mnoEnterprise.configuration","ngAnimate","ngAria","ngCookies","ngMessages","ngSanitize","ui.router","ui.bootstrap","toastr","restangular","platanus.inflector","xeditable","pascalprecht.translate","maestrano.impac","ngPageTitle","angularMoment","mnoUiElements"])}).call(this),function(){angular.module("mnoEnterpriseAngular").controller("MnoAppInfosCtrl",["$uibModalInstance","app",function(e,a){var n;n=this,n.app=a,n.close=function(){return e.close()}}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("ReviewHistoryModalCtrl",["$uibModalInstance","MnoeMarketplace","review",function(e,a,n){var t;t=this,t.review=n,t.versions=[],t.isLoading=!0,t.closeModal=function(){return e.dismiss("close")},a.getReview(n.app_id,n.id).then(function(e){return t.versions=e.versions,t.isLoading=!1})}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("EditReviewModalCtrl",["$log","$stateParams","$uibModalInstance","toastr","Utilities","MnoeMarketplace","review",function(e,a,n,t,s,o,r){var i;i=this,i.modal={model:{}},i.appRating=r.rating,i.commentMaxLenght=500,i.modal.model.description=r.description,i.modal.cancel=function(){return n.dismiss("cancel")},i.modal.proceed=function(){var l;return i.modal.isLoading=!0,l={description:i.modal.model.description,rating:i.appRating},o.editReview(a.appId,r.id,l).then(function(e){return t.success("mno_enterprise.templates.dashboard.marketplace.show.success_toastr_2"),n.close(e)},function(a){return e.error(a),t.error("mno_enterprise.templates.dashboard.marketplace.show.error_toastr"),s.processRailsError(a)})["finally"](function(){return i.modal.isLoading=!1})}}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("EditQuestionModalCtrl",["$log","$stateParams","$uibModalInstance","toastr","Utilities","MnoeMarketplace","question",function(e,a,n,t,s,o,r){var i;i=this,i.modal={model:{}},i.appRating=r.rating,i.commentMaxLenght=500,i.modal.model.description=r.description,i.modal.model.title="mno_enterprise.templates.dashboard.marketplace.show.edit_question",i.modal.model.placeholder="mno_enterprise.templates.dashboard.marketplace.show.question_placeholder",i.modal.cancel=function(){return n.dismiss("cancel")},i.modal.proceed=function(){var l;return i.modal.isLoading=!0,l={description:i.modal.model.description},o.editQuestion(a.appId,r.id,l).then(function(e){return t.success("mno_enterprise.templates.dashboard.marketplace.show.success_toastr_2"),n.close(e)},function(a){return e.error(a),t.error("mno_enterprise.templates.dashboard.marketplace.show.error_toastr"),s.processRailsError(a)})["finally"](function(){return i.modal.isLoading=!1})}}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("EditCommentModalCtrl",["$log","$stateParams","$uibModalInstance","toastr","Utilities","MnoeMarketplace","object",function(e,a,n,t,s,o,r){var i;i=this,i.modal={model:{}},i.commentMaxLenght=500,i.modal.model.description=r.description,i.modal.model.title="mno_enterprise.templates.dashboard.marketplace.show.edit_comment",i.modal.model.placeholder="mno_enterprise.templates.dashboard.marketplace.show.comment_placeholder",i.modal.cancel=function(){return n.dismiss("cancel")},i.modal.proceed=function(){var l;return i.modal.isLoading=!0,l={description:i.modal.model.description},o.editComment(a.appId,r.id,l).then(function(e){return t.success("mno_enterprise.templates.dashboard.marketplace.show.success_toastr_2"),n.close(e)},function(a){return e.error(a),t.error("mno_enterprise.templates.dashboard.marketplace.show.error_toastr"),s.processRailsError(a)})["finally"](function(){return i.modal.isLoading=!1})}}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("EditAnswerModalCtrl",["$log","$stateParams","$uibModalInstance","toastr","Utilities","MnoeMarketplace","object",function(e,a,n,t,s,o,r){var i;i=this,i.modal={model:{}},i.commentMaxLenght=500,i.modal.model.description=r.description,i.modal.model.title="mno_enterprise.templates.dashboard.marketplace.show.edit_answer",i.modal.model.placeholder="mno_enterprise.templates.dashboard.marketplace.show.answer_placeholder",i.modal.cancel=function(){return n.dismiss("cancel")},i.modal.proceed=function(){var l;return i.modal.isLoading=!0,l={description:i.modal.model.description},o.editAnswer(a.appId,r.id,l).then(function(e){return t.success("mno_enterprise.templates.dashboard.marketplace.show.success_toastr_2"),n.close(e)},function(a){return e.error(a),t.error("mno_enterprise.templates.dashboard.marketplace.show.error_toastr"),s.processRailsError(a)})["finally"](function(){return i.modal.isLoading=!1})}}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("CreateReviewModalCtrl",["$log","$stateParams","$uibModalInstance","toastr","Utilities","MnoeMarketplace","MnoeOrganizations",function(e,a,n,t,s,o,r){var i;i=this,i.modal={model:{}},i.appRating=0,i.commentMaxLenght=500,i.modal.cancel=function(){return n.dismiss("cancel")},i.modal.proceed=function(){var l;return i.modal.isLoading=!0,l={rating:i.appRating,description:i.modal.model.description,organization_id:r.getSelectedId()},o.addAppReview(a.appId,l).then(function(e){return t.success("mno_enterprise.templates.dashboard.marketplace.show.success_toastr"),n.close(e)},function(a){return e.error(a),t.error("mno_enterprise.templates.dashboard.marketplace.show.error_toastr"),s.processRailsError(a)})["finally"](function(){return i.modal.isLoading=!1})}}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("CreateQuestionModalCtrl",["$log","$stateParams","$uibModalInstance","toastr","Utilities","MnoeMarketplace","MnoeOrganizations",function(e,a,n,t,s,o,r){var i;i=this,i.modal={model:{}},i.commentMaxLenght=500,i.modal.cancel=function(){return n.dismiss("cancel")},i.modal.proceed=function(){var l;return i.modal.isLoading=!0,l={description:i.modal.model.description,organization_id:r.getSelectedId()},o.addAppQuestion(a.appId,l).then(function(e){return t.success("mno_enterprise.templates.dashboard.marketplace.show.success_toastr_question"),n.close(e)},function(a){return e.error(a),t.error("mno_enterprise.templates.dashboard.marketplace.show.error_toastr_question"),s.processRailsError(a)})["finally"](function(){return i.modal.isLoading=!1})}}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("CreateCommentModalCtrl",["$log","$stateParams","$uibModalInstance","toastr","Utilities","MnoeMarketplace","MnoeOrganizations","feedback",function(e,a,n,t,s,o,r,i){var l;l=this,l.modal={model:{}},l.appRating=0,l.commentMaxLenght=500,l.modal.cancel=function(){return n.dismiss("cancel")},l.modal.proceed=function(){var c;return l.modal.isLoading=!0,c={description:l.modal.model.description,organization_id:r.getSelectedId(),feedback_id:i.id},o.addAppReviewComment(a.appId,c).then(function(e){return t.success("mno_enterprise.templates.dashboard.marketplace.show.success_toastr_2"),n.close(e)},function(a){return e.error(a),t.error("mno_enterprise.templates.dashboard.marketplace.show.error_toastr"),s.processRailsError(a)})["finally"](function(){return l.modal.isLoading=!1})}}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("CreateAnswerModalCtrl",["$log","$stateParams","$uibModalInstance","toastr","Utilities","MnoeMarketplace","MnoeOrganizations","question",function(e,a,n,t,s,o,r,i){var l;l=this,l.modal={model:{}},l.commentMaxLenght=500,l.questionText=i.description,l.modal.cancel=function(){return n.dismiss("cancel")},l.modal.proceed=function(){var c;return l.modal.isLoading=!0,c={description:l.modal.model.description,organization_id:r.getSelectedId(),question_id:i.id},o.addAppQuestionAnswer(a.appId,c).then(function(e){return t.success("mno_enterprise.templates.dashboard.marketplace.show.success_toastr_answer"),n.close(e)},function(a){return e.error(a),t.error("mno_enterprise.templates.dashboard.marketplace.show.error_toastr_answer"),s.processRailsError(a)})["finally"](function(){return l.modal.isLoading=!1})}}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("MarketplaceChooseOrgaModalCtrl",["$scope","$uibModalInstance","MnoeOrganizations","MnoeCurrentUser","app",function(e,a,n,t,s){var o;e.organizations={},e.current_organization={},e.authorized_organizations={},e.hasAuthorizedOrganizations=!1,e.isLoading=!0,e.app=s,e.current_organization={id:n.selectedId},e.isUserAuthorized=function(a){var t;return t=e.organizations[a].current_user_role,n.role.atLeastAdmin(t)},e.updateUserAuthorization=function(){return e.current_organization.isUserAuthorized=e.isUserAuthorized(e.current_organization.id)},e.addApplication=function(){return e.isLoading=!0,n.purchaseApp(e.app,e.current_organization.id).then(function(e){return a.close(e)})["finally"](function(){return e.isLoading=!1})},e.closeChooseOrgaModal=function(){return a.dismiss()},o=function(a){return _.forEach(a,function(a){return e.organizations[a.id]=a,n.role.atLeastAdmin(a.current_user_role)?e.authorized_organizations[a.id]=a:void 0})},t.get().then(function(a){return o(a.organizations),e.hasAuthorizedOrganizations=!_.isEmpty(e.authorized_organizations),e.isLoading=!1})}])}.call(this),function(){var e;e=["$scope","$window","$uibModal","$q","MnoeOrganizations","MnoeTeams","MnoeAppInstances","Utilities",function(e,a,n,t,s,o,r,i){"ngInject";var l,c,d;return e.isLoading=!0,e.teams=[],e.originalTeams=[],e.appInstances=[],e.initialize=function(a,n){var t;return angular.copy(a,e.teams),angular.copy(a,e.originalTeams),t=_.filter(n,function(e){return"terminated"!==e.status}),angular.copy(t,e.appInstances),e.isLoading=!1},e.isTeamEmpty=function(e){return 0===e.users.length},e.hasTeams=function(){return e.teams.length>0},e.hasApps=function(){return e.appInstances.length>0},e.matrix=c={},c.isLoading=!1,c.hasAccess=function(a,n){return angular.isString(n)&&"all"===n?_.reduce(e.appInstances,function(e,n){return e&&null!=_.find(a.app_instances,function(e){return e.id===n.id})},!0):null!=_.find(a.app_instances,function(e){return e.id===n.id})},c.toggleAccess=function(e,a){var n;return n=c,n.hasAccess(e,a)?n.removeAccess(e,a):n.addAccess(e,a)},c.addAccess=function(a,n){return angular.isString(n)&&"all"===n?(a.app_instances.length=0,angular.copy(e.appInstances,a.app_instances)):null==_.find(a.app_instances,function(e){return e.id===n.id})?a.app_instances.push(n):void 0},c.removeAccess=function(e,a){var n,t;return angular.isString(a)&&"all"===a?e.app_instances.length=0:null!=(n=_.find(e.app_instances,function(e){return e.id===a.id}))?(t=e.app_instances.indexOf(n),e.app_instances.splice(t,1)):void 0},c.addTeam=function(){return l.open()},c.removeTeam=function(e){return d.open(e)},c.compileHash=function(e){return _.reduce(e,function(e,a){return e+=a.id+":",e+=_.sortBy(_.pluck(a.app_instances,"id"),function(e){return e}).join(),e+="::"},"")},c.isChanged=function(){var a;return a=c,a.compileHash(e.teams)!==a.compileHash(e.originalTeams)},c.cancel=function(){return _.each(e.teams,function(a){var n;return n=_.find(e.originalTeams,function(e){return e.id===a.id}),angular.copy(n.app_instances,a.app_instances)})},c.save=function(){var a,n;return n=c,n.isLoading=!0,a=[],_.each(e.teams,function(e){var n;return n=e.app_instances.length>0?e.app_instances:[{}],a.push(o.updateTeamAppInstances(e,n))}),t.all(a).then(function(){},n.errors="",n.updateOriginalTeams(),function(e){return n.errors=i.processRailsError(e[0])})["finally"](function(){return n.isLoading=!1})},c.updateOriginalTeams=function(){return _.each(e.teams,function(a){var n;return n=_.find(e.originalTeams,function(e){return e.id===a.id}),angular.copy(a.app_instances,n.app_instances)})},c.updateTeamName=function(a){var n;return n=_.find(e.teams,function(e){return e.id===a.id}),0===a.name.length?a.name=n.name:o.updateTeamName(a).then(function(){},n.name=a.name,function(){return a.name=n.name})},e.addTeamModal=l={},l.config={instance:{backdrop:"static",templateUrl:"app/views/company/teams/modals/team-add-modal.html",size:"lg",windowClass:"inverse team-add-modal",scope:e}},l.open=function(){var e;return e=l,e.model={},e.$instance=n.open(e.config.instance),e.isLoading=!1},l.close=function(){var e;return e=l,e.$instance.close()},l.isProceedDisabled=function(){var e;return e=l,null==e.model.name||0===e.model.name.length},l.proceed=function(){var e;return e=l,e.isLoading=!0,o.addTeam(e.model).then(function(a){return e.errors="",e.addToScope(a),e.close()},function(a){return e.errors=i.processRailsError(a)})["finally"](function(){return e.isLoading=!1})},l.addToScope=function(a){return e.teams.push(angular.copy(a)),e.originalTeams.push(angular.copy(a))},e.teamDeletionModal=d={},d.config={instance:{backdrop:"static",templateUrl:"app/views/company/teams/modals/team-delete-modal.html",size:"lg",windowClass:"inverse team-delete-modal",scope:e}},d.open=function(e){var a;return a=d,a.team=e,a.$instance=n.open(a.config.instance),a.isLoading=!1,a.errors=""},d.close=function(){var e;return e=d,e.$instance.close()},d.proceed=function(){var e;return e=d,e.isLoading=!0,o.deleteTeam(e.team.id).then(function(a){return e.errors="",e.removeFromScope(e.team),e.close()},function(a){return e.errors=i.processRailsError(a)})["finally"](function(){return e.isLoading=!1})},d.removeFromScope=function(a){var n;return a=_.find(e.teams,function(e){return e.id===a.id}),n=e.teams.indexOf(a),n>=0&&e.teams.splice(n,1),a=_.find(e.originalTeams,function(e){return e.id===a.id}),n=e.originalTeams.indexOf(a),n>=0?e.originalTeams.splice(n,1):void 0},e.$watch(s.getSelectedId,function(a){return null!=a?t.all([o.getTeams(),r.getAppInstances()]).then(function(a){return e.initialize(a[0],a[1])}):void 0})}],angular.module("mnoEnterpriseAngular").directive("dashboardOrganizationTeams",function(){return{restrict:"A",scope:{},templateUrl:"app/views/company/teams/organization-teams.html",controller:e}})}.call(this),function(){var e;e=["$scope","$window","$uibModal","$q","MnoeCurrentUser","MnoeOrganizations","MnoeTeams","MnoeAppInstances","Utilities",function(e,a,n,t,s,o,r,i,l){"ngInject";var c,d;return e.isLoading=!0,e.teams=[],e.initialize=function(a){var n;return n=[],e.canManageTeam()?n=a:_.each(a,function(a){return e.teamHasUser(a,s.user)?n.push(a):void 0}),angular.copy(n,e.teams),e.isLoading=!1},e.isTeamEmpty=function(e){return 0===e.users.length},e.hasTeams=function(){return e.teams.length>0},e.canManageTeam=function(){return o.can.create.member()},e.teamHasUser=function(e,a){return null!=_.find(e.users,function(e){return e.id===a.id})},e.memberAddModal=c={},c.config={instance:{backdrop:"static",templateUrl:"app/views/company/team-list/modals/member-add-modal.html",size:"lg",windowClass:"inverse team-member-add-modal",scope:e}},c.open=function(e){var a;return a=c,a.team=e,a.users=[],a.userList=a.getAvailableUsers(e),a.$instance=n.open(a.config.instance),a.isLoading=!1},c.close=function(){var e;return e=c,e.$instance.close()},c.getAvailableUsers=function(e){var a,n;return n=c,a=[],_.each(o.selected.organization.members,function(n){return null==_.find(e.users,function(e){return e.id===n.id})&&"User"===n.entity?a.push(n):void 0}),a},c.canAddUsers=function(){var e;return e=c,e.userList.length>0},c.hasUser=function(e){var a;return a=c,_.contains(a.users,e)},c.toggleUser=function(e){var a;return a=c,a.hasUser(e)?a.removeUser(e):a.addUser(e)},c.addUser=function(e){var a;return a=c,a.hasUser(e)?void 0:a.users.push(e)},c.removeUser=function(e){var a,n;return n=c,(a=n.users.indexOf(e))>=0?n.users.splice(a,1):void 0},c.proceed=function(){var e;return e=c,e.isLoading=!0,r.addUsers(e.team.id,e.users).then(function(a){return e.errors="",angular.copy(a,e.team.users),e.close()},function(a){return e.errors=l.processRailsError(a)})["finally"](function(){return e.isLoading=!1})},e.memberRemovalModal=d={},d.config={instance:{backdrop:"static",templateUrl:"app/views/company/team-list/modals/member-removal-modal.html",size:"lg",windowClass:"inverse team-member-removal-modal",scope:e}},d.open=function(e,a){var t;return t=d,t.team=e,t.user=a,t.$instance=n.open(t.config.instance),t.isLoading=!1},d.close=function(){var e;return e=d,e.$instance.close()},d.proceed=function(){var e;return e=d,e.isLoading=!0,r.removeUser(e.team.id,e.user).then(function(a){return e.errors="",angular.copy(a,e.team.users),e.close()},function(a){return e.errors=l.processRailsError(a)})["finally"](function(){return e.isLoading=!1})},e.$watch(o.getSelectedId,function(a){return null!=a?r.getTeams().then(function(a){return e.initialize(a)}):void 0}),e.$watch(function(){return r.teams.length},function(a){return null!=a?e.initialize(r.teams):void 0})}],angular.module("mnoEnterpriseAngular").directive("dashboardOrganizationTeamList",function(){return{restrict:"A",scope:{title:"@"},templateUrl:"app/views/company/team-list/team-list.html",controller:e}})}.call(this),function(){var e;e=["$scope","$window","MnoeOrganizations","Utilities",function(e,a,n,t){"ngInject";return e.isLoading=!0,e.model={},e.origModel={},e.forms={},e.initialize=function(a){return angular.copy(a,e.model),angular.copy(a,e.origModel),e.isLoading=!1},e.save=function(){return e.isLoading=!0,n.update(e.model).then(function(a){return e.errors="",angular.copy(a.organization,e.model),angular.copy(a.organization,e.origModel)},function(a){return e.errors=t.processRailsError(a)})["finally"](function(){return e.isLoading=!1})},e.cancel=function(){return angular.copy(e.origModel,e.model),e.errors=""},e.isChanged=function(){return!angular.equals(e.model,e.origModel)},e.isCancelShown=function(){return e.isChanged()},e.isSaveEnabled=function(){var a;return a=e.forms,e.isChanged()&&a.settings.$valid},e.$watch(n.getSelected,function(a){return e.isLoading=!0,null!=a?e.initialize(n.selected.organization):void 0})}],angular.module("mnoEnterpriseAngular").directive("dashboardOrganizationSettings",function(){return{restrict:"A",scope:{},templateUrl:"app/views/company/settings/organization-settings.html",controller:e}})}.call(this),function(){var e;e=["$scope","$uibModal","$sce","MnoeOrganizations","MnoeCurrentUser","MnoeTeams","Utilities",function(e,a,n,t,s,o,r){"ngInject";var i,l,c,d,p;return e.members=[],e.teams=[],e.isLoading=!0,e.initialize=function(a,n){return null==n&&(n=nil),e.members=a,n&&(e.teams=n),e.isLoading=!1,p()},e.editMember=function(a){return e.editionModal.open(a)},e.removeMember=function(a){return e.deletionModal.open(a)},e.inviteMembers=function(){return e.inviteModal.open()},e.isInviteShown=function(){return t.can.create.member()},e.isEditShown=function(a){return e.hasManySuperAdmin||a.email!==s.user.email||"Super Admin"!==e.user_role?t.can.update.member(a):!1},e.isRemoveShown=function(a){return t.can.destroy.member(a,e.hasManySuperAdmin)&&a.email!==s.user.email},e.memberRoleLabel=function(e){return"User"===e.entity?e.role:"Invited ("+e.role+")"},p=function(){return e.hasManySuperAdmin=_.filter(e.members,{role:"Super Admin"}).length>1},d=function(){return e.user_role||(e.user_role=_.find(s.user.organizations,{id:parseInt(t.selectedId)}).current_user_role),"Super Admin"===e.user_role?l.config.roles=["Member","Admin","Super Admin"]:l.config.roles=["Member","Admin"]},e.editionModal=l={},l.config={instance:{backdrop:"static",templateUrl:"app/views/company/members/modals/edition-modal.html",size:"lg",windowClass:"inverse member-edit",scope:e}},d(),l.open=function(e){var n;return n=l,n.member=e,n.selectedRole=e.role,n.$instance=a.open(n.config.instance),n.isLoading=!1,l.member=e},l.close=function(){var e;return e=l,e.$instance.close()},l.select=function(e){return l.selectedRole=e},l.classForRole=function(e){var a;return a=l,e===a.member.role?"btn-info":e===a.selectedRole?"btn-warning":""},l.isChangeDisabled=function(){return l.member.role===l.selectedRole},l.change=function(){var a,n;return n=l,n.isLoading=!0,a={email:n.member.email,role:n.selectedRole},t.updateMember(a).then(function(t){return n.errors="",angular.copy(t,e.members),p(),a.email===s.user.email&&(e.user_role=a.role,d()),n.close()},function(e){return n.errors=r.processRailsError(e)})["finally"](function(){return n.isLoading=!1})},e.deletionModal=i={},i.config={instance:{backdrop:"static",templateUrl:"app/views/company/members/modals/removal-modal.html",size:"lg",windowClass:"inverse member-edit",scope:e}},i.open=function(e){var n;return n=i,n.member=e,n.$instance=a.open(n.config.instance),n.isLoading=!1,n.member=e},i.close=function(){var e;return e=i,e.$instance.close()},i.hasName=function(){var e;return e=i.member,"User"===e.entity&&null!=e.name},i.remove=function(){var a;return a=i,a.isLoading=!0,t.deleteMember(i.member).then(function(n){return a.errors="",angular.copy(n,e.members),a.close()},function(e){return a.errors=r.processRailsError(e)})["finally"](function(){return a.isLoading=!1})},e.inviteModal=c={},c.config={instance:{backdrop:"static",templateUrl:"app/views/company/members/modals/invite-modal.html",size:"lg",windowClass:"inverse member-edit",scope:e},defaultRole:"Member",roles:function(){var e;return e=["Member","Admin"],t.role.isSuperAdmin()&&e.push("Super Admin"),e},teams:function(){return e.teams}},c.open=function(){var e;return e=c,e.$instance=a.open(e.config.instance),e.isLoading=!1,e.members=[],e.userEmails="",e.step="enterEmails",e.roleList=e.config.roles(),e.teamList=e.config.teams(),e.invalidEmails=[]},c.close=function(){var e;return e=c,e.$instance.close()},c.isTeamListShown=function(){return c.teamList.length>0},c.labelForAction=function(){return"enterEmails"===c.step?"Next":"Invite"},c.next=function(){var e;return e=c,"enterEmails"===e.step?c.processEmails():c.inviteMembers()},c.isNextEnabled=function(){var e;return e=c,"defineRoles"===e.step||"enterEmails"===e.step&&e.userEmails.length>0},c.oneValidEmail=function(){var e,a;return a=c,e=!1,_.each(a.userEmails.split("\n"),function(a){return a.match(email_regexp)?e=!0:void 0}),e},c.processEmails=function(){var e;return e=c,e.isLoading=!0,e.members=[],e.invalidEmails=[],_.each(e.userEmails.split("\n"),function(a){var n;return n=/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i,a.match(n)?e.members.push({email:a,role:e.config.defaultRole}):e.invalidEmails.push(a)}),e.isLoading=!1,0===e.invalidEmails.length?e.step="defineRoles":void 0},c.inviteMembers=function(){var a;return a=c,a.isLoading=!0,t.inviteMembers(a.members).then(function(n){return a.errors="",angular.copy(n,e.members),p(),a.close()},function(e){return a.errors=r.processRailsError(e)})["finally"](function(){return a.isLoading=!1})},e.$watch(t.getSelectedId,function(a){return null!=a?o.getTeams().then(function(){return e.initialize(t.selected.organization.members,o.teams)}):void 0})}],angular.module("mnoEnterpriseAngular").directive("dashboardOrganizationMembers",function(){return{restrict:"A",scope:{},templateUrl:"app/views/company/members/organization-members.html",controller:e}})}.call(this),function(){var e;e=["$scope","$window","MnoeOrganizations","PAYMENT_CONFIG",function(e,a,n,t){"ngInject";return e.isLoading=!0,e.invoices=[],e.payment_enabled=!t.disabled,e.$watch(n.getSelected,function(a){return null!=a?e.invoices=n.selected.invoices:void 0})}],angular.module("mnoEnterpriseAngular").directive("dashboardOrganizationInvoices",function(){return{restrict:"A",scope:{},templateUrl:"app/views/company/invoices/organization-invoices.html",controller:e}})}.call(this),function(){var e,a=[].indexOf||function(e){for(var a=0,n=this.length;n>a;a++)if(a in this&&this[a]===e)return a;return-1};e=["$scope","$window","MnoeOrganizations","Miscellaneous","Utilities",function(e,n,t,s,o){"ngInject";var r,i,l;return e.isLoading=!0,e.forms={},e.model={},e.origModel={},e.config={validTitles:["Mr.","Ms.","Mrs.","Miss","Dr.","Sir.","Prof."],validMonths:[1,2,3,4,5,6,7,8,9,10,11,12],validYears:function(){l=[];for(var e=i=r=(new Date).getFullYear(),a=r+20;a>=i?a>=e:e>=a;a>=i?e++:e--)l.push(e);return l}.apply(this),validCountries:s.countries,validCCTypes:["visa","mastercard","amex","jcb"]},e.initialize=function(a){var n;return angular.copy(a,e.model),angular.copy(a,e.origModel),(n=t.selected.organization.payment_restriction)&&(e.config.validCCTypes=_.intersection(e.config.validCCTypes,n)),e.isLoading=!1},e.save=function(){return e.isLoading=!0,t.updateCreditCard(e.model).then(function(a){return e.errors="",angular.copy(a.credit_card,e.model),angular.copy(a.credit_card,e.origModel),e.callback?e.callback():void 0},function(a){return e.errors=o.processRailsError(a)})["finally"](function(){return e.isLoading=!1})},e.cancel=function(){return angular.copy(e.origModel,e.model),e.errors=""},e.isChanged=function(){return!angular.equals(e.model,e.origModel)},e.isCancelShown=function(){return e.isChanged()},e.isSaveEnabled=function(){var a;return a=e.forms,e.isChanged()&&a.billingAddress.$valid&&a.creditCard.$valid},e.isAcceptedCardType=function(){var n;return n=e.getType(),""===n||a.call(e.config.validCCTypes,n)>=0},e.classForIconType=function(a){var n,t;return t=e,n=t.getType(),a!==n&&""!==n&&e.isAcceptedCardType()?"disabled":"enabled"},e.getType=function(){var a,n,t;return t=e,a=t.model.number,null!==a&&void 0!==a?(n=new RegExp("^X"),null!==a.match(n)?"":(n=new RegExp("^4"),null!==a.match(n)?"visa":(n=new RegExp("^(34|37)"),null!==a.match(n)?"amex":(n=new RegExp("^5[1-5]"),null!==a.match(n)?"mastercard":(n=new RegExp("^6(?:011|5[0-9]{2})"),null!==a.match(n)?"discover":(n=new RegExp("(?:2131|1800|35[0-9]{3})"),null!==a.match(n)?"jcb":(n=new RegExp("^3(?:0[0-5]|[68][0-9])"),null!==a.match(n)?"dinersclub":a.length>4?"mastercard":""))))))):""},e.openGodaddySslSeal=function(){var e,a,t,s;return e="779",a="593",s="https://seal.godaddy.com/verifySeal?sealID=RsNWG4eDd3ctNJWJfbeSBjJ6OWCtE3j0OwSXRDYF1WlMAGMqqmX5Kp",t="menubar=no,toolbar=no,personalbar=no,location=yes,status=no,resizable=yes,fullscreen=no,scrollbars=no,width="+a+",height="+e,n.open(s,"SealVerfication",t)},e.$watch(t.getSelected,function(a){return null!=a?e.initialize(t.selected.credit_card):void 0})}],angular.module("mnoEnterpriseAngular").directive("dashboardOrganizationCreditCard",function(){return{restrict:"A",scope:{callback:"&"},templateUrl:"app/views/company/credit-card/organization-credit-card.html",controller:e}})}.call(this),function(){var e;e=["$scope","$window","MnoeOrganizations","PAYMENT_CONFIG",function(e,a,n,t){"ngInject";return e.isCreditShown=function(){var a;return a=e.billing,a&&a.credit&&a.credit.value>0},e.payment_enabled=!t.disabled,e.$watch(n.getSelected,function(a){return null!=a?e.billing=n.selected.billing:void 0})}],angular.module("mnoEnterpriseAngular").directive("dashboardOrganizationBilling",function(){return{restrict:"A",scope:{},templateUrl:"app/views/company/billing/organization-billing.html",controller:e}})}.call(this),function(){var e;e=["$scope","MnoeAuditEvents",function(e,a){"ngInject";return e.isLoading=!0,e.exportUrl=a.exportUrl()}],angular.module("mnoEnterpriseAngular").directive("dashboardOrganizationAuditLog",function(){return{restrict:"A",scope:{},templateUrl:"app/views/company/audit-log/organization-audit-log.html",controller:e}})}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("DashboardAppSettingsModalCtrl",["$scope","MnoConfirm","MnoeOrganizations","$uibModalInstance","MnoeAppInstances","Utilities","app","$window","ImpacMainSvc",function(e,a,n,t,s,o,r,i,l){return e.modal||(e.modal={}),e.app=r,e.sentence="Please proceed to the deletion of my app and all data it contains",e.organization_uid=l.config.currentOrganization.uid,e.helper={},e.helper.canDeleteApp=function(){return n.can.destroy.appInstance()},e.modal.close=function(){return t.close()},e.deleteApp=function(){return e.modal.loading=!0,s.terminate(e.app.id).then(function(){return e.modal.errors=null,t.close()},function(a){return e.modal.errors=o.processRailsError(a)})["finally"](function(){return e.modal.loading=!1})},e.helper.isDataSyncShown=function(e){return"connector"===e.stack&&e.oauth_keys_valid},e.helper.isDataDisconnectShown=function(e){return"connector"===e.stack&&e.oauth_keys_valid},e.helper.dataSyncPath=function(e){return"/mnoe/webhook/oauth/"+e.uid+"/sync"},e.helper.companyName=function(e){return"connector"===e.stack&&e.oauth_keys_valid&&e.oauth_company_name?e.oauth_company_name:!1},e.helper.isAddOnSettingShown=function(e){return e.add_on},e.helper.addOnSettingLauch=function(e){return i.open("/mnoe/launch/"+e.uid+"?settings=true","_blank"),!0},e.helper.dataDisconnectClick=function(e){var n;return n={closeButtonText:"Cancel",actionButtonText:"Disconnect app",headerText:"Disconnect "+e.app_name+"?",bodyText:"Are you sure you want to disconnect "+e.app_name+" and Maestrano?"},a.showModal(n).then(function(){return s.clearCache(),i.location.href="/mnoe/webhook/oauth/"+e.uid+"/disconnect"})}}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("AppDeletionModalCtrl",["$scope","$uibModalInstance","MnoeAppInstances","Utilities","app",function(e,a,n,t,s){return e.modal={app:s,loading:!1,sentence:"Please proceed to the deletion of my app and all data it contains",deleteApp:function(){return e.modal.loading=!0,n.terminate(e.modal.app.id).then(function(n){return e.modal.errors=null,a.close()},function(a){return e.modal.errors=t.processRailsError(a)})["finally"](function(){return e.modal.loading=!1})},cancel:function(){return a.dismiss("cancel")}}}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("DashboardAppConnectXeroModalCtrl",["$scope","$window","$httpParamSerializer","$uibModalInstance","MnoeAppInstances","app",function(e,a,n,t,s,o){e.app=o,e.form={perform:!0,xero_country:"AU"},e.countries=[{name:"Australia",value:"AU"},{name:"USA",value:"US"}],e.connect=function(t){return e.payroll&&(t["extra_params[]"]="payroll"),a.location.href=s.oAuthConnectPath(o)+n(t)},e.close=function(){return t.close()}}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("DashboardAppConnectMyobModalCtrl",["$scope","$window","$httpParamSerializer","$uibModalInstance","MnoeAppInstances","app",function(e,a,n,t,s,o){e.app=o,e.form={perform:!0,version:"essentials"},e.versions=[{name:"Account Right Live",value:"account_right"},{name:"Essentials",value:"essentials"}],e.connect=function(e){return a.location.href=s.oAuthConnectPath(o)+n(e)},e.close=function(){return t.close()}}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("CreateCompanyModalCtrl",["$scope","$uibModalInstance","Utilities","MnoeOrganizations",function(e,a,n,t){return e.modal={model:{}},e.modal.cancel=function(){return a.dismiss("cancel")},e.modal.proceed=function(){var s;return e.modal.isLoading=!0,s={organization:e.modal.model},t.create(s).then(function(n){return delete e.modal.errors,a.close(n)},function(a){return e.modal.errors=n.processRailsError(a)})["finally"](function(){return e.modal.isLoading=!1})}}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("OnboardingStep3Controller",["MnoeOrganizations","MnoeAppInstances",function(e,a){"ngInject";var n;n=this,n.isFetchingAppInstances=!0,a.getAppInstances().then(function(e){return n.appInstances=angular.copy(e),n.nbApps=_.size(n.appInstances),n.nbAppsToConnect=_.size(_.filter(n.appInstances,function(e){return"INSTALLED_CONNECT"===a.installStatus(e)}))})["finally"](function(){return n.isFetchingAppInstances=!1})}])}.call(this),function(){var e=[].indexOf||function(e){for(var a=0,n=this.length;n>a;a++)if(a in this&&this[a]===e)return a;return-1};angular.module("mnoEnterpriseAngular").controller("OnboardingStep2Controller",["$q","$state","$uibModal","MnoeMarketplace","MnoeOrganizations","MnoeAppInstances","DOC_LINKS",function(a,n,t,s,o,r,i){"ngInject";var l,c,d,p;p=this,l=4,p.searchTerm="",p.isLoading=!0,p.connecDocUri=i.connecDoc,p.selectedApps=[],p.appsFilter=function(e){return p.selectedCategory?_.contains(e.categories,p.selectedCategory):!0},d=function(a){var n,t,s,o,r,i;for(i=_.map(_.filter(a.subcategories,"multi_instantiable",!1),"name"),o=p.marketplace.apps,
r=[],n=0,t=o.length;t>n;n++)s=o[n],s!==a&&(_.some(s.subcategories,function(a){var n;return!a.multi_instantiable&&(n=a.name,e.call(i,n)>=0)})?r.push(s.conflictingApp=a):r.push(void 0));return r},p.toggleApp=function(e){return d(e),p.appSelectDisabled(e)?void 0:(e.checked=!e.checked,e.checked?p.selectedApps.push(e):_.remove(p.selectedApps,e),p.maxAppsSelected=p.selectedApps.length===l,c(p.selectedApps))},p.selectedAppConflict=function(a){var n;return n=a.conflictingApp,e.call(p.selectedApps,n)>=0},p.appSelectDisabled=function(e){return!e.checked&&(p.maxAppsSelected||p.selectedAppConflict(e))},p.appSelectDisabledTooltipText=function(e){return p.maxAppsSelected?"mno_enterprise.templates.onboarding.select_your_app.max_apps_selected_tooltip":p.selectedAppConflict(e)?"mno_enterprise.templates.onboarding.select_your_app.conflicting_app_selected_tooltip":void 0},c=function(e){var a,n;return a=[],n=[],_.each(e,function(e){var t;return t=_.map(e.shared_entities,"shared_entity_name"),n=_(n).concat(t).value(),a.push({nid:e.nid,logo:e.logo,name:e.name,entities:t})}),n=_.uniq(n),p.appEntities=a,p.listEntities=n},p.containsEntity=function(e,a){return _.includes(e,a)},p.connectApps=function(){var e,t,s,i;return p.isConnectingApps=!0,t=_.filter(p.marketplace.apps,function(e){return e.checked===!0&&!_.includes(p.originalAppNids,e.nid)}),s=_.filter(p.marketplace.apps,function(e){return e.checked===!1&&_.includes(p.originalAppNids,e.nid)}),e=_.filter(p.appInstances,function(e){return _.includes(_.map(s,"nid"),e.app_nid)}),i=_.map(t,function(e){return o.purchaseApp(e)}),i=_(i).concat(_.map(e,function(e){return r.terminate(e.id)})).value(),a.all(i)["finally"](function(){return r.refreshAppInstances().then(function(){return p.isConnectingApps=!1,n.go("onboarding.step3")})})},p.openInfoModal=function(e){return t.open({templateUrl:"app/views/onboarding/modals/app-infos.html",controller:"MnoAppInfosCtrl",controllerAs:"vm",size:"lg",resolve:{app:e}})},a.all({appInstances:r.getAppInstances(),marketplace:s.getApps()}).then(function(e){return p.appInstances=angular.copy(e.appInstances),p.marketplace=angular.copy(e.marketplace.plain()),p.originalAppNids=_.map(p.appInstances,"app_nid"),_.each(_.filter(p.marketplace.apps,function(e){return _.includes(p.originalAppNids,e.nid)}),function(e){return p.toggleApp(e)})})["finally"](function(){return p.isLoading=!1})}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("OnboardingStep1Controller",["MnoeCurrentUser",function(e){"ngInject";var a;a=this,a.isLoading=!0,e.get().then(function(e){return a.user=e})["finally"](function(){return a.isLoading=!1})}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("OnboardingController",["MnoeCurrentUser",function(e){"ngInject";var a;a=this,a.menu={},a.menu.isClosed=!0,a.menu.toggle=function(){return a.menu.isClosed=!a.menu.isClosed},e.get().then(function(e){return a.user=e})}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("DashboardMarketplaceCtrl",["toastr","MnoeMarketplace","PRICING_CONFIG","MARKETPLACE_CONFIG",function(e,a,n,t){var s;s=this,s.isLoading=!0,s.selectedCategory="",s.searchTerm="",s.isMarketplaceCompare=t.comparison.enabled,s.showCompare=!1,s.nbAppsToCompare=0,s.linkFor=function(e){return"#/marketplace/"+e.id},s.appsFilter=function(e){return null!=s.searchTerm&&s.searchTerm.length>0||!s.selectedCategory?!0:_.contains(e.categories,s.selectedCategory)},s.cancelComparison=function(){return s.showCompare=!1},s.uncheckAllApps=function(){return angular.forEach(s.apps,function(e){return e.toCompare=!1})},s.enableComparison=function(){return s.nbAppsToCompare=0,s.uncheckAllApps(),s.showCompare=!0},s.toggleAppToCompare=function(a){var n;return n=a.toCompare,n&&s.nbAppsToCompare>=4?(e.info("mno_enterprise.templates.dashboard.marketplace.index.toastr.error"),a.toCompare=!1):s.nbAppsToCompare+=n?1:-1},s.canBeCompared=function(){return s.nbAppsToCompare<=4&&s.nbAppsToCompare>=2},a.getApps().then(function(e){return e=e.plain(),s.categories=e.categories,s.displayCategories=s.categories.length>1,s.apps=e.apps,s.isLoading=!1})}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("DashboardMarketplaceCompareCtrl",["$scope","$stateParams","$state","MnoeMarketplace","PRICING_CONFIG","REVIEWS_CONFIG",function(e,a,n,t,s,o){var r,i;i=this,i.isPriceShown=s&&s.enabled,i.isReviewingEnabled=o&&o.enabled,i.isLoading=!0,r=s&&s.currency||"AUD",i.pricing_plans=[r]||"AUD"||"default",t.getApps().then(function(e){return e=e.plain(),i.comparedApps=_.each(_.filter(e.apps,function(e){return e.toCompare===!0}),function(e){return e.average_rating=null!=e.average_rating?parseFloat(e.average_rating).toFixed(1):void 0,!0}),i.isLoading=!1})}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("DashboardMarketplaceAppCtrl",["$q","$scope","$stateParams","$state","$sce","$window","$uibModal","$anchorScroll","$location","toastr","MnoeMarketplace","MnoeOrganizations","MnoeCurrentUser","MnoeAppInstances","MnoConfirm","MnoErrorsHandler","PRICING_CONFIG","REVIEWS_CONFIG","QUESTIONS_CONFIG","ITEMS_PER_PAGE",function(e,a,n,t,s,o,r,i,l,c,d,p,m,u,v,g,b,h,f,w){var y,k,x,A,M,C;C=this,C.isLoading=!0,C.app={},C.searchWord="",C.appInstance=null,C.conflictingApp=null,C.isPriceShown=b&&b.enabled,C.isReviewingEnabled=h&&h.enabled,C.areQuestionsEnabled=f&&f.enabled,C.averageRating=5,C.sortReviewsBy="created_at.desc",C.initialize=function(e,a){var n,t,o;return C.userId=m.user.id,C.adminRole=m.user.admin_role,angular.copy(e,C.app),C.appInstance=a,C.app.description=s.trustAsHtml(e.description),o=C.app.pricing_plans,t=b&&b.currency||"AUD",C.pricing_plans=o[t]||o.AUD||o["default"],p.get().then(function(e){return C.user_role=e.current_user.role}),C.isReviewingEnabled&&(C.reviews={loading:!0,nbItems:5,page:1,pageChangedCb:function(e,a,n){var t;return C.reviews.nbItems=a,C.reviews.page=n,t=(n-1)*a,k(e,a,t,C.sortReviewsBy)}},k(e.id,C.reviews.nbItems,0),M(C.app.average_rating)),C.areQuestionsEnabled&&(C.questions={loading:!0,nbItems:5,page:1,searchWord:"",pageChangedCb:function(e,a,n){var t;return C.questions.nbItems=a,C.questions.page=n,t=(n-1)*a,y(e,a,t,C.questions.searchWord)}},y(e.id,C.questions.nbItems,0)),C.isLoading=!1,C.isTestimonialShown=function(e){return null!=e.text&&e.text.length>0},C.canUserEditReview=function(e){return e.user_id===C.userId&&(parseInt(e.edited_by_id)===e.user_id||!e.edited_by_id)},C.isQuestionsPaginationShown=function(){return!C.questions.loading&&C.questions.totalItems>Math.min.apply(null,w)},C.isReviewsPaginationShown=function(){return!C.reviews.loading&&C.reviews.totalItems>Math.min.apply(null,w)},C.cart=n={isOpen:!1,bundle:{},config:{}},n.open=function(){return n.config.organizationId=p.selectedId,n.bundle={app_instances:[{app:{id:C.app.id}}]},n.isOpen=!0}},C.openCreateReviewModal=function(){var e;return e=r.open({templateUrl:"app/views/marketplace/modals/create-review-modal.html",controller:"CreateReviewModalCtrl",controllerAs:"vm",size:"lg",windowClass:"inverse",backdrop:"static"}),e.result.then(function(e){return C.reviews.totalItems++,C.reviews.pageChangedCb(C.app.id,C.reviews.nbItems,C.reviews.page),M(e.average_rating),A()})},C.scrollToReviews=function(){return a.active=0,l.hash("review-tabs"),i()},C.openEditReviewModal=function(e,a){var n;return n=r.open({templateUrl:"app/views/marketplace/modals/edit-review-modal.html",controller:"EditReviewModalCtrl",controllerAs:"vm",size:"lg",windowClass:"inverse",backdrop:"static",resolve:{review:e}}),n.result.then(function(n){return e=C.reviews.list[a],e.description=n.app_feedback.description,e.rating=n.app_feedback.rating,e.edited=n.app_feedback.edited,e.edited_by_id=n.app_feedback.edited_by_id,M(n.average_rating)})},C.openDeleteReviewModal=function(e,a){var t;return t={headerText:"mno_enterprise.templates.dashboard.marketplace.show.review.delete_modal_header",bodyText:"mno_enterprise.templates.dashboard.marketplace.show.review.delete_modal_body",closeButtonText:"mno_enterprise.templates.dashboard.marketplace.show.review.delete_modal_cancel",actionButtonText:"mno_enterprise.templates.dashboard.marketplace.show.review.delete_modal_delete",actionCb:function(){return d.deleteReview(n.appId,e.id)},type:"danger"},v.showModal(t).then(function(e){return C.reviews.pageChangedCb(C.app.id,C.reviews.nbItems,C.reviews.page),M(e.average_rating),C.reviews.pageChangedCb(C.app.id,C.reviews.nbItems,C.reviews.page=1),A()})},C.openCreateCommentModal=function(e,a){var n;return n=r.open({templateUrl:"app/views/marketplace/modals/create-comment-modal.html",controller:"CreateCommentModalCtrl",controllerAs:"vm",size:"lg",windowClass:"inverse",backdrop:"static",resolve:{feedback:e}}),n.result.then(function(e){return C.reviews.list[a].comments.push(e.app_comment)})},C.openEditCommentModal=function(e,a,n){var t;return t=r.open({templateUrl:"app/views/marketplace/modals/edit-modal.html",controller:"EditCommentModalCtrl",controllerAs:"vm",size:"lg",windowClass:"inverse",backdrop:"static",resolve:{object:e}}),t.result.then(function(t){return e=C.reviews.list[n].comments[a],e.description=t.app_comment.description,e.edited=t.app_comment.edited,e.edited_by_id=t.app_comment.edited_by_id})},C.openDeleteCommentModal=function(e,a,t){var s;return s={headerText:"mno_enterprise.templates.dashboard.marketplace.show.comment.delete_modal_header",bodyText:"mno_enterprise.templates.dashboard.marketplace.show.comment.delete_modal_body",closeButtonText:"mno_enterprise.templates.dashboard.marketplace.show.comment.delete_modal_cancel",actionButtonText:"mno_enterprise.templates.dashboard.marketplace.show.comment.delete_modal_delete",actionCb:function(){return d.deleteComment(n.appId,e.id)},type:"danger"},v.showModal(s).then(function(){return C.reviews.list[t].comments.splice(a,1)})},C.scrollToQuestions=function(){return a.active=1,l.hash("review-tabs"),i()},C.openCreateQuestionModal=function(){var e;return e=r.open({templateUrl:"app/views/marketplace/modals/create-question-modal.html",controller:"CreateQuestionModalCtrl",controllerAs:"vm",size:"lg",windowClass:"inverse",backdrop:"static"}),e.result.then(function(e){return C.questions.list.unshift(e.app_question),C.questions.pageChangedCb(C.app.id,C.questions.nbItems,C.questions.page),x()})},C.openEditQuestionModal=function(e,a){var n;return n=r.open({templateUrl:"app/views/marketplace/modals/edit-modal.html",controller:"EditQuestionModalCtrl",controllerAs:"vm",size:"lg",windowClass:"inverse",backdrop:"static",resolve:{question:e}}),n.result.then(function(e){return C.questions.list[a].description=e.app_question.description})},C.openDeleteQuestionModal=function(e,a){var t;return t={headerText:"mno_enterprise.templates.dashboard.marketplace.show.question.delete_modal_header",bodyText:"mno_enterprise.templates.dashboard.marketplace.show.question.delete_modal_body",closeButtonText:"mno_enterprise.templates.dashboard.marketplace.show.question.delete_modal_cancel",actionButtonText:"mno_enterprise.templates.dashboard.marketplace.show.question.delete_modal_delete",actionCb:function(){return d.deleteQuestion(n.appId,e.id)},type:"danger"},v.showModal(t).then(function(){return C.questions.list.splice(a,1),C.questions.pageChangedCb(C.app.id,C.questions.nbItems,C.questions.page),x()})},C.openCreateAnswerModal=function(e,a){var n;return n=r.open({templateUrl:"app/views/marketplace/modals/create-answer-modal.html",controller:"CreateAnswerModalCtrl",controllerAs:"vm",size:"lg",windowClass:"inverse",backdrop:"static",resolve:{question:e}}),n.result.then(function(e){return C.questions.list[a].answers.push(e.app_answer)})},C.openEditAnswerModal=function(e,a,n){var t;return t=r.open({templateUrl:"app/views/marketplace/modals/edit-modal.html",controller:"EditAnswerModalCtrl",controllerAs:"vm",size:"lg",windowClass:"inverse",backdrop:"static",resolve:{object:e}}),t.result.then(function(e){return C.questions.list[n].answers[a].description=e.app_answer.description})},C.openDeleteAnswerModal=function(e,a,t){var s;return s={headerText:"mno_enterprise.templates.dashboard.marketplace.show.answer.delete_modal_header",bodyText:"mno_enterprise.templates.dashboard.marketplace.show.answer.delete_modal_body",closeButtonText:"mno_enterprise.templates.dashboard.marketplace.show.answer.delete_modal_cancel",actionButtonText:"mno_enterprise.templates.dashboard.marketplace.show.answer.delete_modal_delete",actionCb:function(){return d.deleteAnswer(n.appId,e.id)},type:"danger"},v.showModal(s).then(function(){return C.questions.list[t].answers.splice(a,1)})},C.showHistory=function(e){return r.open({templateUrl:"app/views/marketplace/modals/review-history-modal.html",controller:"ReviewHistoryModalCtrl",controllerAs:"vm",size:"lg",windowClass:"inverse",backdrop:"static",resolve:{review:e}})},C.searchQuestion=function(){return y(C.app.id,C.questions.nbItems,C.questions.offset,C.questions.searchWord)},C.orderFeedbacks=function(){return k(C.app.id,C.reviews.nbItems,0,C.sortReviewsBy)},k=function(e,a,n,t){return null==t&&(t="created_at.desc"),C.reviews.loading=!0,d.getReviews(e,a,n,t).then(function(e){return C.reviews.totalItems=e.headers("x-total-count"),C.reviews.list=e.data,A()})["finally"](function(){return C.reviews.loading=!1})},y=function(e,a,n,t){return null==t&&(t=""),C.questions.loading=!0,d.getQuestions(e,a,n,t).then(function(e){return C.questions.totalItems=e.headers("x-total-count"),C.questions.list=e.data,x()})["finally"](function(){return C.questions.loading=!1})},x=function(){return C.anyQuestions=0!==C.questions.list.length},A=function(){return C.anyReviews=0!==C.reviews.list.length},M=function(e){return C.averageRating=null!=e?parseFloat(e).toFixed(1):-1,C.isRateDisplayed=C.averageRating>=0},a.$watch(p.getSelectedId,function(a){return null!=a?(C.isLoading=!0,e.all({marketplace:d.getApps(),appInstances:u.getAppInstances()}).then(function(e){var a,t,s,o,r;return r=e.marketplace.apps,o=e.appInstances,t=parseInt(n.appId),a=_.findWhere(r,{nid:n.appId}),a||(a=_.findWhere(r,{id:t})),s=_.find(o,{app_nid:a.nid}),C.initialize(a,s)})):void 0})}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("ImpacController",["$scope","$state","ImpacDashboardsSvc","MnoeCurrentUser","MnoeOrganizations","DOCK_CONFIG",function(e,a,n,t,s,o){"ngInject";var r;r=this,r.isImpacShown=!1,r.isDockEnabled=o.enabled,e.$watch(s.getSelectedId,function(e,o){return null!=e?t.get().then(function(t){var i;return i=_.find(t.organizations,{id:parseInt(e)}),s.role.atLeastAdmin(i.current_user_role)?(r.isImpacShown=!0,null!=e&&null!=o&&parseInt(e)!==parseInt(o)?n.reload(!0):void 0):a.go("home.apps")}):void 0})}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("DashboardCompanyCtrl",["$scope","MnoeOrganizations","MnoeTeams","MnoeConfig","PAYMENT_CONFIG",function(e,a,n,t,s){var o;o=this,o.isLoading=!0,o.payment_enabled=!s.disabled,o.initialize=function(){return o.isLoading=!1,o.isBillingShown()?o.activeTab="billing":o.activeTab="members"},o.isTabSetShown=function(){return!o.isLoading&&(a.role.isSuperAdmin()||a.role.isAdmin())},o.isBillingShown=function(){return t.isBillingEnabled()&&a.role.isSuperAdmin()},o.isSettingsShown=function(){return a.role.isSuperAdmin()},o.isAuditLogShown=function(){return t.isAuditLogEnabled()&&a.role.isSuperAdmin()},e.$watch(a.getSelectedId,function(e){return null!=e?(o.isLoading=!0,n.getTeams(!0)):void 0}),e.$watch(a.getSelected,function(e){return null!=e?o.initialize():void 0})}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("DashboardAppsListCtrl",["$scope","$interval","$q","$stateParams","$window","$uibModal","MnoConfirm","MnoeOrganizations","MnoeAppInstances","MARKETPLACE_CONFIG",function(e,a,n,t,s,o,r,i,l,c){return e.blink={value:"neutral"},e.loading=!0,e.originalApps=[],e.apps=[],e.isLoading=!0,e.displayOptions={},e.isMarketplaceEnabled=c.enabled,e.helper={},e.helper.displayCogwheel=function(){return i.can.update.appInstance()},e.helper.canConnectApp=function(){return i.can.connect.appInstance()},e.helper.canRenameApp=function(){return i.can.update.appInstance()},e.helper.canDeleteApp=function(){return i.can.destroy.appInstance()},e.helper.isDataSyncShown=function(e){return"connector"===e.stack&&e.oauth_keys_valid},e.helper.dataSyncPath=function(e){return"/mnoe/webhook/oauth/"+e.uid+"/sync"},e.helper.isDataDisconnectShown=function(e){return"connector"===e.stack&&e.oauth_keys_valid},e.helper.dataDisconnectClick=function(e){var a;return a={closeButtonText:"Cancel",actionButtonText:"Disconnect app",headerText:"Disconnect "+e.app_name+"?",bodyText:"Are you sure you want to disconnect "+e.app_name+" and Maestrano?"},r.showModal(a).then(function(){return l.clearCache(),s.location.href="/mnoe/webhook/oauth/"+e.uid+"/disconnect"})},e.helper.appActionUrl=function(e){return"/mnoe/launch/"+e.uid},e.helper.companyName=function(e){return"connector"===e.stack&&e.oauth_keys_valid&&e.oauth_company_name?e.oauth_company_name:!1},e.helper.connectorVersion=function(e){return"connector"===e.stack&&e.oauth_keys_valid&&e.connectorVersion?capitalize(e.connectorVersion):!1},e.helper.isOauthConnectBtnShown=function(e){return"office-365"!==e.app_nid&&"connector"===e.stack&&!e.oauth_keys_valid},e.helper.oAuthConnectPath=function(e){return l.clearCache(),s.location.href="/mnoe/webhook/oauth/"+e.uid+"/authorize"},e.helper.isLaunchHidden=function(a){return"terminating"===a.status||"terminated"===a.status||e.helper.isOauthConnectBtnShown(a)||e.helper.isNewOfficeApp(a)},e.helper.isNewOfficeApp=function(e){return"connector"===e.stack&&"office-365"===e.appNid&&moment(e.createdAt)>moment().subtract({minutes:5})},e.openAppDeletionModal=function(e){var a;return a=o.open({templateUrl:"app/views/apps/modals/app-deletion-modal.html",controller:"AppDeletionModalCtrl",resolve:{app:function(){return e}}})},e.$watch(i.getSelectedId,function(a){return null!=a?(e.isLoading=!0,l.getAppInstances().then(function(){return e.isLoading=!1,e.apps=l.appInstances})):void 0})}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("DashboardAccountCtrl",["$log","$timeout","toastr","MnoeCurrentUser","MnoeOrganizations","MnoErrorsHandler","Miscellaneous","Utilities","I18N_CONFIG","DEVELOPER_SECTION_CONFIG","DEVISE_CONFIG","USER_MANAGEMENT",function(e,a,n,t,s,o,r,i,l,c,d,p){var m,u;u=this,u.countryCodes=r.countryCodes,u.errors={},u.success={},u.isDeveloperSectionEnabled=c.enabled,u.isUserManagementEnabled=p.enabled,u.min_password_length=d.min_password_length,u.user={model:{},password:{},loading:!1},m=null,a(function(){return u.isPersoInfoOpen=!0},250),u.user.hasChanged=function(){return!_.isEqual(u.user.model,m)},u.user.cancelChanges=function(){return u.user.model=_.clone(m)},u.user.update=function(){return u.user.loading=!0,t.update(u.user.model).then(function(e){var a;return m.email===u.user.model.email?u.success.user="Saved!":u.success.user="Saved! A confirmation email will be sent to your new email address.\nYou will need to click on the link enclosed in this email in order to validate this new address.",a=u.user.model.email,u.user.model=_.clone(e),u.user.model.email=a,m=_.clone(u.user.model),u.user.loading=!1,s.get(s.selectedId,!0)},function(e){return u.user.loading=!1,u.errors.user=i.processRailsError(e)})},u.isChangePasswordOpen=!1,u.user.cancelPassword=function(){return u.user.password={}},u.user.cancelPasswordEnabled=function(){return u.user.password.current_password||u.user.password.password||u.user.password.password_confirmation},u.user.updatePassword=function(a){return u.user.loading=!0,o.resetErrors(a),t.updatePassword(u.user.password).then(function(){return n.success("Your password has been changed!"),u.user.cancelPassword()},function(t){return n.error("An error occured, your password has not been changed."),e.error("Error while updating user: ",t),o.processServerError(t,a)})["finally"](function(){return u.user.loading=!1})},u.isLocalizationVisible=l.enabled,u.isLocalizationOpen=!1,u.isDevOpen=!1,u.user.registerDeveloper=function(){return t.registerDeveloper().then(function(e){return angular.extend(u.user.model,e)})},u.isSecretKeyRevealed=!1,u.user.switchSecretKey=function(){return u.isSecretKeyRevealed=!u.isSecretKeyRevealed},t.get().then(function(e){var a;return u.user.model=a=_.clone(t.user),m=_.clone(a),a.deletion_request?u.user.currentDeletionRequestToken=a.deletion_request.token:u.user.currentDeletionRequestToken=-1})}])}.call(this),function(){angular.module("mnoEnterpriseAngular").service("themeEditorSvc",["$log","$http",function(e,a){var n,t;return n=this,this.saveTheme=function(n,t){var s,o;return null==t&&(t={}),o="/mnoe/jpi/v1/admin/theme/save",s={theme:n,publish:!!t.publish},a.post(o,angular.toJson(s),{transformRequest:angular.identity}).success(function(){return e.debug("success")}).error(function(){return e.debug("error")})},this.saveLogo=function(e){var n,t,s;return s="/mnoe/jpi/v1/admin/theme/logo",t={transformRequest:angular.identity,headers:{"Content-Type":void 0}},n=new FormData,n.append("logo",e),a.put(s,n,t)},this.resetToPublishedTheme=function(){var e;return e="/mnoe/jpi/v1/admin/theme/reset",a.post(e,"")},this.getTheme=function(){return e.debug("Loading custom theme"),a.get("styles/theme-previewer.less").then(function(e){var a;return a=e.data,t(a)})},t=function(e){var a,n,t,s,o,r,i,l;for(i=e.split("\n"),o={},n=0,s=i.length;s>n;n++)r=i[n],0===r.indexOf("@")&&(a=r.indexOf(":"),t=r.slice(0,a),l=r.trim().slice(a+1,-1).trim(),o[t]=l);return o},this}])}.call(this),function(){var e;e=["$scope","$log","$timeout","toastr","themeEditorSvc",function(e,a,n,t,s){"ngInject";var o,r,i,l,c,d,p,m,u,v,g,b;return o={"@bg-main-color":"#aeb5bf","@decorator-main-color":"#758192","@decorator-alt-color":"#977bf0","@text-strong-color":"#17262d","@bg-inverse-color":"#ffffff","@bg-on-bg-inverse-color":"#cacfd6","@bg-inverse-intense-color":"#17262d","@decorator-inverse-color":"#977bf0","@text-inverse-color":"#17262d","@elem-positive-color":"#d1e55c","@elem-positive-flash-color":"#47ff00","@elem-cozy-color":"#977bf0"},e.theme=u=angular.copy(o),e.labels={"@bg-main-color":"Dashboard background color","@decorator-main-color":"Elements placed on top of bg-main-color","@decorator-alt-color":"Elements placed on top of bg-main-color (secondary)","@text-strong-color":"Used for text used in the context of bg-main-color","@bg-inverse-color":"Background color used for dashboard side menu. top banners, inverse modals","@bg-on-bg-inverse-color":"Background color for elements displayed on top of inverse elements","@bg-inverse-intense-color":"Background color used for elements on top of bg-inverse-color","@decorator-inverse-color":"Design elements (lines, borders) on top of bg-inverse-color","@text-inverse-color":"Text used on top of bg-inverse-color such as inverse modals","@elem-positive-color":"used to reflect a positive action or point (e.g: tick icon)","@elem-positive-flash-color":"stronger version of elem-positive-color (barely used)","@elem-cozy-color":"used for regular design element - fits well with both main and inverse backgrounds"},c=_.max(_.keys(o),function(e){return e.length}).length+2,r={"Fonts & Text":{"@font-family-sans-serif":'Arial, "Helvetica Neue", Helvetica, sans-serif',"@font-family-base":"@font-family-sans-serif","@small":"11px","@normal":"13px"},"General Colors":{"@brand-success":"@elem-positive-color","@brand-warning":"@decorator-alt-color","@brand-info":"@text-inverse-color","@brand-danger":"@text-inverse-color","@brand-primary":"@text-inverse-color"},Forms:{"@input-bg":"@elem-cozy-color","@input-color":"@text-inverse-color","@input-color-placeholder":"@input-color","@input-label-color":"@text-inverse-color"},"Public Page Header":{"@public-page-header-bg-color":"@bg-inverse-color","@public-page-header-padding":"10px","@public-page-header-logo":"{ min-height: 61px; max-width: 160px; max-height: 130px; margin: 17px auto 5px auto; }"},"Login Page":{"@login-bg-color":"@bg-main-color","@login-box-bg-color":"@bg-inverse-color","@login-box-padding":"20px","@login-box-brand-logo":"{ min-height: 61px; max-width: 160px; max-height: 130px; margin: 17px auto 5px auto; }","@login-box-btn-login":"{ width: 100%; }","@login-box-grid-position":"{ margin-top: 80px; .make-sm-column(4); .make-sm-column-offset(4); }","@login-box-title-color":"@decorator-main-color","@login-box-title":"{ text-transform: uppercase; }","@login-box-title-display-box-arrow":"false"},"Dashboard Layout":{"@dashboard-bg-color":"@bg-main-color","@dashboard-section-title-color":"@text-strong-color","@dashboard-section-title-alignment":"center","@dashboard-section-title-display-subline":"false"},"Dashboard Side Menu":{"@dashboard-side-menu-padding":"30px 0px 0px 14px","@dashboard-side-menu-bg-color":"@bg-inverse-color","@dashboard-side-menu-brand-logo":"{ background-size: 204px; width: 51px; margin-left: 5px; }","@dashboard-side-menu-brand-logo-expanded":"{ width: 201px; background-size: 100%; }","@dashboard-side-menu-link-color":"@text-inverse-color","@dashboard-side-menu-link-bg-color":"@dashboard-side-menu-bg-color","@dashboard-side-menu-link-hover-color":"@dashboard-side-menu-bg-color","@dashboard-side-menu-link-hover-bg-color":"lighten(@bg-main-color,15%)","@dashboard-side-menu-link-active-color":"@dashboard-side-menu-bg-color","@dashboard-side-menu-link-active-bg-color":"@bg-main-color"},"Dashboard Company Select Box":{"@dashboard-cpy-select-bg-color":"@bg-inverse-color","@dashboard-cpy-select-border-radius":"0px","@dashboard-cpy-select-padding":"15px 25px","@dashboard-cpy-select-header-text-color":"@text-inverse-color","@dashboard-cpy-select-header-text-size":"13px","@dashboard-cpy-select-link-color":"@dashboard-cpy-select-header-text-color","@dashboard-cpy-select-link-hover-color":"@dashboard-cpy-select-link-color","@dashboard-cpy-select-link-hover-bg-color":"lighten(@dashboard-cpy-select-bg-color,10%)","@dashboard-cpy-select-link-create-color":"@decorator-alt-color","@dashboard-cpy-select-link-admin-color":"@elem-positive-color","@dashboard-cpy-select-switch-btn-color":"@dashboard-cpy-select-header-text-color","@dashboard-cpy-select-switch-btn-bg-color":"@dashboard-cpy-select-bg-color"},"Dashboard Loader":{"@dashboard-loader-color":"@bg-inverse-color","@dashboard-loader-icon":"{ .icon-fa(refresh); .fa-2x; .fa-spin; }"},"Apps Section":{"@dashboard-apps-tile-bg-color":"@bg-inverse-color","@dashboard-apps-tile-text-color":"@text-inverse-color","@dashboard-apps-tile-logo-border-size":"0px","@dashboard-apps-tile-logo-border-color":"@decorator-main-color","@dashboard-apps-tile-settings-color":"@dashboard-apps-tile-text-color","@dashboard-apps-tile-settings-bg-color":"@dashboard-apps-tile-bg-color","@dashboard-apps-tile-settings-hover-color":"@dashboard-apps-tile-bg-color","@dashboard-apps-tile-settings-hover-bg-color":"@dashboard-apps-tile-text-color","@dashboard-apps-tile-add-color":"@dashboard-apps-tile-bg-color","@dashboard-apps-tile-add-bg-color":"@dashboard-apps-tile-bg-color"},"Company Section":{"@dashboard-cpy-tabs-bg-color":"@bg-inverse-color","@dashboard-cpy-tabs-text-color":"@text-inverse-color","@dashboard-cpy-tabs-border-radius":"2px","@dashboard-cpy-tabs-subline-size":"0px","@dashboard-cpy-tabs-subline-color":"transparent","@dashboard-cpy-tabs-active-text-color":"@elem-positive-color","@dashboard-cpy-tabs-active-bg-color":"@bg-inverse-color","@dashboard-cpy-tabs-hover-text-color":"@elem-positive-color","@dashboard-cpy-tabs-hover-bg-color":"@bg-inverse-color","@dashboard-cpy-tabcontent-bg-color":"@dashboard-cpy-tabs-bg-color"},"Company Team Section":{"@dashboard-cpy-teams-matrix-bg-color":"@bg-inverse-color","@dashboard-cpy-teams-matrix-border-color":"lighten(@bg-main-color,30%)"},"Impac Dashboard":{"@impac-dashboard-padding-top":"33px","@impac-dashboard-margin-left":"0px","@impac-dashboard-title-label-color":"@text-strong-color","@impac-dashboard-title-color":"@elem-cozy-color","@impac-dashboard-source-color":"@impac-dashboard-title-label-color","@impac-dashboard-buttons-border-radius":"4px","@impac-placeholder-border":"2px dashed @bg-inverse-color","@impac-padding-between-widgets":"12px","@impac-minimum-widget-size":"258px"},"Impac Widgets":{"@impac-widget-background-color":"@bg-inverse-color","@impac-widget-text-color":"@text-inverse-color","@impac-widget-text-color-light":"lighten(@impac-widget-text-color,70%)","@impac-widget-borders-color":"lighten(@impac-widget-text-color-light,10%)","@impac-widget-link-color":"@decorator-inverse-color","@impac-widget-title-text-color":"darken(@impac-widget-text-color,5%)","@impac-widget-title-bg":"@impac-widget-background-color","@impac-widget-title-border":"solid 1px @impac-widget-borders-color","@impac-widget-title-text-transform":"uppercase","@impac-widget-title-text-size":"12px","@impac-widget-title-border-radius":"5px 5px 0px 0px","@impac-widget-content-border-radius":"0px 0px 5px 5px","@impac-widget-lines-container-max-height":"210px","@impac-widget-hist-text-transform":"uppercase","@impac-widget-hist-text-size":"12px","@impac-widget-hist-text-color":"@impac-widget-text-color-light","@impac-widget-price-color":"@impac-widget-text-color","@impac-widget-price-positive-color":"@elem-positive-color","@impac-widget-price-negative-color":"@elem-cozy-color","@impac-widget-currency-color":"@impac-widget-text-color-light","@impac-widget-legend-color":"lighten(@impac-widget-text-color,30%)","@impac-widget-sub-bg-color":"darken(@impac-widget-background-color,10%)","@impac-widget-sub-bg-color-light":"lighten(@impac-widget-sub-bg-color,5%)","@impac-widget-line-hover-bg":"lighten(@bg-inverse-color,10%)","@impac-widget-line-hover-text":"@text-inverse-color","@impac-big-widget-size":"581px","@impac-big-widget-bottom-padding":"30px","@impac-widget-accounts-comparison-lines-container-max-height":"250px"},"Marketplace Section":{"@dashboard-marketplace-search-text-color":"@bg-inverse-color","@dashboard-marketplace-search-border-color":"@bg-inverse-intense-color","@dashboard-marketplace-tile-bg-color":"@bg-inverse-color","@dashboard-marketplace-tile-text-color":"@text-inverse-color","@dashboard-marketplace-tile-img-border-color":"@dashboard-marketplace-tile-bg-color","@dashboard-marketplace-tile-hover-bg-color":"@decorator-main-color","@dashboard-marketplace-tile-hover-text-color":"@dashboard-marketplace-tile-text-color","@dashboard-marketplace-tile-hover-img-border-color":"darken(@decorator-main-color,10%)","@dashboard-marketplace-tile-hover-arrow-color":"@text-strong-color","@dashboard-marketplace-show-header-text-color":"@bg-inverse-color","@dashboard-marketplace-app-card":"{ display: block; padding: 10px; height: 120px; margin-bottom: 10px; font-weight: 300; }"}},e.variables=b=angular.copy(r),e.editor=i={busy:!1,output:""},i.update=function(){var a;return i.updating?!0:(i.busy=!0,a=m(),less.modifyVars(a).then(function(){return i.busy=!1,e.$apply()}))},i.reset=function(a){return null==a&&(a={published:!1}),i.busy=!0,a.published?s.resetToPublishedTheme().then(function(){return d()}).then(function(){return i.update()}):(e.theme=u=angular.copy(o),e.variables=b=angular.copy(r),i.update())},i.local_save=function(){return o=angular.copy(e.theme),r=angular.copy(e.variables)},i.save=function(e){var a,n;return null==e&&(e={publish:!1}),a=v(),i.busy=!0,n=e.publish?"published":"saved",s.saveTheme(a,e).then(function(){return i.local_save(),t.info("Theme "+n)},function(){return t.error("Error while saving theme")})["finally"](function(){return i.busy=!1})},i["export"]=function(){var e,a;return i.output=a=angular.toJson(v(),!0),e=angular.element("<a/>"),e.css({display:"none"}),angular.element(document.body).append(e),e.attr({href:"data:attachment/csv;charset=utf-8,"+encodeURI(a),target:"_blank",download:"live-previewer.json"})[0].click(),e.remove(),!0},i["import"]=function(){return i.busy=!0,p(angular.fromJson(i.output)),i.update().then(function(){return i.busy=!1,t.info("Theme has been imported")})},i.updateLogo=function(){var e;return e=angular.element($("#theme-main-logo"))[0].files[0],s.saveLogo(e).then(function(){
return t.info("Logo updated, please refresh the page")})},g=function(){var e;return e="/****** Live Theme ****/\r\n/* Theme */ \r\n",_.forEach(u,function(a,n){var t;return t=n+": ",e+=_.padRight(t,c)+a+";\r\n"}),e+="\r\n/* Variables */ \r\n",_.forEach(b,function(a,n){return e+="// "+n+"\r\n",_.forEach(a,function(a,n){return e+=n+": "+a+";\r\n"}),e+="\r\n"}),e},v=function(){return{branding:u,variables:b}},m=function(){var e;return e=angular.extend({},u),console.log(b),_.forEach(b,function(a,n){return console.log(e),angular.extend(e,a)}),e},d=function(){return s.getTheme().then(function(e){return p(e),i.local_save()},function(e){return a.info("No custom theme found")})},p=function(e){var a;return a=l(e),console.log(a),_.forEach(u,function(e,n){return a[n]?u[n]=a[n]:void 0}),_.forEach(b,function(e,n){return _.forEach(e,function(e,t){return a[t]?b[n][t]=a[t]:void 0})})},l=function(e){var a,n,t,s;a={};for(t in e)if(e.hasOwnProperty(t))if("object"==typeof e[t]){n=l(e[t]);for(s in n)n.hasOwnProperty(s)&&(a[s]=n[s])}else a[t]=e[t];return a},d(),t.info("Scroll down to start editing the dashboard style",null,{timeOut:6e3})}],angular.module("mnoEnterpriseAngular").directive("themeEditor",function(){return{restrict:"EA",controller:e,templateUrl:"app/components/theme-editor/theme-editor.html"}})}.call(this),function(){angular.module("mnoEnterpriseAngular").factory("MnoeConfig",["$log","AUDIT_LOG","ORGANIZATION_MANAGEMENT",function(e,a,n){var t;return t=this,this.isAuditLogEnabled=function(){return a?a.enabled:!1},this.isBillingEnabled=function(){return null!=n&&null!=n.billing?n.billing.enabled:!0},this}])}.call(this),function(){angular.module("mnoEnterpriseAngular").factory("Utilities",function(){var e;return e={},e.processRailsError=function(e){var a;return a=[],e.status&&401===e.status?a.push("Sorry! You are not authorized to perform this action"):e.data&&" "!==e.data?angular.isArray(e.data)?_.each(e.data,function(e){var n;return n=e.charAt(0).toUpperCase()+e.slice(1),a.push(""+n)}):angular.isObject(e.data)?_.each(e.data,function(e,n){var t;return t=n.charAt(0).toUpperCase()+n.slice(1),angular.isArray(e)?_.each(e,function(e){return t.match(/base/i)?a.push(e):a.push(t+" "+e)}):t.match(/base/i)?a.push(e):a.push(t+" "+e)}):angular.isString(e.data)?a.push(e.data):a.push("Potentially a system or communication error. Please retry later."):a.push("Potentially a system or communication error. Please retry later."),a},e.camelize=function(e){return e.replace(/(?:^|[-_])(\w)/g,function(e,a){return a?a.toUpperCase():""})},e.jsCamelize=function(e){var a;return a=this.camelize(e),a.charAt(0).toLowerCase()+a.slice(1)},e.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e})}.call(this),function(){angular.module("mnoEnterpriseAngular").factory("Miscellaneous",["$http","$q",function(e,a){var n;return n=void 0,n={},n.currencies=["USD","AUD","EUR","AED","AFN","ALL","AMD","ANG","AOA","ARS","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BRL","BSD","BTN","BWP","BYR","BZD","CAD","CHF","CLP","CNY","COP","CRC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ETB","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HUF","IDR","ILS","IMP","INR","IQD","IRR","ISK","JEP","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MKD","MMK","MNT","MRO","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TVD","TWD","TZS","UAH","UGX","UYU","UZS","VEF","VND","XAF","XCD","XOF","XPF","YER","ZAR","ZMK","ZWD"],n.defaultCurrency="USD",n.countries=[{label:"Afghanistan",val:"AF",ext:"93"},{label:"Albania",val:"AL",ext:"355"},{label:"Algeria",val:"DZ",ext:"213"},{label:"American Samoa",val:"AS",ext:"1"},{label:"Andorra",val:"AD",ext:"376"},{label:"Angola",val:"AO",ext:"244"},{label:"Anguilla",val:"AI",ext:"1"},{label:"Antarctica",val:"AQ",ext:"672"},{label:"Antigua and Barbuda",val:"AG",ext:"1"},{label:"Argentina",val:"AR",ext:"54"},{label:"Armenia",val:"AM",ext:"374"},{label:"Aruba",val:"AW",ext:"297"},{label:"Australia",val:"AU",ext:"61"},{label:"Austria",val:"AT",ext:"43"},{label:"Azerbaijan",val:"AZ",ext:"994"},{label:"Bahamas",val:"BS",ext:"1"},{label:"Bahrain",val:"BH",ext:"973"},{label:"Bangladesh",val:"BD",ext:"880"},{label:"Barbados",val:"BB",ext:"1"},{label:"Belarus",val:"BY",ext:"375"},{label:"Belgium",val:"BE",ext:"32"},{label:"Belize",val:"BZ",ext:"501"},{label:"Benin",val:"BJ",ext:"229"},{label:"Bermuda",val:"BM",ext:"1"},{label:"Bhutan",val:"BT",ext:"975"},{label:"Bolivia",val:"BO",ext:"591"},{label:"Bonaire, Sint Eustatius and Saba",val:"BQ",ext:"599"},{label:"Bosnia and Herzegovina",val:"BA",ext:"387"},{label:"Botswana",val:"BW",ext:"267"},{label:"Bouvet Island",val:"BV",ext:""},{label:"Brazil",val:"BR",ext:"55"},{label:"British Indian Ocean Territory",val:"IO",ext:"246"},{label:"Brunei Darussalam",val:"BN",ext:"673"},{label:"Bulgaria",val:"BG",ext:"359"},{label:"Burkina Faso",val:"BF",ext:"226"},{label:"Burundi",val:"BI",ext:"257"},{label:"Cambodia",val:"KH",ext:"855"},{label:"Cameroon",val:"CM",ext:"237"},{label:"Canada",val:"CA",ext:"1"},{label:"Cape Verde",val:"CV",ext:"238"},{label:"Cayman Islands",val:"KY",ext:"1"},{label:"Central African Republic",val:"CF",ext:"236"},{label:"Chad",val:"TD",ext:"235"},{label:"Chile",val:"CL",ext:"56"},{label:"China",val:"CN",ext:"86"},{label:"Christmas Island",val:"CX",ext:"61"},{label:"Cocos (Keeling) Islands",val:"CC",ext:"61"},{label:"Colombia",val:"CO",ext:"57"},{label:"Comoros",val:"KM",ext:"269"},{label:"Congo",val:"CG",ext:"242"},{label:"Congo, The Democratic Republic Of The",val:"CD",ext:"243"},{label:"Cook Islands",val:"CK",ext:"682"},{label:"Costa Rica",val:"CR",ext:"506"},{label:"Croatia",val:"HR",ext:"385"},{label:"Cuba",val:"CU",ext:"53"},{label:"Curaao",val:"CW",ext:"599"},{label:"Cyprus",val:"CY",ext:"357"},{label:"Czech Republic",val:"CZ",ext:"420"},{label:"Cte D'Ivoire",val:"CI",ext:"225"},{label:"Denmark",val:"DK",ext:"45"},{label:"Djibouti",val:"DJ",ext:"253"},{label:"Dominica",val:"DM",ext:"1"},{label:"Dominican Republic",val:"DO",ext:"1"},{label:"Ecuador",val:"EC",ext:"593"},{label:"Egypt",val:"EG",ext:"20"},{label:"El Salvador",val:"SV",ext:"503"},{label:"Equatorial Guinea",val:"GQ",ext:"240"},{label:"Eritrea",val:"ER",ext:"291"},{label:"Estonia",val:"EE",ext:"372"},{label:"Ethiopia",val:"ET",ext:"251"},{label:"Falkland Islands (Malvinas)",val:"FK",ext:"500"},{label:"Faroe Islands",val:"FO",ext:"298"},{label:"Fiji",val:"FJ",ext:"679"},{label:"Finland",val:"FI",ext:"358"},{label:"France",val:"FR",ext:"33"},{label:"French Guiana",val:"GF",ext:"594"},{label:"French Polynesia",val:"PF",ext:"689"},{label:"French Southern Territories",val:"TF",ext:""},{label:"Gabon",val:"GA",ext:"241"},{label:"Gambia",val:"GM",ext:"220"},{label:"Georgia",val:"GE",ext:"995"},{label:"Germany",val:"DE",ext:"49"},{label:"Ghana",val:"GH",ext:"233"},{label:"Gibraltar",val:"GI",ext:"350"},{label:"Greece",val:"GR",ext:"30"},{label:"Greenland",val:"GL",ext:"299"},{label:"Grenada",val:"GD",ext:"1"},{label:"Guadeloupe",val:"GP",ext:"590"},{label:"Guam",val:"GU",ext:"1"},{label:"Guatemala",val:"GT",ext:"502"},{label:"Guernsey",val:"GG",ext:"44"},{label:"Guinea",val:"GN",ext:"224"},{label:"Guinea-Bissau",val:"GW",ext:"245"},{label:"Guyana",val:"GY",ext:"592"},{label:"Haiti",val:"HT",ext:"509"},{label:"Heard and McDonald Islands",val:"HM",ext:""},{label:"Holy See (Vatican City State)",val:"VA",ext:"39"},{label:"Honduras",val:"HN",ext:"504"},{label:"Hong Kong",val:"HK",ext:"852"},{label:"Hungary",val:"HU",ext:"36"},{label:"Iceland",val:"IS",ext:"354"},{label:"India",val:"IN",ext:"91"},{label:"Indonesia",val:"ID",ext:"62"},{label:"Iran, Islamic Republic Of",val:"IR",ext:"98"},{label:"Iraq",val:"IQ",ext:"964"},{label:"Ireland",val:"IE",ext:"353"},{label:"Isle of Man",val:"IM",ext:"44"},{label:"Israel",val:"IL",ext:"972"},{label:"Italy",val:"IT",ext:"39"},{label:"Jamaica",val:"JM",ext:"1"},{label:"Japan",val:"JP",ext:"81"},{label:"Jersey",val:"JE",ext:"44"},{label:"Jordan",val:"JO",ext:"962"},{label:"Kazakhstan",val:"KZ",ext:"7"},{label:"Kenya",val:"KE",ext:"254"},{label:"Kiribati",val:"KI",ext:"686"},{label:"Korea, Democratic People's Republic Of",val:"KP",ext:"850"},{label:"Korea, Republic of",val:"KR",ext:"82"},{label:"Kuwait",val:"KW",ext:"965"},{label:"Kyrgyzstan",val:"KG",ext:"996"},{label:"Lao People's Democratic Republic",val:"LA",ext:"856"},{label:"Latvia",val:"LV",ext:"371"},{label:"Lebanon",val:"LB",ext:"961"},{label:"Lesotho",val:"LS",ext:"266"},{label:"Liberia",val:"LR",ext:"231"},{label:"Libya",val:"LY",ext:"218"},{label:"Liechtenstein",val:"LI",ext:"423"},{label:"Lithuania",val:"LT",ext:"370"},{label:"Luxembourg",val:"LU",ext:"352"},{label:"Macao",val:"MO",ext:"853"},{label:"Macedonia, the Former Yugoslav Republic Of",val:"MK",ext:"389"},{label:"Madagascar",val:"MG",ext:"261"},{label:"Malawi",val:"MW",ext:"265"},{label:"Malaysia",val:"MY",ext:"60"},{label:"Maldives",val:"MV",ext:"960"},{label:"Mali",val:"ML",ext:"223"},{label:"Malta",val:"MT",ext:"356"},{label:"Marshall Islands",val:"MH",ext:"692"},{label:"Martinique",val:"MQ",ext:"596"},{label:"Mauritania",val:"MR",ext:"222"},{label:"Mauritius",val:"MU",ext:"230"},{label:"Mayotte",val:"YT",ext:"262"},{label:"Mexico",val:"MX",ext:"52"},{label:"Micronesia, Federated States Of",val:"FM",ext:"691"},{label:"Moldova, Republic of",val:"MD",ext:"373"},{label:"Monaco",val:"MC",ext:"377"},{label:"Mongolia",val:"MN",ext:"976"},{label:"Montenegro",val:"ME",ext:"382"},{label:"Montserrat",val:"MS",ext:"1"},{label:"Morocco",val:"MA",ext:"212"},{label:"Mozambique",val:"MZ",ext:"258"},{label:"Myanmar",val:"MM",ext:"95"},{label:"Namibia",val:"NA",ext:"264"},{label:"Nauru",val:"NR",ext:"674"},{label:"Nepal",val:"NP",ext:"977"},{label:"Netherlands",val:"NL",ext:"31"},{label:"Netherlands Antilles",val:"AN",ext:"599"},{label:"New Caledonia",val:"NC",ext:"687"},{label:"New Zealand",val:"NZ",ext:"64"},{label:"Nicaragua",val:"NI",ext:"505"},{label:"Niger",val:"NE",ext:"227"},{label:"Nigeria",val:"NG",ext:"234"},{label:"Niue",val:"NU",ext:"683"},{label:"Norfolk Island",val:"NF",ext:"672"},{label:"Northern Mariana Islands",val:"MP",ext:"1"},{label:"Norway",val:"NO",ext:"47"},{label:"Oman",val:"OM",ext:"968"},{label:"Pakistan",val:"PK",ext:"92"},{label:"Palau",val:"PW",ext:"680"},{label:"Palestine, State of",val:"PS",ext:"970"},{label:"Panama",val:"PA",ext:"507"},{label:"Papua New Guinea",val:"PG",ext:"675"},{label:"Paraguay",val:"PY",ext:"595"},{label:"Peru",val:"PE",ext:"51"},{label:"Philippines",val:"PH",ext:"63"},{label:"Pitcairn",val:"PN",ext:""},{label:"Poland",val:"PL",ext:"48"},{label:"Portugal",val:"PT",ext:"351"},{label:"Puerto Rico",val:"PR",ext:"1"},{label:"Qatar",val:"QA",ext:"974"},{label:"Romania",val:"RO",ext:"40"},{label:"Russian Federation",val:"RU",ext:"7"},{label:"Rwanda",val:"RW",ext:"250"},{label:"Runion",val:"RE",ext:"262"},{label:"Saint Barthlemy",val:"BL",ext:"590"},{label:"Saint Helena",val:"SH",ext:"290"},{label:"Saint Kitts And Nevis",val:"KN",ext:"1"},{label:"Saint Lucia",val:"LC",ext:"1"},{label:"Saint Martin",val:"MF",ext:"590"},{label:"Saint Pierre And Miquelon",val:"PM",ext:"508"},{label:"Saint Vincent And The Grenedines",val:"VC",ext:"1"},{label:"Samoa",val:"WS",ext:"685"},{label:"San Marino",val:"SM",ext:"378"},{label:"Sao Tome and Principe",val:"ST",ext:"239"},{label:"Saudi Arabia",val:"SA",ext:"966"},{label:"Senegal",val:"SN",ext:"221"},{label:"Serbia",val:"RS",ext:"381"},{label:"Seychelles",val:"SC",ext:"248"},{label:"Sierra Leone",val:"SL",ext:"232"},{label:"Singapore",val:"SG",ext:"65"},{label:"Sint Maarten",val:"SX",ext:"1"},{label:"Slovakia",val:"SK",ext:"421"},{label:"Slovenia",val:"SI",ext:"386"},{label:"Solomon Islands",val:"SB",ext:"677"},{label:"Somalia",val:"SO",ext:"252"},{label:"South Africa",val:"ZA",ext:"27"},{label:"South Georgia and the South Sandwich Islands",val:"GS",ext:"500"},{label:"South Sudan",val:"SS",ext:"211"},{label:"Spain",val:"ES",ext:"34"},{label:"Sri Lanka",val:"LK",ext:"94"},{label:"Sudan",val:"SD",ext:"249"},{label:"Suriname",val:"SR",ext:"597"},{label:"Svalbard And Jan Mayen",val:"SJ",ext:"47"},{label:"Swaziland",val:"SZ",ext:"268"},{label:"Sweden",val:"SE",ext:"46"},{label:"Switzerland",val:"CH",ext:"41"},{label:"Syrian Arab Republic",val:"SY",ext:"963"},{label:"Taiwan, Republic Of China",val:"TW",ext:"886"},{label:"Tajikistan",val:"TJ",ext:"992"},{label:"Tanzania, United Republic of",val:"TZ",ext:"255"},{label:"Thailand",val:"TH",ext:"66"},{label:"Timor-Leste",val:"TL",ext:"670"},{label:"Togo",val:"TG",ext:"228"},{label:"Tokelau",val:"TK",ext:"690"},{label:"Tonga",val:"TO",ext:"676"},{label:"Trinidad and Tobago",val:"TT",ext:"1"},{label:"Tunisia",val:"TN",ext:"216"},{label:"Turkey",val:"TR",ext:"90"},{label:"Turkmenistan",val:"TM",ext:"993"},{label:"Turks and Caicos Islands",val:"TC",ext:"1"},{label:"Tuvalu",val:"TV",ext:"688"},{label:"Uganda",val:"UG",ext:"256"},{label:"Ukraine",val:"UA",ext:"380"},{label:"United Arab Emirates",val:"AE",ext:"971"},{label:"United Kingdom",val:"GB",ext:"44"},{label:"United States",val:"US",ext:"1"},{label:"United States Minor Outlying Islands",val:"UM",ext:""},{label:"Uruguay",val:"UY",ext:"598"},{label:"Uzbekistan",val:"UZ",ext:"998"},{label:"Vanuatu",val:"VU",ext:"678"},{label:"Venezuela, Bolivarian Republic of",val:"VE",ext:"58"},{label:"Vietnam",val:"VN",ext:"84"},{label:"Virgin Islands, British",val:"VG",ext:"1"},{label:"Virgin Islands, U.S.",val:"VI",ext:"1"},{label:"Wallis and Futuna",val:"WF",ext:"681"},{label:"Western Sahara",val:"EH",ext:"212"},{label:"Yemen",val:"YE",ext:"967"},{label:"Zambia",val:"ZM",ext:"260"},{label:"Zimbabwe",val:"ZW",ext:"263"},{label:"land Islands",val:"AX",ext:"358"}],n.defaultCountry="US",n.countryCodes=[["AD","(AD) +376"],["AE","(AE) +971"],["AF","(AF) +93"],["AG","(AG) +1"],["AI","(AI) +1"],["AL","(AL) +355"],["AM","(AM) +374"],["AN","(AN) +599"],["AO","(AO) +244"],["AQ","(AQ) +672"],["AR","(AR) +54"],["AS","(AS) +1"],["AT","(AT) +43"],["AU","(AU) +61"],["AW","(AW) +297"],["AX","(AX) +358"],["AZ","(AZ) +994"],["BA","(BA) +387"],["BB","(BB) +1"],["BD","(BD) +880"],["BE","(BE) +32"],["BF","(BF) +226"],["BG","(BG) +359"],["BH","(BH) +973"],["BI","(BI) +257"],["BJ","(BJ) +229"],["BL","(BL) +590"],["BM","(BM) +1"],["BN","(BN) +673"],["BO","(BO) +591"],["BQ","(BQ) +599"],["BR","(BR) +55"],["BS","(BS) +1"],["BT","(BT) +975"],["BV","(BV) +"],["BW","(BW) +267"],["BY","(BY) +375"],["BZ","(BZ) +501"],["CA","(CA) +1"],["CC","(CC) +61"],["CD","(CD) +243"],["CF","(CF) +236"],["CG","(CG) +242"],["CH","(CH) +41"],["CI","(CI) +225"],["CK","(CK) +682"],["CL","(CL) +56"],["CM","(CM) +237"],["CN","(CN) +86"],["CO","(CO) +57"],["CR","(CR) +506"],["CU","(CU) +53"],["CV","(CV) +238"],["CW","(CW) +599"],["CX","(CX) +61"],["CY","(CY) +357"],["CZ","(CZ) +420"],["DE","(DE) +49"],["DJ","(DJ) +253"],["DK","(DK) +45"],["DM","(DM) +1"],["DO","(DO) +1"],["DZ","(DZ) +213"],["EC","(EC) +593"],["EE","(EE) +372"],["EG","(EG) +20"],["EH","(EH) +212"],["ER","(ER) +291"],["ES","(ES) +34"],["ET","(ET) +251"],["FI","(FI) +358"],["FJ","(FJ) +679"],["FK","(FK) +500"],["FM","(FM) +691"],["FO","(FO) +298"],["FR","(FR) +33"],["GA","(GA) +241"],["GB","(GB) +44"],["GD","(GD) +1"],["GE","(GE) +995"],["GF","(GF) +594"],["GG","(GG) +44"],["GH","(GH) +233"],["GI","(GI) +350"],["GL","(GL) +299"],["GM","(GM) +220"],["GN","(GN) +224"],["GP","(GP) +590"],["GQ","(GQ) +240"],["GR","(GR) +30"],["GS","(GS) +500"],["GT","(GT) +502"],["GU","(GU) +1"],["GW","(GW) +245"],["GY","(GY) +592"],["HK","(HK) +852"],["HM","(HM) +"],["HN","(HN) +504"],["HR","(HR) +385"],["HT","(HT) +509"],["HU","(HU) +36"],["ID","(ID) +62"],["IE","(IE) +353"],["IL","(IL) +972"],["IM","(IM) +44"],["IN","(IN) +91"],["IO","(IO) +246"],["IQ","(IQ) +964"],["IR","(IR) +98"],["IS","(IS) +354"],["IT","(IT) +39"],["JE","(JE) +44"],["JM","(JM) +1"],["JO","(JO) +962"],["JP","(JP) +81"],["KE","(KE) +254"],["KG","(KG) +996"],["KH","(KH) +855"],["KI","(KI) +686"],["KM","(KM) +269"],["KN","(KN) +1"],["KP","(KP) +850"],["KR","(KR) +82"],["KW","(KW) +965"],["KY","(KY) +1"],["KZ","(KZ) +7"],["LA","(LA) +856"],["LB","(LB) +961"],["LC","(LC) +1"],["LI","(LI) +423"],["LK","(LK) +94"],["LR","(LR) +231"],["LS","(LS) +266"],["LT","(LT) +370"],["LU","(LU) +352"],["LV","(LV) +371"],["LY","(LY) +218"],["MA","(MA) +212"],["MC","(MC) +377"],["MD","(MD) +373"],["ME","(ME) +382"],["MF","(MF) +590"],["MG","(MG) +261"],["MH","(MH) +692"],["MK","(MK) +389"],["ML","(ML) +223"],["MM","(MM) +95"],["MN","(MN) +976"],["MO","(MO) +853"],["MP","(MP) +1"],["MQ","(MQ) +596"],["MR","(MR) +222"],["MS","(MS) +1"],["MT","(MT) +356"],["MU","(MU) +230"],["MV","(MV) +960"],["MW","(MW) +265"],["MX","(MX) +52"],["MY","(MY) +60"],["MZ","(MZ) +258"],["NA","(NA) +264"],["NC","(NC) +687"],["NE","(NE) +227"],["NF","(NF) +672"],["NG","(NG) +234"],["NI","(NI) +505"],["NL","(NL) +31"],["NO","(NO) +47"],["NP","(NP) +977"],["NR","(NR) +674"],["NU","(NU) +683"],["NZ","(NZ) +64"],["OM","(OM) +968"],["PA","(PA) +507"],["PE","(PE) +51"],["PF","(PF) +689"],["PG","(PG) +675"],["PH","(PH) +63"],["PK","(PK) +92"],["PL","(PL) +48"],["PM","(PM) +508"],["PN","(PN) +"],["PR","(PR) +1"],["PS","(PS) +970"],["PT","(PT) +351"],["PW","(PW) +680"],["PY","(PY) +595"],["QA","(QA) +974"],["RE","(RE) +262"],["RO","(RO) +40"],["RS","(RS) +381"],["RU","(RU) +7"],["RW","(RW) +250"],["SA","(SA) +966"],["SB","(SB) +677"],["SC","(SC) +248"],["SD","(SD) +249"],["SE","(SE) +46"],["SG","(SG) +65"],["SH","(SH) +290"],["SI","(SI) +386"],["SJ","(SJ) +47"],["SK","(SK) +421"],["SL","(SL) +232"],["SM","(SM) +378"],["SN","(SN) +221"],["SO","(SO) +252"],["SR","(SR) +597"],["SS","(SS) +211"],["ST","(ST) +239"],["SV","(SV) +503"],["SX","(SX) +1"],["SY","(SY) +963"],["SZ","(SZ) +268"],["TC","(TC) +1"],["TD","(TD) +235"],["TF","(TF) +"],["TG","(TG) +228"],["TH","(TH) +66"],["TJ","(TJ) +992"],["TK","(TK) +690"],["TL","(TL) +670"],["TM","(TM) +993"],["TN","(TN) +216"],["TO","(TO) +676"],["TR","(TR) +90"],["TT","(TT) +1"],["TV","(TV) +688"],["TW","(TW) +886"],["TZ","(TZ) +255"],["UA","(UA) +380"],["UG","(UG) +256"],["UM","(UM) +"],["US","(US) +1"],["UY","(UY) +598"],["UZ","(UZ) +998"],["VA","(VA) +39"],["VC","(VC) +1"],["VE","(VE) +58"],["VG","(VG) +1"],["VI","(VI) +1"],["VN","(VN) +84"],["VU","(VU) +678"],["WF","(WF) +681"],["WS","(WS) +685"],["YE","(YE) +967"],["YT","(YT) +262"],["ZA","(ZA) +27"],["ZM","(ZM) +260"],["ZW","(ZW) +263"]],n.impacUrls={get_widget:"http://localhost:4000/api/get_widget"},n.impacTenantColors={positive:"#3fc4ff",negative:"#1de9b6",array:["#1de9b6","#7c4dff","#ffc928","#3fc4ff","#ff8e01","#c6ff00","#d500fa","#ff6e41","#ffeb3c","#ff1844"]},n.style={design:{material:!1},palette:{primary:"indigo",accent:"pink",warn:"red",background:"grey",bg_main_color:"#aeb5bf",decorator_main_color:"#758192",decorator_alt_color:"#977bf0",text_strong_color:"#17262d",bg_inverse_color:"#ffffff",bg_on_bg_inverse_color:"#cacfd6",bg_inverse_intense_color:"#17262d",decorator_inverse_color:"#977bf0",text_inverse_color:"#17262d",elem_positive_color:"#d1e55c",elem_positive_flash_color:"#47ff00",elem_cozy_color:"#977bf0",impac:{positive:"#3fc4ff",negative:"#1de9b6",pool:["#1de9b6","#7c4dff","#ffc928","#3fc4ff","#ff8e01","#c6ff00","#d500fa","#ff6e41","#ffeb3c","#ff1844"]}},layout:{public_page_header:!1,dashboard_menu_orientation:"vertical"},devise:{remember_checkbox_shown:!0,unlock_link_shown:!1,forgot_password_link_shown:!0,confirmation_link_shown:!0,omniauth_link_shown:!0,phone_required:!0,password_complexity_deep_check:!1},workflow:{signup_onboarding:!1}},n}])}.call(this),function(){angular.module("mnoEnterpriseAngular").service("MnoeTeams",["MnoeApiSvc","MnoeOrganizations",function(e,a){var n,t;return n=this,this.teams=[],t=null,this.getTeams=function(s){return null==s&&(s=!1),null===t||s?t=e.one("organizations",a.selectedId).one("teams").getList().then(function(e){return n.teams=e.plain(),n.teams}):t},this.addTeam=function(t){var s;return s={team:t},e.one("organizations",a.selectedId).post("teams",s).then(function(e){return t=e.plain(),n.teams.push(t),t})},this.updateTeamName=function(a){var t;return t={team:_.pick(a,"name")},e.one("teams",a.id).patch(t).then(function(e){var t,s;return s=e.plain().team,t=_.find(n.teams,{id:a.id}),angular.copy(s,t),e})},this.updateTeamAppInstances=function(a,t){var s;return s={team:{app_instances:t}},e.one("teams",a.id).patch(s).then(function(e){var t,s;return s=e.plain().team,t=_.find(n.teams,{id:a.id}),angular.copy(s,t),e})},this.deleteTeam=function(a){return e.one("teams",a).remove().then(function(e){return _.remove(n.teams,{id:a}),e})},this.addUsers=function(a,t){var s;return s={team:{users:t}},e.one("teams",a).customPUT(s,"/add_users").then(function(e){var s;return e=e.plain(),(s=_.find(n.teams,function(e){return e.id===a}).users).push.apply(s,t),e.team.users})},this.removeUser=function(a,n){var t;return t={team:{users:[n]}},e.one("teams",a).customPUT(t,"/remove_users").then(function(e){return e=e.plain(),e.team.users})},this}])}.call(this),function(){angular.module("mnoEnterpriseAngular").service("MnoeOrganizations",["$location","$state","$cookies","$log","$q","MnoeApiSvc","MnoeCurrentUser",function(e,a,n,t,s,o,r){var i,l,c;return i=this,c=o.all("organizations"),this.selectedId=null,this.getSelectedId=function(){return i.selectedId},this.selected=null,this.getSelected=function(){return i.selected},this.list=function(){return c.getList().then(function(e){return i.list=e,e})},l=null,this.get=function(e,a){return null==e&&(e=null),null==a&&(a=!1),null!=e&&e!==i.selectedId||null==l||null!=a?l=r.get().then(function(a){return i.selectedId=null!=e?e:n.get(a.id+"_dhb_ref_id"),o.one("/organizations",i.selectedId).get().then(function(e){return n.put(a.id+"_dhb_ref_id",e.organization.id),i.selected=e.plain()})}):l},this.create=function(e){return o.all("/organizations").post(e).then(function(e){var a;return a=s.defer(),r.refresh().then(function(){return a.resolve(e.organization)}),a.promise})},this.update=function(e){var a;return a={organization:e},o.one("/organizations",i.selectedId).customPUT(a).then(function(e){return e=e.plain(),angular.extend(i.selected.organization,e.organization),angular.extend(_.find(r.user.organizations,{id:e.organization.id}),e.organization),e})},this.updateCreditCard=function(e){return o.one("organizations",i.selectedId).doPUT({credit_card:e},"/update_billing").then(function(e){return e.plain()})},this.purchaseApp=function(e,a){return null==a&&(a=i.selectedId),o.one("organizations",a).all("/app_instances").post({nid:e.nid}).then(function(e){return i.get(a),e})},this.inviteMembers=function(e){var a,n,t;return a=[],a=angular.isString(e)?e.split("\n"):e,t=[],_.each(a,function(e){return angular.isObject(e)?t.push(e):t.push({email:e})}),n={invites:t},o.one("organizations",i.selectedId).doPUT(n,"/invite_members").then(function(e){return e.members})},this.updateMember=function(e){var a;return a={member:e},o.one("organizations",i.selectedId).doPUT(a,"/update_member").then(function(a){return e.email===i.selected.current_user.email&&(i.selected.current_user.role=e.role),a.members})},this.deleteMember=function(e){var a;return a={member:_.pick(e,"email")},o.one("organizations",i.selectedId).doPUT(a,"/remove_member").then(function(e){return e.members})},this.getCurrentOrganisation=function(){var a,o;return a=s.defer(),o=e.search().dhbRefId,e.search("dhbRefId",null),o?(t.debug("MnoeOrganizations.getCurrentOrganisation: dhbRefId",o),i.get(o).then(function(e){return a.resolve(e)})):r.get().then(function(e){var s;return 0===e.organizations.length&&a.reject(),s=n.get(e.id+"_dhb_ref_id"),null!=s?(t.debug("MnoeOrganizations.getCurrentOrganisation: cookie",s),i.get(s).then(function(e){return a.resolve(e)})):(t.debug("MnoeOrganizations.getCurrentOrganisation: first",e.organizations[0].id),i.get(e.organizations[0].id).then(function(e){return a.resolve(e)}))}),a.promise},this.role={},i.role.isSuperAdmin=function(e){return e?"Super Admin"===e:null!=i.selected&&null!=i.selected.current_user&&"Super Admin"===i.selected.current_user.role},i.role.isAdmin=function(e){return e?"Admin"===e:null!=i.selected&&null!=i.selected.current_user&&"Admin"===i.selected.current_user.role},i.role.isPowerUser=function(e){return e?"Power User"===e:null!=i.selected&&null!=i.selected.current_user&&"Power User"===i.selected.current_user.role},i.role.isMember=function(e){return e?"Member"===e:null!=i.selected&&null!=i.selected.current_user&&"Member"===i.selected.current_user.role},i.role.atLeastMember=function(){return!0},i.role.atLeastPowerUser=function(e){return i.role.isPowerUser(e)||i.role.isAdmin(e)||i.role.isSuperAdmin(e)},i.role.atLeastAdmin=function(e){return i.role.isAdmin(e)||i.role.isSuperAdmin(e)},i.role.atLeastSuperAdmin=function(e){return i.role.isSuperAdmin(e)},this.can={},i.can.read={appInstance:function(e){return null==e&&(e=null),i.role.atLeastMember()},billing:function(e){return null==e&&(e=null),i.role.atLeastSuperAdmin()},member:function(e){return null==e&&(e=null),i.role.atLeastMember()},organizationSettings:function(e){return null==e&&(e=null),i.role.atLeastSuperAdmin()}},i.can.create={appInstance:function(e){return null==e&&(e=null),i.role.atLeastAdmin()},billing:function(e){return null==e&&(e=null),i.role.atLeastSuperAdmin()},member:function(e){return null==e&&(e=null),i.role.atLeastAdmin()&&(null===e||"Super Admin"!==e.role||i.role.isSuperAdmin())},organizationSettings:function(e){return null==e&&(e=null),i.role.atLeastSuperAdmin()}},i.can.update={appInstance:function(e){return null==e&&(e=null),i.can.create.appInstance(e)},billing:function(e){return null==e&&(e=null),i.can.create.billing(e)},member:function(e){return null==e&&(e=null),i.can.create.member(e)&&("Super Admin"!==e.role||i.role.isSuperAdmin())},organizationSettings:function(e){return null==e&&(e=null),i.can.create.organizationSettings(e)}},i.can.destroy={appInstance:function(e){return null==e&&(e=null),i.can.create.appInstance(e)},billing:function(e){return null==e&&(e=null),i.can.create.billing(e)},member:function(e){return null==e&&(e=null),i.can.create.member(e)&&("Super Admin"!==e.role||i.role.isSuperAdmin())},organizationSettings:function(e){return null==e&&(e=null),i.can.create.organizationSettings(e)}},i.can.connect={appInstance:function(){return i.role.atLeastAdmin()}},this}])}.call(this),function(){angular.module("mnoEnterpriseAngular").service("MnoeMarketplace",["$log","MnoeApiSvc","MnoeFullApiSvc",function(e,a,n){var t,s,o;return t=this,s=a.oneUrl("/marketplace"),o=null,this.getApps=function(){return null!=o?o:o=s.get()},this.getReview=function(e,n){return a.one("marketplace",parseInt(e)).one("app_reviews",parseInt(n)).get()},this.getReviews=function(e,a,t,s){var o;return o={order_by:s,limit:a,offset:t},n.one("marketplace",parseInt(e)).all("app_feedbacks").getList(o)},this.getQuestions=function(e,a,t,s){var o;return o={limit:a,offset:t,search:s},n.one("marketplace",parseInt(e)).all("app_questions").getList(o)},this.addAppReview=function(e,a){var t;return t={app_review:a},n.one("marketplace",parseInt(e)).post("/app_reviews",t).then(function(e){var a;return a=e.data.plain()})["finally"](function(){return o=null})},this.editReview=function(e,a,t){var s;return s=t,n.one("marketplace/"+parseInt(e)+"/app_feedbacks/"+a).patch(s).then(function(e){var a;return a=e.data.plain()})},this.deleteReview=function(e,a){return n.one("marketplace/"+parseInt(e)+"/app_feedbacks/"+a).remove().then(function(e){var a;return a=e.data.plain()})["finally"](function(){return o=null})},this.addAppReviewComment=function(e,a){var t;return t={app_comment:a},n.one("marketplace",parseInt(e)).post("/app_comments",t).then(function(e){var a;return a=e.data.plain()})},this.editComment=function(e,a,t){var s;return s={app_comment:t},n.one("marketplace/"+e+"/app_comments/"+a).patch(s).then(function(e){var a;return a=e.data.plain()})},this.deleteComment=function(e,a){return n.one("marketplace/"+parseInt(e)+"/app_comments/"+a).remove().then(function(e){var a;return a=e.data.plain()})},this.addAppQuestion=function(e,a){var t;return t={app_question:a},n.one("marketplace",parseInt(e)).post("/app_questions",t).then(function(e){var a;return a=e.data.plain()})},this.editQuestion=function(e,a,t){var s;return s=t,n.one("marketplace/"+parseInt(e)+"/app_questions/"+a).patch(s).then(function(e){var a;return a=e.data.plain()})},this.deleteQuestion=function(e,a){return n.one("marketplace/"+parseInt(e)+"/app_questions/"+a).remove().then(function(e){var a;return a=e.data.plain()})},this.addAppQuestionAnswer=function(e,a){var t;return t={app_answer:a},n.one("marketplace",parseInt(e)).post("/app_answers",t).then(function(e){var a;return a=e.data.plain()})},this.editAnswer=function(e,a,t){var s;return s=t,n.one("marketplace/"+parseInt(e)+"/app_answers/"+a).patch(s).then(function(e){var a;return a=e.data.plain()})},this.deleteAnswer=function(e,a){return n.one("marketplace/"+parseInt(e)+"/app_answers/"+a).remove().then(function(e){var a;return a=e.data.plain()})},this}])}.call(this),function(){angular.module("mnoEnterpriseAngular").factory("MnoeFullApiSvc",["Restangular","MnoeApiSvc","inflector",function(e,a,n){return a.withConfig(function(e){return e.setFullResponse(!0)})}])}.call(this),function(){angular.module("mnoEnterpriseAngular").service("MnoeCurrentUser",["MnoeApiSvc","$window","$state","URI",function(e,a,n,t){var s,o;return s=this,o=null,this.user={},this.get=function(){return null!=o?o:o=e.one("current_user").get().then(function(e){var n;return e=e.plain(),e.logged_in||(n=window.encodeURIComponent(""+location.pathname+location.hash),a.location.href=t.login+("?return_to="+n)),angular.copy(e,s.user),e})},this.refresh=function(){return o=null,s.get()},this.update=function(a){return e.all("current_user").doPUT({user:a}).then(function(e){return angular.copy(e,s.user),e})},this.registerDeveloper=function(){return e.all("/current_user").doPUT({},"/register_developer").then(function(e){return e.current_user})},this.updatePassword=function(a){return e.all("/current_user").doPUT({user:a},"update_password")},this}])}.call(this),function(){angular.module("mnoEnterpriseAngular").service("MnoeAuditEvents",["$log","MnoeFullApiSvc","MnoeOrganizations",function(e,a,n){var t,s;return s=this,t=function(){return a.one("organizations",n.selectedId).all("audit_events")},this.list=function(e,a,n){var s;return s={order_by:n,limit:e,offset:a},t().getList(s)},this.exportUrl=function(){return t().getRestangularUrl()+".csv"},this}])}.call(this),function(){angular.module("mnoEnterpriseAngular").service("MnoeAppInstances",["$q","MnoeApiSvc","MnoeOrganizations","MnoLocalStorage","MnoeCurrentUser","LOCALSTORAGE",function(e,a,n,t,s,o){var r,i,l,c;return r=this,this.appInstances=[],i=null,this.getAppInstances=function(){var a,n;return null!=i?i:(n=e.defer(),a=t.getObject(s.user.id+"_"+o.appInstancesKey),null!=a?(l(),r.appInstances=a,n.resolve(a)):l().then(function(e){return n.resolve(e)}),i=n.promise)},this.refreshAppInstances=function(){return i=null,r.clearCache(),r.emptyAppInstances(),l()},l=function(){var i;return i=e.defer(),n.get().then(function(){return r.appInstancesPromise=a.one("organizations",n.selectedId).one("/app_instances").get().then(function(e){var a;return e=e.plain(),a=c(e),t.setObject(s.user.id+"_"+o.appInstancesKey,a),i.resolve(a)})}),i.promise},c=function(e){var a;return r.appInstances.length=0,a=_.values(e.app_instances),Array.prototype.push.apply(r.appInstances,a),r.appInstances},this.oAuthConnectPath=function(e,a){var n;return null==a&&(a=""),r.clearCache(),r.emptyAppInstances(),n=window.encodeURIComponent(""+location.pathname+location.hash),"/mnoe/webhook/oauth/"+e.uid+"/authorize?redirect_path="+n+"&"+a},this.terminate=function(e){return a.one("app_instances",e).remove().then(function(){return _.remove(r.appInstances,{
id:e}),t.setObject(s.user.id+"_"+o.appInstancesKey,r.appInstances)})},this.emptyAppInstances=function(){return i=null,this.appInstances.length=0},this.clearCache=function(){return t.removeItem(s.user.id+"_"+o.appInstancesKey)},this.installStatus=function(e){return"office-365"===e.app_nid||"connector"!==e.stack||e.oauth_keys_valid?"INSTALLED_LAUNCH":"INSTALLED_CONNECT"},this}])}.call(this),function(){angular.module("mnoEnterpriseAngular").factory("MnoeApiSvc",["Restangular","inflector",function(e,a){return e.withConfig(function(e){return e.setBaseUrl("/mnoe/jpi/v1"),e.setDefaultHeaders({Accept:"application/json"}),e.addResponseInterceptor(function(e,n,t,s,o,r){var i;return i=null,_.startsWith(t,"/")?i=e:"getList"===n?i=e[t]:"get"===n||"post"===n||"put"===n?(t=a.singularize(t),i=e[t]):i=e,i})})}])}.call(this),function(){angular.module("mnoEnterpriseAngular").component("mnoWithoutOrganisation",{templateUrl:"app/components/mno-without-organisation/mno-without-organisation.html",controller:["$rootScope","$state","$q","$uibModal","MnoeCurrentUser","MnoeOrganizations","ORGANIZATION_MANAGEMENT",function(e,a,n,t,s,o,r){var i;i=this,i.canCreateOrganisation=r.enabled,i.openCreateOrgaModal=function(){var a;return a=t.open({templateUrl:"app/components/dashboard-company-selectbox/modals/create-company.html",controller:"CreateCompanyModalCtrl",size:"lg",windowClass:"inverse",backdrop:"static"}),a.result.then(function(a){return o.get(a.id).then(function(){return e.hasNoOrganisations=!1})})},s.get().then(function(e){return i.user=e})}]})}.call(this),function(){angular.module("mnoEnterpriseAngular").directive("mnoPassword",["MnoErrorsHandler",function(e){return{restrict:"E",scope:{form:"=",data:"=",confirm:"=?",current:"=?",minLength:"@",currentText:"@",newText:"@",confirmText:"@"},templateUrl:"app/components/mno-password/mno-password.html",link:function(a,n,t){return a.minLength||(a.minLength=6),a.current||(a.current=!1),a.confirm||(a.confirm=!1),a.errorHandler=e,a.password={hasMinLength:!1,hasOneNumber:!1,hasOneUpper:!1,hasOneLower:!1,isSamePassword:!1,check:function(){var e;return a.password.resetServerErrors(),a.password.hasMinLength=null!=a.data.password&&a.data.password.length>=a.minLength,a.password.hasOneNumber=!1,a.password.hasOneUpper=!1,a.password.hasOneLower=!1,angular.isString(a.data.password)&&(_.forEach(a.data.password.split(""),function(e){return Number.isInteger(parseInt(e))&&(a.password.hasOneNumber=!0),e!==e.toUpperCase()||e===e.toLowerCase()||parseInt(e)||(a.password.hasOneUpper=!0),e!==e.toLowerCase()||e===e.toUpperCase()||parseInt(e)?void 0:a.password.hasOneLower=!0}),e=a.password.hasMinLength&&a.password.hasOneNumber&&a.password.hasOneUpper&&a.password.hasOneLower,a.form.password.$setValidity("password",e)),a.confirm?(a.password.isSamePassword=!!a.data.password&&!!a.data.password_confirmation&&a.data.password===a.data.password_confirmation,a.form.password_confirmation.$setValidity("password_confirmation",a.password.isSamePassword)):void 0},resetServerErrors:function(){return e.resetErrors(a.form)}}}}}])}.call(this),function(){angular.module("mnoEnterpriseAngular").constant("ITEMS_PER_PAGE",[5,10,20,50,100]),angular.module("mnoEnterpriseAngular").directive("mnoPagination",["ITEMS_PER_PAGE",function(e){return{restrict:"AE",scope:{totalItems:"=",onChangeCb:"&",nbItemsValues:"=?",nbItems:"=",page:"=",isLoading:"=?"},templateUrl:"app/components/mno-pagination/mno-pagination.html",link:function(a){return a.pagination={maxPages:7},a.nbItemsValues||(a.nbItemsValues=e),a.onPageChange=function(){return a.onChangeCb({nbItems:a.nbItems,page:a.page})}}}}])}.call(this),function(){angular.module("mnoEnterpriseAngular").service("MnoLocalStorage",["$window","$log",function(e,a){var n;n=function(e){var n;if(e)return n={parse_error:"cannot fromJson undefined values",setobject_error:"LocalStorage is disabled"},a.warn("LocalStorage Service Warning: "+n[e])},this.set=function(a,t){var s;try{return e.localStorage[a]=t}catch(o){return s=o,n("setobject_error")}},this.get=function(a,t){var s,o;try{o=angular.fromJson(e.localStorage[a])}catch(r){s=r,n("parse_error"),o=e.localStorage[a]}return o||t},this.setObject=function(a,t){var s;"undefined"==typeof t&&n("parse_error");try{return e.localStorage[a]=angular.toJson(t||{})}catch(o){return s=o,n("setobject_error")}},this.getObject=function(a,n){return angular.fromJson(e.localStorage[a])||n},this.getKeys=function(){var a,n;for(n=[],a=0;a<e.localStorage.length;)n.push(e.localStorage.getItem(e.localStorage.key(a))),++a;return n},this.removeItem=function(a){return e.localStorage.removeItem(a)},this.clear=function(){return e.localStorage.clear()}}])}.call(this),function(){angular.module("mnoEnterpriseAngular").directive("mnoLoader",function(){return{scope:{withBackground:"="},restrict:"AE",template:'<div class="loading" ng-class="{ \'with-background\': withBackground }">\n  <div ng-show="withBackground" class="background-layer"></div>\n  <div class="fa-wrapper">\n    <i class="loader-icon"></i>\n  </div>\n</div>'}})}.call(this),function(){angular.module("mnoEnterpriseAngular").directive("mnoInlineMessage",function(){return{restrict:"AE",scope:{on:"=",message:"@"},templateUrl:"app/components/mno-inline-message/mno-inline-message.html"}})}.call(this),function(){angular.module("mnoEnterpriseAngular").directive("mnoImpersonationBar",function(){return{restrict:"EA",template:'<div id="impersonate-bar" class="row" ng-show="currentUser && currentUser.current_impersonator">\n  <div class="col-sm-6 col-sm-offset-3 col-md-8 col-md-offset-2 text-center">\n    You are logged in as {{currentUser.name}} {{currentUser.surname}} ({{currentUser.email}})\n    <a class="btn btn-sm btn-warning" type="submit" ng-click="exitImpersonation()">Revert to admin</a>\n  </div>\n</div>',controller:["$scope","$window","MnoeCurrentUser",function(e,a,n){return e.exitImpersonation=function(){return a.location.href="/mnoe/impersonate/revert"},n.get().then(function(a){return e.currentUser=a})}]}})}.call(this),function(){angular.module("mnoEnterpriseAngular").factory("MnoErrorsHandler",["$log",function(e){var a,n;return n={},a=null,n.processServerError=function(n,t){var s;if(!_.startsWith(n.data,"<!DOCTYPE html>"))return 400<=(s=n.status)&&499>=s?(a=n,_.each(a.data,function(a,n){return _.each(a,function(){return null!=t[n]?t[n].$setValidity("server",!1):e.error("MnoErrorsHandler: cannot find field:"+n)})})):void 0},n.errorMessage=function(e){var n;return n=[],null!=a&&_.each(a.data[e],function(e){return n.push(e)}),n.join(", ")},n.resetErrors=function(e){return null!=a?(_.each(a.data,function(a,n){return _.each(a,function(){return null!=e[n]?e[n].$setValidity("server",null):void 0})}),a=null):void 0},n.onlyServerError=function(e){return _.every(e.$error,function(e,a){return"server"===a})},n}])}.call(this),function(){angular.module("mnoEnterpriseAngular").service("MnoConfirm",["$uibModal","$q",function(e,a){var n,t,s;return n=this,s={closeButtonText:"Close",actionButtonText:"OK",headerText:"Proceed?",bodyText:"Perform this action?",actionCb:a.resolve,type:"primary"},t={backdrop:!0,keyboard:!0,modalFade:!0,templateUrl:"app/components/mno-confirm/mno-confirm.html"},this.showModal=function(e,a){return null==a&&(a=null),null==a&&(a={}),a.backdrop="static",n.show(e,a)},this.show=function(a,n){var o,r;return null==n&&(n=null),o={},r={},angular.extend(r,s,a),angular.extend(o,t,n),o.controller||(o.controller=["$scope","$uibModalInstance",function(e,a){"ngInject";return e.modalOptions=r,e.modalOptions.ok=function(){return e.modalOptions.isLoading=!0,e.modalOptions.actionCb().then(function(e){return a.close(e)})["finally"](function(){return e.modalOptions.isLoading=!1})},e.modalOptions.close=function(){return a.dismiss("cancel")}}]),e.open(o).result},this}])}.call(this),function(){angular.module("mnoEnterpriseAngular").component("mnoAuditEventsList",{templateUrl:"app/components/mno-audit-events-list/mno-audit-events-list.html",bindings:{view:"@"},controller:["$log","MnoeAuditEvents",function(e,a){var n,t,s;s=this,s.events={search:{},sort:"created_at.desc",nbItems:20,page:1,list:[],pageChangedCb:function(e,a){return s.events.nbItems=e,s.events.page=a,s.events.offset=(a-1)*e,n(e,s.events.offset)}},s.state=s.view,s.callServer=function(e){var a,o;return o=t(e.sort),a=null,n(s.events.nbItems,s.events.offset,o,a)},t=function(e){var a;return null==e&&(e={}),a="created_at.desc",e.predicate&&(a=e.predicate,a+=e.reverse?".desc":".asc"),s.events.sort=a,a},(n=function(e,n,t,o){return null==t&&(t=s.events.sort),null==o&&(o=s.events.search),s.events.loading=!0,a.list(e,n,t).then(function(e){return s.events.totalItems=e.headers("x-total-count"),s.events.list=e.data})["finally"](function(){return s.events.loading=!1})})(s.events.nbItems,0)}]})}.call(this),function(){var e=[].indexOf||function(e){for(var a=0,n=this.length;n>a;a++)if(a in this&&this[a]===e)return a;return-1};angular.module("mnoEnterpriseAngular").component("mnoAppOnboardingBtn",{bindings:{appInstance:"="},templateUrl:"app/components/mno-app-onboarding-btn/mno-app-onboarding-btn.html",controller:["$q","$state","$window","$uibModal","toastr","MnoeMarketplace","MnoeCurrentUser","MnoeOrganizations","MnoeAppInstances",function(a,n,t,s,o,r,i,l,c){var d,p;p=this,p.launchAppInstance=function(){return t.open("/mnoe/launch/"+p.appInstance.uid,"_blank")},p.launchOAuthConnectPath=function(){return t.location.href=c.oAuthConnectPath(p.appInstance),!0},p.connectAppInstance=function(){var e;switch(p.appInstance.app_nid){case"xero":e={template:"app/views/apps/modals/app-connect-modal-xero.html",controller:"DashboardAppConnectXeroModalCtrl"};break;case"myob":e={template:"app/views/apps/modals/app-connect-modal-myob.html",controller:"DashboardAppConnectMyobModalCtrl"};break;default:p.launchOAuthConnectPath()}return s.open({templateUrl:e.template,controller:e.controller,resolve:{app:p.appInstance}})},d=function(){return p.conflictingApp?"CONFLICT":p.appInstance.add_on?"ADD_ON":c.installStatus(p.appInstance)},p.init=function(){var n;return p.isLoadingAppInstances=!0,n=c.getAppInstances().then(function(e){return p.appInstance.status=d(),p.isLoadingAppInstances=!1,e}),a.all({marketplace:r.getApps(),appInstances:n}).then(function(a){var n,t,s,o,r;return t=a.marketplace.apps,n=a.appInstances,p.app=_.find(t,{nid:p.appInstance.app_nid}),r=_.compact(_.map(n,function(e){return e.app_nid})),s=_.filter(t,function(a){var n;return n=a.nid,e.call(r,n)>=0}),p.app.subcategories?(o=_.map(p.app.subcategories,"name"),p.conflictingApp=_.find(s,function(a){return _.find(a.subcategories,function(a){var n;return!a.multi_instantiable&&(n=a.name,e.call(o,n)>=0)})})):void 0})["finally"](function(){return p.isLoadingAppInstances=!1})},p.init()}]})}.call(this),function(){var e=[].indexOf||function(e){for(var a=0,n=this.length;n>a;a++)if(a in this&&this[a]===e)return a;return-1};angular.module("mnoEnterpriseAngular").component("mnoAppInstallBtn",{bindings:{app:"="},templateUrl:"app/components/mno-app-install-btn/mno-app-install-btn.html",controller:["$q","$state","$window","$uibModal","toastr","MnoeMarketplace","MnoeCurrentUser","MnoeOrganizations","MnoeAppInstances",function(a,n,t,s,o,r,i,l,c){var d,p,m,u;u=this,u.appInstallationStatus=function(){return u.appInstance?u.app.multi_instantiable?"INSTALLABLE":c.installStatus(u.appInstance):u.conflictingApp?"CONFLICT":"INSTALLABLE"},u.canProvisionApp=!1,u.provisionApp=function(){var e;if(u.canProvisionApp)return u.isLoadingButton=!0,e=l.role.atLeastAdmin(u.user_role)?l.purchaseApp(u.app,l.selectedId):m().result,e.then(function(){switch(n.go("home.impac"),u.app.stack){case"cloud":return p(u.app);case"cube":return p(u.app);case"connector":return"office-365"===u.app.nid?p(u.app):d(u.app)}}).then(function(){return c.refreshAppInstances()})["finally"](function(){return u.isLoadingButton=!1})},p=function(e){return o.success("mno_enterprise.templates.components.app_install_btn.success_launch_notification_body","mno_enterprise.templates.components.app_install_btn.success_notification_title",{extraData:{name:e.name},timeout:1e4})},d=function(e){return o.success("mno_enterprise.templates.components.app_install_btn.success_connect_notification_body","mno_enterprise.templates.components.app_install_btn.success_notification_title",{extraData:{name:e.name},timeout:1e4})},m=function(){return s.open({backdrop:"static",templateUrl:"app/views/marketplace/modals/choose-orga-modal.html",controller:"MarketplaceChooseOrgaModalCtrl",resolve:{app:u.app}})},u.launchAppInstance=function(){return t.open("/mnoe/launch/"+u.appInstance.uid,"_blank"),!0},u.connectAppInstance=function(){var e;switch(u.appInstance.app_nid){case"xero":e={template:"app/views/apps/modals/app-connect-modal-xero.html",controller:"DashboardAppConnectXeroModalCtrl"};break;case"myob":e={template:"app/views/apps/modals/app-connect-modal-myob.html",controller:"DashboardAppConnectMyobModalCtrl"};break;default:u.launchAppInstance()}return s.open({templateUrl:e.template,controller:e.controller,resolve:{app:u.appInstance}})},u.init=function(){return a.all({marketplace:r.getApps(),appInstances:c.getAppInstances(),currentUser:i.get()}).then(function(a){var n,t,s,o,r,i,c;return t=a.marketplace.apps,n=a.appInstances,o=a.currentUser,s=_.filter(o.organizations,function(e){return l.role.atLeastAdmin(e.current_user_role)}),u.canProvisionApp=!_.isEmpty(s),u.appInstance=_.find(n,{app_nid:u.app.nid}),c=_.compact(_.map(n,function(e){return e.app_nid})),r=_.filter(t,function(a){var n;return n=a.nid,e.call(c,n)>=0}),u.app.subcategories?(i=_.map(u.app.subcategories,"name"),u.conflictingApp=_.find(r,function(a){return _.find(a.subcategories,function(a){var n;return!a.multi_instantiable&&(n=a.name,e.call(i,n)>=0)})})):void 0})},u.init()}]})}.call(this),function(){angular.module("mnoEnterpriseAngular").directive("mnoAppFeatures",function(){return{restrict:"EA",templateUrl:"app/components/mno-app-features/mno-app-features.html",scope:{app:"="},controller:["$scope",function(e){e.isSingleBilling=!!e.app.single_billing,e.isDataSharing=!!e.app.is_connec_ready,e.isSingleSignOn=!!e.app.add_on}]}})}.call(this),function(){angular.module("mnoEnterpriseAngular").service("ImpacConfigSvc",["$log","$q","MnoeCurrentUser","MnoeOrganizations",function(e,a,n,t){return this.getUserData=function(){return n.get()},this.getOrganizations=function(){var s,o;return o=n.get().then(function(){var t,s;return s=n.user.organizations,s?s:(e.error(t={msg:"Unable to retrieve user organizations"}),a.reject(t))}),s=t.get(t.selectedId).then(function(){var n,s;return n=parseInt(t.selectedId),n?n:(e.error(s={msg:"Unable to retrieve current organization"}),a.reject(s))}),a.all([o,s]).then(function(e){return{organizations:e[0],currentOrgId:e[1]}})},this}])}.call(this),function(){angular.module("mnoEnterpriseAngular").directive("dashboardMenu",function(){return{restrict:"EA",templateUrl:"app/components/dashboard-menu/dashboard-menu.html",controller:["$scope","MnoeCurrentUser","MnoeOrganizations","DOCK_CONFIG","ORGANIZATION_MANAGEMENT","MARKETPLACE_CONFIG",function(e,a,n,t,s,o){e.isDockEnabled=t.enabled,e.isOrganizationManagementEnabled=s.enabled,e.isMarketplaceEnabled=o.enabled,e.$watch(n.getSelectedId,function(t){return null!=t?a.get().then(function(a){var s;return s=_.find(a.organizations,{id:parseInt(t)}),e.isAdmin=n.role.atLeastAdmin(s.current_user_role)}):void 0})}],link:function(e,a,n){return a.find(".menu").on("mouseenter",function(){return angular.element(this).stop(),angular.element(this).find(".brand-logo").addClass("expanded"),angular.element(this).find(".dashboard-button").find(".content").css("display","block"),angular.element(this).animate({width:275},150)}),a.find(".menu").on("mouseleave",function(){return angular.element(this).stop(),angular.element(this).find(".brand-logo").removeClass("expanded"),angular.element(this).find(".dashboard-button").find(".content").css("display","none"),angular.element(this).animate({width:80},150)})}}})}.call(this),function(){angular.module("mnoEnterpriseAngular").directive("dashboardLanguageSelectbox",function(){return{restrict:"EA",template:'<span class="selector-line form-inline form-group form-group-sm">\n  <label class="control-label" for="language-select">{{\'mno_enterprise.templates.components.language_selectbox.language\' | translate}}</label>\n  <select id="language-select" class="form-control" ng-model="selectedLangKey" ng-change="changeLanguage()" ng-options="locale.id as locale.name for locale in locales">\n  </select>\n</span>',controller:["$scope","$translate","$window","$uibModal","MnoConfirm","LOCALES","URI",function(e,a,n,t,s,o,r){return e.locales=o.locales,e.selectedLangKey=a.use(),e.$watch("selectedLangKey",function(a,n){return e.previousLocale=n}),e.changeLanguage=function(){var t,i;return t=_.findWhere(o.locales,{id:e.selectedLangKey}),i={closeButtonText:"Cancel",actionButtonText:"Change language",headerText:"Change language to "+t.name+"?",bodyText:"Are you sure you want to change language to "+t.name+"?"},s.showModal(i).then(function(){return a.use(e.selectedLangKey),n.location.href="/"+e.selectedLangKey+r.dashboard},function(){return e.selectedLangKey=e.previousLocale})}}]}})}.call(this),function(){var e;e=["$scope","$state","$stateParams","$uibModal","MnoeCurrentUser","MnoeOrganizations","MnoeAppInstances","ORGANIZATION_MANAGEMENT","ONBOARDING_WIZARD_CONFIG",function(e,a,n,t,s,o,r,i,l){"ngInject";var c,d;return e.selectBox=c={isClosed:!0,isShown:!1,user:s.user,organization:"",isOrganizationManagementEnabled:i.enabled},c.changeTo=function(e){return e.id!==parseInt(o.selectedId)?(r.emptyAppInstances(),r.clearCache(),o.get(e.id),c.close()):void 0},d=function(){return c.organization=_.find(s.user.organizations,{id:parseInt(o.selectedId)})},c.toggle=function(){return c.isClosed=!c.isClosed},c.close=function(){return c.isClosed=!0},c.openCreateCompanyModal=function(){var e;return e=t.open({templateUrl:"app/components/dashboard-company-selectbox/modals/create-company.html",controller:"CreateCompanyModalCtrl",size:"lg",windowClass:"inverse",backdrop:"static"}),e.result.then(function(e){return c.changeTo(e),l.enabled?a.go("onboarding.step1"):a.go("home.impac")})},e.$watch(o.getSelectedId,function(e){return null!=e?d():void 0})}],angular.module("mnoEnterpriseAngular").directive("dashboardCompanySelectbox",function(){return{restrict:"EA",controller:e,templateUrl:"app/components/dashboard-company-selectbox/dashboard-company-selectbox.html"}})}.call(this),function(){var e;e=["$scope","$cookies","$uibModal","$window","$timeout","MnoeOrganizations","MnoeAppInstances","MARKETPLACE_CONFIG","ONBOARDING_WIZARD_CONFIG",function(e,a,n,t,s,o,r,i,l){"ngInject";return e.appDock={},e.apps=[],e.appDock.isMinimized=!0,e.activeApp=null,e.launchApp={isClosed:!0},e.popoverTemplateUrl="app/components/dashboard-apps-dock/no-apps-notification.html",e.isMarketplaceEnabled=i.enabled,e.isOnboardingEnabled=l.enabled,e.isPopoverActive=e.isMarketplaceEnabled&&e.isOnboardingEnabled,e.appDock.isAnimated=function(){return null===e.activeApp},e.modal||(e.modal={}),e.helper={},e.helper.displaySettings=function(){return o.can.update.appInstance()},e.helper.isLaunchHidden=function(a){return"terminating"===a.status||"terminated"===a.status||e.helper.isOauthConnectBtnShown(a)||e.helper.isNewOfficeApp(a)},e.helper.isOauthConnectBtnShown=function(e){return"office-365"!==e.app_nid&&"connector"===e.stack&&!e.oauth_keys_valid},e.helper.isNewOfficeApp=function(e){return"connector"===e.stack&&"office-365"===e.appNid&&moment(e.createdAt)>moment().subtract({minutes:5})},e.helper.oAuthConnectPath=function(e){return r.clearCache(),t.location.href="/mnoe/webhook/oauth/"+e.uid+"/authorize"},e.launchAction=function(a,n){return e.setActiveApp(n,a.id),a.customInfoRequired?!1:(t.open("/mnoe/launch/"+a.uid,"_blank"),!0)},e.setActiveApp=function(a,n){return e.isActiveApp(n)?e.activeApp=null:(angular.element(a.target).off("mouseout"),e.activeApp=n)},e.isActiveApp=function(a){return e.activeApp===a},e.appDock.toggle=function(){return e.appDock.isMinimized=!e.appDock.isMinimized},e.isPopoverShown=function(){return e.isPopoverActive&&!e.isLoading&&_.isEmpty(e.apps)},e.closePopover=function(){return e.isPopoverActive=!1},e.showSettingsModal=function(e){var a;return a=n.open({templateUrl:"app/views/apps/modals/app-settings-modal.html",controller:"DashboardAppSettingsModalCtrl",resolve:{app:function(){return e}}})},e.showConnectModal=function(a){var t,s;switch(a.app_nid){case"xero":t={template:"app/views/apps/modals/app-connect-modal-xero.html",controller:"DashboardAppConnectXeroModalCtrl"};break;case"myob":t={template:"app/views/apps/modals/app-connect-modal-myob.html",controller:"DashboardAppConnectMyobModalCtrl"};break;default:e.helper.oAuthConnectPath(a)}return s=n.open({templateUrl:t.template,controller:t.controller,resolve:{app:function(){return a}}})},e.$watch(o.getSelectedId,function(a){return null!=a?(e.isLoading=!0,r.getAppInstances().then(function(a){return e.apps=a})["finally"](function(){return e.isLoading=!1})):void 0}),e.displayDock=function(){return e.isMarketplaceEnabled||null!=e.apps&&e.apps.length>0}}],angular.module("mnoEnterpriseAngular").directive("dashboardAppsDock",["$window",function(a){return{link:function(e,n){var t,s;return s=angular.element(window).height(),t=.7*s,angular.element("#mobile-dock").css({maxHeight:t+"px"}),n.on("mouseover",function(a){var n,t;return null===e.activeApp&&a.target.src?(n=a.target.parentNode,t=angular.element(n.previousElementSibling),t&&t.addClass("prev"),angular.element(a.target).bind("mouseout mouseleave",function(){return t?t.removeClass("prev"):void 0})):void 0}),angular.element(a).on("mouseup",function(a){var n;return null!=e.activeApp&&e.launchApp.isClosed&&(n=$("li.active.dock-icon"),0===n.has(a.target).length&&!n.is(a.target))?e.$apply(e.activeApp=null,$("ul.dock:not(.animated) > li.prev").removeClass("prev")):void 0})},restrict:"EA",controller:e,templateUrl:"app/components/dashboard-apps-dock/dashboard-apps-dock.html"}}]),angular.module("mnoEnterpriseAngular").directive("popoverToggle",function(){return{scope:!0,link:function(e,a){return e.toggle=function(){return e.isPopoverShown=!1},a.on("click",e.toggle)}}})}.call(this),function(){angular.module("mnoEnterpriseAngular").service("AnalyticsSvc",["MnoeCurrentUser","INTERCOM_ID","$window",function(e,a,n){return this.init=function(t){return n.Intercom?e.get().then(function(e){return t={user_id:e.id,app_id:a,name:e.name,surname:e.surname,company:e.company,email:e.email,created_at:e.created_at},e.user_hash&&(t.user_hash=e.user_hash),n.Intercom("boot",t)}):void 0},this.update=function(){return n.Intercom?n.Intercom("update"):void 0},this.logOut=function(){return n.Intercom?n.Intercom("shutdown"):void 0},this}])}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("LayoutController",["$scope","$stateParams","$state","$q","MnoeCurrentUser","MnoeOrganizations",function(e,a,n,t,s,o){"ngInject";e.$watch(o.getSelectedId,function(e){return null!=e?s.get().then(function(a){var t;return n.is("home.impac")||n.is("home.apps")?(t=_.find(a.organizations,{id:parseInt(e)}),o.role.atLeastAdmin(t.current_user_role)?n.go("home.impac"):n.go("home.apps")):void 0}):void 0})}])}.call(this),function(){angular.module("mnoEnterpriseAngular").filter("truncate",function(){return function(e,a,n,t){var s;return e?(a=parseInt(a,10))?e.length<=a?e:(e=e.substr(0,a),t&&(s=e.lastIndexOf(" "),-1!==s&&(e=e.substr(0,s))),e+(n||"")):e:""}})}.call(this),function(){var e,a;angular.module("mnoEnterpriseAngular").filter("filterQuestions",function(){return function(n,t){var s;return s={},t=t.toLowerCase(),angular.forEach(n,function(n,o){return a(n,t)||e(n,t)?s[o]=n:void 0}),s}},a=function(e,a){return e.description.toLowerCase().includes(a)},e=function(e,a){var n;return n=!1,_.each(e.answers,function(e){return e.description.toLowerCase().includes(a)&&(n=!0),!0}),n})}.call(this),function(){console.info("MnoEnterprise AngularJS Frontend - v1.1.3"),window.mnoe={version:"1.1.3"}}.call(),function(){angular.module("mnoEnterpriseAngular").run(["editableOptions",function(e){return e.theme="bs3"}]).run(["$rootScope","APP_NAME",function(e,a){return e.app_name=a}]).run(["$rootScope",function(e){return e.$on("$viewContentLoaded",function(){return window.scrollTo(0,0)})}]).run(["$window","$translate","LOCALES",function(e,a,n){var t,s,o,r;return o=e.location.pathname,r=/^\/([A-Za-z]{2})\/dashboard\//i,t=o.match(r),s=null!=t?t[1]:n.preferredLocale,a.use(s)}]).run(["$templateCache",function(e){return e.put("directives/toast/toast.html",'<div class="{{toastClass}} {{toastType}}" ng-click="tapToast()">\n  <div ng-switch on="allowHtml">\n    <div ng-switch-default ng-if="title" class="{{titleClass}}" aria-label="{{title | translate}}">{{title | translate:extraData}}</div>\n    <div ng-switch-default class="{{messageClass}}" aria-label="{{message | translate:extraData}}">{{message | translate:extraData}}</div>\n    <div ng-switch-when="true" ng-if="title" class="{{titleClass}}" ng-bind-html="title | translate:extraData"></div>\n    <div ng-switch-when="true" class="{{messageClass}}" ng-bind-html="message | translate:extraData"></div>\n  </div>\n  <progress-bar ng-if="progressBar"></progress-bar>\n</div>')}]).run(["toastr","$location",function(e,a){var n,t;return(n=a.search().flash)?(t=JSON.parse(n),e[t.type](t.msg,_.capitalize(t.type),{timeout:1e4}),a.search("flash",null)):void 0}]).run(["$rootScope","$timeout","AnalyticsSvc",function(e,a,n){return a(function(){return n.init()}),e.$on("$stateChangeSuccess",function(){return n.update()})}]).run(["$rootScope","$q","$location","$stateParams","MnoeCurrentUser","MnoeOrganizations","MnoeMarketplace","MnoeAppInstances",function(e,a,n,t,s,o,r,i){var l,c,d;return l=this,e.isLoggedIn=!1,d=s.get(),l.appInstancesDeferred=a.defer(),c=o.getCurrentOrganisation().then(function(e){return i.getAppInstances().then(function(e){return l.appInstancesDeferred.resolve(e)}),e}),a.all([d,c,l.appInstancesDeferred.promise]).then(function(){return e.isLoggedIn=!0,r.getApps()})["catch"](function(){return e.isLoggedIn=!0,e.hasNoOrganisations=!0})}])}.call(this),function(){angular.module("mnoEnterpriseAngular").config(["$stateProvider","$urlRouterProvider","URI","I18N_CONFIG","MARKETPLACE_CONFIG","ONBOARDING_WIZARD_CONFIG",function(e,a,n,t,s,o){return e.state("home",{data:{pageTitle:"Home"},"abstract":!0,url:"?dhbRefId",templateUrl:"app/views/layout.html",controller:"LayoutController",controllerAs:"layout"}).state("home.apps",{data:{pageTitle:"Apps"},url:"/apps",templateUrl:"app/views/apps/dashboard-apps-list.html",controller:"DashboardAppsListCtrl"}).state("home.impac",{data:{pageTitle:"Impac"},url:"/impac",templateUrl:"app/views/impac/impac.html",controller:"ImpacController",controllerAs:"vm"}).state("home.account",{data:{pageTitle:"Account"},url:"/account",templateUrl:"app/views/account/account.html",controller:"DashboardAccountCtrl",controllerAs:"vm"}).state("home.company",{data:{pageTitle:"Company"},url:"/company",templateUrl:"app/views/company/company.html",controller:"DashboardCompanyCtrl",controllerAs:"vm"}).state("logout",{url:"/logout",controller:["$window","$http","$translate","AnalyticsSvc","URL_CONFIG",function(e,a,s,o,r){"ngInject";return a["delete"](n.logout).then(function(){var a;return o.logOut(),a=r.after_sign_out_url||n.login,t.enabled?r.after_sign_out_url?e.location.href=a:e.location.href="/"+s.use()+n.login:e.location.href=a})}]}),o.enabled&&e.state("onboarding",{"abstract":!0,url:"/onboarding",templateUrl:"app/views/onboarding/layout.html",controller:"OnboardingController",controllerAs:"onboarding"}).state("onboarding.step1",{data:{pageTitle:"Welcome"},url:"/welcome",templateUrl:"app/views/onboarding/step1.html",controller:"OnboardingStep1Controller",controllerAs:"vm"}).state("onboarding.step2",{data:{pageTitle:"Select your apps"},url:"/select-apps",templateUrl:"app/views/onboarding/step2.html",controller:"OnboardingStep2Controller",controllerAs:"vm"}).state("onboarding.step3",{data:{pageTitle:"Connect your apps"},url:"/connect-app",templateUrl:"app/views/onboarding/step3.html",controller:"OnboardingStep3Controller",controllerAs:"vm"}),s.enabled&&e.state("home.marketplace",{data:{pageTitle:"Marketplace"},url:"/marketplace",templateUrl:"app/views/marketplace/marketplace.html",controller:"DashboardMarketplaceCtrl",controllerAs:"vm"}).state("home.marketplace.app",{data:{pageTitle:"Marketplace-App"},url:"^/marketplace/:appId",views:{"@home":{templateUrl:"app/views/marketplace/marketplace-app.html",controller:"DashboardMarketplaceAppCtrl",controllerAs:"vm"}}}).state("home.marketplace.compare",{data:{pageTitle:"Compare apps"},url:"^/marketplace/apps/compare",views:{"@home":{templateUrl:"app/views/marketplace/marketplace-compare.html",controller:"DashboardMarketplaceCompareCtrl",controllerAs:"vm"}}}),a.otherwise(function(e,a){var n,t;return o.enabled?(t=e.get("MnoeOrganizations"),n=e.get("MnoeAppInstances"),t.getCurrentOrganisation().then(function(){return n.getAppInstances().then(function(e){return _.isEmpty(e)?a.url("/onboarding/welcome"):a.url("/impac")})})):void a.url("/impac")})}])}.call(this),function(){angular.module("mnoEnterprise.defaultConfiguration",[]).constant("IMPAC_CONFIG",{}).constant("I18N_CONFIG",{}).constant("PRICING_CONFIG",{enabled:!0}).constant("PAYMENT_CONFIG",{disabled:!1}).constant("ORGANIZATION_MANAGEMENT",{enabled:!0}).constant("USER_MANAGEMENT",{enabled:!0}).constant("DOCK_CONFIG",{enabled:!0}).constant("DEVELOPER_SECTION_CONFIG",{enabled:!1}).constant("ONBOARDING_WIZARD_CONFIG",{enabled:!1}).constant("REVIEWS_CONFIG",{enabled:!1}).constant("QUESTIONS_CONFIG",{enabled:!1}).constant("MARKETPLACE_CONFIG",{enabled:!0,comparison:{enabled:!1}}).constant("AUDIT_LOG",{enabled:!1}).constant("GOOGLE_TAG_CONTAINER_ID",null).constant("APP_NAME",null).constant("INTERCOM_ID",null).constant("URL_CONFIG",{}).constant("DEVISE_CONFIG",{registration:{disabled:!1},min_password_length:6})}.call(this),function(){angular.module("mnoEnterpriseAngular").controller("IndexController",["$scope","$sce","GOOGLE_TAG_CONTAINER_ID","INTERCOM_ID",function(e,a,n,t){"ngInject";null!=n&&(e.google_tag_scripts=a.trustAsHtml('<noscript>\n    <iframe src="//www.googletagmanager.com/ns.html?id='+n+"\" height=\"0\" width=\"0\" style=\"display:none;visibility:hidden\"></iframe>\n</noscript>\n<script>\n    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push(\n    {'gtm.start': new Date().getTime(),event:'gtm.js'}\n    );var f=d.getElementsByTagName(s)[0],\n    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n    })(window,document,'script','dataLayer', '"+n+"');\n</script>")),null!=t&&(e.intercom=a.trustAsHtml('<script id="IntercomSettingsScriptTag">\n  window.intercomSettings = {"widget": {"activator": "#IntercomDefaultWidget"}}\n</script>\n<script>(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic(\'reattach_activator\');\n  ic(\'update\',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];\n  i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement(\'script\');\n  s.type=\'text/javascript\';s.async=true;s.src=\'https://widget.intercom.io/widget/'+t+"';\n  var x=d.getElementsByTagName('script')[0];\n  x.parentNode.insertBefore(s,x);}l()}})()\n</script>"))}])}.call(this),function(){angular.module("mnoEnterpriseAngular").constant("URI",{login:"/mnoe/auth/users/sign_in",dashboard:"/dashboard/",logout:"/mnoe/auth/users/sign_out"}).constant("DOC_LINKS",{connecDoc:"https://maestrano.atlassian.net/wiki/x/BIHLAQ"}).constant("LOCALSTORAGE",{appInstancesKey:"appInstancesV2"}).constant("LOCALES",{locales:[{id:"en",name:"English",flag:""},{id:"id",name:"Indonesian",flag:""},{id:"zh",name:"Chinese (Singapore)",flag:""}],preferredLocale:"en",fallbackLanguage:"en"})}.call(this),function(){angular.module("mnoEnterpriseAngular").config(["$logProvider","toastrConfig",function(e,a){
"ngInject";return e.debugEnabled(!0),a.timeOut=5e3,a.positionClass="toast-top-right",a.preventDuplicates=!0,a.progressBar=!0}]).config(["$httpProvider",function(e){"ngInject";var a;return e.defaults.headers.common.Accept="application/json",e.defaults.headers.common["Content-Type"]="application/json",(a=$("meta[name='csrf-token']").attr("content"))&&(e.defaults.headers.common["X-CSRF-Token"]=a),e}]).config(["$httpProvider",function(e){return e.interceptors.push(["$q","$window","$injector","$log",function(e,a,n,t){return{responseError:function(s){var o,r;switch(r=n.get("toastr"),s.status){case 401:return console.log("User is not connected!"),o=window.encodeURIComponent(""+location.pathname+location.hash),a.location.href="/?return_to="+o;case 403:return s.data.error&&"Your password is expired. Please renew your password."===s.data.error?(t.info("[PasswordExpiredInterceptor] Password Expired!"),a.location.href="/mnoe/auth/users/password_expired",e.defer().promise):e.reject(s);case 429:case 503:return t.info("[MnoHubErrorInterceptor] MnoHub error, redirecting to error page"),a.location.href="/mnoe/errors/"+s.status,r.error("mno_enterprise.errors."+s.status+".description","mno_enterprise.errors."+s.status+".title"),e.defer().promise;default:return e.reject(s)}}}}])}]).config(["$sceDelegateProvider",function(e){"ngInject";return e.resourceUrlWhitelist(["self"])}]).config(["$translateProvider","LOCALES",function(e,a){return e.useStaticFilesLoader({files:[{prefix:"locales/",suffix:".locale.json"},{prefix:"locales/impac/",suffix:".json"}]}),e.fallbackLanguage(a.fallbackLanguage),e.useSanitizeValueStrategy("sanitizeParameters"),e.useMessageFormatInterpolation()}])}.call(this),function(){angular.module("mnoEnterpriseAngular").config(["ImpacRoutesProvider","IMPAC_CONFIG",function(e,a){var n,t,s;return s=a.paths.mnohub_api,t={mnoHub:s,impacApi:a.protocol+"://"+a.host+"/api",kpis:{index:s+"/impac/kpis"}},n=[{provider:"maestrano",name:"finance",category:"accounts"}],e.configureRoutes(t),e.configureBolts("v2",n)}]).config(["ImpacThemingProvider",function(e){var a;return a={dataNotFoundConfig:{linkUrl:"marketplace"},dhbErrorsConfig:{firstTimeCreated:{note:""}},dhbConfig:{multiCompany:!0},dhbSelectorConfig:{pdfModeEnabled:!0},dhbKpisConfig:{enableKpis:!0},alertsConfig:{enableAlerts:!0},widgetSettings:{tagging:{enabled:!0}}},e.configure(a)}]).config(["ImpacAssetsProvider",function(e){var a;return a={defaultImagesPath:"/dashboard/images"},e.configure(a)}]).run(["ImpacLinking","ImpacConfigSvc","IMPAC_CONFIG",function(e,a,n){var t;return t={user:a.getUserData,organizations:a.getOrganizations},null!=n.pusher&&null!=n.pusher.key&&(t.pusher_key=n.pusher.key),e.linkData(t)}])}.call(this),angular.module("mnoEnterpriseAngular").directive("starRating",function(){return{restrict:"EA",template:"<ul class='rating' ng-class='{readonly: readonly}'>  <li ng-repeat='star in stars' ng-class='star' ng-click='toggle($index)'>    <i class='fa fa-star'></i>  </li></ul>",scope:{ratingValue:"=ngModel",max:"=?",onRatingSelected:"&?",readonly:"=?"},link:function(e){function a(){e.stars=[];for(var a=0;a<e.max;a++)e.stars.push({filled:a<e.ratingValue})}void 0==e.max&&(e.max=5),e.toggle=function(a){(void 0==e.readonly||0==e.readonly)&&(e.ratingValue=a+1,e.onRatingSelected&&e.onRatingSelected({rating:a+1}))},e.$watch("ratingValue",function(e){null!==e&&a()})}}}),angular.module("mnoEnterpriseAngular").directive("averageStarRating",function(){return{restrict:"EA",template:"<div class='average-rating-container' ng-class='{withrating: displayRating}'}>  <ul class='rating background' class='readonly'>    <li ng-repeat='star in stars' class='star'>      <i class='fa fa-star'></i>    </li>  </ul>  <ul class='rating foreground' class='readonly' style='width:{{filledInStarsContainerWidth}}%'>    <li ng-repeat='star in stars' class='star filled'>      <i class='fa fa-star'></i>    </li>  </ul></div><span ng-if='displayRating' class='badge'>{{averageRatingValue}}</span>",scope:{averageRatingValue:"=ngModel",displayRating:"=?",max:"=?"},link:function(e){function a(){e.stars=[];for(var a=0;a<e.max;a++)e.stars.push({});var n=100;e.filledInStarsContainerWidth=e.averageRatingValue/e.max*n}void 0===e.displayRating&&(e.displayRating=!1),void 0===e.max&&(e.max=5),e.$watch("averageRatingValue",function(e,n){n&&a()})}}}),angular.module("mnoEnterpriseAngular").run(["$templateCache",function(e){e.put("app/views/layout.html",'<div class="container-fluid"> <mno-impersonation-bar></mno-impersonation-bar> </div> <div ng-if="isLoggedIn && hasNoOrganisations" class="layout-loading"> <mno-without-organisation></mno-without-organisation> </div> <div id="dashboard" ng-if="isLoggedIn && !hasNoOrganisations"> <dashboard-company-selectbox></dashboard-company-selectbox> <dashboard-menu></dashboard-menu> <div class="container"> <div ui-view=""></div> </div> </div> '),e.put("app/components/dashboard-apps-dock/dashboard-apps-dock.html",'<div id="app-dock-container" class="hidden-xs hidden-sm hidden-print"> <div ng-if="displayDock()" id="app-dock"> <ul class="dock list-unstyled" ng-class="{minimized: appDock.isMinimized, animated: appDock.isAnimated()}"> <li ng-show="isLoading"><i class="fa fa-spin fa-refresh loader-icon"></i></li> <li ng-repeat="app in apps" ng-class="{active: isActiveApp(app.id)}" class="dock-icon"> <div class="title" tooltip="{{app.name.length > 14 ? app.name : null}}" tooltip-placement="bottom">{{app.name | truncate:14:"...":true}}</div> <img class="app-logo" ng-src="{{app.logo}}" ng-click="setActiveApp($event, app.id)"> <div class="dock-menu"> <div class="dock-arrow"><i class="fa fa-chevron-up"></i></div> <div class="inner-dock-menu">  <div class="menu-item ng-hide" ng-hide="helper.isLaunchHidden(app)"> <a ng-click="launchAction(app,$event);"><i class="fa fa-play-circle"></i>{{ \'mno_enterprise.templates.impac.dock.launch\' | translate }}</a> </div> <div class="menu-item ng-hide" ng-show="helper.isOauthConnectBtnShown(app)"> <a ng-click="showConnectModal(app)"><i class="fa fa-play-circle"> </i> {{ \'mno_enterprise.templates.impac.dock.connect\' | translate }}</a> </div> <div class="menu-item ng-hide" ng-show="helper.displaySettings()"> <a ng-click="showSettingsModal(app)"><i class="fa fa-cog"></i> {{ \'mno_enterprise.templates.impac.dock.settings.settings\' | translate }} </a> </div> </div> </div> </li> <li> <div ng-if="isMarketplaceEnabled" class="add-app"> <a ui-sref="home.marketplace"> <i class="fa fa-plus-circle"></i> <span> {{ \'mno_enterprise.templates.impac.dock.add_more_apps\' | translate }} </span> </a> </div> </li> <li class="expand-menu"> <div> <a ng-click="appDock.toggle()" ng-switch="appDock.isMinimized"> <i class="fa fa-chevron-down" ng-switch-when="true"></i> <i class="fa fa-chevron-up" ng-switch-when="false"></i> </a> </div> </li> </ul> </div> <div popover-is-open="isPopoverShown()" popover-placement="bottom" uib-popover-template="popoverTemplateUrl" popover-trigger="\'outsideClick\'"></div> </div> <div id="app-dock-mobile-container" class="visible-xs visible-sm hidden-print"> <div class="mobile-dock-button align-center btn" ng-click="launchApp.isClosed = !launchApp.isClosed"> {{ \'mno_enterprise.templates.impac.dock.launch\' | translate }} <i class="fa fa-chevron-down pull-right" ng-hide="launchApp.isClosed"></i> </div> <div id="mobile-dock" uib-collapse="launchApp.isClosed"> <ul class="list-unstyled"> <li ng-repeat="app in apps" ng-class="{active: isActiveApp(app.id)}" ng-switch="" on="isActiveApp(app.id)"> <div class="app-line" ng-switch-when="true"> <i class="fa fa-angle-left" ng-click="setActiveApp($event, app.id)"></i> <div ng-show="app.tutorial"> <a class="btn btn-warning" ng-href="{{app.tutorial}}"><span class="fa fa-book"></span> {{ \'mno_enterprise.templates.dashboard.apps_list.tutorial\' | translate }}</a> <br> </div> <div ng-show="helper.displaySettings()"> <a class="btn btn-warning" ng-click="showSettingsModal(app)"><span class="fa fa-cog"></span> {{ "mno_enterprise.templates.dashboard.organization.index.settings.title" | translate }}</a> </div> </div> <div class="app-line" ng-switch-default=""> <button ng-click="showSettingsModal(app)" class="btn btn-primary"> <i class="fa fa-cog"></i> </button> <img class="app-logo" ng-src="{{app.logo}}"> <div> <div class="title">{{app.name}}</div> <div ng-hide="helper.isLaunchHidden(app)"> <a ng-click="launchAction(app,$event);" class="btn btn-warning">{{ \'mno_enterprise.templates.impac.dock.launch\' | translate }}</a> </div> <div ng-show="helper.isOauthConnectBtnShown(app)"> <a ng-click="showConnectModal(app)" class="btn btn-warning">{{ \'mno_enterprise.templates.impac.dock.connect\' | translate }}</a> </div> </div> </div> </li> <a ng-if="isMarketplaceEnabled" ui-sref="home.marketplace" class="btn btn-link add-app"> <i class="fa fa-plus"></i><span> {{ \'mno_enterprise.templates.impac.dock.add_more_apps\' | translate }}</span> </a> </ul> </div> </div> '),e.put("app/components/dashboard-apps-dock/no-apps-notification.html",'<div class="close top-right-corner" type="button" aria-label="Close" ng-click="$parent.closePopover()">x</div> <i class="fa fa-info-circle" aria-hidden="true"></i> {{ \'mno_enterprise.templates.impac.dock.do_not_have_apps\' | translate }} <a ui-sref="onboarding.step2">{{ \'mno_enterprise.templates.impac.dock.click_here\' | translate }}</a> '),e.put("app/components/dashboard-company-selectbox/dashboard-company-selectbox.html",'    <div class="company-select-box hidden-print"> <div class="wrapper"> <div class="box-header" ng-click="selectBox.toggle()"> <img ng-src="{{selectBox.user.avatar_url}}"> <div class="title"> <span class="name">{{ selectBox.user.name }} {{ selectBox.user.surname }}</span><br> <span class="company">{{ selectBox.organization.name }}</span> </div> <i class="expand-menu fa" ng-class="selectBox.isClosed? \'fa-chevron-down\': \'fa-chevron-up\'"></i> </div> <div class="box-content scrollbar-hidden" uib-collapse="selectBox.isClosed"> <ul class="list-unstyled"> <li ng-repeat="organization in selectBox.user.organizations | orderBy:\'name\'"> <a href="" class="company-link" ng-click="selectBox.changeTo(organization)"> <i class="fa" ng-class="organization === selectBox.organization ? \'fa-dot-circle-o\' : \'fa-circle-o\'"></i> <span>{{organization.name}}</span> </a> </li> </ul> <div class="default-link" ng-if="selectBox.isOrganizationManagementEnabled"> <button type="button" class="btn btn-warning" ng-click="selectBox.openCreateCompanyModal()"> {{ \'mno_enterprise.templates.dashboard.menu.new_company\' | translate }} </button> </div> <a href="/admin/" class="default-link" ng-if="selectBox.user.admin_role"> <i class="fa fa-cog"></i> <span>{{ \'mno_enterprise.templates.dashboard.menu.access_admin_panel\' | translate }}</span> </a> <a ui-sref="logout" class="default-link"> <i class="fa fa-sign-out"></i> <span>{{ \'mno_enterprise.templates.dashboard.menu.logout\' | translate }}</span> </a> </div> </div> </div> '),e.put("app/components/dashboard-menu/dashboard-menu.html",'    <nav class="navbar navbar-fixed-top navbar-inverse visible-xs hidden-print" role="navigation"> <div class="navbar-header"> <button type="button" class="navbar-toggle" ng-init="navCollapsed = true" ng-click="navCollapsed = !navCollapsed"> <span class="sr-only">{{ \'mno_enterprise.templates.dashboard.menu.toggle_navigation\' | translate }}</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="#">{{ \'mno_enterprise.templates.dashboard.menu.dashboard\' | translate }}</a> </div> <div class="collapse navbar-collapse" uib-collapse="navCollapsed"> <ul class="nav navbar-nav">    <li> <a ng-if="!isAdmin" ui-sref="home.apps" ui-sref-active="active">{{ \'mno_enterprise.templates.dashboard.menu.dashboard\' | translate }}</a> </li> <li ng-if="!isDockEnabled"> <a ng-if="isAdmin" ui-sref="home.apps" ui-sref-active="active">{{ \'mno_enterprise.templates.dashboard.menu.dashboard\' | translate }}</a> </li> <li ng-if="!isDockEnabled"> <a ng-if="isAdmin" ui-sref="home.impac" ui-sref-active="active">{{ \'mno_enterprise.templates.dashboard.menu.impac\' | translate }}</a> </li> <li ng-if="isDockEnabled"> <a ng-if="isAdmin" ui-sref="home.impac" ui-sref-active="active">{{ \'mno_enterprise.templates.dashboard.menu.dashboard\' | translate }}</a> </li> <li> <a ui-sref="home.account" ui-sref-active="active">{{ \'mno_enterprise.templates.dashboard.menu.my_account\' | translate }}</a> </li> <li ng-if="isOrganizationManagementEnabled"> <a ui-sref="home.company" ui-sref-active="active">{{ \'mno_enterprise.templates.dashboard.menu.company\' | translate }}</a> </li> <li ng-if="isMarketplaceEnabled"> <a ui-sref="home.marketplace" ui-sref-active="active">{{ \'mno_enterprise.templates.dashboard.menu.marketplace\' | translate }}</a> </li> <li> <a ui-sref="logout">{{ \'mno_enterprise.templates.dashboard.menu.logout\' | translate }}</a> </li> </ul> </div> </nav>    <div class="menu-wrapper col-xs-1 hidden-xs hidden-print"> <nav class="menu vertical">  <a href="/"> <div class="brand-logo"></div> </a> <a ng-if="(!isDockEnabled && isAdmin) || !isAdmin" ui-sref="home.apps" class="dashboard-button top-buffer-1" ui-sref-active="active"> <div class="content">{{ \'mno_enterprise.templates.dashboard.menu.dashboard\' | translate }}</div> <i class="dhb-icon-dashboard"></i> </a> <a ng-if="isDockEnabled && isAdmin" ui-sref="home.impac" class="dashboard-button top-buffer-1" ui-sref-active="active"> <div class="content">{{ \'mno_enterprise.templates.dashboard.menu.dashboard\' | translate }}</div> <i class="dhb-icon-impac"></i> </a> <a ng-if="!isDockEnabled && isAdmin" ui-sref="home.impac" class="dashboard-button top-buffer-1" ui-sref-active="active"> <div class="content">{{ \'mno_enterprise.templates.dashboard.menu.impac\' | translate }}</div> <i class="dhb-icon-impac"></i> </a> <a ui-sref="home.account" class="dashboard-button top-buffer-1" ui-sref-active="active"> <div class="content">{{ \'mno_enterprise.templates.dashboard.menu.my_account\' | translate }}</div> <i class="dhb-icon-account"></i> </a> <a ng-if="isOrganizationManagementEnabled" ui-sref="home.company" class="dashboard-button top-buffer-1" ui-sref-active="active"> <div class="content">{{ \'mno_enterprise.templates.dashboard.menu.company\' | translate }}</div> <i class="dhb-icon-company"></i> </a> <a ng-if="isMarketplaceEnabled" ui-sref="home.marketplace" class="dashboard-button top-buffer-1" ui-sref-active="active"> <div class="content">{{ \'mno_enterprise.templates.dashboard.menu.marketplace\' | translate }}</div> <i class="dhb-icon-marketplace"></i> </a> </nav> </div> '),e.put("app/components/mno-app-features/mno-app-features.html",'<div id="app-features"> <div class="top-buffer-1 center-element"> <span class="glyphicon" ng-class="isSingleSignOn ? \'fa fa-check-square-o fa-lg\' : \'fa fa-square-o fa-lg\'"></span> <span class="content">{{ \'mno_enterprise.templates.app_feature.single_sign_on\' | translate }}</span> </div> <div class="center-element"> <span class="glyphicon" ng-class="isSingleBilling ? \'fa fa-check-square-o fa-lg\' : \'fa fa-square-o fa-lg\'"></span> <span class="content">{{ \'mno_enterprise.templates.app_feature.single_billing\' | translate }}</span> </div> <div class="center-element"> <span class="glyphicon" ng-class="isDataSharing ? \'fa fa-check-square-o fa-lg\' : \'fa fa-square-o fa-lg\'"></span> <span class="content">{{ \'mno_enterprise.templates.app_feature.data_sharing\' | translate }}</span> </div> </div> '),e.put("app/components/mno-app-install-btn/mno-app-install-btn.html",'<div class="btn-fluid-wrapper" ng-switch="" on="$ctrl.appInstallationStatus()"> <div ng-switch-when="CONFLICT" class="message"> <i class="fa fa-exclamation-triangle"></i> {{ \'mno_enterprise.templates.components.app_install_btn.conflicting_app\' | translate }} <a ui-sref="home.marketplace.app({appId: $ctrl.conflictingApp.id})" ng-disabled="!$ctrl.canProvisionApp">{{$ctrl.conflictingApp.name}}</a> </div> <a ng-switch-when="INSTALLABLE" ng-click="!$ctrl.canProvisionApp || $ctrl.provisionApp()" ng-class="{disabled: $ctrl.isLoadingButton || !$ctrl.canProvisionApp}" class="btn btn-warning btn-promo btn-lg" uib-tooltip="{{$ctrl.canProvisionApp? \'\' : \'mno_enterprise.templates.components.app_install_btn.insufficient_privilege\' | translate}}"> <span ng-show="$ctrl.isLoadingButton"><i class="fa fa-spinner fa-pulse"></i></span> {{ \'mno_enterprise.templates.components.app_install_btn.start_app\' | translate }} </a> <a ng-switch-when="INSTALLED_LAUNCH" ng-click="!$ctrl.canProvisionApp || $ctrl.launchAppInstance()" ng-class="{disabled: !$ctrl.canProvisionApp}" class="btn btn-warning btn-promo btn-lg" uib-tooltip="{{$ctrl.canProvisionApp? \'\' : \'mno_enterprise.templates.components.app_install_btn.insufficient_privilege\' | translate}}"> {{ \'mno_enterprise.templates.components.app_install_btn.launch_app\' | translate }} </a> <a ng-switch-when="INSTALLED_CONNECT" ng-click="!$ctrl.canProvisionApp || $ctrl.connectAppInstance()" ng-class="{disabled: !$ctrl.canProvisionApp}" class="btn btn-warning btn-promo btn-lg" uib-tooltip="{{$ctrl.canProvisionApp? \'\' : \'mno_enterprise.templates.components.app_install_btn.insufficient_privilege\' | translate}}"> {{ \'mno_enterprise.templates.components.app_install_btn.connect_app\' | translate }} </a> </div> '),e.put("app/components/mno-app-onboarding-btn/mno-app-onboarding-btn.html",'<div ng-show="$ctrl.isLoadingAppInstances"> <i class="fa fa-refresh fa-spin fa-2x button-loader"></i> </div> <div ng-show="!$ctrl.isLoadingAppInstances" ng-switch="" on="$ctrl.appInstance.status"> <div ng-switch-when="CONFLICT" class="message"> <i class="fa fa-exclamation-triangle"></i> {{ \'mno_enterprise.templates.components.app_install_btn.conflicting_app\' | translate }} <span>{{$ctrl.conflictingApp.name}}</span> </div> <div ng-switch-when="INSTALLED_LAUNCH"> <span ng-hide="$ctrl.appInstance.stack == \'connector\'"> <div> {{ \'mno_enterprise.templates.components.app_install_btn.app_requires_no_set_up\' | translate }} </div> <div class="text-muted"> {{ \'mno_enterprise.templates.components.app_install_btn.app_connects_on_launch\' | translate }} </div> </span> <span ng-show="$ctrl.appInstance.stack == \'connector\'"> <i class="fa fa-check fa-2x button-check"></i> <div class="text-muted"> {{ \'mno_enterprise.templates.components.app_install_btn.app_connected\' | translate }} </div> </span> </div> <div ng-switch-when="INSTALLED_CONNECT"> <a href="" uib-tooltip="{{\'mno_enterprise.templates.components.app_install_btn.create_account_tooltip\' | translate}}" tooltip-placement="top" type="button" ng-click="$ctrl.launchAppInstance()" class="btn btn-warning btn-block"> {{ \'mno_enterprise.templates.components.app_install_btn.create_account\' | translate }} </a> <a href="" ng-click="$ctrl.connectAppInstance()" class="btn btn-warning btn-block"> {{ \'mno_enterprise.templates.components.app_install_btn.connect_app\' | translate }} </a> </div> <a href="" ng-switch-when="ADD_ON" uib-tooltip="{{\'mno_enterprise.templates.components.app_install_btn.access_addon_tooltip\' | translate}}" tooltip-placement="top" ng-click="$ctrl.launchAppInstance()" class="btn btn-warning btn-block"> {{ \'mno_enterprise.templates.components.app_install_btn.access_addon\' | translate }} </a> </div> '),e.put("app/components/mno-audit-events-list/mno-audit-events-list.html",' <div>  <table st-pipe="$ctrl.callServer" st-table="$ctrl.events.list" class="table table-striped"> <thead> <tr> <th st-sort="created_at" class="col-lg-2" translate="">mno_enterprise.templates.components.audit_events_list.table.date</th> <th class="col-lg-2" translate="">mno_enterprise.templates.components.audit_events_list.table.user</th> <th st-sort="key" class="col-lg-2" translate="">mno_enterprise.templates.components.audit_events_list.table.action</th> <th st-sort="description" class="col-lg-2" translate="">mno_enterprise.templates.components.audit_events_list.table.description</th> </tr> </thead> <tbody ng-show="$ctrl.events.loading"> <tr> <td colspan="6" class="text-center" translate="">mno_enterprise.templates.components.audit_events_list.loading_events</td> </tr> </tbody> <tbody ng-show="!$ctrl.events.loading"> <tr ng-repeat="event in $ctrl.events.list"> <td title="{{ event.created_at | amDateFormat: \'DD/MM/YYYY, h:mm:ss a\' }}"> {{event.created_at | amCalendar }} </td> <td title="{{event.user.email}}"> {{event.user.name}} {{event.user.surname}} </td> <td>{{event.description}}</td> <td>{{event.details || \'-\'}}</td> </tr> </tbody> </table> </div> <mno-pagination page="$ctrl.events.page" nb-items="$ctrl.events.nbItems" total-items="$ctrl.events.totalItems" on-change-cb="$ctrl.events.pageChangedCb(nbItems, page)" is-loading="$ctrl.events.loading"> </mno-pagination> '),e.put("app/components/mno-confirm/mno-confirm.html",'<div class="modal-header"> <button type="button" class="close" aria-label="Close" ng-click="modalOptions.close()"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">{{modalOptions.headerText | translate}}</h4> </div> <div class="modal-body"> <p>{{modalOptions.bodyText | translate}}</p> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-click="modalOptions.close()" ng-show="!modalOptions.isLoading">{{modalOptions.closeButtonText | translate}}</button> <button type="button" class="btn btn-{{modalOptions.type}}" ng-click="modalOptions.ok()" ng-disabled="modalOptions.isLoading"> <span ng-show="modalOptions.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span> {{modalOptions.actionButtonText | translate}} </button> </div> '),e.put("app/components/mno-inline-message/mno-inline-message.html","<p ng-class=\"on ? 'mno-inline-checked' : 'mno-inline-unchecked'\"> <i class=\"fa\" ng-class=\"on ? 'fa-check-circle' : 'fa-times-circle'\"></i> {{message}} </p> "),e.put("app/components/mno-pagination/mno-pagination.html",'<div class="nb-items-col"> <label>{{ \'mno_enterprise.templates.components.mno_pagination.items_per_page\' | translate }}</label> <select class="items-per-page-select form-control" ng-model="nbItems" ng-change="onPageChange()" ng-options="i for i in nbItemsValues" ng-disabled="isLoading"> </select> </div> <ul uib-pagination="" ng-model="page" ng-show="totalItems > nbItems" total-items="totalItems" items-per-page="nbItems" ng-change="onPageChange()" max-size="pagination.maxPages" rotate="false" ng-disabled="isLoading"> </ul> '),e.put("app/components/mno-password/mno-password.html",'<div ng-if="current" class="row"> <div class="col-md-6"> <label>{{currentText}}</label> <input type="password" name="current_password" ng-model="data.current_password" ng-change="password.resetServerErrors()" class="form-control" required=""> <div ng-messages="form.current_password.$error" role="alert"> <p ng-message="server" class="help-block">Current password {{ errorHandler.errorMessage(\'current_password\') }}</p> </div> </div> </div> <div class="row top-buffer-1"> <div class="col-md-6"> <label>{{newText}}</label> <input type="password" name="password" ng-model="data.password" ng-change="password.check()" class="form-control" required=""> <div class="help-block"> <ul class="col-sm-6 list-unstyled"> <li> <mno-inline-message on="password.hasMinLength" message="{{\'mno_enterprise.templates.components.mno_password.minimum_length\' | translate:{length: minLength} }}"></mno-inline-message> </li> <li> <mno-inline-message on="password.hasOneNumber" message="{{\'mno_enterprise.templates.components.mno_password.one_number\' | translate}}"></mno-inline-message> </li> </ul> <ul class="col-sm-6 list-unstyled"> <li> <mno-inline-message on="password.hasOneUpper" message="{{\'mno_enterprise.templates.components.mno_password.one_uppercase_character\' | translate}}"></mno-inline-message> </li> <li> <mno-inline-message on="password.hasOneLower" message="{{\'mno_enterprise.templates.components.mno_password.one_lowercase_character\' | translate}}"></mno-inline-message> </li> </ul> </div> <div ng-messages="form.password.$error" role="alert"> <p ng-message="server" class="help-block">This password {{ errorHandler.errorMessage(\'password\') }}</p> </div> </div> <div ng-if="confirm" class="col-md-6"> <label>{{confirmText}}</label> <input type="password" name="password_confirmation" ng-model="data.password_confirmation" ng-change="password.check()" class="form-control" required=""> <div class="help-block"> <ul class="col-sm-6 list-unstyled"> <li> <mno-inline-message on="password.isSamePassword" message="{{\'mno_enterprise.templates.components.mno_password.same_password\' | translate}}"></mno-inline-message> </li> </ul> </div> </div> </div> '),e.put("app/components/mno-without-organisation/mno-without-organisation.html",'<div class="container"> <div class="row"> <div class="col-lg-10 col-lg-offset-1"> <div class="well"> <h2 translate="" translate-value-name="{{$ctrl.user.name}}">mno_enterprise.templates.components.without_organisation.hello</h2> <span ng-if="!$ctrl.canCreateOrganisation"> <p translate="">mno_enterprise.templates.components.without_organisation.text</p> <a class="btn btn-link top-buffer-1" ui-sref="logout" role="button" translate=""> mno_enterprise.templates.components.without_organisation.logout </a> </span> <span ng-if="$ctrl.canCreateOrganisation"> <p translate="">mno_enterprise.templates.components.without_organisation.text_if_can_create</p> <a class="btn btn-primary top-buffer-1" href="" ng-click="$ctrl.openCreateOrgaModal()" role="button" translate=""> mno_enterprise.templates.components.without_organisation.button </a> <a class="btn btn-link top-buffer-1" ui-sref="logout" role="button" translate=""> mno_enterprise.templates.components.without_organisation.logout </a> </span> </div> </div> </div> </div> '),e.put("app/components/theme-editor/theme-editor.html",'<div class="container top-buffer-1"> <form> <div class="row text-center"> <div ng-hide="editor.busy"> <button ng-click="editor.reset()" class="btn btn-default">Reset to last save</button> <button ng-click="editor.save()" class="btn btn-danger">Save</button> <button ng-click="editor.reset({published:true})" class="btn btn-default">Reset to published style</button> <button ng-click="editor.save({publish:true})" class="btn btn-danger">Publish</button> </div> <div ng-show="editor.busy"><i class="fa fa-spinner fa-pulse fa-2x"></i></div> </div> <uib-tabset> <uib-tab heading="Theme"> <div class="row top-buffer-1"> <div class="form-group col-md-6" ng-repeat="(color, value) in theme"> <label>{{labels[color]}} <br><small class="text-muted">{{color}}</small></label> <input type="color" class="form-control" ng-model="theme[color]" ng-model-options="{ debounce: 300 }" ng-change="editor.update()"> </div> </div> </uib-tab> <uib-tab heading="Advanced"> <div class="panel panel-default top-buffer-1" ng-repeat="(section, vars) in variables"> <div class="panel-heading">{{section}}</div> <div class="panel-body"> <div class="form-group col-md-6" ng-repeat="(var, value) in vars"> <label>{{var}}</label> <input type="text" class="form-control" ng-model="variables[section][var]" ng-model-options="{ debounce: 1000 }" ng-change="editor.update()"> </div> </div> </div> </uib-tab> <uib-tab heading="Logo"> <div class="form-group top-buffer-1"> <label>New Logo</label> <input type="file" id="theme-main-logo"> </div> <button class="btn btn-warning" ng-click="editor.updateLogo()">Update Logo</button> </uib-tab> <uib-tab heading="Import/Export"> <div class="row text-center"> <div ng-hide="editor.busy"> <button ng-click="editor.import()" class="btn btn-danger">Import</button> <button ng-click="editor.export()" class="btn btn-danger">Export</button> </div> <div ng-show="editor.busy"><i class="fa fa-spinner fa-pulse fa-2x"></i></div> </div> <div class="row top-buffer-1"> <textarea class="form-control" ng-model="editor.output" rows="15" style="font-family: monospace"></textarea> </div> </uib-tab> </uib-tabset> <div class="top-buffer-1"></div> </form> </div> '),e.put("app/views/account/account.html",'<div id="account"> <h2 class="section-title">{{ \'mno_enterprise.templates.dashboard.account.my_account\' | translate }}</h2> <div uib-accordion="" class="accordion top-buffer-4"> <div uib-accordion-group="" is-open="vm.isPersoInfoOpen"> <div uib-accordion-heading=""> {{ \'mno_enterprise.templates.dashboard.account.personal_information\' | translate }} <span class="fa pull-right" ng-class="{\'fa-caret-down\': !vm.isPersoInfoOpen, \'fa-caret-up\': vm.isPersoInfoOpen}"></span> </div> <div class="alert alert-error" ng-show="vm.errors.user"> <button class="close" ng-click="vm.errors.user=\'\'"></button> <ul> <li ng-repeat="error in vm.errors.user">{{error}}</li> </ul> </div> <div class="alert alert-success" ng-show="vm.success.user"> <button class="close" ng-click="vm.success.user=\'\'"></button> <p>{{vm.success.user}}</p> </div> <form name="form"> <div class="row"> <div class="col-md-6"> <label>{{ \'mno_enterprise.templates.dashboard.account.user_form_name\' | translate }}</label> <input type="text" ng-model="vm.user.model.name" class="form-control" ng-readonly="!vm.isUserManagementEnabled"> </div> <div class="col-md-6"> <label>{{ \'mno_enterprise.templates.dashboard.account.user_form_surname\' | translate }}</label> <input type="text" ng-model="vm.user.model.surname" class="form-control" ng-readonly="!vm.isUserManagementEnabled"> </div> </div> <div class="row"> <div class="col-md-6"> <label>{{ \'mno_enterprise.templates.dashboard.account.user_form_email\' | translate }}</label> <input type="text" ng-model="vm.user.model.email" class="form-control" ng-readonly="!vm.isUserManagementEnabled"> </div> <div class="col-md-6"> <label>{{ \'mno_enterprise.templates.dashboard.account.user_form_phone\' | translate }}</label> <div class="input-group"> <div class="input-group-addon select"> <select ng-options="phone[0] as phone[1] for phone in vm.countryCodes" ng-model="vm.user.model.phone_country_code" ng-disabled="!vm.isUserManagementEnabled"></select> </div> <input type="text" ng-model="vm.user.model.phone" class="form-control" ng-readonly="!vm.isUserManagementEnabled"> </div> </div> </div> <div class="row" ng-if="vm.isUserManagementEnabled"> <div class="col-md-12"> <button ng-disabled="!vm.user.hasChanged() || vm.user.loading" class="btn btn-warning" ng-click="vm.user.update()"> <span ng-show="vm.user.loading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span> {{ \'mno_enterprise.templates.dashboard.account.user_form_save\' | translate }} </button> <button ng-show="vm.user.hasChanged() && !vm.user.loading" class="btn btn-default ng-hide" ng-click="vm.user.cancelChanges()"> {{ \'mno_enterprise.templates.dashboard.account.user_form_cancel\' | translate }} </button> </div> </div> </form> </div>  <div uib-accordion-group="" ng-if="vm.isUserManagementEnabled" is-open="vm.isChangePasswordOpen"> <div uib-accordion-heading=""> {{ \'mno_enterprise.templates.dashboard.account.change_password\' | translate }} <span class="fa pull-right" ng-class="{\'fa-caret-down\': !vm.isChangePasswordOpen, \'fa-caret-up\': vm.isChangePasswordOpen}"></span> </div> <form name="vm.form" novalidate=""> <mno-password form="vm.form" data="vm.user.password" current="true" confirm="true" min-length="{{vm.min_password_length}}" current-text="{{\'mno_enterprise.templates.components.mno_password.current_password\' | translate}}" new-text="{{\'mno_enterprise.templates.components.mno_password.new_password\' | translate}}" confirm-text="{{\'mno_enterprise.templates.components.mno_password.confirm_password\' | translate}}"> </mno-password> <div class="row top-buffer-1"> <div class="col-md-12"> <button ng-click="vm.user.updatePassword(vm.form)" ng-disabled="vm.form.$invalid || vm.user.loading" class="btn btn-warning"> <span ng-show="vm.user.loading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span> {{\'mno_enterprise.templates.components.mno_password.save\' | translate}} </button> <button ng-click="vm.user.cancelPassword()" ng-show="vm.user.cancelPasswordEnabled() && !vm.user.loading" class="btn btn-default"> {{\'mno_enterprise.templates.components.mno_password.cancel\' | translate}} </button> </div> </div> </form> </div>  <div uib-accordion-group="" ng-if="vm.isDeveloperSectionEnabled" is-open="vm.isDevOpen"> <div uib-accordion-heading="">{{ \'mno_enterprise.templates.dashboard.account.developer\' | translate }} <span class="fa pull-right" ng-class="{\'fa-caret-down\': !vm.isDevOpen, \'fa-caret-up\': vm.isDevOpen}"></span> </div> <div ng-if="!vm.user.model.api_key && !vm.user.model.api_secret" class="row"> <div class="col-md-12"> <p>{{ \'mno_enterprise.templates.dashboard.account.are_you_developer\' | translate }}</p> <button class="btn btn-warning" ng-click="vm.user.registerDeveloper()">{{ \'mno_enterprise.templates.dashboard.account.register\' | translate }}</button> </div> </div> <div ng-if="vm.user.model.api_key && vm.user.model.api_secret"> <div class="row"> <strong class="col-sm-3">{{ \'mno_enterprise.templates.dashboard.account.api_key\' | translate }}: </strong> <div class="col-sm-9">{{vm.user.model.api_key}}</div> </div> <div class="row"> <strong class="col-sm-3">{{ \'mno_enterprise.templates.dashboard.account.secret_key\' | translate }}:</strong> <div class="col-sm-9"> <span ng-show="vm.isSecretKeyRevealed">{{vm.user.model.api_secret}}</span> <button ng-hide="vm.isSecretKeyRevealed" class="btn btn-warning" ng-click="vm.user.switchSecretKey()">{{ \'mno_enterprise.templates.dashboard.account.show\' | translate }}</button> <button ng-show="vm.isSecretKeyRevealed" class="btn btn-warning" ng-click="vm.user.switchSecretKey()">{{ \'mno_enterprise.templates.dashboard.account.hide\' | translate }}</button> </div> </div> <div class="row"> <strong class="col-sm-3">{{ \'mno_enterprise.templates.dashboard.account.organizations\' | translate }}: </strong> <div class="col-sm-9"> <table class="table"> <thead> <tr> <th>{{ \'mno_enterprise.templates.dashboard.account.name\' | translate }}</th> <th>{{ \'mno_enterprise.templates.dashboard.account.uid\' | translate }}</th> </tr> </thead> <tbody> <tr ng-repeat="org in vm.user.model.organizations track by $index"> <td>{{org.name}}</td> <td>{{org.uid}}</td> </tr> </tbody> </table> </div> </div> <div class="row" style="text-align: center; margin-top: 20px;"> <p>{{ \'mno_enterprise.templates.dashboard.account.view_developer_docs\' | translate }} <a href="https://maestrano.atlassian.net/wiki/pages/viewpage.action?pageId=20742248" target="_blank"><strong>{{ \'mno_enterprise.templates.dashboard.account.here\' | translate }}</strong> </a></p> </div> </div> </div>  <div uib-accordion-group="" ng-if="vm.isLocalizationVisible" is-open="vm.isLocalizationOpen"> <div uib-accordion-heading=""> {{ \'mno_enterprise.templates.dashboard.account.settings\' | translate }} <span class="fa pull-right" ng-class="{\'fa-caret-down\': !vm.isLocalizationOpen, \'fa-caret-up\': vm.isLocalizationOpen}"></span> </div> <dashboard-language-selectbox></dashboard-language-selectbox> </div>  </div> </div> '),
e.put("app/views/apps/dashboard-apps-list.html",'<div id="dashboard-apps-list"> <h2 class="section-title"> {{\'mno_enterprise.templates.dashboard.apps_list.title\' | translate}} </h2>  <mno-loader ng-show="isLoading" class="top-buffer-4"></mno-loader> <div ng-show="!isLoading" class="top-buffer-4"> <div class="row"> <div ng-repeat="app in apps" class="col-sm-6 col-md-3"> <div class="app-dashboard">  <div ng-switch="displayOptions[app.id]"> <div ng-switch-when="true"> <a ng-click="displayOptions[app.id] = !displayOptions[app.id]" ng-show="helper.displayCogwheel()" class="options" href=""><i class="fa fa-times"></i></a>  <div ng-show="helper.isDataSyncShown(app)"> <br> <a class="btn btn-info" ng-href="{{helper.dataSyncPath(app)}}" uib-tooltip="{{ \'mno_enterprise.templates.dashboard.apps_list.manual_data_sync_tooltip\' | translate:{ appname: app.app_name } }}">{{ \'mno_enterprise.templates.dashboard.apps_list.manual_data_sync\' | translate }}</a> </div>  <div ng-show="helper.isDataDisconnectShown(app)"> <br> <a class="btn btn-danger" ng-click="helper.dataDisconnectClick(app)" href="" uib-tooltip="{{ \'mno_enterprise.templates.dashboard.apps_list.disconnect_link_tooltip\' | translate:{ appname: app.app_name } }}"> {{ \'mno_enterprise.templates.dashboard.apps_list.disconnect_link\' | translate }} </a> </div> <br>  <div> <br> <button ng-click="openAppDeletionModal(app)" ng-show="helper.canDeleteApp()" class="btn btn-danger">{{\'mno_enterprise.templates.dashboard.apps_list.delete\' | translate}}</button> </div> </div>  <div ng-switch-default=""> <a ng-click="displayOptions[app.id] = !displayOptions[app.id]" ng-show="helper.displayCogwheel()" class="options" href=""><i class="fa fa-cog"></i></a> <br> <a ng-href="{{ helper.appActionUrl(app) }}" target="_blank"> <img class="app-logo" ng-src="{{app.logo}}"> </a> <div class="title">{{::app.name}}</div>  <div ng-show="helper.companyName(app)"> <div class="app-line" style="border:0px;" uib-tooltip="{{helper.companyName(app)}}"> {{ \'mno_enterprise.templates.dashboard.apps_list.linked_to\' | translate }}: {{ helper.companyName(app) | truncate:25 }} </div> </div>  <div ng-show="helper.connectorVersion(app)"> <div class="app-line" style="border:0px;">MYOB Version: {{helper.connectorVersion(app)}}</div> </div>  <div ng-show="helper.isOauthConnectBtnShown(app) && helper.canConnectApp()"> <a class="btn btn-warning" href="" ng-click="helper.oAuthConnectPath(app)"> {{ \'mno_enterprise.templates.dashboard.apps_list.connect\' | translate }} </a> </div>  <a ng-href="{{helper.appActionUrl(app)}}" target="_blank" ng-hide="helper.isLaunchHidden(app)" class="btn btn-warning"> {{\'mno_enterprise.templates.dashboard.apps_list.launch_app\' | translate}} </a> <span ng-show="app.status == \'terminating\' || app.status == \'terminated\'"> ({{ \'mno_enterprise.templates.dashboard.apps_list.deleted\' | translate }}) </span> <br> <a ng-show="app.tutorial" ng-href="{{app.tutorial}}" class="tutorial" target="_blank"> {{ \'mno_enterprise.templates.dashboard.apps_list.tutorial\' | translate }} </a> </div> </div> </div> </div> <div ng-if="isMarketplaceEnabled" class="col-sm-6 col-md-3"> <div class="app-dashboard add-app"> <a ui-sref="home.marketplace"> <div class="fa fa-plus-circle"></div> </a> </div> </div> </div> </div> </div> '),e.put("app/views/company/company.html",'<h2 class="section-title">{{ \'mno_enterprise.templates.dashboard.organization.index.title\' | translate }}</h2> <div class="row dashboard-organization"> <mno-loader ng-show="vm.isLoading" class="top-buffer-4"></mno-loader>    <div class="col-md-12 top-buffer-4" ng-if="!vm.isTabSetShown() && !vm.isLoading">  <div class="well clearfix"> <div class="col-md-12"> <div dashboard-organization-members=""></div> </div> </div> <div class="row"> <div class="col-md-12"> <div dashboard-organization-team-list="" title="Your Teams"></div> </div> </div> </div>    <div class="col-md-12 top-buffer-4" ng-if="vm.isTabSetShown() && !vm.isLoading"> <div uib-tabset="" active="vm.activeTab">    <div uib-tab="" index="\'billing\'" ng-if="vm.isBillingShown()"> <div uib-tab-heading="">{{ \'mno_enterprise.templates.dashboard.organization.index.billing.title\' | translate }}</div>   <div uib-accordion="" class="accordion"> <div uib-accordion-group="" is-open="isCrbgOpen"> <div uib-accordion-heading=""> {{ \'mno_enterprise.templates.dashboard.organization.index.billing.current_billing\' | translate }} <span class="fa pull-right" ng-class="{\'fa-caret-down\': !isCrbgOpen, \'fa-caret-up\': isCrbgOpen}"></span> </div>  <div class="col-md-12"> <div dashboard-organization-billing=""></div> </div>  </div> <div uib-accordion-group="" is-open="isBdtOpen" ng-if="vm.payment_enabled"> <div uib-accordion-heading=""> {{ \'mno_enterprise.templates.dashboard.organization.index.billing.billing_details\' | translate }} <span class="fa pull-right" ng-class="{\'fa-caret-down\': !isBdtOpen, \'fa-caret-up\': isBdtOpen}"></span> </div>  <div class="col-md-12"> <div dashboard-organization-credit-card=""></div> </div>  </div> <div uib-accordion-group="" is-open="isPsIvOpen"> <div uib-accordion-heading=""> {{vm.payment_enabled ? \'mno_enterprise.templates.dashboard.organization.index.billing.past_invoices\' : \'mno_enterprise.templates.dashboard.organization.index.billing.account_statement\' | translate }} <span class="fa pull-right" ng-class="{\'fa-caret-down\': !isPsIvOpen, \'fa-caret-up\': isPsIvOpen}"></span> </div>  <div class="col-md-12"> <div dashboard-organization-invoices=""></div> </div>  </div>  </div>  </div>    <div uib-tab="" index="\'members\'"> <div uib-tab-heading="">{{ \'mno_enterprise.templates.dashboard.organization.index.members.title\' | translate }}</div>  <div class="well clearfix"> <div class="col-md-12"> <div dashboard-organization-members=""></div> </div> </div>  </div>    <div uib-tab="" index="\'team\'"> <div uib-tab-heading="">{{ \'mno_enterprise.templates.dashboard.organization.index.teams.title\' | translate }}</div> <div class="clearfix"> <h4> {{ \'mno_enterprise.templates.dashboard.organization.index.teams.subtitle\' | translate }} <span class="text-muted"><small><em>&nbsp;{{ \'mno_enterprise.templates.dashboard.organization.index.teams.control_access\' | translate }}</em></small></span> </h4>  <div class="col-md-12"> <div dashboard-organization-teams=""></div> </div> </div>  </div>    <div uib-tab="" index="\'audit\'" ng-if="vm.isAuditLogShown()"> <div uib-tab-heading="">{{ \'mno_enterprise.templates.dashboard.organization.index.audit_log.title\' | translate }}</div>  <div class="well clearfix"> <div class="col-md-12"> <div dashboard-organization-audit-log=""></div> </div> </div>  </div>    <div uib-tab="" index="\'settings\'" ng-show="vm.isSettingsShown()"> <div uib-tab-heading="">{{ \'mno_enterprise.templates.dashboard.organization.index.settings.title\' | translate }}</div> <div class="well clearfix">  <div class="col-md-12"> <div dashboard-organization-settings=""></div> </div> </div>  </div>  </div>  </div>  </div> '),e.put("app/views/impac/impac.html",'<div id="impac"> <h2 ng-if="!vm.isDockEnabled" class="section-title">Impac!</h2> <dashboard-apps-dock ng-if="vm.isDockEnabled"></dashboard-apps-dock> <impac-dashboard ng-if="vm.isImpacShown" ng-class="{\'with-dock\': vm.isDockEnabled}"></impac-dashboard> </div> '),e.put("app/views/marketplace/marketplace-app.html",'<div class="dashboard-marketplace-app"> <mno-loader ng-show="vm.isLoading" class="top-buffer-4"></mno-loader>  <div class="row show-header top-buffer-4"> <div class="col-md-12"> <a ui-sref="home.marketplace()" class="text-muted"> <i class="fa fa-chevron-left"></i> {{ \'mno_enterprise.templates.dashboard.marketplace.show.back\' | translate }} </a> <div class="media" ng-show="!vm.isLoading"> <div class="pull-left"> <img class="media-object" ng-src="{{vm.app.logo}}" ng-alt="{{vm.app.name}}"> </div> <div class="media-body"> <h2 class="media-heading">{{vm.app.name}}</h2> </div> <div class="app-rating pull-left"> <div ng-show="vm.isRateDisplayed"> <average-star-rating ng-model="vm.averageRating" display-rating="true" max="5"></average-star-rating> </div> </div> <div class="pull-left links"> <a ng-show="vm.anyReviews" ng-click="vm.scrollToReviews()" href="">{{vm.reviews.totalItems}} {{\'mno_enterprise.templates.dashboard.marketplace.show.reviews\' | translate}}</a> <span ng-if="vm.anyReviews && vm.anyQuestions">&nbsp;|&nbsp;</span> <a ng-show="vm.anyQuestions" ng-click="vm.scrollToQuestions()" href="">{{vm.questions.totalItems}} {{\'mno_enterprise.templates.dashboard.marketplace.show.questions\' | translate}}</a> </div> </div> </div> </div>  <div class="show-content top-buffer-1" ng-show="!vm.isLoading">  <div class="row"> <div class="col-md-8"> <div class="well carousel"> <div uib-carousel="" interval="3000" active="0"> <div uib-slide="" ng-repeat="picture in vm.app.pictures" class="screenshot" index="$index"> <img ng-src="{{picture}}" alt="screenshot"> </div> </div> </div> </div> <div class="col-md-4"> <div class="well text-center well-details"> <div class="row"> <div class="col-xs-12 text-center"> <mno-app-install-btn ng-if="vm.app" app="vm.app"></mno-app-install-btn> </div> </div> <div class="row"> <div class="col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2"> <ul class="app-features"> <li ng-show="vm.app.is_responsive"> <img src="images/icons/mobile-responsive-logo.png" alt="responsive icon"> {{ \'mno_enterprise.templates.dashboard.marketplace.show.tag_responsive\' | translate }} </li> <li ng-show="vm.app.is_star_ready" uib-tooltip="Your live tutorials directly inside your app"> <img src="images/icons/star-enabled-logo.png" alt="Star icon"> {{ \'mno_enterprise.templates.dashboard.marketplace.show.tag_star\' | translate }} </li> <li ng-show="vm.app.is_connec_ready" uib-tooltip="Your Data automatically shared between your applications"> <img ng-src="images/icons/connec-enabled-logo.png" alt="Connec icon"> {{ \'mno_enterprise.templates.dashboard.marketplace.show.tag_connec\' | translate }} </li> </ul> </div> </div> <div class="row"> <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-12 col-md-offset-0"> <ul class="key-benefits"> <li ng-repeat="benefit in vm.app.key_benefits track by $index"> <i class="fa fa-check"></i> {{benefit}} </li> </ul> </div> </div> </div> </div> </div>  <div class="row"> <div class="col-md-6" ng-repeat="testimonial in vm.app.testimonials | limitTo:2" ng-show="vm.isTestimonialShown(testimonial)"> <div class="ribbon-testimonial"> <div class="body"> {{testimonial.text}} <div class="arrow"></div> </div> <div class="from"> <div class="name">{{testimonial.author}}</div> <div class="company">{{testimonial.company}}</div> </div> </div> </div> </div>  <div class="row"> <div class="col-md-12"> <div class="well top-buffer-1" ng-bind-html="vm.app.description"></div> </div> </div>  <div ng-if="vm.isPriceShown" class="row top-buffer-1"> <div class="col-md-12"> <div class="well" ng-switch="vm.app.pricing_plans"> <h2>{{ \'mno_enterprise.templates.dashboard.marketplace.show.price\' | translate }}</h2> <ul> <li ng-repeat="plan in vm.pricing_plans"> <b>{{plan.name}}</b>: {{plan.description}}<br> <span ng-show="plan.price.value">{{plan.currency}} {{plan.price.value}} {{plan.factor}}</span> <span ng-hide="plan.price.value">{{plan.currency}} {{plan.price}} {{plan.factor}}</span> </li> </ul> <div ng-bind-html="vm.app.pricing_text"></div> </div> </div> </div> <uib-tabset id="review-tabs" active="active" class="bottom-buffer-10"> <uib-tab ng-if="vm.isReviewingEnabled" index="0" heading="Feedback">  <div id="comments"> <div class="add-review"> <span ng-show="vm.appInstance"> {{ \'mno_enterprise.templates.dashboard.marketplace.show.company_feedback\' | translate }}: <button type="button" class="btn btn-warning" ng-click="vm.openCreateReviewModal()"> {{ \'mno_enterprise.templates.dashboard.marketplace.show.write_review\' | translate }} </button> </span> <span ng-if="!vm.appInstance" class="add-review"> {{ \'mno_enterprise.templates.dashboard.marketplace.show.no_app_no_review\' | translate }} </span> <span class="pull-right" ng-if="vm.reviews.totalItems != 0 && !vm.reviews.loading"> <label>{{ \'mno_enterprise.templates.dashboard.marketplace.show.filter\' | translate }}</label> <select class="filter-reviews form-control" ng-model="vm.sortReviewsBy" ng-change="vm.orderFeedbacks()"> <option value="rating.asc">{{ \'mno_enterprise.templates.dashboard.marketplace.show.filter_rating_ask\' | translate }}</option> <option value="rating.desc">{{ \'mno_enterprise.templates.dashboard.marketplace.show.filter_rating_desc\' | translate }}</option> <option value="created_at.asc">{{ \'mno_enterprise.templates.dashboard.marketplace.show.filter_date_ask\' | translate }}</option> <option value="created_at.desc" selected="selected">{{ \'mno_enterprise.templates.dashboard.marketplace.show.filter_date_desc\' | translate }}</option> </select> </span> </div> <div class="loading-icon"> <span ng-show="vm.reviews.loading"><i class="fa fa-refresh fa-spin fa-3x fa-fw"></i></span> </div> <div ng-if="vm.reviews.totalItems == 0 && !vm.reviews.loading"> <span class="pages-selector no-review-container" translate="" translate-value-name="{{vm.app.name}}"> mno_enterprise.templates.dashboard.marketplace.show.no_review </span> </div> <div class="well" ng-hide="vm.reviews.loading"> <div ng-repeat="(key, review) in vm.reviews.list">  <div class="row"> <div class="col-md-8"> <blockquote> <average-star-rating ng-model="review.rating" readonly="true"></average-star-rating> <span>{{review.description}}</span> <footer class="top-buffer-1"> <span>{{review.user_name}} {{ \'mno_enterprise.templates.dashboard.marketplace.show.from\' | translate }} </span> <cite title="{{review.organization_name}}">{{review.organization_name}}</cite> {{ \'mno_enterprise.templates.dashboard.marketplace.show.on\' | translate }} <span ng-if="review.created_at"> {{review.created_at | date: "dd/MM/yyyy" }}</span> <span ng-if="!review.created_at"> {{ \'mno_enterprise.templates.dashboard.marketplace.show.just_now\' | translate }}</span> <span ng-if="review.edited"> - <span ng-if="review.edited_by_id == review.user_id" uib-tooltip="{{ \'mno_enterprise.templates.dashboard.marketplace.show.edited_by_user_tooltip\' | translate }}" ng-click="vm.showHistory(review)"> {{ \'mno_enterprise.templates.dashboard.marketplace.show.edited_by_user\' | translate }} </span> <span ng-if="review.edited_by_id != review.user_id"> {{ \'mno_enterprise.templates.dashboard.marketplace.show.edited_by_admin\' | translate }} </span> </span> <a class="comments-show" ng-hide="review.showComments || review.comments.length == 0" ng-click="review.showComments = true" href="">{{\'mno_enterprise.templates.dashboard.marketplace.show.comment.feedback_list_links\' | translate:{COUNT: review.comments.length} }}</a> <a class="comments-show" ng-show="review.showComments" ng-click="review.showComments = false" href="">{{\'mno_enterprise.templates.dashboard.marketplace.show.comment.hide_comments\' | translate}}</a> </footer> </blockquote> </div> <div class="col-md-4 text-right"> <a class="btn btn-link btn-link-warning" href="" ng-if="vm.canUserEditReview(review)" ng-click="vm.openEditReviewModal(review, key)"><i class="fa fa-edit"></i> {{\'mno_enterprise.templates.dashboard.marketplace.show.edit\' | translate}}</a> <a class="btn btn-link btn-link-danger" href="" ng-if="vm.canUserEditReview(review)" ng-click="vm.openDeleteReviewModal(review, key)"><i class="fa fa-trash"></i> {{\'mno_enterprise.templates.dashboard.marketplace.show.delete\' | translate}}</a> <a class="btn btn-link btn-link-primary" href="" ng-click="vm.openCreateCommentModal(review, key)"><i class="fa fa-plus"></i> {{\'mno_enterprise.templates.dashboard.marketplace.show.comment.feedback_list_links\' | translate}}</a> </div> </div>  <div class="clearfix" ng-show="review.showComments" ng-repeat="(i, comment) in review.comments"> <div class="comment"> <span class="pull-right top-buffer-1"> <a class="btn btn-link btn-link-warning" ng-if="vm.canUserEditReview(comment)" ng-click="vm.openEditCommentModal(comment, i, key)"><i class="fa fa-edit"></i> {{\'mno_enterprise.templates.dashboard.marketplace.show.edit\' | translate}}</a> <a class="btn btn-link btn-link-danger" ng-if="vm.canUserEditReview(comment)" ng-click="vm.openDeleteCommentModal(comment, i, key)"><i class="fa fa-trash"></i> {{\'mno_enterprise.templates.dashboard.marketplace.show.delete\' | translate}}</a> </span> <blockquote> <p class="comment-description">{{comment.description}}</p> <footer class="top-buffer-1"> <span ng-if="comment.user_admin_role == \'admin\'"> <span>{{comment.user_name}}, {{ \'mno_enterprise.templates.dashboard.marketplace.show.platform_admin\' | translate }} </span> </span> <span ng-if="comment.user_admin_role != \'admin\'"> <span>{{comment.user_name}} {{ \'mno_enterprise.templates.dashboard.marketplace.show.from\' | translate }} </span> <cite title="{{comment.organization_name}}">{{comment.organization_name}}</cite> </span> {{ \'mno_enterprise.templates.dashboard.marketplace.show.on\' | translate }} <span ng-if="comment.created_at"> {{comment.created_at | date: "dd/MM/yyyy" }}</span> <span ng-if="!comment.created_at"> {{ \'mno_enterprise.templates.dashboard.marketplace.show.just_now\' | translate }}</span> <span ng-if="comment.edited"> - <span ng-if="comment.edited_by_id == comment.user_id && comment.user_admin_role != \'admin\'" uib-tooltip="{{ \'mno_enterprise.templates.dashboard.marketplace.show.edited_by_user_tooltip\' | translate }}" ng-click="vm.showHistory(comment)"> {{ \'mno_enterprise.templates.dashboard.marketplace.show.edited_by_user\' | translate }} </span> <span ng-if="comment.edited_by_id != comment.user_id || comment.user_admin_role == \'admin\'"> {{ \'mno_enterprise.templates.dashboard.marketplace.show.edited_by_admin\' | translate }} </span> </span> </footer> </blockquote> </div> </div> </div> <mno-pagination ng-show="vm.isReviewsPaginationShown()" page="vm.reviews.page" nb-items="vm.reviews.nbItems" total-items="vm.reviews.totalItems" on-change-cb="vm.reviews.pageChangedCb(vm.app.id, nbItems, page)" is-loading="vm.reviews.loading"> </mno-pagination> </div> </div> </uib-tab> <uib-tab ng-if="vm.areQuestionsEnabled" index="1" heading="Questions"> <div class="questions"> <div class="clearfix"> <div class="questions-panel pull-right"> <form ng-show="vm.questions.totalItems != 0"> <input class="form-control" type="text" name="name" value="" placeholder="{{\'mno_enterprise.templates.dashboard.marketplace.show.question_search\' | translate}}" ng-model="vm.searchWord"> <button class="fa fa-search" type="button" name="button" ng-click="vm.searchQuestion()"></button> </form> <button class="btn btn-primary" type="button" name="button" ng-click="vm.openCreateQuestionModal()">{{\'mno_enterprise.templates.dashboard.marketplace.show.question_ask\' | translate}}</button> </div> </div> <div class="login-icon"> <span ng-show="vm.questions.loading"><i class="fa fa-refresh fa-spin fa-3x fa-fw"></i></span> </div> <div class="row"> <div ng-if="vm.questions.totalItems == 0 && !vm.questions.loading"> <span class="no-question-container" translate="" translate-value-name="{{vm.app.name}}"> mno_enterprise.templates.dashboard.marketplace.show.question.no_question </span> </div> <div ng-show="!vm.questions.loading" class="col-md-12" ng-repeat="(key, question) in vm.questions.list | filterQuestions:vm.searchWord"> <div class="ribbon-question"> <div class="row"> <div class="row question-body"> <div class="col-sm-9"> <div class="col-md-2 question-title"> {{\'mno_enterprise.templates.dashboard.marketplace.show.question_title\' | translate}} </div> <div class="col-md-10"> <p class="question-text">{{ question.description }}</p> <p ng-if="question.user_admin_role != \'admin\'" class="question-attribute">Posted by: {{ question.user_name }} in {{ question.organization_name }} on {{ question.created_at | date: "dd/MM/yyyy" }}</p> <p ng-if="question.user_admin_role == \'admin\'" class="question-attribute">Posted by: {{ question.user_name }}, {{ \'mno_enterprise.templates.dashboard.marketplace.show.platform_admin\' | translate }} on {{ question.created_at | date: "dd/MM/yyyy" }}</p> </div> </div> <div class="col-sm-3 question-actions"> <a class="btn btn-link btn-link-primary" name="button" ng-if="vm.appInstance" ng-click="vm.openCreateAnswerModal(question, key)"><i class="fa fa-plus"></i> {{\'mno_enterprise.templates.dashboard.marketplace.show.answer_q\' | translate}}</a> <a class="btn btn-link btn-link-warning" name="button" ng-if="question.user_id == vm.userId" ng-click="vm.openEditQuestionModal(question, key)"><i class="fa fa-edit"></i> {{\'mno_enterprise.templates.dashboard.marketplace.show.edit_q\' | translate}}</a> <a class="btn btn-link btn-link-danger" name="button" ng-if="question.user_id == vm.userId" ng-click="vm.openDeleteQuestionModal(question, key)"><i class="fa fa-trash"></i> {{\'mno_enterprise.templates.dashboard.marketplace.show.delete_q\' | translate}}</a> </div> </div> <div class="row question-answers"> <div class="col-xs-12"> <div class="col-md-2 question-title"> {{\'mno_enterprise.templates.dashboard.marketplace.show.answers\' | translate}} </div> <div class="col-md-10"> <div class="question-answer" ng-repeat="(i, answer) in filteredAnswers = (question.answers | filter:{ status: \'approved\' })"> <p class="question-text">{{ answer.description }} </p> <p ng-if="answer.user_admin_role != \'admin\'" class="question-attribute">Posted by {{ answer.user_name }} in {{ answer.organization_name }} on {{ answer.created_at | date: "dd/MM/yyyy" }}</p> <p ng-if="answer.user_admin_role == \'admin\'" class="question-attribute">Posted by {{ answer.user_name }}, {{ \'mno_enterprise.templates.dashboard.marketplace.show.platform_admin\' | translate }} on {{ answer.created_at | date: "dd/MM/yyyy" }}</p> <button class="btn btn-xs btn-warning" type="button" name="button" ng-if="answer.user_id == vm.userId" ng-click="vm.openEditAnswerModal(answer, i, key)">{{\'mno_enterprise.templates.dashboard.marketplace.show.edit\' | translate}}</button> <button class="btn btn-xs btn-danger" type="button" name="button" ng-if="answer.user_id == vm.userId" ng-click="vm.openDeleteAnswerModal(answer, i, key)">{{\'mno_enterprise.templates.dashboard.marketplace.show.delete\' | translate}}</button> </div> </div> </div> </div> </div> </div> </div> </div> </div> <mno-pagination ng-show="vm.isQuestionsPaginationShown()" page="vm.questions.page" nb-items="vm.questions.nbItems" total-items="vm.questions.totalItems" on-change-cb="vm.questions.pageChangedCb(vm.app.id, nbItems, page)" is-loading="vm.questions.loading"> </mno-pagination> </uib-tab> </uib-tabset> </div> </div> '),e.put("app/views/marketplace/marketplace-compare.html",'<div class="dashboard-marketplace-compare"> <mno-loader ng-show="vm.isLoading" class="top-buffer-4"></mno-loader>  <div class="row show-header top-buffer-4"> <div class="col-md-12"> <a ui-sref="home.marketplace()" class="text-muted"> <i class="fa fa-chevron-left"></i> {{ \'mno_enterprise.templates.dashboard.marketplace.show.back\' | translate }} </a> </div> </div> <div class="marketplace-compare-wrap" ng-show="!vm.isLoading"> <div class="row"> <div class="col-md-12"> <h1>{{ \'mno_enterprise.templates.dashboard.marketplace.compare.title\' | translate }}</h1> <div class="marketplace-compare-info"> <table class="marketplace-compare-table table table-bordered"> <tr> <th></th> <td ng-repeat="app in vm.comparedApps | limitTo:4"><a ui-sref="home.marketplace.app({appId: app.id})"><img class="media-object" ng-src="{{::app.logo}}" alt="{{::app.name}}"></a></td> </tr> <tr> <th>{{ \'mno_enterprise.templates.dashboard.marketplace.compare.application_provider\' | translate }}</th> <td ng-repeat="app in vm.comparedApps | limitTo:4">{{::app.name}}</td> </tr> <tr> <th>{{ \'mno_enterprise.templates.dashboard.marketplace.compare.category\' | translate }}</th> <td ng-repeat="app in vm.comparedApps | limitTo:4">{{::app.categories[2]}}</td> </tr> <tr> <th>{{ \'mno_enterprise.templates.dashboard.marketplace.compare.key_benefits\' | translate }}</th> <td ng-repeat="app in vm.comparedApps | limitTo:4"> <ul> <li ng-repeat="benefit in app.key_benefits track by $index"> {{::benefit}} </li> </ul> </td> </tr> <tr> <th>{{ \'mno_enterprise.templates.dashboard.marketplace.compare.short_description\' | translate }}</th> <td ng-repeat="app in vm.comparedApps | limitTo:4">{{::app.tiny_description}}</td> </tr> <tr ng-if="vm.isReviewingEnabled"> <th>{{ \'mno_enterprise.templates.dashboard.marketplace.compare.rating\' | translate }}</th> <td ng-repeat="app in vm.comparedApps | limitTo:4"> <p ng-if="!app.average_rating">{{ \'mno_enterprise.templates.dashboard.marketplace.compare.no_review\' | translate }}</p> <average-star-rating display-rating="true" ng-if="app.average_rating" ng-model="app.average_rating" max="5"></average-star-rating> </td> </tr> <tr> <th>{{ \'mno_enterprise.templates.dashboard.marketplace.compare.companies_number\' | translate }}</th> <td ng-repeat="app in vm.comparedApps | limitTo:4">{{::app.running_instances_count}}</td> </tr> <tr ng-if="vm.isPriceShown"> <th>{{ \'mno_enterprise.templates.dashboard.marketplace.compare.pricing\' | translate }}</th> <td ng-repeat="app in vm.comparedApps | limitTo:4"> <ul> <li ng-repeat="plan in app.pricing_plans[vm.pricing_plans]"> <b>{{::plan.name}}</b><br> <span ng-if="plan.price.value">{{::plan.currency}} {{::plan.price.value}} {{::plan.factor}}</span> <span ng-if="!plan.price.value">{{ \'mno_enterprise.templates.dashboard.marketplace.compare.pricing_not_available\' | translate }}</span> </li> </ul> </td> </tr> <tr class="text-center"> <th></th> <td ng-repeat="app in vm.comparedApps | limitTo:4"> <mno-app-install-btn app="app"></mno-app-install-btn> </td> </tr> </table> </div> </div> </div> </div> </div> '),e.put("app/views/marketplace/marketplace.html",'<h2 class="section-title">{{ \'mno_enterprise.templates.dashboard.marketplace.index.title\' | translate }}</h2> <div class="row dashboard-marketplace">  <mno-loader ng-show="vm.isLoading" class="top-buffer-4"></mno-loader>    <div class="top-buffer-4" ng-show="!vm.isLoading">  <div class="row"> <div class="marketplace-nav"> <div ng-if="vm.displayCategories" class="col-sm-4"> <select class="form-control" ng-model="vm.selectedCategory" ng-options="c for c in vm.categories" ng-change="vm.searchTerm = \'\'"> <option value="">{{ \'mno_enterprise.templates.dashboard.marketplace.index.select_all\' | translate }}</option> </select> </div> <div class="col-sm-4"> <input type="text" class="form-control" placeholder="{{ \'mno_enterprise.templates.dashboard.marketplace.index.search\' | translate }}" ng-model="vm.searchTerm" ng-change="vm.selectedCategory = \'\'"> </div> <div ng-show="vm.isMarketplaceCompare && vm.apps.length > 1" class="col-sm-4 text-center"> <button ng-click="vm.enableComparison()" ng-hide="vm.showCompare" class="btn btn-primary"> <span>{{ \'mno_enterprise.templates.dashboard.marketplace.index.compare\' | translate }}</span> </button> <div ng-show="vm.showCompare" class="marketplace-compare-action"> <div>{{\'mno_enterprise.templates.dashboard.marketplace.index.select_apps\' | translate }}</div> <button class="btn btn-primary" ui-sref="home.marketplace.compare" ng-disabled="!vm.canBeCompared()"> {{\'mno_enterprise.templates.dashboard.marketplace.index.compare_apps\' | translate}} ({{vm.nbAppsToCompare}}) </button> <button class="btn btn-primary" ng-click="vm.cancelComparison()">{{ \'mno_enterprise.templates.dashboard.marketplace.index.cancel\' | translate }}</button> </div> </div> </div> </div>  <div class="row"> <div class="marketplace-list">  <div class="col-sm-6 col-md-4" ng-repeat="app in vm.apps | filter:vm.appsFilter | filter:vm.searchTerm"> <div class="marketplace-app-card-checkbox" ng-show="vm.showCompare"> <label> <input type="checkbox" ng-click="vm.toggleAppToCompare(app)" ng-model="app.toCompare"> </label> </div> <a class="marketplace-app-card" ui-sref="home.marketplace.app({appId: app.id})"> <div class="media"> <div class="pull-left"> <img class="media-object" ng-src="{{::app.logo}}" ng-alt="{{::app.name}}"> </div> <div class="media-body"> <h4 class="media-heading">{{::app.name}}</h4> {{::app.tiny_description}} </div> <div class="arrow"> <i class="fa fa-caret-right fa-2x"></i> </div> </div> </a> </div> </div> </div> </div> </div> '),e.put("app/views/onboarding/layout.html",'<div id="onboarding"> <header class="header"> <img class="logo" src="images/main-logo.png"> <div class="onboarding-menu" ng-click="onboarding.menu.toggle()"> <span class="name">{{onboarding.user.name}} {{onboarding.user.surname}}</span> <img class="avatar" ng-src="{{onboarding.user.avatar_url}}"> <i ng-class="onboarding.menu.isClosed? \'fa fa-chevron-down\': \'fa fa-chevron-up\'"></i> <div class="box-content scrollbar-hidden" uib-collapse="onboarding.menu.isClosed"> <a ui-sref="logout" class="default-link"> <i class="fa fa-sign-out"></i> <span translate="">mno_enterprise.templates.onboarding.menu.logout</span> </a> </div> </div> </header> <div class="sub-header"> <a class="breadcrumb-item" ui-sref="onboarding.step1" ui-sref-active="active"> <span class="badge">1</span> <span class="title" translate="">mno_enterprise.templates.onboarding.breadcrumb.step1</span> </a> <a class="breadcrumb-item" ui-sref="onboarding.step2" ui-sref-active="active"> <span class="badge">2</span> <span class="title" translate="">mno_enterprise.templates.onboarding.breadcrumb.step2</span> </a> <a class="breadcrumb-item" ui-sref="onboarding.step3" ui-sref-active="active"> <span class="badge">3</span> <span class="title" translate="">mno_enterprise.templates.onboarding.breadcrumb.step3</span> </a> <a class="breadcrumb-item" ui-sref="onboarding.step4" ui-sref-active="active"> <span class="badge">4</span> <span class="title" translate="">mno_enterprise.templates.onboarding.breadcrumb.step4</span> </a> </div> <div class="container" ui-view=""></div> </div> '),e.put("app/views/onboarding/step1.html",'<div id="step1"> <div class="row"> <div class="col-lg-10 col-lg-offset-1"> <div class="content-panel"> <div class="text-center"> <h1 translate="" translate-value-name="{{vm.user.name}}"> mno_enterprise.templates.onboarding.welcome.title </h1> </div> <p class="top-buffer-2" translate="">mno_enterprise.templates.onboarding.welcome.intro</p> <p class="top-buffer-1" translate="">mno_enterprise.templates.onboarding.welcome.setup</p> <div class="text-center"> <button id="ob1-btn" class="btn btn-primary next-button" ui-sref="onboarding.step2" ng-disabled="vm.isLoading"> <span ng-show="vm.isLoading"><i class="fa fa-refresh fa-spin"></i>&nbsp;</span> <span translate="">mno_enterprise.templates.onboarding.welcome.choose_my_apps</span> </button> </div> </div> </div> </div> </div> '),e.put("app/views/onboarding/step2.html",'<div id="step2"> <div class="row"> <div class="col-xs-12"> <div class="content-panel"> <div class="text-center"> <h1 translate="">mno_enterprise.templates.onboarding.select_your_app.title</h1> </div> <div class="apps-container">  <div id="apps"> <section> <mno-widget id="apps-widget" is-loading="vm.isLoading"> <mno-widget-header> <div id="widget-header-bar"> <div id="app-search" class="input-group"> <div class="input-group-addon"><span class="glyphicon glyphicon-search"></span></div> <input type="text" ng-model="vm.searchTerm" placeholder="{{ \'mno_enterprise.templates.onboarding.select_your_app.search\' | translate }}" class="form-control" ng-change="vm.selectedCategory = \'\'"> </div> <select id="app-category" class="form-control" ng-model="vm.selectedCategory" ng-options="c for c in vm.marketplace.categories" ng-change="vm.searchTerm = \'\'"> <option value="">{{ \'mno_enterprise.templates.dashboard.marketplace.index.select_all\' | translate }}</option> </select> </div> </mno-widget-header> <mno-widget-body class="no-padding large"> <div class="app-tile" ng-repeat="app in vm.marketplace.apps | filter:vm.appsFilter | filter:{name: vm.searchTerm}"> <a class="app-info-modal" href="" ng-click="vm.openInfoModal(app)"><i class="fa fa-info-circle"></i></a> <div uib-tooltip="{{ vm.appSelectDisabledTooltipText(app) | translate:{appName: app.conflictingApp.name} }}" tooltip-enable="vm.appSelectDisabled(app)" tooltip-placement="auto" tooltip-trigger="hover"> <div class="app-icon" ng-click="vm.toggleApp(app)" ng-disabled="vm.appSelectDisabled(app)"> <div class="checked" ng-show="app.checked"> <i class="fa fa-check fa-5x"></i> </div> <img class="app-logo img-thumbnail" ng-src="{{app.logo}}" alt="{{::app.name}} logo" title="{{::app.tiny_description}}"> </div> </div> <div class="app-title"> {{::app.name}} </div> </div> </mno-widget-body> </mno-widget> </section> <section class="text-center onboarding-footer"> <div ng-show="vm.maxAppsSelected" translate="">mno_enterprise.templates.onboarding.select_your_app.max_apps_selected</div> <div ng-show="vm.isConnectingApps"><i class="fa fa-refresh fa-spin fa-2x"></i></div> <button class="btn btn-primary next-button" ng-click="vm.connectApps()" ng-show="!vm.isConnectingApps" ng-disabled="vm.selectedApps.length === 0" translate=""> mno_enterprise.templates.onboarding.welcome.connect_my_apps </button> </section> </div>  <div id="data-shared"> <h4 translate="">mno_enterprise.templates.onboarding.data_sync.what_data</h4> <div ng-show="vm.selectedApps.length === 0" translate=""> mno_enterprise.templates.onboarding.data_sync.start </div> <table ng-show="vm.selectedApps.length > 0" class="table table-data-shared"> <thead> <tr> <th>&nbsp;</th> <th ng-repeat="app in vm.appEntities"> <div class="th-app"> <img ng-src="{{app.logo}}" class="header-logo"> <div class="app-title" title="{{app.name}}">{{app.name}}</div> </div> </th> </tr> </thead> <tbody> <tr ng-show="vm.listEntities.length === 0"> <td colspan="{{vm.selectedApps.length + 1}}"> <span class="text-muted" translate="">mno_enterprise.templates.onboarding.data_sync.no_entity_shared</span> </td> </tr> <tr ng-repeat="entity in vm.listEntities"> <td>{{entity}}</td> <td ng-repeat="app in vm.appEntities"> <i class="fa fa-2x" ng-class="vm.containsEntity(app.entities, entity) ? \'fa-check\' : \'fa-times\'"></i> </td> </tr> </tbody> </table> <div class="top-buffer-1"> <a ng-href="{{vm.connecDocUri}}" target="_blank" translate="">mno_enterprise.templates.onboarding.data_sync.learn_more</a> </div> </div> </div> </div> </div> </div> </div> '),
e.put("app/views/onboarding/step3.html",'<div id="step3"> <div class="row"> <div class="col-lg-10 col-lg-offset-1"> <div class="content-panel clearfix"> <div class="text-center"> <h1 translate="">mno_enterprise.templates.onboarding.connect_apps.connect_applications</h1> </div> <div ng-show="vm.isFetchingAppInstances" class="text-center top-buffer-3"> <i class="fa fa-refresh fa-spin fa-3x apps-loader"></i> </div> <div class="apps-wrapper"> <div class="app-card" ng-repeat="appInstance in vm.appInstances track by appInstance.id"> <img ng-src="{{appInstance.logo}}" alt="{{appInstance.name}}"> <h4>{{appInstance.name}}</h4> <mno-app-onboarding-btn app-instance="appInstance" class="top-buffer-1"></mno-app-onboarding-btn> </div> </div> <div class="text-center next-button-wrapper"> <div class="top-buffer-2" ng-show="vm.nbAppsToConnect > 0" translate="" translate-value-nb="{{vm.nbAppsToConnect}}"> mno_enterprise.templates.onboarding.connect_apps.apps_to_connect_now </div> <div ng-show="vm.nbAppsToConnect > 0" class="text-muted" translate=""> mno_enterprise.templates.onboarding.connect_apps.apps_to_connect_later </div> <button id="ob3-btn1" ng-show="vm.nbAppsToConnect > 0" class="btn btn-primary next-button" ui-sref="home.impac"> <span translate="">mno_enterprise.templates.onboarding.connect_apps.skip</span> </button> <button id="ob3-btn2" ng-show="vm.nbAppsToConnect === 0" class="btn btn-primary next-button" ui-sref="home.impac"> <span translate="">mno_enterprise.templates.onboarding.connect_apps.go_to_dashboard</span> </button> </div> </div> </div> </div> </div> '),e.put("app/components/dashboard-company-selectbox/modals/create-company.html",'<div class="modal-header"> <div class="close" type="button" ng-click="modal.cancel()"></div> <h3 translate="">mno_enterprise.templates.dashboard.create_company.title</h3> </div> <form name="form" novalidate=""> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <div class="alert alert-error" ng-show="modal.errors"> <button class="close" ng-click="modal.errors=\'\'"></button> <ul> <li ng-repeat="error in modal.errors">{{error}}</li> </ul> </div> </div> </div> <div class="row"> <div class="col-sm-6 col-sm-offset-3 text-center"> <p translate="">mno_enterprise.templates.dashboard.create_company.enter_name</p> <input type="text" class="form-control" name="name" ng-model="modal.model.name" required=""> </div> </div> </div> <div class="modal-footer"> <div class="row"> <div class="col-sm-12"> <button class="btn btn-default" ng-click="modal.cancel()" ng-show="!modal.isLoading">{{\'mno_enterprise.templates.dashboard.create_company.cancel\' | translate}}</button> <button class="btn btn-info" ng-click="modal.proceed()" ng-disabled="modal.isLoading || form.$invalid"> <span ng-show="modal.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span> {{\'mno_enterprise.templates.dashboard.create_company.create\' | translate}} </button> </div> </div> </div> </form> '),e.put("app/views/apps/modals/app-connect-modal-myob.html",'<div id="app-connect-modal"> <div class="modal-header"> <div class="close" type="button" aria-label="Close" ng-click="close()"></div> <h3 class="modal-title" translate="mno_enterprise.webhook.o_auth.providers.xero.connect_to" translate-values="{appname: app.name}"></h3> </div> <div class="modal-body"> <h4 class="text-center">{{"mno_enterprise.webhook.o_auth.providers.myob.which_version_used" | translate}}</h4> <div class="top-buffer-2"></div> <form> <input type="hidden" ng-model="form.perform"> <div class="top-buffer-1"></div> <div class="form-group text-center"> <label>{{"mno_enterprise.webhook.o_auth.providers.myob.my_version_is" | translate}}</label> <select ng-model="form.version" name="version" ng-options="version.value as version.name for version in versions"></select> </div> <div class="form-group"> <button type="submit" class="btn btn-warning" ng-click="connect(form)">{{"mno_enterprise.webhook.o_auth.providers.myob.connect" | translate}}</button> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-default" ng-click="close()">{{"mno_enterprise.webhook.o_auth.providers.cancel" | translate}}</button> </div> </div> '),e.put("app/views/apps/modals/app-connect-modal-xero.html",'<div id="app-connect-modal"> <div class="modal-header"> <div class="close" type="button" aria-label="Close" ng-click="close()"></div> <h3 class="modal-title" translate="mno_enterprise.webhook.o_auth.providers.xero.connect_to" translate-values="{appname: app.name}"></h3> </div> <div class="modal-body"> <h4 class="text-center">{{"mno_enterprise.webhook.o_auth.providers.xero.how_do_you_want_to_connect" | translate}}</h4> <div class="top-buffer-1"></div> <form> <input type="hidden" ng-model="form.perform"> <div class="top-buffer-2"></div> <div class="form-group text-center"> <h5>{{"mno_enterprise.webhook.o_auth.providers.xero.which_extra_modules" | translate}}</h5> <label>{{"mno_enterprise.webhook.o_auth.providers.xero.payroll" | translate}}</label> <input type="checkbox" ng-model="payroll" name="extra_params[]"> </div> <div class="form-group text-center" ng-if="payroll" ng-cloak="true"> <h5>{{"mno_enterprise.webhook.o_auth.providers.xero.which_country_for_the_account" | translate}}</h5> <select ng-model="form.xero_country" name="xero_country" ng-options="country.value as country.name for country in countries"></select> </div> <div class="form-group"> <button type="submit" class="btn btn-warning" ng-click="connect(form)">{{"mno_enterprise.webhook.o_auth.providers.myob.connect" | translate}}</button> </div> </form> </div> <div class="modal-footer"> <button class="btn btn-default" ng-click="close()">{{"mno_enterprise.webhook.o_auth.providers.cancel" | translate}}</button> </div> </div> '),e.put("app/views/apps/modals/app-deletion-modal.html",'<div class="app-deletion-modal"> <div class="modal-header"> <button type="button" class="close" aria-label="Close" ng-click="modalOptions.close()"><span aria-hidden="true">&times;</span></button> <h4 class="modal-title">{{ \'mno_enterprise.templates.dashboard.app_deletion.title\' | translate }}</h4> </div> <div class="modal-body"> <div class="alert alert-error" ng-show="modal.errors"> <button class="close" ng-click="modal.errors=\'\'"></button> <ul> <li ng-repeat="error in modal.errors">{{error}}</li> </ul> </div> <p class="text-center"><small>{{ \'mno_enterprise.templates.dashboard.app_deletion.instructions\' | translate }}</small></p> <p class="text-error text-center deletion-sentence">{{modal.sentence}}</p> <div class="row"> <div class="col-md-8 col-md-offset-2"> <input type="text" ng-model="sentenceCheck" class="form-control text-center" required=""> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" ng-show="!modal.loading" ng-click="modal.cancel()"> {{ \'mno_enterprise.templates.dashboard.app_deletion.cancel\' | translate }} </button> <button type="button" class="btn btn-danger" ng-disabled="(modal.sentence != sentenceCheck) || modal.loading" ng-click="modal.deleteApp()"> <span ng-show="modal.loading"><i class="fa fa-spinner fa-pulse"></i>&nbsp;</span> {{ \'mno_enterprise.templates.dashboard.app_deletion.delete\' | translate }} </button> </div> </div> '),e.put("app/views/apps/modals/app-settings-modal.html",'<div id="app-settings-modal"> <div class="modal-header"> <div class="close" type="button" aria-label="Close" ng-click="modal.close()"></div> <h3><b>{{ \'mno_enterprise.templates.impac.dock.settings.settings\' | translate }}</b> - <span class="app-name">{{app.name}}</span></h3> </div> <div class="modal-body"> <div class="container-fluid"> <div class="row top-buffer-1"> <div class="col-md-3"> <span class="title">{{ \'mno_enterprise.templates.impac.dock.settings.status\' | translate }}</span> </div> <div class="col-md-8"> <span class="label" ng-class="app.status">{{app.status}}</span> </div> </div>  <div ng-show="helper.isAddOnSettingShown(app)"> <hr> <button ng-click="helper.addOnSettingLauch(app)" class="btn btn-warning">{{ \'mno_enterprise.templates.impac.dock.settings.access_add-on_settings\' | translate }}</button> </div>  <div ng-show="helper.isDataSyncShown(app) || helper.isDataDisconnectShown(app)"> <hr> <div class="row"> <div class="col-md-3"> <span class="title">{{ \'mno_enterprise.templates.impac.dock.settings.manual_data_sharing\' | translate }}</span> </div> <div class="col-md-8">  <div ng-show="helper.companyName(app)"> {{ \'mno_enterprise.templates.impac.dock.settings.linked_to\' | translate }}: {{ helper.companyName(app) | truncate:45 }} </div> </div> </div> <div class="align-center centered-buttons top-buffer-1">  <div class="left-side"> <div ng-show="helper.isDataSyncShown(app)"> <a class="btn btn-info" ng-href="{{helper.dataSyncPath(app)}}" uib-tooltip="{{ \'mno_enterprise.templates.dashboard.apps_list.manual_data_sync_tooltip\' | translate:{ appname: app.app_name } }}">{{ \'mno_enterprise.templates.impac.dock.settings.manual_data_sync\' | translate }}</a> </div> </div>  <div ng-show="helper.isDataDisconnectShown(app)"> <a class="btn btn-danger" ng-click="helper.dataDisconnectClick(app)" href="" uib-tooltip="{{ \'mno_enterprise.templates.dashboard.apps_list.disconnect_link_tooltip\' | translate:{ appname: app.app_name } }}"> {{ \'mno_enterprise.templates.impac.dock.settings.disconnect_link\' | translate }} </a> </div> </div> </div>  <hr> <div ng-show="helper.canDeleteApp()" class="app-deletion"> <button class="btn btn-danger" ng-hide="app.showDelete" ng-click="app.showDelete = !app.showDelete">{{ \'mno_enterprise.templates.impac.dock.settings.delete\' | translate }}</button> <div ng-show="app.showDelete"> <h4>{{ \'mno_enterprise.templates.impac.dock.settings.confirm_app_deletion\' | translate }}</h4> <div ng-show="app.plan.currentBillingType == \'monthly\'"> <p class="text-error"> {{ \'mno_enterprise.templates.impac.dock.settings.please_note_this_app\' | translate }} </p> </div> <p> {{ \'mno_enterprise.templates.impac.dock.settings.delete_instructions\' | translate }} <br> <span class="text-error deletion-sentence align-center"><strong>{{sentence}}</strong></span> </p> <div> <input type="text" class="sentence-check" ng-model="sentenceCheck" required=""> </div> <div class="buttons"> <button class="btn btn-default" ng-click="app.showDelete=false">{{ \'mno_enterprise.templates.impac.dock.settings.cancel\' | translate}}</button> <button class="btn btn-danger" ng-click="deleteApp()" ng-disabled="sentence != sentenceCheck || modal.loading"> <span ng-show="modal.loading"><i class="fa fa-spinner fa-pulse"></i>&nbsp;</span> {{ \'mno_enterprise.templates.impac.dock.settings.delete\' | translate }} </button> </div> </div> </div>  <div ng-show="helper.canDeleteApp()"> <hr> <a class="text-muted" href="" ng-click="app.showDevDetails = !app.showDevDetails"><em> {{ app.showDevDetails && \'Hide\' || \'Show\'}} {{ \'mno_enterprise.templates.impac.dock.settings.developer_details\' | translate }} </em></a> <div ng-show="app.showDevDetails"> <h4>{{ \'mno_enterprise.templates.impac.dock.settings.developer_details\' | translate }} </h4> <div class="developer-details"> <dl class="dl-horizontal"> <dt>{{ \'mno_enterprise.templates.impac.dock.settings.organization_id\' | translate }}:</dt> <dd>{{organization_uid}}</dd> <dt>{{ \'mno_enterprise.templates.impac.dock.settings.group_id\' | translate }}:</dt> <dd>{{app.uid}}</dd> </dl> </div> </div> </div> </div> </div> </div> '),e.put("app/views/company/audit-log/organization-audit-log.html",'<div class="row"> <div class="col-md-12"> <div class="btn-group pull-right top-buffer-1"> <a type="button" class="btn btn-primary" ng-href="{{exportUrl}}"> <i class="fa fa-download"></i> {{\'mno_enterprise.templates.dashboard.organization.audit_log.export\' | translate}} </a> </div> </div> <div class="col-md-12 top-buffer-1"> <mno-audit-events-list></mno-audit-events-list> </div> </div> '),e.put("app/views/company/billing/organization-billing.html",'<div class="row"> <div class="col-md-12"> <p translate="mno_enterprise.templates.dashboard.organization.billing.current_billing_html" translate-value-amount="{{ billing.current.value | currency: defaultCurrency + \'$\'}}"> </p> </div> </div> <div class="row" ng-show="isCreditShown()"> <div class="col-md-12"> <p> You have <b>{{ billing.credit.value | currency: billing.credit.options.symbol }} ({{ billing.credit.options.iso_code }})</b> credit on your account to be used for the next payment. Note that this credit account will also be linked to any organization you create. </p> </div> </div> <div class="row"> <div class="col-md-12"> <p> <small> <em> {{ \'mno_enterprise.templates.dashboard.organization.billing.disclaimer\' | translate }} </em> </small> </p> </div> </div> <div class="row" ng-if="payment_enabled"> <div class="col-md-12"> <h5>{{ \'mno_enterprise.templates.dashboard.organization.billing.about_title\' | translate }}</h5> <p> {{ \'mno_enterprise.templates.dashboard.organization.billing.about_body\' | translate }} </p> </div> </div> '),e.put("app/views/company/credit-card/organization-credit-card.html",' <div class="row"> <h4 class="cc-header"> {{ \'mno_enterprise.templates.dashboard.organization.credit_card.title\' | translate }} <small> <em class="text-muted"> - {{ \'mno_enterprise.templates.dashboard.organization.credit_card.subtitle\' | translate }} <div> <i class="mnoe-icon mnoe-icon-cpy-logo-eway" alt="eWay Logo Shield"></i> <i class="mnoe-icon mnoe-icon-cpy-logo-cba" alt="CBA Logo"></i> <img style="cursor:pointer;" src="https://seal.godaddy.com/images/3/en/siteseal_gd_3_h_l_m.gif" ng-click="openGodaddySslSeal()"> </div> </em> </small> </h4> <div class="clearfix"></div> <hr> <form name="forms.creditCard" role="form" novalidate="" class="form-horizontal"> <div class="form-group"> <div class="col-xs-6 pull-right text-right cc-icons"> <span ng-repeat="ccType in config.validCCTypes"> <i class="mnoe-icon mnoe-icon-cc-icons-mno-cc-{{ccType}}" ng-class="classForIconType(ccType)"></i> </span> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">{{ \'mno_enterprise.templates.dashboard.organization.credit_card.cc_form.title\' | translate }}</label> <div class="col-sm-4"> <select class="form-control" ng-model="model.title" ng-options="label for label in config.validTitles" required=""> <option value="" disabled="" selected="" style="display:none;">{{ \'mno_enterprise.templates.dashboard.organization.credit_card.cc_form.title_select\' | translate }}</option> </select> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">{{ \'mno_enterprise.templates.dashboard.organization.credit_card.cc_form.name\' | translate }}</label> <div class="col-sm-4"> <input type="text" class="form-control" placeholder="{{ \'mno_enterprise.templates.dashboard.organization.credit_card.cc_form.placeholder_name\' | translate }}" ng-model="model.first_name" required=""> </div> <div class="col-sm-5"> <input type="text" class="form-control" placeholder="{{ \'mno_enterprise.templates.dashboard.organization.credit_card.cc_form.placeholder_surname\' | translate }}" ng-model="model.last_name" required=""> </div> </div> <div class="form-group" ng-class="{\'has-warning\': !isAcceptedCardType()}"> <label class="col-sm-2 control-label">{{ \'mno_enterprise.templates.dashboard.organization.credit_card.cc_form.number\' | translate }}</label> <div class="col-sm-9"> <input type="text" class="form-control" ng-model="model.number" required=""> <span class="help-block" ng-hide="isAcceptedCardType()">{{ \'mno_enterprise.templates.dashboard.organization.credit_card.cc_form.unaccepted_type\' | translate }}</span> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">{{ \'mno_enterprise.templates.dashboard.organization.credit_card.cc_form.cvv\' | translate }}</label> <div class="col-sm-3"> <input type="text" class="form-control" placeholder="{{ \'mno_enterprise.templates.dashboard.organization.credit_card.cc_form.cvv\' | translate }}" ng-model="model.verification_value" required=""> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">{{ \'mno_enterprise.templates.dashboard.organization.credit_card.cc_form.country\' | translate }}</label> <div class="col-sm-6"> <select class="form-control" ng-model="model.country" ng-options="country.val as country.label for country in config.validCountries" required=""> <option value="" disabled="" selected="" style="display:none;">{{ \'mno_enterprise.templates.dashboard.organization.credit_card.cc_form.country_select\' | translate }}</option> </select> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">{{ \'mno_enterprise.templates.dashboard.organization.credit_card.cc_form.expiry\' | translate }}</label> <div class="col-sm-3"> <select class="form-control" ng-model="model.month" ng-options="label for label in config.validMonths" required=""> <option value="" disabled="" selected="" style="display:none;">{{ \'mno_enterprise.templates.dashboard.organization.credit_card.cc_form.month_select\' | translate }}</option> </select> </div> <div class="col-sm-3"> <select class="form-control" ng-model="model.year" ng-options="label for label in config.validYears" required=""> <option value="" disabled="" selected="" style="display:none;">{{ \'mno_enterprise.templates.dashboard.organization.credit_card.cc_form.year_select\' | translate }}</option> </select> </div> </div>  </form> </div>  <div class="row"> <h4 class="cc-header">{{ \'mno_enterprise.templates.dashboard.organization.credit_card.billing_form.header\' | translate }}</h4> <hr> <form name="forms.billingAddress" novalidate="" class="form-horizontal"> <div class="form-group"> <label class="col-sm-2 control-label">{{ \'mno_enterprise.templates.dashboard.organization.credit_card.billing_form.street\' | translate }}</label> <div class="col-sm-9"> <input type="text" class="form-control" ng-model="model.billing_address" required=""> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">{{ \'mno_enterprise.templates.dashboard.organization.credit_card.billing_form.city\' | translate }}</label> <div class="col-sm-4"> <input type="text" class="form-control" ng-model="model.billing_city" required=""> </div> <label class="col-sm-2 control-label">{{ \'mno_enterprise.templates.dashboard.organization.credit_card.billing_form.postcode\' | translate }}</label> <div class="col-sm-3"> <input type="text" class="form-control" ng-model="model.billing_postcode" required=""> </div> </div> <div class="form-group"> <label class="col-sm-2 control-label">{{ \'mno_enterprise.templates.dashboard.organization.credit_card.billing_form.country\' | translate }}</label> <div class="col-sm-6"> <select class="form-control" ng-model="model.billing_country" ng-options="country.val as country.label for country in config.validCountries" required=""> <option value="" disabled="" selected="" style="display:none;">{{ \'mno_enterprise.templates.dashboard.organization.credit_card.billing_form.country_select\' | translate }}</option> </select> </div> </div>  </form> </div>  <div class="row"> <div class="alert alert-error" ng-show="errors"> <button class="close" ng-click="errors=\'\'"></button> <ul> <li ng-repeat="error in errors">{{error}}</li> </ul> </div> </div>  <div class="row text-right"> <div class="col-md-4 col-md-offset-8"> <button ng-click="cancel()" class="btn btn-default" ng-show="isCancelShown() && !isLoading"> {{ \'mno_enterprise.templates.dashboard.organization.credit_card.cancel\' | translate }} </button> <button ng-click="save()" href="" class="btn btn-info" ng-disabled="!isSaveEnabled() || isLoading"> <span ng-show="isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span> <span ng-show="!isLoading"><i class="fa fa-shield"></i></span> {{ \'mno_enterprise.templates.dashboard.organization.credit_card.save\' | translate }} </button> </div> </div> '),e.put("app/views/company/invoices/organization-invoices.html",'<div class="table-cell"> <div class="row th-row hidden-xs"> <div class="cell col-sm-3">{{ \'mno_enterprise.templates.dashboard.organization.invoices.period\' | translate }}</div> <div class="cell col-sm-3">{{ \'mno_enterprise.templates.dashboard.organization.invoices.amount\' | translate }}</div> <div class="cell col-sm-3" ng-if="payment_enabled">{{ \'mno_enterprise.templates.dashboard.organization.invoices.paid\' | translate }}</div> <div class="cell col-sm-3 text-center">{{ \'mno_enterprise.templates.dashboard.organization.invoices.download\' | translate }}</div> </div> <div class="row td-row" ng-repeat="invoice in invoices"> <div class="cell col-sm-3"> <span class="cell-label visible-xs-inline">{{ \'mno_enterprise.templates.dashboard.organization.invoices.period\' | translate }}:<br></span> {{ invoice.period }} </div> <div class="cell col-sm-3"> <span class="cell-label visible-xs-inline"> {{ \'mno_enterprise.templates.dashboard.organization.invoices.amount\' | translate }}: </span> {{ invoice.amount.value | currency: invoice.amount.options.symbol }} ({{ invoice.amount.options.iso_code }})</div> <div class="cell col-sm-3" ng-if="payment_enabled"> <span class="cell-label visible-xs-inline">{{ \'mno_enterprise.templates.dashboard.organization.invoices.paid\' | translate }}:</span> {{ {true: \'Yes\', false: \'No\'}[invoice.paid] }} </div> <div class="cell col-sm-3 text-center"> <a ng-href="{{invoice.link}}" target="_blank" class="btn btn-sm"> <i class="fa fa-cloud-download"></i> <span class="cell-label visible-xs-inline"><br>{{ \'mno_enterprise.templates.dashboard.organization.invoices.download\' | translate }}</span> </a> </div> </div> </div> '),e.put("app/views/company/members/organization-members.html",' <div class="row" ng-show="isInviteShown()"> <button class="btn btn-sm btn-warning" ng-click="inviteMembers()"> <i class="fa fa-user-plus"></i> {{ \'mno_enterprise.templates.dashboard.organization.members.invite_users\' | translate }} </button> </div>  <mno-loader ng-show="isLoading"></mno-loader> <div class="table-cell" ng-show="!isLoading"> <div class="row th-row hidden-xs"> <div class="cell col-sm-2">{{ \'mno_enterprise.templates.dashboard.organization.members.name\' | translate }}</div> <div class="cell col-sm-2">{{ \'mno_enterprise.templates.dashboard.organization.members.surname\' | translate }}</div> <div class="cell col-sm-4">{{ \'mno_enterprise.templates.dashboard.organization.members.email\' | translate }}</div> <div class="cell col-sm-2">{{ \'mno_enterprise.templates.dashboard.organization.members.role\' | translate }}</div> </div> <div class="row td-row" ng-repeat="member in members"> <div class="cell col-sm-2"> <span class="cell-label visible-xs-inline"> {{ \'mno_enterprise.templates.dashboard.organization.members.name\' | translate }}: </span> {{ member.name }} </div> <div class="cell col-sm-2"> <span class="cell-label visible-xs-inline"> {{ \'mno_enterprise.templates.dashboard.organization.members.surname\' | translate }}: </span> {{ member.surname }} </div> <div class="cell col-sm-4"> <span class="cell-label visible-xs-inline"> {{ \'mno_enterprise.templates.dashboard.organization.members.email\' | translate }}: <br> </span> {{ member.email }} </div> <div class="cell col-sm-2"> <span class="cell-label visible-xs-inline"> {{ \'mno_enterprise.templates.dashboard.organization.members.role\' | translate }}: </span> {{ memberRoleLabel(member) }} </div> <div class="cell col-sm-2"> <a ng-click="editMember(member)" class="btn btn-link btn-link-warning" ng-show="isEditShown(member)"> <i class="fa fa-pencil-square-o"></i> <span class="cell-label visible-xs-inline"><br>{{ \'mno_enterprise.templates.dashboard.organization.members.edit\' | translate }}</span> </a> <a ng-click="removeMember(member)" class="btn btn-link btn-link-danger" ng-show="isRemoveShown(member)"> <i class="fa fa-remove"></i> <span class="cell-label visible-xs-inline"><br>{{ \'mno_enterprise.templates.dashboard.organization.members.remove\' | translate }}</span> </a> </div> </div> </div> '),e.put("app/views/company/settings/organization-settings.html",' <div class="row"> <div class="alert alert-error" ng-show="errors"> <button class="close" ng-click="errors=\'\'"></button> <ul> <li ng-repeat="error in errors">{{error}}</li> </ul> </div> </div> <div class="row"> <form name="forms.settings" role="form" novalidate="" class="form-horizontal"> <div class="form-group"> <label class="col-sm-3 control-label">{{ \'mno_enterprise.templates.dashboard.organization.settings.company_name\' | translate }}</label> <div class="col-sm-6"> <input type="text" class="form-control" ng-model="model.name" required=""> </div> </div> </form> </div>  <div class="row text-right"> <div class="col-md-4 col-md-offset-8"> <button ng-click="cancel()" class="btn btn-default" ng-show="isCancelShown() && !isLoading"> {{ \'mno_enterprise.templates.dashboard.organization.settings.cancel\' | translate }} </button> <button ng-click="save()" href="" class="btn btn-warning" ng-disabled="!isSaveEnabled() || isLoading"> <span ng-show="isLoading"> <i class="fa fa-spinner fa-pulse"></i> </span> {{ \'mno_enterprise.templates.dashboard.organization.settings.save\' | translate }} </button> </div> </div> '),e.put("app/views/company/team-list/team-list.html",' <mno-loader ng-show="isLoading" class="top-buffer-1"></mno-loader>  <div ng-show="!isLoading"> <h4 ng-show="hasTeams()">{{ title }}</h4> <div uib-accordion="" class="accordion"> <div ng-repeat="team in teams" class="teams-accordion-star-ref"> <div uib-accordion-group="" is-open="team.$isAccOpen"> <div uib-accordion-heading=""> {{ team.name }} <span class="fa pull-right" ng-class="{\'fa-caret-down\': !team.$isAccOpen, \'fa-caret-up\': team.$isAccOpen}"></span> </div> <div class="row text-center" ng-show="isTeamEmpty(team)"> <p> <em>{{ \'mno_enterprise.templates.dashboard.teams.team_list.add_team_members\' | translate:{teamname: team.name} }}</em> </p> <div ng-show="canManageTeam()"> <button class="btn btn-sm btn-warning" ng-click="memberAddModal.open(team)"> <i class="fa fa-user-plus"></i> {{ \'mno_enterprise.templates.dashboard.teams.team_list.add_team_members\' | translate }} </button> </div> </div> <div class="row" ng-show="!isTeamEmpty(team)"> <div class="col-sm-12" ng-show="canManageTeam()"> <button class="btn btn-sm btn-warning" ng-click="memberAddModal.open(team)"> <i class="fa fa-user-plus"></i> {{ \'mno_enterprise.templates.dashboard.teams.team_list.add_team_members\' | translate }} </button> </div> </div>  <div class="row" ng-show="!isTeamEmpty(team)"> <div class="col-sm-12"> <div class="table-cell"> <div class="row th-row hidden-xs"> <div class="cell col-sm-3 col-md-2">{{ \'mno_enterprise.templates.dashboard.teams.team_list.tbl_name\' | translate }}</div> <div class="cell col-sm-4 col-md-2">{{ \'mno_enterprise.templates.dashboard.teams.team_list.tbl_surname\' | translate }}</div> <div class="cell col-md-4 hidden-xs hidden-sm">{{ \'mno_enterprise.templates.dashboard.teams.team_list.tbl_email\' | translate }}</div> <div class="cell col-sm-3 col-md-2 hidden-xs">{{ \'mno_enterprise.templates.dashboard.teams.team_list.tbl_role\' | translate }}</div> </div> <div class="row td-row" ng-repeat="member in team.users"> <div class="cell col-sm-3 col-md-2"> <span class="cell-label visible-xs-inline"> {{ \'mno_enterprise.templates.dashboard.teams.team_list.tbl_name\' | translate }}: </span> {{ member.name }} </div> <div class="cell col-sm-4 col-md-2"> <span class="cell-label visible-xs-inline"> {{ \'mno_enterprise.templates.dashboard.teams.team_list.tbl_surname\' | translate }}: </span> {{ member.surname }} </div> <div class="cell col-md-4 hidden-xs hidden-sm"> <span class="cell-label visible-xs-inline"> {{ \'mno_enterprise.templates.dashboard.teams.team_list.tbl_email\' | translate }}: </span> {{ member.email }} </div> <div class="cell col-sm-3 col-md-2 hidden-xs"> <span class="cell-label visible-xs-inline"> {{ \'mno_enterprise.templates.dashboard.teams.team_list.tbl_role\' | translate }}: </span> {{ member.role }} </div> <div class="cell col-sm-2" ng-show="canManageTeam()"> <a ng-click="memberRemovalModal.open(team,member)" class="btn btn-link btn-link-danger"> <i class="fa fa-remove hidden-xs"></i> <span class="cell-label visible-xs-inline">&nbsp;{{ \'mno_enterprise.templates.dashboard.teams.team_list.remove\' | translate }}</span> </a> </div> </div>  </div>  </div>  </div>  </div>  </div>  </div>  </div> '),e.put("app/views/company/teams/organization-teams.html",'<div class="row dashboard-teams">  <mno-loader ng-show="isLoading"></mno-loader>  <div ng-show="!isLoading && !hasTeams()"> <div class="row"> <div class="col-sm-12"> <div class="well text-center"> <p>{{ \'mno_enterprise.templates.dashboard.teams.index.no_teams_warning\' | translate }}</p> <button type="button" class="btn btn-lg btn-warning top-buffer-1" ng-click="matrix.addTeam()"> <i class="fa fa-plus"></i> {{ \'mno_enterprise.templates.dashboard.teams.index.add_team\' | translate }} </button> </div> </div> </div> </div>  <div ng-show="!isLoading && hasTeams()"> <div class="row"> <div class="col-sm-12"> <span class="text-left text-muted"> <small><em> {{ \'mno_enterprise.templates.dashboard.teams.index.admin_permission_warning\' | translate }} </em></small> </span> </div> </div>    <div class="permission-matrix-wrapper hidden-xs"> <div class="row" ng-show="matrix.errors"> <div class="alert alert-error"> <button class="close" ng-click="matrix.errors=\'\'"></button> <ul> <li ng-repeat="error in matrix.errors">{{error}}</li> </ul> </div> </div> <div class="row">  <div class="col-xs-4 table-left"> <table class="permission-matrix"> <thead> <tr> <th class="th-first"> <button type="button" class="btn btn-warning" ng-click="matrix.addTeam()"> <i class="fa fa-plus"></i> {{ \'mno_enterprise.templates.dashboard.teams.index.add_team_light\' | translate }} </button> </th> <th style="width:6%;">{{ \'mno_enterprise.templates.dashboard.teams.index.all\' | translate }}</th> </tr> </thead> <tbody> <tr ng-repeat="team in teams"> <td class="td-first team-name"> <div class="editable-instructions"> <span editable-text="team.name" onaftersave="matrix.updateTeamName(team)" buttons="no">{{ team.name }}</span> </div> <span class="team-remove"> <button class="btn btn-warning" ng-click="matrix.removeTeam(team)"> <i class="fa fa-remove hidden-xs"></i> </button> </span> </td> <td> <input type="checkbox" ng-checked="matrix.hasAccess(team,\'all\')" ng-click="matrix.toggleAccess(team,\'all\')"> </td> </tr> <tr class="btn-group-row" ng-show="matrix.isChanged()"> <td class="text-center" colspan="2"> <div ng-show="matrix.isChanged() && !matrix.isLoading"> <button type="button" class="btn btn-default" ng-click="matrix.cancel()">Cancel</button> <button type="button" class="btn btn-warning" ng-click="matrix.save()">Save</button> </div>  <mno-loader ng-show="matrix.isLoading"></mno-loader> </td> </tr> </tbody> </table> </div>  <div class="col-xs-8 table-right"> <div class="text-center" ng-show="!hasApps()"> <p class="top-buffer-3">{{ \'mno_enterprise.templates.dashboard.teams.index.no_apps_warning\' | translate }}</p> <a type="button" class="btn btn-warning" ui-sref="home.marketplace"> <i class="fa fa-plus"></i> {{ \'mno_enterprise.templates.dashboard.teams.index.add_app\' | translate }} </a> </div> <table class="permission-matrix" ng-show="hasApps()"> <thead> <tr> <th ng-repeat="appInstance in appInstances"> <div class="th-content"> <img class="media-object" ng-src="{{appInstance.logo}}" ng-alt="{{appInstance.name}}"> {{ appInstance.name | truncate: 13}} </div> </th> <th></th> </tr> </thead> <tbody> <tr ng-repeat="team in teams"> <td ng-repeat="appInstance in appInstances"> <input type="checkbox" ng-checked="matrix.hasAccess(team,appInstance)" ng-click="matrix.toggleAccess(team,appInstance)"> </td> <td></td> </tr> </tbody>  </table> </div>  </div> <div class="clearfix"></div>  </div>    <div dashboard-organization-team-list=""></div>  </div> </div> '),e.put("app/views/marketplace/modals/choose-orga-modal.html",'  <div class="modal-header"> <div class="close" type="button" ng-click="closeChooseOrgaModal()"></div> <h3 ng-if="hasAuthorizedOrganizations">{{\'mno_enterprise.templates.dashboard.marketplace.app_selection.select_orga\' | translate}}</h3> <h3 ng-if="!hasAuthorizedOrganizations">{{\'mno_enterprise.templates.dashboard.marketplace.app_selection.no_orga_authorized\' | translate}}</h3> </div>  <div class="modal-body"> <div class="row" ng-hide="isLoading"> <div class="main-area"> <div ng-if="!hasAuthorizedOrganizations"> <div class="text-center"> <p>{{\'mno_enterprise.templates.dashboard.marketplace.app_selection.unauthorized_to_add_app\' | translate}}</p> </div> </div> <div ng-if="hasAuthorizedOrganizations"> <div class="col-md-12"> <p class="text-center" ng-hide="current_organization.isUserAuthorized"> {{ \'mno_enterprise.templates.dashboard.marketplace.app_selection.unauthorized_to_add_app\' | translate }} </p> </div> <div class="col-md-12"> <form name="selectOrgaForm" novalidate="" class="form form-horizontal align-center"> <div class="col-md-6 col-md-offset-3"> <div class="form-group"> <select ng-model="current_organization.id" ng-change="updateUserAuthorization()" ng-options="org.id as org.name for (key, org) in authorized_organizations track by org.id" class="form-control" style="min-width:176px;"></select> </div> </div> </form> </div> </div> </div> </div> </div>  <div class="modal-footer"> <div class="row"> <div class="col-md-12"> <button ng-if="hasAuthorizedOrganizations" ng-click="addApplication()" class="btn btn-warning arrow" ng-disabled="!current_organization.isUserAuthorized || isLoading"> <span ng-show="isLoading"><i class="fa fa-spinner fa-pulse"></i>&nbsp;</span> {{ \'mno_enterprise.templates.dashboard.marketplace.app_selection.next\' | translate}} </button> <button ng-click="closeChooseOrgaModal()" class="btn btn-default"> {{ \'mno_enterprise.templates.dashboard.marketplace.app_selection.cancel\' | translate}} </button> </div> </div> </div> '),
e.put("app/views/marketplace/modals/create-answer-modal.html",'<form id="create-review-modal" name="form" novalidate=""> <div class="modal-header"> <div class="close" type="button" ng-click="vm.modal.cancel()"></div> <h3>{{\'mno_enterprise.templates.dashboard.marketplace.show.question_title\' | translate}}</h3> <p> {{ vm.questionText }} </p> </div>  <div class="modal-body"> <textarea class="form-control" rows="5" ng-trim="false" maxlength="{{vm.commentMaxLenght}}" ng-model="vm.modal.model.description" placeholder="{{ \'mno_enterprise.templates.dashboard.marketplace.show.answer_placeholder\' | translate}}" id="comment"></textarea> </div> <div class="modal-footer"> <div class="row"> <div class="col-sm-12"> <span>{{vm.commentMaxLenght - vm.modal.model.description.length}}</span> <button class="btn btn-default" ng-click="vm.modal.cancel()" ng-show="!vm.modal.isLoading">{{ \'mno_enterprise.templates.dashboard.marketplace.show.cancel\' | translate}}</button> <button class="btn btn-info" ng-click="vm.modal.proceed()" ng-disabled="vm.modal.isLoading || form.$invalid"> <span ng-show="vm.modal.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span> {{ \'mno_enterprise.templates.dashboard.marketplace.show.submit\' | translate}} </button> </div> </div> </div> </form> '),e.put("app/views/marketplace/modals/create-comment-modal.html",'<form id="create-review-modal" name="form" novalidate=""> <div class="modal-header"> <div class="close" type="button" ng-click="vm.modal.cancel()"></div> <h3>{{\'mno_enterprise.templates.dashboard.marketplace.show.comment_title\' | translate}}</h3> </div>  <div class="modal-body"> <textarea class="form-control" rows="5" ng-trim="false" maxlength="{{vm.commentMaxLenght}}" ng-model="vm.modal.model.description" placeholder="{{ \'mno_enterprise.templates.dashboard.marketplace.show.comment_placeholder\' | translate}}" id="comment"></textarea> </div> <div class="modal-footer"> <div class="row"> <div class="col-sm-12"> <span>{{vm.commentMaxLenght - vm.modal.model.description.length}}</span> <button class="btn btn-default" ng-click="vm.modal.cancel()" ng-show="!vm.modal.isLoading">{{ \'mno_enterprise.templates.dashboard.marketplace.show.cancel\' | translate}}</button> <button class="btn btn-info" ng-click="vm.modal.proceed()" ng-disabled="vm.modal.isLoading || form.$invalid"> <span ng-show="vm.modal.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span> {{ \'mno_enterprise.templates.dashboard.marketplace.show.submit\' | translate}} </button> </div> </div> </div> </form> '),e.put("app/views/marketplace/modals/create-question-modal.html",'<form id="create-review-modal" name="form" novalidate=""> <div class="modal-header"> <div class="close" type="button" ng-click="vm.modal.cancel()"></div> <h3>{{\'mno_enterprise.templates.dashboard.marketplace.show.question_title\' | translate}}</h3> </div>  <div class="modal-body"> <textarea class="form-control" rows="5" ng-trim="false" maxlength="{{vm.commentMaxLenght}}" ng-model="vm.modal.model.description" placeholder="{{ \'mno_enterprise.templates.dashboard.marketplace.show.question_ask_placeholder\' | translate}}" id="comment"></textarea> </div> <div class="modal-footer"> <div class="row"> <div class="col-sm-12"> <span>{{vm.commentMaxLenght - vm.modal.model.description.length}}</span> <button class="btn btn-default" ng-click="vm.modal.cancel()" ng-show="!vm.modal.isLoading">{{ \'mno_enterprise.templates.dashboard.marketplace.show.cancel\' | translate}}</button> <button class="btn btn-info" ng-click="vm.modal.proceed()" ng-disabled="vm.modal.isLoading || form.$invalid"> <span ng-show="vm.modal.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span> {{ \'mno_enterprise.templates.dashboard.marketplace.show.submit\' | translate}} </button> </div> </div> </div> </form> '),e.put("app/views/marketplace/modals/create-review-modal.html",'<form id="create-review-modal" name="form" novalidate=""> <div class="modal-header"> <div class="close" type="button" ng-click="vm.modal.cancel()"></div> <h3>{{\'mno_enterprise.templates.dashboard.marketplace.show.review_title\' | translate}}</h3> </div>  <div class="modal-body"> <div> <star-rating ng-model="vm.appRating"></star-rating><br> </div> <textarea class="form-control" rows="5" ng-trim="false" maxlength="{{vm.commentMaxLenght}}" ng-model="vm.modal.model.description" placeholder="{{ \'mno_enterprise.templates.dashboard.marketplace.show.tell_others\' | translate}}" id="comment"></textarea> </div> <div class="modal-footer"> <div class="row"> <div class="col-sm-12"> <span>{{vm.commentMaxLenght - vm.modal.model.description.length}}</span> <button class="btn btn-default" ng-click="vm.modal.cancel()" ng-show="!vm.modal.isLoading">{{ \'mno_enterprise.templates.dashboard.marketplace.show.cancel\' | translate}}</button> <button class="btn btn-info" ng-click="vm.modal.proceed()" ng-disabled="vm.modal.isLoading || vm.appRating === 0 || form.$invalid"> <span ng-show="vm.modal.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span> {{ \'mno_enterprise.templates.dashboard.marketplace.show.submit\' | translate}} </button> </div> </div> </div> </form> '),e.put("app/views/marketplace/modals/edit-modal.html",'<form id="create-review-modal" name="form" novalidate=""> <div class="modal-header"> <div class="close" type="button" ng-click="vm.modal.cancel()"></div> <h3>{{vm.modal.model.title | translate}}</h3> </div>  <div class="modal-body"> <textarea class="form-control" rows="5" ng-trim="false" maxlength="{{vm.commentMaxLenght}}" ng-model="vm.modal.model.description" placeholder="{{vm.modal.model.placeholder | translate}}" id="comment"></textarea> </div> <div class="modal-footer"> <div class="row"> <div class="col-sm-12"> <span>{{vm.commentMaxLenght - vm.modal.model.description.length}}</span> <button class="btn btn-default" ng-click="vm.modal.cancel()" ng-show="!vm.modal.isLoading">{{ \'mno_enterprise.templates.dashboard.marketplace.show.cancel\' | translate}}</button> <button class="btn btn-info" ng-click="vm.modal.proceed()" ng-disabled="vm.modal.isLoading || form.$invalid"> <span ng-show="vm.modal.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span> {{ \'mno_enterprise.templates.dashboard.marketplace.show.submit\' | translate}} </button> </div> </div> </div> </form> '),e.put("app/views/marketplace/modals/edit-review-modal.html",'<form id="create-review-modal" name="form" novalidate=""> <div class="modal-header"> <div class="close" type="button" ng-click="vm.modal.cancel()"></div> <h3>{{\'mno_enterprise.templates.dashboard.marketplace.show.edit_review\' | translate}}</h3> </div>  <div class="modal-body"> <div> <star-rating ng-model="vm.appRating"></star-rating><br> </div> <textarea class="form-control" rows="5" ng-trim="false" maxlength="{{vm.commentMaxLenght}}" ng-model="vm.modal.model.description" placeholder="{{ \'mno_enterprise.templates.dashboard.marketplace.show.tell_others\' | translate}}" id="comment"></textarea> </div> <div class="modal-footer"> <div class="row"> <div class="col-sm-12"> <span>{{vm.commentMaxLenght - vm.modal.model.description.length}}</span> <button class="btn btn-default" ng-click="vm.modal.cancel()" ng-show="!vm.modal.isLoading">{{ \'mno_enterprise.templates.dashboard.marketplace.show.cancel\' | translate}}</button> <button class="btn btn-info" ng-click="vm.modal.proceed()" ng-disabled="vm.modal.isLoading || vm.appRating === 0 || form.$invalid"> <span ng-show="vm.modal.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span> {{ \'mno_enterprise.templates.dashboard.marketplace.show.submit\' | translate}} </button> </div> </div> </div> </form> '),e.put("app/views/marketplace/modals/review-history-modal.html",'<div class="modal-header"> <div class="close" type="button" ng-click="vm.closeModal ()"></div> <h3>{{\'mno_enterprise.templates.dashboard.marketplace.show.modals.history.title\' | translate}}</h3> </div> <div class="modal-body" id="modal-body"> <span ng-show="vm.isLoading"><i class="fa fa-refresh fa-spin fa-3x fa-fw"></i></span> <ul ng-hide="vm.isLoading"> <li ng-repeat="version in vm.versions | filter: {event: \'update\'}"> <em>{{version.created_at | date: "dd/MM/yyyy" }}:</em> {{version.description}} </li> <li> <em>{{vm.review.updated_at | date: "dd/MM/yyyy" }}:</em> {{vm.review.description}} </li> </ul> </div> <div class="modal-footer"> <button class="btn btn-primary" type="button" ng-click="vm.closeModal()">{{\'mno_enterprise.templates.dashboard.marketplace.show.modals.history.close\' | translate}}</button> </div> '),e.put("app/views/onboarding/modals/app-infos.html",'<div id="app-info"> <div class="close" type="button" aria-label="Close" ng-click="vm.close()"></div> <div class="modal-header"> <div class="media"> <img class="media-object pull-left" ng-src="{{vm.app.logo}}" alt="{{vm.app.name}}"> <div class="media-body"> <h2 class="media-heading">{{vm.app.name}}</h2> <mno-app-features app="vm.app"></mno-app-features> </div> </div> </div> <div class="modal-body"> <h4 translate="" translate-value-name="{{vm.app.name}}">mno_enterprise.templates.onboarding.app_infos_modal.what_is</h4> <div class="well top-buffer-1" ng-bind-html="vm.app.description"></div> <h4 translate="" translate-value-name="{{vm.app.name}}">mno_enterprise.templates.onboarding.app_infos_modal.how_is_app_integrated.title</h4> <div class="well top-buffer-1" translate="mno_enterprise.templates.onboarding.app_infos_modal.how_is_app_integrated.{{vm.app.stack}}" translate-value-name="{{vm.app.name}}"></div> <h4 translate="" translate-value-name="{{vm.app.name}}">mno_enterprise.templates.onboarding.app_infos_modal.what_is_shared</h4> <div class="well top-buffer-1"> <ul> <li ng-repeat="k in vm.app.key_workflows" ng-bind-html="k"></li> </ul> </div> <div class="col-lg-4"> <div ng-show="!!vm.app.free_trial_duration" translate="" translate-value-duration="{{vm.app.free_trial_duration}}"> mno_enterprise.templates.onboarding.app_infos_modal.free_trial </div> </div> </div> </div> '),e.put("app/views/company/members/modals/edition-modal.html",' <div class="modal-header"> <div class="close" ng-click="editionModal.close()" type="button"></div> <h4 ng-show="editionModal.member.name && editionModal.member.surname" translate="mno_enterprise.templates.dashboard.organization.members.invite_modal.title_name" translate-value-name="{{ editionModal.member.name }}" translate-value-surname="{{ editionModal.member.surname }}"></h4> <h4 ng-show="!editionModal.member.name && !editionModal.member.surname" translate="mno_enterprise.templates.dashboard.organization.members.invite_modal.title_email" translate-value-email="{{ editionModal.member.email }}"></h4> </div>  <div class="modal-body"> <div class="alert alert-error" ng-show="editionModal.errors"> <button class="close" ng-click="editionModal.errors=\'\'"></button> <ul> <li ng-repeat="error in editionModal.errors">{{error}}</li> </ul> </div> <div class="row role-management"> <div class="col-sm-12"> <div ng-switch="" on="editionModal.selectedRole"> <div ng-switch-when="Member"> <i class="fa fa-cloud fa-4x"></i> <br><br> <p>{{ \'mno_enterprise.templates.dashboard.organization.members.edition_modal.roles.member\' | translate }}</p> </div> <div ng-switch-when="Admin"> <i class="fa fa-cloud fa-4x"></i> <i class="fa fa-power-off fa-4x"></i> <i class="fa fa-users fa-4x"></i> <br><br> <p>{{ \'mno_enterprise.templates.dashboard.organization.members.edition_modal.roles.admin\' | translate }}</p> </div> <div ng-switch-when="Super Admin"> <i class="fa fa-cloud fa-4x"></i> <i class="fa fa-power-off fa-4x"></i> <i class="fa fa-users fa-4x"></i> <i class="fa fa-cc-mastercard fa-4x"></i> <br><br> <p>{{ \'mno_enterprise.templates.dashboard.organization.members.edition_modal.roles.super_admin\' | translate }}</p> </div> </div> <div class="btn-group"> <button class="btn btn-default" ng-class="editionModal.classForRole(role)" ng-click="editionModal.select(role)" ng-repeat="role in editionModal.config.roles" type="button"> {{role}} </button> </div>  </div>  </div>  </div>  <div class="modal-footer"> <div class="row"> <div class="col-sm-12"> <button class="btn btn-default" ng-click="editionModal.close()" ng-show="!editionModal.isLoading"> {{ \'mno_enterprise.templates.dashboard.organization.members.edition_modal.cancel\' | translate }} </button> <button class="btn btn-warning" ng-click="editionModal.change()" ng-disabled="editionModal.isChangeDisabled() || editionModal.isLoading"> <span ng-show="editionModal.isLoading"> <i class="fa fa-spinner fa-pulse fa-fw"></i> </span> {{ \'mno_enterprise.templates.dashboard.organization.members.edition_modal.change\' | translate }} </button> </div> </div> </div> '),e.put("app/views/company/members/modals/invite-modal.html",'<div id="invite-members-modal">  <div class="modal-header"> <div class="close" type="button" ng-click="inviteModal.close()"></div> <h3 ng-show="inviteModal.step === \'enterEmails\'" translate="">mno_enterprise.templates.dashboard.organization.members.invite_modal.title_enter_emails</h3> <h3 ng-show="inviteModal.step !== \'enterEmails\'" translate="">mno_enterprise.templates.dashboard.organization.members.invite_modal.title_select_roles</h3> </div>  <div class="modal-body" ng-switch="" on="inviteModal.step">  <div ng-switch-when="enterEmails" class="text-center"> <div class="alert alert-error" ng-show="inviteModal.invalidEmails.length > 0"> <ng-pluralize count="inviteModal.invalidEmails.length" when="{\'one\': \'The following email address is invalid: \', \'other\': \'The following email addresses are invalid: \'}"></ng-pluralize> \'{{inviteModal.invalidEmails.join("\', \'")}}\' </div> <div class="row"> <div class="col-sm-12"> <p>{{ \'mno_enterprise.templates.dashboard.organization.members.invite_modal.description\' | translate }}</p> <p> {{ \'mno_enterprise.templates.dashboard.organization.members.invite_modal.example\' | translate }} <br> user1@company.com<br> user2@company.com </p> </div> </div> <div class="row"> <div class="col-sm-6 col-sm-offset-3"> <textarea class="form-control" rows="3" style="color:black;background-color:white;" ng-model="inviteModal.userEmails" required=""></textarea> </div> </div> <div class="row"> <div class="col-sm-12"> <p>{{ \'mno_enterprise.templates.dashboard.organization.members.invite_modal.disclaimer\' | translate }}</p> </div> </div> </div>  <div ng-switch-when="defineRoles"> <div class="row text-center"> <div class="col-sm-12"> <ul class="roles-list"> <li translate="">mno_enterprise.templates.dashboard.organization.members.invite_modal.roles_info.member</li> <li translate="">mno_enterprise.templates.dashboard.organization.members.invite_modal.roles_info.admin</li> <li translate="">mno_enterprise.templates.dashboard.organization.members.invite_modal.roles_info.super_admin</li> </ul> </div> </div> <div class="row"> <div class="col-sm-12"> <div class="table-cell inverse"> <div class="row th-row hidden-xs"> <div class="cell col-sm-4">{{ \'mno_enterprise.templates.dashboard.organization.members.email\' | translate }}</div> <div class="cell col-sm-4">{{ \'mno_enterprise.templates.dashboard.organization.members.role\' | translate }}</div> <div class="cell col-sm-4" ng-show="inviteModal.isTeamListShown()">{{ \'mno_enterprise.templates.dashboard.organization.members.team\' | translate }}</div> </div> <div class="row td-row" ng-repeat="member in inviteModal.members"> <div class="cell col-sm-4"> <span class="cell-label visible-xs-inline"> {{ \'mno_enterprise.templates.dashboard.organization.members.email\' | translate }}: <br> </span> {{ member.email }} </div> <div class="cell col-sm-4"> <span class="cell-label visible-xs-inline">{{ \'mno_enterprise.templates.dashboard.organization.members.role\' | translate }}:</span> <select ng-model="member.role" ng-options="role for role in inviteModal.roleList" class="form-control"></select> </div> <div class="cell col-sm-4" ng-show="inviteModal.isTeamListShown()"> <span class="cell-label visible-xs-inline"> {{ \'mno_enterprise.templates.dashboard.organization.members.team\' | translate }}: </span> <select ng-model="member.team_id" ng-options="team.id as team.name for team in inviteModal.teamList" class="form-control"> <option value="" selected=""> {{ \'mno_enterprise.templates.dashboard.organization.members.team_select\' | translate }} </option> </select> </div> </div> </div> </div> </div> </div>  </div>  <div class="modal-footer"> <div class="row"> <div class="col-md-12"> <button class="btn btn-default" ng-click="inviteModal.close()" ng-show="!inviteModal.isLoading"> {{ \'mno_enterprise.templates.dashboard.organization.members.invite_modal.cancel\' | translate }} </button> <button class="btn btn-warning" ng-disabled="!inviteModal.isNextEnabled() || inviteModal.isLoading" ng-click="inviteModal.next()"> <span ng-show="inviteModal.isLoading"> <i class="fa fa-spinner fa-pulse fa-fw"></i> </span> <span ng-show="inviteModal.labelForAction() === \'Next\'"> {{ \'mno_enterprise.templates.dashboard.organization.members.invite_modal.next\' | translate }} </span> <span ng-show="inviteModal.labelForAction() === \'Invite\'"> {{ \'mno_enterprise.templates.dashboard.organization.members.invite_modal.invite\' | translate }} </span> </button> </div> </div> </div> </div> '),e.put("app/views/company/members/modals/removal-modal.html",'<div class="modal-header"> <div class="close" type="button" ng-click="deletionModal.close()"></div> <h3>{{ \'mno_enterprise.templates.dashboard.organization.members.removal_modal.title\' | translate }}</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <div class="alert alert-error" ng-show="deletionModal.errors"> <button class="close" ng-click="deletionModal.errors=\'\'"></button> <ul> <li ng-repeat="error in deletionModal.errors">{{error}}</li> </ul> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <p ng-if="deletionModal.hasName()" class="align-center" translate="mno_enterprise.templates.dashboard.organization.members.removal_modal.body_name" translate-value-name="{{ deletionModal.member.name }}" translate-value-surname="{{ deletionModal.member.surname }}"> </p> <p ng-if="!deletionModal.hasName()" class="align-center" translate="mno_enterprise.templates.dashboard.organization.members.removal_modal.body_email" translate-value-email="{{ deletionModal.member.email }}"> </p> </div> </div> </div> <div class="modal-footer"> <div class="row"> <div class="col-sm-12"> <button class="btn btn-default" ng-click="deletionModal.close()" ng-show="!deletionModal.isLoading"> {{ \'mno_enterprise.templates.dashboard.organization.members.removal_modal.cancel\' | translate }} </button> <button class="btn btn-danger" ng-click="deletionModal.remove()" ng-disabled="deletionModal.isLoading"> <span ng-show="deletionModal.isLoading"> <i class="fa fa-spinner fa-pulse fa-fw"></i> </span> {{ \'mno_enterprise.templates.dashboard.organization.members.removal_modal.remove\' | translate }} </button> </div> </div> </div> '),e.put("app/views/company/team-list/modals/member-add-modal.html",'<div class="modal-header"> <div class="close" type="button" ng-click="memberAddModal.close()"></div> <h3>{{ \'mno_enterprise.templates.dashboard.teams.member_add_modal.title\' | translate }}</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <div class="alert alert-error" ng-show="memberAddModal.errors"> <button class="close" ng-click="memberAddModal.errors=\'\'"></button> <ul> <li ng-repeat="error in memberAddModal.errors">{{error}}</li> </ul> </div> </div> </div> <div class="row" ng-show="!memberAddModal.canAddUsers()"> <div class="col-sm-6 col-sm-offset-3 text-center"> <p>{{ \'mno_enterprise.templates.dashboard.teams.member_add_modal.all_belong_to_team_warning\' | translate }}</p> </div> </div> <div class="row" ng-show="memberAddModal.canAddUsers()"> <div class="col-sm-6 col-sm-offset-3 text-center"> <p>{{ \'mno_enterprise.templates.dashboard.teams.member_add_modal.select_company_members\' | translate }}</p>  <table> <tbody> <tr ng-repeat="user in memberAddModal.userList"> <td> <input type="checkbox" ng-checked="memberAddModal.hasUser(user)" ng-click="memberAddModal.toggleUser(user)"> </td> <td> <span>{{user.name}} {{user.surname}}</span> <span class="hidden-xs"><small><em>({{ user.email }})</em></small></span> </td> </tr> </tbody> </table> </div> </div> </div> <div class="modal-footer"> <div class="row"> <div class="col-sm-12"> <button class="btn btn-default" ng-click="memberAddModal.close()" ng-show="!memberAddModal.isLoading">{{ \'mno_enterprise.templates.dashboard.teams.member_add_modal.cancel\' | translate }}</button> <button class="btn btn-warning" ng-if="memberAddModal.canAddUsers()" ng-click="memberAddModal.proceed()" ng-disabled="memberAddModal.isLoading"> <span ng-show="memberAddModal.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span> {{ \'mno_enterprise.templates.dashboard.teams.member_add_modal.add\' | translate }} </button> </div> </div> </div> '),e.put("app/views/company/team-list/modals/member-removal-modal.html",'<div class="modal-header"> <div class="close" type="button" ng-click="memberRemovalModal.close()"></div> <h3>{{ \'mno_enterprise.templates.dashboard.teams.member_removal_modal.title\' | translate }}</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <div class="alert alert-error" ng-show="memberRemovalModal.errors"> <button class="close" ng-click="memberRemovalModal.errors=\'\'"></button> <ul> <li ng-repeat="error in memberRemovalModal.errors">{{error}}</li> </ul> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <p class="align-center" ng-show="memberRemovalModal.user.name && memberRemovalModal.user.surname" translate="mno_enterprise.templates.dashboard.teams.member_removal_modal.confirmation" translate-value-fullname="{{memberRemovalModal.user.name}} {{memberRemovalModal.user.surname}}" translate-value-teamname="{{memberRemovalModal.team.name}}"></p> <p class="align-center" ng-show="!memberRemovalModal.user.name && !memberRemovalModal.user.surname" translate="mno_enterprise.templates.dashboard.teams.member_removal_modal.confirmation" translate-value-fullname="{{memberRemovalModal.user.email}}" translate-value-teamname="{{memberRemovalModal.team.name}}"></p> </div> </div> </div> <div class="modal-footer"> <div class="row"> <div class="col-sm-12"> <button class="btn btn-default" ng-click="memberRemovalModal.close()" ng-show="!memberRemovalModal.isLoading">{{ \'mno_enterprise.templates.dashboard.teams.member_removal_modal.cancel\' | translate }}</button> <button class="btn btn-danger" ng-click="memberRemovalModal.proceed()" ng-disabled="memberRemovalModal.isLoading"> <span ng-show="memberRemovalModal.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span> {{ \'mno_enterprise.templates.dashboard.teams.member_removal_modal.remove\' | translate }} </button> </div> </div> </div> '),e.put("app/views/company/teams/modals/team-add-modal.html",'<div class="modal-header"> <div class="close" type="button" ng-click="addTeamModal.close()"></div> <h3>{{ \'mno_enterprise.templates.dashboard.teams.team_add_modal.title\' | translate }}</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <div class="alert alert-error" ng-show="addTeamModal.errors"> <button class="close" ng-click="addTeamModal.errors=\'\'"></button> <ul> <li ng-repeat="error in addTeamModal.errors">{{error}}</li> </ul> </div> </div> </div> <div class="row"> <div class="col-sm-6 col-sm-offset-3 text-center"> <p>{{ \'mno_enterprise.templates.dashboard.teams.team_add_modal.enter_team_name\' | translate }}</p> <input type="text" class="form-control" ng-model="addTeamModal.model.name" required=""> </div> </div> </div> <div class="modal-footer"> <div class="row"> <div class="col-sm-12"> <button class="btn btn-default" ng-click="addTeamModal.close()" ng-show="!addTeamModal.isLoading"> {{ \'mno_enterprise.templates.dashboard.teams.team_add_modal.cancel\' | translate }} </button> <button class="btn btn-info" ng-click="addTeamModal.proceed()" ng-disabled="addTeamModal.isProceedDisabled() || addTeamModal.isLoading"> <span ng-show="addTeamModal.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span> {{ \'mno_enterprise.templates.dashboard.teams.team_add_modal.create\' | translate }} </button> </div> </div> </div> '),e.put("app/views/company/teams/modals/team-delete-modal.html",'<div class="modal-header"> <div class="close" type="button" ng-click="teamDeletionModal.close()"></div> <h3>{{ \'mno_enterprise.templates.dashboard.teams.team_delete_modal.title\' | translate }}</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <div class="alert alert-error" ng-show="teamDeletionModal.errors"> <button class="close" ng-click="teamDeletionModal.errors=\'\'"></button> <ul> <li ng-repeat="error in teamDeletionModal.errors">{{error}}</li> </ul> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <p class="align-center" translate="mno_enterprise.templates.dashboard.teams.team_delete_modal.confirmation" translate-value-teamname="{{teamDeletionModal.team.name}}"> </p></div> </div> </div> <div class="modal-footer"> <div class="row"> <div class="col-sm-12"> <button class="btn btn-default" ng-click="teamDeletionModal.close()" ng-show="!teamDeletionModal.isLoading"> {{ \'mno_enterprise.templates.dashboard.teams.team_delete_modal.cancel\' | translate }} </button> <button class="btn btn-danger" ng-click="teamDeletionModal.proceed()" ng-disabled="teamDeletionModal.isLoading"> <span ng-show="teamDeletionModal.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span> {{ \'mno_enterprise.templates.dashboard.teams.team_delete_modal.remove\' | translate }} </button> </div> </div> </div> ')}]);